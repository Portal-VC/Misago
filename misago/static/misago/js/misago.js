(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if (typeof module !== 'undefined' && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {
		// register as 'classnames', consistent with npm package name
		define('classnames', [], function () {
			return classNames;
		});
	} else {
		window.classNames = classNames;
	}
}());

},{}],2:[function(require,module,exports){
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.marked = factory());
}(this, (function () { 'use strict';

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _createForOfIteratorHelperLoose(o) {
    var i = 0;

    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }

    i = o[Symbol.iterator]();
    return i.next.bind(i);
  }

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var defaults = createCommonjsModule(function (module) {
    function getDefaults() {
      return {
        baseUrl: null,
        breaks: false,
        gfm: true,
        headerIds: true,
        headerPrefix: '',
        highlight: null,
        langPrefix: 'language-',
        mangle: true,
        pedantic: false,
        renderer: null,
        sanitize: false,
        sanitizer: null,
        silent: false,
        smartLists: false,
        smartypants: false,
        tokenizer: null,
        walkTokens: null,
        xhtml: false
      };
    }

    function changeDefaults(newDefaults) {
      module.exports.defaults = newDefaults;
    }

    module.exports = {
      defaults: getDefaults(),
      getDefaults: getDefaults,
      changeDefaults: changeDefaults
    };
  });
  var defaults_1 = defaults.defaults;
  var defaults_2 = defaults.getDefaults;
  var defaults_3 = defaults.changeDefaults;

  /**
   * Helpers
   */
  var escapeTest = /[&<>"']/;
  var escapeReplace = /[&<>"']/g;
  var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
  var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
  var escapeReplacements = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;'
  };

  var getEscapeReplacement = function getEscapeReplacement(ch) {
    return escapeReplacements[ch];
  };

  function escape(html, encode) {
    if (encode) {
      if (escapeTest.test(html)) {
        return html.replace(escapeReplace, getEscapeReplacement);
      }
    } else {
      if (escapeTestNoEncode.test(html)) {
        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
      }
    }

    return html;
  }

  var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;

  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(unescapeTest, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';

      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }

      return '';
    });
  }

  var caret = /(^|[^\[])\^/g;

  function edit(regex, opt) {
    regex = regex.source || regex;
    opt = opt || '';
    var obj = {
      replace: function replace(name, val) {
        val = val.source || val;
        val = val.replace(caret, '$1');
        regex = regex.replace(name, val);
        return obj;
      },
      getRegex: function getRegex() {
        return new RegExp(regex, opt);
      }
    };
    return obj;
  }

  var nonWordAndColonTest = /[^\w:]/g;
  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;

  function cleanUrl(sanitize, base, href) {
    if (sanitize) {
      var prot;

      try {
        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();
      } catch (e) {
        return null;
      }

      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
        return null;
      }
    }

    if (base && !originIndependentUrl.test(href)) {
      href = resolveUrl(base, href);
    }

    try {
      href = encodeURI(href).replace(/%25/g, '%');
    } catch (e) {
      return null;
    }

    return href;
  }

  var baseUrls = {};
  var justDomain = /^[^:]+:\/*[^/]*$/;
  var protocol = /^([^:]+:)[\s\S]*$/;
  var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;

  function resolveUrl(base, href) {
    if (!baseUrls[' ' + base]) {
      // we can ignore everything in base after the last slash of its path component,
      // but we might need to add _that_
      // https://tools.ietf.org/html/rfc3986#section-3
      if (justDomain.test(base)) {
        baseUrls[' ' + base] = base + '/';
      } else {
        baseUrls[' ' + base] = rtrim(base, '/', true);
      }
    }

    base = baseUrls[' ' + base];
    var relativeBase = base.indexOf(':') === -1;

    if (href.substring(0, 2) === '//') {
      if (relativeBase) {
        return href;
      }

      return base.replace(protocol, '$1') + href;
    } else if (href.charAt(0) === '/') {
      if (relativeBase) {
        return href;
      }

      return base.replace(domain, '$1') + href;
    } else {
      return base + href;
    }
  }

  var noopTest = {
    exec: function noopTest() {}
  };

  function merge(obj) {
    var i = 1,
        target,
        key;

    for (; i < arguments.length; i++) {
      target = arguments[i];

      for (key in target) {
        if (Object.prototype.hasOwnProperty.call(target, key)) {
          obj[key] = target[key];
        }
      }
    }

    return obj;
  }

  function splitCells(tableRow, count) {
    // ensure that every cell-delimiting pipe has a space
    // before it to distinguish it from an escaped pipe
    var row = tableRow.replace(/\|/g, function (match, offset, str) {
      var escaped = false,
          curr = offset;

      while (--curr >= 0 && str[curr] === '\\') {
        escaped = !escaped;
      }

      if (escaped) {
        // odd number of slashes means | is escaped
        // so we leave it alone
        return '|';
      } else {
        // add space before unescaped |
        return ' |';
      }
    }),
        cells = row.split(/ \|/);
    var i = 0;

    if (cells.length > count) {
      cells.splice(count);
    } else {
      while (cells.length < count) {
        cells.push('');
      }
    }

    for (; i < cells.length; i++) {
      // leading or trailing whitespace is ignored per the gfm spec
      cells[i] = cells[i].trim().replace(/\\\|/g, '|');
    }

    return cells;
  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
  // /c*$/ is vulnerable to REDOS.
  // invert: Remove suffix of non-c chars instead. Default falsey.


  function rtrim(str, c, invert) {
    var l = str.length;

    if (l === 0) {
      return '';
    } // Length of suffix matching the invert condition.


    var suffLen = 0; // Step left until we fail to match the invert condition.

    while (suffLen < l) {
      var currChar = str.charAt(l - suffLen - 1);

      if (currChar === c && !invert) {
        suffLen++;
      } else if (currChar !== c && invert) {
        suffLen++;
      } else {
        break;
      }
    }

    return str.substr(0, l - suffLen);
  }

  function findClosingBracket(str, b) {
    if (str.indexOf(b[1]) === -1) {
      return -1;
    }

    var l = str.length;
    var level = 0,
        i = 0;

    for (; i < l; i++) {
      if (str[i] === '\\') {
        i++;
      } else if (str[i] === b[0]) {
        level++;
      } else if (str[i] === b[1]) {
        level--;

        if (level < 0) {
          return i;
        }
      }
    }

    return -1;
  }

  function checkSanitizeDeprecation(opt) {
    if (opt && opt.sanitize && !opt.silent) {
      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
    }
  }

  var helpers = {
    escape: escape,
    unescape: unescape,
    edit: edit,
    cleanUrl: cleanUrl,
    resolveUrl: resolveUrl,
    noopTest: noopTest,
    merge: merge,
    splitCells: splitCells,
    rtrim: rtrim,
    findClosingBracket: findClosingBracket,
    checkSanitizeDeprecation: checkSanitizeDeprecation
  };

  var defaults$1 = defaults.defaults;
  var rtrim$1 = helpers.rtrim,
      splitCells$1 = helpers.splitCells,
      _escape = helpers.escape,
      findClosingBracket$1 = helpers.findClosingBracket;

  function outputLink(cap, link, raw) {
    var href = link.href;
    var title = link.title ? _escape(link.title) : null;

    if (cap[0].charAt(0) !== '!') {
      return {
        type: 'link',
        raw: raw,
        href: href,
        title: title,
        text: cap[1]
      };
    } else {
      return {
        type: 'image',
        raw: raw,
        text: _escape(cap[1]),
        href: href,
        title: title
      };
    }
  }

  function indentCodeCompensation(raw, text) {
    var matchIndentToCode = raw.match(/^(\s+)(?:```)/);

    if (matchIndentToCode === null) {
      return text;
    }

    var indentToCode = matchIndentToCode[1];
    return text.split('\n').map(function (node) {
      var matchIndentInNode = node.match(/^\s+/);

      if (matchIndentInNode === null) {
        return node;
      }

      var indentInNode = matchIndentInNode[0];

      if (indentInNode.length >= indentToCode.length) {
        return node.slice(indentToCode.length);
      }

      return node;
    }).join('\n');
  }
  /**
   * Tokenizer
   */


  var Tokenizer_1 = /*#__PURE__*/function () {
    function Tokenizer(options) {
      this.options = options || defaults$1;
    }

    var _proto = Tokenizer.prototype;

    _proto.space = function space(src) {
      var cap = this.rules.block.newline.exec(src);

      if (cap) {
        if (cap[0].length > 1) {
          return {
            type: 'space',
            raw: cap[0]
          };
        }

        return {
          raw: '\n'
        };
      }
    };

    _proto.code = function code(src, tokens) {
      var cap = this.rules.block.code.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.

        if (lastToken && lastToken.type === 'paragraph') {
          return {
            raw: cap[0],
            text: cap[0].trimRight()
          };
        }

        var text = cap[0].replace(/^ {4}/gm, '');
        return {
          type: 'code',
          raw: cap[0],
          codeBlockStyle: 'indented',
          text: !this.options.pedantic ? rtrim$1(text, '\n') : text
        };
      }
    };

    _proto.fences = function fences(src) {
      var cap = this.rules.block.fences.exec(src);

      if (cap) {
        var raw = cap[0];
        var text = indentCodeCompensation(raw, cap[3] || '');
        return {
          type: 'code',
          raw: raw,
          lang: cap[2] ? cap[2].trim() : cap[2],
          text: text
        };
      }
    };

    _proto.heading = function heading(src) {
      var cap = this.rules.block.heading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[1].length,
          text: cap[2]
        };
      }
    };

    _proto.nptable = function nptable(src) {
      var cap = this.rules.block.nptable.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : [],
          raw: cap[0]
        };

        if (item.header.length === item.align.length) {
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i], item.header.length);
          }

          return item;
        }
      }
    };

    _proto.hr = function hr(src) {
      var cap = this.rules.block.hr.exec(src);

      if (cap) {
        return {
          type: 'hr',
          raw: cap[0]
        };
      }
    };

    _proto.blockquote = function blockquote(src) {
      var cap = this.rules.block.blockquote.exec(src);

      if (cap) {
        var text = cap[0].replace(/^ *> ?/gm, '');
        return {
          type: 'blockquote',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.list = function list(src) {
      var cap = this.rules.block.list.exec(src);

      if (cap) {
        var raw = cap[0];
        var bull = cap[2];
        var isordered = bull.length > 1;
        var list = {
          type: 'list',
          raw: raw,
          ordered: isordered,
          start: isordered ? +bull : '',
          loose: false,
          items: []
        }; // Get each top-level item.

        var itemMatch = cap[0].match(this.rules.block.item);
        var next = false,
            item,
            space,
            b,
            addBack,
            loose,
            istask,
            ischecked;
        var l = itemMatch.length;

        for (var i = 0; i < l; i++) {
          item = itemMatch[i];
          raw = item; // Remove the list item's bullet
          // so it is seen as the next token.

          space = item.length;
          item = item.replace(/^ *([*+-]|\d+\.) */, ''); // Outdent whatever the
          // list item contains. Hacky.

          if (~item.indexOf('\n ')) {
            space -= item.length;
            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
          } // Determine whether the next list item belongs here.
          // Backpedal if it does not belong in this list.


          if (i !== l - 1) {
            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];

            if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {
              addBack = itemMatch.slice(i + 1).join('\n');
              list.raw = list.raw.substring(0, list.raw.length - addBack.length);
              i = l - 1;
            }
          } // Determine whether item is loose or not.
          // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
          // for discount behavior.


          loose = next || /\n\n(?!\s*$)/.test(item);

          if (i !== l - 1) {
            next = item.charAt(item.length - 1) === '\n';
            if (!loose) loose = next;
          }

          if (loose) {
            list.loose = true;
          } // Check for task list items


          istask = /^\[[ xX]\] /.test(item);
          ischecked = undefined;

          if (istask) {
            ischecked = item[1] !== ' ';
            item = item.replace(/^\[[ xX]\] +/, '');
          }

          list.items.push({
            type: 'list_item',
            raw: raw,
            task: istask,
            checked: ischecked,
            loose: loose,
            text: item
          });
        }

        return list;
      }
    };

    _proto.html = function html(src) {
      var cap = this.rules.block.html.exec(src);

      if (cap) {
        return {
          type: this.options.sanitize ? 'paragraph' : 'html',
          raw: cap[0],
          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.def = function def(src) {
      var cap = this.rules.block.def.exec(src);

      if (cap) {
        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
        var tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
        return {
          tag: tag,
          raw: cap[0],
          href: cap[2],
          title: cap[3]
        };
      }
    };

    _proto.table = function table(src) {
      var cap = this.rules.block.table.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
        };

        if (item.header.length === item.align.length) {
          item.raw = cap[0];
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\| *| *\| *$/g, ''), item.header.length);
          }

          return item;
        }
      }
    };

    _proto.lheading = function lheading(src) {
      var cap = this.rules.block.lheading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[2].charAt(0) === '=' ? 1 : 2,
          text: cap[1]
        };
      }
    };

    _proto.paragraph = function paragraph(src) {
      var cap = this.rules.block.paragraph.exec(src);

      if (cap) {
        return {
          type: 'paragraph',
          raw: cap[0],
          text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
        };
      }
    };

    _proto.text = function text(src, tokens) {
      var cap = this.rules.block.text.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1];

        if (lastToken && lastToken.type === 'text') {
          return {
            raw: cap[0],
            text: cap[0]
          };
        }

        return {
          type: 'text',
          raw: cap[0],
          text: cap[0]
        };
      }
    };

    _proto.escape = function escape(src) {
      var cap = this.rules.inline.escape.exec(src);

      if (cap) {
        return {
          type: 'escape',
          raw: cap[0],
          text: _escape(cap[1])
        };
      }
    };

    _proto.tag = function tag(src, inLink, inRawBlock) {
      var cap = this.rules.inline.tag.exec(src);

      if (cap) {
        if (!inLink && /^<a /i.test(cap[0])) {
          inLink = true;
        } else if (inLink && /^<\/a>/i.test(cap[0])) {
          inLink = false;
        }

        if (!inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = true;
        } else if (inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = false;
        }

        return {
          type: this.options.sanitize ? 'text' : 'html',
          raw: cap[0],
          inLink: inLink,
          inRawBlock: inRawBlock,
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.link = function link(src) {
      var cap = this.rules.inline.link.exec(src);

      if (cap) {
        var lastParenIndex = findClosingBracket$1(cap[2], '()');

        if (lastParenIndex > -1) {
          var start = cap[0].indexOf('!') === 0 ? 5 : 4;
          var linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = '';
        }

        var href = cap[2];
        var title = '';

        if (this.options.pedantic) {
          var link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);

          if (link) {
            href = link[1];
            title = link[3];
          } else {
            title = '';
          }
        } else {
          title = cap[3] ? cap[3].slice(1, -1) : '';
        }

        href = href.trim().replace(/^<([\s\S]*)>$/, '$1');
        var token = outputLink(cap, {
          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
          title: title ? title.replace(this.rules.inline._escapes, '$1') : title
        }, cap[0]);
        return token;
      }
    };

    _proto.reflink = function reflink(src, links) {
      var cap;

      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
        var link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
        link = links[link.toLowerCase()];

        if (!link || !link.href) {
          var text = cap[0].charAt(0);
          return {
            type: 'text',
            raw: text,
            text: text
          };
        }

        var token = outputLink(cap, link, cap[0]);
        return token;
      }
    };

    _proto.strong = function strong(src) {
      var cap = this.rules.inline.strong.exec(src);

      if (cap) {
        return {
          type: 'strong',
          raw: cap[0],
          text: cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.em = function em(src) {
      var cap = this.rules.inline.em.exec(src);

      if (cap) {
        return {
          type: 'em',
          raw: cap[0],
          text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.codespan = function codespan(src) {
      var cap = this.rules.inline.code.exec(src);

      if (cap) {
        var text = cap[2].replace(/\n/g, ' ');
        var hasNonSpaceChars = /[^ ]/.test(text);
        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');

        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
          text = text.substring(1, text.length - 1);
        }

        text = _escape(text, true);
        return {
          type: 'codespan',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.br = function br(src) {
      var cap = this.rules.inline.br.exec(src);

      if (cap) {
        return {
          type: 'br',
          raw: cap[0]
        };
      }
    };

    _proto.del = function del(src) {
      var cap = this.rules.inline.del.exec(src);

      if (cap) {
        return {
          type: 'del',
          raw: cap[0],
          text: cap[1]
        };
      }
    };

    _proto.autolink = function autolink(src, mangle) {
      var cap = this.rules.inline.autolink.exec(src);

      if (cap) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
          href = 'mailto:' + text;
        } else {
          text = _escape(cap[1]);
          href = text;
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.url = function url(src, mangle) {
      var cap;

      if (cap = this.rules.inline.url.exec(src)) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
          href = 'mailto:' + text;
        } else {
          // do extended autolink path validation
          var prevCapZero;

          do {
            prevCapZero = cap[0];
            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
          } while (prevCapZero !== cap[0]);

          text = _escape(cap[0]);

          if (cap[1] === 'www.') {
            href = 'http://' + text;
          } else {
            href = text;
          }
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {
      var cap = this.rules.inline.text.exec(src);

      if (cap) {
        var text;

        if (inRawBlock) {
          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];
        } else {
          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
        }

        return {
          type: 'text',
          raw: cap[0],
          text: text
        };
      }
    };

    return Tokenizer;
  }();

  var noopTest$1 = helpers.noopTest,
      edit$1 = helpers.edit,
      merge$1 = helpers.merge;
  /**
   * Block-Level Grammar
   */

  var block = {
    newline: /^\n+/,
    code: /^( {4}[^\n]+\n*)+/,
    fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
    heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
    list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
    html: '^ {0,3}(?:' // optional indentation
    + '<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
    + '|comment[^\\n]*(\\n+|$)' // (2)
    + '|<\\?[\\s\\S]*?\\?>\\n*' // (3)
    + '|<![A-Z][\\s\\S]*?>\\n*' // (4)
    + '|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*' // (5)
    + '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)' // (6)
    + '|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) open tag
    + '|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) closing tag
    + ')',
    def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
    nptable: noopTest$1,
    table: noopTest$1,
    lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
    // regex template, placeholders will be replaced according to different paragraph
    // interruption rules of commonmark and the original markdown spec:
    _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
    text: /^[^\n]+/
  };
  block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
  block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();
  block.bullet = /(?:[*+-]|\d{1,9}\.)/;
  block.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;
  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();
  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block.def.source + ')').getRegex();
  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';
  block._comment = /<!--(?!-?>)[\s\S]*?-->/;
  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
  .getRegex();
  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();
  /**
   * Normal Block Grammar
   */

  block.normal = merge$1({}, block);
  /**
   * GFM Block Grammar
   */

  block.gfm = merge$1({}, block.normal, {
    nptable: '^ *([^|\\n ].*\\|.*)\\n' // Header
    + ' *([-:]+ *\\|[-| :]*)' // Align
    + '(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)',
    // Cells
    table: '^ *\\|(.+)\\n' // Header
    + ' *\\|?( *[-:]+[-| :]*)' // Align
    + '(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)' // Cells

  });
  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  /**
   * Pedantic grammar (original John Gruber's loose markdown specification)
   */

  block.pedantic = merge$1({}, block.normal, {
    html: edit$1('^ *(?:comment *(?:\\n|\\s*$)' + '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
    + '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b').getRegex(),
    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
    heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
    fences: noopTest$1,
    // fences not supported
    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()
  });
  /**
   * Inline-Level Grammar
   */

  var inline = {
    escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
    url: noopTest$1,
    tag: '^comment' + '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
    + '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
    + '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
    + '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
    + '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>',
    // CDATA section
    link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
    reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
    nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
    strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
    em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,
    code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
    br: /^( {2,}|\\)\n(?!\s*$)/,
    del: noopTest$1,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/
  }; // list of punctuation marks from common mark spec
  // without ` and ] to workaround Rule 17 (inline code blocks/links)
  // without , to work around example 393

  inline._punctuation = '!"#$%&\'()*+\\-./:;<=>?@\\[^_{|}~';
  inline.em = edit$1(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();
  inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();
  inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
  inline.tag = edit$1(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();
  inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
  inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
  inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();
  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();
  /**
   * Normal Inline Grammar
   */

  inline.normal = merge$1({}, inline);
  /**
   * Pedantic Inline Grammar
   */

  inline.pedantic = merge$1({}, inline.normal, {
    strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
    link: edit$1(/^!?\[(label)\]\((.*?)\)/).replace('label', inline._label).getRegex(),
    reflink: edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace('label', inline._label).getRegex()
  });
  /**
   * GFM Inline Grammar
   */

  inline.gfm = merge$1({}, inline.normal, {
    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),
    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
    del: /^~+(?=\S)([\s\S]*?\S)~+/,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
  });
  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();
  /**
   * GFM + Line Breaks Inline Grammar
   */

  inline.breaks = merge$1({}, inline.gfm, {
    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),
    text: edit$1(inline.gfm.text).replace('\\b_', '\\b_| {2,}\\n').replace(/\{2,\}/g, '*').getRegex()
  });
  var rules = {
    block: block,
    inline: inline
  };

  var defaults$2 = defaults.defaults;
  var block$1 = rules.block,
      inline$1 = rules.inline;
  /**
   * smartypants text replacement
   */

  function smartypants(text) {
    return text // em-dashes
    .replace(/---/g, "\u2014") // en-dashes
    .replace(/--/g, "\u2013") // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018") // closing singles & apostrophes
    .replace(/'/g, "\u2019") // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C") // closing doubles
    .replace(/"/g, "\u201D") // ellipses
    .replace(/\.{3}/g, "\u2026");
  }
  /**
   * mangle email addresses
   */


  function mangle(text) {
    var out = '',
        i,
        ch;
    var l = text.length;

    for (i = 0; i < l; i++) {
      ch = text.charCodeAt(i);

      if (Math.random() > 0.5) {
        ch = 'x' + ch.toString(16);
      }

      out += '&#' + ch + ';';
    }

    return out;
  }
  /**
   * Block Lexer
   */


  var Lexer_1 = /*#__PURE__*/function () {
    function Lexer(options) {
      this.tokens = [];
      this.tokens.links = Object.create(null);
      this.options = options || defaults$2;
      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();
      this.tokenizer = this.options.tokenizer;
      this.tokenizer.options = this.options;
      var rules = {
        block: block$1.normal,
        inline: inline$1.normal
      };

      if (this.options.pedantic) {
        rules.block = block$1.pedantic;
        rules.inline = inline$1.pedantic;
      } else if (this.options.gfm) {
        rules.block = block$1.gfm;

        if (this.options.breaks) {
          rules.inline = inline$1.breaks;
        } else {
          rules.inline = inline$1.gfm;
        }
      }

      this.tokenizer.rules = rules;
    }
    /**
     * Expose Rules
     */


    /**
     * Static Lex Method
     */
    Lexer.lex = function lex(src, options) {
      var lexer = new Lexer(options);
      return lexer.lex(src);
    }
    /**
     * Preprocessing
     */
    ;

    var _proto = Lexer.prototype;

    _proto.lex = function lex(src) {
      src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ');
      this.blockTokens(src, this.tokens, true);
      this.inline(this.tokens);
      return this.tokens;
    }
    /**
     * Lexing
     */
    ;

    _proto.blockTokens = function blockTokens(src, tokens, top) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (top === void 0) {
        top = true;
      }

      src = src.replace(/^ +$/gm, '');
      var token, i, l, lastToken;

      while (src) {
        // newline
        if (token = this.tokenizer.space(src)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          }

          continue;
        } // code


        if (token = this.tokenizer.code(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        } // fences


        if (token = this.tokenizer.fences(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // heading


        if (token = this.tokenizer.heading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // table no leading pipe (gfm)


        if (token = this.tokenizer.nptable(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // hr


        if (token = this.tokenizer.hr(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // blockquote


        if (token = this.tokenizer.blockquote(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.blockTokens(token.text, [], top);
          tokens.push(token);
          continue;
        } // list


        if (token = this.tokenizer.list(src)) {
          src = src.substring(token.raw.length);
          l = token.items.length;

          for (i = 0; i < l; i++) {
            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);
          }

          tokens.push(token);
          continue;
        } // html


        if (token = this.tokenizer.html(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // def


        if (top && (token = this.tokenizer.def(src))) {
          src = src.substring(token.raw.length);

          if (!this.tokens.links[token.tag]) {
            this.tokens.links[token.tag] = {
              href: token.href,
              title: token.title
            };
          }

          continue;
        } // table (gfm)


        if (token = this.tokenizer.table(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // lheading


        if (token = this.tokenizer.lheading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // top-level paragraph


        if (top && (token = this.tokenizer.paragraph(src))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.text(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _proto.inline = function inline(tokens) {
      var i, j, k, l2, row, token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'paragraph':
          case 'text':
          case 'heading':
            {
              token.tokens = [];
              this.inlineTokens(token.text, token.tokens);
              break;
            }

          case 'table':
            {
              token.tokens = {
                header: [],
                cells: []
              }; // header

              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                token.tokens.header[j] = [];
                this.inlineTokens(token.header[j], token.tokens.header[j]);
              } // cells


              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.cells[j];
                token.tokens.cells[j] = [];

                for (k = 0; k < row.length; k++) {
                  token.tokens.cells[j][k] = [];
                  this.inlineTokens(row[k], token.tokens.cells[j][k]);
                }
              }

              break;
            }

          case 'blockquote':
            {
              this.inline(token.tokens);
              break;
            }

          case 'list':
            {
              l2 = token.items.length;

              for (j = 0; j < l2; j++) {
                this.inline(token.items[j].tokens);
              }

              break;
            }
        }
      }

      return tokens;
    }
    /**
     * Lexing/Compiling
     */
    ;

    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (inLink === void 0) {
        inLink = false;
      }

      if (inRawBlock === void 0) {
        inRawBlock = false;
      }

      var token;

      while (src) {
        // escape
        if (token = this.tokenizer.escape(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // tag


        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {
          src = src.substring(token.raw.length);
          inLink = token.inLink;
          inRawBlock = token.inRawBlock;
          tokens.push(token);
          continue;
        } // link


        if (token = this.tokenizer.link(src)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // reflink, nolink


        if (token = this.tokenizer.reflink(src, this.tokens.links)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // strong


        if (token = this.tokenizer.strong(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // em


        if (token = this.tokenizer.em(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // code


        if (token = this.tokenizer.codespan(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // br


        if (token = this.tokenizer.br(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // del (gfm)


        if (token = this.tokenizer.del(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // autolink


        if (token = this.tokenizer.autolink(src, mangle)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // url (gfm)


        if (!inLink && (token = this.tokenizer.url(src, mangle))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _createClass(Lexer, null, [{
      key: "rules",
      get: function get() {
        return {
          block: block$1,
          inline: inline$1
        };
      }
    }]);

    return Lexer;
  }();

  var defaults$3 = defaults.defaults;
  var cleanUrl$1 = helpers.cleanUrl,
      escape$1 = helpers.escape;
  /**
   * Renderer
   */

  var Renderer_1 = /*#__PURE__*/function () {
    function Renderer(options) {
      this.options = options || defaults$3;
    }

    var _proto = Renderer.prototype;

    _proto.code = function code(_code, infostring, escaped) {
      var lang = (infostring || '').match(/\S*/)[0];

      if (this.options.highlight) {
        var out = this.options.highlight(_code, lang);

        if (out != null && out !== _code) {
          escaped = true;
          _code = out;
        }
      }

      if (!lang) {
        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
      }

      return '<pre><code class="' + this.options.langPrefix + escape$1(lang, true) + '">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
    };

    _proto.blockquote = function blockquote(quote) {
      return '<blockquote>\n' + quote + '</blockquote>\n';
    };

    _proto.html = function html(_html) {
      return _html;
    };

    _proto.heading = function heading(text, level, raw, slugger) {
      if (this.options.headerIds) {
        return '<h' + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + '</h' + level + '>\n';
      } // ignore IDs


      return '<h' + level + '>' + text + '</h' + level + '>\n';
    };

    _proto.hr = function hr() {
      return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
    };

    _proto.list = function list(body, ordered, start) {
      var type = ordered ? 'ol' : 'ul',
          startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
      return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
    };

    _proto.listitem = function listitem(text) {
      return '<li>' + text + '</li>\n';
    };

    _proto.checkbox = function checkbox(checked) {
      return '<input ' + (checked ? 'checked="" ' : '') + 'disabled="" type="checkbox"' + (this.options.xhtml ? ' /' : '') + '> ';
    };

    _proto.paragraph = function paragraph(text) {
      return '<p>' + text + '</p>\n';
    };

    _proto.table = function table(header, body) {
      if (body) body = '<tbody>' + body + '</tbody>';
      return '<table>\n' + '<thead>\n' + header + '</thead>\n' + body + '</table>\n';
    };

    _proto.tablerow = function tablerow(content) {
      return '<tr>\n' + content + '</tr>\n';
    };

    _proto.tablecell = function tablecell(content, flags) {
      var type = flags.header ? 'th' : 'td';
      var tag = flags.align ? '<' + type + ' align="' + flags.align + '">' : '<' + type + '>';
      return tag + content + '</' + type + '>\n';
    } // span level renderer
    ;

    _proto.strong = function strong(text) {
      return '<strong>' + text + '</strong>';
    };

    _proto.em = function em(text) {
      return '<em>' + text + '</em>';
    };

    _proto.codespan = function codespan(text) {
      return '<code>' + text + '</code>';
    };

    _proto.br = function br() {
      return this.options.xhtml ? '<br/>' : '<br>';
    };

    _proto.del = function del(text) {
      return '<del>' + text + '</del>';
    };

    _proto.link = function link(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<a href="' + escape$1(href) + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += '>' + text + '</a>';
      return out;
    };

    _proto.image = function image(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<img src="' + href + '" alt="' + text + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += this.options.xhtml ? '/>' : '>';
      return out;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    return Renderer;
  }();

  /**
   * TextRenderer
   * returns only the textual part of the token
   */
  var TextRenderer_1 = /*#__PURE__*/function () {
    function TextRenderer() {}

    var _proto = TextRenderer.prototype;

    // no need for block level renderers
    _proto.strong = function strong(text) {
      return text;
    };

    _proto.em = function em(text) {
      return text;
    };

    _proto.codespan = function codespan(text) {
      return text;
    };

    _proto.del = function del(text) {
      return text;
    };

    _proto.html = function html(text) {
      return text;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    _proto.link = function link(href, title, text) {
      return '' + text;
    };

    _proto.image = function image(href, title, text) {
      return '' + text;
    };

    _proto.br = function br() {
      return '';
    };

    return TextRenderer;
  }();

  /**
   * Slugger generates header id
   */
  var Slugger_1 = /*#__PURE__*/function () {
    function Slugger() {
      this.seen = {};
    }
    /**
     * Convert string to unique id
     */


    var _proto = Slugger.prototype;

    _proto.slug = function slug(value) {
      var slug = value.toLowerCase().trim() // remove html tags
      .replace(/<[!\/a-z].*?>/ig, '') // remove unwanted chars
      .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '').replace(/\s/g, '-');

      if (this.seen.hasOwnProperty(slug)) {
        var originalSlug = slug;

        do {
          this.seen[originalSlug]++;
          slug = originalSlug + '-' + this.seen[originalSlug];
        } while (this.seen.hasOwnProperty(slug));
      }

      this.seen[slug] = 0;
      return slug;
    };

    return Slugger;
  }();

  var defaults$4 = defaults.defaults;
  var unescape$1 = helpers.unescape;
  /**
   * Parsing & Compiling
   */

  var Parser_1 = /*#__PURE__*/function () {
    function Parser(options) {
      this.options = options || defaults$4;
      this.options.renderer = this.options.renderer || new Renderer_1();
      this.renderer = this.options.renderer;
      this.renderer.options = this.options;
      this.textRenderer = new TextRenderer_1();
      this.slugger = new Slugger_1();
    }
    /**
     * Static Parse Method
     */


    Parser.parse = function parse(tokens, options) {
      var parser = new Parser(options);
      return parser.parse(tokens);
    }
    /**
     * Parse Loop
     */
    ;

    var _proto = Parser.prototype;

    _proto.parse = function parse(tokens, top) {
      if (top === void 0) {
        top = true;
      }

      var out = '',
          i,
          j,
          k,
          l2,
          l3,
          row,
          cell,
          header,
          body,
          token,
          ordered,
          start,
          loose,
          itemBody,
          item,
          checked,
          task,
          checkbox;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'space':
            {
              continue;
            }

          case 'hr':
            {
              out += this.renderer.hr();
              continue;
            }

          case 'heading':
            {
              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
              continue;
            }

          case 'code':
            {
              out += this.renderer.code(token.text, token.lang, token.escaped);
              continue;
            }

          case 'table':
            {
              header = ''; // header

              cell = '';
              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {
                  header: true,
                  align: token.align[j]
                });
              }

              header += this.renderer.tablerow(cell);
              body = '';
              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.tokens.cells[j];
                cell = '';
                l3 = row.length;

                for (k = 0; k < l3; k++) {
                  cell += this.renderer.tablecell(this.parseInline(row[k]), {
                    header: false,
                    align: token.align[k]
                  });
                }

                body += this.renderer.tablerow(cell);
              }

              out += this.renderer.table(header, body);
              continue;
            }

          case 'blockquote':
            {
              body = this.parse(token.tokens);
              out += this.renderer.blockquote(body);
              continue;
            }

          case 'list':
            {
              ordered = token.ordered;
              start = token.start;
              loose = token.loose;
              l2 = token.items.length;
              body = '';

              for (j = 0; j < l2; j++) {
                item = token.items[j];
                checked = item.checked;
                task = item.task;
                itemBody = '';

                if (item.task) {
                  checkbox = this.renderer.checkbox(checked);

                  if (loose) {
                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;

                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                      }
                    } else {
                      item.tokens.unshift({
                        type: 'text',
                        text: checkbox
                      });
                    }
                  } else {
                    itemBody += checkbox;
                  }
                }

                itemBody += this.parse(item.tokens, loose);
                body += this.renderer.listitem(itemBody, task, checked);
              }

              out += this.renderer.list(body, ordered, start);
              continue;
            }

          case 'html':
            {
              // TODO parse inline content if parameter markdown=1
              out += this.renderer.html(token.text);
              continue;
            }

          case 'paragraph':
            {
              out += this.renderer.paragraph(this.parseInline(token.tokens));
              continue;
            }

          case 'text':
            {
              body = token.tokens ? this.parseInline(token.tokens) : token.text;

              while (i + 1 < l && tokens[i + 1].type === 'text') {
                token = tokens[++i];
                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
              }

              out += top ? this.renderer.paragraph(body) : body;
              continue;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    }
    /**
     * Parse Inline Tokens
     */
    ;

    _proto.parseInline = function parseInline(tokens, renderer) {
      renderer = renderer || this.renderer;
      var out = '',
          i,
          token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'escape':
            {
              out += renderer.text(token.text);
              break;
            }

          case 'html':
            {
              out += renderer.html(token.text);
              break;
            }

          case 'link':
            {
              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
              break;
            }

          case 'image':
            {
              out += renderer.image(token.href, token.title, token.text);
              break;
            }

          case 'strong':
            {
              out += renderer.strong(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'em':
            {
              out += renderer.em(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'codespan':
            {
              out += renderer.codespan(token.text);
              break;
            }

          case 'br':
            {
              out += renderer.br();
              break;
            }

          case 'del':
            {
              out += renderer.del(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'text':
            {
              out += renderer.text(token.text);
              break;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    };

    return Parser;
  }();

  var merge$2 = helpers.merge,
      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,
      escape$2 = helpers.escape;
  var getDefaults = defaults.getDefaults,
      changeDefaults = defaults.changeDefaults,
      defaults$5 = defaults.defaults;
  /**
   * Marked
   */

  function marked(src, opt, callback) {
    // throw error in case of non string input
    if (typeof src === 'undefined' || src === null) {
      throw new Error('marked(): input parameter is undefined or null');
    }

    if (typeof src !== 'string') {
      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
    }

    if (typeof opt === 'function') {
      callback = opt;
      opt = null;
    }

    opt = merge$2({}, marked.defaults, opt || {});
    checkSanitizeDeprecation$1(opt);

    if (callback) {
      var highlight = opt.highlight;
      var tokens;

      try {
        tokens = Lexer_1.lex(src, opt);
      } catch (e) {
        return callback(e);
      }

      var done = function done(err) {
        var out;

        if (!err) {
          try {
            out = Parser_1.parse(tokens, opt);
          } catch (e) {
            err = e;
          }
        }

        opt.highlight = highlight;
        return err ? callback(err) : callback(null, out);
      };

      if (!highlight || highlight.length < 3) {
        return done();
      }

      delete opt.highlight;
      if (!tokens.length) return done();
      var pending = 0;
      marked.walkTokens(tokens, function (token) {
        if (token.type === 'code') {
          pending++;
          highlight(token.text, token.lang, function (err, code) {
            if (err) {
              return done(err);
            }

            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }

            pending--;

            if (pending === 0) {
              done();
            }
          });
        }
      });

      if (pending === 0) {
        done();
      }

      return;
    }

    try {
      var _tokens = Lexer_1.lex(src, opt);

      if (opt.walkTokens) {
        marked.walkTokens(_tokens, opt.walkTokens);
      }

      return Parser_1.parse(_tokens, opt);
    } catch (e) {
      e.message += '\nPlease report this to https://github.com/markedjs/marked.';

      if (opt.silent) {
        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';
      }

      throw e;
    }
  }
  /**
   * Options
   */


  marked.options = marked.setOptions = function (opt) {
    merge$2(marked.defaults, opt);
    changeDefaults(marked.defaults);
    return marked;
  };

  marked.getDefaults = getDefaults;
  marked.defaults = defaults$5;
  /**
   * Use Extension
   */

  marked.use = function (extension) {
    var opts = merge$2({}, extension);

    if (extension.renderer) {
      (function () {
        var renderer = marked.defaults.renderer || new Renderer_1();

        var _loop = function _loop(prop) {
          var prevRenderer = renderer[prop];

          renderer[prop] = function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            var ret = extension.renderer[prop].apply(renderer, args);

            if (ret === false) {
              ret = prevRenderer.apply(renderer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.renderer) {
          _loop(prop);
        }

        opts.renderer = renderer;
      })();
    }

    if (extension.tokenizer) {
      (function () {
        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();

        var _loop2 = function _loop2(prop) {
          var prevTokenizer = tokenizer[prop];

          tokenizer[prop] = function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }

            var ret = extension.tokenizer[prop].apply(tokenizer, args);

            if (ret === false) {
              ret = prevTokenizer.apply(tokenizer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.tokenizer) {
          _loop2(prop);
        }

        opts.tokenizer = tokenizer;
      })();
    }

    if (extension.walkTokens) {
      var walkTokens = marked.defaults.walkTokens;

      opts.walkTokens = function (token) {
        extension.walkTokens(token);

        if (walkTokens) {
          walkTokens(token);
        }
      };
    }

    marked.setOptions(opts);
  };
  /**
   * Run callback for every token
   */


  marked.walkTokens = function (tokens, callback) {
    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {
      var token = _step.value;
      callback(token);

      switch (token.type) {
        case 'table':
          {
            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {
              var cell = _step2.value;
              marked.walkTokens(cell, callback);
            }

            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {
              var row = _step3.value;

              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {
                var _cell = _step4.value;
                marked.walkTokens(_cell, callback);
              }
            }

            break;
          }

        case 'list':
          {
            marked.walkTokens(token.items, callback);
            break;
          }

        default:
          {
            if (token.tokens) {
              marked.walkTokens(token.tokens, callback);
            }
          }
      }
    }
  };
  /**
   * Expose
   */


  marked.Parser = Parser_1;
  marked.parser = Parser_1.parse;
  marked.Renderer = Renderer_1;
  marked.TextRenderer = TextRenderer_1;
  marked.Lexer = Lexer_1;
  marked.lexer = Lexer_1.lex;
  marked.Tokenizer = Tokenizer_1;
  marked.Slugger = Slugger_1;
  marked.parse = marked;
  var marked_1 = marked;

  return marked_1;

})));

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _escapeHtml = _interopRequireDefault(require("../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';

var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
      privacyPolicy = props.privacyPolicy,
      termsOfService = props.termsOfService,
      onPrivacyPolicyChange = props.onPrivacyPolicyChange,
      onTermsOfServiceChange = props.onTermsOfServiceChange;

  var termsOfServiceId = _.default.get("TERMS_OF_SERVICE_ID");

  var termsOfServiceUrl = _.default.get("TERMS_OF_SERVICE_URL");

  var privacyPolicyId = _.default.get("PRIVACY_POLICY_ID");

  var privacyPolicyUrl = _.default.get("PRIVACY_POLICY_URL");

  if (!termsOfServiceId && !privacyPolicyId) return null;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the terms of service"),
    checked: termsOfService !== null,
    errors: errors.termsOfService,
    url: termsOfServiceUrl,
    value: termsOfServiceId,
    onChange: onTermsOfServiceChange
  }), /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the privacy policy"),
    checked: privacyPolicy !== null,
    errors: errors.privacyPolicy,
    url: privacyPolicyUrl,
    value: privacyPolicyId,
    onChange: onPrivacyPolicyChange
  }));
};

var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
      checked = props.checked,
      errors = props.errors,
      url = props.url,
      value = props.value,
      onChange = props.onChange;
  if (!url) return null;
  var agreementHtml = interpolate(AGREEMENT_URL, {
    agreement: (0, _escapeHtml.default)(agreement),
    url: (0, _escapeHtml.default)(url)
  }, true);
  var label = interpolate(gettext("I have read and accept %(agreement)s."), {
    agreement: agreementHtml
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "checkbox legal-footnote"
  }, /*#__PURE__*/_react.default.createElement("label", null, /*#__PURE__*/_react.default.createElement("input", {
    checked: checked,
    type: "checkbox",
    value: value,
    onChange: onChange
  }), /*#__PURE__*/_react.default.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: label
    }
  })), errors && errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "help-block errors",
      key: i
    }, error);
  }));
};

var _default = RegisterLegalFootnote;
exports.default = _default;

},{"../utils/escape-html":378,"./..":296,"react":"react"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
      buttonLabel = props.buttonLabel,
      formLabel = props.formLabel,
      header = props.header,
      labelClassName = props.labelClassName;

  var socialAuth = _.default.get("SOCIAL_AUTH");

  if (socialAuth.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group form-social-auth"
  }, /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: header
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, socialAuth.map(function (_ref) {
    var id = _ref.id,
        name = _ref.name,
        button_text = _ref.button_text,
        button_color = _ref.button_color,
        url = _ref.url;
    var className = "btn btn-block btn-default btn-social-" + id;
    var style = button_color ? {
      color: button_color
    } : null;
    var finalButtonLabel = button_text || interpolate(buttonLabel, {
      site: name
    }, true);
    return /*#__PURE__*/_react.default.createElement("div", {
      className: buttonClassName || "col-xs-12",
      key: id
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      style: style,
      href: url
    }, finalButtonLabel));
  })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: formLabel
  }));
};

var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
      text = _ref2.text;
  if (!text) return null;
  return /*#__PURE__*/_react.default.createElement("h5", {
    className: className || ""
  }, text);
};

var _default = StartSocialAuth;
exports.default = _default;

},{"./..":296,"react":"react"}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var AcceptAgreement = /*#__PURE__*/function (_React$Component) {
  _inherits(AcceptAgreement, _React$Component);

  var _super = _createSuper(AcceptAgreement);

  function AcceptAgreement(props) {
    var _this;

    _classCallCheck(this, AcceptAgreement);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleDecline", function () {
      if (_this.state.submiting) return;
      var confirmation = confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: false
      }).then(function () {
        location.reload(true);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleAccept", function () {
      if (_this.state.submiting) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: true
      }).then(function () {
        location.reload(true);
      });
    });

    _this.state = {
      submiting: false
    };
    return _this;
  }

  _createClass(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleDecline
      }, gettext("Decline")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleAccept
      }, gettext("Accept and continue")));
    }
  }]);

  return AcceptAgreement;
}(_react.default.Component);

exports.default = AcceptAgreement;

},{"../services/ajax":359,"react":"react"}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var participants = _interopRequireWildcard(require("../reducers/participants"));

var _thread = require("../reducers/thread");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUsernameChange", function (event) {
      _this.changeValue("username", event.target.value);
    });

    _this.state = {
      isLoading: false,
      username: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar.default.error(gettext("You have to enter user name."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "add",
        path: "participants",
        value: this.state.username
      }, {
        op: "add",
        path: "acl",
        value: 1
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch((0, _thread.updateAcl)(data));

      _store.default.dispatch(participants.replace(data.participants));

      _snackbar.default.success(gettext("New participant has been added to thread."));

      _modal.default.hide();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("User to add")
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onUsernameChange,
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-primary",
        disabled: this.state.isLoading
      }, gettext("Add participant")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Add participant")));
}

},{"../reducers/participants":345,"../reducers/thread":354,"../services/ajax":359,"../services/modal":366,"../services/snackbar":371,"../services/store":372,"./form":50,"./form-group":49,"react":"react"}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), {
          username: this.props.signedIn.username
        }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), {
          username: this.props.user.username
        }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";

      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        type: "button",
        onClick: this.refresh
      }, gettext("Reload page")), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs hidden-sm"
      }, " " + gettext("or press F5 key.")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;
  return /*#__PURE__*/_react.default.createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
}

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _.default.get("BLANK_AVATAR_URL");
  }
}

function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"./..":296,"react":"react"}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.props.message.plain);
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment.default)())) {
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.props.expires.format("LL, LT")
          }, true);
          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.props.expires.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-error page-error-banned"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "highlight_off")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, this.getReasonMessage(), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-footnote"
      }, this.getExpirationMessage())))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"moment":"moment","react":"react"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Button = /*#__PURE__*/function (_React$Component) {
  _inherits(Button, _React$Component);

  var _super = _createSuper(Button);

  function Button() {
    _classCallCheck(this, Button);

    return _super.apply(this, arguments);
  }

  _createClass(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: disabled,
        onClick: this.props.onClick,
        type: this.props.onClick ? "button" : "submit"
      }, this.props.children, this.props.loading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return Button;
}(_react.default.Component);

exports.default = Button;
Button.defaultProps = {
  className: "btn-default",
  type: "submit",
  loading: false,
  disabled: false,
  onClick: null
};

},{"./loader":52,"react":"react"}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item empty-message"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("No categories exist or you don't have permission to see them.")))));
}

},{"react":"react"}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var categories = _ref.categories;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, categories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_category.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./category":13,"react":"react"}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "list-group list-group-category";

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_listItem.default, {
    category: category,
    isFirst: true
  }), category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      isFirst: false,
      key: category.id
    });
  }));
}

},{"./list-item":16,"react":"react"}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  if (!category.description) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
}

},{"react":"react"}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;
exports.getTitle = getTitle;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(category),
    title: getTitle(category)
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)));
}

function getClassName(category) {
  if (category.is_read) {
    return "read-status item-read";
  }

  return "read-status item-new";
}

function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }

    return gettext("This category has new posts. (closed)");
  }

  if (category.is_read) {
    return gettext("This category has no new posts.");
  }

  return gettext("This category has new posts.");
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _main = _interopRequireDefault(require("./main"));

var _lastThread = _interopRequireDefault(require("./last-thread"));

var _stats = _interopRequireDefault(require("./stats"));

var _subcategories = _interopRequireDefault(require("./subcategories"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  var className = "list-group-item";

  if (category.description) {
    className += " list-group-category-has-description";
  } else {
    className += " list-group-category-no-description";
  }

  if (isFirst) {
    className += " list-group-item-first";
  }

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-item-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_main.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_stats.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_lastThread.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement(_subcategories.default, {
    category: category,
    isFirst: isFirst
  }));
}

},{"./last-thread":17,"./main":18,"./stats":19,"./subcategories":20,"react":"react"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LastThread = LastThread;
exports.LastPosterAvatar = LastPosterAvatar;
exports.LastPosterName = LastPosterName;
exports.Empty = Empty;
exports.Private = Private;
exports.Protected = Protected;
exports.Message = Message;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-4 category-last-thread"
  }, /*#__PURE__*/_react.default.createElement(LastThread, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Empty, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Private, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Protected, {
    category: category
  }));
}

function LastThread(_ref2) {
  var category = _ref2.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(LastPosterAvatar, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title thread-title",
    href: category.url.last_thread_new,
    title: category.last_thread_title
  }, category.last_thread_title)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-poster"
  }, /*#__PURE__*/_react.default.createElement(LastPosterName, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("li", {
    className: "divider"
  }, "\u2014"), /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-date"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.last_post
  }, category.last_post_on.fromNow())))));
}

function LastPosterAvatar(_ref3) {
  var category = _ref3.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "last-poster-avatar",
      href: category.last_poster.url,
      title: category.last_poster_name
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      className: "media-object",
      size: 40,
      user: category.last_poster
    }));
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "last-poster-avatar",
    title: category.last_poster_name
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40
  }));
}

function LastPosterName(_ref4) {
  var category = _ref4.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: category.last_poster.url
    }, category.last_poster_name);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, category.last_poster_name);
}

function Empty(_ref5) {
  var category = _ref5.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is empty. No threads were posted within it so far.")
  });
}

function Private(_ref6) {
  var category = _ref6.category;
  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}

function Protected(_ref7) {
  var category = _ref7.category;
  if (category.acl.can_browse) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is protected. You can't browse its contents.")
  });
}

function Message(_ref8) {
  var message = _ref8.message;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media category-thread-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, message)));
}

},{"../../../avatar":8,"react":"react"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _description = _interopRequireDefault(require("./description"));

var _icon = _interopRequireDefault(require("./icon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-6 category-main"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h4", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.index
  }, category.name)), /*#__PURE__*/_react.default.createElement(_description.default, {
    category: category
  }))));
}

},{"./description":14,"./icon":15,"react":"react"}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-2 hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled category-stats"
  }, /*#__PURE__*/_react.default.createElement(Threads, {
    threads: category.threads
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    posts: category.posts
  })));
}

function Threads(_ref2) {
  var threads = _ref2.threads;
  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-threads"
  }, interpolate(message, {
    threads: threads
  }, true));
}

function Posts(_ref3) {
  var posts = _ref3.posts;
  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-posts"
  }, interpolate(message, {
    posts: posts
  }, true));
}

},{"../../../avatar":8,"react":"react"}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row subcategories-list"
  }, category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./list-item":21,"react":"react"}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "btn btn-default btn-block btn-sm btn-subcategory";

  if (!category.is_read) {
    className += " btn-subcategory-new";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4 col-md-3"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, category.name)));
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _categoriesList = _interopRequireDefault(require("./categories-list"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    });

    _this.state = {
      categories: _.default.get("CATEGORIES").map(hydrate)
    };

    _this.startPolling(_.default.get("CATEGORIES_API"));

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "categories",
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var categories = this.state.categories;

      if (categories.length === 0) {
        return /*#__PURE__*/_react.default.createElement(_blankslate.default, null);
      }

      return /*#__PURE__*/_react.default.createElement(_categoriesList.default, {
        categories: categories
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick
  };
}

},{"../..":296,"../../services/polls":369,"./blankslate":11,"./categories-list":12,"moment":"moment","react":"react"}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("select", {
    className: props.className || "form-control",
    disabled: props.disabled || false,
    id: props.id || null,
    onChange: props.onChange,
    value: props.value
  }, props.choices.map(function (item) {
    return /*#__PURE__*/_react.default.createElement("option", {
      disabled: item.disabled || false,
      key: item.value,
      value: item.value
    }, "- - ".repeat(item.level) + item.label);
  }));
}

},{"react":"react"}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "cropAvatar", function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        isLoading: true
      });

      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");
      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");

      _ajax.default.post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);

        _snackbar.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();
      var initialWidth = cropit.width();

      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;
      cropit.width(cropperWidth);
      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize"); // is it wider than taller?

            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-crop"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "crop-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "cropit-preview"
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "range",
        className: "cropit-image-zoom-input"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.cropAvatar,
        loading: this.state.isLoading,
        className: "btn-primary btn-block"
      }, this.props.upload ? gettext("Set avatar") : gettext("Crop image")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../avatar":8,"../button":10,"react":"react"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Gallery = exports.GalleryItem = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _batch = _interopRequireDefault(require("../../utils/batch"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var GalleryItem = /*#__PURE__*/function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  var _super = _createSuper(GalleryItem);

  function GalleryItem() {
    var _this;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "select", function () {
      _this.props.select(_this.props.id);
    });

    return _this;
  }

  _createClass(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.select
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.props.url
      }));
    }
  }]);

  return GalleryItem;
}(_react.default.Component);

exports.GalleryItem = GalleryItem;

var Gallery = /*#__PURE__*/function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  var _super2 = _createSuper(Gallery);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _super2.apply(this, arguments);
  }

  _createClass(Gallery, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery"
      }, /*#__PURE__*/_react.default.createElement("h3", null, this.props.name), /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery-images"
      }, (0, _batch.default)(this.props.images, 4, null).map(function (row, i) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "row",
          key: i
        }, row.map(function (item, i) {
          return /*#__PURE__*/_react.default.createElement("div", {
            className: "col-xs-3",
            key: i
          }, item ? /*#__PURE__*/_react.default.createElement(GalleryItem, _extends({
            disabled: _this2.props.disabled,
            select: _this2.props.select,
            selection: _this2.props.selection
          }, item)) : /*#__PURE__*/_react.default.createElement("div", {
            className: "blank-avatar"
          }));
        }));
      })));
    }
  }]);

  return Gallery;
}(_react.default.Component);

exports.Gallery = Gallery;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this3;

    _classCallCheck(this, _default);

    _this3 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "select", function (image) {
      _this3.setState({
        selection: image
      });
    });

    _defineProperty(_assertThisInitialized(_this3), "save", function () {
      if (_this3.state.isLoading) {
        return false;
      }

      _this3.setState({
        isLoading: true
      });

      _ajax.default.post(_this3.props.user.api.avatar, {
        avatar: "galleries",
        image: _this3.state.selection
      }).then(function (response) {
        _this3.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this3.props.onComplete(response);

        _this3.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this3.setState({
            isLoading: false
          });
        } else {
          _this3.props.showError(rejection);
        }
      });
    });

    _this3.state = {
      selection: null,
      isLoading: false
    };
    return _this3;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this4 = this;

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-gallery"
      }, this.props.options.galleries.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement(Gallery, {
          name: item.name,
          images: item.images,
          selection: _this4.state.selection,
          disabled: _this4.state.isLoading,
          select: _this4.select,
          key: i
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.save,
        loading: this.state.isLoading,
        disabled: !this.state.selection,
        className: "btn-primary btn-block"
      }, this.state.selection ? gettext("Save choice") : gettext("Select avatar")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"../../utils/batch":375,"../avatar":8,"../button":10,"react":"react"}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _loader = _interopRequireDefault(require("../loader"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setGravatar", function () {
      _this.callApi("gravatar");
    });

    _defineProperty(_assertThisInitialized(_this), "setGenerated", function () {
      _this.callApi("generated");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        isLoading: true
      });

      _ajax.default.post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return /*#__PURE__*/_react.default.createElement(_button.default, {
          onClick: this.setGravatar,
          disabled: this.state.isLoading,
          className: "btn-default btn-block btn-avatar-gravatar"
        }, gettext("Download my Gravatar"));
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-crop",
        disabled: this.state.isLoading,
        onClick: this.props.showCrop
      }, gettext("Re-crop uploaded image"));
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-upload",
        disabled: this.state.isLoading,
        onClick: this.props.showUpload
      }, gettext("Upload new image"));
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-gallery",
        disabled: this.state.isLoading,
        onClick: this.props.showGallery
      }, gettext("Pick avatar from gallery"));
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };

      if (this.state.isLoading) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "avatar-preview preview-loading"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "200",
          user: userPeview
        }), /*#__PURE__*/_react.default.createElement(_loader.default, null));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatar-preview"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "200",
        user: userPeview
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-index"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-5"
      }, this.getAvatarPreview()), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-7"
      }, this.getGravatarButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.setGenerated,
        disabled: this.state.isLoading,
        className: "btn-default btn-block btn-avatar-generate"
      }, gettext("Generate my individual avatar")), this.getCropButton(), this.getUploadButton(), this.getGalleryButton())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../avatar":8,"../button":10,"../loader":52,"react":"react"}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = exports.ChangeAvatarError = void 0;

var _react = _interopRequireDefault(require("react"));

var _index = _interopRequireDefault(require("./index"));

var _crop = _interopRequireDefault(require("./crop"));

var _upload = _interopRequireDefault(require("./upload"));

var _gallery = _interopRequireDefault(require("./gallery"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ChangeAvatarError = /*#__PURE__*/function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  var _super = _createSuper(ChangeAvatarError);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _super.apply(this, arguments);
  }

  _createClass(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return /*#__PURE__*/_react.default.createElement("p", {
          dangerouslySetInnerHTML: {
            __html: this.props.reason
          }
        });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "remove_circle_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getErrorReason(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return ChangeAvatarError;
}(_react.default.Component);

exports.ChangeAvatarError = ChangeAvatarError;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showError", function (error) {
      _this.setState({
        error: error
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showIndex", function () {
      _this.setState({
        component: _index.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showUpload", function () {
      _this.setState({
        component: _upload.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showCrop", function () {
      _this.setState({
        component: _crop.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showGallery", function () {
      _this.setState({
        component: _gallery.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "completeFlow", function (options) {
      _store.default.dispatch((0, _users.updateAvatar)(_this.props.user, options.avatars));

      _this.setState({
        component: _index.default,
        options: options
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.user.api.avatar).then(function (options) {
        _this2.setState({
          component: _index.default,
          options: options,
          error: null
        });
      }, function (rejection) {
        _this2.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return /*#__PURE__*/_react.default.createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change your avatar"))), this.getBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user
  };
}

},{"../../reducers/users":358,"../../services/ajax":359,"../../services/store":372,"../modal-loader":55,"./crop":24,"./gallery":25,"./index":26,"./upload":28,"react":"react"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _crop = _interopRequireDefault(require("./crop"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _fileSize = _interopRequireDefault(require("../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "pickFile", function () {
      document.getElementById("avatar-hidden-upload").click();
    });

    _defineProperty(_assertThisInitialized(_this), "uploadFile", function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);

      if (validationError) {
        _snackbar.default.error(validationError);

        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);

      _ajax.default.upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          filesize: (0, _fileSize.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");

      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });
      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0, _fileSize.default)(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-pick-file",
        onClick: this.pickFile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "material-icon"
      }, "input"), gettext("Select file")), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-muted"
      }, this.getUploadRequirements(this.props.options.upload)));
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "upload-progress"
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.state.preview
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar",
        role: "progressbar",
        "aria-valuenow": "{this.state.progress}",
        "aria-valuemin": "0",
        "aria-valuemax": "100",
        style: {
          width: this.state.progress + "%"
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, this.getUploadProgressLabel())))));
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("input", {
        type: "file",
        id: "avatar-hidden-upload",
        className: "hidden-file-upload",
        onChange: this.uploadFile
      }), this.state.image ? this.getUploadProgress() : this.getUploadButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: !!this.state.image,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return /*#__PURE__*/_react.default.createElement(_crop.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();
      return this.renderUpload();
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../../utils/file-size":379,"../button":10,"./crop":24,"react":"react"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.getClassName(),
        type: "button",
        onClick: this.props.toggleNav,
        "aria-haspopup": "true",
        "aria-expanded": this.props.dropdown ? "true" : "false"
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "menu"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
}

},{"../panel-message":88,"react":"react"}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _select = _interopRequireDefault(require("../select"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var _this$props = _this.props,
          field = _this$props.field,
          onChange = _this$props.onChange;
      onChange(field.fieldname, ev.target.value);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          disabled = _this$props2.disabled,
          field = _this$props2.field,
          value = _this$props2.value;
      var input = field.input;

      if (input.type === "select") {
        return /*#__PURE__*/_react.default.createElement(_select.default, {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }

      if (input.type === "textarea") {
        return /*#__PURE__*/_react.default.createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }

      if (input.type === "text") {
        return /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }

      return null;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../select":204,"react":"react"}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldInput = _interopRequireDefault(require("./field-input"));

var _formGroup = _interopRequireDefault(require("../form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var disabled = _ref.disabled,
      errors = _ref.errors,
      fields = _ref.fields,
      name = _ref.name,
      onChange = _ref.onChange,
      value = _ref.value;
  return /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, name), fields.map(function (field) {
    return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
      for: "id_" + field.fieldname,
      helpText: field.help_text,
      key: field.fieldname,
      label: field.label,
      validation: errors[field.fieldname]
    }, /*#__PURE__*/_react.default.createElement(_fieldInput.default, {
      disabled: disabled,
      field: field,
      onChange: onChange,
      value: value[field.fieldname]
    }));
  }));
}

},{"../form-group":49,"./field-input":31,"react":"react"}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CancelButton = CancelButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _fieldset = _interopRequireDefault(require("./fieldset"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (name, value) {
      _this.setState(_defineProperty({}, name, value));
    });

    _this.state = {
      isLoading: false,
      errors: {}
    };
    var groups = props.groups.length;

    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;

      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }

    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: rejection
        });
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, this.props.groups.map(function (group, i) {
        return /*#__PURE__*/_react.default.createElement(_fieldset.default, {
          disabled: _this2.state.isLoading,
          errors: _this2.state.errors,
          fields: group.fields,
          name: group.name,
          key: i,
          onChange: _this2.onChange,
          value: _this2.state
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(CancelButton, {
        disabled: this.state.isLoading,
        onCancel: this.props.onCancel
      }), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
      disabled = _ref.disabled;
  if (!onCancel) return null;
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    disabled: disabled,
    onClick: onCancel,
    type: "button"
  }, gettext("Cancel"));
}

},{"../../services/ajax":359,"../../services/snackbar":371,"../button":10,"../form":50,"./fieldset":32,"react":"react"}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormDisplay = FormDisplay;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _loader = _interopRequireDefault(require("./loader"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,
          groups: groups
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          groups = _this$state.groups,
          loading = _this$state.loading;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Edit details"))), /*#__PURE__*/_react.default.createElement(_loader.default, {
        display: loading
      }), /*#__PURE__*/_react.default.createElement(_blankslate.default, {
        display: !loading && !groups.length
      }), /*#__PURE__*/_react.default.createElement(FormDisplay, {
        api: this.props.api,
        display: !loading && groups.length,
        groups: groups,
        onCancel: this.props.onCancel,
        onSuccess: this.props.onSuccess
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function FormDisplay(_ref) {
  var api = _ref.api,
      display = _ref.display,
      groups = _ref.groups,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_form.default, {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../services/ajax":359,"../../services/snackbar":371,"./blankslate":30,"./form":33,"./loader":35,"react":"react"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../loader":52,"react":"react"}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onInsert", function () {
      _this.props.replaceSelection(_this.insertAttachment);
    });

    _defineProperty(_assertThisInitialized(_this), "insertAttachment", function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace("[![" + item.filename + "](" + item.url.thumb + ")](" + item.url.index + ")");
        } else {
          replace("[![" + item.filename + "](" + item.url.index + ")](" + item.url.index + ")");
        }
      } else {
        replace("[" + item.filename + "](" + item.url.index + ")");
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onRemove", function () {
      _this.updateItem({
        isRemoved: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUndo", function () {
      _this.updateItem({
        isRemoved: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateItem", function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });

      _this.props.onAttachmentsChange(updatedAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-complete"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement(Preview, this.props), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-details"
      }, /*#__PURE__*/_react.default.createElement(Filename, this.props), /*#__PURE__*/_react.default.createElement(Details, this.props))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top-half"
      }, /*#__PURE__*/_react.default.createElement(Actions, _extends({
        onInsert: this.onInsert,
        onRemove: this.onRemove,
        onUndo: this.onUndo
      }, this.props)))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Preview(props) {
  if (props.item.is_image) {
    return /*#__PURE__*/_react.default.createElement(Image, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-image"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.item.url.index + "?shva=1",
    style: {
      backgroundImage: "url('" + thumbnailUrl + "?shva=1')"
    },
    target: "_blank"
  }));
}

function Icon(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "insert_drive_file"));
}

function Filename(props) {
  return /*#__PURE__*/_react.default.createElement("h4", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: props.item.url.index + "?shva=1",
    target: "_blank"
  }, props.item.filename));
}

function Details(props) {
  var user = null;

  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.item.url.uploader),
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.item.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.item.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Actions(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-actions"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Insert, props), /*#__PURE__*/_react.default.createElement(Remove, props), /*#__PURE__*/_react.default.createElement(Undo, props)));
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onInsert,
    type: "button"
  }, gettext("Insert")));
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onRemove,
    type: "button"
  }, gettext("Remove")));
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onUndo,
    type: "button"
  }, gettext("Undo removal")));
}

},{"../../../..":296,"../../../../utils/escape-html":378,"../../../../utils/file-size":379,"react":"react"}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STRONG = "<strong>%(name)s</strong>";

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });

      _this.props.onAttachmentsChange(filteredAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml.default)(this.props.item.filename)
      }, true);
      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + "%"
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-error"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning")), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-message"
      }, /*#__PURE__*/_react.default.createElement("h4", {
        dangerouslySetInnerHTML: {
          __html: title + ":"
        }
      }), /*#__PURE__*/_react.default.createElement("p", null, this.props.item.error), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        onClick: this.onClick,
        type: "button"
      }, gettext("Dismiss"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../utils/escape-html":378,"react":"react"}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _complete = _interopRequireDefault(require("./complete"));

var _error = _interopRequireDefault(require("./error"));

var _upload = _interopRequireDefault(require("./upload"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.item.id) {
    return /*#__PURE__*/_react.default.createElement(_complete.default, props);
  }

  if (props.item.error) {
    return /*#__PURE__*/_react.default.createElement(_error.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_upload.default, props);
}

},{"../../../..":296,"../../../../utils/escape-html":378,"./complete":36,"./error":37,"./upload":39,"react":"react"}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var STRONG = "<strong>%(name)s</strong>";

function _default(props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml.default)(props.item.filename)
  }, true);
  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + "%"
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "editor-attachment-upload"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress-bar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress",
    style: {
      width: props.item.progress + "%"
    }
  })), /*#__PURE__*/_react.default.createElement("p", {
    className: "editor-attachment-upload-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

},{"../../../../utils/escape-html":378,"react":"react"}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _list = _interopRequireDefault(require("./list"));

var _uploader = _interopRequireDefault(require("./uploader"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!_.default.get("user").acl.max_attachment_size) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachments"
  }, /*#__PURE__*/_react.default.createElement(_list.default, props), /*#__PURE__*/_react.default.createElement(_uploader.default, props));
}

},{"../../..":296,"./list":41,"./uploader":43,"react":"react"}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled editor-attachments-list",
    style: {
      overflowY: "scroll",
      maxHeight: "75px",
      overflowX: "hidden"
    }
  }, props.attachments.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, _extends({
      item: item,
      key: item.id || item.key
    }, props));
  }));
}

},{"./attachment":38,"react":"react"}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      document.getElementById("editor-upload-field").click();
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!_.default.get("user").acl.max_attachment_size) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Upload file"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "file_upload"), " Upload file");
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getRandomKey = getRandomKey;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var file = event.target.files[0];

      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append("upload", file);

      _ajax.default.upload(_.default.get("ATTACHMENTS_API"), data, function (progress) {
        upload.progress = progress;

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment.default)(data.uploaded_on);
        Object.assign(upload, data);

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;

          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("input", {
        id: "editor-upload-field",
        onChange: this.onChange,
        type: "file"
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getRandomKey() {
  return "upld-" + Math.round(new Date().getTime());
}

},{"../../..":296,"../../../services/ajax":359,"../../../services/snackbar":371,"moment":"moment","react":"react"}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _uploadButton = _interopRequireDefault(require("../attachments/upload-button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      imgHidden: true,
      imgList: [],
      paraHidden: true,
      titleHidden: true,
      moreHidden: true,
      listHidden: true
    };
    return _this;
  }

  _createClass(_default, [{
    key: "onClickLeft",
    value: function onClickLeft(type) {
      this.props.onClickLeft(type);
    }
  }, {
    key: "onClickRight",
    value: function onClickRight(type) {
      this.props.onClickRight(type);
    }
  }, {
    key: "listMouseOver",
    value: function listMouseOver() {
      window.clearTimeout(this.listTimer);
      this.setState({
        listHidden: false
      });
    }
  }, {
    key: "listMouseOut",
    value: function listMouseOut() {
      var _this2 = this;

      this.listTimer = window.setTimeout(function () {
        _this2.setState({
          listHidden: true
        });
      }, 150);
    }
  }, {
    key: "paraMouseOver",
    value: function paraMouseOver() {
      window.clearTimeout(this.paraTimer);
      this.setState({
        paraHidden: false
      });
    }
  }, {
    key: "paraMouseOut",
    value: function paraMouseOut() {
      var _this3 = this;

      this.paraTimer = window.setTimeout(function () {
        _this3.setState({
          paraHidden: true
        });
      }, 150);
    }
  }, {
    key: "titleMouseOver",
    value: function titleMouseOver() {
      window.clearTimeout(this.titleTimer);
      this.setState({
        titleHidden: false
      });
    }
  }, {
    key: "titleMouseOut",
    value: function titleMouseOut() {
      var _this4 = this;

      this.titleTimer = window.setTimeout(function () {
        _this4.setState({
          titleHidden: true
        });
      }, 150);
    }
  }, {
    key: "moreMouseOver",
    value: function moreMouseOver() {
      window.clearTimeout(this.moreTimer);
      this.setState({
        moreHidden: false
      });
    }
  }, {
    key: "moreMouseOut",
    value: function moreMouseOut() {
      var _this5 = this;

      this.moreTimer = window.setTimeout(function () {
        _this5.setState({
          moreHidden: true
        });
      }, 150);
    }
  }, {
    key: "imgClick",
    value: function imgClick() {
      this.setState({
        imgHidden: !this.state.imgHidden
      });
    }
  }, {
    key: "imgMouseOver",
    value: function imgMouseOver() {
      window.clearTimeout(this.timer);
      this.setState({
        imgHidden: false
      });
    }
  }, {
    key: "imgMouseOut",
    value: function imgMouseOut() {
      var _this6 = this;

      this.timer = window.setTimeout(function () {
        _this6.setState({
          imgHidden: true
        });
      }, 150);
    }
  }, {
    key: "addImgUrl",
    value: function addImgUrl() {
      this.props.onClickLeft('img');
    }
  }, {
    key: "addImgFile",
    value: function addImgFile(e) {
      var imgList = this.state.imgList;
      var index = imgList.length;
      imgList.push(e.target.files[0]);
      this.setState({
        imgList: imgList
      });
      this.props.addImg(e.target.files[0], index);
      e.target.value = '';
    }
  }, {
    key: "render",
    value: function render() {
      var _this7 = this;

      var _this$state = this.state,
          imgHidden = _this$state.imgHidden,
          paraHidden = _this$state.paraHidden,
          titleHidden = _this$state.titleHidden,
          moreHidden = _this$state.moreHidden,
          listHidden = _this$state.listHidden;
      var _this$props = this.props,
          preview = _this$props.preview,
          expand = _this$props.expand,
          subfield = _this$props.subfield;
      var previewActive = (0, _classnames.default)({
        'k-active': preview
      });
      var expandActive = (0, _classnames.default)({
        'k-active': expand
      });
      var subfieldActive = (0, _classnames.default)({
        'k-active': subfield
      });
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "k-wrapper"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('underline');
        },
        title: "underline"
      }, "underline"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('quote');
        },
        title: "quote"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "format_quote")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('link');
        },
        title: "link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('code');
        },
        title: "code"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "code")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('spoiler');
        },
        title: "spoiler"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "priority_high")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('underline');
        },
        title: "underline"
      }, "underline"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('quote');
        },
        title: "quote"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "format_quote")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('link');
        },
        title: "link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('code');
        },
        title: "code"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "code")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('spoiler');
        },
        title: "spoiler"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "priority_high")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")), /*#__PURE__*/_react.default.createElement("li", {
        className: subfieldActive,
        onClick: function onClick() {
          return _this7.onClickRight('subfield');
        },
        title: subfieldActive ? "Split preview" : "Merge split"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chrome_reader_mode")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../attachments/upload-button":42,"classnames":1,"react":"react"}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Protect = Protect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _attachments = _interopRequireDefault(require("./attachments"));

var textUtils = _interopRequireWildcard(require("./textutils"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _classnames = _interopRequireDefault(require("classnames"));

var _marked = _interopRequireDefault(require("../../services/marked"));

var _toolbar = _interopRequireDefault(require("./components/toolbar"));

var _text = require("./utils/helper/text");

var _keyboard = _interopRequireDefault(require("./utils/helper/keyboard"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "_areYouSure", function (e) {
      var _this$state = _this.state,
          areYouReallySure = _this$state.areYouReallySure,
          historyIndex = _this$state.historyIndex;
      console.log(e);

      if (historyIndex != 0) {
        if (!areYouReallySure) {
          _this.setState({
            areYouReallySure: true
          });

          return "Are you sure you want leave ? The changes will not be saved.";
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onKeyDown", function (e) {
      (0, _keyboard.default)(e, function (type) {
        _this.leftToolBarClick(type);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "replaceSelection", function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    });

    _defineProperty(_assertThisInitialized(_this), "_replaceSelection", function (newValue) {
      _this.props.onChange(textUtils.replace(newValue));
    });

    _defineProperty(_assertThisInitialized(_this), "resize", function () {
      if (window.matchMedia('(min-width: 768px)').matches) {
        _this.setState({
          preview: true,
          subfield: true,
          expand: _this.props.expand
        });
      } else {
        _this.setState({
          preview: false,
          subfield: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "focusText", function () {
      _this.textarea.focus();

      _this.textarea.scrollTop = _this.textarea.scrollHeight;

      _this.textarea.setSelectionRange(_this.textarea.value.length, _this.textarea.value.length);
    });

    _defineProperty(_assertThisInitialized(_this), "reHeight", function () {
      _this.textarea.style.height = '';
      _this.textarea.style.height = _this.textarea.scrollHeight + 'px';
    });

    _defineProperty(_assertThisInitialized(_this), "saveHistory", function (value) {
      var _this$state2 = _this.state,
          history = _this$state2.history,
          historyIndex = _this$state2.historyIndex;
      history.splice(historyIndex + 1, history.length);

      if (history.length >= 20) {
        history.shift();
      }

      historyIndex = history.length;
      history.push(value);

      _this.setState({
        history: history,
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "undo", function () {
      var _this$state3 = _this.state,
          history = _this$state3.history,
          historyIndex = _this$state3.historyIndex;
      historyIndex = historyIndex - 1;
      if (historyIndex < 0) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "redo", function () {
      var _this$state4 = _this.state,
          history = _this$state4.history,
          historyIndex = _this$state4.historyIndex;
      historyIndex = historyIndex + 1;
      if (historyIndex >= history.length) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "leftToolBarClick", function (type) {
      var typeObj = {
        h1: {
          prefix: '# ',
          subfix: '',
          str: "Header 1"
        },
        h2: {
          prefix: '## ',
          subfix: '',
          str: "Header 2"
        },
        h3: {
          prefix: '### ',
          subfix: '',
          str: "Header 3"
        },
        h4: {
          prefix: '#### ',
          subfix: '',
          str: "Header 4"
        },
        h5: {
          prefix: '##### ',
          subfix: '',
          str: "Header 5"
        },
        h6: {
          prefix: '###### ',
          subfix: '',
          str: "Header 6"
        },
        quote: {
          prefix: '[quote= @',
          subfix: ']\n[/quote]',
          str: "username"
        },
        italic: {
          prefix: '_',
          subfix: '_',
          str: "italic"
        },
        bold: {
          prefix: '**',
          subfix: '**',
          str: "bold"
        },
        bolditalic: {
          prefix: '***',
          subfix: '***',
          str: "bold italic"
        },
        delline: {
          prefix: '~~',
          subfix: '~~',
          str: "delete line"
        },
        underline: {
          prefix: '<u>',
          subfix: '</u>',
          str: "underline"
        },
        superscript: {
          prefix: 'x<sup>',
          subfix: '</sup>',
          str: 'y'
        },
        subscript: {
          prefix: 'a<sub>',
          subfix: '</sub>',
          str: ''
        },
        table: {
          prefix: '',
          subfix: '',
          str: '| title      | description     |\n| ---------- | --------------- |\n| for-editor | markdown editor |\n'
        },
        img: {
          prefix: '![alt](',
          subfix: ')',
          str: 'url'
        },
        link: {
          prefix: '[title](',
          subfix: ')',
          str: 'url'
        },
        orderlist: {
          prefix: '\n1. ',
          subfix: '',
          str: 'item'
        },
        disorderlist: {
          prefix: '\n- ',
          subfix: '',
          str: 'item'
        },
        checklist: {
          prefix: '\n- [x] ',
          subfix: '',
          str: 'item'
        },
        inlinecode: {
          prefix: '`',
          subfix: '`',
          str: "inlinecode"
        },
        code: {
          prefix: '```',
          subfix: '\n\n```',
          str: 'language'
        },
        tab: {
          prefix: '  ',
          subfix: '',
          str: ''
        },
        spoiler: {
          prefix: "[spoiler]\n",
          subfix: "\n[/spoiler]",
          str: ""
        }
      };

      if (typeObj.hasOwnProperty(type)) {
        var value = (0, _text.insertText)(typeObj[type]);

        _this.props.onChange(value);
      }

      var otherLeftClick = {
        undo: _this.undo,
        redo: _this.redo,
        esc: _this.exitFullScreen
      };

      if (otherLeftClick.hasOwnProperty(type)) {
        otherLeftClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "exitFullScreen", function () {
      _this.setState({
        expand: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "rightToolbarClick", function (type) {
      var toolbarRightPreviewClick = function toolbarRightPreviewClick() {
        _this.setState({
          preview: !_this.state.preview
        });
      };

      var toolbarRightExpandClick = function toolbarRightExpandClick() {
        _this.setState({
          expand: !_this.state.expand
        });
      };

      var toolbarRightSubfieldClick = function toolbarRightSubfieldClick() {
        var _this$state5 = _this.state,
            preview = _this$state5.preview,
            subfield = _this$state5.subfield;

        if (subfield) {
          _this.reHeight();
        }

        if (preview) {
          if (subfield) {
            _this.setState({
              subfield: false,
              preview: false
            });
          } else {
            _this.setState({
              subfield: true
            });
          }
        } else {
          if (subfield) {
            _this.setState({
              subfield: false
            });
          } else {
            _this.setState({
              preview: true,
              subfield: true
            });
          }
        }
      };

      var rightClick = {
        preview: toolbarRightPreviewClick,
        expand: toolbarRightExpandClick,
        subfield: toolbarRightSubfieldClick
      };

      if (rightClick.hasOwnProperty(type)) {
        rightClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (e) {
      var value = e.target.value;

      _this.props.onChange(value);
    });

    _this.state = {
      lineIndex: 1,
      preview: false,
      expand: props.expand,
      subfield: false,
      history: [],
      historyIndex: 0,
      mobile: false,
      allowPrompt: true,
      areYouReallySure: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      this.textarea = document.getElementById("editor-textarea");
      this.blockEdit = document.getElementById("blockEdit");
      this.reHeight();
      this.focusText();
      $("#editor-textarea").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "@${username}",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(_.default.get("MENTION_API"), {
              q: query
            }, callback);
          }
        }
      });
      $("#editor-textarea").on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event.target.value);
      });
      this.resize();
      window.addEventListener('resize', function () {
        _this2.resize();
      });
      $(window).on('beforeunload', function (e) {
        return _this2._areYouSure(e);
      });
      $(document).on("submit", "form", function (event) {
        console.log(event);
        $(window).off('beforeunload');
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(preProps) {
      var _this3 = this;

      var _this$state6 = this.state,
          historyIndex = _this$state6.historyIndex,
          history = _this$state6.history;
      var value = this.props.value;

      if (value !== preProps.value) {
        this.reHeight();
      }

      if (value !== history[historyIndex]) {
        window.clearTimeout(this.currentTimeout);
        this.currentTimeout = window.setTimeout(function () {
          _this3.saveHistory(value);
        }, 500);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var _this$state7 = this.state,
          preview = _this$state7.preview,
          expand = _this$state7.expand,
          subfield = _this$state7.subfield;
      var _this$props = this.props,
          value = _this$props.value,
          loading = _this$props.loading,
          height = _this$props.height,
          fontSize = _this$props.fontSize;
      var fullscreen = (0, _classnames.default)({
        'k-container': true,
        'k-fullscreen': expand
      });
      var editorClass = (0, _classnames.default)({
        'k-editor-edit': true,
        'k-panel': true,
        'k-active': preview && subfield,
        'k-edit-preview': preview && !subfield
      });
      var previewClass = (0, _classnames.default)({
        'k-panel': true,
        'k-editor-preview': true,
        'k-active': preview && subfield
      });
      return /*#__PURE__*/_react.default.createElement("div", {
        className: fullscreen,
        style: {
          height: height
        }
      }, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        expand: expand,
        subfield: subfield,
        preview: preview,
        onClickLeft: this.leftToolBarClick,
        onClickRight: this.rightToolbarClick,
        loading: loading
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor",
        style: {
          fontSize: fontSize
        }
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: editorClass,
        id: "blockEdit",
        onClick: this.focusText
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-block"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-content"
      }, /*#__PURE__*/_react.default.createElement("pre", {
        id: "true-value"
      }, value), /*#__PURE__*/_react.default.createElement("textarea", {
        value: value,
        disabled: loading,
        id: "editor-textarea",
        onChange: function onChange(e) {
          return _this4.handleChange(e);
        },
        onKeyDown: this.onKeyDown,
        placeholder: "Write Something"
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: previewClass
      }, /*#__PURE__*/_react.default.createElement("div", {
        id: "k-preview",
        className: "k-preview k-markdown-preview",
        dangerouslySetInnerHTML: {
          __html: (0, _marked.default)(value)
        }
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-footer",
        style: {
          overflow: 'hidden',
          padding: '10px'
        }
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-sm pull-right",
        loading: this.props.loading
      }, this.props.submitLabel || gettext("Post")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm pull-right",
        disabled: this.props.loading,
        onClick: this.props.onCancel,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix visible-xs-block"
      }), /*#__PURE__*/_react.default.createElement(Protect, {
        canProtect: this.props.canProtect,
        disabled: this.props.loading,
        onProtect: this.props.onProtect,
        onUnprotect: this.props.onUnprotect,
        protect: this.props.protect
      })), /*#__PURE__*/_react.default.createElement(_attachments.default, {
        attachments: this.props.attachments,
        onAttachmentsChange: this.props.onAttachmentsChange,
        placeholder: this.props.placeholder,
        replaceSelection: this.replaceSelection
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

_defineProperty(_default, "defaultProps", {
  fontSize: '18px',
  expand: true
});

function Protect(props) {
  if (!props.canProtect) return null;
  var label = props.protect ? gettext("Protected") : gettext("Protect");
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-icon btn-default btn-protect btn-sm pull-right",
    disabled: props.disabled,
    onClick: props.protect ? props.onUnprotect : props.onProtect,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.protect ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-md hidden-lg"
  }, label));
}

},{"../..":296,"../../services/marked":364,"../button":10,"./attachments":40,"./components/toolbar":44,"./textutils":46,"./utils/helper/keyboard":47,"./utils/helper/text":48,"classnames":1,"react":"react"}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
exports.textareaId = void 0;
var textareaId = "editor-textarea";
exports.textareaId = textareaId;

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();

  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == "0") {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();

  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart("character", selectionRange.start);
    range.moveEnd("character", selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],47:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var KEY_CODE = {
  ESC: 27,
  F8: 119,
  F9: 120,
  F10: 121,
  F11: 122,
  F12: 123,
  B: 66,
  I: 73,
  H: 72,
  U: 85,
  D: 68,
  M: 77,
  Q: 81,
  O: 79,
  L: 76,
  S: 83,
  Z: 90,
  Y: 89,
  C: 67,
  T: 84,
  R: 82,
  DELETE: 8,
  TAB: 9,
  ENTER: 13,
  ONE: 97,
  TWO: 98,
  THREE: 99,
  FOUR: 100,
  FIVE: 101,
  SIX: 102,
  _ONE: 49,
  _TWO: 50,
  _THREE: 51,
  _FOUR: 52,
  _FIVE: 53,
  _SIX: 54
};

var _default = function _default(e, func) {
  if (!(e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {
    switch (e.keyCode) {
      case KEY_CODE.TAB:
        {
          e.preventDefault();
          func('tab');
          break;
        }

      case KEY_CODE.ESC:
        {
          e.preventDefault();
          func('esc');
          break;
        }

      default:
        {
          return;
        }
    }
  } else if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {
    // ctrl +
    switch (e.keyCode) {
      case KEY_CODE.Z:
        {
          // Z
          e.preventDefault();
          func('undo');
          break;
        }

      case KEY_CODE.Y:
        {
          // Y
          e.preventDefault();
          func('redo');
          break;
        }

      case KEY_CODE.B:
        {
          // Z
          e.preventDefault();
          func('bold');
          break;
        }

      case KEY_CODE.I:
        {
          // Y
          e.preventDefault();
          func('italic');
          break;
        }

      case KEY_CODE.U:
        {
          // Y
          e.preventDefault();
          func('underline');
          break;
        }

      default:
        {
          return;
        }
    }
  }
};

exports.default = _default;

},{}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.insertText = insertText;

function insertText(params) {
  var $vm = document.getElementById("editor-textarea");
  var prefix = params.prefix,
      _params$str = params.str,
      str = _params$str === void 0 ? '' : _params$str,
      _params$subfix = params.subfix,
      subfix = _params$subfix === void 0 ? '' : _params$subfix;
  var value = $vm.value;

  if ($vm.selectionStart || $vm.selectionStart === 0) {
    var start = $vm.selectionStart;
    var end = $vm.selectionEnd;
    var restoreTop = $vm.scrollTop;

    if (start === end) {
      $vm.value = value.substring(0, start) + prefix + str + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length + str.length;
    } else {
      $vm.value = value.substring(0, start) + prefix + value.substring(start, end) + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length;
    }

    $vm.focus();

    if (restoreTop >= 0) {
      $vm.scrollTop = restoreTop;
    }
  }

  return $vm.value;
}

},{}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";

      if (this.isValidated()) {
        className += " has-feedback";

        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }

      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this = this;

      if (this.props.validation) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "help-block errors"
        }, this.props.validation.map(function (error, i) {
          return /*#__PURE__*/_react.default.createElement("p", {
            key: _this.props.for + "FeedbackItem" + i
          }, error);
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return /*#__PURE__*/_react.default.createElement("span", {
          id: this.props.for + "_status",
          className: "sr-only"
        }, this.props.validation ? gettext("(error)") : gettext("(success)"));
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("label", {
        className: "control-label " + (this.props.labelClass || ""),
        htmlFor: this.props.for || ""
      }, this.props.label + ":"), /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.controlClass || ""
      }, this.props.children, this.getFeedbackDescription(), this.getFeedback(), this.getHelpText(), this.props.extra || null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _validators = require("../utils/validators");

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var validateRequired = (0, _validators.required)();

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "bindInput", function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    });

    _defineProperty(_assertThisInitialized(_this), "changeValue", function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }

      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({
          isLoading: true
        });

        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({
              isLoading: false
            });

            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({
              isLoading: false
            });

            _this.handleError(rejection);
          });
        } else {
          _this.setState({
            isLoading: false
          });
        }
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "validate",
    value: function validate() {
      var errors = {};

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };
      var validatedFields = []; // add required fields to validation

      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      } // add optional fields to validation


      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      } // validate fields values


      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();

      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };
      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);

            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);

          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/snackbar":371,"../utils/validators":387,"react":"react"}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],52:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "loader"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "loader-spinning-wheel"
  }));
}

},{"react":"react"}],53:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BestAnswerSelect = BestAnswerSelect;
exports.PollSelect = PollSelect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.props.onSuccess(success);

      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _this.props.onError(rejection);
    });

    _defineProperty(_assertThisInitialized(_this), "onBestAnswerChange", function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPollChange", function (event) {
      _this.changeValue("poll", event.target.value);
    });

    _this.state = {
      isLoading: false,
      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = confirm(gettext("Are you sure you want to delete all polls?"));
        return confirmation;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(BestAnswerSelect, {
        choices: this.props.bestAnswers,
        onChange: this.onBestAnswerChange,
        value: this.state.bestAnswer
      }), /*#__PURE__*/_react.default.createElement(PollSelect, {
        choices: this.props.polls,
        onChange: this.onPollChange,
        value: this.state.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
      onChange = _ref.onChange,
      value = _ref.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Best answer"),
    helpText: gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),
    for: "id_best_answer"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_best_answer",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

function PollSelect(_ref2) {
  var choices = _ref2.choices,
      onChange = _ref2.onChange,
      value = _ref2.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Poll"),
    helpText: gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
    for: "id_poll"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_poll",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

},{"../services/ajax":359,"../services/modal":366,"./button":10,"./form":50,"./form-group":49,"react":"react"}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _oneBox = _interopRequireDefault(require("../services/one-box"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("article", {
        className: "misago-markup",
        dangerouslySetInnerHTML: {
          __html: this.props.markup
        },
        ref: function ref(node) {
          _this.documentNode = node;
        }
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

},{"../services/one-box":367,"react":"react"}],55:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-loader"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":52,"react":"react"}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("./panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_PanelMessage) {
  _inherits(_default, _PanelMessage);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return _default;
}(_panelMessage.default);

exports.default = _default;

},{"./panel-message":88,"react":"react"}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var MAX_RESULTS = 5;

function _default(data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });
  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
}

},{}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FOOTER = exports.RESULT = exports.HEADER = void 0;
var HEADER = "HEADER";
exports.HEADER = HEADER;
var RESULT = "RESULT";
exports.RESULT = RESULT;
var FOOTER = "FOOTER";
exports.FOOTER = FOOTER;

},{}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _input = _interopRequireDefault(require("./input"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      onChange = _ref.onChange,
      query = _ref.query;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-search-results",
    role: "menu"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement(_input.default, {
    value: query,
    onChange: onChange
  })), children);
}

},{"./input":63,"react":"react"}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-message"
  }, gettext("Search returned no results."));
}

},{"react":"react"}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _constants = require("./constants");

function _default(results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
}

function flattenProviders(results, flatlist) {
  var arrayLength = results.length;

  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];
    flatlist.push({
      provider: provider,
      type: _constants.HEADER
    });
    flattenProvider(provider, flatlist);
  }
}

function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;

  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants.RESULT
    });
  }

  flatlist.push({
    provider: provider,
    type: _constants.FOOTER
  });
}

},{"./constants":58}],62:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("./constants");

var _dropdownMenu = _interopRequireDefault(require("./dropdown-menu"));

var _empty = _interopRequireDefault(require("./empty"));

var _loader = _interopRequireDefault(require("./loader"));

var _result = _interopRequireDefault(require("./result"));

var _flattenResults = _interopRequireDefault(require("./flatten-results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(_ref) {
  var isLoading = _ref.isLoading,
      onChange = _ref.onChange,
      results = _ref.results,
      query = _ref.query;

  if (!query.trim().length) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    });
  }

  if (results.length) {
    var flatResults = (0, _flattenResults.default)(results);
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, flatResults.map(function (props) {
      var type = props.type,
          provider = props.provider,
          result = props.result;

      if (type === _constants.RESULT) {
        return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
          key: [provider.id, type, result.id].join("_")
        }, props));
      }

      return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
        key: [provider.id, type].join("_"),
        query: query
      }, props));
    }));
  } else if (isLoading) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
  }

  return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
    onChange: onChange,
    query: query
  }, /*#__PURE__*/_react.default.createElement(_empty.default, null));
}

},{"./constants":58,"./dropdown-menu":59,"./empty":60,"./flatten-results":61,"./loader":64,"./result":67,"react":"react"}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var value = _ref.value,
      onChange = _ref.onChange;
  return /*#__PURE__*/_react.default.createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    "aria-controls": "dropdown-menu dropdown-search-results",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: gettext("Search"),
    role: "combobox",
    type: "text"
  });
}

},{"react":"react"}],64:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var message = _ref.message;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":52,"react":"react"}],65:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      query = _ref.query;
  var url = provider.url + "?q=" + encodeURI(query);
  var label = ngettext('See full "%(provider)s" results page with %(count)s result.', 'See full "%(provider)s" results page with %(count)s results.', provider.count);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-footer"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: url
  }, interpolate(label, {
    count: provider.count,
    provider: provider.name
  }, true)));
}

},{"react":"react"}],66:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-header"
  }, provider.name);
}

},{"react":"react"}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("../constants");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _result = _interopRequireDefault(require("./result"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result,
      type = _ref.type,
      query = _ref.query;

  if (type === _constants.HEADER) {
    return /*#__PURE__*/_react.default.createElement(_header.default, {
      provider: provider
    });
  } else if (type === _constants.FOOTER) {
    return /*#__PURE__*/_react.default.createElement(_footer.default, {
      provider: provider,
      query: query
    });
  }

  return /*#__PURE__*/_react.default.createElement(_result.default, {
    provider: provider,
    result: result
  });
}

},{"../constants":58,"./footer":65,"./header":66,"./result":68,"react":"react"}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _thread = _interopRequireDefault(require("./thread"));

var _user = _interopRequireDefault(require("./user"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result;

  if (provider.id === "threads") {
    return /*#__PURE__*/_react.default.createElement(_thread.default, {
      result: result
    });
  }

  return /*#__PURE__*/_react.default.createElement(_user.default, {
    result: result
  });
}

},{"./thread":69,"./user":70,"react":"react"}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var poster = result.poster,
      thread = result.thread;
  var footer = gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url.index,
    className: "dropdown-search-thread"
  }, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-content"
  }, $(result.content).text()), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-footer"
  }, interpolate(footer, {
    category: result.category.name,
    posted_on: (0, _moment.default)(result.posted_on).format("LL"),
    poster: result.poster_name
  }, true))));
}

},{"moment":"moment","react":"react"}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var rank = result.rank;
  var detail = gettext("%(title)s, joined on %(joined_on)s");
  var title = result.title || rank.title || rank.name;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url,
    className: "dropdown-search-user"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 38,
    user: result
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h5", {
    className: "media-heading"
  }, result.username), /*#__PURE__*/_react.default.createElement("small", null, interpolate(detail, {
    title: title,
    joined_on: (0, _moment.default)(result.joined_on).format("LL")
  }, true))))));
}

},{"../../../avatar":8,"moment":"moment","react":"react"}],71:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _ = _interopRequireDefault(require("../.."));

var _cleanResults = _interopRequireDefault(require("./clean-results"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this);

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector("input").focus();
          }, 100);
        }

        return {
          isOpen: !prevState.isOpen
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDocumentMouseDown", function (ev) {
      var closeResults = true;
      var node = ev.target;

      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }

        node = node.parentNode;
      }

      if (closeResults) {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEscape", function (ev) {
      if (ev.key === "Escape") {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var query = ev.target.value;

      _this.setState({
        query: query
      });

      _this.loadResults(query.trim());
    });

    _this.state = {
      isLoading: false,
      isOpen: false,
      query: "",
      results: []
    };
    _this.intervalId = null;
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.onDocumentMouseDown);
      document.addEventListener("keydown", this.onEscape);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.onDocumentMouseDown);
      document.removeEventListener("keydown", this.onEscape);
    }
  }, {
    key: "loadResults",
    value: function loadResults(query) {
      var _this2 = this;

      if (!query.length) return;
      var delay = 300 + Math.random() * 300;

      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }

      this.setState({
        isLoading: true
      });
      this.intervalId = window.setTimeout(function () {
        _ajax.default.get(_.default.get("SEARCH_API"), {
          q: query
        }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0, _cleanResults.default)(data)
          });
        }, function (rejection) {
          _snackbar.default.apiError(rejection);

          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className,
        ref: function ref(container) {
          return _this3.container = container;
        }
      }, /*#__PURE__*/_react.default.createElement("a", {
        "aria-haspopup": "true",
        "aria-expanded": "false",
        className: "navbar-icon",
        "data-toggle": "dropdown",
        href: _.default.get("SEARCH_URL"),
        onClick: this.onToggle
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "search")), /*#__PURE__*/_react.default.createElement(_dropdown.default, {
        isLoading: this.state.isLoading,
        onChange: this.onChange,
        results: this.state.results,
        query: this.state.query
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"./clean-results":57,"./dropdown":62,"react":"react"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../../panel-loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
}

},{"../../panel-loader":87,"react":"react"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), {
          next_change: this.props.options.next_on.fromNow()
        }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
        helpText: this.getHelpText(),
        message: gettext("You can't change your username at the moment.")
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../panel-message":88,"react":"react"}],74:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      username: "",
      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);
        phrases.push(interpolate(message, {
          changes_left: this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes become available again after %(name_changes_expire)s day.", "Used changes become available again after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          name_changes_expire: this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(" ") : null;
    }
  }, {
    key: "clean",
    value: function clean() {
      var errors = this.validate();

      if (errors.username) {
        _snackbar.default.error(errors.username[0]);

        return false;
      }

      if (this.state.username.trim() === this.props.user.username) {
        _snackbar.default.info(gettext("Your new username is same as current one."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        username: ""
      });
      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username",
        helpText: this.getHelpText()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _formLoading = _interopRequireDefault(require("./form-loading"));

var _formLocked = _interopRequireDefault(require("./form-locked"));

var _form = _interopRequireDefault(require("./form"));

var _root = _interopRequireDefault(require("../../username-history/root"));

var _ = _interopRequireDefault(require("../../.."));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onComplete", function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)({
        username: username,
        slug: slug
      }, _this.props.user, _this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar.default.success(gettext("Your username has been changed successfully."));
    });

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax.default.get(this.props.user.api.username), _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.user.id
      })]).then(function (data) {
        _store.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment.default)(data[0].next_on) : null
          }
        });
      });
    }
  }, {
    key: "getChangeForm",
    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(_formLoading.default, null);
      }

      if (this.state.options.changes_left === 0) {
        return /*#__PURE__*/_react.default.createElement(_formLocked.default, {
          options: this.state.options
        });
      }

      return /*#__PURE__*/_react.default.createElement(_form.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, this.getChangeForm(), /*#__PURE__*/_react.default.createElement(_root.default, {
        changes: this.props["username-history"],
        isLoaded: this.state.isLoaded
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/username-history":357,"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/page-title":368,"../../../services/snackbar":371,"../../../services/store":372,"../../username-history/root":274,"./form":74,"./form-loading":72,"./form-locked":73,"moment":"moment","react":"react"}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onPasswordChange", function (event) {
      _this.setState({
        password: event.target.value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      event.preventDefault();
      var _this$state = _this.state,
          isLoading = _this$state.isLoading,
          password = _this$state.password;
      var user = _this.props.user;

      if (password.length == 0) {
        _snackbar.default.error(gettext("Enter your password to confirm account deletion."));

        return false;
      }

      if (isLoading) return false;

      _this.setState({
        isLoading: true
      });

      _ajax.default.post(user.api.delete, {
        password: password
      }).then(function (success) {
        window.location.href = _.default.get("MISAGO_PATH");
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        if (rejection.password) {
          _snackbar.default.error(rejection.password[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Delete account"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-danger panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Delete account"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Stored IP addresses associated with content that you have posted will be deleted.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your username will become available for other user to rename to or for new user to register their account with.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your e-mail will become available for use in new account registration.")), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement("p", null, gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts."))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "input-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        name: "password-confirmation",
        type: "password",
        placeholder: gettext("Enter your password to confirm account deletion."),
        value: this.state.password,
        onChange: this.onPasswordChange
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "input-group-btn"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading
      }, gettext("Delete my account")))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"react":"react"}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DownloadData = /*#__PURE__*/function (_React$Component) {
  _inherits(DownloadData, _React$Component);

  var _super = _createSuper(DownloadData);

  function DownloadData(props) {
    var _this;

    _classCallCheck(this, DownloadData);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleLoadDownloads", function () {
      _ajax.default.get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleRequestDataDownload", function () {
      _this.setState({
        isSubmiting: true
      });

      _ajax.default.post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();

        _snackbar.default.success(gettext("Your request for data download has been registered."));

        _this.setState({
          isSubmiting: false
        });
      }, function (rejection) {
        console.log(rejection);

        _snackbar.default.apiError(rejection);

        _this.setState({
          isSubmiting: false
        });
      });
    });

    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }

  _createClass(DownloadData, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Download your data"),
        parent: gettext("Change your options")
      });

      this.handleLoadDownloads();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Download your data"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, gettext('To download your data from the site, click the "Request data download" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.')), /*#__PURE__*/_react.default.createElement("p", null, gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired."))), /*#__PURE__*/_react.default.createElement("table", {
        className: "table"
      }, /*#__PURE__*/_react.default.createElement("thead", null, /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("th", null, gettext("Requested on")), /*#__PURE__*/_react.default.createElement("th", {
        className: "col-md-4"
      }, gettext("Download")))), /*#__PURE__*/_react.default.createElement("tbody", null, this.state.downloads.map(function (item) {
        return /*#__PURE__*/_react.default.createElement("tr", {
          key: item.id
        }, /*#__PURE__*/_react.default.createElement("td", {
          style: rowStyle
        }, (0, _moment.default)(item.requested_on).fromNow()), /*#__PURE__*/_react.default.createElement("td", null, /*#__PURE__*/_react.default.createElement(DownloadButton, {
          exportFile: item.file,
          status: item.status
        })));
      }), this.state.downloads.length == 0 ? /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("td", {
        colSpan: "2"
      }, gettext("You have no data downloads."))) : null)), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isSubmiting,
        type: "button",
        onClick: this.handleRequestDataDownload
      }, gettext("Request data download")))));
    }
  }]);

  return DownloadData;
}(_react.default.Component);

exports.default = DownloadData;
var rowStyle = {
  verticalAlign: "middle"
};
var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;

var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
      status = _ref.status;

  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return /*#__PURE__*/_react.default.createElement(_button.default, {
      className: "btn-info btn-sm btn-block",
      disabled: true,
      type: "button"
    }, gettext("Download is being prepared"));
  }

  if (exportFile) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "btn btn-success btn-sm btn-block",
      href: exportFile
    }, gettext("Download your data"));
  }

  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: true,
    type: "button"
  }, gettext("Download is expired"));
};

},{"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../button":10,"moment":"moment","react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../edit-details"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function () {
      _snackbar.default.info(gettext("Your details have been updated."));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Edit details"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
        api: this.props.user.api.edit_details,
        onSuccess: this.onSuccess
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/page-title":368,"../../services/snackbar":371,"../edit-details":34,"react":"react"}],79:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _select = _interopRequireDefault(require("../select"));

var _yesNoSwitch = _interopRequireDefault(require("../yes-no-switch"));

var _auth = require("../../reducers/auth");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      is_hiding_presence: props.user.is_hiding_presence,
      limits_private_thread_invites_to: props.user.limits_private_thread_invites_to,
      subscribe_to_started_threads: props.user.subscribe_to_started_threads,
      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,
      errors: {}
    };
    _this.privateThreadInvitesChoices = [{
      value: 0,
      icon: "help_outline",
      label: gettext("Everybody")
    }, {
      value: 1,
      icon: "done_all",
      label: gettext("Users I follow")
    }, {
      value: 2,
      icon: "highlight_off",
      label: gettext("Nobody")
    }];
    _this.subscribeToChoices = [{
      value: 0,
      icon: "star_border",
      label: gettext("No")
    }, {
      value: 1,
      icon: "star_half",
      label: gettext("Notify")
    }, {
      value: 2,
      icon: "star",
      label: gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _store.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));

      _snackbar.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change forum options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Privacy settings")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Hide my presence"),
        helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
        for: "id_is_hiding_presence"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_hiding_presence",
        disabled: this.state.isLoading,
        iconOn: "visibility_off",
        iconOff: "visibility",
        labelOn: gettext("Hide my presence from other users"),
        labelOff: gettext("Show my presence to other users"),
        onChange: this.bindInput("is_hiding_presence"),
        value: this.state.is_hiding_presence
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Private thread invitations"),
        for: "id_limits_private_thread_invites_to"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_limits_private_thread_invites_to",
        disabled: this.state.isLoading,
        onChange: this.bindInput("limits_private_thread_invites_to"),
        value: this.state.limits_private_thread_invites_to,
        choices: this.privateThreadInvitesChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Automatic subscriptions")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I start"),
        for: "id_subscribe_to_started_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_started_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_started_threads"),
        value: this.state.subscribe_to_started_threads,
        choices: this.subscribeToChoices
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I reply to"),
        for: "id_subscribe_to_replied_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_replied_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_replied_threads"),
        value: this.state.subscribe_to_replied_threads,
        choices: this.subscribeToChoices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../reducers/auth":344,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../form":50,"../form-group":49,"../select":204,"../yes-no-switch":294,"react":"react"}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SideNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      className: "list-group-item",
      activeClassName: "active",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, option.icon), option.name);
  }));
}

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.className || "dropdown-menu stick-to-bottom",
    role: "menu"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + option.component + "/",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon hidden-sm"
    }, option.icon), option.name));
  }));
}

},{"../..":296,"../li":51,"react":"react","react-router":"react-router"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _navs = require("./navs");

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _editDetails = _interopRequireDefault(require("./edit-details"));

var _downloadData = _interopRequireDefault(require("./download-data"));

var _forumOptions = _interopRequireDefault(require("./forum-options"));

var _root = _interopRequireDefault(require("./change-username/root"));

var _root2 = _interopRequireDefault(require("./sign-in-credentials/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-options"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Change your options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs visible-xs-block visible-sm-block"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        className: "nav nav-pills",
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      }))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    "username-history": store["username-history"]
  };
}

function paths() {
  var SSO_ENABLED = _.default.get("SETTINGS").enable_sso;

  var paths = [{
    path: _.default.get("USERCP_URL") + "forum-options/",
    component: (0, _reactRedux.connect)(select)(_forumOptions.default)
  }, {
    path: _.default.get("USERCP_URL") + "edit-details/",
    component: (0, _reactRedux.connect)(select)(_editDetails.default)
  }];

  if (!SSO_ENABLED) {
    paths.push({
      path: _.default.get("USERCP_URL") + "change-username/",
      component: (0, _reactRedux.connect)(select)(_root.default)
    });
    paths.push({
      path: _.default.get("USERCP_URL") + "sign-in-credentials/",
      component: (0, _reactRedux.connect)(select)(_root2.default)
    });
  }

  if (_.default.get("ENABLE_DOWNLOAD_OWN_DATA")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "download-data/",
      component: (0, _reactRedux.connect)(select)(_downloadData.default)
    });
  }

  if (!SSO_ENABLED && _.default.get("ENABLE_DELETE_OWN_ACCOUNT")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "delete-account/",
      component: (0, _reactRedux.connect)(select)(_deleteAccount.default)
    });
  }

  return paths;
}

},{"../..":296,"../dropdown-toggle":29,"../with-dropdown":293,"./change-username/root":75,"./delete-account":76,"./download-data":77,"./edit-details":78,"./forum-options":79,"./navs":80,"./sign-in-credentials/root":85,"react":"react","react-redux":"react-redux"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change email or password"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You need to set a password for your account to be able to change your username or email.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-primary",
    href: _.default.get("FORGOTTEN_PASSWORD_URL")
  }, gettext("Set password"))))));
};

var _default = UnusablePasswordMessage;
exports.default = _default;

},{"../../..":296,"react":"react"}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_email: "",
      password: "",
      validators: {
        new_email: [validators.email()],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_email) {
        _snackbar.default.error(errors.new_email[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_email: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar.default.error(rejection.new_email);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change e-mail address"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New e-mail"),
        for: "id_new_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_new_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_email"),
        value: this.state.new_email
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change e-mail")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_password: "",
      repeat_password: "",
      password: "",
      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_password) {
        _snackbar.default.error(errors.new_password[0]);

        return false;
      }

      if (this.state.new_password !== this.state.repeat_password) {
        _snackbar.default.error(gettext("New passwords are different."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_password: "",
        repeat_password: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar.default.error(rejection.new_password);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change password"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New password"),
        for: "id_new_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_new_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_password"),
        value: this.state.new_password
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Repeat password"),
        for: "id_repeat_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_repeat_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("repeat_password"),
        value: this.state.repeat_password
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change password")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changeEmail = _interopRequireDefault(require("./change-email"));

var _changePassword = _interopRequireDefault(require("./change-password"));

var _ = _interopRequireDefault(require("../../.."));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _UnusablePasswordMessage = _interopRequireDefault(require("./UnusablePasswordMessage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return /*#__PURE__*/_react.default.createElement(_UnusablePasswordMessage.default, null);
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_changeEmail.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_changePassword.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-line"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning"), /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Change forgotten password"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../services/page-title":368,"./UnusablePasswordMessage":82,"./change-email":83,"./change-password":84,"react":"react"}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _stringCount = _interopRequireDefault(require("../utils/string-count"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount.default)(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }

      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../utils/string-count":386,"react":"react"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-body-loading"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, {
        className: "loader loader-spaced"
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":52,"react":"react"}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-message-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],89:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("../add-participant"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "person_add"), gettext("Add participant")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/modal":366,"../add-participant":6,"react":"react"}],90:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var participants = _interopRequireWildcard(require("../../../reducers/participants"));

var _thread = require("../../../reducers/thread");

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function leave(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }]).then(function () {
    _snackbar.default.success(gettext("You have left this thread."));

    window.setTimeout(function () {
      window.location = _.default.get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "owner",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

},{"../../..":296,"../../../reducers/participants":345,"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UserStatus = UserStatus;

var _react = _interopRequireDefault(require("react"));

var _makeOwner = _interopRequireDefault(require("./make-owner"));

var _remove = _interopRequireDefault(require("./remove"));

var _avatar = _interopRequireDefault(require("../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var participant = props.participant;
  var className = "btn btn-default";

  if (participant.is_owner) {
    className = "btn btn-primary";
  }

  className += " btn-user btn-block";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-3 col-md-2 participant-card"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: className,
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "34",
    user: participant
  }), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, participant.username)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(UserStatus, {
    isOwner: participant.is_owner
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header"
  }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: participant.url
  }, gettext("See profile"))), /*#__PURE__*/_react.default.createElement("li", {
    role: "separator",
    className: "divider"
  }), /*#__PURE__*/_react.default.createElement(_makeOwner.default, props), /*#__PURE__*/_react.default.createElement(_remove.default, props))));
}

function UserStatus(_ref) {
  var isOwner = _ref.isOwner;
  if (!isOwner) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header dropdown-header-owner"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "start"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, gettext("Thread owner")));
}

},{"../../avatar":8,"./make-owner":93,"./remove":94,"react":"react"}],92:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var participants = _ref.participants,
      thread = _ref.thread,
      user = _ref.user,
      userIsOwner = _ref.userIsOwner;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "participants-cards"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, participants.map(function (participant) {
    return /*#__PURE__*/_react.default.createElement(_card.default, {
      key: participant.id,
      participant: participant,
      thread: thread,
      user: user,
      userIsOwner: userIsOwner
    });
  })));
}

},{"./card":91,"react":"react"}],93:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;
      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Make owner")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":90,"react":"react"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;
      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, this.isUser ? gettext("Leave thread") : gettext("Remove")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":90,"react":"react"}],95:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getUserIsOwner = getUserIsOwner;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("./add-participant"));

var _cardsList = _interopRequireDefault(require("./cards-list"));

var utils = _interopRequireWildcard(require("./utils"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.participants.length) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-participants"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_cardsList.default, _extends({
    userIsOwner: getUserIsOwner(props.user, props.participants)
  }, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-9"
  }, /*#__PURE__*/_react.default.createElement("p", null, utils.getParticipantsCopy(props.participants))))));
}

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./add-participant":89,"./cards-list":92,"./utils":96,"react":"react"}],96:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;

function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);
  return interpolate(message, {
    users: count
  }, true);
}

},{}],97:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LABELS = exports.STYLES = void 0;

var _react = _interopRequireDefault(require("react"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];
exports.STYLES = STYLES;
var LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];
exports.LABELS = LABELS;

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn.default.load().then(function () {
        _this2.setState({
          loaded: true
        });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn.default.scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;
      var score = this.getScore(this.props.password, this.props.inputs);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "help-block password-strength"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar " + STYLES[score],
        style: {
          width: 20 + 20 * score + "%"
        },
        role: "progress-bar",
        "aria-valuenow": score,
        "aria-valuemin": "0",
        "aria-valuemax": "4"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, LABELS[score]))), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-small"
      }, LABELS[score]));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/zxcvbn":373,"react":"react"}],98:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateRandomHash = generateRandomHash;
exports.PollChoice = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onAdd", function () {
      var choices = _this.props.choices.slice();

      choices.push({
        hash: generateRandomHash(),
        label: ""
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });

      _this.props.setChoices(choices);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-choices-control"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.choices.map(function (choice) {
        return /*#__PURE__*/_react.default.createElement(PollChoice, {
          canDelete: _this2.props.choices.length > 2,
          choice: choice,
          disabled: _this2.props.disabled,
          key: choice.hash,
          onChange: _this2.onChange,
          onDelete: _this2.onDelete
        });
      })), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        disabled: this.props.disabled,
        onClick: this.onAdd,
        type: "button"
      }, gettext("Add choice")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var PollChoice = /*#__PURE__*/function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  var _super2 = _createSuper(PollChoice);

  function PollChoice() {
    var _this3;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onChange", function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this3), "onDelete", function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));

      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    });

    return _this3;
  }

  _createClass(PollChoice, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn",
        disabled: !this.props.canDelete || this.props.disabled,
        onClick: this.onDelete,
        title: gettext("Delete this choice"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "close")), /*#__PURE__*/_react.default.createElement("input", {
        disabled: this.props.disabled,
        maxLength: "255",
        placeholder: gettext("choice label"),
        type: "text",
        onChange: this.onChange,
        value: this.props.choice.label
      }));
    }
  }]);

  return PollChoice;
}(_react.default.Component);

exports.PollChoice = PollChoice;

function generateRandomHash() {
  var randomHash = "";

  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, "").substr(1, 12);
  }

  return randomHash;
}

},{"react":"react"}],99:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollPublicSwitch = PollPublicSwitch;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _choicesControl = _interopRequireDefault(require("./choices-control"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setChoices", function (choices) {
      var errors = Object.assign({}, errors, {
        choices: null
      });

      _this.setState({
        choices: choices,
        errors: errors
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    var poll = props.poll || {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };
    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,
      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,
      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar.default.success(gettext("Poll has been posted."));
      }

      _posting.default.close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          errors: Object.assign({}, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Question and choices")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll question"),
        for: "id_questions",
        validation: this.state.errors.question
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_questions",
        onChange: this.bindInput("question"),
        type: "text",
        maxLength: "255",
        value: this.state.question
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Available choices"),
        validation: this.state.errors.choices
      }, /*#__PURE__*/_react.default.createElement(_choicesControl.default, {
        choices: this.state.choices,
        disabled: this.state.isLoading,
        setChoices: this.setChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Voting")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll length"),
        helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
        for: "id_length",
        validation: this.state.errors.length
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_length",
        onChange: this.bindInput("length"),
        type: "text",
        value: this.state.length
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allowed choices"),
        for: "id_allowed_choices",
        validation: this.state.errors.allowed_choices
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_allowed_choices",
        onChange: this.bindInput("allowed_choices"),
        type: "text",
        maxLength: "255",
        value: this.state.allowed_choices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement(PollPublicSwitch, {
        bindInput: this.bindInput,
        disabled: this.state.isLoading,
        isEdit: this.state.isEdit,
        value: this.state.is_public
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allow vote changes"),
        for: "id_allow_revotes"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_allow_revotes",
        disabled: this.state.isLoading,
        iconOn: "check",
        iconOff: "close",
        labelOn: gettext("Allow participants to change their vote"),
        labelOff: gettext("Don't allow participants to change their vote"),
        onChange: this.bindInput("allow_revotes"),
        value: this.state.allow_revotes
      })))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.isLoading,
        onClick: this.onCancel,
        type: "button"
      }, gettext("Cancel")), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, this.state.isEdit ? gettext("Save changes") : gettext("Post poll")))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function PollPublicSwitch(props) {
  if (props.isEdit) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6"
  }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Make voting public"),
    helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
    for: "id_is_public"
  }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
    id: "id_is_public",
    disabled: props.disabled,
    iconOn: "visibility",
    iconOff: "visibility_off",
    labelOn: gettext("Votes are public"),
    labelOff: gettext("Votes are hidden"),
    onChange: props.bindInput("is_public"),
    value: props.value
  })));
}

},{"../../../reducers/poll":346,"../../../services/ajax":359,"../../../services/posting":370,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../../form-group":49,"../../yes-no-switch":294,"./choices-control":98,"react":"react"}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "Poll", {
  enumerable: true,
  get: function get() {
    return _poll.default;
  }
});
Object.defineProperty(exports, "PollForm", {
  enumerable: true,
  get: function get() {
    return _form.default;
  }
});

var _poll = _interopRequireDefault(require("./poll"));

var _form = _interopRequireDefault(require("./form"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./form":99,"./poll":102}],101:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-details"
  }, /*#__PURE__*/_react.default.createElement(PollVotes, {
    votes: props.poll.votes
  }), /*#__PURE__*/_react.default.createElement(PollLength, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollIsPublic, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollCreation, {
    poll: props.poll
  }));
}

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(poll.url.poster),
      user: (0, _escapeHtml.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.endsOn.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-votes"
  }, label);
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-public"
  }, gettext("Votes are public."));
}

},{"../../utils/escape-html":378,"react":"react"}],102:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getIsPollOver = getIsPollOver;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _results = _interopRequireDefault(require("./results"));

var _voting = _interopRequireDefault(require("./voting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showResults", function () {
      _this.setState({
        showResults: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showVoting", function () {
      _this.setState({
        showResults: false
      });
    });

    var showResults = true;

    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;
      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return /*#__PURE__*/_react.default.createElement(_voting.default, _extends({
          showResults: this.showResults
        }, this.props));
      } else {
        return /*#__PURE__*/_react.default.createElement(_results.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment.default)().isAfter(poll.endsOn);
  }

  return false;
}

},{"./results":104,"./voting":108,"moment":"moment","react":"react"}],103:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "poll-choices-bars"
  }, props.poll.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(PollChoice, {
      choice: choice,
      key: choice.hash,
      poll: props.poll
    });
  }));
}

function PollChoice(props) {
  var proc = 0;

  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return /*#__PURE__*/_react.default.createElement("dl", {
    className: "dl-horizontal"
  }, /*#__PURE__*/_react.default.createElement("dt", null, props.choice.label), /*#__PURE__*/_react.default.createElement("dd", null, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress-bar",
    role: "progressbar",
    "aria-valuenow": proc,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    style: {
      width: proc + "%"
    }
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "sr-only"
  }, getVotesLabel(props.votes, props.proc)))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-chart"
  }, /*#__PURE__*/_react.default.createElement(ChoiceVotes, {
    proc: proc,
    votes: props.choice.votes
  }), /*#__PURE__*/_react.default.createElement(UserChoice, {
    selected: props.choice.selected
  }))));
}

function ChoiceVotes(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-votes"
  }, getVotesLabel(props.votes, props.proc));
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);
  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-selected"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), gettext("Your choice."));
}

},{"react":"react"}],104:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _chart = _interopRequireDefault(require("./chart"));

var _options = _interopRequireDefault(require("./options"));

var _info = _interopRequireDefault(require("../info"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-poll"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("h2", null, props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_chart.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_options.default, {
    isPollOver: props.isPollOver,
    poll: props.poll,
    showVoting: props.showVoting,
    thread: props.thread
  })));
}

},{"../info":101,"./chart":103,"./options":106,"react":"react"}],105:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Poll votes"))), /*#__PURE__*/_react.default.createElement(ModalBody, {
        data: this.state.data,
        error: this.state.error,
        isLoading: this.state.isLoading
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalBody(props) {
  if (props.isLoading) {
    return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
  } else if (props.error) {
    return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
      icon: "error_outline",
      message: props.error
    });
  }

  return /*#__PURE__*/_react.default.createElement(ChoicesList, {
    data: props.data
  });
}

function ChoicesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-poll-votes"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled votes-details"
  }, props.data.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceDetails, _extends({
      key: choice.hash
    }, choice));
  })));
}

function ChoiceDetails(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h4", null, props.label), /*#__PURE__*/_react.default.createElement(VotesCount, {
    votes: props.votes
  }), /*#__PURE__*/_react.default.createElement(VotesList, {
    voters: props.voters
  }), /*#__PURE__*/_react.default.createElement("hr", null));
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", null, label);
}

function VotesList(props) {
  if (!props.voters.length) return null;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.voters.map(function (user) {
    return /*#__PURE__*/_react.default.createElement(Voter, _extends({
      key: user.username
    }, user));
  }));
}

function Voter(props) {
  if (props.url) {
    return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
      voted_on: props.voted_on
    }));
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
    voted_on: props.voted_on
  }));
}

function VoteDate(props) {
  return /*#__PURE__*/_react.default.createElement("abbr", {
    className: "text-muted",
    title: props.voted_on.format("LLL")
  }, props.voted_on.fromNow());
}

},{"../../../services/ajax":359,"../../modal-loader":55,"../../modal-message":56,"moment":"moment","react":"react"}],106:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;
exports.Delete = exports.Edit = exports.SeeVotes = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("./modal"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal2 = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;
  if (!isVisible(isPollOver, poll.acl, poll)) return null;
  var controls = [];
  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;
  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row poll-options"
  }, /*#__PURE__*/_react.default.createElement(ChangeVote, {
    controls: controls,
    isPollOver: isPollOver,
    poll: poll,
    showVoting: showVoting
  }), /*#__PURE__*/_react.default.createElement(SeeVotes, {
    controls: controls,
    poll: poll
  }), /*#__PURE__*/_react.default.createElement(Edit, {
    controls: controls,
    poll: poll,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(Delete, {
    controls: controls,
    poll: poll
  }));
}

function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = "col-xs-6";

  if (controls.length === 1) {
    className = "col-xs-12";
  }

  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }

  return className + " col-sm-3 col-md-2";
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;
  if (!(canVote && canChangeVote)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(props.controls, 0)
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.showVoting,
    type: "button"
  }, gettext("Vote")));
}

var SeeVotes = /*#__PURE__*/function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  var _super = _createSuper(SeeVotes);

  function SeeVotes() {
    var _this;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        poll: _this.props.poll
      }));
    });

    return _this;
  }

  _createClass(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("See votes")));
    }
  }]);

  return SeeVotes;
}(_react.default.Component);

exports.SeeVotes = SeeVotes;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        submit: _this2.props.poll.api.index,
        thread: _this2.props.thread,
        poll: _this2.props.poll,
        mode: "POLL"
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 2)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;

      _store.default.dispatch(poll.busy());

      _ajax.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    });

    _defineProperty(_assertThisInitialized(_this3), "handleSuccess", function (newThreadAcl) {
      _snackbar.default.success("Poll has been deleted");

      _store.default.dispatch(poll.remove());

      _store.default.dispatch(thread.updateAcl(newThreadAcl));
    });

    _defineProperty(_assertThisInitialized(_this3), "handleError", function (rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch(poll.release());
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 3)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/poll":346,"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/posting":370,"../../../services/snackbar":371,"../../../services/store":372,"./modal":105,"react":"react"}],107:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-help"
  }, /*#__PURE__*/_react.default.createElement(PollChoicesLeft, {
    choicesLeft: props.choicesLeft
  }), /*#__PURE__*/_react.default.createElement(PollAllowRevote, {
    poll: props.poll
  }));
}

function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;

  if (choicesLeft === 0) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-choices-left"
    }, gettext("You can't select any more choices."));
  }

  var message = ngettext("You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);
  var label = interpolate(message, {
    choices: choicesLeft
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-choices-left"
  }, label);
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-allow-revotes"
    }, gettext("You can change your vote later."));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-no-revotes"
  }, gettext("Votes are final."));
}

},{"../../../utils/escape-html":378,"react":"react"}],108:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _help = _interopRequireDefault(require("./help"));

var _select = _interopRequireDefault(require("./select"));

var _utils = require("./utils");

var _info = _interopRequireDefault(require("../info"));

var _options = require("../results/options");

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleChoice", function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);
      var choices = null;

      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    });

    _defineProperty(_assertThisInitialized(_this), "selectChoice", function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];

          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "deselectChoice", function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    });

    _this.state = {
      isLoading: false,
      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar.default.error(gettext("You need to select at least one choice"));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];

      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];

        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      _snackbar.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];
      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-poll"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("h2", null, this.props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
        poll: this.props.poll
      }), /*#__PURE__*/_react.default.createElement(_select.default, {
        choices: this.state.choices,
        toggleChoice: this.toggleChoice
      }), /*#__PURE__*/_react.default.createElement(_help.default, {
        choicesLeft: this.state.choicesLeft,
        poll: this.props.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 0)
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-sm",
        loading: this.state.isLoading
      }, gettext("Save your vote"))), /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.state.isLoading,
        onClick: this.props.showResults,
        type: "button"
      }, gettext("See results"))), /*#__PURE__*/_react.default.createElement(_options.Edit, {
        controls: controls,
        poll: this.props.poll,
        thread: this.props.thread
      }), /*#__PURE__*/_react.default.createElement(_options.Delete, {
        controls: controls,
        poll: this.props.poll
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/poll":346,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../info":101,"../results/options":106,"./help":107,"./select":109,"./utils":110,"react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChoiceSelect = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled poll-select-choices"
  }, props.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceSelect, {
      choice: choice,
      key: choice.hash,
      toggleChoice: props.toggleChoice
    });
  }));
}

var ChoiceSelect = /*#__PURE__*/function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  var _super = _createSuper(ChoiceSelect);

  function ChoiceSelect() {
    var _this;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    });

    return _this;
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "poll-select-choice"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.choice.selected ? "btn btn-selected" : "btn",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.choice.selected ? "check_box" : "check_box_outline_blank"), /*#__PURE__*/_react.default.createElement("strong", null, this.props.choice.label)));
    }
  }]);

  return ChoiceSelect;
}(_react.default.Component);

exports.ChoiceSelect = ChoiceSelect;

},{"react":"react"}],110:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;

function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];

    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];

  for (var i in choices) {
    var choice = choices[i];

    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],111:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body post-changelog-diff"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.diff.map(function (item, i) {
    return /*#__PURE__*/_react.default.createElement(DiffItem, {
      item: item,
      key: i
    });
  })));
}

function DiffItem(props) {
  if (props.item[0] === "?") return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: getItemClassName(props.item)
  }, cleanItem(props.item));
}

function getItemClassName(item) {
  var className = "diff-item";

  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }

  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],112:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-sm btn-block",
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Revert post to state from before this edit.")
      }, gettext("Revert")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../button":10,"react":"react"}],113:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalDialog = ModalDialog;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diff = _interopRequireDefault(require("./diff"));

var _footer = _interopRequireDefault(require("./footer"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

var _utils = require("./utils");

var _modalMessage = _interopRequireDefault(require("../modal-message"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _modal = _interopRequireDefault(require("../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "goToEdit", function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;

      if (edit !== null) {
        url += "?edit=" + edit;
      }

      _ajax.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function (edit) {
      if (_this.state.isBusy) return;
      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + "?edit=" + edit;

      _ajax.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);

        _store.default.dispatch(post.patch(data, hydratedPost));

        _snackbar.default.success(gettext("Post has been reverted to previous state."));

        _modal.default.hide();
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    });

    _this.state = {
      isReady: false,
      isBusy: true,
      canRevert: props.post.acl.can_edit,
      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-dialog modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          goToEdit: this.goToEdit,
          revertEdit: this.revertEdit
        }), /*#__PURE__*/_react.default.createElement(_diff.default, {
          diff: this.state.edit.diff
        }), /*#__PURE__*/_react.default.createElement(_footer.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          revertEdit: this.revertEdit
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalDialog(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Post edits history"))), props.children));
}

},{"../../reducers/post":347,"../../services/ajax":359,"../../services/modal":366,"../../services/snackbar":371,"../../services/store":372,"../modal-loader":55,"../modal-message":56,"./diff":111,"./footer":112,"./toolbar":114,"./utils":115,"react":"react"}],114:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "goLast", function () {
      _this.props.goToEdit();
    });

    _defineProperty(_assertThisInitialized(_this), "goForward", function () {
      _this.props.goToEdit(_this.props.edit.next);
    });

    _defineProperty(_assertThisInitialized(_this), "goBack", function () {
      _this.props.goToEdit(_this.props.edit.previous);
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-toolbar post-changelog-toolbar"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoBackBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goBack
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoForwardBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goForward
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoLastBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goLast
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label"
      }, /*#__PURE__*/_react.default.createElement(Label, {
        edit: this.props.edit
      })), /*#__PURE__*/_react.default.createElement(RevertBtn, {
        canRevert: this.props.canRevert,
        disabled: this.props.disabled,
        onClick: this.revertEdit
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function GoBackBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.previous,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"));
}

function GoForwardBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See next change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

function GoLastBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "last_page"));
}

function RevertBtn(props) {
  if (!props.canRevert) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-3 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: props.disabled,
    onClick: props.onClick,
    title: gettext("Revert post to state from before this edit.")
  }, gettext("Revert")));
}

function Label(props) {
  var user = null;

  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.edit.url.editor),
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.edit.edited_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.edit.edited_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../utils/escape-html":378,"../button":10,"react":"react"}],115:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment.default)(json.edited_on)
  });
}

},{"moment":"moment"}],116:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-ready"
  }, posts.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(_post.default, {
      key: post.id,
      post: post,
      poster: poster
    });
  }));
}

},{"./post":119,"./preview":125,"react":"react"}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body post-body-invalid"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":378,"../../misago-markup":54,"react":"react"}],118:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link item-title",
    href: thread.url
  }, thread.title), /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link post-category",
    href: category.url.index
  }, category.name), /*#__PURE__*/_react.default.createElement("a", {
    href: post.url.index,
    className: "btn btn-link posted-on",
    title: tooltip
  }, post.posted_on.fromNow()));
}

},{"react":"react"}],119:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _body = _interopRequireDefault(require("./body"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  var user = poster || post.poster;
  var className = "post";

  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className,
    id: "post-" + post.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, {
    post: post,
    poster: user
  }), /*#__PURE__*/_react.default.createElement(_header.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement(_body.default, {
    post: post
  }))));
}

},{"./body":117,"./header":118,"./post-side":122,"react":"react"}],120:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, post.poster_name)), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"./button":121,"react":"react"}],121:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default btn-icon pull-right",
    href: post.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text-left hidden-xs"
  }, gettext("See post")), /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

},{"react":"react"}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, {
      post: post,
      poster: poster
    });
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, {
    post: post
  });
}

},{"./anonymous":120,"./registered":123,"react":"react"}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username)), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    title: poster.title,
    rank: poster.rank
  }))));
}

},{"../../../avatar":8,"./button":121,"./user-title":124,"react":"react"}],124:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, userTitle);
}

},{"react":"react"}],125:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-preview"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))))));
}

},{"../../utils/random":382,"../avatar":8,"react":"react"}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _avatar = _interopRequireDefault(require("./avatar"));

var _modalMessage = _interopRequireDefault(require("./modal-message"));

var _modalLoader = _interopRequireDefault(require("./modal-loader"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isReady: false,
      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return /*#__PURE__*/_react.default.createElement(ModalDialog, {
            className: "modal-sm",
            likes: this.state.likes
          }, /*#__PURE__*/_react.default.createElement(LikesList, {
            likes: this.state.likes
          }));
        }

        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: gettext("No users have liked this post.")
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, {
        className: "modal-sm"
      }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;
  var title = gettext("Post Likes");

  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);
    title = interpolate(message, {
      likes: likesCount
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog " + (className || ""),
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, title)), children));
}

function LikesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-post-likers"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "media-list"
  }, props.likes.map(function (like) {
    return /*#__PURE__*/_react.default.createElement(LikeDetails, _extends({
      key: like.id
    }, like));
  })));
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "media"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "media-left"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "user-avatar",
      href: props.url
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      size: "50",
      user: user
    }))), /*#__PURE__*/_react.default.createElement("div", {
      className: "media-body"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
      likedOn: props.liked_on
    })));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "user-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50"
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
    likedOn: props.liked_on
  })));
}

function LikeDate(props) {
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "text-muted",
    title: props.likedOn.format("LLL")
  }, props.likedOn.fromNow());
}

},{"../services/ajax":359,"./avatar":8,"./modal-loader":55,"./modal-message":56,"moment":"moment","react":"react"}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,
        canProtect: data.can_protect
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onProtect", function () {
      _this.setState({
        protect: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUnprotect", function () {
      _this.setState({
        protect: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      protect: false,
      canProtect: false,
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Reply has been edited."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          canProtect: this.state.canProtect,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          onProtect: this.onProtect,
          onUnprotect: this.onUnprotect,
          protect: this.state.protect,
          submitLabel: gettext("Edit reply"),
          value: this.state.post
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/validators":138,"react":"react"}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _start = _interopRequireDefault(require("./start"));

var _startPrivate = _interopRequireDefault(require("./start-private"));

var _reply = _interopRequireDefault(require("./reply"));

var _edit = _interopRequireDefault(require("./edit"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.mode === "START") {
    return /*#__PURE__*/_react.default.createElement(_start.default, props);
  } else if (props.mode === "START_PRIVATE") {
    return /*#__PURE__*/_react.default.createElement(_startPrivate.default, props);
  } else if (props.mode === "REPLY") {
    return /*#__PURE__*/_react.default.createElement(_reply.default, props);
  } else if (props.mode === "EDIT") {
    return /*#__PURE__*/_react.default.createElement(_edit.default, props);
  } else {
    return null;
  }
}

},{"./edit":127,"./reply":129,"./start":131,"./start-private":130,"react":"react"}],129:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : ""
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "appendData", function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + "\n\n" + newPost
          };
        }

        return {
          post: newPost
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;
      if (context && newContext && context.reply === newContext.reply) return;

      _ajax.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar.default.apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your reply has been posted."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          submitLabel: gettext("Post reply"),
          value: this.state.post,
          expand: false
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/validators":138,"react":"react"}],130:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _usernames = _interopRequireDefault(require("./utils/usernames"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onToChange", function (event) {
      _this.changeValue("to", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");
    _this.state = {
      isLoading: false,
      to: to,
      title: "",
      post: "",
      attachments: [],
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!(0, _usernames.default)(this.state.to).length) {
        _snackbar.default.error(gettext("You have to enter at least one recipient."));

        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        to: (0, _usernames.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onToChange,
        placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
        type: "text",
        value: this.state.to
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/message":135,"./utils/usernames":137,"./utils/validators":138,"react":"react"}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categorySelect = _interopRequireDefault(require("../category-select"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var _options = _interopRequireDefault(require("./utils/options"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null; // hydrate categories, extract posting options

      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,
        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      }); // if selected pin is greater than allowed, reduce it


      var pin = _this.state.pin;

      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,
        pin: pin
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attach) {
      _this.setState({
        attachments: attach
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onClose", function () {
      _this.changeValue("close", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onOpen", function () {
      _this.changeValue("close", false);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinGlobally", function () {
      _this.changeValue("pin", 2);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinLocally", function () {
      _this.changeValue("pin", 1);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnpin", function () {
      _this.changeValue("pin", 0);
    });

    _defineProperty(_assertThisInitialized(_this), "onHide", function () {
      _this.changeValue("hide", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnhide", function () {
      _this.changeValue("hide", false);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      showOptions: false,
      categoryOptions: null,
      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      }

      if (!this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }

      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;
      var titleStyle = null;

      if (columns === 1) {
        titleStyle = "col-sm-6";
      } else {
        titleStyle = "col-sm-8";
      }

      if (columns === 3) {
        titleStyle += " col-md-6";
      } else if (columns) {
        titleStyle += " col-md-7";
      } else {
        titleStyle += " col-md-9";
      }

      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: titleStyle
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        choices: this.state.categories,
        disabled: this.state.isLoading,
        onChange: this.onCategoryChange,
        value: this.state.category
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        close: this.state.close,
        columns: columns,
        disabled: this.state.isLoading,
        hide: this.state.hide,
        onClose: this.onClose,
        onHide: this.onHide,
        onOpen: this.onOpen,
        onPinGlobally: this.onPinGlobally,
        onPinLocally: this.onPinLocally,
        onUnhide: this.onUnhide,
        onUnpin: this.onUnpin,
        options: this.state.categoryOptions,
        pin: this.state.pin,
        showOptions: this.state.showOptions
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../category-select":23,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/options":136,"./utils/validators":138,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });
  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],133:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, props.children));
}

},{"react":"react"}],134:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":52,"./container":133,"react":"react"}],135:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "error_outline"), props.message), /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-default",
    onClick: _posting.default.close
  }, gettext("Dismiss"))));
}

},{"../../../services/posting":370,"./container":133,"react":"react"}],136:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.showOptions) return null;
  var columns = props.columns;
  var className = "col-xs-12 xs-margin-top";

  if (columns === 1) {
    className += " col-sm-2";
  } else {
    className += " sm-margin-top";
  }

  if (columns === 3) {
    className += " col-md-3";
  } else {
    className += " col-md-2";
  }

  className += " posting-options";
  var columnClassName = "col-xs-" + 12 / columns;
  var textClassName = "btn-text";

  if (columns === 3) {
    textClassName += " visible-sm-inline-block";
  } else if (columns === 2) {
    textClassName += " hidden-md hidden-lg";
  } else {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(PinOptions, {
    className: columnClassName,
    disabled: props.disabled,
    onPinGlobally: props.onPinGlobally,
    onPinLocally: props.onPinLocally,
    onUnpin: props.onUnpin,
    pin: props.pin,
    show: props.options.pin,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(HideOptions, {
    className: columnClassName,
    disabled: props.disabled,
    hide: props.hide,
    onHide: props.onHide,
    onUnhide: props.onUnhide,
    show: props.options.hide,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(CloseOptions, {
    className: columnClassName,
    close: props.close,
    disabled: props.disabled,
    onClose: props.onClose,
    onOpen: props.onOpen,
    show: props.options.close,
    textClassName: textClassName
  })));
}

function CloseOptions(props) {
  if (!props.show) return null;
  var label = props.close ? gettext("Closed") : gettext("Open");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.close ? props.onOpen : props.onClose,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.close ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function HideOptions(props) {
  if (!props.show) return null;
  var label = props.hide ? gettext("Hidden") : gettext("Not hidden");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.hide ? props.onUnhide : props.onHide,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.hide ? "visibility_off" : "visibility"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function PinOptions(props) {
  if (!props.show) return null;
  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    case 0:
      icon = "radio_button_unchecked";
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;

    case 1:
      icon = "bookmark_outline";
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");

      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = "bookmark";
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: onClick,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

},{"react":"react"}],137:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });
  return removedDuplicates;
}

},{}],138:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require("../../../utils/validators");

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_.default.get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":296,"../../../utils/validators":387}],139:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Delete = exports.Unhide = exports.Hide = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var post = _interopRequireWildcard(require("../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (isVisible(props.post.acl)) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-controls"
    }, /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
  } else {
    return null;
  }
}

function isVisible(acl) {
  return acl.can_hide;
}

var Hide = /*#__PURE__*/function (_React$Component) {
  _inherits(Hide, _React$Component);

  var _super = _createSuper(Hide);

  function Hide() {
    var _this;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: true
      };

      _ajax.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    });

    return _this;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Hide"));
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  var _super2 = _createSuper(Unhide);

  function Unhide() {
    var _this2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _store.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: false
      };

      _ajax.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    });

    return _this2;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Unhide"));
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));

      if (decision) {
        _this3.delete();
      }
    });

    _defineProperty(_assertThisInitialized(_this3), "delete", function () {
      _store.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, gettext("Delete"));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/post":347,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"moment":"moment","react":"react"}],140:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: "edit",
  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",
  moved: "arrow_forward",
  merged: "call_merge",
  approved: "done",
  opened: "lock_open",
  closed: "lock_outline",
  unhid: "visibility",
  hid: "visibility_off",
  changed_owner: "grade",
  tookover: "grade",
  added_participant: "person_add",
  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, ICON[props.post.event_type]));
}

},{"react":"react"}],141:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _icon = _interopRequireDefault(require("./icon"));

var _info = _interopRequireDefault(require("./info"));

var _message = _interopRequireDefault(require("./message"));

var _unreadLabel = _interopRequireDefault(require("./unread-label"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "event";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement(_unreadLabel.default, {
    post: props.post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-2 col-sm-3 text-right"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-sm-9 text-left"
  }, /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_message.default, props), /*#__PURE__*/_react.default.createElement(_info.default, props)))));
}

},{"../waypoint":167,"./icon":140,"./info":142,"./message":143,"./unread-label":144,"react":"react"}],142:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Hidden = Hidden;
exports.Poster = Poster;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

var _controls = _interopRequireDefault(require("./controls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline event-info"
  }, /*#__PURE__*/_react.default.createElement(Hidden, props), /*#__PURE__*/_react.default.createElement(Poster, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;

    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
      relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
    }, true);
    var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: {
        __html: message
      }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;

  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.post.poster.url),
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml.default)(props.post.url.index),
    absolute: (0, _escapeHtml.default)(props.post.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.posted_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":378,"./controls":139,"react":"react"}],143:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),
  approved: gettext("Thread has been approved."),
  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),
  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),
  tookover: gettext("Took thread over."),
  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};
var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function _default(props) {
  if (MESSAGE[props.post.event_type]) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "event-message"
    }, MESSAGE[props.post.event_type]);
  } else if (props.post.event_type === "changed_title") {
    return /*#__PURE__*/_react.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return /*#__PURE__*/_react.default.createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return /*#__PURE__*/_react.default.createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return /*#__PURE__*/_react.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return /*#__PURE__*/_react.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return /*#__PURE__*/_react.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
}

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml.default)(props.post.event_context.from_category.name)
  }, true);
  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.merged_thread)
  }, true);
  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":378,"react":"react"}],144:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  if (post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "event-label"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread"
  }, gettext("New event")))));
}

},{"react":"react"}],145:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ListItem = ListItem;

var _react = _interopRequireDefault(require("react"));

var _event = _interopRequireDefault(require("./event"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./post/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.posts.isLoaded) {
    return /*#__PURE__*/_react.default.createElement("ul", {
      className: "posts-list ui-preview"
    }, /*#__PURE__*/_react.default.createElement(_preview.default, null));
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list ui-ready"
  }, props.posts.results.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(ListItem, _extends({
      key: post.id,
      post: post
    }, props));
  }));
}

function ListItem(props) {
  if (props.post.is_event) {
    return /*#__PURE__*/_react.default.createElement(_event.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_post.default, props);
}

},{"./event":141,"./post":157,"./post/preview":165,"react":"react"}],146:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-6"
  }, /*#__PURE__*/_react.default.createElement(AttachmentPreview, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachment"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "attachment-name item-title"
  }, props.attachment.filename), /*#__PURE__*/_react.default.createElement(AttachmentDetails, props)));
}

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentThumbnail, props));
  } else {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentIcon, props));
  }
}

function AttachmentIcon(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "material-icon"
  }, "insert_drive_file");
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    style: {
      backgroundImage: 'url("' + (0, _escapeHtml.default)(url) + '")'
    }
  });
}

function AttachmentDetails(props) {
  var user = null;

  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.attachment.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.attachment.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../..":296,"../../../../utils/escape-html":378,"../../../../utils/file-size":379,"react":"react"}],147:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Row = Row;

var _react = _interopRequireDefault(require("react"));

var _batch = _interopRequireDefault(require("../../../../utils/batch"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachments"
  }, (0, _batch.default)(props.post.attachments, 2).map(function (row) {
    var key = row.map(function (a) {
      return a ? a.id : 0;
    }).join("_");
    return /*#__PURE__*/_react.default.createElement(Row, {
      key: key,
      row: row
    });
  }));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, props.row.map(function (attachment) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, {
      attachment: attachment,
      key: attachment ? attachment.id : 0
    });
  }));
}

},{"../../../../utils/batch":375,"./attachment":146,"react":"react"}],148:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function _default(props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return /*#__PURE__*/_react.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Hidden(props) {
  var user = null;

  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-hidden",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post is hidden. You cannot see its contents.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-invalid",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":378,"../../misago-markup":54,"../waypoint":167,"react":"react"}],149:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;
exports.markAsBestAnswer = markAsBestAnswer;
exports.unmarkBestAnswer = unmarkBestAnswer;
exports.patchThread = patchThread;

var _moment = _interopRequireDefault(require("moment"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var previousState = {
    is_unapproved: props.post.is_unapproved
  };
  patch(props, ops, previousState);
}

function protect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function unprotect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function hide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };
  patch(props, ops, previousState);
}

function unhide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var previousState = {
    is_hidden: props.post.is_hidden
  };
  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: true
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function unlike(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: false
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax.default.patch(props.post.api.index, ops).then(function (newState) {
    _store.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  _store.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax.default.delete(props.post.api.index).then(function () {
    _snackbar.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

function markAsBestAnswer(props) {
  var post = props.post,
      user = props.user;

  _store.default.dispatch(thread.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: (0, _moment.default)(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));

  var ops = [{
    op: "replace",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function unmarkBestAnswer(props) {
  var post = props.post;

  _store.default.dispatch(thread.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));

  var ops = [{
    op: "remove",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function patchThread(props, ops, previousState) {
  _ajax.default.patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = (0, _moment.default)(newState.best_answer_marked_on);
    }

    _store.default.dispatch(thread.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(thread.update(previousState));
  });
}

},{"../../../../reducers/post":347,"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/snackbar":371,"../../../../services/store":372,"moment":"moment"}],150:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../../services/posting"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _postChangelog = _interopRequireDefault(require("../../../post-changelog"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Permalink, props), /*#__PURE__*/_react.default.createElement(Edit, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(UnmarkMarkBestAnswer, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Permalink = /*#__PURE__*/function (_React$Component) {
  _inherits(Permalink, _React$Component);

  var _super = _createSuper(Permalink);

  function Permalink() {
    var _this;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;
      prompt(gettext("Permament link to this post:"), permaUrl);
    });

    return _this;
  }

  _createClass(Permalink, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link"), gettext("Permament link")));
    }
  }]);

  return Permalink;
}(_react.default.Component);

exports.Permalink = Permalink;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component3) {
  _inherits(MarkAsBestAnswer, _React$Component3);

  var _super3 = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this3;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      moderation.markAsBestAnswer(_this3.props);
    });

    return _this3;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Mark as best answer")));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var UnmarkMarkBestAnswer = /*#__PURE__*/function (_React$Component4) {
  _inherits(UnmarkMarkBestAnswer, _React$Component4);

  var _super4 = _createSuper(UnmarkMarkBestAnswer);

  function UnmarkMarkBestAnswer() {
    var _this4;

    _classCallCheck(this, UnmarkMarkBestAnswer);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      moderation.unmarkBestAnswer(_this4.props);
    });

    return _this4;
  }

  _createClass(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Unmark best answer")));
    }
  }]);

  return UnmarkMarkBestAnswer;
}(_react.default.Component);

exports.UnmarkMarkBestAnswer = UnmarkMarkBestAnswer;

var PostEdits = /*#__PURE__*/function (_React$Component5) {
  _inherits(PostEdits, _React$Component5);

  var _super5 = _createSuper(PostEdits);

  function PostEdits() {
    var _this5;

    _classCallCheck(this, PostEdits);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this5.props.post
      }));
    });

    return _this5;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Changes history")));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var Approve = /*#__PURE__*/function (_React$Component6) {
  _inherits(Approve, _React$Component6);

  var _super6 = _createSuper(Approve);

  function Approve() {
    var _this6;

    _classCallCheck(this, Approve);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.approve(_this6.props);
    });

    return _this6;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Move = /*#__PURE__*/function (_React$Component7) {
  _inherits(Move, _React$Component7);

  var _super7 = _createSuper(Move);

  function Move() {
    var _this7;

    _classCallCheck(this, Move);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this7.props));
    });

    return _this7;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component8) {
  _inherits(Split, _React$Component8);

  var _super8 = _createSuper(Split);

  function Split() {
    var _this8;

    _classCallCheck(this, Split);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this8.props));
    });

    return _this8;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component9) {
  _inherits(Protect, _React$Component9);

  var _super9 = _createSuper(Protect);

  function Protect() {
    var _this9;

    _classCallCheck(this, Protect);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.protect(_this9.props);
    });

    return _this9;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component10) {
  _inherits(Unprotect, _React$Component10);

  var _super10 = _createSuper(Unprotect);

  function Unprotect() {
    var _this10;

    _classCallCheck(this, Unprotect);

    for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    _this10 = _super10.call.apply(_super10, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this10), "onClick", function () {
      moderation.unprotect(_this10.props);
    });

    return _this10;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Remove protection")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component11) {
  _inherits(Hide, _React$Component11);

  var _super11 = _createSuper(Hide);

  function Hide() {
    var _this11;

    _classCallCheck(this, Hide);

    for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }

    _this11 = _super11.call.apply(_super11, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this11), "onClick", function () {
      moderation.hide(_this11.props);
    });

    return _this11;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          post = _this$props3.post,
          thread = _this$props3.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component12) {
  _inherits(Unhide, _React$Component12);

  var _super12 = _createSuper(Unhide);

  function Unhide() {
    var _this12;

    _classCallCheck(this, Unhide);

    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }

    _this12 = _super12.call.apply(_super12, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this12), "onClick", function () {
      moderation.unhide(_this12.props);
    });

    return _this12;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component13) {
  _inherits(Delete, _React$Component13);

  var _super13 = _createSuper(Delete);

  function Delete() {
    var _this13;

    _classCallCheck(this, Delete);

    for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }

    _this13 = _super13.call.apply(_super13, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this13), "onClick", function () {
      moderation.remove(_this13.props);
    });

    return _this13;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          post = _this$props4.post,
          thread = _this$props4.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":366,"../../../../services/posting":370,"../../../post-changelog":113,"./actions":149,"./move":152,"./split":153,"react":"react"}],151:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pull-right dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default btn-icon dropdown-toggle",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more")), /*#__PURE__*/_react.default.createElement(_dropdown.default, props));
}

},{"./dropdown":150,"react":"react"}],152:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move post to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move post"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move post")));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"../../../form":50,"../../../form-group":49,"react":"react"}],153:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split post")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this post at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message)));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split post into new thread"))), props.children));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../../utils/validators":387,"../../../button":10,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"../../../select":204,"react":"react"}],154:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagBestAnswer = FlagBestAnswer;
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagBestAnswer(_ref) {
  var post = _ref.post,
      thread = _ref.thread,
      user = _ref.user;

  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }

  var message = null;

  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(gettext("Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-best-answer"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("p", null, message));
}

function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is hidden. Only users with permission may see its contents.")));
}

function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-unapproved"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")));
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-protected visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is protected. Only moderators may change it.")));
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("./controls/actions"));

var _postLikes = _interopRequireDefault(require("../../post-likes"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!isVisible(props.post)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-footer"
  }, /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswerCompact, props), /*#__PURE__*/_react.default.createElement(Like, props), /*#__PURE__*/_react.default.createElement(Likes, _extends({
    lastLikes: props.post.last_likes,
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(LikesCompact, _extends({
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(Reply, props), /*#__PURE__*/_react.default.createElement(Edit, props));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component) {
  _inherits(MarkAsBestAnswer, _React$Component);

  var _super = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      actions.markAsBestAnswer(_this.props);
    });

    return _this;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "hidden-xs btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Best answer"));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var MarkAsBestAnswerCompact = /*#__PURE__*/function (_React$Component2) {
  _inherits(MarkAsBestAnswerCompact, _React$Component2);

  var _super2 = _createSuper(MarkAsBestAnswerCompact);

  function MarkAsBestAnswerCompact() {
    var _this2;

    _classCallCheck(this, MarkAsBestAnswerCompact);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      actions.markAsBestAnswer(_this2.props);
    });

    return _this2;
  }

  _createClass(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"));
    }
  }]);

  return MarkAsBestAnswerCompact;
}(_react.default.Component);

exports.MarkAsBestAnswerCompact = MarkAsBestAnswerCompact;

var Like = /*#__PURE__*/function (_React$Component3) {
  _inherits(Like, _React$Component3);

  var _super3 = _createSuper(Like);

  function Like() {
    var _this3;

    _classCallCheck(this, Like);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.post.is_liked) {
        actions.unlike(_this3.props);
      } else {
        actions.like(_this3.props);
      }
    });

    return _this3;
  }

  _createClass(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;
      var className = "btn btn-default btn-sm pull-left";

      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: this.props.post.isBusy,
        onClick: this.onClick,
        type: "button"
      }, this.props.post.is_liked ? gettext("Liked") : gettext("Like"));
    }
  }]);

  return Like;
}(_react.default.Component);

exports.Like = Like;

var Likes = /*#__PURE__*/function (_React$Component4) {
  _inherits(Likes, _React$Component4);

  var _super4 = _createSuper(Likes);

  function Likes() {
    var _this4;

    _classCallCheck(this, Likes);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postLikes.default, {
        post: _this4.props.post
      }));
    });

    return _this4;
  }

  _createClass(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm pull-left hidden-xs",
          onClick: this.onClick,
          type: "button"
        }, getLikesMessage(this.props.likes, this.props.lastLikes));
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "pull-left hidden-xs"
      }, getLikesMessage(this.props.likes, this.props.lastLikes));
    }
  }]);

  return Likes;
}(_react.default.Component);

exports.Likes = Likes;

var LikesCompact = /*#__PURE__*/function (_Likes) {
  _inherits(LikesCompact, _Likes);

  var _super5 = _createSuper(LikesCompact);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _super5.apply(this, arguments);
  }

  _createClass(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
          onClick: this.onClick,
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "favorite"), this.props.likes);
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "likes-compact pull-left visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), this.props.likes);
    }
  }]);

  return LikesCompact;
}(Likes);

exports.LikesCompact = LikesCompact;

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;
  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];
  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);
  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}

var Reply = /*#__PURE__*/function (_React$Component5) {
  _inherits(Reply, _React$Component5);

  var _super6 = _createSuper(Reply);

  function Reply() {
    var _this5;

    _classCallCheck(this, Reply);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this5.props.thread.api.editor,
        submit: _this5.props.thread.api.posts.index,
        context: {
          reply: _this5.props.post.id
        }
      });
    });

    return _this5;
  }

  _createClass(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Reply"));
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react.default.Component);

exports.Reply = Reply;

var Edit = /*#__PURE__*/function (_React$Component6) {
  _inherits(Edit, _React$Component6);

  var _super7 = _createSuper(Edit);

  function Edit() {
    var _this6;

    _classCallCheck(this, Edit);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this6.props.post.api.editor,
        submit: _this6.props.post.api.index
      });
    });

    return _this6;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "hidden-xs btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Edit"));
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

},{"../../../services/modal":366,"../../../services/posting":370,"../../post-likes":126,"./controls/actions":149,"react":"react"}],156:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;
exports.PostEditsCompacts = exports.PostEdits = void 0;

var _react = _interopRequireDefault(require("react"));

var _controls = _interopRequireDefault(require("./controls"));

var _select = _interopRequireDefault(require("./select"));

var _userStatus = require("../../user-status");

var _postChangelog = _interopRequireDefault(require("../../post-changelog"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement(UnreadLabel, props), /*#__PURE__*/_react.default.createElement(UnreadCompact, props), /*#__PURE__*/_react.default.createElement(PostedOn, props), /*#__PURE__*/_react.default.createElement(PostedOnCompact, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(PostEditsCompacts, props), /*#__PURE__*/_react.default.createElement(ProtectedLabel, props), /*#__PURE__*/_react.default.createElement(_select.default, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function UnreadLabel(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread hidden-xs"
  }, gettext("New post"));
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread visible-xs-inline-block"
  }, gettext("New"));
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: props.post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on hidden-xs",
    title: tooltip
  }, props.post.posted_on.fromNow());
}

function PostedOnCompact(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on visible-xs-inline-block"
  }, props.post.posted_on.fromNow(true));
}

var PostEdits = /*#__PURE__*/function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  var _super = _createSuper(PostEdits);

  function PostEdits() {
    var _this;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this.props.post
      }));
    });

    return _this;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);
      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits hidden-xs",
        onClick: this.onClick,
        title: title,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var PostEditsCompacts = /*#__PURE__*/function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  var _super2 = _createSuper(PostEditsCompacts);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _super2.apply(this, arguments);
  }

  _createClass(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits visible-xs-inline-block",
        onClick: this.onClick,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

exports.PostEditsCompacts = PostEditsCompacts;

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-protected hidden-xs",
    title: gettext("This post is protected and may not be edited.")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), gettext("protected"));
}

},{"../../../services/modal":366,"../../post-changelog":113,"../../user-status":268,"./controls":151,"./select":166,"react":"react"}],157:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachments = _interopRequireDefault(require("./attachments"));

var _body = _interopRequireDefault(require("./body"));

var _flags = require("./flags");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "post";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }

  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }

  if (!props.post.is_read) {
    className += " post-new";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-9"
  }, /*#__PURE__*/_react.default.createElement(_header.default, props), /*#__PURE__*/_react.default.createElement(_flags.FlagBestAnswer, props), /*#__PURE__*/_react.default.createElement(_flags.FlagUnapproved, props), /*#__PURE__*/_react.default.createElement(_flags.FlagProtected, props), /*#__PURE__*/_react.default.createElement(_flags.FlagHidden, props), /*#__PURE__*/_react.default.createElement(_body.default, props), /*#__PURE__*/_react.default.createElement(_attachments.default, props), /*#__PURE__*/_react.default.createElement(_footer.default, props))))));
}

},{"./attachments":147,"./body":148,"./flags":154,"./footer":155,"./header":156,"./post-side":160,"react":"react"}],158:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "media-heading item-title"
  }, post.poster_name), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"../../../user-status":268,"../controls":151,"../select":166,"./user-postcount":162,"./user-title":164,"react":"react"}],159:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(_ref) {
  var title = _ref.title,
      rank = _ref.rank;
  return rank.is_tab || !!title || !!rank.title;
}

},{}],160:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.poster) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, props);
}

},{"./anonymous":158,"./registered":161,"react":"react"}],161:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userStatus2 = _interopRequireDefault(require("./user-status"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username), /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
    status: poster.status
  }))), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: poster.rank,
    title: poster.title
  }), /*#__PURE__*/_react.default.createElement(_userStatus2.default, {
    poster: poster
  }), /*#__PURE__*/_react.default.createElement(_userPostcount.default, {
    poster: poster
  }))));
}

},{"../../../avatar":8,"../../../user-status":268,"../controls":151,"../select":166,"./user-postcount":162,"./user-status":163,"./user-title":164,"react":"react"}],162:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);
  var className = "user-postcount";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-xs hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, interpolate(message, {
    posts: poster.posts
  }, true));
}

},{"./has-visible-title":159,"react":"react"}],163:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var className = "hidden-xs";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: poster.status,
    user: poster
  })));
}

},{"../../../user-status":268,"./has-visible-title":159,"react":"react"}],164:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title;

  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: rank.url
    }, userTitle));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, userTitle);
}

},{"react":"react"}],165:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-border"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "100"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0")))))));
}

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isVisible = isVisible;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.post.isSelected) {
        _store.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store.default.dispatch(posts.select(_this.props.post));
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pull-right hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.post.isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":348,"../../../services/store":372,"react":"react"}],167:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this = this;

      if (this.props.post.is_read) return; // don't register read tracker

      $(this.documentNode).waypoint({
        handler: function handler(direction) {
          if (direction !== "down" || _this.props.post.is_read) return; // after 1500ms run flag post as read logic

          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this.documentNode.getBoundingClientRect();

            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;
            if (offsetBottom < 5) return; // scrolled past the post

            if (offsetBottom > clientHeight) return; // scrolled back up
            // mark post as read

            _store.default.dispatch(post.patch(_this.props.post, {
              is_read: true
            })); // call API to let it know we have unread post


            _ajax.default.post(_this.props.post.api.read).then(function (data) {
              _store.default.dispatch(thread.update(_this.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              _snackbar.default.apiError(rejection);
            });
          }, 1000);
        },
        offset: "bottom-in-view"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.className,
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/post":347,"../../reducers/thread":354,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"react":"react"}],168:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../panel-loader"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,
        ban: ban
      });
    });

    _defineProperty(_assertThisInitialized(_this), "error", function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    });

    if (_.default.has("PROFILE_BAN")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api.ban);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-user-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("User-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.user_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-staff-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Team-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.staff_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment.default)())) {
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: _title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return /*#__PURE__*/_react.default.createElement("div", null, this.getUserMessage(), this.getStaffMessage(), /*#__PURE__*/_react.default.createElement("div", {
            className: "panel-body ban-expires"
          }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Ban expiration")), /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.getExpirationMessage())));
        } else {
          return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
            message: gettext("No ban is active at the moment.")
          }));
        }
      } else if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
          icon: "error_outline",
          message: this.state.error
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-ban-details"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Ban details"))), this.getPanelBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/page-title":368,"../../services/polls":369,"../panel-loader":87,"../panel-message":88,"moment":"moment","react":"react"}],169:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isAuthenticated = _ref.isAuthenticated,
      profile = _ref.profile;
  var message = null;

  if (isAuthenticated) {
    message = gettext("You are not sharing any details with others.");
  } else {
    message = interpolate(gettext("%(username)s is not sharing any details with others."), {
      username: profile.username
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body text-center lead"
  }, message));
}

},{"react":"react"}],170:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SafeValue = SafeValue;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var html = _ref.html,
      text = _ref.text,
      url = _ref.url;

  if (html) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: {
        __html: html
      }
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-control-static col-md-9"
  }, /*#__PURE__*/_react.default.createElement(SafeValue, {
    text: text,
    url: url
  }));
}

function SafeValue(_ref2) {
  var text = _ref2.text,
      url = _ref2.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
      href: url,
      target: "_blank",
      rel: "nofollow"
    }, text || url));
  }

  if (text) {
    return /*#__PURE__*/_react.default.createElement("p", null, text);
  }

  return null;
}

},{"react":"react"}],171:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldValue = _interopRequireDefault(require("./field-value"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement("strong", {
    className: "control-label col-md-3"
  }, props.name, ":"), /*#__PURE__*/_react.default.createElement(_fieldValue.default, props));
}

},{"./field-value":170,"react":"react"}],172:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../../edit-details"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var api = _ref.api,
      display = _ref.display,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../edit-details":34,"react":"react"}],173:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _field = _interopRequireDefault(require("./field"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var fields = _ref.fields,
      name = _ref.name;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-profile-details-group"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, name)), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "form-horizontal"
  }, fields.map(function (_ref2) {
    var fieldname = _ref2.fieldname,
        html = _ref2.html,
        name = _ref2.name,
        text = _ref2.text,
        url = _ref2.url;
    return /*#__PURE__*/_react.default.createElement(_field.default, {
      key: fieldname,
      name: name,
      html: html,
      text: text,
      url: url
    });
  }))));
}

},{"./field":171,"react":"react"}],174:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _emptyMessage = _interopRequireDefault(require("./empty-message"));

var _group = _interopRequireDefault(require("./group"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display,
      groups = _ref.groups,
      isAuthenticated = _ref.isAuthenticated,
      loading = _ref.loading,
      profile = _ref.profile;
  if (!display) return null;

  if (loading) {
    return /*#__PURE__*/_react.default.createElement(_loader.default, null);
  }

  if (!groups.length) {
    return /*#__PURE__*/_react.default.createElement(_emptyMessage.default, {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", null, groups.map(function (group, i) {
    return /*#__PURE__*/_react.default.createElement(_group.default, {
      fields: group.fields,
      key: i,
      name: group.name
    });
  }));
}

},{"../../loader":52,"./empty-message":169,"./group":173,"react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.EditButton = EditButton;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var onEdit = _ref.onEdit,
      showEditButton = _ref.showEditButton;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("nav", {
    className: "toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-10"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "md-margin-top-no"
  }, gettext("Details"))), /*#__PURE__*/_react.default.createElement(EditButton, {
    onEdit: onEdit,
    showEditButton: showEditButton
  }))));
}

function EditButton(_ref2) {
  var onEdit = _ref2.onEdit,
      showEditButton = _ref2.showEditButton;
  if (!showEditButton) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-2"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    onClick: onEdit,
    type: "button"
  }, gettext("Edit")));
}

},{"react":"react"}],176:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _groupsList = _interopRequireDefault(require("./groups-list"));

var _header = _interopRequireDefault(require("./header"));

var _profileDetails = _interopRequireDefault(require("../../../data/profile-details"));

var _profileDetails2 = require("../../../reducers/profile-details");

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        editing: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        editing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function (newDetails) {
      var _this$props = _this.props,
          dispatch = _this$props.dispatch,
          isAuthenticated = _this$props.isAuthenticated,
          profile = _this$props.profile;
      var message = null;

      if (isAuthenticated) {
        message = gettext("Your details have been updated.");
      } else {
        message = interpolate(gettext("%(username)s's details have been updated."), {
          username: profile.username
        }, true);
      }

      _snackbar.default.info(message);

      dispatch((0, _profileDetails2.load)(newDetails));

      _this.setState({
        editing: false
      });
    });

    _this.state = {
      editing: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          dispatch = _this$props2.dispatch,
          isAuthenticated = _this$props2.isAuthenticated,
          profile = _this$props2.profile,
          profileDetails = _this$props2.profileDetails;
      var loading = profileDetails.id !== profile.id;
      return /*#__PURE__*/_react.default.createElement(_profileDetails.default, {
        data: profileDetails,
        dispatch: dispatch,
        user: profile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-details"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        onEdit: this.onEdit,
        showEditButton: !!profileDetails.edit && !this.state.editing
      }), /*#__PURE__*/_react.default.createElement(_groupsList.default, {
        display: !this.state.editing,
        groups: profileDetails.groups,
        isAuthenticated: isAuthenticated,
        loading: loading,
        profile: profile
      }), /*#__PURE__*/_react.default.createElement(_form.default, {
        api: profile.api.edit_details,
        dispatch: dispatch,
        display: this.state.editing,
        onCancel: this.onCancel,
        onSuccess: this.onSuccess
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../data/profile-details":295,"../../../reducers/profile-details":349,"../../../services/page-title":368,"../../../services/snackbar":371,"./form":172,"./groups-list":174,"./header":175,"react":"react"}],177:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _route = _interopRequireDefault(require("./route"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function Threads(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.profile.threads);
    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.profile.threads);

    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.profile.posts);
    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.profile.posts);

    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":178,"react":"react"}],178:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.next);
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;

      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      _ajax.default.get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          _store.default.dispatch(posts.load(data));
        } else {
          _store.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-feed"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.props.header)), /*#__PURE__*/_react.default.createElement(Feed, _extends({
        isLoading: this.state.isLoading,
        loadMore: this.loadMore
      }, this.props)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Feed(props) {
  if (!props.posts.results.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, props.emptyMessage);
  }

  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: props.posts.isLoaded,
    posts: props.posts.results,
    poster: props.profile
  }), /*#__PURE__*/_react.default.createElement(LoadMoreButton, {
    isLoading: props.isLoading,
    loadMore: props.loadMore,
    next: props.posts.next
  }));
}

function LoadMoreButton(props) {
  if (!props.next) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pager-more"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn btn-default btn-outline",
    loading: props.isLoading,
    onClick: props.loadMore
  }, gettext("Show older activity")));
}

},{"../../../reducers/posts":348,"../../../services/ajax":359,"../../../services/page-title":368,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../post-feed":116,"react":"react"}],179:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _profile = require("../../reducers/profile");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "action", function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax.default.post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.action
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), this.getLabel());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/profile":350,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"../button":10,"react":"react"}],180:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _usersList = _interopRequireDefault(require("../users-list"));

var _ = _interopRequireDefault(require("../.."));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    });

    _this.setSpecialProps();

    if (_.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = gettext("Followers");
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var apiUrl = this.props.profile.api[this.API_FILTER];

      _ajax.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show more (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.getEmptyMessage());
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 3,
        isReady: this.state.isLoaded,
        users: this.props.users
      }), this.getMoreButton());
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search users...")
      })), this.getListBody());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../reducers/users":358,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../quick-search":191,"../users-list":278,"react":"react"}],181:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _followers = _interopRequireDefault(require("./followers"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Followers) {
  _inherits(_default, _Followers);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      this.TITLE = gettext("Follows");
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);

  return _default;
}(_followers.default);

exports.default = _default;

},{"./followers":180,"react":"react"}],182:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _messageButton = _interopRequireDefault(require("./message-button"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _userStatus = _interopRequireWildcard(require("../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getUserStatus",
    value: function getUserStatus() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-status-display"
      }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
        user: this.props.profile,
        status: this.props.profile.status
      }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
        user: this.props.profile,
        status: this.props.profile.status
      }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
        user: this.props.profile,
        status: this.props.profile.status,
        className: "status-label"
      })));
    }
  }, {
    key: "getUserRank",
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.profile.rank.url,
          className: "item-title"
        }, this.props.profile.rank.name));
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.profile.rank.name));
      }
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (this.props.profile.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.title);
      } else if (this.props.profile.rank.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.rank.title);
      } else {
        return null;
      }
    }
  }, {
    key: "getJoinedOn",
    value: function getJoinedOn() {
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.format("LL, LT")
      }, true);
      var age = interpolate(gettext("Joined %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.fromNow()
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-joined-on"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: title
      }, age));
    }
  }, {
    key: "getEmail",
    value: function getEmail() {
      if (this.props.profile.email) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-email"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: "mailto:" + this.props.profile.email,
          className: "item-title"
        }, this.props.profile.email));
      } else {
        return null;
      }
    }
  }, {
    key: "getFollowButton",
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        return /*#__PURE__*/_react.default.createElement(_followButton.default, {
          className: "btn btn-block btn-outline",
          profile: this.props.profile
        });
      } else {
        return null;
      }
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group btn-group-justified"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-moderate btn-outline dropdown-toggle",
          type: "button",
          "data-toggle": "dropdown",
          "aria-haspopup": "true",
          "aria-expanded": "false"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "tonality"), gettext("Moderation")), /*#__PURE__*/_react.default.createElement(_nav.default, {
          profile: this.props.profile
        })));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;
      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;
      var colsWidth = cols ? 2 * cols + 1 : 0;
      var headerClassName = "page-header";

      if (this.props.profile.rank.css_class) {
        headerClassName += " page-header-rank-" + this.props.profile.rank.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(IsDisabledMessage, {
        isActive: this.props.profile.is_active,
        isDeletingAccount: this.props.profile.is_deleting_account
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + (12 - colsWidth)
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        className: "user-avatar user-avatar-sm",
        user: this.props.profile,
        size: "100",
        size2x: "200"
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.profile.username)), !!cols && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + colsWidth
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, !!canMessage && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 0)
      }, /*#__PURE__*/_react.default.createElement(_messageButton.default, {
        className: "btn btn-default btn-block btn-outline",
        profile: this.props.profile,
        user: this.props.user
      })), !!canFollow && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 1)
      }, this.getFollowButton()), !!canModerate && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 2)
      }, this.getModerationButton()))))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "header-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-inline"
      }, this.getUserStatus(), this.getUserRank(), this.getUserTitle(), this.getJoinedOn(), this.getEmail()))))), /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        baseUrl: this.props.baseUrl,
        pages: this.props.pages,
        profile: this.props.profile
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function IsDisabledMessage(_ref) {
  var isActive = _ref.isActive,
      isDeletingAccount = _ref.isDeletingAccount;
  if (isActive !== false && isDeletingAccount !== true) return null;
  var message = null;

  if (isDeletingAccount) {
    message = gettext("This user is deleting their account.");
  } else {
    message = gettext("This user's account has been disabled by administrator.");
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "alert alert-danger"
  }, /*#__PURE__*/_react.default.createElement("p", null, message));
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols == 1) {
    colStyle = "col-xs-12";
  }

  if (cols == 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols == 3) {
    if (col == 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}

},{"../avatar":8,"../dropdown-toggle":29,"../user-status":268,"./follow-button":179,"./message-button":183,"./moderation/nav":187,"./navs":188,"react":"react"}],183:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API"),
        to: [_this.props.profile]
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      if (!canMessage || isProfileOwner) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.className,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "comment"), gettext("Message"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/posting":370,"react":"react"}],184:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,
          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));

      _snackbar.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Lock avatar"),
        helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
        for: "id_is_avatar_locked"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_avatar_locked",
        disabled: this.state.isLoading,
        iconOn: "lock_outline",
        iconOff: "lock_open",
        labelOn: gettext("Disallow user from changing avatar"),
        labelOff: gettext("Allow user to change avatar"),
        onChange: this.bindInput("is_avatar_locked"),
        value: this.state.is_avatar_locked
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User message"),
        helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
        for: "id_avatar_lock_user_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_user_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_user_message"),
        value: this.state.avatar_lock_user_message
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Staff message"),
        helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
        for: "id_avatar_lock_staff_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_staff_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_staff_message"),
        value: this.state.avatar_lock_staff_message
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Close")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Avatar controls"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"../../yes-no-switch":294,"react":"react"}],185:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      username: "",
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar.default.success(gettext("Username has been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change username"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/username-history":357,"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"react":"react"}],186:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _polls = _interopRequireDefault(require("../../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "countdown", function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });

          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    });

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,
      countdown: 5,
      confirm: false,
      with_content: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _polls.default.stop("user-profile");

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User content"),
        for: "id_with_content"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_with_content",
        disabled: this.state.isLoading,
        labelOn: gettext("Delete together with user's account"),
        labelOff: gettext("Hide after deleting user's account"),
        onChange: this.bindInput("with_content"),
        value: this.state.with_content
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading,
        disabled: !this.state.confirm
      }, this.getButtonLabel())));
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.state.isDeleted), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERS_LIST_URL")
      }, gettext("Return to users list")))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Delete user account"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":296,"../../../services/ajax":359,"../../../services/polls":369,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"../../yes-no-switch":294,"react":"react"}],187:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatarControls = _interopRequireDefault(require("./avatar-controls"));

var _changeUsername = _interopRequireDefault(require("./change-username"));

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showAvatarDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_avatarControls.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showRenameDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_changeUsername.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showDeleteDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_deleteAccount.default));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarButton",
    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showAvatarDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "portrait"), gettext("Avatar controls")));
      } else {
        return null;
      }
    }
  }, {
    key: "getRenameButton",
    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showRenameDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "credit_card"), gettext("Change username")));
      } else {
        return null;
      }
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showDeleteDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "clear"), gettext("Delete account")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        role: "menu"
      }, this.getAvatarButton(), this.getRenameButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../services/modal":366,"./avatar-controls":184,"./change-username":185,"./delete-account":186,"react":"react","react-redux":"react-redux"}],188:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = CompactNav;
exports.SideNav = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SideNav = /*#__PURE__*/function (_React$Component) {
  _inherits(SideNav, _React$Component);

  var _super = _createSuper(SideNav);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _super.apply(this, arguments);
  }

  _createClass(SideNav, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "list-group nav-side"
      }, this.props.pages.map(function (page) {
        return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
          to: _this.props.baseUrl + page.component + "/",
          className: "list-group-item",
          activeClassName: "active",
          key: page.component
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, page.icon), page.name);
      }));
    }
  }]);

  return SideNav;
}(_react.default.Component);

exports.SideNav = SideNav;

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs hidden-md hidden-lg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills",
    role: "menu"
  }, props.pages.map(function (page) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + page.component + "/",
      key: page.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + page.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  }))));
}

},{"../..":296,"../li":51,"./follow-button":179,"react":"react","react-router":"react-router"}],189:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _banDetails = _interopRequireDefault(require("./ban-details"));

var _details = _interopRequireDefault(require("./details"));

var _feed = require("./feed");

var _followers = _interopRequireDefault(require("./followers"));

var _follows = _interopRequireDefault(require("./follows"));

var _usernameHistory = _interopRequireDefault(require("./username-history"));

var _header = _interopRequireDefault(require("./header"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _avatar = _interopRequireDefault(require("../avatar"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _polls = _interopRequireDefault(require("../../services/polls"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _profile.hydrate)(data));
    });

    _this.startPolling(props.profile.api.index);

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var baseUrl = _.default.get("PROFILE").url;

      var pages = _.default.get("PROFILE_PAGES");

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-user-profile"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile,
        toggleNav: this.toggleNav,
        toggleModeration: this.toggleModeration,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-side-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.profile,
        size: "400"
      })), /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}

var COMPONENTS = {
  posts: _feed.Posts,
  threads: _feed.Threads,
  followers: _followers.default,
  follows: _follows.default,
  details: _details.default,
  "username-history": _usernameHistory.default,
  "ban-details": _banDetails.default
};

function paths() {
  var paths = [];

  _.default.get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _.default.get("PROFILE").url + item.component + "/",
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":296,"../../reducers/profile":350,"../../services/polls":369,"../../services/store":372,"../avatar":8,"../with-dropdown":293,"./ban-details":168,"./details":176,"./feed":177,"./followers":180,"./follows":181,"./header":182,"./moderation/nav":187,"./navs":188,"./username-history":190,"react":"react","react-redux":"react-redux"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _root = _interopRequireDefault(require("../username-history/root"));

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = require("../../reducers/username-history");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    });

    if (_.default.has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);
        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show older (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-username-history"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search history...")
      })), /*#__PURE__*/_react.default.createElement(_root.default, {
        isLoaded: this.state.isLoaded,
        emptyMessage: this.getEmptyMessage(),
        changes: this.props["username-history"]
      }), this.getMoreButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../reducers/username-history":357,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../quick-search":191,"../username-history/root":274,"react":"react"}],191:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        value: this.props.value,
        onChange: this.props.onChange,
        placeholder: this.props.placeholder || gettext("Search...")
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "search"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],192:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

var _register = _interopRequireDefault(require("./register.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showRegisterForm", function () {
      if (misago.get("SETTINGS").account_activation === "closed") {
        _snackbar.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({
          isLoading: true
        });

        Promise.all([_captcha.default.load(), _ajax.default.get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({
            isLoading: false
          });

          _snackbar.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    });

    _this.state = {
      isLoading: false,
      isLoaded: false,
      criteria: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? " btn-loading" : "");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn " + this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.showRegisterForm,
        type: "button"
      }, gettext("Make Account"), this.state.isLoading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/captcha":361,"../services/modal":366,"../services/snackbar":371,"./loader":52,"./register.js":193,"react":"react"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RegisterComplete = exports.RegisterForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _passwordStrength = _interopRequireDefault(require("./password-strength"));

var _RegisterLegalFootnote = _interopRequireDefault(require("./RegisterLegalFootnote"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

var validators = _interopRequireWildcard(require("../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var RegisterForm = /*#__PURE__*/function (_Form) {
  _inherits(RegisterForm, _Form);

  var _super = _createSuper(RegisterForm);

  function RegisterForm(props) {
    var _this;

    _classCallCheck(this, RegisterForm);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;
    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });
    var formValidators = {
      username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
      email: [validators.email()],
      password: [validators.passwordMinLength(passwordMinLength)],
      captcha: _captcha.default.validator()
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      isLoading: false,
      username: "",
      email: "",
      password: "",
      captcha: "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar.default.error(rejection.__all__[0]);
        } else {
          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Register"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonClassName: "col-xs-12 col-sm-6",
        buttonLabel: gettext("Join with %(site)s"),
        formLabel: gettext("Or create forum account:")
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Username"),
        for: "id_username",
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        "aria-describedby": "id_username_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("E-mail"),
        for: "id_email",
        validation: this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_email",
        className: "form-control",
        "aria-describedby": "id_email_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Password"),
        for: "id_password",
        validation: this.state.errors.password,
        extra: /*#__PURE__*/_react.default.createElement(_passwordStrength.default, {
          password: this.state.password,
          inputs: [this.state.username, this.state.email]
        })
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_password",
        className: "form-control",
        "aria-describedby": "id_password_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      })), _captcha.default.component({
        form: this
      }), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Register account"))))));
    }
  }]);

  return RegisterForm;
}(_form.default);

exports.RegisterForm = RegisterForm;

var RegisterComplete = /*#__PURE__*/function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  var _super2 = _createSuper(RegisterComplete);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _super2.apply(this, arguments);
  }

  _createClass(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === "admin") {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === "admin") {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-message modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Registration complete"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, interpolate(this.getLead(), {
        username: this.props.username
      }, true)), /*#__PURE__*/_react.default.createElement("p", null, interpolate(this.getSubscript(), {
        email: this.props.email
      }, true)), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))))));
    }
  }]);

  return RegisterComplete;
}(_react.default.Component);

exports.RegisterComplete = RegisterComplete;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "completeRegistration", function (apiResponse) {
      if (apiResponse.activation === "active") {
        _modal.default.hide();

        _auth.default.signIn(apiResponse);
      } else {
        _this2.setState({
          complete: apiResponse
        });
      }
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return /*#__PURE__*/_react.default.createElement(RegisterForm, _extends({
        callback: this.completeRegistration
      }, this.props));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/auth":360,"../services/captcha":361,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./RegisterLegalFootnote":3,"./StartSocialAuth":4,"./button":10,"./form":50,"./form-group":49,"./password-strength":97,"react":"react"}],194:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LinkSent = exports.RequestLinkForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestLinkForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestLinkForm, _Form);

  var _super = _createSuper(RequestLinkForm);

  function RequestLinkForm(props) {
    var _this;

    _classCallCheck(this, RequestLinkForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        _snackbar.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestLinkForm;
}(_form.default);

exports.RequestLinkForm = RequestLinkForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block",
        type: "button",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          user: this.state.complete,
          callback: this.reset
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(RequestLinkForm, {
          callback: this.complete
        });
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./button":10,"./form":50,"react":"react"}],195:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestResetForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestResetForm, _Form);

  var _super = _createSuper(RequestResetForm);

  function RequestResetForm(props) {
    var _this;

    _classCallCheck(this, RequestResetForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestResetForm;
}(_form.default);

exports.RequestResetForm = RequestResetForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary btn-block",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var AccountInactivePage = /*#__PURE__*/function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  var _super3 = _createSuper(AccountInactivePage);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _super3.apply(this, arguments);
  }

  _createClass(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
          href: _.default.get("REQUEST_ACTIVATION_URL")
        }, gettext("Activate your account.")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-info page-forgotten-password-inactive"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("Your account is inactive.")), /*#__PURE__*/_react.default.createElement("p", null, this.props.message), this.getActivateButton()))));
    }
  }]);

  return AccountInactivePage;
}(_react.default.Component);

exports.AccountInactivePage = AccountInactivePage;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super4 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super4.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }

      return /*#__PURE__*/_react.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./button":10,"./form":50,"react":"react","react-dom":"react-dom"}],196:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PasswordChangedPage = exports.ResetPasswordForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _signIn = _interopRequireDefault(require("./sign-in.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ResetPasswordForm = /*#__PURE__*/function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  var _super = _createSuper(ResetPasswordForm);

  function ResetPasswordForm(props) {
    var _this;

    _classCallCheck(this, ResetPasswordForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter new password."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-reset-password"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: gettext("Enter new password"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Change password"))));
    }
  }]);

  return ResetPasswordForm;
}(_form.default);

exports.ResetPasswordForm = ResetPasswordForm;

var PasswordChangedPage = /*#__PURE__*/function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  var _super2 = _createSuper(PasswordChangedPage);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _super2.apply(this, arguments);
  }

  _createClass(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-success page-forgotten-password-changed"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, gettext("You will have to sign in using new password before continuing.")), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary",
        onClick: this.showSignIn
      }, gettext("Sign in")))))));
    }
  }]);

  return PasswordChangedPage;
}(_react.default.Component);

exports.PasswordChangedPage = PasswordChangedPage;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default() {
    var _this2;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this2 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _auth.default.softSignOut(); // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in


      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(PasswordChangedPage, {
        user: apiResponse
      }), document.getElementById("page-mount"));
    });

    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(ResetPasswordForm, {
        callback: this.complete
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/auth":360,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"./..":296,"./button":10,"./form":50,"./sign-in.js":205,"react":"react","react-dom":"react-dom"}],197:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _form = _interopRequireDefault(require("../form"));

var _posts = require("../../reducers/posts");

var _search = require("../../reducers/search");

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onQueryChange", function (event) {
      _this.changeValue("query", event.target.value);
    });

    _this.state = {
      isLoading: false,
      query: props.search.query
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar.default.error(gettext("You have to enter search query."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      _store.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax.default.get(_.default.get("SEARCH_API"), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      _store.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === "users") {
          _store.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          _store.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header page-search-form"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Search"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.props.search.isLoading || this.state.isLoading,
        onChange: this.onQueryChange,
        type: "text",
        value: this.state.query
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block btn-outline",
        disabled: this.props.search.isLoading || this.state.isLoading
      }, gettext("Search"))))))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../..":296,"../../reducers/posts":348,"../../reducers/search":351,"../../reducers/users":358,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"../form":50,"react":"react"}],198:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = _default;

var _reactRedux = require("react-redux");

var _threads = _interopRequireDefault(require("./threads"));

var _users = _interopRequireDefault(require("./users"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads.default,
  users: _users.default
};

function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function _default(providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
}

},{"./threads":201,"./users":203,"react-redux":"react-redux"}],199:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SearchTime = SearchTime;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _sidenav = _interopRequireDefault(require("./sidenav"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-search"
  }, /*#__PURE__*/_react.default.createElement(_form.default, {
    provider: props.provider,
    search: props.search
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3"
  }, /*#__PURE__*/_react.default.createElement(_sidenav.default, {
    providers: props.search.providers
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-9"
  }, props.children, /*#__PURE__*/_react.default.createElement(SearchTime, {
    provider: props.provider,
    search: props.search
  })))));
}

function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });
  if (time === null) return null;
  var copy = gettext("Search took %(time)s s to complete");
  return /*#__PURE__*/_react.default.createElement("footer", {
    className: "search-footer"
  }, /*#__PURE__*/_react.default.createElement("p", null, interpolate(copy, {
    time: time
  }, true)));
}

},{"./form":197,"./sidenav":200,"react":"react"}],200:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Badge = Badge;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.providers.map(function (provider) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      activeClassName: "active",
      className: "list-group-item",
      key: provider.id,
      to: provider.url
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, provider.icon), provider.name, /*#__PURE__*/_react.default.createElement(Badge, {
      results: provider.results
    }));
  }));
}

function Badge(props) {
  if (!props.results) return null;
  var count = props.results.count;

  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, count);
}

},{"react":"react","react-router":"react-router"}],201:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _results = _interopRequireDefault(require("./results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    posts: props.posts
  }, /*#__PURE__*/_react.default.createElement(_results.default, _extends({
    provider: props.route.provider,
    query: props.search.query
  }, props.posts))));
}

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No threads matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search threads."));
}

},{"../page":199,"./results":202,"react":"react"}],202:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LoadMore = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _posts = require("../../../reducers/posts");

var _search = require("../../../reducers/search");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: true,
    posts: props.results
  }), /*#__PURE__*/_react.default.createElement(LoadMore, props));
}

var LoadMore = /*#__PURE__*/function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  var _super = _createSuper(LoadMore);

  function LoadMore() {
    var _this;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;

          _store.default.dispatch((0, _posts.append)(provider.results));

          _store.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    });

    return _this;
  }

  _createClass(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.props.isBusy,
        onClick: this.onClick
      }, gettext("Show more")));
    }
  }]);

  return LoadMore;
}(_react.default.Component);

exports.LoadMore = LoadMore;

},{"../../../reducers/posts":348,"../../../reducers/search":351,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../misago-markup":54,"../../post-feed":116,"react":"react"}],203:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    users: props.users
  }, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 3,
    isReady: true,
    users: props.users
  })));
}

function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No users matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search users."));
}

},{"../../users-list":278,"../page":199,"react":"react"}],204:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Icon = Icon;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "change", function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-select-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-select dropdown-toggle",
        id: this.props.id || null,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement(Icon, {
        icon: this.getIcon()
      }), this.getLabel()), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu"
      }, this.props.choices.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement("li", {
          key: i
        }, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn-link",
          onClick: _this3.change(item.value)
        }, /*#__PURE__*/_react.default.createElement(Icon, {
          icon: item.icon
        }), item.label));
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Icon(_ref) {
  var icon = _ref.icon;
  if (!icon) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon);
}

},{"react":"react"}],205:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      showActivation: false,
      username: "",
      password: "",
      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        _snackbar.default.error(gettext("Fill out both fields."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");
      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />'); // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature

      form.find('input[type="hidden"]').val(_ajax.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit(); // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          _snackbar.default.info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          _snackbar.default.info(rejection.detail);

          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0, _bannedPage.default)(rejection.detail);

          _modal.default.hide();
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;
      return /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-success btn-block",
        href: _.default.get("REQUEST_ACTIVATION_URL")
      }, gettext("Activate account"));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm modal-sign-in",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Sign in"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonLabel: gettext("Sign in with %(site)s"),
        formLabel: gettext("Or use your forum account:"),
        labelClassName: "text-center"
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_username",
        onChange: this.bindInput("username"),
        placeholder: gettext("Username or e-mail"),
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_password",
        onChange: this.bindInput("password"),
        placeholder: gettext("Password"),
        type: "password",
        value: this.state.password
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, this.getActivationButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Sign in")), /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-default btn-block",
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Forgot password?"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../services/ajax":359,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"./..":296,"./StartSocialAuth":4,"./button":10,"./form":50,"react":"react"}],206:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.Snackbar = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};

var Snackbar = /*#__PURE__*/function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  var _super = _createSuper(Snackbar);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _super.apply(this, arguments);
  }

  _createClass(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";

      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }

      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getSnackbarClass()
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "alert " + TYPES_CLASSES[this.props.type]
      }, this.props.message));
    }
  }]);

  return Snackbar;
}(_react.default.Component);

exports.Snackbar = Snackbar;

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],207:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _header = _interopRequireDefault(require("./header"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Complete = function Complete(_ref) {
  var activation = _ref.activation,
      backend_name = _ref.backend_name,
      username = _ref.username;
  var icon = "";
  var message = "";

  if (activation === "user") {
    message = gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === "admin") {
    message = gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
  } else {
    message = gettext("%(username)s, your account has been created and you have been signed in to it.");
  }

  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-social-auth page-social-sauth-register"
  }, /*#__PURE__*/_react.default.createElement(_header.default, {
    backendName: backend_name
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-6 col-md-offset-3"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Registration completed!"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, interpolate(message, {
    username: username
  }, true)), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default",
    href: _.default.get("MISAGO_PATH")
  }, gettext("Return to forum index"))))))))));
};

var _default = Complete;
exports.default = _default;

},{"../..":296,"./header":208,"react":"react"}],208:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = function Header(_ref) {
  var backendName = _ref.backendName;
  var pageTitleTpl = gettext("Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, {
    backend: backendName
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header-bg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("h1", null, pageTitle))));
};

var _default = Header;
exports.default = _default;

},{"react":"react"}],209:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _register = _interopRequireDefault(require("./register"));

var _complete = _interopRequireDefault(require("./complete"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SocialAuth = /*#__PURE__*/function (_React$Component) {
  _inherits(SocialAuth, _React$Component);

  var _super = _createSuper(SocialAuth);

  function SocialAuth(props) {
    var _this;

    _classCallCheck(this, SocialAuth);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleRegistrationComplete", function (_ref) {
      var activation = _ref.activation,
          email = _ref.email,
          step = _ref.step,
          username = _ref.username;

      _this.setState({
        activation: activation,
        email: email,
        step: step,
        username: username
      });
    });

    _this.state = {
      step: props.step,
      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }

  _createClass(SocialAuth, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          backend_name = _this$props.backend_name,
          url = _this$props.url;
      var _this$state = this.state,
          activation = _this$state.activation,
          email = _this$state.email,
          step = _this$state.step,
          username = _this$state.username;

      if (step === "register") {
        return /*#__PURE__*/_react.default.createElement(_register.default, {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }

      return /*#__PURE__*/_react.default.createElement(_complete.default, {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);

  return SocialAuth;
}(_react.default.Component);

exports.default = SocialAuth;

},{"./complete":207,"./register":210,"react":"react"}],210:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _RegisterLegalFootnote = _interopRequireDefault(require("../RegisterLegalFootnote"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../utils/validators"));

var _header = _interopRequireDefault(require("./header"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Register = /*#__PURE__*/function (_Form) {
  _inherits(Register, _Form);

  var _super = _createSuper(Register);

  function Register(props) {
    var _this;

    _classCallCheck(this, Register);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var formValidators = {
      email: [validators.email()],
      username: [validators.usernameContent()]
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {},
      isLoading: false
    };
    return _this;
  }

  _createClass(Register, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      var validators = this.state.validators;
      var checkTermsOfService = !!_.default.get("TERMS_OF_SERVICE_ID");

      if (checkTermsOfService && this.state.termsOfService === null) {
        _snackbar.default.error(validators.termsOfService[0](null));

        return false;
      }

      var checkPrivacyPolicy = !!_.default.get("PRIVACY_POLICY_ID");

      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        _snackbar.default.error(validators.privacyPolicy[0](null));

        _snackbar.default.error(gettext("You need to accept the privacy policy."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;
      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;
        onRegistrationComplete({
          activation: "active",
          step: "done",
          username: username
        });
      } else if (rejection.status === 400) {
        var stateUpdate = {
          errors: rejection
        };

        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }

        this.setState(stateUpdate);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _this$state = this.state,
          email = _this$state.email,
          emailProtected = _this$state.emailProtected,
          username = _this$state.username,
          isLoading = _this$state.isLoading;
      var emailHelpText = null;

      if (emailProtected) {
        var emailHelpTextTpl = gettext("Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, {
          backend: backend_name
        }, true);
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-social-auth page-social-sauth-register"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        backendName: backend_name
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Complete your details"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("Username"),
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: isLoading,
        onChange: this.bindInput("username"),
        value: username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_email",
        label: gettext("E-mail address"),
        helpText: emailHelpText,
        validation: emailProtected ? null : this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "email",
        id: "id_email",
        className: "form-control",
        disabled: isLoading || emailProtected,
        onChange: this.bindInput("email"),
        value: email
      })), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Sign in")))))))));
    }
  }]);

  return Register;
}(_form.default);

exports.default = Register;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"../../utils/validators":387,"../RegisterLegalFootnote":3,"../button":10,"../form":50,"../form-group":49,"./header":208,"react":"react"}],211:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-breadcrumbs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ol", {
    className: "breadcrumb hidden-xs"
  }, props.path.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(Breadcrumb, {
      key: item.id,
      node: item
    });
  })), /*#__PURE__*/_react.default.createElement(GoBack, props)));
}

function Breadcrumb(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.node.url.index
  }, props.node.name));
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];
  return /*#__PURE__*/_react.default.createElement("a", {
    href: lastItem.url.index,
    className: "go-back-sm visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), lastItem.name);
}

},{"react":"react"}],212:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Moderation = Moderation;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _breadcrumbs = _interopRequireDefault(require("./breadcrumbs"));

var _thread = require("../moderation/thread");

var _stats = _interopRequireDefault(require("./stats"));

var _form = _interopRequireDefault(require("../../form"));

var _validators = require("../../posting/utils/validators");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        isEditing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        title: _this.props.thread.title,
        isEditing: false
      });
    });

    _this.state = {
      isEditing: false,
      isLoading: false,
      title: props.thread.title,
      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "title",
        value: this.state.title
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(thread.update(data));

      this.setState({
        isEditing: false
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          thread = _this$props.thread,
          user = _this$props.user;
      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top title-edit-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-6"
        }, /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          type: "text",
          value: this.state.title,
          onChange: this.onChange
        })), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-4"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top-half sm-margin-top-no md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-block btn-outline",
          disabled: this.state.isLoading,
          title: gettext("Change title")
        }, gettext("Save changes"))), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          disabled: this.state.isLoading,
          onClick: this.onCancel,
          title: gettext("Cancel"),
          type: "button"
        }, gettext("Cancel")))))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (user.id && thread.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-xs-6" : "col-xs-12"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          onClick: this.onEdit,
          title: gettext("Edit title"),
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "edit"), /*#__PURE__*/_react.default.createElement("span", {
          className: "hidden-sm"
        }, gettext("Edit")))), showModeration && /*#__PURE__*/_react.default.createElement(Moderation, this.props))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (showModeration) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-9 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement(Moderation, _extends({
          isSingle: true
        }, this.props)))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
        path: thread.path
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement(_stats.default, {
        thread: thread
      }));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function Moderation(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.isSingle ? "col-xs-12" : "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group btn-group-justified"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "false",
    "aria-haspopup": "true",
    className: "btn btn-default btn-outline dropdown-toggle",
    "data-toggle": "dropdown",
    disabled: props.thread.isBusy,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "settings"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.isSingle ? "" : "hidden-sm"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement(_thread.ModerationControls, {
    posts: props.posts,
    thread: props.thread,
    user: props.user
  }))));
}

},{"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../form":50,"../../posting/utils/validators":138,"../moderation/thread":221,"./breadcrumbs":211,"./stats":213,"react":"react"}],213:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-globally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned globally")));
  } else if (props.thread.weight == 1) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-locally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark_border"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned locally")));
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved")));
  } else if (props.thread.has_unapproved_posts) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved-posts"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved posts")));
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-hidden"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Hidden")));
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-closed"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Closed")));
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, {
    replies: props.thread.replies
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-legend"
  }, legend));
}

function LastReply(props) {
  var user = null;

  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  }

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml.default)(props.thread.last_post_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.thread.last_post_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date,
    user: user
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-last-reply",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "header-stats"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement(Weight, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Unapproved, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsHidden, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsClosed, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Replies, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(LastReply, {
    thread: props.thread
  }))));
}

},{"../../../utils/escape-html":378,"react":"react"}],214:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });
  patch(props, ops, newState, previousState);
}

function protect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function unprotect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function hide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function unhide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function patch(props, ops, newState, previousState) {
  var selection = props.selection,
      thread = props.thread; // patch selected items

  newState.forEach(function (item) {
    post.patch(item, item);
  }); // deselect all the things

  _store.default.dispatch(posts.deselectAll()); // call ajax


  var data = {
    ops: ops,
    ids: selection.map(function (post) {
      return post.id;
    })
  };

  _ajax.default.patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      _store.default.dispatch(post.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        _store.default.dispatch(post.patch(item, item));
      });
      return _snackbar.default.apiError(rejection);
    }

    var errors = [];
    var rollback = [];
    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        _store.default.dispatch(post.patch(item, item));
      }

      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          _store.default.dispatch(post.patch(item, item));
        }
      });
    });
    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });

    _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
      errors: errors,
      posts: posts
    }));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });
  var ids = props.selection.map(function (post) {
    return post.id;
  });

  _ajax.default.delete(props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":347,"../../../../reducers/posts":348,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"./errors-list":216,"moment":"moment","react":"react"}],215:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Merge, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Approve = /*#__PURE__*/function (_React$Component) {
  _inherits(Approve, _React$Component);

  var _super = _createSuper(Approve);

  function Approve() {
    var _this;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      moderation.approve(_this.props);
    });

    return _this;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Merge = /*#__PURE__*/function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  var _super2 = _createSuper(Merge);

  function Merge() {
    var _this2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      moderation.merge(_this2.props);
    });

    return _this2;
  }

  _createClass(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }]);

  return Merge;
}(_react.default.Component);

exports.Merge = Merge;

var Move = /*#__PURE__*/function (_React$Component3) {
  _inherits(Move, _React$Component3);

  var _super3 = _createSuper(Move);

  function Move() {
    var _this3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this3.props));
    });

    return _this3;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component4) {
  _inherits(Split, _React$Component4);

  var _super4 = _createSuper(Split);

  function Split() {
    var _this4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this4.props));
    });

    return _this4;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  var _super5 = _createSuper(Protect);

  function Protect() {
    var _this5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      moderation.protect(_this5.props);
    });

    return _this5;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  var _super6 = _createSuper(Unprotect);

  function Unprotect() {
    var _this6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.unprotect(_this6.props);
    });

    return _this6;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Unprotect")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  var _super7 = _createSuper(Hide);

  function Hide() {
    var _this7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      moderation.hide(_this7.props);
    });

    return _this7;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  var _super8 = _createSuper(Unhide);

  function Unhide() {
    var _this8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      moderation.unhide(_this8.props);
    });

    return _this8;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  var _super9 = _createSuper(Delete);

  function Delete() {
    var _this9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.remove(_this9.props);
    });

    return _this9;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":366,"./actions":214,"./move":218,"./split":219,"react":"react"}],216:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PostErrors = PostErrors;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var errors = _ref.errors,
      posts = _ref.posts;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("One or more posts could not be changed:")), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-errored-items"
  }, errors.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(PostErrors, {
      errors: post.detail,
      key: post.id,
      post: posts[post.id]
    });
  })))));
}

function PostErrors(_ref2) {
  var errors = _ref2.errors,
      post = _ref2.post;
  var heading = interpolate(gettext("%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, heading, ":"), errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("p", {
      key: i
    }, error);
  }));
}

},{"react":"react"}],217:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropup"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    disabled: !selection.length,
    type: "button"
  }, gettext("Posts options")), /*#__PURE__*/_react.default.createElement(_dropdown.default, _extends({
    selection: selection
  }, props)));
}

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  } // slow test: show moderation if any of posts has moderation options


  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":215,"react":"react"}],218:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move posts to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move posts"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move posts")));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"../../../form":50,"../../../form-group":49,"react":"react"}],219:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split posts")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move selected posts at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok"))));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split posts into new thread"))), props.children));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../../utils/validators":387,"../../../button":10,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"../../../select":204,"react":"react"}],220:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      _store.default.dispatch(thread.busy()); // by the chance update thread acl too


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store.default.dispatch(thread.update(data));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(successMessage);
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Thread has been pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Thread has been pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Thread has been unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Thread has been approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Thread has been opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Thread has been closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Thread has been made visible."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Thread has been made hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, {
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store.default.dispatch(thread.busy());

      _ajax.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar.default.success(gettext("Thread has been deleted."));

        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (!this.props.thread.acl.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.hide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.thread.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"./merge":223,"./move":224,"react":"react"}],221:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "ModerationControls", {
  enumerable: true,
  get: function get() {
    return _controls.default;
  }
});
Object.defineProperty(exports, "isModerationVisible", {
  enumerable: true,
  get: function get() {
    return _isVisible.default;
  }
});

var _controls = _interopRequireDefault(require("./controls"));

var _isVisible = _interopRequireDefault(require("./is-visible"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./controls":220,"./is-visible":222}],222:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(thread) {
  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);
}

},{}],223:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _mergeConflict = _interopRequireDefault(require("../../../merge-conflict"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.handleSuccessUnmounted(success); // keep form loading


      _this.setState({
        isLoading: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccessUnmounted", function (success) {
      _snackbar.default.success(gettext("Thread has been merged with other one."));

      window.location = success.url;
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _store.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: {
              other_thread: _this.state.url
            },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          _snackbar.default.error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          _snackbar.default.error(rejection.poll[0]);
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to merge with"),
        help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading || this.props.thread.isBusy
      }, gettext("Merge thread"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Merge thread")));
}

},{"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../form":50,"../../../form-group":49,"../../../merge-conflict":53,"react":"react"}],224:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ = _interopRequireDefault(require("../../../.."));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      _this.changeValue("category", event.target.value);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,
      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(_.default.get("THREAD_EDITOR_API")).then(function (data) {
        var category = null; // hydrate categories, extract posting options

        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,
          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "category",
        value: this.state.category
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.posts.page
      }).then(function (data) {
        _store.default.dispatch(thread.replace(data));

        _store.default.dispatch(posts.load(data.post_set));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(gettext("Thread has been moved."));

        _modal.default.hide();
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-dialog",
          role: "document"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-content"
        }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-body"
        }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          for: "id_category",
          label: gettext("New category")
        }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
          choices: this.state.categories,
          disabled: this.state.isLoading || this.props.thread.isBusy,
          id: "id_category",
          onChange: this.onCategoryChange,
          value: this.state.category
        }))), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-footer"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default",
          "data-dismiss": "modal",
          disabled: this.state.isLoading,
          type: "button"
        }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary",
          loading: this.state.isLoading || this.props.thread.isBusy
        }, gettext("Move thread"))))));
      } else if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(ModalMessage, {
          message: this.state.isError
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(ModalLoading, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move thread")));
}

function ModalLoading(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement(_modalLoader.default, null)));
}

function ModalMessage(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog modal-message",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this thread at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok")))));
}

},{"../../../..":296,"../../../../reducers/posts":348,"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"react":"react"}],225:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("nav", {
    className: "misago-pagination pull-left"
  }, /*#__PURE__*/_react.default.createElement(Pager, props), /*#__PURE__*/_react.default.createElement(More, {
    more: props.posts.more
  }));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = "";

    if (props.posts.previous) {
      previousUrl = props.posts.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = "";

    if (props.posts.next) {
      nextUrl = props.posts.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + props.posts.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"react":"react","react-router":"react-router"}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("button", {
    className: props.className || "btn btn-primary btn-outline",
    onClick: props.onClick,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chat"), gettext("Reply"));
}

},{"react":"react"}],227:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}

function paths() {
  var thread = _.default.get("THREAD");

  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");
  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route.default)
  }, {
    path: basePath + ":page/",
    component: (0, _reactRedux.connect)(select)(_route.default)
  }];
}

},{"../..":296,"./route":228,"react-redux":"react-redux"}],228:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _participants = _interopRequireDefault(require("../participants"));

var _poll = require("../poll");

var _postsList = _interopRequireDefault(require("../posts-list"));

var _header = _interopRequireDefault(require("./header"));

var _toolbarTop = _interopRequireDefault(require("./toolbar-top"));

var _toolbarBottom = _interopRequireDefault(require("./toolbar-bottom"));

var participants = _interopRequireWildcard(require("../../reducers/participants"));

var poll = _interopRequireWildcard(require("../../reducers/poll"));

var posts = _interopRequireWildcard(require("../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch(thread.replace(data));

      _store.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    });

    _defineProperty(_assertThisInitialized(_this), "openReplyForm", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;

      _store.default.dispatch(posts.unload());

      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      _polls.default.start({
        poll: "thread-posts",
        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,
        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      _polls.default.stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      _pageTitle.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var className = "page page-thread";

      if (this.props.thread.category.css_class) {
        className += " page-thread-" + this.props.thread.category.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement(_header.default, this.props)), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_toolbarTop.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props)), /*#__PURE__*/_react.default.createElement(_poll.Poll, {
        poll: this.props.poll,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_participants.default, {
        participants: this.props.participants,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_postsList.default, this.props), /*#__PURE__*/_react.default.createElement(_toolbarBottom.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/participants":345,"../../reducers/poll":346,"../../reducers/posts":348,"../../reducers/thread":354,"../../services/ajax":359,"../../services/page-title":368,"../../services/polls":369,"../../services/posting":370,"../../services/snackbar":371,"../../services/store":372,"../participants":95,"../poll":100,"../posts-list":145,"./header":212,"./toolbar-bottom":230,"./toolbar-top":231,"react":"react"}],229:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;
exports.Email = exports.Enable = exports.Disable = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(props.thread.subscription)), getLabel(props.thread.subscription)), /*#__PURE__*/_react.default.createElement(Dropdown, props));
}

function getIcon(subscription) {
  if (subscription === true) {
    return "star";
  } else if (subscription === false) {
    return "star_half";
  } else {
    return "star_border";
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.dropdownClassName || "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Disable, props), /*#__PURE__*/_react.default.createElement(Enable, props), /*#__PURE__*/_react.default.createElement(Email, props));
}

var Disable = /*#__PURE__*/function (_React$Component) {
  _inherits(Disable, _React$Component);

  var _super = _createSuper(Disable);

  function Disable() {
    var _this;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, "unsubscribe");
    });

    return _this;
  }

  _createClass(Disable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe")));
    }
  }]);

  return Disable;
}(_react.default.Component);

exports.Disable = Disable;

var Enable = /*#__PURE__*/function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  var _super2 = _createSuper(Enable);

  function Enable() {
    var _this2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, "notify");
    });

    return _this2;
  }

  _createClass(Enable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe")));
    }
  }]);

  return Enable;
}(_react.default.Component);

exports.Enable = Enable;

var Email = /*#__PURE__*/function (_React$Component3) {
  _inherits(Email, _React$Component3);

  var _super3 = _createSuper(Email);

  function Email() {
    var _this3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, "email");
    });

    return _this3;
  }

  _createClass(Email, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail")));
    }
  }]);

  return Email;
}(_react.default.Component);

exports.Email = Email;

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "subscription",
    value: value
  }]).then(function (finalState) {
    _store.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":354,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"react":"react"}],230:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = _interopRequireDefault(require("react"));

var _paginator = require("./paginator");

var _posts = _interopRequireDefault(require("./moderation/posts"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(_paginator.Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  })))), /*#__PURE__*/_react.default.createElement(Options, {
    visible: !!props.user.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer hidden-md hidden-lg"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, props), /*#__PURE__*/_react.default.createElement(Moderation, props), /*#__PURE__*/_react.default.createElement(Subscription, props), /*#__PURE__*/_react.default.createElement(Reply, {
    thread: props.thread,
    onClick: props.openReplyForm
  }))));
}

function Options(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-5"
  }, props.children);
}

function Moderation(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_posts.default, props));
}

function Subscription(props) {
  var xsClass = "col-xs-6";

  if (!props.thread.acl.can_reply) {
    xsClass = "col-xs-12";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: xsClass + " col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    btnClassName: "btn-block",
    className: "dropup"
  }, props)));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.onClick
  }));
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "hidden-xs hidden-sm col-sm-4"
  });
}

},{"./moderation/posts":217,"./paginator":225,"./reply-button":226,"./subscription":229,"react":"react"}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoBestAnswer = GotoBestAnswer;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;
exports.StartPollCompact = exports.StartPoll = void 0;

var _react = _interopRequireDefault(require("react"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

var _posting = _interopRequireDefault(require("../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar row-toolbar-bottom-margin"
  }, /*#__PURE__*/_react.default.createElement(GotoMenu, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-md-5 col-md-offset-2"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: !props.user.id
  }), /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: hiddenSpecialOption
  }), /*#__PURE__*/_react.default.createElement(SubscriptionMenu, props), /*#__PURE__*/_react.default.createElement(StartPoll, props), /*#__PURE__*/_react.default.createElement(Reply, props))));
}

function GotoMenu(props) {
  var user = props.user;
  var className = "col-xs-3 col-sm-3 col-md-5";

  if (user.is_anonymous) {
    className = "col-xs-12 col-sm-3 col-md-5";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement(GotoLast, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoNew, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoBestAnswer, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoUnapproved, {
    thread: props.thread
  })), /*#__PURE__*/_react.default.createElement(CompactOptions, props));
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first new post")
  }, gettext("New")));
}

function GotoBestAnswer(props) {
  if (!props.thread.best_answer) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.best_answer,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to best answer")
  }, gettext("Best answer")));
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first unapproved post")
  }, gettext("Unapproved")));
}

function GotoLast(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to last post")
  }, gettext("Last")));
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "visible-xs-block visible-sm-block"
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: props.thread.url.last_post,
      className: "btn btn-default btn-block btn-outline"
    }, gettext("Last post")));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown visible-xs-block visible-sm-block"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-xs"
  }, gettext("Options"))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(StartPollCompact, props), /*#__PURE__*/_react.default.createElement(GotoNewCompact, props), /*#__PURE__*/_react.default.createElement(GotoUnapprovedCompact, props), /*#__PURE__*/_react.default.createElement(GotoLastCompact, props)));
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-link"
  }, gettext("Go to first new post")));
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-link"
  }, gettext("Go to first unapproved post")));
}

function GotoLastCompact(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-link"
  }, gettext("Go to last post")));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.openReplyForm
  }));
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    className: "dropdown",
    dropdownClassName: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, props)));
}

var StartPoll = /*#__PURE__*/function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  var _super = _createSuper(StartPoll);

  function StartPoll() {
    var _this;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "POLL",
        submit: _this.props.thread.api.poll,
        thread: _this.props.thread,
        poll: null
      });
    });

    return _this;
  }

  _createClass(StartPoll, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-4 hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-outline",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "poll"), gettext("Add poll")));
    }
  }]);

  return StartPoll;
}(_react.default.Component);

exports.StartPoll = StartPoll;

var StartPollCompact = /*#__PURE__*/function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  var _super2 = _createSuper(StartPollCompact);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _super2.apply(this, arguments);
  }

  _createClass(StartPollCompact, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Add poll")));
    }
  }]);

  return StartPollCompact;
}(StartPoll);

exports.StartPollCompact = StartPollCompact;

function Spacer(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  });
}

},{"../../services/posting":370,"./reply-button":226,"./subscription":229,"react":"react"}],232:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _empty = _interopRequireDefault(require("./list/empty"));

var _ready = _interopRequireDefault(require("./list/ready"));

var _preview = _interopRequireDefault(require("./list/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.isLoaded) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  if (props.threads.length === 0) {
    return /*#__PURE__*/_react.default.createElement(_empty.default, {
      diffSize: props.diffSize,
      applyDiff: props.applyDiff
    }, props.children);
  }

  return /*#__PURE__*/_react.default.createElement(_ready.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,
    diffSize: props.diffSize,
    applyDiff: props.applyDiff,
    showOptions: props.showOptions,
    selection: props.selection,
    busyThreads: props.busyThreads
  });
}

},{"./list/empty":234,"./list/preview":235,"./list/ready":236,"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getMessage = getMessage;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var applyDiff = props.applyDiff,
      diffSize = props.diffSize;
  if (diffSize === 0) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item threads-diff-message"
  }, /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-block btn-default",
    onClick: applyDiff
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "cached"), /*#__PURE__*/_react.default.createElement("span", {
    className: "diff-message"
  }, getMessage(diffSize))));
}

function getMessage(diffSize) {
  var message = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", diffSize);
  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getDiffMessage",
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;
      return /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.getDiffMessage(), this.props.children));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./diff-message":233,"react":"react"}],235:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _preview = _interopRequireDefault(require("../thread/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement(_preview.default, null)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../thread/preview":243,"react":"react"}],236:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

var _ready = _interopRequireDefault(require("../thread/ready"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "threads-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
    diffSize: props.diffSize,
    applyDiff: props.applyDiff
  }), props.threads.map(function (thread) {
    return /*#__PURE__*/_react.default.createElement(_ready.default, {
      activeCategory: props.activeCategory,
      categories: props.categories,
      list: props.list,
      thread: thread,
      showOptions: props.showOptions,
      isSelected: props.selection.indexOf(thread.id) >= 0,
      isBusy: props.busyThreads.indexOf(thread.id) >= 0,
      key: thread.id
    });
  })));
}

},{"../thread/ready":244,"./diff-message":233,"react":"react"}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

var _options = require("../options");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  var className = "col-xs-12 col-sm-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className = "col-xs-6 col-sm-12";
    } else {
      className = "col-xs-9 col-sm-12";
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;
  var allFlagsVisible = showOptions && statusFlags === 3;
  var textClassName = "detail-text hidden-xs";

  if (allFlagsVisible) {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-details-bottom"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category hidden-xs",
    category: category
  }), /*#__PURE__*/_react.default.createElement(HiddenLabel, {
    textClassName: textClassName,
    display: thread.is_hidden
  }), /*#__PURE__*/_react.default.createElement(ClosedLabel, {
    textClassName: textClassName,
    display: thread.is_closed
  }), /*#__PURE__*/_react.default.createElement(PollLabel, {
    textClassName: textClassName,
    display: thread.has_poll
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(RepliesLabel, {
    forceFullText: !showOptions || statusFlags < 2,
    replies: thread.replies
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  })), /*#__PURE__*/_react.default.createElement(_options.OptionsXs, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  }));
}

function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Hidden")));
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-closed"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Closed")));
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-poll"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "assessment"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Poll")));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"));
}

function RepliesLabel(_ref6) {
  var replies = _ref6.replies,
      forceFullText = _ref6.forceFullText;
  var text = ngettext("%(replies)s reply", "%(replies)s replies", replies);
  var compactClassName = "";
  var fullClassName = "";

  if (forceFullText) {
    compactClassName = "detail-text hide";
    fullClassName = "detail-text";
  } else {
    compactClassName = "detail-text visible-xs-inline-block";
    fullClassName = "detail-text hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: compactClassName
  }, replies), /*#__PURE__*/_react.default.createElement("span", {
    className: fullClassName
  }, interpolate(text, {
    replies: replies
  }, true)));
}

function LastReplyLabel(_ref7) {
  var datetime = _ref7.datetime,
      url = _ref7.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-sm-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;
  var className = "visible-sm-inline-block item-title thread-last-poster";

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, posterName);
}

},{"../options":242,"./category":238,"react":"react"}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      className = _ref.className;
  if (!category) return null;

  if (category.css_class) {
    className += " thread-detail-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, category.name);
}

},{"react":"react"}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "BottomDetails", {
  enumerable: true,
  get: function get() {
    return _bottom.default;
  }
});
Object.defineProperty(exports, "TopDetails", {
  enumerable: true,
  get: function get() {
    return _top.default;
  }
});

var _bottom = _interopRequireDefault(require("./bottom"));

var _top = _interopRequireDefault(require("./top"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./bottom":237,"./top":240}],240:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "thread-details-top"
  }, /*#__PURE__*/_react.default.createElement(NewLabel, {
    isRead: thread.is_read,
    url: thread.url.new_post
  }), /*#__PURE__*/_react.default.createElement(PinnedLabel, {
    weight: thread.weight
  }), /*#__PURE__*/_react.default.createElement(UnapprovedLabel, {
    thread: thread.is_unapproved,
    posts: thread.has_unapproved_posts
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category visible-xs-inline-block",
    category: category
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  }));
}

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;
  if (isRead) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-detail-new",
    href: url
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "comment"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("New posts")));
}

function PinnedLabel(_ref3) {
  var weight = _ref3.weight;
  if (weight === 0) return null;
  var className = "thread-detail-pinned-globally";
  var icon = "bookmark";
  var text = gettext("Pinned globally");

  if (weight === 1) {
    className = "thread-detail-pinned-locally";
    icon = "bookmark_border";
    text = gettext("Pinned locally");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;
  if (!posts && !thread) return null;
  var className = "thread-detail-unapproved-posts";
  var icon = "remove_circle_outline";
  var text = gettext("Unapproved posts");

  if (thread) {
    className = "thread-detail-unapproved";
    icon = "remove_circle";
    text = gettext("Unapproved");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "hidden-xs thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("Answered")));
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "visible-xs-inline-block item-title thread-last-poster",
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "visible-xs-inline-block item-title thread-last-poster"
  }, posterName);
}

},{"./category":238,"react":"react"}],241:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Timestamp = Timestamp;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-last-poster-avatar",
    title: thread.last_poster_name,
    url: thread.url.last_poster
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40,
    user: thread.last_poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "item-title thread-last-poster",
    url: thread.url.last_poster
  }, thread.last_poster_name), /*#__PURE__*/_react.default.createElement(Timestamp, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  })));
}

function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

},{"../../avatar":8,"./user-url":249,"react":"react"}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Options = Options;
exports.OptionsXs = OptionsXs;
exports.Checkbox = void 0;

var _react = _interopRequireDefault(require("react"));

var _compact = _interopRequireDefault(require("./subscription/compact"));

var _full = _interopRequireDefault(require("./subscription/full"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  if (!display) return null;
  var className = "col-sm-2 col-md-2 hidden-xs";

  if (thread.moderation.length) {
    className = "col-sm-3 col-md-2 hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;
  if (!display) return null;
  var className = "";

  if (thread.moderation.length) {
    className += "col-xs-6";
  } else {
    className += "col-xs-3";
  }

  className += " visible-xs-block thread-options-xs";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

var Checkbox = /*#__PURE__*/function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  var _super = _createSuper(Checkbox);

  function Checkbox() {
    var _this;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggleSelection", function () {
      _store.default.dispatch(select.item(_this.props.thread.id));
    });

    return _this;
  }

  _createClass(Checkbox, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          isSelected = _this$props.isSelected,
          thread = _this$props.thread;
      if (!thread.moderation.length) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon btn-block",
        onClick: this.toggleSelection,
        disabled: disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return Checkbox;
}(_react.default.Component);

exports.Checkbox = Checkbox;

},{"../../../reducers/selection":352,"../../../services/store":372,"./subscription/compact":245,"./subscription/full":246,"react":"react"}],243:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item thread-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-top visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title thread-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-bottom"
      }, /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"react":"react"}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _details = require("./details");

var _lastAction = _interopRequireDefault(require("./last-action"));

var _options = require("./options");

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;
  var category = null;

  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var flavor = category || activeCategory;
  var className = "thread-main col-xs-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className += " col-sm-9 col-md-7";
    } else {
      className += " col-sm-10 col-md-7";
    }
  } else {
    className += " col-sm-12 col-md-9";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: getClassName(thread.is_read, isBusy, isSelected, flavor)
  }, /*#__PURE__*/_react.default.createElement(_details.TopDetails, {
    category: category,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-starter-avatar",
    title: thread.starter_name,
    url: thread.url.starter
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 40,
    user: thread.starter
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: thread.url.index,
    className: "item-title thread-title"
  }, thread.title), /*#__PURE__*/_react.default.createElement(_details.BottomDetails, {
    category: category,
    disabled: isBusy,
    isSelected: isSelected,
    showOptions: showOptions,
    thread: thread
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3 hidden-xs hidden-sm thread-last-action"
  }, /*#__PURE__*/_react.default.createElement(_lastAction.default, {
    thread: thread
  })), /*#__PURE__*/_react.default.createElement(_options.Options, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  })));
}

function getClassName(isRead, isBusy, isSelected, flavor) {
  var styles = ["list-group-item"];

  if (flavor && flavor.css_class) {
    styles.push("list-group-category-has-flavor");
    styles.push("list-group-item-category-" + flavor.css_class);
  }

  if (isRead) {
    styles.push("thread-read");
  } else {
    styles.push("thread-new");
  }

  if (isBusy) {
    styles.push("thread-busy");
  } else if (isSelected) {
    styles.push("thread-selected");
  }

  return styles.join(" ");
}

},{"../../avatar":8,"./details":239,"./last-action":241,"./options":242,"./user-url":249,"react":"react"}],245:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _full = _interopRequireDefault(require("./full"));

var _modal = _interopRequireDefault(require("./modal"));

var _modal2 = _interopRequireDefault(require("../../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_SubscriptionFull) {
  _inherits(_default, _SubscriptionFull);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showOptions", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.thread.moderation;
      var className = "";

      if (moderation.length) {
        className += "col-xs-6";
      } else {
        className += "col-xs-12";
      }

      className += " hidden-md hidden-lg";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.showOptions
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon())));
    }
  }]);

  return _default;
}(_full.default);

exports.default = _default;

},{"../../../../services/modal":366,"./full":246,"./modal":247,"react":"react"}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return "star";
      } else if (this.props.thread.subscription === false) {
        return "star_half";
      }

      return "star_border";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$thread = this.props.thread,
          moderation = _this$props$thread.moderation,
          subscription = _this$props$thread.subscription;
      var fullwidth = !moderation.length;
      var className = fullwidth ? "col-xs-12" : "col-xs-6";
      className += " hidden-xs hidden-sm";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement(Label, {
        moderation: moderation,
        subscription: subscription
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "dropdown-menu dropdown-menu-right",
        thread: this.props.thread
      }))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;
  if (moderation.length) return null;
  var text = gettext("Disabled");

  if (subscription === true) {
    text = gettext("E-mail");
  } else if (subscription === false) {
    text = gettext("Enabled");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, text);
}

},{"./options":248,"react":"react"}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change subscription"))), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "modal-menu",
        thread: this.props.thread
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./options":248,"react":"react"}],248:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _threads = require("../../../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STATE_UPDATES = {
  unsubscribe: null,
  notify: false,
  email: true
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setSubscription", function (newState) {
      _modal.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax.default.patch(_this.props.thread.api.index, [{
        op: "replace",
        path: "subscription",
        value: newState
      }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));

        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "unsubscribe", function () {
      _this.setSubscription("unsubscribe");
    });

    _defineProperty(_assertThisInitialized(_this), "notify", function () {
      _this.setSubscription("notify");
    });

    _defineProperty(_assertThisInitialized(_this), "email", function () {
      _this.setSubscription("email");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.unsubscribe
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.notify
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.email
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/threads":355,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"react":"react"}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      className = _ref.className,
      title = _ref.title,
      url = _ref.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url,
      title: title
    }, children);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className,
    title: title
  }, children);
}

},{"react":"react"}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Subcategory = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Subcategory = /*#__PURE__*/function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  var _super = _createSuper(Subcategory);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _super.apply(this, arguments);
  }

  _createClass(Subcategory, [{
    key: "getUrl",
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.url.index + this.props.listPath;
      } else {
        return this.props.category.url.index;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: this.getUrl(),
        className: "btn btn-link"
      }, this.props.category.name));
    }
  }]);

  return Subcategory;
}(_react.default.Component);

exports.Subcategory = Subcategory;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super2.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "dropdown category-picker"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle btn-block",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "label_outline"), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs"
      }, gettext("Category"))), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu stick-to-bottom categories-menu"
      }, this.props.choices.map(function (id) {
        if (_this.props.categories[id]) {
          return /*#__PURE__*/_react.default.createElement(Subcategory, {
            category: _this.props.categories[id],
            listPath: _this.props.list.path,
            key: id
          });
        } else {
          return null;
        }
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react","react-router":"react-router"}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;

function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../page-lead"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryDescription",
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "page-lead"
        }, /*#__PURE__*/_react.default.createElement("p", null, this.props.pageLead)));
      } else if (this.props.route.category.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.category.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getDisableToolbar",
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: "getToolbar",
    value: function getToolbar() {
      var isVisible = this.props.subcategories.length || this.props.user.id;
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        subcategories: this.props.subcategories,
        categories: this.props.route.categories,
        categoriesMap: this.props.route.categoriesMap,
        list: this.props.route.list,
        threads: this.props.threads,
        moderation: this.props.moderation,
        selection: this.props.selection,
        selectAllThreads: this.props.selectAllThreads,
        selectNoneThreads: this.props.selectNoneThreads,
        addThreads: this.props.addThreads,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,
        api: this.props.api,
        route: this.props.route,
        disabled: this.getDisableToolbar(),
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getCategoryDescription(), this.getToolbar(), this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../page-lead":86,"./toolbar":263,"react":"react"}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ParentCategory = ParentCategory;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _button = _interopRequireDefault(require("../button"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "startThread", function () {
      _posting.default.open(_this.props.startThread || {
        mode: "START",
        config: _.default.get("THREAD_EDITOR_API"),
        submit: _.default.get("THREADS_API"),
        category: _this.props.route.category.id
      });
    });

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "hasGoBackButton",
    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: "getGoBackButton",
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;
      var parent = this.props.categories[this.props.route.category.parent];
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-2 col-lg-1"
      }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        className: "btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline",
        to: parent.url.index + this.props.route.list.path
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "keyboard_arrow_left")));
    }
  }, {
    key: "getStartThreadButton",
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-outline",
        onClick: this.startThread,
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chat"), gettext("Start thread"));
    }
  }, {
    key: "render",
    value: function render() {
      var headerClassName = "col-xs-12";

      if (this.hasGoBackButton()) {
        headerClassName += " col-sm-10 col-lg-11 sm-align-row-buttons";
      }

      var isAuthenticated = !!this.props.user.id;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: isAuthenticated ? "col-sm-9 col-md-10" : "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, this.getGoBackButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement(ParentCategory, {
        categories: this.props.categories,
        category: this.props.route.category.parent
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.title)))), isAuthenticated && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3 col-md-2 xs-margin-top"
      }, this.getStartThreadButton()))), /*#__PURE__*/_react.default.createElement(_nav.default, {
        baseUrl: this.props.route.category.url.index,
        list: this.props.route.list,
        lists: this.props.route.lists
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ParentCategory(_ref) {
  var categories = _ref.categories,
      category = _ref.category;
  if (!category) return null;
  var parent = categories[category];
  return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
    className: "go-back-sm visible-xs-block",
    to: parent.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), parent.parent ? parent.name : gettext("Threads"));
}

},{"../..":296,"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../dropdown-toggle":29,"./nav":260,"react":"react","react-router":"react-router"}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.list.type === "all") {
        if (this.props.emptyMessage) {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.emptyMessage), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        } else {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "list-group-item empty-message"
        }, gettext("No threads matching specified criteria were found."));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _countdown = _interopRequireDefault(require("../../../utils/countdown"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      }); // list ids


      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      }); // always return current acl


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.api, {
        ids: ids,
        ops: ops
      }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // update threads


        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        }); // show success message and call callback

        _snackbar.default.success(successMessage);

        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // escape on non-400 error


        if (rejection.status !== 400) {
          return _snackbar.default.apiError(rejection);
        } // build errors list


        var errors = [];
        var threadsMap = {};

        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });

        rejection.forEach(function (_ref) {
          var id = _ref.id,
              detail = _ref.detail;

          if (typeof threadsMap[id] !== "undefined") {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });

        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Selected threads were pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Selected threads were pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Selected threads were unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Selected threads were approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Selected threads were opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Selected threads were closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Selected threads were unhidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Selected threads were hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      var errors = [];

      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            id: thread.id,
            title: thread.title,
            errors: [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));

        return;
      } else {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, _this.props));
      }
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      _ajax.default.delete(_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);

          _this.props.deleteThread(thread);
        });

        _snackbar.default.success(gettext("Selected threads were deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });

          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);

            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
            errors: rejection
          }));
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (!this.props.moderation.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin threads globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin threads locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin threads")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move threads")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge threads")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve threads")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open threads")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close threads")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.moderation.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide threads")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        onClick: this.hide,
        type: "button",
        className: "btn btn-link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide threads")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.moderation.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete threads")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/countdown":377,"./errors-list":256,"./merge":257,"./move":258,"react":"react"}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThreadErrors = ThreadErrors;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Threads moderation"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("One or more threads could not be deleted:")), /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled list-errored-items"
      }, this.props.errors.map(function (item) {
        return /*#__PURE__*/_react.default.createElement(ThreadErrors, {
          errors: item.errors,
          key: item.thread.id,
          thread: item.thread
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ThreadErrors(_ref) {
  var errors = _ref.errors,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), errors.map(function (message, i) {
    return /*#__PURE__*/_react.default.createElement("p", null, message);
  }));
}

},{"react":"react"}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var _select = _interopRequireDefault(require("../../select"));

var _ = _interopRequireDefault(require("../../.."));

var _threads = require("../../../reducers/threads");

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _mergeConflict = _interopRequireDefault(require("../../merge-conflict"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "getFormdata", function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _this.props.deleteThread(thread);
      }); // deselect all threads


      _store.default.dispatch(select.none()); // append merged thread, filter threads


      _this.props.addThreads([apiResponse]);

      _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // hide modal


      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _.default.get("MERGE_THREADS_API"),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            errors: Object.assign({}, _this.state.errors, rejection)
          });

          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: rejection
        }));
      } else if (rejection.best_answer) {
        _snackbar.default.error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        _snackbar.default.error(rejection.poll[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    });

    _this.state = {
      isLoading: false,
      title: "",
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this.acl = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    _this.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("MERGE_THREADS_API"), this.getFormdata());
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.categoryChoices
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))));
    }
  }, {
    key: "renderCantMergeMessage",
    value: function renderCantMergeMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to merge threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), this.state.category ? this.renderForm() : this.renderCantMergeMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":296,"../../../reducers/selection":352,"../../../reducers/threads":355,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/validators":387,"../../button":10,"../../category-select":23,"../../form":50,"../../form-group":49,"../../merge-conflict":53,"../../select":204,"./errors-list":256,"react":"react"}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _threads = require("../../../reducers/threads");

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal.default.hide();

      var onSuccess = function onSuccess() {
        _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // deselect threads moved outside of visible scope


        var storeState = _store.default.getState();

        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });

        _store.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{
        op: "replace",
        path: "category",
        value: _this.state.category
      }, {
        op: "replace",
        path: "flatten-categories",
        value: null
      }, {
        op: "add",
        path: "acl",
        value: true
      }], gettext("Selected threads were moved."), onSuccess);
    });

    _this.state = {
      category: null
    };
    var acls = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New category"),
        for: "id_new_category"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_new_category",
        onChange: this.bindInput("category"),
        value: this.state.category,
        choices: this.categoryChoices
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary"
      }, gettext("Move threads"))));
    }
  }, {
    key: "renderCantMoveMessage",
    value: function renderCantMoveMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to move threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Move threads"))), this.state.category ? this.renderForm() : this.renderCantMoveMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../reducers/threads":355,"../../../services/modal":366,"../../../services/store":372,"../../category-select":23,"../../form":50,"../../form-group":49,"react":"react"}],259:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "selectAll", function () {
      _store.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    });

    _defineProperty(_assertThisInitialized(_this), "selectNone", function () {
      _store.default.dispatch(select.none());
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectAll
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Select all"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectNone
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Select none"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../services/store":372,"react":"react"}],260:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;
  if (lists.length < 2) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      isControlled: true,
      isActive: item.path === list.path,
      key: baseUrl + item.path
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: baseUrl + item.path
    }, item.name));
  }))));
}

},{"../li":51,"react":"react","react-router":"react-router"}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      options: options,
      selection: store.selection,
      threads: store.threads,
      tick: store.tick.tick,
      user: store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: "all",
    path: "",
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: "my",
      path: "my/",
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: "new",
      path: "new/",
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: "unread",
      path: "unread/",
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: "subscribed",
      path: "subscribed/",
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: "unapproved",
        path: "unapproved/",
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _.default.get("CATEGORIES").forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;
      routes.push({
        path: category.url.index + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route.default),
        categories: _.default.get("CATEGORIES"),
        categoriesMap: categoriesMap,
        category: category,
        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../..":296,"./route":262,"react-redux":"react-redux"}],262:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _compare = require("./compare");

var _container = _interopRequireDefault(require("./container"));

var _header = _interopRequireDefault(require("./header"));

var _utils = require("./utils");

var _threadsList = _interopRequireDefault(require("../threads-list"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var select = _interopRequireWildcard(require("../../reducers/selection"));

var _threads = require("../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var sets = _interopRequireWildcard(require("../../utils/sets"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.next);
    });

    _defineProperty(_assertThisInitialized(_this), "pollResponse", function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addThreads", function (threads) {
      _store.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "applyDiff", function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
        diff: {
          results: []
        }
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "freezeThread", function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateThread", function (thread) {
      _store.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "deleteThread", function (thread) {
      _store.default.dispatch((0, _threads.deleteThread)(thread));
    });

    _this.state = {
      isMounted: true,
      isLoaded: false,
      isBusy: false,
      diff: {
        results: []
      },
      moderation: [],
      busyThreads: [],
      dropdown: false,
      subcategories: [],
      next: 0
    };

    var category = _this.getCategory();

    if (_.default.has("THREADS")) {
      _this.initWithPreloadedData(category, _.default.get("THREADS"));
    } else {
      _this.initWithoutPreloadedData(category);
    }

    return _this;
  }

  _createClass(_default, [{
    key: "getCategory",
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),
        subcategories: data.subcategories,
        next: data.next
      });
      this.startPolling(category);
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: "loadThreads",
    value: function loadThreads(category) {
      var _this2 = this;

      var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      _ajax.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        start: next || 0
      }, "threads").then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (next === 0) {
          _store.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
          subcategories: data.subcategories,
          next: data.next
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(category) {
      _polls.default.start({
        poll: "threads",
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setPageTitle();

      if (_.default.has("THREADS")) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store.default.dispatch((0, _threads.hydrate)(_.default.pop("THREADS").results));

        this.setState({
          isLoaded: true
        });
      }

      _store.default.dispatch(select.none());
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.isMounted = false;

      _polls.default.stop("threads");
    }
  }, {
    key: "getTitle",
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      if (this.props.route.category.level || !_.default.get("THREADS_ON_INDEX")) {
        _pageTitle.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle.default.set(this.props.options.title);
      } else {
        if (_.default.get("SETTINGS").index_title) {
          document.title = _.default.get("SETTINGS").index_title;
        } else {
          document.title = _.default.get("SETTINGS").forum_name;
        }
      }
    }
  }, {
    key: "getSorting",
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    } // AJAX

  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.next) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy || this.state.busyThreads.length,
        onClick: this.loadMore
      }, gettext("Show more")));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "page page-threads";
      className += " page-threads-" + this.props.route.list.type;

      if (isIndex(this.props)) {
        className += " page-threads-index";
      }

      if (this.props.route.category.css_class) {
        className += " page-threads-" + this.props.route.category.css_class;
      }

      return className;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        categories: this.props.route.categoriesMap,
        disabled: !this.state.isLoaded,
        startThread: this.props.options.startThread,
        threads: this.props.threads,
        title: this.getTitle(),
        toggleNav: this.toggleNav,
        route: this.props.route,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_container.default, {
        api: this.props.options.api,
        route: this.props.route,
        subcategories: this.state.subcategories,
        user: this.props.user,
        pageLead: this.props.options.pageLead,
        threads: this.props.threads,
        threadsCount: this.state.count,
        moderation: this.state.moderation,
        selection: this.props.selection,
        busyThreads: this.state.busyThreads,
        addThreads: this.addThreads,
        freezeThread: this.freezeThread,
        deleteThread: this.deleteThread,
        updateThread: this.updateThread,
        isLoaded: this.state.isLoaded,
        isBusy: this.state.isBusy
      }, /*#__PURE__*/_react.default.createElement(_threadsList.default, {
        category: this.props.route.category,
        categories: this.props.route.categoriesMap,
        list: this.props.route.list,
        selection: this.props.selection,
        threads: this.props.threads,
        diffSize: this.state.diff.results.length,
        applyDiff: this.applyDiff,
        showOptions: !!this.props.user.id,
        isLoaded: this.state.isLoaded,
        busyThreads: this.state.busyThreads
      }, /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
        category: this.props.route.category,
        emptyMessage: this.props.options.emptyMessage,
        list: this.props.route.list
      })), this.getMoreButton()));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function isIndex(props) {
  if (props.route.category.level || !_.default.get("THREADS_ON_INDEX")) return false;
  if (props.options.title) return false;
  return true;
}

},{"../..":296,"../../reducers/selection":352,"../../reducers/threads":355,"../../services/ajax":359,"../../services/page-title":368,"../../services/polls":369,"../../services/snackbar":371,"../../services/store":372,"../../utils/sets":385,"../button":10,"../threads-list":232,"../with-dropdown":293,"./compare":251,"./container":252,"./header":253,"./list-empty":254,"./utils":264,"react":"react"}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categoryPicker = _interopRequireDefault(require("./category-picker"));

var _controls = _interopRequireDefault(require("./moderation/controls"));

var _selection = _interopRequireDefault(require("./moderation/selection"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryPicker",
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;
      return /*#__PURE__*/_react.default.createElement(_categoryPicker.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
    }
  }, {
    key: "showModerationOptions",
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: "getSelectedThreads",
    value: function getSelectedThreads() {
      var _this = this;

      return this.props.threads.filter(function (thread) {
        return _this.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6 col-sm-3 col-md-2"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled || !this.props.selection.length
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "settings"), gettext("Options")), /*#__PURE__*/_react.default.createElement(_controls.default, {
        addThreads: this.props.addThreads,
        api: this.props.api,
        categories: this.props.categories,
        categoriesMap: this.props.categoriesMap,
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        deleteThread: this.props.deleteThread,
        freezeThread: this.props.freezeThread,
        moderation: this.props.moderation,
        route: this.props.route,
        threads: this.getSelectedThreads(),
        updateThread: this.props.updateThread,
        user: this.props.user
      }))));
    }
  }, {
    key: "getSelectionButton",
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-2 col-md-1"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline btn-icon dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "select_all")), /*#__PURE__*/_react.default.createElement(_selection.default, {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        threads: this.props.threads
      }))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "row row-toolbar row-toolbar-bottom-margin"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-3 col-md-2 dropdown"
      }, this.getCategoryPicker()), /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-4 col-md-7"
      }), this.getModerationButton(), this.getSelectionButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./category-picker":250,"./moderation/controls":255,"./moderation/selection":259,"react":"react"}],264:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (_.default.get("SETTINGS").index_header) {
      return _.default.get("SETTINGS").index_header;
    } else {
      return _.default.get("SETTINGS").forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });
  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,
    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };
  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }

    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });
  return moderation;
}

},{"../..":296}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _registerButton = _interopRequireDefault(require("../register-button"));

var _signIn = _interopRequireDefault(require("../sign-in.js"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var GuestMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  var _super = _createSuper(GuestMenu);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _super.apply(this, arguments);
  }

  _createClass(GuestMenu, [{
    key: "showSignInModal",
    value: function showSignInModal() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "guest-preview"
      }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("You are browsing as guest.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Sign in or register to start and participate in discussions.")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-primary btn-register btn-block",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in"))) : /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sign-in btn-block",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in"))), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "btn-primary btn-register btn-block"
      }, gettext("Register"))))));
    }
  }]);

  return GuestMenu;
}(_react.default.Component);

exports.GuestMenu = GuestMenu;

var GuestNav = /*#__PURE__*/function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  var _super2 = _createSuper(GuestNav);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _super2.apply(this, arguments);
  }

  _createClass(GuestNav, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "nav nav-guest"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("a", {
        className: "btn navbar-btn btn-primary btn-register",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in")) : /*#__PURE__*/_react.default.createElement("button", {
        className: "btn navbar-btn btn-default btn-sign-in",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in")), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "navbar-btn btn-primary btn-register"
      }, gettext("Register")), /*#__PURE__*/_react.default.createElement("div", {
        className: "navbar-left"
      }, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)));
    }
  }]);

  return GuestNav;
}(GuestMenu);

exports.GuestNav = GuestNav;

var CompactGuestNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  var _super3 = _createSuper(CompactGuestNav);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _super3.apply(this, arguments);
  }

  _createClass(CompactGuestNav, [{
    key: "showGuestMenu",
    value: function showGuestMenu() {
      _mobileNavbarDropdown.default.show(GuestMenu);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showGuestMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "64"
      }));
    }
  }]);

  return CompactGuestNav;
}(_react.default.Component);

exports.CompactGuestNav = CompactGuestNav;

},{"../..":296,"../../services/mobile-navbar-dropdown":365,"../../services/modal":366,"../avatar":8,"../navbar-search":71,"../register-button":192,"../sign-in.js":205,"react":"react"}],266:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.CompactUserMenu = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _guestNav = require("./guest-nav");

var _userNav = require("./user-nav");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.UserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.GuestNav, null);
      }
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

var CompactUserMenu = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  var _super2 = _createSuper(CompactUserMenu);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.CompactUserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.CompactGuestNav, null);
      }
    }
  }]);

  return CompactUserMenu;
}(_react.default.Component);

exports.CompactUserMenu = CompactUserMenu;

function select(state) {
  return state.auth;
}

},{"./guest-nav":265,"./user-nav":267,"react":"react"}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;
exports.CompactUserNav = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatar = _interopRequireDefault(require("../avatar"));

var _root = _interopRequireWildcard(require("../change-avatar/root"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "logout",
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));

      if (decision) {
        $("#hidden-logout-form").submit();
      }
    }
  }, {
    key: "changeAvatar",
    value: function changeAvatar() {
      _modal.default.show((0, _reactRedux.connect)(_root.select)(_root.default));
    }
  }, {
    key: "render",
    value: function render() {
      var user = this.props.user;
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-header"
      }, /*#__PURE__*/_react.default.createElement("strong", null, user.username), /*#__PURE__*/_react.default.createElement("div", {
        className: "row user-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), user.posts), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "forum"), user.threads), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), user.followers), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite_outline"), user.following))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: user.url
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "account_circle"), gettext("See your profile"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERCP_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done_all"), gettext("Change options"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.changeAvatar,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "portrait"), gettext("Change avatar"))), !!user.acl.can_use_private_threads && /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("PRIVATE_THREADS_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), gettext("Private threads"), /*#__PURE__*/_react.default.createElement(PrivateThreadsBadge, {
        user: user
      }))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-buttons"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.logout,
        type: "button"
      }, gettext("Log out"))));
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;
  if (!user.unread_private_threads) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads);
}

function UserNav(_ref2) {
  var user = _ref2.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "ul nav navbar-nav nav-user"
  }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)), /*#__PURE__*/_react.default.createElement(UserPrivateThreadsLink, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("a", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: "dropdown-toggle",
    "data-toggle": "dropdown",
    href: user.url,
    role: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    user: user,
    size: "64"
  })), /*#__PURE__*/_react.default.createElement(UserMenu, {
    user: user
  })));
}

function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;
  if (!user.acl.can_use_private_threads) return null;
  var title = null;

  if (user.unread_private_threads) {
    title = gettext("You have unread private threads!");
  } else {
    title = gettext("Private threads");
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "navbar-icon",
    href: _.default.get("PRIVATE_THREADS_URL"),
    title: title
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "message"), user.unread_private_threads > 0 && /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads)));
}

function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}

var CompactUserNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  var _super2 = _createSuper(CompactUserNav);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserNav, [{
    key: "showUserMenu",
    value: function showUserMenu() {
      _mobileNavbarDropdown.default.showConnected("user-menu", (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showUserMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: "50"
      }));
    }
  }]);

  return CompactUserNav;
}(_react.default.Component);

exports.CompactUserNav = CompactUserNav;

},{"../..":296,"../../services/mobile-navbar-dropdown":365,"../../services/modal":366,"../avatar":8,"../change-avatar/root":27,"../navbar-search":71,"react":"react","react-redux":"react-redux"}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;
exports.StatusLabel = exports.StatusIcon = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.getClass()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var StatusIcon = /*#__PURE__*/function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  var _super2 = _createSuper(StatusIcon);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _super2.apply(this, arguments);
  }

  _createClass(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon status-icon"
      }, this.getIcon());
    }
  }]);

  return StatusIcon;
}(_react.default.Component);

exports.StatusIcon = StatusIcon;

var StatusLabel = /*#__PURE__*/function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  var _super3 = _createSuper(StatusLabel);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _super3.apply(this, arguments);
  }

  _createClass(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.props.className || "status-label",
        title: this.getHelp()
      }, this.getLabel());
    }
  }]);

  return StatusLabel;
}(_react.default.Component);

exports.StatusLabel = StatusLabel;

function getStatusClassName(status) {
  var className = "";

  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }

  return "user-status user-" + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],269:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "100"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 100) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(80, 140) + "px"
        }
      }, "\xA0")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../utils/random":382,"../avatar":8,"react":"react"}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          user: this.props.change.changed_by,
          size: "100"
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "100"
        }));
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "item-title"
        }, this.props.change.changed_by.username);
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.change.changed_by_username);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item",
        key: this.props.change.id
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, this.renderUserAvatar()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, this.renderUsername()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "old-username"
      }, this.props.change.old_username), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "new-username"
      }, this.props.change.new_username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: this.props.change.changed_on.format("LLL")
      }, this.props.change.changed_on.fromNow())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../avatar":8,"react":"react"}],271:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item empty-message"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],272:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changePreview = _interopRequireDefault(require("./change-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_changePreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change-preview":269,"react":"react"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _change = _interopRequireDefault(require("./change"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.changes.map(function (change) {
        return /*#__PURE__*/_react.default.createElement(_change.default, {
          change: change,
          key: change.id
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change":270,"react":"react"}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            changes: this.props.changes
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            emptyMessage: this.props.emptyMessage
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-empty":271,"./list-preview":272,"./list-ready":273,"react":"react"}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _stats = _interopRequireDefault(require("./stats"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  var rank = user.rank;
  var className = "panel user-card";

  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3 user-card-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-small-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50",
    size2x: "80",
    user: user
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-sm-12 user-card-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "150",
    size2x: "200",
    user: user
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-username"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, user.username)), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-title"
  }, /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: rank,
    title: user.title
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-stats"
  }, /*#__PURE__*/_react.default.createElement(_stats.default, {
    showStatus: showStatus,
    user: user
  }))))));
}

},{"../../avatar":8,"./stats":276,"./user-title":277,"react":"react"}],276:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Status = Status;
exports.JoinDate = JoinDate;
exports.Posts = Posts;
exports.Threads = Threads;
exports.Followers = Followers;
exports.getStatClassName = getStatClassName;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, /*#__PURE__*/_react.default.createElement(Status, {
    showStatus: showStatus,
    user: user
  }), /*#__PURE__*/_react.default.createElement(JoinDate, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-divider"
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Threads, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Followers, {
    user: user
  }));
}

function Status(_ref2) {
  var showStatus = _ref2.showStatus,
      user = _ref2.user;
  if (!showStatus) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-status"
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: user.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: user.status,
    user: user
  })));
}

function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;
  var title = interpolate(gettext("Joined on %(joined_on)s"), {
    joined_on: joined_on.format("LL, LT")
  }, true);
  var message = interpolate(gettext("Joined %(joined_on)s"), {
    joined_on: joined_on.fromNow()
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-join-date"
  }, /*#__PURE__*/_react.default.createElement("abbr", {
    title: title
  }, message));
}

function Posts(_ref4) {
  var user = _ref4.user;
  var className = getStatClassName("user-stat-posts", user.posts);
  var message = ngettext("%(posts)s post", "%(posts)s posts", user.posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    posts: user.posts
  }, true));
}

function Threads(_ref5) {
  var user = _ref5.user;
  var className = getStatClassName("user-stat-threads", user.threads);
  var message = ngettext("%(threads)s thread", "%(threads)s threads", user.threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    threads: user.threads
  }, true));
}

function Followers(_ref6) {
  var user = _ref6.user;
  var className = getStatClassName("user-stat-followers", user.followers);
  var message = ngettext("%(followers)s follower", "%(followers)s followers", user.followers);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    followers: user.followers
  }, true));
}

function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }

  return className;
}

},{"../../user-status":268,"react":"react"}],277:[function(require,module,exports){
arguments[4][124][0].apply(exports,arguments)
},{"dup":124,"react":"react"}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var cols = _ref.cols,
      isReady = _ref.isReady,
      showStatus = _ref.showStatus,
      users = _ref.users;
  var colClassName = "col-xs-12 col-sm-4";

  if (cols === 4) {
    colClassName += " col-md-3";
  }

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, {
      colClassName: colClassName,
      cols: cols
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, users.map(function (user) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: colClassName,
      key: user.id
    }, /*#__PURE__*/_react.default.createElement(_card.default, {
      showStatus: showStatus,
      user: user
    }));
  })));
}

},{"./card":275,"./preview":280,"react":"react"}],279:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel user-card user-card-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 user-card-left"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-small-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50",
        size2x: "80"
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-9 col-sm-12 user-card-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "150",
        size2x: "200"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-username"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-stats"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled"
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", {
        className: "user-stat-divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"))))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],280:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var colClassName = _ref.colClassName,
      cols = _ref.cols;
  var list = Array.apply(null, {
    length: cols
  }).map(Number.call, Number);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-preview"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, list.map(function (i) {
    var className = colClassName;
    if (i !== 0) className += " hidden-xs";
    if (i === 3) className += " hidden-sm";
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className,
      key: i
    }, /*#__PURE__*/_react.default.createElement(_card.default, null));
  })));
}

},{"./card":279,"react":"react"}],281:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), {
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],282:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],283:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

var _ = _interopRequireDefault(require("../../.."));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return /*#__PURE__*/_react.default.createElement(_userStatus.default, {
          user: this.props.user,
          status: this.props.user.status
        }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
          user: this.props.user,
          status: this.props.user.status
        }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
          user: this.props.user,
          status: this.props.user.status,
          className: "status-label hidden-xs hidden-sm"
        }));
      }

      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"));
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "rank-name item-title"
        }, this.props.rank.name);
      }

      var rankUrl = _.default.get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: rankUrl,
        className: "rank-name item-title"
      }, this.props.rank.name);
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, this.props.user.title);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: 50,
        size2x: 64
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url,
        className: "item-title"
      }, this.props.user.username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, this.getUserStatus(), this.getRankName(), this.getUserTitle()), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.posts), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../utils/random":382,"../../avatar":8,"../../user-status":268,"react":"react","react-router":"react-router"}],284:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItemPreview = _interopRequireDefault(require("./list-item-preview"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead ui-preview"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(50, 220) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_listItemPreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"./list-item-preview":282,"react":"react"}],285:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s top poster from last %(days)s days.", "%(posters)s top posters from last %(days)s days.", this.props.count);
      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getLeadMessage()), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.users.map(function (user, i) {
        return /*#__PURE__*/_react.default.createElement(_listItem.default, {
          user: user,
          rank: user.rank,
          counter: i + 1,
          key: user.id
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-item":283,"react":"react"}],286:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      });
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      _polls.default.start({
        poll: "active-posters",
        url: _.default.get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            trackedPeriod: this.state.trackedPeriod
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/users":358,"../../../services/page-title":368,"../../../services/polls":369,"../../../services/store":372,"./list-empty":281,"./list-preview":284,"./list-ready":285,"react":"react"}],287:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: url,
      key: url
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: url
    }, list.name));
  }));
}

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;

  if (list.component === "rank") {
    url += list.slug;
  } else {
    url += list.component;
  }

  return url + "/";
};

},{"../..":296,"../li":51,"react":"react","react-router":"react-router"}],288:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 4,
        isReady: false
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../users-list":278,"react":"react"}],289:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _pager = _interopRequireDefault(require("./pager"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 4,
    isReady: true,
    showStatus: true,
    users: props.users
  }), /*#__PURE__*/_react.default.createElement(_pager.default, props));
}

},{"../../users-list":278,"./pager":290,"react":"react"}],290:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _resetScroll = _interopRequireDefault(require("../../../utils/reset-scroll"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.pages === 1) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  })))));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = "";

    if (props.previous) {
      previousUrl = props.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = "";

    if (props.next) {
      nextUrl = props.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + props.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more members with this role.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"../../../utils/reset-scroll":383,"react":"react","react-router":"react-router"}],291:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../../page-lead"));

var _list = _interopRequireDefault(require("./list"));

var _listLoading = _interopRequireDefault(require("./list-loading"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;

      _this.setState(data);
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      _polls.default.start({
        poll: "rank-users",
        url: _.default.get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls.default.stop("rank-users");

        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "rank-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.rank.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          var baseUrl = _.default.get("USERS_LIST_URL") + this.props.route.rank.slug + "/";
          return /*#__PURE__*/_react.default.createElement(_list.default, _extends({
            baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
        } else {
          return /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, gettext("There are no users with this rank at the moment."));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listLoading.default, null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getRankDescription(), this.getComponent()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/users":358,"../../../services/page-title":368,"../../../services/polls":369,"../../../services/store":372,"../../page-lead":86,"./list":289,"./list-loading":288,"react":"react"}],292:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _root = _interopRequireDefault(require("./active-posters/root"));

var _root2 = _interopRequireDefault(require("./rank/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-users-lists"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Users"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_nav.default, {
        lists: _.default.get("USERS_LISTS"),
        baseUrl: _.default.get("USERS_LIST_URL")
      }))))), this.props.children);
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function paths() {
  var paths = [];

  _.default.get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.component + "/",
        component: (0, _reactRedux.connect)(select)(_root.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../..":296,"../dropdown-toggle":29,"../with-dropdown":293,"./active-posters/root":286,"./nav":287,"./rank/root":291,"react":"react","react-redux":"react-redux"}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleNav", function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideNav", function () {
      _this.setState({
        dropdown: false
      });
    });

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],294:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggle", function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.toggle,
        className: this.getClassName(),
        id: this.props.id || null,
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement("span", {
        className: "btn-text"
      }, this.getLabel()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],295:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _profileDetails = require("../reducers/profile-details");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
          data = _this$props.data,
          dispatch = _this$props.dispatch,
          user = _this$props.user;
      if (data && data.id === user.id) return;

      _ajax.default.get(this.props.user.api.details).then(function (data) {
        dispatch((0, _profileDetails.load)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../reducers/profile-details":349,"../services/ajax":359,"../services/snackbar":371,"react":"react"}],296:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Misago = void 0;

var _orderedList = _interopRequireDefault(require("./utils/ordered-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Misago = /*#__PURE__*/function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,
        item: initializer.initializer,
        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;

      this._context = context;
      var initOrder = new _orderedList.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    } // context accessors

  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}(); // create  singleton


exports.Misago = Misago;
var misago = new Misago(); // expose it globally

global.misago = misago; // and export it for tests and stuff

var _default = misago;
exports.default = _default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":381}],297:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax.default.init(_.default.get("CSRF_COOKIE_NAME"));
}

_.default.addInitializer({
  name: "ajax",
  initializer: initializer
});

},{"../services/ajax":359,"./..":296}],298:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = require("../reducers/auth");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      _ajax.default.get(context.get("AUTH_API")).then(function (data) {
        _store.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_.default.addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

},{"../reducers/auth":344,"../services/ajax":359,"../services/snackbar":371,"../services/store":372,"./..":296}],299:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _store = _interopRequireDefault(require("../services/store"));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth.default.init(_store.default, _localStorage.default, _modal.default);
}

_.default.addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

},{"../services/auth":360,"../services/local-storage":363,"../services/modal":366,"../services/store":372,"./..":296}],300:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _include = _interopRequireDefault(require("../services/include"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha.default.init(context, _ajax.default, _include.default, _snackbar.default);
}

_.default.addInitializer({
  name: "captcha",
  initializer: initializer
});

},{"../services/ajax":359,"../services/captcha":361,"../services/include":362,"../services/snackbar":371,"./..":296}],301:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _acceptAgreement = _interopRequireDefault(require("../../components/accept-agreement"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_acceptAgreement.default, {
      api: context.get("REQUIRED_AGREEMENT_API")
    }), "required-agreement-mount", false);
  }
}

_.default.addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/accept-agreement":5,"../../utils/mount-component":380,"react":"react"}],302:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _authMessage = _interopRequireWildcard(require("../../components/auth-message"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage.default), "auth-message-mount");
}

_.default.addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/auth-message":7,"../../utils/mount-component":380,"react-redux":"react-redux"}],303:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _bannedPage = _interopRequireDefault(require("../../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0, _bannedPage.default)(context.get("BAN_MESSAGE"), false);
  }
}

_.default.addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../utils/banned-page":374}],304:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _categories = _interopRequireWildcard(require("../../components/categories"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer() {
  if (document.getElementById("categories-mount")) {
    (0, _mountComponent.default)((0, _reactRedux.connect)(_categories.select)(_categories.default), "categories-mount");
  }
}

_.default.addInitializer({
  name: "component:categories",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/categories":22,"../../utils/mount-component":380,"react-redux":"react-redux"}],305:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/options/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USER_OPTIONS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERCP_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:options",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/options/root":81,"../../utils/routed-component":384}],306:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _root = _interopRequireWildcard(require("../../components/profile/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0, _routedComponent.default)({
      root: _.default.get("PROFILE").url,
      component: (0, _reactRedux.connect)(_root.select)(_root.default),
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

},{"../..":296,"../../components/profile/root":189,"../../utils/routed-component":384,"react-redux":"react-redux"}],307:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestActivationLink = _interopRequireDefault(require("../../components/request-activation-link"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0, _mountComponent.default)(_requestActivationLink.default, "request-activation-link-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/request-activation-link":194,"../../utils/mount-component":380}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestPasswordReset = _interopRequireDefault(require("../../components/request-password-reset"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0, _mountComponent.default)(_requestPasswordReset.default, "request-password-reset-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/request-password-reset":195,"../../utils/mount-component":380}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _resetPasswordForm = _interopRequireDefault(require("../../components/reset-password-form"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0, _mountComponent.default)(_resetPasswordForm.default, "reset-password-form-mount", false);
  }
}

_.default.addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/reset-password-form":196,"../../utils/mount-component":380}],310:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = _interopRequireDefault(require("../../components/search"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0, _routedComponent.default)({
      paths: (0, _search.default)(_.default.get("SEARCH_PROVIDERS"))
    });
  }
}

_.default.addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/search":198,"../../utils/routed-component":384}],311:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _snackbar = require("../../components/snackbar");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), "snackbar-mount");
}

_.default.addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

},{"../..":296,"../../components/snackbar":206,"../../utils/mount-component":380,"react-redux":"react-redux"}],312:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _socialAuth = _interopRequireDefault(require("../../components/social-auth"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_socialAuth.default, props), "page-mount");
  }
}

_.default.addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/social-auth":209,"../../utils/mount-component":380,"react":"react"}],313:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/thread/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/thread/root":227,"../../utils/routed-component":384}],314:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require("../../components/threads/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = "misago:private-threads";

function initializer(context) {
  if (context.has("THREADS") && context.has("CATEGORIES")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)(context.get("user"), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get("CURRENT_LINK");

  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get("PRIVATE_THREADS_API"),
      startThread: {
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API")
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    api: context.get("THREADS_API")
  };
}

_.default.addInitializer({
  name: "component:threads",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/threads/root":261,"../../utils/routed-component":384}],315:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _root = require("../../components/user-menu/root");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), "user-menu-mount");
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), "user-menu-compact-mount");
}

_.default.addInitializer({
  name: "component:user-menu",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/user-menu/root":266,"../../utils/mount-component":380,"react-redux":"react-redux"}],316:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/users/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERS_LIST_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/users/root":292,"../../utils/routed-component":384}],317:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include.default.init(context.get("STATIC_URL"));
}

_.default.addInitializer({
  name: "include",
  initializer: initializer
});

},{"../services/include":362,"./..":296}],318:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage.default.init("misago_");
}

_.default.addInitializer({
  name: "local-storage",
  initializer: initializer
});

},{"../services/local-storage":363,"./..":296}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../services/mobile-navbar-dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");

  if (element) {
    _mobileNavbarDropdown.default.init(element);
  }
}

_.default.addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

},{"../services/mobile-navbar-dropdown":365,"./..":296}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("modal-mount");

  if (element) {
    _modal.default.init(element);
  }
}

_.default.addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

},{"../services/modal":366,"./..":296}],321:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment.default.locale($("html").attr("lang"));
}

_.default.addInitializer({
  name: "moment",
  initializer: initializer
});

},{"./..":296,"moment":"moment"}],322:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _pageTitle = _interopRequireDefault(require("../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle.default.init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}

_.default.addInitializer({
  name: "page-title",
  initializer: initializer
});

},{"../services/page-title":368,"./..":296}],323:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _polls = _interopRequireDefault(require("../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls.default.init(_ajax.default, _snackbar.default);
}

_.default.addInitializer({
  name: "polls",
  initializer: initializer
});

},{"../services/ajax":359,"../services/polls":369,"../services/snackbar":371,"./..":296}],324:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _posting = _interopRequireDefault(require("../services/posting"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting.default.init(_ajax.default, _snackbar.default, document.getElementById("posting-placeholder"));
}

_.default.addInitializer({
  name: "posting",
  initializer: initializer
});

},{"../services/ajax":359,"../services/posting":370,"../services/snackbar":371,"./..":296}],325:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _auth = _interopRequireWildcard(require("../../reducers/auth"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store.default.addReducer("auth", _auth.default, Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),
    user: context.get("user")
  }, _auth.initialState));
}

_.default.addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/auth":344,"../../services/store":372}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _participants = _interopRequireDefault(require("../../reducers/participants"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = _.default.get("THREAD").participants;
  }

  _store.default.addReducer("participants", _participants.default, initialState || []);
}

_.default.addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/participants":345,"../../services/store":372}],327:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _poll = _interopRequireWildcard(require("../../reducers/poll"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD") && _.default.get("THREAD").poll) {
    initialState = (0, _poll.hydrate)(_.default.get("THREAD").poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("poll", _poll.default, initialState);
}

_.default.addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/poll":346,"../../services/store":372}],328:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _posts = _interopRequireWildcard(require("../../reducers/posts"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("POSTS")) {
    initialState = (0, _posts.hydrate)(_.default.get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store.default.addReducer("posts", _posts.default, initialState);
}

_.default.addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/posts":348,"../../services/store":372}],329:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profileDetails = _interopRequireDefault(require("../../reducers/profile-details"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("PROFILE_DETAILS")) {
    initialState = _.default.get("PROFILE_DETAILS");
  }

  _store.default.addReducer("profile-details", _profileDetails.default, initialState || {});
}

_.default.addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/profile-details":349,"../../services/store":372}],330:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_.default.has("PROFILE")) {
    _store.default.dispatch((0, _profile.hydrate)(_.default.get("PROFILE")));
  }
}

_.default.addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../reducers/profile":350,"../../services/store":372}],331:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = _interopRequireDefault(require("../../reducers/profile"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("profile", _profile.default, {});
}

_.default.addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/profile":350,"../../services/store":372}],332:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _search = _interopRequireWildcard(require("../../reducers/search"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("search", _search.default, Object.assign({}, _search.initialState, {
    providers: _.default.get("SEARCH_PROVIDERS") || [],
    query: _.default.get("SEARCH_QUERY") || ""
  }));
}

_.default.addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/search":351,"../../services/store":372}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _selection = _interopRequireDefault(require("../../reducers/selection"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("selection", _selection.default, []);
}

_.default.addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/selection":352,"../../services/store":372}],334:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _snackbar = _interopRequireWildcard(require("../../reducers/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("snackbar", _snackbar.default, _snackbar.initialState);
}

_.default.addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/snackbar":353,"../../services/store":372}],335:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _thread = _interopRequireWildcard(require("../../reducers/thread"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = (0, _thread.hydrate)(_.default.get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("thread", _thread.default, initialState);
}

_.default.addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/thread":354,"../../services/store":372}],336:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _threads = _interopRequireDefault(require("../../reducers/threads"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("threads", _threads.default, []);
}

_.default.addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/threads":355,"../../services/store":372}],337:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _tick = _interopRequireWildcard(require("../../reducers/tick"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("tick", _tick.default, _tick.initialState);
}

_.default.addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/tick":356,"../../services/store":372}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = _interopRequireDefault(require("../../reducers/username-history"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("username-history", _usernameHistory.default, []);
}

_.default.addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/username-history":357,"../../services/store":372}],339:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _users = _interopRequireDefault(require("../../reducers/users"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("users", _users.default, []);
}

_.default.addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/users":358,"../../services/store":372}],340:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar.default.init(_store.default);
}

_.default.addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

},{"../services/snackbar":371,"../services/store":372,"./..":296}],341:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.init();
}

_.default.addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

},{"../services/store":372,"./..":296}],342:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _tick = require("../reducers/tick");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_.default.addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

},{"../reducers/tick":356,"../services/store":372,"./..":296}],343:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn.default.init(_include.default);
}

_.default.addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

},{"../services/include":362,"../services/zxcvbn":373,"./..":296}],344:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = void 0;

var _users = require("./users");

var initialState = {
  signedIn: false,
  signedOut: false
};
exports.initialState = initialState;
var PATCH_USER = "PATCH_USER";
exports.PATCH_USER = PATCH_USER;
var SIGN_IN = "SIGN_IN";
exports.SIGN_IN = SIGN_IN;
var SIGN_OUT = "SIGN_OUT";
exports.SIGN_OUT = SIGN_OUT;

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);

        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);

        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358}],345:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
exports.REPLACE_PARTICIPANTS = void 0;
var REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";
exports.REPLACE_PARTICIPANTS = REPLACE_PARTICIPANTS;

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = void 0;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = "BUSY_POLL";
exports.BUSY_POLL = BUSY_POLL;
var RELEASE_POLL = "RELEASE_POLL";
exports.RELEASE_POLL = RELEASE_POLL;
var REMOVE_POLL = "REMOVE_POLL";
exports.REMOVE_POLL = REMOVE_POLL;
var REPLACE_POLL = "REPLACE_POLL";
exports.REPLACE_POLL = REPLACE_POLL;
var UPDATE_POLL = "UPDATE_POLL";
exports.UPDATE_POLL = UPDATE_POLL;

function hydrate(json) {
  var hasSelectedChoices = false;

  for (var i in json.choices) {
    var choice = json.choices[i];

    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment.default)(json.posted_on).add(json.length, "days") : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_POLL:
      return Object.assign({}, state, {
        isBusy: false
      });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],347:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;
exports.PATCH_POST = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = "PATCH_POST";
exports.PATCH_POST = PATCH_POST;

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    updated_on: (0, _moment.default)(json.updated_on),
    hidden_on: (0, _moment.default)(json.hidden_on),
    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,
    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358,"moment":"moment"}],348:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = void 0;

var _post = _interopRequireWildcard(require("./post"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var APPEND_POSTS = "APPEND_POSTS";
exports.APPEND_POSTS = APPEND_POSTS;
var SELECT_POST = "SELECT_POST";
exports.SELECT_POST = SELECT_POST;
var DESELECT_POST = "DESELECT_POST";
exports.DESELECT_POST = DESELECT_POST;
var DESELECT_POSTS = "DESELECT_POSTS";
exports.DESELECT_POSTS = DESELECT_POSTS;
var LOAD_POSTS = "LOAD_POSTS";
exports.LOAD_POSTS = LOAD_POSTS;
var UNLOAD_POSTS = "UNLOAD_POSTS";
exports.UNLOAD_POSTS = UNLOAD_POSTS;
var UPDATE_POSTS = "UPDATE_POSTS";
exports.UPDATE_POSTS = UPDATE_POSTS;

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });
      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });
      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });
      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post.default)(post, action);
      });
      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":347}],349:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.load = load;
exports.default = details;
exports.LOAD_DETAILS = void 0;
var LOAD_DETAILS = "LOAD_DETAILS";
exports.LOAD_DETAILS = LOAD_DETAILS;

function load(newState) {
  return {
    type: LOAD_DETAILS,
    newState: newState
  };
}

function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;

    default:
      return state;
  }
}

},{}],350:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = "HYDRATE_PROFILE";
exports.HYDRATE_PROFILE = HYDRATE_PROFILE;
var PATCH_PROFILE = "PATCH_PROFILE";
exports.PATCH_PROFILE = PATCH_PROFILE;

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358,"moment":"moment"}],351:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
exports.initialState = exports.UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH = exports.REPLACE_SEARCH = void 0;
var REPLACE_SEARCH = "REPLACE_SEARCH";
exports.REPLACE_SEARCH = REPLACE_SEARCH;
var UPDATE_SEARCH = "UPDATE_SEARCH";
exports.UPDATE_SEARCH = UPDATE_SEARCH;
var UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";
exports.UPDATE_SEARCH_PROVIDER = UPDATE_SEARCH_PROVIDER;
var initialState = {
  isLoading: false,
  query: "",
  providers: []
};
exports.initialState = initialState;

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],352:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = void 0;

var _sets = require("../utils/sets");

var SELECT_ALL = "SELECT_ALL";
exports.SELECT_ALL = SELECT_ALL;
var SELECT_NONE = "SELECT_NONE";
exports.SELECT_NONE = SELECT_NONE;
var SELECT_ITEM = "SELECT_ITEM";
exports.SELECT_ITEM = SELECT_ITEM;

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":385}],353:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
exports.HIDE_SNACKBAR = exports.SHOW_SNACKBAR = exports.initialState = void 0;
var initialState = {
  type: "info",
  message: "",
  isVisible: false
};
exports.initialState = initialState;
var SHOW_SNACKBAR = "SHOW_SNACKBAR";
exports.SHOW_SNACKBAR = SHOW_SNACKBAR;
var HIDE_SNACKBAR = "HIDE_SNACKBAR";
exports.HIDE_SNACKBAR = HIDE_SNACKBAR;

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],354:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _poll = require("./poll");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = "BUSY_THREAD";
exports.BUSY_THREAD = BUSY_THREAD;
var RELEASE_THREAD = "RELEASE_THREAD";
exports.RELEASE_THREAD = RELEASE_THREAD;
var REPLACE_THREAD = "REPLACE_THREAD";
exports.REPLACE_THREAD = REPLACE_THREAD;
var UPDATE_THREAD = "UPDATE_THREAD";
exports.UPDATE_THREAD = UPDATE_THREAD;
var UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";
exports.UPDATE_THREAD_ACL = UPDATE_THREAD_ACL;

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment.default)(json.started_on),
    last_post_on: (0, _moment.default)(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment.default)(json.best_answer_marked_on) : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_THREAD:
      return Object.assign({}, state, {
        isBusy: false
      });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, {
        poll: null
      });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, {
        poll: action.state
      });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, {
        acl: acl
      });

    default:
      return state;
  }
}

},{"./poll":346,"moment":"moment"}],355:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = "APPEND_THREADS";
exports.APPEND_THREADS = APPEND_THREADS;
var DELETE_THREAD = "DELETE_THREAD";
exports.DELETE_THREAD = DELETE_THREAD;
var FILTER_THREADS = "FILTER_THREADS";
exports.FILTER_THREADS = FILTER_THREADS;
var HYDRATE_THREADS = "HYDRATE_THREADS";
exports.HYDRATE_THREADS = HYDRATE_THREADS;
var PATCH_THREAD = "PATCH_THREAD";
exports.PATCH_THREAD = PATCH_THREAD;
var SORT_THREADS = "SORT_THREADS";
exports.SORT_THREADS = SORT_THREADS;
var MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];
exports.MODERATION_PERMISSIONS = MODERATION_PERMISSIONS;

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment.default)(thread.started_on),
    last_post_on: (0, _moment.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];

        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }

      return patchedState;

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"moment":"moment"}],356:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
exports.TICK = exports.initialState = void 0;
var initialState = {
  tick: 0
};
exports.initialState = initialState;
var TICK = "TICK";
exports.TICK = TICK;

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],357:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
exports.ADD_NAME_CHANGE = ADD_NAME_CHANGE;
var APPEND_HISTORY = "APPEND_HISTORY";
exports.APPEND_HISTORY = APPEND_HISTORY;
var HYDRATE_HISTORY = "HYDRATE_HISTORY";
exports.HYDRATE_HISTORY = HYDRATE_HISTORY;

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000),
        // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"./users":358,"moment":"moment"}],358:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = "APPEND_USERS";
exports.APPEND_USERS = APPEND_USERS;
var HYDRATE_USERS = "HYDRATE_USERS";
exports.HYDRATE_USERS = HYDRATE_USERS;
var UPDATE_AVATAR = "UPDATE_AVATAR";
exports.UPDATE_AVATAR = UPDATE_AVATAR;
var UPDATE_USERNAME = "UPDATE_USERNAME";
exports.UPDATE_USERNAME = UPDATE_USERNAME;

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"moment":"moment"}],359:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Ajax = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Ajax = /*#__PURE__*/function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function success(data) {
            resolve(data);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }

      if (lock) {
        var self = this; // update url in existing lock?

        if (this._locks[lock]) {
          this._locks[lock].url = url;
        } // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve


        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          }; // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;
          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300); // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url); // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          }); // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };
          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data,
          contentType: false,
          processData: false,
          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },
          success: function success(response) {
            resolve(response);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.Ajax = Ajax;

var _default = new Ajax();

exports.default = _default;

},{}],360:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Auth = void 0;

var _auth = require("../reducers/auth");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Auth = /*#__PURE__*/function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal; // tell other tabs what auth state is because we are most current with it

      this.syncSession(); // listen for other tabs to tell us that state changed

      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;

      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;

      var state = this._store.getState().auth;

      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0, _auth.signOut)());
        }
      });

      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));

      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });

      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.Auth = Auth;

var _default = new Auth();

exports.default = _default;

},{"../reducers/auth":344}],361:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = void 0;

var _react = _interopRequireDefault(require("react"));

var _formGroup = _interopRequireDefault(require("../components/form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var BaseCaptcha = /*#__PURE__*/function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

exports.BaseCaptcha = BaseCaptcha;

var NoCaptcha = /*#__PURE__*/function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  var _super = _createSuper(NoCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _super.apply(this, arguments);
  }

  _createClass(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

exports.NoCaptcha = NoCaptcha;

var QACaptcha = /*#__PURE__*/function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  var _super2 = _createSuper(QACaptcha);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _super2.apply(this, arguments);
  }

  _createClass(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));

          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: this.question,
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: this.helpText || null
      }, /*#__PURE__*/_react.default.createElement("input", {
        "aria-describedby": "id_captcha_status",
        className: "form-control",
        disabled: kwargs.form.state.isLoading,
        id: "id_captcha",
        onChange: kwargs.form.bindInput("captcha"),
        type: "text",
        value: kwargs.form.state.captcha
      }));
    }
  }]);

  return QACaptcha;
}(BaseCaptcha);

exports.QACaptcha = QACaptcha;

var ReCaptchaComponent = /*#__PURE__*/function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  var _super3 = _createSuper(ReCaptchaComponent);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _super3.apply(this, arguments);
  }

  _createClass(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;

      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        id: "recaptcha"
      });
    }
  }]);

  return ReCaptchaComponent;
}(_react.default.Component);

exports.ReCaptchaComponent = ReCaptchaComponent;

var ReCaptcha = /*#__PURE__*/function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  var _super4 = _createSuper(ReCaptcha);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _super4.apply(this, arguments);
  }

  _createClass(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Please solve the quick test"),
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: gettext("This test helps us prevent automated spam registrations on our site.")
      }, /*#__PURE__*/_react.default.createElement(ReCaptchaComponent, {
        binding: kwargs.form.bindInput("captcha"),
        siteKey: this._context.get("SETTINGS").recaptcha_site_key
      }));
    }
  }]);

  return ReCaptcha;
}(BaseCaptcha);

exports.ReCaptcha = ReCaptcha;

var Captcha = /*#__PURE__*/function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;

        case "qa":
          this._captcha = new QACaptcha();
          break;

        case "re":
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    } // accessors for underlying strategy

  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.Captcha = Captcha;

var _default = new Captcha();

exports.default = _default;

},{"../components/form-group":49,"react":"react"}],362:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Include = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Include = /*#__PURE__*/function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);

        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);

  return Include;
}();

exports.Include = Include;

var _default = new Include();

exports.default = _default;

},{}],363:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LocalStorage = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var storage = window.localStorage;

var LocalStorage = /*#__PURE__*/function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];
      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);

        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);

      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.LocalStorage = LocalStorage;

var _default = new LocalStorage();

exports.default = _default;

},{}],364:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _marked = _interopRequireDefault(require("marked"));

var _oneBox = require("./one-box");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mardkedRenderer = function mardkedRenderer(content) {
  _marked.default.setOptions({
    renderer: new _marked.default.Renderer(),
    gfm: true,
    tables: false,
    breaks: true,
    pedantic: false,
    sanitize: false,
    smartLists: false,
    smartypants: false
  });

  var renderer = new _marked.default.Renderer();

  var headingParse = function headingParse(text, level) {
    return "<h".concat(level, ">\n    <span class=\"k-heading\">").concat(text, "</span>\n  </h").concat(level, ">");
  };

  var linkParse = function linkParse(href, title, text) {
    var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

    if (ytRegExp.test(href)) {
      var youtubeMovie = (0, _oneBox.parseYoutubeUrl)(href);

      if (!!youtubeMovie && youtubeMovie.data !== false) {
        var url = "https://www.youtube.com/embed/";
        url += youtubeMovie.video;
        url += "?rel=0";

        if (youtubeMovie.start) {
          url += "&start=" + youtubeMovie.start;
        }

        var player = '<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>';
        return "<div class=\"embed-responsive embed-responsive-16by9\">".concat(player, "</div>");
      }
    }

    return "<a href=".concat(href, "\n      title=").concat(title || href, "\n      target='_blank'\n      }>").concat(text, "</a>");
  };

  renderer.link = linkParse;
  renderer.heading = headingParse;
  return (0, _marked.default)(content, {
    renderer: renderer
  });
};

var _default = mardkedRenderer;
exports.default = _default;

},{"./one-box":367,"marked":2}],365:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.MobileNavbarDropdown = void 0;

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MobileNavbarDropdown = /*#__PURE__*/function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent.default)(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent.default)(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.MobileNavbarDropdown = MobileNavbarDropdown;

var _default = new MobileNavbarDropdown();

exports.default = _default;

},{"../utils/mount-component":380}],366:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Modal = void 0;

var _reactDom = _interopRequireDefault(require("react-dom"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Modal = /*#__PURE__*/function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;

      this._element = element;
      this._modal = $(element).modal({
        show: false
      });

      this._modal.on("hidden.bs.modal", function () {
        _reactDom.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0, _mountComponent.default)(component, this._element.id);

      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);

  return Modal;
}();

exports.Modal = Modal;

var _default = new Modal();

exports.default = _default;

},{"../utils/mount-component":380,"react-dom":"react-dom"}],367:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;
exports.default = exports.OneBox = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

var OneBox = /*#__PURE__*/function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    _defineProperty(this, "render", function (domnode) {
      if (!domnode) return;

      _this.highlightCode(domnode);

      _this.embedYoutubePlayers(domnode);
    });

    this._youtube = {};
  }

  _createClass(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll("pre>code");

      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll("p>a");

      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];

        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?rel=0";

      if (youtube.start) {
        url += "&start=" + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.OneBox = OneBox;

var _default = new OneBox();

exports.default = _default;

function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);
  if (!video) return null;
  var start = 0;

  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split("m");

      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;

        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;
  var video = url.match(ytRegExp);

  if (video) {
    return video[1];
  }

  return null;
}

},{}],368:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PageTitle = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PageTitle = /*#__PURE__*/function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === "string") {
        title = {
          title: title
        };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext("page: %(page)s"), {
          page: title.page
        }, true);
        finalTitle += " (" + pageLabel + ")";
      }

      if (title.parent) {
        finalTitle += " | " + title.parent;
      }

      document.title = finalTitle + " | " + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.PageTitle = PageTitle;

var _default = new PageTitle();

exports.default = _default;

},{}],369:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Polls = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Polls = /*#__PURE__*/function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);
            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.Polls = Polls;

var _default = new Polls();

exports.default = _default;

},{}],370:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Posting = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _poll = require("../components/poll");

var _posting = _interopRequireDefault(require("../components/posting"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Posting = /*#__PURE__*/function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    _defineProperty(this, "close", function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;

        _this._placeholder.removeClass("slide-in");

        window.setTimeout(function () {
          _reactDom.default.unmountComponentAtNode(document.getElementById("posting-mount"));

          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    });
  }

  _createClass(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);
      this._mode = null;
      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;

        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");

        if (this._mode == "POLL") {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);

        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;

          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      if (props.mode == "POLL") {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_poll.PollForm, props), "posting-mount");
      } else {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_posting.default, props), "posting-mount");
      }

      this._placeholder.addClass("slide-in");

      $("html, body").animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.Posting = Posting;

var _default = new Posting();

exports.default = _default;

},{"../components/poll":100,"../components/posting":128,"../utils/mount-component":380,"react":"react","react-dom":"react-dom"}],371:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Snackbar = void 0;

var _snackbar = require("../reducers/snackbar");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = /*#__PURE__*/function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: "alert",
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);

        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;

          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));

        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());

          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    } // shorthands for message types

  }, {
    key: "info",
    value: function info(message) {
      this.alert(message, "info");
    }
  }, {
    key: "success",
    value: function success(message) {
      this.alert(message, "success");
    }
  }, {
    key: "warning",
    value: function warning(message) {
      this.alert(message, "warning");
    }
  }, {
    key: "error",
    value: function error(message) {
      this.alert(message, "error");
    } // shorthand for api errors

  }, {
    key: "apiError",
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.Snackbar = Snackbar;

var _default = new Snackbar();

exports.default = _default;

},{"../reducers/snackbar":353}],372:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.StoreWrapper = void 0;

var _redux = require("redux");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreWrapper = /*#__PURE__*/function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    } // Store API

  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.StoreWrapper = StoreWrapper;

var _default = new StoreWrapper();

exports.default = _default;

},{"redux":"redux"}],373:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Zxcvbn = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/* global zxcvbn */
var Zxcvbn = /*#__PURE__*/function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");

        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
          tries += 1;

          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.Zxcvbn = Zxcvbn;

var _default = new Zxcvbn();

exports.default = _default;

},{}],374:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _bannedPage = _interopRequireDefault(require("../components/banned-page"));

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var select = function select(state) {
  return state.tick;
};

var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage.default);

function _default(ban, changeState) {
  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(RedrawedBannedPage, {
    message: ban.message,
    expires: ban.expires_on ? (0, _moment.default)(ban.expires_on) : null
  })), document.getElementById("page-mount"));

  if (typeof changeState === "undefined" || changeState) {
    var forumName = _.default.get("SETTINGS").forum_name;

    document.title = gettext("You are banned") + " | " + forumName;
    window.history.pushState({}, "", _.default.get("BANNED_URL"));
  }
}

},{"../components/banned-page":9,"../services/store":372,"./..":296,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],375:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var rows = [];
  var row = [];
  list.forEach(function (element) {
    row.push(element);

    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  }); // pad row to required length?

  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
}

},{}],376:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
}

},{}],377:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var _default = /*#__PURE__*/function () {
  function _default(callback, count) {
    _classCallCheck(this, _default);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_default, [{
    key: "count",
    value: function count() {
      this._count -= 1;

      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _default;
}();

exports.default = _default;

},{}],378:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};

function _default(text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
}

},{}],379:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.roundSize = roundSize;

function _default(bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
}

function roundSize(value) {
  return value.toFixed(1);
}

},{}],380:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var rootElement = document.getElementById(rootElementId);
  var finalComponent = Component.props ? Component : /*#__PURE__*/_react.default.createElement(Component, null);

  if (rootElement) {
    if (connected) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
        store: _store.default.getStore()
      }, finalComponent), rootElement);
    } else {
      _reactDom.default.render(finalComponent, rootElement);
    }
  }
}

},{"../services/store":372,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],381:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OrderedList = /*#__PURE__*/function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,
        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];

      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }

      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      }); // Ordered items

      var ordered = [];
      var ordering = []; // First pass: register items that
      // don't specify their order

      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Second pass: register items that
      // specify their before to "_end"

      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list

      function insertItem(item) {
        var insertAt = -1;

        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);

            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;

      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

var _default = OrderedList;
exports.default = _default;

},{}],382:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;

function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));

  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],383:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default() {
  window.scrollTo(0, 0);
}

},{}],384:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _reactRouter = require("react-router");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById("page-mount");

function _default(options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(_reactRouter.Router, {
    routes: routes,
    history: _reactRouter.browserHistory
  })), rootElement);
}

},{"../services/store":372,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],385:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;

function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],386:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();
  if (subString.length <= 0) return 0;
  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);

    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
}

},{}],387:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.requiredTermsOfService = requiredTermsOfService;
exports.requiredPrivacyPolicy = requiredPrivacyPolicy;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z]+$", "i");

function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || gettext("This field is required.");
    }
  };
}

function requiredTermsOfService(message) {
  var error = gettext("You have to accept the terms of service.");
  return required(message || error);
}

function requiredPrivacyPolicy(message) {
  var error = gettext("You have to accept the privacy policy.");
  return required(message || error);
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };

  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };

  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;

    if (length < limitValue) {
      var returnMessage = ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

},{}]},{},[296,297,298,299,300,317,318,319,320,321,322,323,324,340,341,342,343,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5qcyIsInNyYy9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZS5qcyIsInNyYy9jb21wb25lbnRzL1N0YXJ0U29jaWFsQXV0aC5qcyIsInNyYy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvYmxhbmtzbGF0ZS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2Rlc2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vbGFzdC10aHJlYWQuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9tYWluLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9zdWJjYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3ViY2F0ZWdvcmllcy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wLmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9nYWxsZXJ5LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2JsYW5rc2xhdGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGQtaW5wdXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGRzZXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2Vycm9yLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL3VwbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2NvbXBvbmVudHMvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0dXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvdXRpbHMvaGVscGVyL2tleWJvYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL3V0aWxzL2hlbHBlci90ZXh0LmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS1ncm91cC5qcyIsInNyYy9jb21wb25lbnRzL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9saS5qcyIsInNyYy9jb21wb25lbnRzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21lcmdlLWNvbmZsaWN0LmpzIiwic3JjL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cC5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2NsZWFuLXJlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2NvbnN0YW50cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZHJvcGRvd24tbWVudS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2ZsYXR0ZW4tcmVzdWx0cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2lucHV0LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3Jlc3VsdC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3RocmVhZC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3VzZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2FkaW5nLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2NrZWQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZGVsZXRlLWFjY291bnQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2Rvd25sb2FkLWRhdGEuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2VkaXQtZGV0YWlscy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9VbnVzYWJsZVBhc3N3b3JkTWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWwuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9wYWdlLWxlYWQuanMiLCJzcmMvY29tcG9uZW50cy9wYW5lbC1sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2FkZC1wYXJ0aWNpcGFudC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9tYWtlLW93bmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvcmVtb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vY2hvaWNlcy1jb250cm9sLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9mb3JtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcG9sbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9jaGFydC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaGVscC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3Rpbmcvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9kaWZmLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvYW5vbnltb3VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9yZWdpc3RlcmVkLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL3VzZXItdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtbGlrZXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2VkaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9yZXBseS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQtcHJpdmF0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2F0dGFjaG1lbnRzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdXNlcm5hbWVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy92YWxpZGF0b3JzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZm8uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L3VucmVhZC1sYWJlbC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYXR0YWNobWVudHMvYXR0YWNobWVudC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mbGFncy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9hbm9ueW1vdXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2hhcy12aXNpYmxlLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvcmVnaXN0ZXJlZC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci1wb3N0Y291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC93YXlwb2ludC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvYmFuLWRldGFpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZW1wdHktbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9maWVsZC12YWx1ZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9maWVsZC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2dyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2dyb3Vwcy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9yb3V0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21lc3NhZ2UtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2F2YXRhci1jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9jaGFuZ2UtdXNlcm5hbWUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS91c2VybmFtZS1oaXN0b3J5LmpzIiwic3JjL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9zaWRlbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3RocmVhZHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3VzZXJzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvc2lnbi1pbi5qcyIsInNyYy9jb21wb25lbnRzL3NuYWNrYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvc29jaWFsLWF1dGgvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9icmVhZGNydW1icy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2Ryb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZXJyb3JzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pcy12aXNpYmxlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcGFnaW5hdG9yLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JlcGx5LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3N1YnNjcmlwdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLWJvdHRvbS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLXRvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2JvdHRvbS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9jYXRlZ29yeS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy90b3AuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2xhc3QtYWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2NvbXBhY3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vbW9kYWwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC91c2VyLXVybC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tZXJnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvZ3Vlc3QtbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlci1tZW51L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvdXNlci1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLXN0YXR1cy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9jYXJkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9jYXJkL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvcHJldmlldy9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9wcmV2aWV3L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvcGFnZXIuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3llcy1uby1zd2l0Y2guanMiLCJzcmMvZGF0YS9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvaW5kZXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2FqYXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2F1dGgtc3luYy5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvY2FwdGNoYS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9hY2NlcHQtYWdyZWVtZW50LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9jYXRlZ29yaWVzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL29wdGlvbnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc2VhcmNoLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NvY2lhbC1hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy90aHJlYWRzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXItbWVudS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy91c2Vycy5qcyIsInNyYy9pbml0aWFsaXplcnMvaW5jbHVkZS5qcyIsInNyYy9pbml0aWFsaXplcnMvbG9jYWwtc3RvcmFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9iaWxlLW5hdmJhci1kcm9wZG93bi5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9kYWwuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vbWVudC1sb2NhbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3BhZ2UtdGl0bGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3BvbGxzLmpzIiwic3JjL2luaXRpYWxpemVycy9wb3N0aW5nLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wYXJ0aWNpcGFudHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Bvc3RzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUtaHlkcmF0ZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc2VhcmNoLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWxlY3Rpb24uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RpY2suanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9zbmFja2Jhci5qcyIsInNyYy9pbml0aWFsaXplcnMvc3RvcmUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3RpY2stc3RhcnQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3p4Y3Zibi5qcyIsInNyYy9yZWR1Y2Vycy9hdXRoLmpzIiwic3JjL3JlZHVjZXJzL3BhcnRpY2lwYW50cy5qcyIsInNyYy9yZWR1Y2Vycy9wb2xsLmpzIiwic3JjL3JlZHVjZXJzL3Bvc3QuanMiLCJzcmMvcmVkdWNlcnMvcG9zdHMuanMiLCJzcmMvcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzLmpzIiwic3JjL3JlZHVjZXJzL3Byb2ZpbGUuanMiLCJzcmMvcmVkdWNlcnMvc2VhcmNoLmpzIiwic3JjL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9yZWR1Y2Vycy9zbmFja2Jhci5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9yZWR1Y2Vycy90aWNrLmpzIiwic3JjL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvc2VydmljZXMvYWpheC5qcyIsInNyYy9zZXJ2aWNlcy9hdXRoLmpzIiwic3JjL3NlcnZpY2VzL2NhcHRjaGEuanMiLCJzcmMvc2VydmljZXMvaW5jbHVkZS5qcyIsInNyYy9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL3NlcnZpY2VzL21hcmtlZC5qcyIsInNyYy9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL3NlcnZpY2VzL21vZGFsLmpzIiwic3JjL3NlcnZpY2VzL29uZS1ib3guanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvbW91bnQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL29yZGVyZWQtbGlzdC5qcyIsInNyYy91dGlscy9yYW5kb20uanMiLCJzcmMvdXRpbHMvcmVzZXQtc2Nyb2xsLmpzIiwic3JjL3V0aWxzL3JvdXRlZC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvc2V0cy5qcyIsInNyYy91dGlscy9zdHJpbmctY291bnQuanMiLCJzcmMvdXRpbHMvdmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7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IihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE3IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpICYmIGFyZy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goaW5uZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRjbGFzc05hbWVzLmRlZmF1bHQgPSBjbGFzc05hbWVzO1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCIvKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAyMCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG4vKipcbiAqIERPIE5PVCBFRElUIFRISVMgRklMRVxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIGZpbGVzIGluIC4vc3JjL1xuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwubWFya2VkID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgICBpZiAoIW8pIHJldHVybjtcbiAgICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uobykge1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAobyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkpIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICAgIH1cblxuICAgIGkgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICByZXR1cm4gaS5uZXh0LmJpbmQoaSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gIFx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xuICB9XG5cbiAgdmFyIGRlZmF1bHRzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgIGZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZVVybDogbnVsbCxcbiAgICAgICAgYnJlYWtzOiBmYWxzZSxcbiAgICAgICAgZ2ZtOiB0cnVlLFxuICAgICAgICBoZWFkZXJJZHM6IHRydWUsXG4gICAgICAgIGhlYWRlclByZWZpeDogJycsXG4gICAgICAgIGhpZ2hsaWdodDogbnVsbCxcbiAgICAgICAgbGFuZ1ByZWZpeDogJ2xhbmd1YWdlLScsXG4gICAgICAgIG1hbmdsZTogdHJ1ZSxcbiAgICAgICAgcGVkYW50aWM6IGZhbHNlLFxuICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgc2FuaXRpemU6IGZhbHNlLFxuICAgICAgICBzYW5pdGl6ZXI6IG51bGwsXG4gICAgICAgIHNpbGVudDogZmFsc2UsXG4gICAgICAgIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICAgICAgICBzbWFydHlwYW50czogZmFsc2UsXG4gICAgICAgIHRva2VuaXplcjogbnVsbCxcbiAgICAgICAgd2Fsa1Rva2VuczogbnVsbCxcbiAgICAgICAgeGh0bWw6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZURlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gICAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0cyA9IG5ld0RlZmF1bHRzO1xuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgZGVmYXVsdHM6IGdldERlZmF1bHRzKCksXG4gICAgICBnZXREZWZhdWx0czogZ2V0RGVmYXVsdHMsXG4gICAgICBjaGFuZ2VEZWZhdWx0czogY2hhbmdlRGVmYXVsdHNcbiAgICB9O1xuICB9KTtcbiAgdmFyIGRlZmF1bHRzXzEgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGRlZmF1bHRzXzIgPSBkZWZhdWx0cy5nZXREZWZhdWx0cztcbiAgdmFyIGRlZmF1bHRzXzMgPSBkZWZhdWx0cy5jaGFuZ2VEZWZhdWx0cztcblxuICAvKipcbiAgICogSGVscGVyc1xuICAgKi9cbiAgdmFyIGVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuICB2YXIgZXNjYXBlUmVwbGFjZSA9IC9bJjw+XCInXS9nO1xuICB2YXIgZXNjYXBlVGVzdE5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspLztcbiAgdmFyIGVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuICB2YXIgZXNjYXBlUmVwbGFjZW1lbnRzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIHZhciBnZXRFc2NhcGVSZXBsYWNlbWVudCA9IGZ1bmN0aW9uIGdldEVzY2FwZVJlcGxhY2VtZW50KGNoKSB7XG4gICAgcmV0dXJuIGVzY2FwZVJlcGxhY2VtZW50c1tjaF07XG4gIH07XG5cbiAgZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICAgIGlmIChlbmNvZGUpIHtcbiAgICAgIGlmIChlc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGVSZXBsYWNlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlc2NhcGVUZXN0Tm9FbmNvZGUudGVzdChodG1sKSkge1xuICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgdmFyIHVuZXNjYXBlVGVzdCA9IC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWc7XG5cbiAgZnVuY3Rpb24gdW5lc2NhcGUoaHRtbCkge1xuICAgIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UodW5lc2NhcGVUZXN0LCBmdW5jdGlvbiAoXywgbikge1xuICAgICAgbiA9IG4udG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuXG4gICAgICBpZiAobi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4JyA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSkgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBjYXJldCA9IC8oXnxbXlxcW10pXFxeL2c7XG5cbiAgZnVuY3Rpb24gZWRpdChyZWdleCwgb3B0KSB7XG4gICAgcmVnZXggPSByZWdleC5zb3VyY2UgfHwgcmVnZXg7XG4gICAgb3B0ID0gb3B0IHx8ICcnO1xuICAgIHZhciBvYmogPSB7XG4gICAgICByZXBsYWNlOiBmdW5jdGlvbiByZXBsYWNlKG5hbWUsIHZhbCkge1xuICAgICAgICB2YWwgPSB2YWwuc291cmNlIHx8IHZhbDtcbiAgICAgICAgdmFsID0gdmFsLnJlcGxhY2UoY2FyZXQsICckMScpO1xuICAgICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICBnZXRSZWdleDogZnVuY3Rpb24gZ2V0UmVnZXgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBub25Xb3JkQW5kQ29sb25UZXN0ID0gL1teXFx3Ol0vZztcbiAgdmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuICBmdW5jdGlvbiBjbGVhblVybChzYW5pdGl6ZSwgYmFzZSwgaHJlZikge1xuICAgIGlmIChzYW5pdGl6ZSkge1xuICAgICAgdmFyIHByb3Q7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHByb3QgPSBkZWNvZGVVUklDb21wb25lbnQodW5lc2NhcGUoaHJlZikpLnJlcGxhY2Uobm9uV29yZEFuZENvbG9uVGVzdCwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZigndmJzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChiYXNlICYmICFvcmlnaW5JbmRlcGVuZGVudFVybC50ZXN0KGhyZWYpKSB7XG4gICAgICBocmVmID0gcmVzb2x2ZVVybChiYXNlLCBocmVmKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaHJlZiA9IGVuY29kZVVSSShocmVmKS5yZXBsYWNlKC8lMjUvZywgJyUnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHJlZjtcbiAgfVxuXG4gIHZhciBiYXNlVXJscyA9IHt9O1xuICB2YXIganVzdERvbWFpbiA9IC9eW146XSs6XFwvKlteL10qJC87XG4gIHZhciBwcm90b2NvbCA9IC9eKFteOl0rOilbXFxzXFxTXSokLztcbiAgdmFyIGRvbWFpbiA9IC9eKFteOl0rOlxcLypbXi9dKilbXFxzXFxTXSokLztcblxuICBmdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgICBpZiAoIWJhc2VVcmxzWycgJyArIGJhc2VdKSB7XG4gICAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTNcbiAgICAgIGlmIChqdXN0RG9tYWluLnRlc3QoYmFzZSkpIHtcbiAgICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJhc2UgPSBiYXNlVXJsc1snICcgKyBiYXNlXTtcbiAgICB2YXIgcmVsYXRpdmVCYXNlID0gYmFzZS5pbmRleE9mKCc6JykgPT09IC0xO1xuXG4gICAgaWYgKGhyZWYuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7XG4gICAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICAgIHJldHVybiBocmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKHByb3RvY29sLCAnJDEnKSArIGhyZWY7XG4gICAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICBpZiAocmVsYXRpdmVCYXNlKSB7XG4gICAgICAgIHJldHVybiBocmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFzZS5yZXBsYWNlKGRvbWFpbiwgJyQxJykgKyBocmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5vb3BUZXN0ID0ge1xuICAgIGV4ZWM6IGZ1bmN0aW9uIG5vb3BUZXN0KCkge31cbiAgfTtcblxuICBmdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgICB2YXIgaSA9IDEsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAga2V5O1xuXG4gICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gICAgLy8gYmVmb3JlIGl0IHRvIGRpc3Rpbmd1aXNoIGl0IGZyb20gYW4gZXNjYXBlZCBwaXBlXG4gICAgdmFyIHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCwgc3RyKSB7XG4gICAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLFxuICAgICAgICAgIGN1cnIgPSBvZmZzZXQ7XG5cbiAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykge1xuICAgICAgICBlc2NhcGVkID0gIWVzY2FwZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgLy8gc28gd2UgbGVhdmUgaXQgYWxvbmVcbiAgICAgICAgcmV0dXJuICd8JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFkZCBzcGFjZSBiZWZvcmUgdW5lc2NhcGVkIHxcbiAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICB9XG4gICAgfSksXG4gICAgICAgIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8Lyk7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgaWYgKGNlbGxzLmxlbmd0aCA+IGNvdW50KSB7XG4gICAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoY2VsbHMubGVuZ3RoIDwgY291bnQpIHtcbiAgICAgICAgY2VsbHMucHVzaCgnJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgICAgY2VsbHNbaV0gPSBjZWxsc1tpXS50cmltKCkucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpO1xuICAgIH1cblxuICAgIHJldHVybiBjZWxscztcbiAgfSAvLyBSZW1vdmUgdHJhaWxpbmcgJ2Mncy4gRXF1aXZhbGVudCB0byBzdHIucmVwbGFjZSgvYyokLywgJycpLlxuICAvLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuICAvLyBpbnZlcnQ6IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG5cblxuICBmdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICAgIHZhciBsID0gc3RyLmxlbmd0aDtcblxuICAgIGlmIChsID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuXG5cbiAgICB2YXIgc3VmZkxlbiA9IDA7IC8vIFN0ZXAgbGVmdCB1bnRpbCB3ZSBmYWlsIHRvIG1hdGNoIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuXG4gICAgd2hpbGUgKHN1ZmZMZW4gPCBsKSB7XG4gICAgICB2YXIgY3VyckNoYXIgPSBzdHIuY2hhckF0KGwgLSBzdWZmTGVuIC0gMSk7XG5cbiAgICAgIGlmIChjdXJyQ2hhciA9PT0gYyAmJiAhaW52ZXJ0KSB7XG4gICAgICAgIHN1ZmZMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICAgIHN1ZmZMZW4rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHIuc3Vic3RyKDAsIGwgLSBzdWZmTGVuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRDbG9zaW5nQnJhY2tldChzdHIsIGIpIHtcbiAgICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIGwgPSBzdHIubGVuZ3RoO1xuICAgIHZhciBsZXZlbCA9IDAsXG4gICAgICAgIGkgPSAwO1xuXG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChzdHJbaV0gPT09ICdcXFxcJykge1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgICBsZXZlbCsrO1xuICAgICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgICAgbGV2ZWwtLTtcblxuICAgICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KSB7XG4gICAgaWYgKG9wdCAmJiBvcHQuc2FuaXRpemUgJiYgIW9wdC5zaWxlbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybignbWFya2VkKCk6IHNhbml0aXplIGFuZCBzYW5pdGl6ZXIgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDAuNy4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9tYXJrZWQuanMub3JnLyMvVVNJTkdfQURWQU5DRUQubWQjb3B0aW9ucycpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBoZWxwZXJzID0ge1xuICAgIGVzY2FwZTogZXNjYXBlLFxuICAgIHVuZXNjYXBlOiB1bmVzY2FwZSxcbiAgICBlZGl0OiBlZGl0LFxuICAgIGNsZWFuVXJsOiBjbGVhblVybCxcbiAgICByZXNvbHZlVXJsOiByZXNvbHZlVXJsLFxuICAgIG5vb3BUZXN0OiBub29wVGVzdCxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgc3BsaXRDZWxsczogc3BsaXRDZWxscyxcbiAgICBydHJpbTogcnRyaW0sXG4gICAgZmluZENsb3NpbmdCcmFja2V0OiBmaW5kQ2xvc2luZ0JyYWNrZXQsXG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uOiBjaGVja1Nhbml0aXplRGVwcmVjYXRpb25cbiAgfTtcblxuICB2YXIgZGVmYXVsdHMkMSA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgcnRyaW0kMSA9IGhlbHBlcnMucnRyaW0sXG4gICAgICBzcGxpdENlbGxzJDEgPSBoZWxwZXJzLnNwbGl0Q2VsbHMsXG4gICAgICBfZXNjYXBlID0gaGVscGVycy5lc2NhcGUsXG4gICAgICBmaW5kQ2xvc2luZ0JyYWNrZXQkMSA9IGhlbHBlcnMuZmluZENsb3NpbmdCcmFja2V0O1xuXG4gIGZ1bmN0aW9uIG91dHB1dExpbmsoY2FwLCBsaW5rLCByYXcpIHtcbiAgICB2YXIgaHJlZiA9IGxpbmsuaHJlZjtcbiAgICB2YXIgdGl0bGUgPSBsaW5rLnRpdGxlID8gX2VzY2FwZShsaW5rLnRpdGxlKSA6IG51bGw7XG5cbiAgICBpZiAoY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgIHJhdzogcmF3LFxuICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgcmF3OiByYXcsXG4gICAgICAgIHRleHQ6IF9lc2NhcGUoY2FwWzFdKSxcbiAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCB0ZXh0KSB7XG4gICAgdmFyIG1hdGNoSW5kZW50VG9Db2RlID0gcmF3Lm1hdGNoKC9eKFxccyspKD86YGBgKS8pO1xuXG4gICAgaWYgKG1hdGNoSW5kZW50VG9Db2RlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZW50VG9Db2RlID0gbWF0Y2hJbmRlbnRUb0NvZGVbMV07XG4gICAgcmV0dXJuIHRleHQuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgdmFyIG1hdGNoSW5kZW50SW5Ob2RlID0gbm9kZS5tYXRjaCgvXlxccysvKTtcblxuICAgICAgaWYgKG1hdGNoSW5kZW50SW5Ob2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZW50SW5Ob2RlID0gbWF0Y2hJbmRlbnRJbk5vZGVbMF07XG5cbiAgICAgIGlmIChpbmRlbnRJbk5vZGUubGVuZ3RoID49IGluZGVudFRvQ29kZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2xpY2UoaW5kZW50VG9Db2RlLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pLmpvaW4oJ1xcbicpO1xuICB9XG4gIC8qKlxuICAgKiBUb2tlbml6ZXJcbiAgICovXG5cblxuICB2YXIgVG9rZW5pemVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRva2VuaXplcihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDE7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFRva2VuaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc3BhY2UgPSBmdW5jdGlvbiBzcGFjZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5ld2xpbmUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnc3BhY2UnLFxuICAgICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByYXc6ICdcXG4nXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5jb2RlID0gZnVuY3Rpb24gY29kZShzcmMsIHRva2Vucykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07IC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cblxuICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAncGFyYWdyYXBoJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgIHRleHQ6IGNhcFswXS50cmltUmlnaHQoKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eIHs0fS9nbSwgJycpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljID8gcnRyaW0kMSh0ZXh0LCAnXFxuJykgOiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5mZW5jZXMgPSBmdW5jdGlvbiBmZW5jZXMoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5mZW5jZXMuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciByYXcgPSBjYXBbMF07XG4gICAgICAgIHZhciB0ZXh0ID0gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIGNhcFszXSB8fCAnJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkgOiBjYXBbMl0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGVhZGluZyA9IGZ1bmN0aW9uIGhlYWRpbmcoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oZWFkaW5nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBkZXB0aDogY2FwWzFdLmxlbmd0aCxcbiAgICAgICAgICB0ZXh0OiBjYXBbMl1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLm5wdGFibGUgPSBmdW5jdGlvbiBucHRhYmxlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2subnB0YWJsZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMkMShjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKSksXG4gICAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXSxcbiAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGwgPSBpdGVtLmFsaWduLmxlbmd0aDtcbiAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGwgPSBpdGVtLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzJDEoaXRlbS5jZWxsc1tpXSwgaXRlbS5oZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaHIgPSBmdW5jdGlvbiBocihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdocicsXG4gICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmJsb2NrcXVvdGUgPSBmdW5jdGlvbiBibG9ja3F1b3RlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suYmxvY2txdW90ZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQgPSBjYXBbMF0ucmVwbGFjZSgvXiAqPiA/L2dtLCAnJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpc3QgPSBmdW5jdGlvbiBsaXN0KHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGlzdC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHJhdyA9IGNhcFswXTtcbiAgICAgICAgdmFyIGJ1bGwgPSBjYXBbMl07XG4gICAgICAgIHZhciBpc29yZGVyZWQgPSBidWxsLmxlbmd0aCA+IDE7XG4gICAgICAgIHZhciBsaXN0ID0ge1xuICAgICAgICAgIHR5cGU6ICdsaXN0JyxcbiAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICBvcmRlcmVkOiBpc29yZGVyZWQsXG4gICAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJycsXG4gICAgICAgICAgbG9vc2U6IGZhbHNlLFxuICAgICAgICAgIGl0ZW1zOiBbXVxuICAgICAgICB9OyAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cblxuICAgICAgICB2YXIgaXRlbU1hdGNoID0gY2FwWzBdLm1hdGNoKHRoaXMucnVsZXMuYmxvY2suaXRlbSk7XG4gICAgICAgIHZhciBuZXh0ID0gZmFsc2UsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICBiLFxuICAgICAgICAgICAgYWRkQmFjayxcbiAgICAgICAgICAgIGxvb3NlLFxuICAgICAgICAgICAgaXN0YXNrLFxuICAgICAgICAgICAgaXNjaGVja2VkO1xuICAgICAgICB2YXIgbCA9IGl0ZW1NYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpdGVtID0gaXRlbU1hdGNoW2ldO1xuICAgICAgICAgIHJhdyA9IGl0ZW07IC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtJ3MgYnVsbGV0XG4gICAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cblxuICAgICAgICAgIHNwYWNlID0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICovLCAnJyk7IC8vIE91dGRlbnQgd2hhdGV2ZXIgdGhlXG4gICAgICAgICAgLy8gbGlzdCBpdGVtIGNvbnRhaW5zLiBIYWNreS5cblxuICAgICAgICAgIGlmICh+aXRlbS5pbmRleE9mKCdcXG4gJykpIHtcbiAgICAgICAgICAgIHNwYWNlIC09IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWMgPyBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgnXiB7MSwnICsgc3BhY2UgKyAnfScsICdnbScpLCAnJykgOiBpdGVtLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgICAgICB9IC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBuZXh0IGxpc3QgaXRlbSBiZWxvbmdzIGhlcmUuXG4gICAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG5cblxuICAgICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgYiA9IHRoaXMucnVsZXMuYmxvY2suYnVsbGV0LmV4ZWMoaXRlbU1hdGNoW2kgKyAxXSlbMF07XG5cbiAgICAgICAgICAgIGlmIChidWxsLmxlbmd0aCA+IDEgPyBiLmxlbmd0aCA9PT0gMSA6IGIubGVuZ3RoID4gMSB8fCB0aGlzLm9wdGlvbnMuc21hcnRMaXN0cyAmJiBiICE9PSBidWxsKSB7XG4gICAgICAgICAgICAgIGFkZEJhY2sgPSBpdGVtTWF0Y2guc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgICBsaXN0LnJhdyA9IGxpc3QucmF3LnN1YnN0cmluZygwLCBsaXN0LnJhdy5sZW5ndGggLSBhZGRCYWNrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGkgPSBsIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAgIC8vIFVzZTogLyhefFxcbikoPyEgKVteXFxuXStcXG5cXG4oPyFcXHMqJCkvXG4gICAgICAgICAgLy8gZm9yIGRpc2NvdW50IGJlaGF2aW9yLlxuXG5cbiAgICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xcblxcbig/IVxccyokKS8udGVzdChpdGVtKTtcblxuICAgICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgbmV4dCA9IGl0ZW0uY2hhckF0KGl0ZW0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nO1xuICAgICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgICAgbGlzdC5sb29zZSA9IHRydWU7XG4gICAgICAgICAgfSAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG5cblxuICAgICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy50ZXN0KGl0ZW0pO1xuICAgICAgICAgIGlzY2hlY2tlZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICAgIGlzY2hlY2tlZCA9IGl0ZW1bMV0gIT09ICcgJztcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL15cXFtbIHhYXVxcXSArLywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3QuaXRlbXMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtJyxcbiAgICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgICAgdGFzazogaXN0YXNrLFxuICAgICAgICAgICAgY2hlY2tlZDogaXNjaGVja2VkLFxuICAgICAgICAgICAgbG9vc2U6IGxvb3NlLFxuICAgICAgICAgICAgdGV4dDogaXRlbVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5odG1sID0gZnVuY3Rpb24gaHRtbChzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmh0bWwuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplID8gJ3BhcmFncmFwaCcgOiAnaHRtbCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplciAmJiAoY2FwWzFdID09PSAncHJlJyB8fCBjYXBbMV0gPT09ICdzY3JpcHQnIHx8IGNhcFsxXSA9PT0gJ3N0eWxlJyksXG4gICAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IF9lc2NhcGUoY2FwWzBdKSA6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGVmID0gZnVuY3Rpb24gZGVmKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICBpZiAoY2FwWzNdKSBjYXBbM10gPSBjYXBbM10uc3Vic3RyaW5nKDEsIGNhcFszXS5sZW5ndGggLSAxKTtcbiAgICAgICAgdmFyIHRhZyA9IGNhcFsxXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBocmVmOiBjYXBbMl0sXG4gICAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGUgPSBmdW5jdGlvbiB0YWJsZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRhYmxlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICAgIGhlYWRlcjogc3BsaXRDZWxscyQxKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgICAgY2VsbHM6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgICBpdGVtLnJhdyA9IGNhcFswXTtcbiAgICAgICAgICB2YXIgbCA9IGl0ZW0uYWxpZ24ubGVuZ3RoO1xuICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbCA9IGl0ZW0uY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXSA9IHNwbGl0Q2VsbHMkMShpdGVtLmNlbGxzW2ldLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csICcnKSwgaXRlbS5oZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubGhlYWRpbmcgPSBmdW5jdGlvbiBsaGVhZGluZyhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmxoZWFkaW5nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBkZXB0aDogY2FwWzJdLmNoYXJBdCgwKSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5wYXJhZ3JhcGggPSBmdW5jdGlvbiBwYXJhZ3JhcGgoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5wYXJhZ3JhcGguZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nID8gY2FwWzFdLnNsaWNlKDAsIC0xKSA6IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udGV4dCA9IGZ1bmN0aW9uIHRleHQoc3JjLCB0b2tlbnMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnRleHQuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmVzY2FwZSA9IGZ1bmN0aW9uIGVzY2FwZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5lc2NhcGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2VzY2FwZScsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogX2VzY2FwZShjYXBbMV0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50YWcgPSBmdW5jdGlvbiB0YWcoc3JjLCBpbkxpbmssIGluUmF3QmxvY2spIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGlmICghaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5MaW5rID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICBpbkxpbmsgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5SYXdCbG9jayAmJiAvXjwocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5SYXdCbG9jayAmJiAvXjxcXC8ocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyAndGV4dCcgOiAnaHRtbCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgaW5MaW5rOiBpbkxpbmssXG4gICAgICAgICAgaW5SYXdCbG9jazogaW5SYXdCbG9jayxcbiAgICAgICAgICB0ZXh0OiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogX2VzY2FwZShjYXBbMF0pIDogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5saW5rID0gZnVuY3Rpb24gbGluayhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5saW5rLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgbGFzdFBhcmVuSW5kZXggPSBmaW5kQ2xvc2luZ0JyYWNrZXQkMShjYXBbMl0sICcoKScpO1xuXG4gICAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gY2FwWzBdLmluZGV4T2YoJyEnKSA9PT0gMCA/IDUgOiA0O1xuICAgICAgICAgIHZhciBsaW5rTGVuID0gc3RhcnQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgICAgY2FwWzBdID0gY2FwWzBdLnN1YnN0cmluZygwLCBsaW5rTGVuKS50cmltKCk7XG4gICAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHJlZiA9IGNhcFsyXTtcbiAgICAgICAgdmFyIHRpdGxlID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICAgIHZhciBsaW5rID0gL14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaHJlZiA9IGhyZWYudHJpbSgpLnJlcGxhY2UoL148KFtcXHNcXFNdKik+JC8sICckMScpO1xuICAgICAgICB2YXIgdG9rZW4gPSBvdXRwdXRMaW5rKGNhcCwge1xuICAgICAgICAgIGhyZWY6IGhyZWYgPyBocmVmLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogaHJlZixcbiAgICAgICAgICB0aXRsZTogdGl0bGUgPyB0aXRsZS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCAnJDEnKSA6IHRpdGxlXG4gICAgICAgIH0sIGNhcFswXSk7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlZmxpbmsgPSBmdW5jdGlvbiByZWZsaW5rKHNyYywgbGlua3MpIHtcbiAgICAgIHZhciBjYXA7XG5cbiAgICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKHNyYykpIHx8IChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgICB2YXIgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICAgIGxpbmsgPSBsaW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuXG4gICAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgICAgdmFyIHRleHQgPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b2tlbiA9IG91dHB1dExpbmsoY2FwLCBsaW5rLCBjYXBbMF0pO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5zdHJvbmcgPSBmdW5jdGlvbiBzdHJvbmcoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuc3Ryb25nLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdzdHJvbmcnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFs0XSB8fCBjYXBbM10gfHwgY2FwWzJdIHx8IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZW0gPSBmdW5jdGlvbiBlbShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5lbS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZW0nLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFs2XSB8fCBjYXBbNV0gfHwgY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5jb2Rlc3BhbiA9IGZ1bmN0aW9uIGNvZGVzcGFuKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmNvZGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gY2FwWzJdLnJlcGxhY2UoL1xcbi9nLCAnICcpO1xuICAgICAgICB2YXIgaGFzTm9uU3BhY2VDaGFycyA9IC9bXiBdLy50ZXN0KHRleHQpO1xuICAgICAgICB2YXIgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMgPSB0ZXh0LnN0YXJ0c1dpdGgoJyAnKSAmJiB0ZXh0LmVuZHNXaXRoKCcgJyk7XG5cbiAgICAgICAgaWYgKGhhc05vblNwYWNlQ2hhcnMgJiYgaGFzU3BhY2VDaGFyc09uQm90aEVuZHMpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQgPSBfZXNjYXBlKHRleHQsIHRydWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb2Rlc3BhbicsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uYnIgPSBmdW5jdGlvbiBicihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5ici5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYnInLFxuICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kZWwgPSBmdW5jdGlvbiBkZWwoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdkZWwnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uYXV0b2xpbmsgPSBmdW5jdGlvbiBhdXRvbGluayhzcmMsIG1hbmdsZSkge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmF1dG9saW5rLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgdGV4dCwgaHJlZjtcblxuICAgICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0aGlzLm9wdGlvbnMubWFuZ2xlID8gbWFuZ2xlKGNhcFsxXSkgOiBjYXBbMV0pO1xuICAgICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgdG9rZW5zOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by51cmwgPSBmdW5jdGlvbiB1cmwoc3JjLCBtYW5nbGUpIHtcbiAgICAgIHZhciBjYXA7XG5cbiAgICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS51cmwuZXhlYyhzcmMpKSB7XG4gICAgICAgIHZhciB0ZXh0LCBocmVmO1xuXG4gICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKHRoaXMub3B0aW9ucy5tYW5nbGUgPyBtYW5nbGUoY2FwWzBdKSA6IGNhcFswXSk7XG4gICAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgICAgdmFyIHByZXZDYXBaZXJvO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLmlubGluZS5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcblxuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKGNhcFswXSk7XG5cbiAgICAgICAgICBpZiAoY2FwWzFdID09PSAnd3d3LicpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgdG9rZW5zOiBbe1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5pbmxpbmVUZXh0ID0gZnVuY3Rpb24gaW5saW5lVGV4dChzcmMsIGluUmF3QmxvY2ssIHNtYXJ0eXBhbnRzKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGV4dC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQ7XG5cbiAgICAgICAgaWYgKGluUmF3QmxvY2spIHtcbiAgICAgICAgICB0ZXh0ID0gdGhpcy5vcHRpb25zLnNhbml0aXplID8gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IF9lc2NhcGUoY2FwWzBdKSA6IGNhcFswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMgPyBzbWFydHlwYW50cyhjYXBbMF0pIDogY2FwWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFRva2VuaXplcjtcbiAgfSgpO1xuXG4gIHZhciBub29wVGVzdCQxID0gaGVscGVycy5ub29wVGVzdCxcbiAgICAgIGVkaXQkMSA9IGhlbHBlcnMuZWRpdCxcbiAgICAgIG1lcmdlJDEgPSBoZWxwZXJzLm1lcmdlO1xuICAvKipcbiAgICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICAgKi9cblxuICB2YXIgYmxvY2sgPSB7XG4gICAgbmV3bGluZTogL15cXG4rLyxcbiAgICBjb2RlOiAvXiggezR9W15cXG5dK1xcbiopKy8sXG4gICAgZmVuY2VzOiAvXiB7MCwzfShgezMsfSg/PVteYFxcbl0qXFxuKXx+ezMsfSkoW15cXG5dKilcXG4oPzp8KFtcXHNcXFNdKj8pXFxuKSg/OiB7MCwzfVxcMVt+YF0qICooPzpcXG4rfCQpfCQpLyxcbiAgICBocjogL14gezAsM30oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFwqICopezMsfSkoPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXiB7MCwzfSgjezEsNn0pICsoW15cXG5dKj8pKD86ICsjKyk/ICooPzpcXG4rfCQpLyxcbiAgICBibG9ja3F1b3RlOiAvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvLFxuICAgIGxpc3Q6IC9eKCB7MCwzfSkoYnVsbCkgW1xcc1xcU10rPyg/OmhyfGRlZnxcXG57Mix9KD8hICkoPyFcXDFidWxsIClcXG4qfFxccyokKS8sXG4gICAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz5cXFxcbionIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8+XFxcXG4qJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XFxcXG4qJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gICAgZGVmOiAvXiB7MCwzfVxcWyhsYWJlbClcXF06ICpcXG4/ICo8PyhbXlxccz5dKyk+Pyg/Oig/OiArXFxuPyAqfCAqXFxuICopKHRpdGxlKSk/ICooPzpcXG4rfCQpLyxcbiAgICBucHRhYmxlOiBub29wVGVzdCQxLFxuICAgIHRhYmxlOiBub29wVGVzdCQxLFxuICAgIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLFxuICAgIC8vIHJlZ2V4IHRlbXBsYXRlLCBwbGFjZWhvbGRlcnMgd2lsbCBiZSByZXBsYWNlZCBhY2NvcmRpbmcgdG8gZGlmZmVyZW50IHBhcmFncmFwaFxuICAgIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgICBfcGFyYWdyYXBoOiAvXihbXlxcbl0rKD86XFxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWwpW15cXG5dKykqKS8sXG4gICAgdGV4dDogL15bXlxcbl0rL1xuICB9O1xuICBibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuICBibG9jay5fdGl0bGUgPSAvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvO1xuICBibG9jay5kZWYgPSBlZGl0JDEoYmxvY2suZGVmKS5yZXBsYWNlKCdsYWJlbCcsIGJsb2NrLl9sYWJlbCkucmVwbGFjZSgndGl0bGUnLCBibG9jay5fdGl0bGUpLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVxcLikvO1xuICBibG9jay5pdGVtID0gL14oICopKGJ1bGwpID9bXlxcbl0qKD86XFxuKD8hXFwxYnVsbCA/KVteXFxuXSopKi87XG4gIGJsb2NrLml0ZW0gPSBlZGl0JDEoYmxvY2suaXRlbSwgJ2dtJykucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmxpc3QgPSBlZGl0JDEoYmxvY2subGlzdCkucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpLnJlcGxhY2UoJ2hyJywgJ1xcXFxuKyg/PVxcXFwxPyg/Oig/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcXFwqICopezMsfSkoPzpcXFxcbit8JCkpJykucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKS5nZXRSZWdleCgpO1xuICBibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJyArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJyArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbicgKyAnfHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cicgKyAnfHRyYWNrfHVsJztcbiAgYmxvY2suX2NvbW1lbnQgPSAvPCEtLSg/IS0/PilbXFxzXFxTXSo/LS0+LztcbiAgYmxvY2suaHRtbCA9IGVkaXQkMShibG9jay5odG1sLCAnaScpLnJlcGxhY2UoJ2NvbW1lbnQnLCBibG9jay5fY29tbWVudCkucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LykuZ2V0UmVnZXgoKTtcbiAgYmxvY2sucGFyYWdyYXBoID0gZWRpdCQxKGJsb2NrLl9wYXJhZ3JhcGgpLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmJsb2NrcXVvdGUgPSBlZGl0JDEoYmxvY2suYmxvY2txdW90ZSkucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKS5nZXRSZWdleCgpO1xuICAvKipcbiAgICogTm9ybWFsIEJsb2NrIEdyYW1tYXJcbiAgICovXG5cbiAgYmxvY2subm9ybWFsID0gbWVyZ2UkMSh7fSwgYmxvY2spO1xuICAvKipcbiAgICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAgICovXG5cbiAgYmxvY2suZ2ZtID0gbWVyZ2UkMSh7fSwgYmxvY2subm9ybWFsLCB7XG4gICAgbnB0YWJsZTogJ14gKihbXnxcXFxcbiBdLipcXFxcfC4qKVxcXFxuJyAvLyBIZWFkZXJcbiAgICArICcgKihbLTpdKyAqXFxcXHxbLXwgOl0qKScgLy8gQWxpZ25cbiAgICArICcoPzpcXFxcbigoPzooPyFcXFxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxcXG58JCkpKilcXFxcbip8JCknLFxuICAgIC8vIENlbGxzXG4gICAgdGFibGU6ICdeICpcXFxcfCguKylcXFxcbicgLy8gSGVhZGVyXG4gICAgKyAnICpcXFxcfD8oICpbLTpdK1stfCA6XSopJyAvLyBBbGlnblxuICAgICsgJyg/OlxcXFxuICooKD86KD8hXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpJyAvLyBDZWxsc1xuXG4gIH0pO1xuICBibG9jay5nZm0ubnB0YWJsZSA9IGVkaXQkMShibG9jay5nZm0ubnB0YWJsZSkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcbiAgYmxvY2suZ2ZtLnRhYmxlID0gZWRpdCQxKGJsb2NrLmdmbS50YWJsZSkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnY29kZScsICcgezR9W15cXFxcbl0nKS5yZXBsYWNlKCdmZW5jZXMnLCAnIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuJykucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJykucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gdGFibGVzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIFBlZGFudGljIGdyYW1tYXIgKG9yaWdpbmFsIEpvaG4gR3J1YmVyJ3MgbG9vc2UgbWFya2Rvd24gc3BlY2lmaWNhdGlvbilcbiAgICovXG5cbiAgYmxvY2sucGVkYW50aWMgPSBtZXJnZSQxKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgICBodG1sOiBlZGl0JDEoJ14gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpJyArICd8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpJyAvLyBjbG9zZWQgdGFnXG4gICAgKyAnfDx0YWcoPzpcIlteXCJdKlwifFxcJ1teXFwnXSpcXCd8XFxcXHNbXlxcJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpJykucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKC90YWcvZywgJyg/ISg/OicgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YicgKyAnfHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZyknICsgJ1xcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYicpLmdldFJlZ2V4KCksXG4gICAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8sXG4gICAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cXG5dKz8pICooPzojKyAqKT8oPzpcXG4rfCQpLyxcbiAgICBmZW5jZXM6IG5vb3BUZXN0JDEsXG4gICAgLy8gZmVuY2VzIG5vdCBzdXBwb3J0ZWRcbiAgICBwYXJhZ3JhcGg6IGVkaXQkMShibG9jay5ub3JtYWwuX3BhcmFncmFwaCkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJykucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZykucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnfGZlbmNlcycsICcnKS5yZXBsYWNlKCd8bGlzdCcsICcnKS5yZXBsYWNlKCd8aHRtbCcsICcnKS5nZXRSZWdleCgpXG4gIH0pO1xuICAvKipcbiAgICogSW5saW5lLUxldmVsIEdyYW1tYXJcbiAgICovXG5cbiAgdmFyIGlubGluZSA9IHtcbiAgICBlc2NhcGU6IC9eXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvLFxuICAgIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICAgIHVybDogbm9vcFRlc3QkMSxcbiAgICB0YWc6ICdeY29tbWVudCcgKyAnfF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj4nIC8vIHNlbGYtY2xvc2luZyB0YWdcbiAgICArICd8XjxbYS16QS1aXVtcXFxcdy1dKig/OmF0dHJpYnV0ZSkqP1xcXFxzKi8/PicgLy8gb3BlbiB0YWdcbiAgICArICd8XjxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+JyAvLyBwcm9jZXNzaW5nIGluc3RydWN0aW9uLCBlLmcuIDw/cGhwID8+XG4gICAgKyAnfF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+JyAvLyBkZWNsYXJhdGlvbiwgZS5nLiA8IURPQ1RZUEUgaHRtbD5cbiAgICArICd8XjwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPicsXG4gICAgLy8gQ0RBVEEgc2VjdGlvblxuICAgIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgICByZWZsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcWyg/IVxccypcXF0pKCg/OlxcXFxbXFxbXFxdXT98W15cXFtcXF1cXFxcXSkrKVxcXS8sXG4gICAgbm9saW5rOiAvXiE/XFxbKD8hXFxzKlxcXSkoKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcW1xcW1xcXV18W15cXFtcXF1dKSopXFxdKD86XFxbXFxdKT8vLFxuICAgIHN0cm9uZzogL15fXyhbXlxcc19dKV9fKD8hXyl8XlxcKlxcKihbXlxccypdKVxcKlxcKig/IVxcKil8Xl9fKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pX18oPyFfKXxeXFwqXFwqKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pXFwqXFwqKD8hXFwqKS8sXG4gICAgZW06IC9eXyhbXlxcc19dKV8oPyFfKXxeXyhbXlxcc188XVtcXHNcXFNdKj9bXlxcc19dKV8oPyFffFteXFxzLHB1bmN0dWF0aW9uXSl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNdKV8oPyFffFteXFxzLHB1bmN0dWF0aW9uXSl8XlxcKihbXlxccyo8XFxbXSlcXCooPyFcXCopfF5cXCooW15cXHM8XCJdW1xcc1xcU10qP1teXFxzXFxbXFwqXSlcXCooPyFbXFxdYHB1bmN0dWF0aW9uXSl8XlxcKihbXlxccypcIjxcXFtdW1xcc1xcU10qW15cXHNdKVxcKig/IVxcKikvLFxuICAgIGNvZGU6IC9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sXG4gICAgYnI6IC9eKCB7Mix9fFxcXFwpXFxuKD8hXFxzKiQpLyxcbiAgICBkZWw6IG5vb3BUZXN0JDEsXG4gICAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2AqXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpfCg/PSB7Mix9XFxuKSkvXG4gIH07IC8vIGxpc3Qgb2YgcHVuY3R1YXRpb24gbWFya3MgZnJvbSBjb21tb24gbWFyayBzcGVjXG4gIC8vIHdpdGhvdXQgYCBhbmQgXSB0byB3b3JrYXJvdW5kIFJ1bGUgMTcgKGlubGluZSBjb2RlIGJsb2Nrcy9saW5rcylcbiAgLy8gd2l0aG91dCAsIHRvIHdvcmsgYXJvdW5kIGV4YW1wbGUgMzkzXG5cbiAgaW5saW5lLl9wdW5jdHVhdGlvbiA9ICchXCIjJCUmXFwnKCkqK1xcXFwtLi86Ozw9Pj9AXFxcXFteX3t8fX4nO1xuICBpbmxpbmUuZW0gPSBlZGl0JDEoaW5saW5lLmVtKS5yZXBsYWNlKC9wdW5jdHVhdGlvbi9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO1xuICBpbmxpbmUuX2VzY2FwZXMgPSAvXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvZztcbiAgaW5saW5lLl9zY2hlbWUgPSAvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS87XG4gIGlubGluZS5fZW1haWwgPSAvW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXSsoQClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyg/IVstX10pLztcbiAgaW5saW5lLmF1dG9saW5rID0gZWRpdCQxKGlubGluZS5hdXRvbGluaykucmVwbGFjZSgnc2NoZW1lJywgaW5saW5lLl9zY2hlbWUpLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbCkuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLl9hdHRyaWJ1dGUgPSAvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy87XG4gIGlubGluZS50YWcgPSBlZGl0JDEoaW5saW5lLnRhZykucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKCdhdHRyaWJ1dGUnLCBpbmxpbmUuX2F0dHJpYnV0ZSkuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLl9sYWJlbCA9IC8oPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFwufGBbXmBdKmB8W15cXFtcXF1cXFxcYF0pKj8vO1xuICBpbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFxbPD5dP3xbXlxcczw+XFxcXF0pKj58W15cXHNcXHgwMC1cXHgxZl0qLztcbiAgaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuICBpbmxpbmUubGluayA9IGVkaXQkMShpbmxpbmUubGluaykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5yZXBsYWNlKCdocmVmJywgaW5saW5lLl9ocmVmKS5yZXBsYWNlKCd0aXRsZScsIGlubGluZS5fdGl0bGUpLmdldFJlZ2V4KCk7XG4gIGlubGluZS5yZWZsaW5rID0gZWRpdCQxKGlubGluZS5yZWZsaW5rKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLmdldFJlZ2V4KCk7XG4gIC8qKlxuICAgKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLm5vcm1hbCA9IG1lcmdlJDEoe30sIGlubGluZSk7XG4gIC8qKlxuICAgKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICAgKi9cblxuICBpbmxpbmUucGVkYW50aWMgPSBtZXJnZSQxKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gICAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgICBlbTogL15fKD89XFxTKShbXFxzXFxTXSo/XFxTKV8oPyFfKXxeXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKig/IVxcKikvLFxuICAgIGxpbms6IGVkaXQkMSgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5nZXRSZWdleCgpLFxuICAgIHJlZmxpbms6IGVkaXQkMSgvXiE/XFxbKGxhYmVsKVxcXVxccypcXFsoW15cXF1dKilcXF0vKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLmdldFJlZ2V4KClcbiAgfSk7XG4gIC8qKlxuICAgKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLmdmbSA9IG1lcmdlJDEoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgICBlc2NhcGU6IGVkaXQkMShpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gICAgdXJsOiAvXigoPzpmdHB8aHR0cHM/KTpcXC9cXC98d3d3XFwuKSg/OlthLXpBLVowLTlcXC1dK1xcLj8pK1teXFxzPF0qfF5lbWFpbC8sXG4gICAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl9+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl9+KV0rKD8hJCkpKy8sXG4gICAgZGVsOiAvXn4rKD89XFxTKShbXFxzXFxTXSo/XFxTKX4rLyxcbiAgICB0ZXh0OiAvXihgK3xbXmBdKSg/OltcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCp+XXxcXGJffGh0dHBzPzpcXC9cXC98ZnRwOlxcL1xcL3x3d3dcXC58JCl8W14gXSg/PSB7Mix9XFxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpfCg/PSB7Mix9XFxufFthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpL1xuICB9KTtcbiAgaW5saW5lLmdmbS51cmwgPSBlZGl0JDEoaW5saW5lLmdmbS51cmwsICdpJykucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuZ2ZtLl9leHRlbmRlZF9lbWFpbCkuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIEdGTSArIExpbmUgQnJlYWtzIElubGluZSBHcmFtbWFyXG4gICAqL1xuXG4gIGlubGluZS5icmVha3MgPSBtZXJnZSQxKHt9LCBpbmxpbmUuZ2ZtLCB7XG4gICAgYnI6IGVkaXQkMShpbmxpbmUuYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gICAgdGV4dDogZWRpdCQxKGlubGluZS5nZm0udGV4dCkucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJykucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKS5nZXRSZWdleCgpXG4gIH0pO1xuICB2YXIgcnVsZXMgPSB7XG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGlubGluZTogaW5saW5lXG4gIH07XG5cbiAgdmFyIGRlZmF1bHRzJDIgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGJsb2NrJDEgPSBydWxlcy5ibG9jayxcbiAgICAgIGlubGluZSQxID0gcnVsZXMuaW5saW5lO1xuICAvKipcbiAgICogc21hcnR5cGFudHMgdGV4dCByZXBsYWNlbWVudFxuICAgKi9cblxuICBmdW5jdGlvbiBzbWFydHlwYW50cyh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCBcIlxcdTIwMTRcIikgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csIFwiXFx1MjAxM1wiKSAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgXCIkMVxcdTIwMThcIikgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCBcIlxcdTIwMTlcIikgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csIFwiJDFcXHUyMDFDXCIpIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCBcIlxcdTIwMURcIikgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csIFwiXFx1MjAyNlwiKTtcbiAgfVxuICAvKipcbiAgICogbWFuZ2xlIGVtYWlsIGFkZHJlc3Nlc1xuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG1hbmdsZSh0ZXh0KSB7XG4gICAgdmFyIG91dCA9ICcnLFxuICAgICAgICBpLFxuICAgICAgICBjaDtcbiAgICB2YXIgbCA9IHRleHQubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgICAgfVxuXG4gICAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEJsb2NrIExleGVyXG4gICAqL1xuXG5cbiAgdmFyIExleGVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDI7XG4gICAgICB0aGlzLm9wdGlvbnMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplciB8fCBuZXcgVG9rZW5pemVyXzEoKTtcbiAgICAgIHRoaXMudG9rZW5pemVyID0gdGhpcy5vcHRpb25zLnRva2VuaXplcjtcbiAgICAgIHRoaXMudG9rZW5pemVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIGJsb2NrOiBibG9jayQxLm5vcm1hbCxcbiAgICAgICAgaW5saW5lOiBpbmxpbmUkMS5ub3JtYWxcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgcnVsZXMuYmxvY2sgPSBibG9jayQxLnBlZGFudGljO1xuICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUkMS5wZWRhbnRpYztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgICAgICBydWxlcy5ibG9jayA9IGJsb2NrJDEuZ2ZtO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lJDEuYnJlYWtzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZSQxLmdmbTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRva2VuaXplci5ydWxlcyA9IHJ1bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBvc2UgUnVsZXNcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIExleCBNZXRob2RcbiAgICAgKi9cbiAgICBMZXhlci5sZXggPSBmdW5jdGlvbiBsZXgoc3JjLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gICAgICByZXR1cm4gbGV4ZXIubGV4KHNyYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICB2YXIgX3Byb3RvID0gTGV4ZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmxleCA9IGZ1bmN0aW9uIGxleChzcmMpIHtcbiAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKC9cXHJcXG58XFxyL2csICdcXG4nKS5yZXBsYWNlKC9cXHQvZywgJyAgICAnKTtcbiAgICAgIHRoaXMuYmxvY2tUb2tlbnMoc3JjLCB0aGlzLnRva2VucywgdHJ1ZSk7XG4gICAgICB0aGlzLmlubGluZSh0aGlzLnRva2Vucyk7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExleGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5ibG9ja1Rva2VucyA9IGZ1bmN0aW9uIGJsb2NrVG9rZW5zKHNyYywgdG9rZW5zLCB0b3ApIHtcbiAgICAgIGlmICh0b2tlbnMgPT09IHZvaWQgMCkge1xuICAgICAgICB0b2tlbnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRvcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRvcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHNyYyA9IHNyYy5yZXBsYWNlKC9eICskL2dtLCAnJyk7XG4gICAgICB2YXIgdG9rZW4sIGksIGwsIGxhc3RUb2tlbjtcblxuICAgICAgd2hpbGUgKHNyYykge1xuICAgICAgICAvLyBuZXdsaW5lXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnNwYWNlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBjb2RlXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2RlKHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBmZW5jZXNcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmZlbmNlcyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gaGVhZGluZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaGVhZGluZyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGFibGUgbm8gbGVhZGluZyBwaXBlIChnZm0pXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5ucHRhYmxlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBoclxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHIoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGJsb2NrcXVvdGVcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmJsb2NrcXVvdGUoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5ibG9ja1Rva2Vucyh0b2tlbi50ZXh0LCBbXSwgdG9wKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gbGlzdFxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGlzdChzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICBsID0gdG9rZW4uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdG9rZW4uaXRlbXNbaV0udG9rZW5zID0gdGhpcy5ibG9ja1Rva2Vucyh0b2tlbi5pdGVtc1tpXS50ZXh0LCBbXSwgZmFsc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBodG1sXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5odG1sKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBkZWZcblxuXG4gICAgICAgIGlmICh0b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVmKHNyYykpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICghdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSkge1xuICAgICAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdG9rZW4udGFnXSA9IHtcbiAgICAgICAgICAgICAgaHJlZjogdG9rZW4uaHJlZixcbiAgICAgICAgICAgICAgdGl0bGU6IHRva2VuLnRpdGxlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRhYmxlIChnZm0pXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWJsZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gbGhlYWRpbmdcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxoZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0b3AtbGV2ZWwgcGFyYWdyYXBoXG5cblxuICAgICAgICBpZiAodG9wICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnBhcmFncmFwaChzcmMpKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRleHRcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRleHQoc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIHZhciBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaW5saW5lID0gZnVuY3Rpb24gaW5saW5lKHRva2Vucykge1xuICAgICAgdmFyIGksIGosIGssIGwyLCByb3csIHRva2VuO1xuICAgICAgdmFyIGwgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3BhcmFncmFwaCc6XG4gICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgY2FzZSAnaGVhZGluZyc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRva2VuLnRva2VucyA9IFtdO1xuICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCB0b2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9rZW4udG9rZW5zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcjogW10sXG4gICAgICAgICAgICAgICAgY2VsbHM6IFtdXG4gICAgICAgICAgICAgIH07IC8vIGhlYWRlclxuXG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uaGVhZGVyLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHRva2VuLnRva2Vucy5oZWFkZXJbal0gPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyh0b2tlbi5oZWFkZXJbal0sIHRva2VuLnRva2Vucy5oZWFkZXJbal0pO1xuICAgICAgICAgICAgICB9IC8vIGNlbGxzXG5cblxuICAgICAgICAgICAgICBsMiA9IHRva2VuLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHJvdyA9IHRva2VuLmNlbGxzW2pdO1xuICAgICAgICAgICAgICAgIHRva2VuLnRva2Vucy5jZWxsc1tqXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHJvdy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgdG9rZW4udG9rZW5zLmNlbGxzW2pdW2tdID0gW107XG4gICAgICAgICAgICAgICAgICB0aGlzLmlubGluZVRva2Vucyhyb3dba10sIHRva2VuLnRva2Vucy5jZWxsc1tqXVtrXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhpcy5pbmxpbmUodG9rZW4udG9rZW5zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubGluZSh0b2tlbi5pdGVtc1tqXS50b2tlbnMpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGV4aW5nL0NvbXBpbGluZ1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5pbmxpbmVUb2tlbnMgPSBmdW5jdGlvbiBpbmxpbmVUb2tlbnMoc3JjLCB0b2tlbnMsIGluTGluaywgaW5SYXdCbG9jaykge1xuICAgICAgaWYgKHRva2VucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRva2VucyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5MaW5rID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5MaW5rID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpblJhd0Jsb2NrID09PSB2b2lkIDApIHtcbiAgICAgICAgaW5SYXdCbG9jayA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdG9rZW47XG5cbiAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgLy8gZXNjYXBlXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVzY2FwZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGFnXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50YWcoc3JjLCBpbkxpbmssIGluUmF3QmxvY2spKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICBpbkxpbmsgPSB0b2tlbi5pbkxpbms7XG4gICAgICAgICAgaW5SYXdCbG9jayA9IHRva2VuLmluUmF3QmxvY2s7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGxpbmtcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpbmsoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgdHJ1ZSwgaW5SYXdCbG9jayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHJlZmxpbmssIG5vbGlua1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucmVmbGluayhzcmMsIHRoaXMudG9rZW5zLmxpbmtzKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgdHJ1ZSwgaW5SYXdCbG9jayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHN0cm9uZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuc3Ryb25nKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCBpbkxpbmssIGluUmF3QmxvY2spO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBlbVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZW0oc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIGluTGluaywgaW5SYXdCbG9jayk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGNvZGVcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmNvZGVzcGFuKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBiclxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYnIoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGRlbCAoZ2ZtKVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZGVsKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCBpbkxpbmssIGluUmF3QmxvY2spO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBhdXRvbGlua1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYXV0b2xpbmsoc3JjLCBtYW5nbGUpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdXJsIChnZm0pXG5cblxuICAgICAgICBpZiAoIWluTGluayAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci51cmwoc3JjLCBtYW5nbGUpKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRleHRcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmlubGluZVRleHQoc3JjLCBpblJhd0Jsb2NrLCBzbWFydHlwYW50cykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICB2YXIgZXJyTXNnID0gJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKExleGVyLCBudWxsLCBbe1xuICAgICAga2V5OiBcInJ1bGVzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBibG9jazogYmxvY2skMSxcbiAgICAgICAgICBpbmxpbmU6IGlubGluZSQxXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExleGVyO1xuICB9KCk7XG5cbiAgdmFyIGRlZmF1bHRzJDMgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIGNsZWFuVXJsJDEgPSBoZWxwZXJzLmNsZWFuVXJsLFxuICAgICAgZXNjYXBlJDEgPSBoZWxwZXJzLmVzY2FwZTtcbiAgLyoqXG4gICAqIFJlbmRlcmVyXG4gICAqL1xuXG4gIHZhciBSZW5kZXJlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFJlbmRlcmVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5jb2RlID0gZnVuY3Rpb24gY29kZShfY29kZSwgaW5mb3N0cmluZywgZXNjYXBlZCkge1xuICAgICAgdmFyIGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICAgICAgdmFyIG91dCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQoX2NvZGUsIGxhbmcpO1xuXG4gICAgICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IF9jb2RlKSB7XG4gICAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgX2NvZGUgPSBvdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFsYW5nKSB7XG4gICAgICAgIHJldHVybiAnPHByZT48Y29kZT4nICsgKGVzY2FwZWQgPyBfY29kZSA6IGVzY2FwZSQxKF9jb2RlLCB0cnVlKSkgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIicgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeCArIGVzY2FwZSQxKGxhbmcsIHRydWUpICsgJ1wiPicgKyAoZXNjYXBlZCA/IF9jb2RlIDogZXNjYXBlJDEoX2NvZGUsIHRydWUpKSArICc8L2NvZGU+PC9wcmU+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJsb2NrcXVvdGUgPSBmdW5jdGlvbiBibG9ja3F1b3RlKHF1b3RlKSB7XG4gICAgICByZXR1cm4gJzxibG9ja3F1b3RlPlxcbicgKyBxdW90ZSArICc8L2Jsb2NrcXVvdGU+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmh0bWwgPSBmdW5jdGlvbiBodG1sKF9odG1sKSB7XG4gICAgICByZXR1cm4gX2h0bWw7XG4gICAgfTtcblxuICAgIF9wcm90by5oZWFkaW5nID0gZnVuY3Rpb24gaGVhZGluZyh0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgICAgICByZXR1cm4gJzxoJyArIGxldmVsICsgJyBpZD1cIicgKyB0aGlzLm9wdGlvbnMuaGVhZGVyUHJlZml4ICsgc2x1Z2dlci5zbHVnKHJhdykgKyAnXCI+JyArIHRleHQgKyAnPC9oJyArIGxldmVsICsgJz5cXG4nO1xuICAgICAgfSAvLyBpZ25vcmUgSURzXG5cblxuICAgICAgcmV0dXJuICc8aCcgKyBsZXZlbCArICc+JyArIHRleHQgKyAnPC9oJyArIGxldmVsICsgJz5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaHIgPSBmdW5jdGlvbiBocigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGhyLz5cXG4nIDogJzxocj5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGlzdCA9IGZ1bmN0aW9uIGxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpIHtcbiAgICAgIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgICAgIHN0YXJ0YXR0ID0gb3JkZXJlZCAmJiBzdGFydCAhPT0gMSA/ICcgc3RhcnQ9XCInICsgc3RhcnQgKyAnXCInIDogJyc7XG4gICAgICByZXR1cm4gJzwnICsgdHlwZSArIHN0YXJ0YXR0ICsgJz5cXG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGlzdGl0ZW0gPSBmdW5jdGlvbiBsaXN0aXRlbSh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxsaT4nICsgdGV4dCArICc8L2xpPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5jaGVja2JveCA9IGZ1bmN0aW9uIGNoZWNrYm94KGNoZWNrZWQpIHtcbiAgICAgIHJldHVybiAnPGlucHV0ICcgKyAoY2hlY2tlZCA/ICdjaGVja2VkPVwiXCIgJyA6ICcnKSArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJyArICh0aGlzLm9wdGlvbnMueGh0bWwgPyAnIC8nIDogJycpICsgJz4gJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnBhcmFncmFwaCA9IGZ1bmN0aW9uIHBhcmFncmFwaCh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGUgPSBmdW5jdGlvbiB0YWJsZShoZWFkZXIsIGJvZHkpIHtcbiAgICAgIGlmIChib2R5KSBib2R5ID0gJzx0Ym9keT4nICsgYm9keSArICc8L3Rib2R5Pic7XG4gICAgICByZXR1cm4gJzx0YWJsZT5cXG4nICsgJzx0aGVhZD5cXG4nICsgaGVhZGVyICsgJzwvdGhlYWQ+XFxuJyArIGJvZHkgKyAnPC90YWJsZT5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGVyb3cgPSBmdW5jdGlvbiB0YWJsZXJvdyhjb250ZW50KSB7XG4gICAgICByZXR1cm4gJzx0cj5cXG4nICsgY29udGVudCArICc8L3RyPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by50YWJsZWNlbGwgPSBmdW5jdGlvbiB0YWJsZWNlbGwoY29udGVudCwgZmxhZ3MpIHtcbiAgICAgIHZhciB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gICAgICB2YXIgdGFnID0gZmxhZ3MuYWxpZ24gPyAnPCcgKyB0eXBlICsgJyBhbGlnbj1cIicgKyBmbGFncy5hbGlnbiArICdcIj4nIDogJzwnICsgdHlwZSArICc+JztcbiAgICAgIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gICAgfSAvLyBzcGFuIGxldmVsIHJlbmRlcmVyXG4gICAgO1xuXG4gICAgX3Byb3RvLnN0cm9uZyA9IGZ1bmN0aW9uIHN0cm9uZyh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtID0gZnVuY3Rpb24gZW0odGV4dCkge1xuICAgICAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29kZXNwYW4gPSBmdW5jdGlvbiBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnIgPSBmdW5jdGlvbiBicigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGVsID0gZnVuY3Rpb24gZGVsKHRleHQpIHtcbiAgICAgIHJldHVybiAnPGRlbD4nICsgdGV4dCArICc8L2RlbD4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGluayA9IGZ1bmN0aW9uIGxpbmsoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIGhyZWYgPSBjbGVhblVybCQxKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuXG4gICAgICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dCA9ICc8YSBocmVmPVwiJyArIGVzY2FwZSQxKGhyZWYpICsgJ1wiJztcblxuICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICAgIH1cblxuICAgICAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgaHJlZiA9IGNsZWFuVXJsJDEodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG5cbiAgICAgIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuXG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICAgICAgfVxuXG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+JztcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIF9wcm90by50ZXh0ID0gZnVuY3Rpb24gdGV4dChfdGV4dCkge1xuICAgICAgcmV0dXJuIF90ZXh0O1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyZXI7XG4gIH0oKTtcblxuICAvKipcbiAgICogVGV4dFJlbmRlcmVyXG4gICAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICAgKi9cbiAgdmFyIFRleHRSZW5kZXJlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0UmVuZGVyZXIoKSB7fVxuXG4gICAgdmFyIF9wcm90byA9IFRleHRSZW5kZXJlci5wcm90b3R5cGU7XG5cbiAgICAvLyBubyBuZWVkIGZvciBibG9jayBsZXZlbCByZW5kZXJlcnNcbiAgICBfcHJvdG8uc3Ryb25nID0gZnVuY3Rpb24gc3Ryb25nKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW0gPSBmdW5jdGlvbiBlbSh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvZGVzcGFuID0gZnVuY3Rpb24gY29kZXNwYW4odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5kZWwgPSBmdW5jdGlvbiBkZWwodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5odG1sID0gZnVuY3Rpb24gaHRtbCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRleHQgPSBmdW5jdGlvbiB0ZXh0KF90ZXh0KSB7XG4gICAgICByZXR1cm4gX3RleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5saW5rID0gZnVuY3Rpb24gbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgcmV0dXJuICcnICsgdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5iciA9IGZ1bmN0aW9uIGJyKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dFJlbmRlcmVyO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIFNsdWdnZXIgZ2VuZXJhdGVzIGhlYWRlciBpZFxuICAgKi9cbiAgdmFyIFNsdWdnZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2x1Z2dlcigpIHtcbiAgICAgIHRoaXMuc2VlbiA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byB1bmlxdWUgaWRcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFNsdWdnZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNsdWcgPSBmdW5jdGlvbiBzbHVnKHZhbHVlKSB7XG4gICAgICB2YXIgc2x1ZyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpIC8vIHJlbW92ZSBodG1sIHRhZ3NcbiAgICAgIC5yZXBsYWNlKC88WyFcXC9hLXpdLio/Pi9pZywgJycpIC8vIHJlbW92ZSB1bndhbnRlZCBjaGFyc1xuICAgICAgLnJlcGxhY2UoL1tcXHUyMDAwLVxcdTIwNkZcXHUyRTAwLVxcdTJFN0ZcXFxcJyFcIiMkJSYoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dL2csICcnKS5yZXBsYWNlKC9cXHMvZywgJy0nKTtcblxuICAgICAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxTbHVnID0gc2x1ZztcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z10rKztcbiAgICAgICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z107XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VlbltzbHVnXSA9IDA7XG4gICAgICByZXR1cm4gc2x1ZztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNsdWdnZXI7XG4gIH0oKTtcblxuICB2YXIgZGVmYXVsdHMkNCA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgdW5lc2NhcGUkMSA9IGhlbHBlcnMudW5lc2NhcGU7XG4gIC8qKlxuICAgKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gICAqL1xuXG4gIHZhciBQYXJzZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkNDtcbiAgICAgIHRoaXMub3B0aW9ucy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXJfMSgpO1xuICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgICAgIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IFRleHRSZW5kZXJlcl8xKCk7XG4gICAgICB0aGlzLnNsdWdnZXIgPSBuZXcgU2x1Z2dlcl8xKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAgICAgKi9cblxuXG4gICAgUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodG9rZW5zLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zKTtcbiAgICAgIHJldHVybiBwYXJzZXIucGFyc2UodG9rZW5zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgTG9vcFxuICAgICAqL1xuICAgIDtcblxuICAgIHZhciBfcHJvdG8gPSBQYXJzZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UodG9rZW5zLCB0b3ApIHtcbiAgICAgIGlmICh0b3AgPT09IHZvaWQgMCkge1xuICAgICAgICB0b3AgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBqLFxuICAgICAgICAgIGssXG4gICAgICAgICAgbDIsXG4gICAgICAgICAgbDMsXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgb3JkZXJlZCxcbiAgICAgICAgICBzdGFydCxcbiAgICAgICAgICBsb29zZSxcbiAgICAgICAgICBpdGVtQm9keSxcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgdGFzayxcbiAgICAgICAgICBjaGVja2JveDtcbiAgICAgIHZhciBsID0gdG9rZW5zLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaHInOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2hlYWRpbmcnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5oZWFkaW5nKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSwgdG9rZW4uZGVwdGgsIHVuZXNjYXBlJDEodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHRoaXMudGV4dFJlbmRlcmVyKSksIHRoaXMuc2x1Z2dlcik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnY29kZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGUodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgdG9rZW4uZXNjYXBlZCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBoZWFkZXIgPSAnJzsgLy8gaGVhZGVyXG5cbiAgICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLmhlYWRlci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLmhlYWRlcltqXSksIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGFsaWduOiB0b2tlbi5hbGlnbltqXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgICAgIGJvZHkgPSAnJztcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICByb3cgPSB0b2tlbi50b2tlbnMuY2VsbHNbal07XG4gICAgICAgICAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICAgICAgICAgIGwzID0gcm93Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBsMzsgaysrKSB7XG4gICAgICAgICAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKHRoaXMucGFyc2VJbmxpbmUocm93W2tdKSwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogdG9rZW4uYWxpZ25ba11cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlciwgYm9keSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJvZHkgPSB0aGlzLnBhcnNlKHRva2VuLnRva2Vucyk7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9yZGVyZWQgPSB0b2tlbi5vcmRlcmVkO1xuICAgICAgICAgICAgICBzdGFydCA9IHRva2VuLnN0YXJ0O1xuICAgICAgICAgICAgICBsb29zZSA9IHRva2VuLmxvb3NlO1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgYm9keSA9ICcnO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHRva2VuLml0ZW1zW2pdO1xuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgdGFzayA9IGl0ZW0udGFzaztcbiAgICAgICAgICAgICAgICBpdGVtQm9keSA9ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udGFzaykge1xuICAgICAgICAgICAgICAgICAgY2hlY2tib3ggPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KGNoZWNrZWQpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAobG9vc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udGV4dCA9IGNoZWNrYm94ICsgJyAnICsgaXRlbS50b2tlbnNbMF0udGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vuc1swXS50b2tlbnMgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zLmxlbmd0aCA+IDAgJiYgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vucy51bnNoaWZ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Cb2R5ICs9IGNoZWNrYm94O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGl0ZW1Cb2R5ICs9IHRoaXMucGFyc2UoaXRlbS50b2tlbnMsIGxvb3NlKTtcbiAgICAgICAgICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oaXRlbUJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gcGFyc2UgaW5saW5lIGNvbnRlbnQgaWYgcGFyYW1ldGVyIG1hcmtkb3duPTFcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHRtbCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYm9keSA9IHRva2VuLnRva2VucyA/IHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSA6IHRva2VuLnRleHQ7XG5cbiAgICAgICAgICAgICAgd2hpbGUgKGkgKyAxIDwgbCAmJiB0b2tlbnNbaSArIDFdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zWysraV07XG4gICAgICAgICAgICAgICAgYm9keSArPSAnXFxuJyArICh0b2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykgOiB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG91dCArPSB0b3AgPyB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaChib2R5KSA6IGJvZHk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgSW5saW5lIFRva2Vuc1xuICAgICAqL1xuICAgIDtcblxuICAgIF9wcm90by5wYXJzZUlubGluZSA9IGZ1bmN0aW9uIHBhcnNlSW5saW5lKHRva2VucywgcmVuZGVyZXIpIHtcbiAgICAgIHJlbmRlcmVyID0gcmVuZGVyZXIgfHwgdGhpcy5yZW5kZXJlcjtcbiAgICAgIHZhciBvdXQgPSAnJyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHRva2VuO1xuICAgICAgdmFyIGwgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2VzY2FwZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuaHRtbCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdsaW5rJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmxpbmsodG9rZW4uaHJlZiwgdG9rZW4udGl0bGUsIHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmltYWdlKHRva2VuLmhyZWYsIHRva2VuLnRpdGxlLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdzdHJvbmcnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuc3Ryb25nKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2VtJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmVtKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2NvZGVzcGFuJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmNvZGVzcGFuKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmJyKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZGVsJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmRlbCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGVyck1zZyA9ICdUb2tlbiB3aXRoIFwiJyArIHRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnNlcjtcbiAgfSgpO1xuXG4gIHZhciBtZXJnZSQyID0gaGVscGVycy5tZXJnZSxcbiAgICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbiQxID0gaGVscGVycy5jaGVja1Nhbml0aXplRGVwcmVjYXRpb24sXG4gICAgICBlc2NhcGUkMiA9IGhlbHBlcnMuZXNjYXBlO1xuICB2YXIgZ2V0RGVmYXVsdHMgPSBkZWZhdWx0cy5nZXREZWZhdWx0cyxcbiAgICAgIGNoYW5nZURlZmF1bHRzID0gZGVmYXVsdHMuY2hhbmdlRGVmYXVsdHMsXG4gICAgICBkZWZhdWx0cyQ1ID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIC8qKlxuICAgKiBNYXJrZWRcbiAgICovXG5cbiAgZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICAgIC8vIHRocm93IGVycm9yIGluIGNhc2Ugb2Ygbm9uIHN0cmluZyBpbnB1dFxuICAgIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIG9mIHR5cGUgJyArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSQyKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uJDEob3B0KTtcblxuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQ7XG4gICAgICB2YXIgdG9rZW5zO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0b2tlbnMgPSBMZXhlcl8xLmxleChzcmMsIG9wdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKGVycikge1xuICAgICAgICB2YXIgb3V0O1xuXG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dCA9IFBhcnNlcl8xLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnIgPSBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBlcnIgPyBjYWxsYmFjayhlcnIpIDogY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuICAgICAgaWYgKCF0b2tlbnMubGVuZ3RoKSByZXR1cm4gZG9uZSgpO1xuICAgICAgdmFyIHBlbmRpbmcgPSAwO1xuICAgICAgbWFya2VkLndhbGtUb2tlbnModG9rZW5zLCBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdjb2RlJykge1xuICAgICAgICAgIHBlbmRpbmcrKztcbiAgICAgICAgICBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24gKGVyciwgY29kZSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29kZSAhPSBudWxsICYmIGNvZGUgIT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgICAgdG9rZW4udGV4dCA9IGNvZGU7XG4gICAgICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZW5kaW5nLS07XG5cbiAgICAgICAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3Rva2VucyA9IExleGVyXzEubGV4KHNyYywgb3B0KTtcblxuICAgICAgaWYgKG9wdC53YWxrVG9rZW5zKSB7XG4gICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKF90b2tlbnMsIG9wdC53YWxrVG9rZW5zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFBhcnNlcl8xLnBhcnNlKF90b2tlbnMsIG9wdCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5tZXNzYWdlICs9ICdcXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZC4nO1xuXG4gICAgICBpZiAob3B0LnNpbGVudCkge1xuICAgICAgICByZXR1cm4gJzxwPkFuIGVycm9yIG9jY3VycmVkOjwvcD48cHJlPicgKyBlc2NhcGUkMihlLm1lc3NhZ2UgKyAnJywgdHJ1ZSkgKyAnPC9wcmU+JztcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9wdGlvbnNcbiAgICovXG5cblxuICBtYXJrZWQub3B0aW9ucyA9IG1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdCkge1xuICAgIG1lcmdlJDIobWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIGNoYW5nZURlZmF1bHRzKG1hcmtlZC5kZWZhdWx0cyk7XG4gICAgcmV0dXJuIG1hcmtlZDtcbiAgfTtcblxuICBtYXJrZWQuZ2V0RGVmYXVsdHMgPSBnZXREZWZhdWx0cztcbiAgbWFya2VkLmRlZmF1bHRzID0gZGVmYXVsdHMkNTtcbiAgLyoqXG4gICAqIFVzZSBFeHRlbnNpb25cbiAgICovXG5cbiAgbWFya2VkLnVzZSA9IGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICB2YXIgb3B0cyA9IG1lcmdlJDIoe30sIGV4dGVuc2lvbik7XG5cbiAgICBpZiAoZXh0ZW5zaW9uLnJlbmRlcmVyKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBtYXJrZWQuZGVmYXVsdHMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyXzEoKTtcblxuICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wKSB7XG4gICAgICAgICAgdmFyIHByZXZSZW5kZXJlciA9IHJlbmRlcmVyW3Byb3BdO1xuXG4gICAgICAgICAgcmVuZGVyZXJbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJldCA9IGV4dGVuc2lvbi5yZW5kZXJlcltwcm9wXS5hcHBseShyZW5kZXJlciwgYXJncyk7XG5cbiAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldCA9IHByZXZSZW5kZXJlci5hcHBseShyZW5kZXJlciwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGV4dGVuc2lvbi5yZW5kZXJlcikge1xuICAgICAgICAgIF9sb29wKHByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLnRva2VuaXplcikge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuaXplciA9IG1hcmtlZC5kZWZhdWx0cy50b2tlbml6ZXIgfHwgbmV3IFRva2VuaXplcl8xKCk7XG5cbiAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihwcm9wKSB7XG4gICAgICAgICAgdmFyIHByZXZUb2tlbml6ZXIgPSB0b2tlbml6ZXJbcHJvcF07XG5cbiAgICAgICAgICB0b2tlbml6ZXJbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmV0ID0gZXh0ZW5zaW9uLnRva2VuaXplcltwcm9wXS5hcHBseSh0b2tlbml6ZXIsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXQgPSBwcmV2VG9rZW5pemVyLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGV4dGVuc2lvbi50b2tlbml6ZXIpIHtcbiAgICAgICAgICBfbG9vcDIocHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi53YWxrVG9rZW5zKSB7XG4gICAgICB2YXIgd2Fsa1Rva2VucyA9IG1hcmtlZC5kZWZhdWx0cy53YWxrVG9rZW5zO1xuXG4gICAgICBvcHRzLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgZXh0ZW5zaW9uLndhbGtUb2tlbnModG9rZW4pO1xuXG4gICAgICAgIGlmICh3YWxrVG9rZW5zKSB7XG4gICAgICAgICAgd2Fsa1Rva2Vucyh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgbWFya2VkLnNldE9wdGlvbnMob3B0cyk7XG4gIH07XG4gIC8qKlxuICAgKiBSdW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IHRva2VuXG4gICAqL1xuXG5cbiAgbWFya2VkLndhbGtUb2tlbnMgPSBmdW5jdGlvbiAodG9rZW5zLCBjYWxsYmFjaykge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodG9rZW5zKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgIHZhciB0b2tlbiA9IF9zdGVwLnZhbHVlO1xuICAgICAgY2FsbGJhY2sodG9rZW4pO1xuXG4gICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHRva2VuLnRva2Vucy5oZWFkZXIpLCBfc3RlcDI7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMigpKS5kb25lOykge1xuICAgICAgICAgICAgICB2YXIgY2VsbCA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoY2VsbCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0b2tlbi50b2tlbnMuY2VsbHMpLCBfc3RlcDM7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMygpKS5kb25lOykge1xuICAgICAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHJvdyksIF9zdGVwNDsgIShfc3RlcDQgPSBfaXRlcmF0b3I0KCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jZWxsID0gX3N0ZXA0LnZhbHVlO1xuICAgICAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKF9jZWxsLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLml0ZW1zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodG9rZW4udG9rZW5zKSB7XG4gICAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VuLnRva2VucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBFeHBvc2VcbiAgICovXG5cblxuICBtYXJrZWQuUGFyc2VyID0gUGFyc2VyXzE7XG4gIG1hcmtlZC5wYXJzZXIgPSBQYXJzZXJfMS5wYXJzZTtcbiAgbWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXJfMTtcbiAgbWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcl8xO1xuICBtYXJrZWQuTGV4ZXIgPSBMZXhlcl8xO1xuICBtYXJrZWQubGV4ZXIgPSBMZXhlcl8xLmxleDtcbiAgbWFya2VkLlRva2VuaXplciA9IFRva2VuaXplcl8xO1xuICBtYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXJfMTtcbiAgbWFya2VkLnBhcnNlID0gbWFya2VkO1xuICB2YXIgbWFya2VkXzEgPSBtYXJrZWQ7XG5cbiAgcmV0dXJuIG1hcmtlZF8xO1xuXG59KSkpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IEFHUkVFTUVOVF9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiB0YXJnZXQ9XCJfYmxhbmtcIj4lKGFncmVlbWVudClzPC9hPidcblxuY29uc3QgUmVnaXN0ZXJMZWdhbEZvb3Rub3RlID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgZXJyb3JzLFxuICAgIHByaXZhY3lQb2xpY3ksXG4gICAgdGVybXNPZlNlcnZpY2UsXG4gICAgb25Qcml2YWN5UG9saWN5Q2hhbmdlLFxuICAgIG9uVGVybXNPZlNlcnZpY2VDaGFuZ2VcbiAgfSA9IHByb3BzXG5cbiAgY29uc3QgdGVybXNPZlNlcnZpY2VJZCA9IG1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX0lEXCIpXG4gIGNvbnN0IHRlcm1zT2ZTZXJ2aWNlVXJsID0gbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfVVJMXCIpXG5cbiAgY29uc3QgcHJpdmFjeVBvbGljeUlkID0gbWlzYWdvLmdldChcIlBSSVZBQ1lfUE9MSUNZX0lEXCIpXG4gIGNvbnN0IHByaXZhY3lQb2xpY3lVcmwgPSBtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfVVJMXCIpXG5cbiAgaWYgKCF0ZXJtc09mU2VydmljZUlkICYmICFwcml2YWN5UG9saWN5SWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPExlZ2FsQWdyZWVtZW50XG4gICAgICAgIGFncmVlbWVudD17Z2V0dGV4dChcInRoZSB0ZXJtcyBvZiBzZXJ2aWNlXCIpfVxuICAgICAgICBjaGVja2VkPXt0ZXJtc09mU2VydmljZSAhPT0gbnVsbH1cbiAgICAgICAgZXJyb3JzPXtlcnJvcnMudGVybXNPZlNlcnZpY2V9XG4gICAgICAgIHVybD17dGVybXNPZlNlcnZpY2VVcmx9XG4gICAgICAgIHZhbHVlPXt0ZXJtc09mU2VydmljZUlkfVxuICAgICAgICBvbkNoYW5nZT17b25UZXJtc09mU2VydmljZUNoYW5nZX1cbiAgICAgIC8+XG4gICAgICA8TGVnYWxBZ3JlZW1lbnRcbiAgICAgICAgYWdyZWVtZW50PXtnZXR0ZXh0KFwidGhlIHByaXZhY3kgcG9saWN5XCIpfVxuICAgICAgICBjaGVja2VkPXtwcml2YWN5UG9saWN5ICE9PSBudWxsfVxuICAgICAgICBlcnJvcnM9e2Vycm9ycy5wcml2YWN5UG9saWN5fVxuICAgICAgICB1cmw9e3ByaXZhY3lQb2xpY3lVcmx9XG4gICAgICAgIHZhbHVlPXtwcml2YWN5UG9saWN5SWR9XG4gICAgICAgIG9uQ2hhbmdlPXtvblByaXZhY3lQb2xpY3lDaGFuZ2V9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IExlZ2FsQWdyZWVtZW50ID0gcHJvcHMgPT4ge1xuICBjb25zdCB7IGFncmVlbWVudCwgY2hlY2tlZCwgZXJyb3JzLCB1cmwsIHZhbHVlLCBvbkNoYW5nZSB9ID0gcHJvcHNcblxuICBpZiAoIXVybCkgcmV0dXJuIG51bGxcblxuICBjb25zdCBhZ3JlZW1lbnRIdG1sID0gaW50ZXJwb2xhdGUoXG4gICAgQUdSRUVNRU5UX1VSTCxcbiAgICB7IGFncmVlbWVudDogZXNjYXBlSHRtbChhZ3JlZW1lbnQpLCB1cmw6IGVzY2FwZUh0bWwodXJsKSB9LFxuICAgIHRydWVcbiAgKVxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJJIGhhdmUgcmVhZCBhbmQgYWNjZXB0ICUoYWdyZWVtZW50KXMuXCIpLFxuICAgIHsgYWdyZWVtZW50OiBhZ3JlZW1lbnRIdG1sIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrYm94IGxlZ2FsLWZvb3Rub3RlXCI+XG4gICAgICA8bGFiZWw+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgICA8c3BhbiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGxhYmVsIH19IC8+XG4gICAgICA8L2xhYmVsPlxuICAgICAge2Vycm9ycyAmJlxuICAgICAgICBlcnJvcnMubWFwKChlcnJvciwgaSkgPT4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBlcnJvcnNcIiBrZXk9e2l9PlxuICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWdpc3RlckxlZ2FsRm9vdG5vdGVcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuY29uc3QgU3RhcnRTb2NpYWxBdXRoID0gcHJvcHMgPT4ge1xuICBjb25zdCB7XG4gICAgYnV0dG9uQ2xhc3NOYW1lLFxuICAgIGJ1dHRvbkxhYmVsLFxuICAgIGZvcm1MYWJlbCxcbiAgICBoZWFkZXIsXG4gICAgbGFiZWxDbGFzc05hbWVcbiAgfSA9IHByb3BzXG4gIGNvbnN0IHNvY2lhbEF1dGggPSBtaXNhZ28uZ2V0KFwiU09DSUFMX0FVVEhcIilcblxuICBpZiAoc29jaWFsQXV0aC5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXAgZm9ybS1zb2NpYWwtYXV0aFwiPlxuICAgICAgPEZvcm1IZWFkZXIgY2xhc3NOYW1lPXtsYWJlbENsYXNzTmFtZX0gdGV4dD17aGVhZGVyfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3NvY2lhbEF1dGgubWFwKCh7IGlkLCBuYW1lLCBidXR0b25fdGV4dCwgYnV0dG9uX2NvbG9yLCB1cmwgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdCBidG4tc29jaWFsLVwiICsgaWRcbiAgICAgICAgICBjb25zdCBzdHlsZSA9IGJ1dHRvbl9jb2xvciA/IHtjb2xvcjogYnV0dG9uX2NvbG9yfSA6IG51bGxcbiAgICAgICAgICBjb25zdCBmaW5hbEJ1dHRvbkxhYmVsID0gYnV0dG9uX3RleHQgfHwgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBidXR0b25MYWJlbCxcbiAgICAgICAgICAgIHsgc2l0ZTogbmFtZSB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YnV0dG9uQ2xhc3NOYW1lIHx8IFwiY29sLXhzLTEyXCJ9IGtleT17aWR9PlxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gc3R5bGU9e3N0eWxlfSBocmVmPXt1cmx9PlxuICAgICAgICAgICAgICAgIHtmaW5hbEJ1dHRvbkxhYmVsfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgICA8aHIgLz5cbiAgICAgIDxGb3JtSGVhZGVyIGNsYXNzTmFtZT17bGFiZWxDbGFzc05hbWV9IHRleHQ9e2Zvcm1MYWJlbH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBGb3JtSGVhZGVyID0gKHsgY2xhc3NOYW1lLCB0ZXh0IH0pID0+IHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gbnVsbFxuICByZXR1cm4gPGg1IGNsYXNzTmFtZT17Y2xhc3NOYW1lIHx8IFwiXCJ9Pnt0ZXh0fTwvaDU+XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0YXJ0U29jaWFsQXV0aFxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NlcHRBZ3JlZW1lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHsgc3VibWl0aW5nOiBmYWxzZSB9XG4gIH1cblxuICBoYW5kbGVEZWNsaW5lID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLnN1Ym1pdGluZykgcmV0dXJuXG5cbiAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCJEZWNsaW5pbmcgd2lsbCByZXN1bHQgaW4gaW1tZWRpYXRlIGRlYWN0aXZhdGlvbiBhbmQgZGVsZXRpb24gb2YgeW91ciBhY2NvdW50LiBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIlxuICAgICAgKVxuICAgIClcbiAgICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuXG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc3VibWl0aW5nOiB0cnVlIH0pXG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIHsgYWNjZXB0OiBmYWxzZSB9KS50aGVuKCgpID0+IHtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVBY2NlcHQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3VibWl0aW5nKSByZXR1cm5cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdWJtaXRpbmc6IHRydWUgfSlcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgeyBhY2NlcHQ6IHRydWUgfSkudGhlbigoKSA9PiB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdWJtaXRpbmd9XG4gICAgICAgICAgdHlwZT1cImJ1dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZURlY2xpbmV9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlY2xpbmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdWJtaXRpbmd9XG4gICAgICAgICAgdHlwZT1cImJ1dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUFjY2VwdH1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWNjZXB0IGFuZCBjb250aW51ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgeyB1cGRhdGVBY2wgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiBcIlwiXG4gICAgfVxuICB9XG5cbiAgb25Vc2VybmFtZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidXNlcm5hbWVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB1c2VyIG5hbWUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcInBhcnRpY2lwYW50c1wiLCB2YWx1ZTogdGhpcy5zdGF0ZS51c2VybmFtZSB9LFxuICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IDEgfVxuICAgIF0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpXG4gICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiTmV3IHBhcnRpY2lwYW50IGhhcyBiZWVuIGFkZGVkIHRvIHRocmVhZC5cIikpXG5cbiAgICBtb2RhbC5oaWRlKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfdXNlcm5hbWVcIiBsYWJlbD17Z2V0dGV4dChcIlVzZXIgdG8gYWRkXCIpfT5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXNlcm5hbWVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkFkZCBwYXJ0aWNpcGFudFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZWZyZXNoKCkge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICB9XG5cbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaWduZWRJbikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFxuICAgICAgICAgIFwiWW91IGhhdmUgc2lnbmVkIGluIGFzICUodXNlcm5hbWUpcy4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYmVmb3JlIGNvbnRpbnVpbmcuXCJcbiAgICAgICAgKSxcbiAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wcm9wcy5zaWduZWRJbi51c2VybmFtZSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNpZ25lZE91dCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFxuICAgICAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3UgaGF2ZSBiZWVuIHNpZ25lZCBvdXQuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGJlZm9yZSBjb250aW51aW5nLlwiXG4gICAgICAgICksXG4gICAgICAgIHsgdXNlcm5hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcImF1dGgtbWVzc2FnZVwiXG4gICAgaWYgKHRoaXMucHJvcHMuc2lnbmVkSW4gfHwgdGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBzaG93XCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlZnJlc2h9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVsb2FkIHBhZ2VcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAge1wiIFwiICsgZ2V0dGV4dChcIm9yIHByZXNzIEY1IGtleS5cIil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUuYXV0aC51c2VyLFxuICAgIHNpZ25lZEluOiBzdGF0ZS5hdXRoLnNpZ25lZEluLFxuICAgIHNpZ25lZE91dDogc3RhdGUuYXV0aC5zaWduZWRPdXRcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBzaXplID0gcHJvcHMuc2l6ZSB8fCAxMDBcbiAgY29uc3Qgc2l6ZTJ4ID0gcHJvcHMuc2l6ZTJ4IHx8IHNpemVcblxuICByZXR1cm4gKFxuICAgIDxpbWdcbiAgICAgIGFsdD1cIlwiXG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcInVzZXItYXZhdGFyXCJ9XG4gICAgICBzcmM9e2dldFNyYyhwcm9wcy51c2VyLCBzaXplKX1cbiAgICAgIHNyY1NldD17Z2V0U3JjKHByb3BzLnVzZXIsIHNpemUyeCl9XG4gICAgICB3aWR0aD17c2l6ZX1cbiAgICAgIGhlaWdodD17c2l6ZX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcmModXNlciwgc2l6ZSkge1xuICBpZiAodXNlciAmJiB1c2VyLmlkKSB7XG4gICAgLy8ganVzdCBhdmF0YXIgaGFzaCwgc2l6ZSBhbmQgdXNlciBpZFxuICAgIHJldHVybiByZXNvbHZlQXZhdGFyRm9yU2l6ZSh1c2VyLmF2YXRhcnMsIHNpemUpLnVybFxuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgYXBwZW5kIGF2YXRhciBzaXplIHRvIGZpbGUgdG8gcHJvZHVjZSBuby1hdmF0YXIgcGxhY2Vob2xkZXJcbiAgICByZXR1cm4gbWlzYWdvLmdldChcIkJMQU5LX0FWQVRBUl9VUkxcIilcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF2YXRhckZvclNpemUoYXZhdGFycywgc2l6ZSkge1xuICBsZXQgYXZhdGFyID0gYXZhdGFyc1swXVxuICBhdmF0YXJzLmZvckVhY2goYXYgPT4ge1xuICAgIGlmIChhdi5zaXplID49IHNpemUpIHtcbiAgICAgIGF2YXRhciA9IGF2XG4gICAgfVxuICB9KVxuICByZXR1cm4gYXZhdGFyXG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0UmVhc29uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlLmh0bWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJsZWFkXCJcbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZS5wbGFpbn08L3A+XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcy5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyBvbiAlKGV4cGlyZXNfb24pcy5cIiksXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhwaXJlc19vbjogdGhpcy5wcm9wcy5leHBpcmVzLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhwaXJlc19vbjogdGhpcy5wcm9wcy5leHBpcmVzLmZyb21Ob3coKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+e21lc3NhZ2V9PC9hYmJyPlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBoYXMgZXhwaXJlZC5cIilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBpcyBwZXJtYW5lbnQuXCIpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1lcnJvciBwYWdlLWVycm9yLWJhbm5lZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmhpZ2hsaWdodF9vZmY8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldFJlYXNvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWVzc2FnZS1mb290bm90ZVwiPnt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcImJ0biBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lXG4gICAgbGV0IGRpc2FibGVkID0gdGhpcy5wcm9wcy5kaXNhYmxlZFxuXG4gICAgaWYgKHRoaXMucHJvcHMubG9hZGluZykge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGJ0bi1sb2FkaW5nXCJcbiAgICAgIGRpc2FibGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja31cbiAgICAgICAgdHlwZT17dGhpcy5wcm9wcy5vbkNsaWNrID8gXCJidXR0b25cIiA6IFwic3VibWl0XCJ9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICB7dGhpcy5wcm9wcy5sb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGx9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiBcImJ0bi1kZWZhdWx0XCIsXG5cbiAgdHlwZTogXCJzdWJtaXRcIixcblxuICBsb2FkaW5nOiBmYWxzZSxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuXG4gIG9uQ2xpY2s6IG51bGxcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJObyBjYXRlZ29yaWVzIGV4aXN0IG9yIHlvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gc2VlIHRoZW0uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSBcIi4vY2F0ZWdvcnlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3JpZXMgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7Y2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gPENhdGVnb3J5IGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0SXRlbSBmcm9tIFwiLi9saXN0LWl0ZW1cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwibGlzdC1ncm91cCBsaXN0LWdyb3VwLWNhdGVnb3J5XCJcbiAgaWYgKGNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1mbGF2b3JcIlxuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LVwiICsgY2F0ZWdvcnkuY3NzX2NsYXNzXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8TGlzdEl0ZW0gY2F0ZWdvcnk9e2NhdGVnb3J5fSBpc0ZpcnN0PXt0cnVlfSAvPlxuICAgICAge2NhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdEl0ZW0gY2F0ZWdvcnk9e2NhdGVnb3J5fSBpc0ZpcnN0PXtmYWxzZX0ga2V5PXtjYXRlZ29yeS5pZH0gLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmRlc2NyaXB0aW9uKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgX19odG1sOiBjYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sXG4gICAgICB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKGNhdGVnb3J5KX0gdGl0bGU9e2dldFRpdGxlKGNhdGVnb3J5KX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2dldEljb24oY2F0ZWdvcnkpfTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGNhdGVnb3J5KSB7XG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuIFwicmVhZC1zdGF0dXMgaXRlbS1yZWFkXCJcbiAgfVxuXG4gIHJldHVybiBcInJlYWQtc3RhdHVzIGl0ZW0tbmV3XCJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlKGNhdGVnb3J5KSB7XG4gIGlmIChjYXRlZ29yeS5pc19jbG9zZWQpIHtcbiAgICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuIChjbG9zZWQpXCIpXG4gICAgfVxuXG4gICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBuZXcgcG9zdHMuIChjbG9zZWQpXCIpXG4gIH1cblxuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLlwiKVxuICB9XG5cbiAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBuZXcgcG9zdHMuXCIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKGNhdGVnb3J5KSB7XG4gIGlmIChjYXRlZ29yeS5pc19jbG9zZWQpIHtcbiAgICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuIFwibG9ja19vdXRsaW5lXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJsb2NrXCJcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuIFwiY2hhdF9idWJibGVfb3V0bGluZVwiXG4gIH1cblxuICByZXR1cm4gXCJjaGF0X2J1YmJsZVwiXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNYWluIGZyb20gXCIuL21haW5cIlxuaW1wb3J0IExhc3RUaHJlYWQgZnJvbSBcIi4vbGFzdC10aHJlYWRcIlxuaW1wb3J0IFN0YXRzIGZyb20gXCIuL3N0YXRzXCJcbmltcG9ydCBTdWJjYXRlZ29yaWVzIGZyb20gXCIuL3N1YmNhdGVnb3JpZXNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0ZpcnN0IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwibGlzdC1ncm91cC1pdGVtXCJcblxuICBpZiAoY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZGVzY3JpcHRpb25cIlxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LW5vLWRlc2NyaXB0aW9uXCJcbiAgfVxuXG4gIGlmIChpc0ZpcnN0KSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtaXRlbS1maXJzdFwiXG4gIH1cbiAgaWYgKGNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1mbGF2b3JcIlxuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWl0ZW0tY2F0ZWdvcnktXCIgKyBjYXRlZ29yeS5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxNYWluIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPFN0YXRzIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPExhc3RUaHJlYWQgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8U3ViY2F0ZWdvcmllcyBjYXRlZ29yeT17Y2F0ZWdvcnl9IGlzRmlyc3Q9e2lzRmlyc3R9IC8+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNCBjYXRlZ29yeS1sYXN0LXRocmVhZFwiPlxuICAgICAgPExhc3RUaHJlYWQgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPEVtcHR5IGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDxQcml2YXRlIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDxQcm90ZWN0ZWQgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0VGhyZWFkKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbFxuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSByZXR1cm4gbnVsbFxuICBpZiAoIWNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0IGhpZGRlbi14c1wiPlxuICAgICAgICA8TGFzdFBvc3RlckF2YXRhciBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIlxuICAgICAgICAgICAgaHJlZj17Y2F0ZWdvcnkudXJsLmxhc3RfdGhyZWFkX25ld31cbiAgICAgICAgICAgIHRpdGxlPXtjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LWxhc3QtdGhyZWFkLXBvc3RlclwiPlxuICAgICAgICAgICAgPExhc3RQb3N0ZXJOYW1lIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCI+JiM4MjEyOzwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LWxhc3QtdGhyZWFkLWRhdGVcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9e2NhdGVnb3J5LnVybC5sYXN0X3Bvc3R9PlxuICAgICAgICAgICAgICB7Y2F0ZWdvcnkubGFzdF9wb3N0X29uLmZyb21Ob3coKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQb3N0ZXJBdmF0YXIoeyBjYXRlZ29yeSB9KSB7XG4gIGlmIChjYXRlZ29yeS5sYXN0X3Bvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJsYXN0LXBvc3Rlci1hdmF0YXJcIlxuICAgICAgICBocmVmPXtjYXRlZ29yeS5sYXN0X3Bvc3Rlci51cmx9XG4gICAgICAgIHRpdGxlPXtjYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgPlxuICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWVkaWEtb2JqZWN0XCJcbiAgICAgICAgICBzaXplPXs0MH1cbiAgICAgICAgICB1c2VyPXtjYXRlZ29yeS5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgLz5cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhc3QtcG9zdGVyLWF2YXRhclwiIHRpdGxlPXtjYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lfT5cbiAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwibWVkaWEtb2JqZWN0XCIgc2l6ZT17NDB9IC8+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UG9zdGVyTmFtZSh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKGNhdGVnb3J5Lmxhc3RfcG9zdGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtjYXRlZ29yeS5sYXN0X3Bvc3Rlci51cmx9PlxuICAgICAgICB7Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPntjYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lfTwvc3Bhbj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVtcHR5KHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbFxuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSByZXR1cm4gbnVsbFxuICBpZiAoY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcbiAgICAgICAgXCJUaGlzIGNhdGVnb3J5IGlzIGVtcHR5LiBObyB0aHJlYWRzIHdlcmUgcG9zdGVkIHdpdGhpbiBpdCBzbyBmYXIuXCJcbiAgICAgICl9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJpdmF0ZSh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkgcmV0dXJuIG51bGxcbiAgaWYgKGNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VcbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXG4gICAgICAgIFwiVGhpcyBjYXRlZ29yeSBpcyBwcml2YXRlLiBZb3UgY2FuIHNlZSBvbmx5IHlvdXIgb3duIHRocmVhZHMgd2l0aGluIGl0LlwiXG4gICAgICApfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZCh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKGNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VcbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXG4gICAgICAgIFwiVGhpcyBjYXRlZ29yeSBpcyBwcm90ZWN0ZWQuIFlvdSBjYW4ndCBicm93c2UgaXRzIGNvbnRlbnRzLlwiXG4gICAgICApfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2UoeyBtZXNzYWdlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhIGNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxwPnttZXNzYWdlfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEZXNjcmlwdGlvbiBmcm9tIFwiLi9kZXNjcmlwdGlvblwiXG5pbXBvcnQgSWNvbiBmcm9tIFwiLi9pY29uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY2F0ZWdvcnktbWFpblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8SWNvbiBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT57Y2F0ZWdvcnkubmFtZX08L2E+XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgICA8RGVzY3JpcHRpb24gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgY2F0ZWdvcnktc3RhdHNcIj5cbiAgICAgICAgPFRocmVhZHMgdGhyZWFkcz17Y2F0ZWdvcnkudGhyZWFkc30gLz5cbiAgICAgICAgPFBvc3RzIHBvc3RzPXtjYXRlZ29yeS5wb3N0c30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMoeyB0aHJlYWRzIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJSh0aHJlYWRzKXMgdGhyZWFkXCIsIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLCB0aHJlYWRzKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXN0YXQtdGhyZWFkc1wiPlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdGhyZWFkczogdGhyZWFkc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHsgcG9zdHMgfSkge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHBvc3RzKXMgcG9zdFwiLCBcIiUocG9zdHMpcyBwb3N0c1wiLCBwb3N0cylcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1zdGF0LXBvc3RzXCI+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBwb3N0czogcG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0SXRlbSBmcm9tIFwiLi9saXN0LWl0ZW1cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0ZpcnN0IH0pIHtcbiAgaWYgKGlzRmlyc3QpIHJldHVybiBudWxsXG4gIGlmIChjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHN1YmNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAge2NhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbSBidG4tc3ViY2F0ZWdvcnlcIlxuICBpZiAoIWNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgYnRuLXN1YmNhdGVnb3J5LW5ld1wiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00IGNvbC1tZC0zXCI+XG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntnZXRJY29uKGNhdGVnb3J5KX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tdGV4dFwiPntjYXRlZ29yeS5uYW1lfTwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiBcImxvY2tfb3V0bGluZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIFwibG9ja1wiXG4gIH1cblxuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBcImNoYXRfYnViYmxlX291dGxpbmVcIlxuICB9XG5cbiAgcmV0dXJuIFwiY2hhdF9idWJibGVcIlxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJsYW5rc2xhdGUgZnJvbSBcIi4vYmxhbmtzbGF0ZVwiXG5pbXBvcnQgQ2F0ZWdvcmllc0xpc3QgZnJvbSBcIi4vY2F0ZWdvcmllcy1saXN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5cbmNvbnN0IGh5ZHJhdGUgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2F0ZWdvcnksIHtcbiAgICBsYXN0X3Bvc3Rfb246IGNhdGVnb3J5Lmxhc3RfcG9zdF9vbiA/IG1vbWVudChjYXRlZ29yeS5sYXN0X3Bvc3Rfb24pIDogbnVsbCxcbiAgICBzdWJjYXRlZ29yaWVzOiBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChoeWRyYXRlKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldChcIkNBVEVHT1JJRVNcIikubWFwKGh5ZHJhdGUpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcobWlzYWdvLmdldChcIkNBVEVHT1JJRVNfQVBJXCIpKVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiY2F0ZWdvcmllc1wiLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDE4MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2F0ZWdvcmllczogZGF0YS5tYXAoaHlkcmF0ZSlcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2F0ZWdvcmllcyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gPEJsYW5rc2xhdGUgLz5cbiAgICB9XG5cbiAgICByZXR1cm4gPENhdGVnb3JpZXNMaXN0IGNhdGVnb3JpZXM9e2NhdGVnb3JpZXN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2sudGlja1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c2VsZWN0XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcImZvcm0tY29udHJvbFwifVxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgaWQ9e3Byb3BzLmlkIHx8IG51bGx9XG4gICAgICBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9XG4gICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlfVxuICAgICAgICAgICAgdmFsdWU9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1wiLSAtIFwiLnJlcGVhdChpdGVtLmxldmVsKSArIGl0ZW0ubGFiZWx9XG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvc2VsZWN0PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBkZXZpY2VSYXRpbzogMVxuICAgIH1cbiAgfVxuXG4gIGdldEF2YXRhclNpemUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3BfdG1wLnNpemVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5zaXplXG4gICAgfVxuICB9XG5cbiAgZ2V0SW1hZ2VQYXRoKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YVVybFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnVybFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGxldCBjcm9waXQgPSAkKFwiLmNyb3AtZm9ybVwiKVxuICAgIGxldCBjcm9wcGVyV2lkdGggPSB0aGlzLmdldEF2YXRhclNpemUoKVxuXG4gICAgY29uc3QgaW5pdGlhbFdpZHRoID0gY3JvcGl0LndpZHRoKClcbiAgICB3aGlsZSAoaW5pdGlhbFdpZHRoIDwgY3JvcHBlcldpZHRoKSB7XG4gICAgICBjcm9wcGVyV2lkdGggPSBjcm9wcGVyV2lkdGggLyAyXG4gICAgfVxuXG4gICAgY29uc3QgZGV2aWNlUmF0aW8gPSB0aGlzLmdldEF2YXRhclNpemUoKSAvIGNyb3BwZXJXaWR0aFxuXG4gICAgY3JvcGl0LndpZHRoKGNyb3BwZXJXaWR0aClcblxuICAgIGNyb3BpdC5jcm9waXQoe1xuICAgICAgd2lkdGg6IGNyb3BwZXJXaWR0aCxcbiAgICAgIGhlaWdodDogY3JvcHBlcldpZHRoLFxuICAgICAgZXhwb3J0Wm9vbTogZGV2aWNlUmF0aW8sXG4gICAgICBpbWFnZVN0YXRlOiB7XG4gICAgICAgIHNyYzogdGhpcy5nZXRJbWFnZVBhdGgoKVxuICAgICAgfSxcbiAgICAgIG9uSW1hZ2VMb2FkZWQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICAgICAgLy8gY2VudGVyIHVwbG9hZGVkIGltYWdlXG4gICAgICAgICAgbGV0IHpvb21MZXZlbCA9IGNyb3BpdC5jcm9waXQoXCJ6b29tXCIpXG4gICAgICAgICAgbGV0IGltYWdlU2l6ZSA9IGNyb3BpdC5jcm9waXQoXCJpbWFnZVNpemVcIilcblxuICAgICAgICAgIC8vIGlzIGl0IHdpZGVyIHRoYW4gdGFsbGVyP1xuICAgICAgICAgIGlmIChpbWFnZVNpemUud2lkdGggPiBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkV2lkdGggPSBpbWFnZVNpemUud2lkdGggKiB6b29tTGV2ZWxcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gKGRpc3BsYXllZFdpZHRoIC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTJcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IG9mZnNldFgsXG4gICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChpbWFnZVNpemUud2lkdGggPCBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkSGVpZ2h0ID0gaW1hZ2VTaXplLmhlaWdodCAqIHpvb21MZXZlbFxuICAgICAgICAgICAgbGV0IG9mZnNldFkgPSAoZGlzcGxheWVkSGVpZ2h0IC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTJcblxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IG9mZnNldFlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIiwge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1c2UgcHJlc2VydmVkIGNyb3BcbiAgICAgICAgICBsZXQgY3JvcCA9IHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5jcm9wXG5cbiAgICAgICAgICBpZiAoY3JvcCkge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcInpvb21cIiwgY3JvcC56b29tKVxuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IGNyb3AueCxcbiAgICAgICAgICAgICAgeTogY3JvcC55XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKFwiLmNyb3AtZm9ybVwiKS5jcm9waXQoXCJkaXNhYmxlXCIpXG4gIH1cblxuICBjcm9wQXZhdGFyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgbGV0IGF2YXRhclR5cGUgPSB0aGlzLnByb3BzLnVwbG9hZCA/IFwiY3JvcF90bXBcIiA6IFwiY3JvcF9zcmNcIlxuICAgIGxldCBjcm9waXQgPSAkKFwiLmNyb3AtZm9ybVwiKVxuXG4gICAgY29uc3QgZGV2aWNlUmF0aW8gPSBjcm9waXQuY3JvcGl0KFwiZXhwb3J0Wm9vbVwiKVxuICAgIGNvbnN0IGNyb3BpdE9mZnNldCA9IGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIilcblxuICAgIGFqYXhcbiAgICAgIC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCB7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyVHlwZSxcbiAgICAgICAgY3JvcDoge1xuICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgeDogY3JvcGl0T2Zmc2V0LnggKiBkZXZpY2VSYXRpbyxcbiAgICAgICAgICAgIHk6IGNyb3BpdE9mZnNldC55ICogZGV2aWNlUmF0aW9cbiAgICAgICAgICB9LFxuICAgICAgICAgIHpvb206IGNyb3BpdC5jcm9waXQoXCJ6b29tXCIpICogZGV2aWNlUmF0aW9cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUoZGF0YSlcbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGRhdGEuZGV0YWlsKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWNyb3BcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3AtZm9ybVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9waXQtcHJldmlld1wiIC8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgY2xhc3NOYW1lPVwiY3JvcGl0LWltYWdlLXpvb20taW5wdXRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNyb3BBdmF0YXJ9XG4gICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51cGxvYWRcbiAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJTZXQgYXZhdGFyXCIpXG4gICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiQ3JvcCBpbWFnZVwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgYmF0Y2ggZnJvbSBcIm1pc2Fnby91dGlscy9iYXRjaFwiXG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNlbGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnByb3BzLmlkKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbiA9PT0gdGhpcy5wcm9wcy5pZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkIGF2YXRhci1zZWxlY3RlZFwiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJidG4gYnRuLWF2YXRhciBhdmF0YXItc2VsZWN0ZWRcIlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXIgYnRuLWRpc2FibGVkXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3R9XG4gICAgICA+XG4gICAgICAgIDxpbWcgc3JjPXt0aGlzLnByb3BzLnVybH0gLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnlcIj5cbiAgICAgICAgPGgzPnt0aGlzLnByb3BzLm5hbWV9PC9oMz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeS1pbWFnZXNcIj5cbiAgICAgICAgICB7YmF0Y2godGhpcy5wcm9wcy5pbWFnZXMsIDQsIG51bGwpLm1hcCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIGtleT17aX0+XG4gICAgICAgICAgICAgICAge3Jvdy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdhbGxlcnlJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMucHJvcHMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4uaXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxhbmstYXZhdGFyXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3Rpb246IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VsZWN0ID0gaW1hZ2UgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0aW9uOiBpbWFnZVxuICAgIH0pXG4gIH1cblxuICBzYXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgYWpheFxuICAgICAgLnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgICAgYXZhdGFyOiBcImdhbGxlcmllc1wiLFxuICAgICAgICBpbWFnZTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUocmVzcG9uc2UpXG4gICAgICAgICAgdGhpcy5wcm9wcy5zaG93SW5kZXgoKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWdhbGxlcnlcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxHYWxsZXJ5XG4gICAgICAgICAgICAgICAgbmFtZT17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgIGltYWdlcz17aXRlbS5pbWFnZXN9XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zYXZlfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiU2F2ZSBjaG9pY2VcIilcbiAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdCBhdmF0YXJcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNhbGxBcGkoYXZhdGFyVHlwZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgYWpheFxuICAgICAgLnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJUeXBlXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgc2V0R3JhdmF0YXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFwiZ3JhdmF0YXJcIilcbiAgfVxuXG4gIHNldEdlbmVyYXRlZCA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXCJnZW5lcmF0ZWRcIilcbiAgfVxuXG4gIGdldEdyYXZhdGFyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuZ3JhdmF0YXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldEdyYXZhdGFyfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1ncmF2YXRhclwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIG15IEdyYXZhdGFyXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRDcm9wQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItY3JvcFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93Q3JvcH1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZS1jcm9wIHVwbG9hZGVkIGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLXVwbG9hZFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93VXBsb2FkfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlVwbG9hZCBuZXcgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICBnZXRHYWxsZXJ5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLmdhbGxlcmllcykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdhbGxlcnlcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0dhbGxlcnl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGljayBhdmF0YXIgZnJvbSBnYWxsZXJ5XCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgZ2V0QXZhdGFyUHJldmlldygpIHtcbiAgICBsZXQgdXNlclBldmlldyA9IHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLnVzZXIuaWQsXG4gICAgICBhdmF0YXJzOiB0aGlzLnByb3BzLm9wdGlvbnMuYXZhdGFyc1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlldyBwcmV2aWV3LWxvYWRpbmdcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIyMDBcIiB1c2VyPXt1c2VyUGV2aWV3fSAvPlxuICAgICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXdcIj5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiMjAwXCIgdXNlcj17dXNlclBldmlld30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1pbmRleFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj57dGhpcy5nZXRBdmF0YXJQcmV2aWV3KCl9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICAgICAge3RoaXMuZ2V0R3JhdmF0YXJCdXR0b24oKX1cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNldEdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nZW5lcmF0ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiR2VuZXJhdGUgbXkgaW5kaXZpZHVhbCBhdmF0YXJcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAge3RoaXMuZ2V0Q3JvcEJ1dHRvbigpfVxuICAgICAgICAgICAge3RoaXMuZ2V0VXBsb2FkQnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRHYWxsZXJ5QnV0dG9uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXJJbmRleCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleFwiXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wXCJcbmltcG9ydCBBdmF0YXJVcGxvYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkXCJcbmltcG9ydCBBdmF0YXJHYWxsZXJ5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnlcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGNsYXNzIENoYW5nZUF2YXRhckVycm9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RXJyb3JSZWFzb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVhc29uKSB7XG4gICAgICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aGlzLnByb3BzLnJlYXNvbiB9fSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIHt0aGlzLmdldEVycm9yUmVhc29uKCl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIpLnRoZW4oXG4gICAgICBvcHRpb25zID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29tcG9uZW50OiBBdmF0YXJJbmRleCxcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHNob3dFcnJvciA9IGVycm9yID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVycm9yXG4gICAgfSlcbiAgfVxuXG4gIHNob3dJbmRleCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFySW5kZXhcbiAgICB9KVxuICB9XG5cbiAgc2hvd1VwbG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFyVXBsb2FkXG4gICAgfSlcbiAgfVxuXG4gIHNob3dDcm9wID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJDcm9wXG4gICAgfSlcbiAgfVxuXG4gIHNob3dHYWxsZXJ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJHYWxsZXJ5XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBsZXRlRmxvdyA9IG9wdGlvbnMgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnVzZXIsIG9wdGlvbnMuYXZhdGFycykpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFySW5kZXgsXG4gICAgICBvcHRpb25zXG4gICAgfSlcbiAgfVxuXG4gIGdldEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENoYW5nZUF2YXRhckVycm9yXG4gICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yLmRldGFpbH1cbiAgICAgICAgICAgIHJlYXNvbj17dGhpcy5zdGF0ZS5lcnJvci5yZWFzb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8dGhpcy5zdGF0ZS5jb21wb25lbnRcbiAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMuY29tcGxldGVGbG93fVxuICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnNob3dFcnJvcn1cbiAgICAgICAgICAgIHNob3dJbmRleD17dGhpcy5zaG93SW5kZXh9XG4gICAgICAgICAgICBzaG93Q3JvcD17dGhpcy5zaG93Q3JvcH1cbiAgICAgICAgICAgIHNob3dVcGxvYWQ9e3RoaXMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgIHNob3dHYWxsZXJ5PXt0aGlzLnNob3dHYWxsZXJ5fVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtY2hhbmdlLWF2YXRhclwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1jaGFuZ2UtYXZhdGFyXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgYXZhdGFyXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7dGhpcy5nZXRCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXJcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IGZpbGVTaXplIGZyb20gXCJtaXNhZ28vdXRpbHMvZmlsZS1zaXplXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGltYWdlOiBudWxsLFxuICAgICAgcHJldmlldzogbnVsbCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgdXBsb2FkZWQ6IG51bGwsXG4gICAgICBkYXRhVXJsOiBudWxsXG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVGaWxlKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLnNpemUgPiB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmxpbWl0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIGlzIHRvbyBiaWcuICglKGZpbGVzaXplKXMpXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsZXNpemU6IGZpbGVTaXplKGltYWdlLnNpemUpXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG5cbiAgICBsZXQgaW52YWxpZFR5cGVNc2cgPSBnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuXCIpXG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX21pbWVfdHlwZXMuaW5kZXhPZihpbWFnZS50eXBlKSA9PT0gLTFcbiAgICApIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZ1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb25Gb3VuZCA9IGZhbHNlXG4gICAgbGV0IGxvd2VyZWRGaWxlbmFtZSA9IGltYWdlLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgIHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIGlmIChsb3dlcmVkRmlsZW5hbWUuc3Vic3RyKGV4dGVuc2lvbi5sZW5ndGggKiAtMSkgPT09IGV4dGVuc2lvbikge1xuICAgICAgICBleHRlbnNpb25Gb3VuZCA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKCFleHRlbnNpb25Gb3VuZCkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwaWNrRmlsZSA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF2YXRhci1oaWRkZW4tdXBsb2FkXCIpLmNsaWNrKClcbiAgfVxuXG4gIHVwbG9hZEZpbGUgPSAoKSA9PiB7XG4gICAgbGV0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmF0YXItaGlkZGVuLXVwbG9hZFwiKS5maWxlc1swXVxuICAgIGlmICghaW1hZ2UpIHJldHVyblxuXG4gICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHRoaXMudmFsaWRhdGVGaWxlKGltYWdlKVxuICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRpb25FcnJvcilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW1hZ2UsXG4gICAgICBwcmV2aWV3OiBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlKSxcbiAgICAgIHByb2dyZXNzOiAwXG4gICAgfSlcblxuICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICBkYXRhLmFwcGVuZChcImF2YXRhclwiLCBcInVwbG9hZFwiKVxuICAgIGRhdGEuYXBwZW5kKFwiaW1hZ2VcIiwgaW1hZ2UpXG5cbiAgICBhamF4XG4gICAgICAudXBsb2FkKHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCBkYXRhLCBwcm9ncmVzcyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHByb2dyZXNzXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgb3B0aW9uczogZGF0YSxcbiAgICAgICAgICAgIHVwbG9hZGVkOiBkYXRhLmRldGFpbFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5pbmZvKFxuICAgICAgICAgICAgZ2V0dGV4dChcIllvdXIgaW1hZ2UgaGFzIGJlZW4gdXBsb2FkZWQgYW5kIHlvdSBtYXkgbm93IGNyb3AgaXQuXCIpXG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlOiBudWxsLFxuICAgICAgICAgICAgICBwcm9ncmVzczogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IG9wdGlvbnMuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBleHRlbnNpb24uc3Vic3RyKDEpXG4gICAgfSlcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKGZpbGVzKXMgZmlsZXMgc21hbGxlciB0aGFuICUobGltaXQpc1wiKSxcbiAgICAgIHtcbiAgICAgICAgZmlsZXM6IGV4dGVuc2lvbnMuam9pbihcIiwgXCIpLFxuICAgICAgICBsaW1pdDogZmlsZVNpemUob3B0aW9ucy5saW1pdClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1waWNrLWZpbGVcIiBvbkNsaWNrPXt0aGlzLnBpY2tGaWxlfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbnB1dDwvZGl2PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGZpbGVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHByb2dyZXNzKXMgJSBjb21wbGV0ZVwiKSxcbiAgICAgIHtcbiAgICAgICAgcHJvZ3Jlc3M6IHRoaXMuc3RhdGUucHJvZ3Jlc3NcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb2dyZXNzXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUucHJldmlld30gLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz1cInt0aGlzLnN0YXRlLnByb2dyZXNzfVwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnN0YXRlLnByb2dyZXNzICsgXCIlXCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPnt0aGlzLmdldFVwbG9hZFByb2dyZXNzTGFiZWwoKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJVcGxvYWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBpZD1cImF2YXRhci1oaWRkZW4tdXBsb2FkXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4tZmlsZS11cGxvYWRcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwbG9hZEZpbGV9XG4gICAgICAgIC8+XG4gICAgICAgIHt0aGlzLnN0YXRlLmltYWdlID8gdGhpcy5nZXRVcGxvYWRQcm9ncmVzcygpIDogdGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhdGhpcy5zdGF0ZS5pbWFnZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJDcm9wKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QXZhdGFyQ3JvcFxuICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgdXBsb2FkPXt0aGlzLnN0YXRlLnVwbG9hZGVkfVxuICAgICAgICBkYXRhVXJsPXt0aGlzLnN0YXRlLnByZXZpZXd9XG4gICAgICAgIG9uQ29tcGxldGU9e3RoaXMucHJvcHMub25Db21wbGV0ZX1cbiAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnByb3BzLnNob3dFcnJvcn1cbiAgICAgICAgc2hvd0luZGV4PXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnVwbG9hZGVkKSByZXR1cm4gdGhpcy5yZW5kZXJDcm9wKClcblxuICAgIHJldHVybiB0aGlzLnJlbmRlclVwbG9hZCgpXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kcm9wZG93bikge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgb3BlbiBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZHJvcGRvd24gPyBcInRydWVcIiA6IFwiZmFsc2VcIn1cbiAgICAgID5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lbnU8L2k+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZGlzcGxheSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiTm8gcHJvZmlsZSBkZXRhaWxzIGFyZSBlZGl0YWJsZSBhdCB0aGlzIHRpbWUuXCIpfVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcIlRoaXMgb3B0aW9uIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5cIil9XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IHsgZmllbGQsIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzXG4gICAgb25DaGFuZ2UoZmllbGQuZmllbGRuYW1lLCBldi50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgZmllbGQsIHZhbHVlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBpbnB1dCB9ID0gZmllbGRcblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInNlbGVjdFwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgY2hvaWNlcz17aW5wdXQuY2hvaWNlc31cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlkPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZElucHV0IGZyb20gXCIuL2ZpZWxkLWlucHV0XCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc2FibGVkLCBlcnJvcnMsIGZpZWxkcywgbmFtZSwgb25DaGFuZ2UsIHZhbHVlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZmllbGRzZXQ+XG4gICAgICA8bGVnZW5kPntuYW1lfTwvbGVnZW5kPlxuICAgICAge2ZpZWxkcy5tYXAoZmllbGQgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGZvcj17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtmaWVsZC5oZWxwX3RleHR9XG4gICAgICAgICAgICBrZXk9e2ZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIHZhbGlkYXRpb249e2Vycm9yc1tmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGaWVsZElucHV0XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZVtmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9maWVsZHNldD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGRzZXQgZnJvbSBcIi4vZmllbGRzZXRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIGNvbnN0IGdyb3VwcyA9IHByb3BzLmdyb3Vwcy5sZW5ndGhcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwczsgaSsrKSB7XG4gICAgICBjb25zdCBncm91cCA9IHByb3BzLmdyb3Vwc1tpXVxuICAgICAgY29uc3QgZmllbGRzID0gZ3JvdXAuZmllbGRzLmxlbmd0aFxuICAgICAgZm9yIChsZXQgZiA9IDA7IGYgPCBmaWVsZHM7IGYrKykge1xuICAgICAgICBjb25zdCBmaWVsZG5hbWUgPSBncm91cC5maWVsZHNbZl0uZmllbGRuYW1lXG4gICAgICAgIGNvbnN0IGluaXRpYWwgPSBncm91cC5maWVsZHNbZl0uaW5pdGlhbFxuICAgICAgICB0aGlzLnN0YXRlW2ZpZWxkbmFtZV0gPSBpbml0aWFsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSwge1xuICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgaXNMb2FkaW5nOiBudWxsXG4gICAgfSlcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIGRhdGEpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICB0aGlzLnByb3BzLm9uU3VjY2VzcyhkYXRhKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcnM6IHJlamVjdGlvbiB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5ncm91cHMubWFwKChncm91cCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEZpZWxkc2V0XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGVycm9ycz17dGhpcy5zdGF0ZS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgZmllbGRzPXtncm91cC5maWVsZHN9XG4gICAgICAgICAgICAgICAgbmFtZT17Z3JvdXAubmFtZX1cbiAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlciB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgPENhbmNlbEJ1dHRvblxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhbmNlbEJ1dHRvbih7IG9uQ2FuY2VsLCBkaXNhYmxlZCB9KSB7XG4gIGlmICghb25DYW5jZWwpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmxhbmtzbGF0ZSBmcm9tIFwiLi9ibGFua3NsYXRlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vbG9hZGVyXCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBncm91cHM6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmFwaSkudGhlbihcbiAgICAgIGdyb3VwcyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXG4gICAgICAgICAgZ3JvdXBzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYW5jZWwpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBncm91cHMsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkVkaXQgZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPExvYWRlciBkaXNwbGF5PXtsb2FkaW5nfSAvPlxuICAgICAgICA8QmxhbmtzbGF0ZSBkaXNwbGF5PXshbG9hZGluZyAmJiAhZ3JvdXBzLmxlbmd0aH0gLz5cbiAgICAgICAgPEZvcm1EaXNwbGF5XG4gICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICBkaXNwbGF5PXshbG9hZGluZyAmJiBncm91cHMubGVuZ3RofVxuICAgICAgICAgIGdyb3Vwcz17Z3JvdXBzfVxuICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLnByb3BzLm9uQ2FuY2VsfVxuICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5wcm9wcy5vblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1EaXNwbGF5KHsgYXBpLCBkaXNwbGF5LCBncm91cHMsIG9uQ2FuY2VsLCBvblN1Y2Nlc3MgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybSBhcGk9e2FwaX0gZ3JvdXBzPXtncm91cHN9IG9uQ2FuY2VsPXtvbkNhbmNlbH0gb25TdWNjZXNzPXtvblN1Y2Nlc3N9IC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNwbGF5IH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuaW1wb3J0IGZvcm1hdEZpbGVzaXplIGZyb20gXCJtaXNhZ28vdXRpbHMvZmlsZS1zaXplXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkluc2VydCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5pbnNlcnRBdHRhY2htZW50KVxuICB9XG5cbiAgaW5zZXJ0QXR0YWNobWVudCA9IChzZWxlY3Rpb24sIHJlcGxhY2UpID0+IHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5wcm9wcy5pdGVtXG5cbiAgICBpZiAoaXRlbS5pc19pbWFnZSkge1xuICAgICAgaWYgKGl0ZW0udXJsLnRodW1iKSB7XG4gICAgICAgIHJlcGxhY2UoXG4gICAgICAgICAgXCJbIVtcIiArXG4gICAgICAgICAgICBpdGVtLmZpbGVuYW1lICtcbiAgICAgICAgICAgIFwiXShcIiArXG4gICAgICAgICAgICBpdGVtLnVybC50aHVtYiArXG4gICAgICAgICAgICBcIildKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLmluZGV4ICtcbiAgICAgICAgICAgIFwiKVwiXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcGxhY2UoXG4gICAgICAgICAgXCJbIVtcIiArXG4gICAgICAgICAgICBpdGVtLmZpbGVuYW1lICtcbiAgICAgICAgICAgIFwiXShcIiArXG4gICAgICAgICAgICBpdGVtLnVybC5pbmRleCArXG4gICAgICAgICAgICBcIildKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLmluZGV4ICtcbiAgICAgICAgICAgIFwiKVwiXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZShcIltcIiArIGl0ZW0uZmlsZW5hbWUgKyBcIl0oXCIgKyBpdGVtLnVybC5pbmRleCArIFwiKVwiKVxuICAgIH1cbiAgfVxuXG4gIG9uUmVtb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgb25VbmRvID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZUl0ZW0gPSBuZXdTdGF0ZSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5pZCA9PT0gdGhpcy5wcm9wcy5pdGVtLmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBuZXdTdGF0ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodXBkYXRlZEF0dGFjaG1lbnRzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtY29tcGxldGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgPFByZXZpZXcgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgPEZpbGVuYW1lIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8RGV0YWlscyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00IGNvbC1tZC0zIHhzLW1hcmdpbi10b3AtaGFsZlwiPlxuICAgICAgICAgICAgPEFjdGlvbnNcbiAgICAgICAgICAgICAgb25JbnNlcnQ9e3RoaXMub25JbnNlcnR9XG4gICAgICAgICAgICAgIG9uUmVtb3ZlPXt0aGlzLm9uUmVtb3ZlfVxuICAgICAgICAgICAgICBvblVuZG89e3RoaXMub25VbmRvfVxuICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLml0ZW0uaXNfaW1hZ2UpIHtcbiAgICByZXR1cm4gPEltYWdlIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPEljb24gey4uLnByb3BzfSAvPlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZShwcm9wcykge1xuICBjb25zdCB0aHVtYm5haWxVcmwgPSBwcm9wcy5pdGVtLnVybC50aHVtYiB8fCBwcm9wcy5pdGVtLnVybC5pbmRleFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1pbWFnZVwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyBcIj9zaHZhPTFcIn1cbiAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBcInVybCgnXCIgKyB0aHVtYm5haWxVcmwgKyBcIj9zaHZhPTEnKVwiIH19XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJY29uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1pY29uXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5zZXJ0X2RyaXZlX2ZpbGU8L3NwYW4+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpbGVuYW1lKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGg0PlxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgIGhyZWY9e3Byb3BzLml0ZW0udXJsLmluZGV4ICsgXCI/c2h2YT0xXCJ9XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5pdGVtLmZpbGVuYW1lfVxuICAgICAgPC9hPlxuICAgIDwvaDQ+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERldGFpbHMocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5pdGVtLnVybC51cGxvYWRlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cmwudXBsb2FkZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX0FCQlIsXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiJShmaWxldHlwZSlzLCAlKHNpemUpcywgdXBsb2FkZWQgYnkgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pcy5cIlxuICAgICAgKVxuICAgICksXG4gICAge1xuICAgICAgZmlsZXR5cGU6IHByb3BzLml0ZW0uZmlsZXR5cGUsXG4gICAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5pdGVtLnNpemUpLFxuICAgICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgICB1cGxvYWRlZF9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fSAvPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWN0aW9ucyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtYWN0aW9uc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPEluc2VydCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxSZW1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgICA8VW5kbyB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5zZXJ0KHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uSW5zZXJ0fVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJJbnNlcnRcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlKHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkICYmIHByb3BzLml0ZW0uYWNsLmNhbl9kZWxldGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25SZW1vdmV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmRvKHByb3BzKSB7XG4gIGlmICghcHJvcHMuaXRlbS5pc1JlbW92ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uVW5kb31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5kbyByZW1vdmFsXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IFNUUk9ORyA9IFwiPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPlwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5rZXkgIT09IHRoaXMucHJvcHMuaXRlbS5rZXlcbiAgICB9KVxuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZShmaWx0ZXJlZEF0dGFjaG1lbnRzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoXG4gICAgICBTVFJPTkcsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5pdGVtLmZpbGVuYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIkVycm9yIHVwbG9hZGluZyAlKGZpbGVuYW1lKXNcIiksXG4gICAgICB7XG4gICAgICAgIGZpbGVuYW1lLFxuICAgICAgICBwcm9ncmVzczogdGhpcy5wcm9wcy5pdGVtLnByb2dyZXNzICsgXCIlXCJcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+d2FybmluZzwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgIDxoNCBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRpdGxlICsgXCI6XCIgfX0gLz5cbiAgICAgICAgICA8cD57dGhpcy5wcm9wcy5pdGVtLmVycm9yfTwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGlzbWlzc1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXR0YWNobWVudENvbXBsZXRlIGZyb20gXCIuL2NvbXBsZXRlXCJcbmltcG9ydCBBdHRhY2htZW50RXJyb3IgZnJvbSBcIi4vZXJyb3JcIlxuaW1wb3J0IEF0dGFjaG1lbnRVcGxvYWQgZnJvbSBcIi4vdXBsb2FkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLml0ZW0uaWQpIHtcbiAgICByZXR1cm4gPEF0dGFjaG1lbnRDb21wbGV0ZSB7Li4ucHJvcHN9IC8+XG4gIH1cblxuICBpZiAocHJvcHMuaXRlbS5lcnJvcikge1xuICAgIHJldHVybiA8QXR0YWNobWVudEVycm9yIHsuLi5wcm9wc30gLz5cbiAgfVxuXG4gIHJldHVybiA8QXR0YWNobWVudFVwbG9hZCB7Li4ucHJvcHN9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBTVFJPTkcgPSBcIjxzdHJvbmc+JShuYW1lKXM8L3N0cm9uZz5cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBmaWxlbmFtZSA9IGludGVycG9sYXRlKFxuICAgIFNUUk9ORyxcbiAgICB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0uZmlsZW5hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIlVwbG9hZGluZyAlKGZpbGVuYW1lKXMuLi4gJShwcm9ncmVzcylzXCIpLFxuICAgIHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgcHJvZ3Jlc3M6IHByb3BzLml0ZW0ucHJvZ3Jlc3MgKyBcIiVcIlxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtdXBsb2FkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXByb2dyZXNzLWJhclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3NcIlxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBwcm9wcy5pdGVtLnByb2dyZXNzICsgXCIlXCIgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPHBcbiAgICAgICAgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtdXBsb2FkLW1lc3NhZ2VcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAgIC8+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdCBmcm9tIFwiLi9saXN0XCJcbmltcG9ydCBVcGxvYWRlciBmcm9tIFwiLi91cGxvYWRlclwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIW1pc2Fnby5nZXQoXCJ1c2VyXCIpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudHNcIj5cbiAgICAgIDxMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVcGxvYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSBcIi4vYXR0YWNobWVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIiBzdHlsZT17e1xuICAgICAgb3ZlcmZsb3dZOiBcInNjcm9sbFwiLFxuICAgICAgbWF4SGVpZ2h0OiBcIjc1cHhcIixcbiAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIlxuICAgIH19PlxuICAgICAge3Byb3BzLmF0dGFjaG1lbnRzLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIDxBdHRhY2htZW50IGl0ZW09e2l0ZW19IGtleT17aXRlbS5pZCB8fCBpdGVtLmtleX0gey4uLnByb3BzfSAvPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3ItdXBsb2FkLWZpZWxkXCIpLmNsaWNrKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIW1pc2Fnby5nZXQoXCJ1c2VyXCIpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJVcGxvYWQgZmlsZVwiKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maWxlX3VwbG9hZDwvc3Bhbj4gVXBsb2FkIGZpbGVcbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdXG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdXBsb2FkID0ge1xuICAgICAgaWQ6IG51bGwsXG4gICAgICBrZXk6IGdldFJhbmRvbUtleSgpLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWVcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoW3VwbG9hZF0uY29uY2F0KHRoaXMucHJvcHMuYXR0YWNobWVudHMpKVxuXG4gICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgZGF0YS5hcHBlbmQoXCJ1cGxvYWRcIiwgZmlsZSlcblxuICAgIGFqYXhcbiAgICAgIC51cGxvYWQobWlzYWdvLmdldChcIkFUVEFDSE1FTlRTX0FQSVwiKSwgZGF0YSwgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICB1cGxvYWQucHJvZ3Jlc3MgPSBwcm9ncmVzc1xuICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgZGF0YS51cGxvYWRlZF9vbiA9IG1vbWVudChkYXRhLnVwbG9hZGVkX29uKVxuICAgICAgICAgIE9iamVjdC5hc3NpZ24odXBsb2FkLCBkYXRhKVxuICAgICAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgICAgICB1cGxvYWQuZXJyb3IgPSByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXQgaWQ9XCJlZGl0b3ItdXBsb2FkLWZpZWxkXCIgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9IHR5cGU9XCJmaWxlXCIgLz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUtleSgpIHtcbiAgcmV0dXJuIFwidXBsZC1cIiArIE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCJcbmltcG9ydCBVcGxvYWQgZnJvbSBcIi4uL2F0dGFjaG1lbnRzL3VwbG9hZC1idXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW1nSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgaW1nTGlzdDogW10sXG4gICAgICAgICAgICBwYXJhSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgdGl0bGVIaWRkZW46IHRydWUsXG4gICAgICAgICAgICBtb3JlSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgbGlzdEhpZGRlbjogdHJ1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbGlja0xlZnQodHlwZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2tMZWZ0KHR5cGUpXG4gICAgfVxuICAgIG9uQ2xpY2tSaWdodCh0eXBlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGlja1JpZ2h0KHR5cGUpXG4gICAgfVxuICAgIGxpc3RNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5saXN0VGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGlzdEhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsaXN0TW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMubGlzdFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbGlzdEhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIHBhcmFNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wYXJhVGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFyYUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJhTW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMucGFyYVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgcGFyYUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIHRpdGxlTW91c2VPdmVyKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGl0bGVUaW1lcilcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB0aXRsZUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB0aXRsZU1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLnRpdGxlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB0aXRsZUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIG1vcmVNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tb3JlVGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbW9yZUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBtb3JlTW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMubW9yZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbW9yZUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cbiAgICBpbWdDbGljaygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdIaWRkZW46ICF0aGlzLnN0YXRlLmltZ0hpZGRlblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGltZ01vdXNlT3ZlcigpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVyKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGltZ0hpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpbWdNb3VzZU91dCgpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGltZ0hpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIGFkZEltZ1VybCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrTGVmdCgnaW1nJylcbiAgICB9XG5cbiAgICBhZGRJbWdGaWxlKGUpIHtcbiAgICAgICAgbGV0IHsgaW1nTGlzdCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBjb25zdCBpbmRleCA9IGltZ0xpc3QubGVuZ3RoXG4gICAgICAgIGltZ0xpc3QucHVzaChlLnRhcmdldC5maWxlc1swXSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdMaXN0XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucHJvcHMuYWRkSW1nKGUudGFyZ2V0LmZpbGVzWzBdLCBpbmRleClcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJ1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBpbWdIaWRkZW4sIHBhcmFIaWRkZW4sIHRpdGxlSGlkZGVuLCBtb3JlSGlkZGVuLCBsaXN0SGlkZGVuIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGNvbnN0IHsgcHJldmlldywgZXhwYW5kLCBzdWJmaWVsZCB9ID0gdGhpcy5wcm9wc1xuICAgICAgICBjb25zdCBwcmV2aWV3QWN0aXZlID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAnay1hY3RpdmUnOiBwcmV2aWV3XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGV4cGFuZEFjdGl2ZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2stYWN0aXZlJzogZXhwYW5kXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHN1YmZpZWxkQWN0aXZlID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAnay1hY3RpdmUnOiBzdWJmaWVsZFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLXdyYXBwZXJcIiA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLXBjXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRvJyl9IHRpdGxlPXtgdW5kbyAoY3RybCt6KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj51bmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdyZWRvJyl9IHRpdGxlPXtgcmVkbyAoY3RybCt5KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMudGl0bGVNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt0aXRsZUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMScpfSB0aXRsZT1cIkhlYWRlciAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDInKX0gdGl0bGU9XCJIZWFkZXIgMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gzJyl9IHRpdGxlPVwiSGVhZGVyIDNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNCcpfSB0aXRsZT1cIkhlYWRlciA0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDUnKX0gdGl0bGU9XCJIZWFkZXIgNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g2Jyl9IHRpdGxlPVwiSGVhZGVyIDZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItcGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMucGFyYU1vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wYXJhTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGV4dF9maWVsZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtwYXJhSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2l0YWxpYycpfSB0aXRsZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdib2xkJyl9IHRpdGxlPVwiYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZGl0YWxpYycpfSB0aXRsZT1cImJvbGRpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRpdGFsaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2RlbGxpbmUnKX0gdGl0bGU9XCJzdHJpa2UgdGhyb3VnaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWtlIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3VuZGVybGluZScpfSB0aXRsZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItaW1nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17KCkgPT4gdGhpcy5pbWdNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLmltZ01vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5pbWdNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wZXJtX21lZGlhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT17aW1nSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW1nVXJsKCl9Pkluc2VydCBpbWFnZSBsaW5rPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZT17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3F1b3RlJyl9IHRpdGxlPVwicXVvdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ybWF0X3F1b3RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdsaW5rJyl9IHRpdGxlPVwibGlua1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5saW5rPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdjb2RlJyl9IHRpdGxlPVwiY29kZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jb2RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdzcG9pbGVyJyl9IHRpdGxlPVwic3BvaWxlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wcmlvcml0eV9oaWdoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRvJyl9IHRpdGxlPXtgdW5kbyAoY3RybCt6KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj51bmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdyZWRvJyl9IHRpdGxlPXtgcmVkbyAoY3RybCt5KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMudGl0bGVNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt0aXRsZUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMScpfSB0aXRsZT1cIkhlYWRlciAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDInKX0gdGl0bGU9XCJIZWFkZXIgMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gzJyl9IHRpdGxlPVwiSGVhZGVyIDNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNCcpfSB0aXRsZT1cIkhlYWRlciA0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDUnKX0gdGl0bGU9XCJIZWFkZXIgNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g2Jyl9IHRpdGxlPVwiSGVhZGVyIDZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItcGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMucGFyYU1vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wYXJhTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGV4dF9maWVsZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtwYXJhSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2l0YWxpYycpfSB0aXRsZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdib2xkJyl9IHRpdGxlPVwiYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZGl0YWxpYycpfSB0aXRsZT1cImJvbGRpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRpdGFsaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2RlbGxpbmUnKX0gdGl0bGU9XCJzdHJpa2UgdGhyb3VnaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWtlIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3VuZGVybGluZScpfSB0aXRsZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItaW1nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17KCkgPT4gdGhpcy5pbWdNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLmltZ01vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5pbWdNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wZXJtX21lZGlhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT17aW1nSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW1nVXJsKCl9Pkluc2VydCBpbWFnZSBsaW5rPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZT17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3F1b3RlJyl9IHRpdGxlPVwicXVvdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ybWF0X3F1b3RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdsaW5rJyl9IHRpdGxlPVwibGlua1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5saW5rPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdjb2RlJyl9IHRpdGxlPVwiY29kZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jb2RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdzcG9pbGVyJyl9IHRpdGxlPVwic3BvaWxlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wcmlvcml0eV9oaWdoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstcmlnaHQtcGNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ2V4cGFuZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGFuZEFjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW5fZXhpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcmV2aWV3QWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0FjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N1YmZpZWxkQWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdzdWJmaWVsZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtzdWJmaWVsZEFjdGl2ZSA/IFwiU3BsaXQgcHJldmlld1wiIDogXCJNZXJnZSBzcGxpdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaHJvbWVfcmVhZGVyX21vZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1yaWdodC1tb2JpbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ2V4cGFuZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGFuZEFjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW5fZXhpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcmV2aWV3QWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0FjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdHRhY2htZW50c0VkaXRvciBmcm9tIFwiLi9hdHRhY2htZW50c1wiXG5pbXBvcnQgKiBhcyB0ZXh0VXRpbHMgZnJvbSBcIi4vdGV4dHV0aWxzXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIlxuaW1wb3J0IG1hcmtlZCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21hcmtlZFwiXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwiLi9jb21wb25lbnRzL3Rvb2xiYXJcIlxuaW1wb3J0IHsgaW5zZXJ0VGV4dCB9IGZyb20gXCIuL3V0aWxzL2hlbHBlci90ZXh0XCJcbmltcG9ydCBrZXlkb3duTGlzdGVuIGZyb20gXCIuL3V0aWxzL2hlbHBlci9rZXlib2FyZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgIGV4cGFuZDogdHJ1ZVxuICB9XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGluZUluZGV4OiAxLFxuICAgICAgcHJldmlldzogZmFsc2UsXG4gICAgICBleHBhbmQ6IHByb3BzLmV4cGFuZCxcbiAgICAgIHN1YmZpZWxkOiBmYWxzZSxcbiAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgaGlzdG9yeUluZGV4OiAwLFxuICAgICAgbW9iaWxlOiBmYWxzZSxcbiAgICAgIGFsbG93UHJvbXB0OiB0cnVlLFxuICAgICAgYXJlWW91UmVhbGx5U3VyZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnRleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3ItdGV4dGFyZWFcIilcbiAgICB0aGlzLmJsb2NrRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tFZGl0XCIpXG4gICAgdGhpcy5yZUhlaWdodCgpXG4gICAgdGhpcy5mb2N1c1RleHQoKVxuICAgICQoXCIjZWRpdG9yLXRleHRhcmVhXCIpLmF0d2hvKHtcbiAgICAgIGF0OiBcIkBcIixcbiAgICAgIGRpc3BsYXlUcGw6ICc8bGk+PGltZyBzcmM9XCIke2F2YXRhcn1cIiBhbHQ9XCJcIj4ke3VzZXJuYW1lfTwvbGk+JyxcbiAgICAgIGluc2VydFRwbDogXCJAJHt1c2VybmFtZX1cIixcbiAgICAgIHNlYXJjaEtleTogXCJ1c2VybmFtZVwiLFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHJlbW90ZUZpbHRlcjogZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgICAgICQuZ2V0SlNPTihtaXNhZ28uZ2V0KFwiTUVOVElPTl9BUElcIiksIHsgcTogcXVlcnkgfSwgY2FsbGJhY2spXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgJChcIiNlZGl0b3ItdGV4dGFyZWFcIikub24oXCJpbnNlcnRlZC5hdHdob1wiLCAoZXZlbnQsIGZsYWcsIHF1ZXJ5KSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB9KVxuXG4gICAgdGhpcy5yZXNpemUoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZSgpXG4gICAgfSlcbiAgICAkKHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIChlKSA9PiB0aGlzLl9hcmVZb3VTdXJlKGUpKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKFwic3VibWl0XCIsIFwiZm9ybVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KVxuICAgICAgJCh3aW5kb3cpLm9mZignYmVmb3JldW5sb2FkJyk7XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmVQcm9wcykge1xuICAgIGNvbnN0IHsgaGlzdG9yeUluZGV4LCBoaXN0b3J5IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGlmICh2YWx1ZSAhPT0gcHJlUHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMucmVIZWlnaHQoKVxuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IGhpc3RvcnlbaGlzdG9yeUluZGV4XSkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmN1cnJlbnRUaW1lb3V0KVxuICAgICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zYXZlSGlzdG9yeSh2YWx1ZSlcbiAgICAgIH0sIDUwMClcbiAgICB9XG4gIH1cblxuICBfYXJlWW91U3VyZSA9IChlKSA9PiB7XG4gICAgY29uc3QgeyBhcmVZb3VSZWFsbHlTdXJlLCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zb2xlLmxvZyhlKVxuICAgIGlmIChoaXN0b3J5SW5kZXggIT0gMCkge1xuICAgICAgaWYgKCFhcmVZb3VSZWFsbHlTdXJlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhcmVZb3VSZWFsbHlTdXJlOiB0cnVlIH0pXG4gICAgICAgIHJldHVybiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCBsZWF2ZSA/IFRoZSBjaGFuZ2VzIHdpbGwgbm90IGJlIHNhdmVkLlwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uS2V5RG93biA9IChlKSA9PiB7XG4gICAga2V5ZG93bkxpc3RlbihlLCAodHlwZSkgPT4ge1xuICAgICAgdGhpcy5sZWZ0VG9vbEJhckNsaWNrKHR5cGUpXG4gICAgfSlcbiAgfVxuXG4gIHJlcGxhY2VTZWxlY3Rpb24gPSBvcGVyYXRpb24gPT4ge1xuICAgIG9wZXJhdGlvbih0ZXh0VXRpbHMuZ2V0U2VsZWN0aW9uVGV4dCgpLCB0aGlzLl9yZXBsYWNlU2VsZWN0aW9uKVxuICB9XG5cbiAgX3JlcGxhY2VTZWxlY3Rpb24gPSBuZXdWYWx1ZSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0ZXh0VXRpbHMucmVwbGFjZShuZXdWYWx1ZSkpXG4gIH1cblxuICByZXNpemUgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA3NjhweCknKS5tYXRjaGVzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcHJldmlldzogdHJ1ZSxcbiAgICAgICAgc3ViZmllbGQ6IHRydWUsXG4gICAgICAgIGV4cGFuZDogdGhpcy5wcm9wcy5leHBhbmRcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcmV2aWV3OiBmYWxzZSxcbiAgICAgICAgc3ViZmllbGQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgZm9jdXNUZXh0ID0gKCkgPT4ge1xuICAgIHRoaXMudGV4dGFyZWEuZm9jdXMoKVxuICAgIHRoaXMudGV4dGFyZWEuc2Nyb2xsVG9wID0gdGhpcy50ZXh0YXJlYS5zY3JvbGxIZWlnaHRcbiAgICB0aGlzLnRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKHRoaXMudGV4dGFyZWEudmFsdWUubGVuZ3RoLCB0aGlzLnRleHRhcmVhLnZhbHVlLmxlbmd0aClcbiAgfVxuXG4gIHJlSGVpZ2h0ID0gKCkgPT4ge1xuICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gJydcbiAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodCA9IHRoaXMudGV4dGFyZWEuc2Nyb2xsSGVpZ2h0ICsgJ3B4J1xuICB9XG5cbiAgc2F2ZUhpc3RvcnkgPSAodmFsdWUpID0+IHtcbiAgICBsZXQgeyBoaXN0b3J5LCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBoaXN0b3J5LnNwbGljZShoaXN0b3J5SW5kZXggKyAxLCBoaXN0b3J5Lmxlbmd0aClcbiAgICBpZiAoaGlzdG9yeS5sZW5ndGggPj0gMjApIHtcbiAgICAgIGhpc3Rvcnkuc2hpZnQoKVxuICAgIH1cbiAgICBoaXN0b3J5SW5kZXggPSBoaXN0b3J5Lmxlbmd0aFxuICAgIGhpc3RvcnkucHVzaCh2YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhpc3RvcnksXG4gICAgICBoaXN0b3J5SW5kZXhcbiAgICB9KVxuICB9XG5cbiAgdW5kbyA9ICgpID0+IHtcbiAgICBsZXQgeyBoaXN0b3J5LCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBoaXN0b3J5SW5kZXggPSBoaXN0b3J5SW5kZXggLSAxXG4gICAgaWYgKGhpc3RvcnlJbmRleCA8IDApIHJldHVyblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaGlzdG9yeVtoaXN0b3J5SW5kZXhdKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlzdG9yeUluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlZG8gPSAoKSA9PiB7XG4gICAgbGV0IHsgaGlzdG9yeSwgaGlzdG9yeUluZGV4IH0gPSB0aGlzLnN0YXRlXG4gICAgaGlzdG9yeUluZGV4ID0gaGlzdG9yeUluZGV4ICsgMVxuICAgIGlmIChoaXN0b3J5SW5kZXggPj0gaGlzdG9yeS5sZW5ndGgpIHJldHVyblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaGlzdG9yeVtoaXN0b3J5SW5kZXhdKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlzdG9yeUluZGV4XG4gICAgfSlcbiAgfVxuXG4gIGxlZnRUb29sQmFyQ2xpY2sgPSB0eXBlID0+IHtcbiAgICBjb25zdCB0eXBlT2JqID0ge1xuICAgICAgaDE6IHtcbiAgICAgICAgcHJlZml4OiAnIyAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6IFwiSGVhZGVyIDFcIlxuICAgICAgfSxcbiAgICAgIGgyOiB7XG4gICAgICAgIHByZWZpeDogJyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgMlwiXG4gICAgICB9LFxuICAgICAgaDM6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgM1wiXG4gICAgICB9LFxuICAgICAgaDQ6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjIyAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6IFwiSGVhZGVyIDRcIlxuICAgICAgfSxcbiAgICAgIGg1OiB7XG4gICAgICAgIHByZWZpeDogJyMjIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgNVwiXG4gICAgICB9LFxuICAgICAgaDY6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgNlwiXG4gICAgICB9LFxuICAgICAgcXVvdGU6IHtcbiAgICAgICAgcHJlZml4OiAnW3F1b3RlPSBAJyxcbiAgICAgICAgc3ViZml4OiAnXVxcblsvcXVvdGVdJyxcbiAgICAgICAgc3RyOiBcInVzZXJuYW1lXCJcbiAgICAgIH0sXG4gICAgICBpdGFsaWM6IHtcbiAgICAgICAgcHJlZml4OiAnXycsXG4gICAgICAgIHN1YmZpeDogJ18nLFxuICAgICAgICBzdHI6IFwiaXRhbGljXCJcbiAgICAgIH0sXG4gICAgICBib2xkOiB7XG4gICAgICAgIHByZWZpeDogJyoqJyxcbiAgICAgICAgc3ViZml4OiAnKionLFxuICAgICAgICBzdHI6IFwiYm9sZFwiXG4gICAgICB9LFxuICAgICAgYm9sZGl0YWxpYzoge1xuICAgICAgICBwcmVmaXg6ICcqKionLFxuICAgICAgICBzdWJmaXg6ICcqKionLFxuICAgICAgICBzdHI6IFwiYm9sZCBpdGFsaWNcIlxuICAgICAgfSxcbiAgICAgIGRlbGxpbmU6IHtcbiAgICAgICAgcHJlZml4OiAnfn4nLFxuICAgICAgICBzdWJmaXg6ICd+ficsXG4gICAgICAgIHN0cjogXCJkZWxldGUgbGluZVwiXG4gICAgICB9LFxuICAgICAgdW5kZXJsaW5lOiB7XG4gICAgICAgIHByZWZpeDogJzx1PicsXG4gICAgICAgIHN1YmZpeDogJzwvdT4nLFxuICAgICAgICBzdHI6IFwidW5kZXJsaW5lXCJcbiAgICAgIH0sXG4gICAgICBzdXBlcnNjcmlwdDoge1xuICAgICAgICBwcmVmaXg6ICd4PHN1cD4nLFxuICAgICAgICBzdWJmaXg6ICc8L3N1cD4nLFxuICAgICAgICBzdHI6ICd5J1xuICAgICAgfSxcbiAgICAgIHN1YnNjcmlwdDoge1xuICAgICAgICBwcmVmaXg6ICdhPHN1Yj4nLFxuICAgICAgICBzdWJmaXg6ICc8L3N1Yj4nLFxuICAgICAgICBzdHI6ICcnXG4gICAgICB9LFxuICAgICAgdGFibGU6IHtcbiAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOlxuICAgICAgICAgICd8IHRpdGxlICAgICAgfCBkZXNjcmlwdGlvbiAgICAgfFxcbnwgLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLSB8XFxufCBmb3ItZWRpdG9yIHwgbWFya2Rvd24gZWRpdG9yIHxcXG4nXG4gICAgICB9LFxuICAgICAgaW1nOiB7XG4gICAgICAgIHByZWZpeDogJyFbYWx0XSgnLFxuICAgICAgICBzdWJmaXg6ICcpJyxcbiAgICAgICAgc3RyOiAndXJsJ1xuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgcHJlZml4OiAnW3RpdGxlXSgnLFxuICAgICAgICBzdWJmaXg6ICcpJyxcbiAgICAgICAgc3RyOiAndXJsJ1xuICAgICAgfSxcbiAgICAgIG9yZGVybGlzdDoge1xuICAgICAgICBwcmVmaXg6ICdcXG4xLiAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6ICdpdGVtJ1xuICAgICAgfSxcbiAgICAgIGRpc29yZGVybGlzdDoge1xuICAgICAgICBwcmVmaXg6ICdcXG4tICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJ2l0ZW0nXG4gICAgICB9LFxuICAgICAgY2hlY2tsaXN0OiB7XG4gICAgICAgIHByZWZpeDogJ1xcbi0gW3hdICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJ2l0ZW0nXG4gICAgICB9LFxuICAgICAgaW5saW5lY29kZToge1xuICAgICAgICBwcmVmaXg6ICdgJyxcbiAgICAgICAgc3ViZml4OiAnYCcsXG4gICAgICAgIHN0cjogXCJpbmxpbmVjb2RlXCJcbiAgICAgIH0sXG4gICAgICBjb2RlOiB7XG4gICAgICAgIHByZWZpeDogJ2BgYCcsXG4gICAgICAgIHN1YmZpeDogJ1xcblxcbmBgYCcsXG4gICAgICAgIHN0cjogJ2xhbmd1YWdlJ1xuICAgICAgfSxcbiAgICAgIHRhYjoge1xuICAgICAgICBwcmVmaXg6ICcgICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJydcbiAgICAgIH0sXG4gICAgICBzcG9pbGVyOiB7XG4gICAgICAgIHByZWZpeDogXCJbc3BvaWxlcl1cXG5cIixcbiAgICAgICAgc3ViZml4OiBcIlxcblsvc3BvaWxlcl1cIixcbiAgICAgICAgc3RyOiBcIlwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVPYmouaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5zZXJ0VGV4dCh0eXBlT2JqW3R5cGVdKVxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSlcbiAgICB9XG4gICAgY29uc3Qgb3RoZXJMZWZ0Q2xpY2sgPSB7XG4gICAgICB1bmRvOiB0aGlzLnVuZG8sXG4gICAgICByZWRvOiB0aGlzLnJlZG8sXG4gICAgICBlc2M6IHRoaXMuZXhpdEZ1bGxTY3JlZW5cbiAgICB9XG4gICAgaWYgKG90aGVyTGVmdENsaWNrLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICBvdGhlckxlZnRDbGlja1t0eXBlXSgpXG4gICAgfVxuXG4gIH1cblxuICBleGl0RnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGV4cGFuZDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmlnaHRUb29sYmFyQ2xpY2sgPSAodHlwZSkgPT4ge1xuICAgIGNvbnN0IHRvb2xiYXJSaWdodFByZXZpZXdDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcmV2aWV3OiAhdGhpcy5zdGF0ZS5wcmV2aWV3XG4gICAgICB9KVxuICAgIH1cbiAgICBjb25zdCB0b29sYmFyUmlnaHRFeHBhbmRDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleHBhbmQ6ICF0aGlzLnN0YXRlLmV4cGFuZFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCB0b29sYmFyUmlnaHRTdWJmaWVsZENsaWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBwcmV2aWV3LCBzdWJmaWVsZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgIHRoaXMucmVIZWlnaHQoKVxuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXcpIHtcbiAgICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzdWJmaWVsZDogZmFsc2UsXG4gICAgICAgICAgICBwcmV2aWV3OiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzdWJmaWVsZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdWJmaWVsZCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3ViZmllbGQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICBzdWJmaWVsZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmlnaHRDbGljayA9IHtcbiAgICAgIHByZXZpZXc6IHRvb2xiYXJSaWdodFByZXZpZXdDbGljayxcbiAgICAgIGV4cGFuZDogdG9vbGJhclJpZ2h0RXhwYW5kQ2xpY2ssXG4gICAgICBzdWJmaWVsZDogdG9vbGJhclJpZ2h0U3ViZmllbGRDbGlja1xuICAgIH1cbiAgICBpZiAocmlnaHRDbGljay5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgcmlnaHRDbGlja1t0eXBlXSgpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcmV2aWV3LCBleHBhbmQsIHN1YmZpZWxkIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyB2YWx1ZSwgbG9hZGluZywgaGVpZ2h0LCBmb250U2l6ZSB9ID0gdGhpcy5wcm9wc1xuXG5cbiAgICBjb25zdCBmdWxsc2NyZWVuID0gY2xhc3NOYW1lcyh7XG4gICAgICAnay1jb250YWluZXInOiB0cnVlLFxuICAgICAgJ2stZnVsbHNjcmVlbic6IGV4cGFuZFxuICAgIH0pXG5cbiAgICBjb25zdCBlZGl0b3JDbGFzcyA9IGNsYXNzTmFtZXMoe1xuICAgICAgJ2stZWRpdG9yLWVkaXQnOiB0cnVlLFxuICAgICAgJ2stcGFuZWwnOiB0cnVlLFxuICAgICAgJ2stYWN0aXZlJzogcHJldmlldyAmJiBzdWJmaWVsZCxcbiAgICAgICdrLWVkaXQtcHJldmlldyc6IHByZXZpZXcgJiYgIXN1YmZpZWxkXG4gICAgfSlcbiAgICBjb25zdCBwcmV2aWV3Q2xhc3MgPSBjbGFzc05hbWVzKHtcbiAgICAgICdrLXBhbmVsJzogdHJ1ZSxcbiAgICAgICdrLWVkaXRvci1wcmV2aWV3JzogdHJ1ZSxcbiAgICAgICdrLWFjdGl2ZSc6IHByZXZpZXcgJiYgc3ViZmllbGRcbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtmdWxsc2NyZWVufSBzdHlsZT17eyBoZWlnaHQgfX0+XG4gICAgICAgIDxUb29sYmFyXG4gICAgICAgICAgZXhwYW5kPXtleHBhbmR9XG4gICAgICAgICAgc3ViZmllbGQ9e3N1YmZpZWxkfVxuICAgICAgICAgIHByZXZpZXc9e3ByZXZpZXd9XG4gICAgICAgICAgb25DbGlja0xlZnQ9e3RoaXMubGVmdFRvb2xCYXJDbGlja31cbiAgICAgICAgICBvbkNsaWNrUmlnaHQ9e3RoaXMucmlnaHRUb29sYmFyQ2xpY2t9XG4gICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLWVkaXRvclwiIHN0eWxlPXt7IGZvbnRTaXplIH19PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17ZWRpdG9yQ2xhc3N9XG4gICAgICAgICAgICBpZD1cImJsb2NrRWRpdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmZvY3VzVGV4dH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstZWRpdG9yLWJsb2NrXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1lZGl0b3ItY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxwcmUgaWQ9XCJ0cnVlLXZhbHVlXCI+e3ZhbHVlfTwvcHJlPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImVkaXRvci10ZXh0YXJlYVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLmhhbmRsZUNoYW5nZShlKX1cbiAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XCJXcml0ZSBTb21ldGhpbmdcIn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmV2aWV3Q2xhc3N9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBpZD1cImstcHJldmlld1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstcHJldmlldyBrLW1hcmtkb3duLXByZXZpZXdcIlxuICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hcmtlZCh2YWx1ZSkgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1mb290ZXJcIiBzdHlsZT17eyBvdmVyZmxvdzogJ2hpZGRlbicsIHBhZGRpbmc6ICcxMHB4JyB9fT5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuc3VibWl0TGFiZWwgfHwgZ2V0dGV4dChcIlBvc3RcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeCB2aXNpYmxlLXhzLWJsb2NrXCIgLz5cbiAgICAgICAgICA8UHJvdGVjdFxuICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5wcm9wcy5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5wcm9wcy5vblByb3RlY3R9XG4gICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5wcm9wcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMucHJvcHMucHJvdGVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEF0dGFjaG1lbnRzRWRpdG9yXG4gICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMucHJvcHMuYXR0YWNobWVudHN9XG4gICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdChwcm9wcykge1xuICBpZiAoIXByb3BzLmNhblByb3RlY3QpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5wcm90ZWN0ID8gZ2V0dGV4dChcIlByb3RlY3RlZFwiKSA6IGdldHRleHQoXCJQcm90ZWN0XCIpXG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWljb24gYnRuLWRlZmF1bHQgYnRuLXByb3RlY3QgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgb25DbGljaz17cHJvcHMucHJvdGVjdCA/IHByb3BzLm9uVW5wcm90ZWN0IDogcHJvcHMub25Qcm90ZWN0fVxuICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7cHJvcHMucHJvdGVjdCA/IFwibG9ja1wiIDogXCJsb2NrX291dGxpbmVcIn1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0IGhpZGRlbi1tZCBoaWRkZW4tbGdcIj57bGFiZWx9PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICApXG59XG4iLCJleHBvcnQgY29uc3QgdGV4dGFyZWFJZCA9IFwiZWRpdG9yLXRleHRhcmVhXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRhcmVhKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dGFyZWFJZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dGFyZWFJZCkudmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICBlbmRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKVxuICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgY3RybC5mb2N1cygpXG4gICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKVxuICAgIGNvbnN0IGxlbmd0aCA9IHJhbmdlLnRleHQubGVuZ3RoXG4gICAgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIC1jdHJsLnZhbHVlLmxlbmd0aClcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UudGV4dC5sZW5ndGggLSBsZW5ndGgsIHJhbmdlLnRleHQubGVuZ3RoKVxuICB9IGVsc2UgaWYgKGN0cmwuc2VsZWN0aW9uU3RhcnQgfHwgY3RybC5zZWxlY3Rpb25TdGFydCA9PSBcIjBcIikge1xuICAgIHJldHVybiBnZXRTZWxlY3Rpb25SYW5nZShjdHJsLnNlbGVjdGlvblN0YXJ0LCBjdHJsLnNlbGVjdGlvbkVuZClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVGV4dCgpIHtcbiAgY29uc3QgcmFuZ2UgPSBnZXRTZWxlY3Rpb24oKVxuICByZXR1cm4gJC50cmltKGdldFZhbHVlKCkuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHNlbGVjdGlvblJhbmdlKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpXG4gIGlmIChjdHJsLnNldFNlbGVjdGlvblJhbmdlKSB7XG4gICAgY3RybC5mb2N1cygpXG4gICAgY3RybC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25SYW5nZS5zdGFydCwgc2VsZWN0aW9uUmFuZ2UuZW5kKVxuICB9IGVsc2UgaWYgKGN0cmwuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBjdHJsLmNyZWF0ZVRleHRSYW5nZSgpXG4gICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSlcbiAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgc2VsZWN0aW9uUmFuZ2Uuc3RhcnQpXG4gICAgcmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCBzZWxlY3Rpb25SYW5nZS5lbmQpXG4gICAgcmFuZ2Uuc2VsZWN0KClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlcGxhY2UobXlSYW5nZSwgcmVwbGFjZW1lbnQpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKClcbiAgY29uc3QgdGV4dCA9IGN0cmwudmFsdWVcbiAgY29uc3Qgc3RhcnRUZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgbXlSYW5nZS5zdGFydClcbiAgY3RybC52YWx1ZSA9XG4gICAgdGV4dC5zdWJzdHJpbmcoMCwgbXlSYW5nZS5zdGFydCkgKyByZXBsYWNlbWVudCArIHRleHQuc3Vic3RyaW5nKG15UmFuZ2UuZW5kKVxuICBzZXRTZWxlY3Rpb24oXG4gICAgZ2V0U2VsZWN0aW9uUmFuZ2UoXG4gICAgICBzdGFydFRleHQubGVuZ3RoICsgcmVwbGFjZW1lbnQubGVuZ3RoLFxuICAgICAgc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aFxuICAgIClcbiAgKVxuICByZXR1cm4gY3RybC52YWx1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShyZXBsYWNlbWVudCkge1xuICByZXR1cm4gX3JlcGxhY2UoZ2V0U2VsZWN0aW9uKCksIHJlcGxhY2VtZW50KVxufVxuIiwiY29uc3QgS0VZX0NPREUgPSB7XG4gICAgRVNDOiAyNyxcbiAgICBGODogMTE5LFxuICAgIEY5OiAxMjAsXG4gICAgRjEwOiAxMjEsXG4gICAgRjExOiAxMjIsXG4gICAgRjEyOiAxMjMsXG4gICAgQjogNjYsXG4gICAgSTogNzMsXG4gICAgSDogNzIsXG4gICAgVTogODUsXG4gICAgRDogNjgsXG4gICAgTTogNzcsXG4gICAgUTogODEsXG4gICAgTzogNzksXG4gICAgTDogNzYsXG4gICAgUzogODMsXG4gICAgWjogOTAsXG4gICAgWTogODksXG4gICAgQzogNjcsXG4gICAgVDogODQsXG4gICAgUjogODIsXG4gICAgREVMRVRFOiA4LFxuICAgIFRBQjogOSxcbiAgICBFTlRFUjogMTMsXG4gICAgT05FOiA5NyxcbiAgICBUV086IDk4LFxuICAgIFRIUkVFOiA5OSxcbiAgICBGT1VSOiAxMDAsXG4gICAgRklWRTogMTAxLFxuICAgIFNJWDogMTAyLFxuICAgIF9PTkU6IDQ5LFxuICAgIF9UV086IDUwLFxuICAgIF9USFJFRTogNTEsXG4gICAgX0ZPVVI6IDUyLFxuICAgIF9GSVZFOiA1MyxcbiAgICBfU0lYOiA1NFxuICB9XG4gIFxuICBleHBvcnQgZGVmYXVsdCAoZSwgZnVuYykgPT4ge1xuICAgICAgaWYgKCEoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgIWUuYWx0S2V5ICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLRVlfQ09ERS5UQUI6IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZnVuYygndGFiJylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgS0VZX0NPREUuRVNDOiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ2VzYycpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmICFlLmFsdEtleSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAvLyBjdHJsICtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICBjYXNlIEtFWV9DT0RFLlo6IHtcbiAgICAgICAgICAgIC8vIFpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZnVuYygndW5kbycpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEtFWV9DT0RFLlk6IHtcbiAgICAgICAgICAgIC8vIFlcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZnVuYygncmVkbycpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEtFWV9DT0RFLkI6IHtcbiAgICAgICAgICAgIC8vIFpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZnVuYygnYm9sZCcpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEtFWV9DT0RFLkk6IHtcbiAgICAgICAgICAgIC8vIFlcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgZnVuYygnaXRhbGljJylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgS0VZX0NPREUuVToge1xuICAgICAgICAgICAgLy8gWVxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBmdW5jKCd1bmRlcmxpbmUnKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgIiwiZnVuY3Rpb24gaW5zZXJ0VGV4dChwYXJhbXMpIHtcbiAgICBjb25zdCAkdm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRvci10ZXh0YXJlYVwiKVxuICAgIGNvbnN0IHsgcHJlZml4LCBzdHIgPSAnJywgc3ViZml4ID0gJycgfSA9IHBhcmFtc1xuICAgIGNvbnN0IHZhbHVlID0gJHZtLnZhbHVlXG4gICAgaWYgKCR2bS5zZWxlY3Rpb25TdGFydCB8fCAkdm0uc2VsZWN0aW9uU3RhcnQgPT09IDApIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gJHZtLnNlbGVjdGlvblN0YXJ0XG4gICAgICBjb25zdCBlbmQgPSAkdm0uc2VsZWN0aW9uRW5kXG4gIFxuICAgICAgY29uc3QgcmVzdG9yZVRvcCA9ICR2bS5zY3JvbGxUb3BcbiAgXG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICAkdm0udmFsdWUgPVxuICAgICAgICAgIHZhbHVlLnN1YnN0cmluZygwLCBzdGFydCkgK1xuICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgc3RyICtcbiAgICAgICAgICBzdWJmaXggK1xuICAgICAgICAgIHZhbHVlLnN1YnN0cmluZyhlbmQsIHZhbHVlLmxlbmd0aClcbiAgICAgICAgJHZtLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQgKyBwcmVmaXgubGVuZ3RoXG4gICAgICAgICR2bS5zZWxlY3Rpb25FbmQgPSBlbmQgKyBwcmVmaXgubGVuZ3RoICsgc3RyLmxlbmd0aFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHZtLnZhbHVlID1cbiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoMCwgc3RhcnQpICtcbiAgICAgICAgICBwcmVmaXggK1xuICAgICAgICAgIHZhbHVlLnN1YnN0cmluZyhzdGFydCwgZW5kKSArXG4gICAgICAgICAgc3ViZml4ICtcbiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoZW5kLCB2YWx1ZS5sZW5ndGgpXG4gICAgICAgICR2bS5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0ICsgcHJlZml4Lmxlbmd0aFxuICAgICAgICAkdm0uc2VsZWN0aW9uRW5kID0gZW5kICsgcHJlZml4Lmxlbmd0aFxuICAgICAgfVxuICBcbiAgICAgICR2bS5mb2N1cygpXG4gICAgICBpZiAocmVzdG9yZVRvcCA+PSAwKSB7XG4gICAgICAgICR2bS5zY3JvbGxUb3AgPSByZXN0b3JlVG9wXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAkdm0udmFsdWVcbiAgfVxuICBcbiAgZXhwb3J0IHtcbiAgICBpbnNlcnRUZXh0XG4gIH1cbiAgIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgaXNWYWxpZGF0ZWQoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnByb3BzLnZhbGlkYXRpb24gIT09IFwidW5kZWZpbmVkXCJcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJmb3JtLWdyb3VwXCJcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgaGFzLWZlZWRiYWNrXCJcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IFwiIGhhcy1zdWNjZXNzXCJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSBcIiBoYXMtZXJyb3JcIlxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lXG4gIH1cblxuICBnZXRGZWVkYmFjaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMudmFsaWRhdGlvbi5tYXAoKGVycm9yLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPHAga2V5PXt0aGlzLnByb3BzLmZvciArIFwiRmVlZGJhY2tJdGVtXCIgKyBpfT57ZXJyb3J9PC9wPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWRhdGVkKCkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuIGlkPXt0aGlzLnByb3BzLmZvciArIFwiX3N0YXR1c1wifSBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMudmFsaWRhdGlvbiA/IGdldHRleHQoXCIoZXJyb3IpXCIpIDogZ2V0dGV4dChcIihzdWNjZXNzKVwiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgY2xhc3NOYW1lPXtcImNvbnRyb2wtbGFiZWwgXCIgKyAodGhpcy5wcm9wcy5sYWJlbENsYXNzIHx8IFwiXCIpfVxuICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuZm9yIHx8IFwiXCJ9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbCArIFwiOlwifVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jb250cm9sQ2xhc3MgfHwgXCJcIn0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpfVxuICAgICAgICAgIHt0aGlzLmdldEZlZWRiYWNrKCl9XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5leHRyYSB8fCBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmxldCB2YWxpZGF0ZVJlcXVpcmVkID0gcmVxdWlyZWQoKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHZhbGlkYXRlKCkge1xuICAgIGxldCBlcnJvcnMgPSB7fVxuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzXG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycyxcbiAgICAgIG9wdGlvbmFsOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge31cbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdGVkRmllbGRzID0gW11cblxuICAgIC8vIGFkZCByZXF1aXJlZCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWRbbmFtZV1cbiAgICAgICkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBvcHRpb25hbCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgaWYgKFxuICAgICAgICB2YWxpZGF0b3JzLm9wdGlvbmFsLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgIHZhbGlkYXRvcnMub3B0aW9uYWxbbmFtZV1cbiAgICAgICkge1xuICAgICAgICB2YWxpZGF0ZWRGaWVsZHMucHVzaChuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIGZpZWxkcyB2YWx1ZXNcbiAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRlZEZpZWxkcykge1xuICAgICAgbGV0IG5hbWUgPSB2YWxpZGF0ZWRGaWVsZHNbaV1cbiAgICAgIGxldCBmaWVsZEVycm9ycyA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCB0aGlzLnN0YXRlW25hbWVdKVxuXG4gICAgICBpZiAoZmllbGRFcnJvcnMgPT09IG51bGwpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gbnVsbFxuICAgICAgfSBlbHNlIGlmIChmaWVsZEVycm9ycykge1xuICAgICAgICBlcnJvcnNbbmFtZV0gPSBmaWVsZEVycm9yc1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnNcbiAgfVxuXG4gIGlzVmFsaWQoKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGZvciAobGV0IGZpZWxkIGluIGVycm9ycykge1xuICAgICAgaWYgKGVycm9ycy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgICAgaWYgKGVycm9yc1tmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB2YWxpZGF0ZUZpZWxkKG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IGVycm9ycyA9IFtdXG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnNcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycylbbmFtZV0sXG4gICAgICBvcHRpb25hbDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fSlbbmFtZV1cbiAgICB9XG5cbiAgICBsZXQgcmVxdWlyZWRFcnJvciA9IHZhbGlkYXRlUmVxdWlyZWQodmFsdWUpIHx8IGZhbHNlXG5cbiAgICBpZiAodmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKHJlcXVpcmVkRXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gW3JlcXVpcmVkRXJyb3JdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5yZXF1aXJlZFtpXSh2YWx1ZSlcbiAgICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbFxuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRFcnJvciA9PT0gZmFsc2UgJiYgdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLm9wdGlvbmFsW2ldKHZhbHVlKVxuICAgICAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBmYWxzZSA9PT0gZmllbGQgd2Fzbid0IHZhbGlkYXRlZFxuICB9XG5cbiAgYmluZElucHV0ID0gbmFtZSA9PiB7XG4gICAgcmV0dXJuIGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlVmFsdWUobmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZhbHVlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH1cblxuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSB0aGlzLnN0YXRlLmVycm9ycyB8fCB7fVxuICAgIGZvcm1FcnJvcnNbbmFtZV0gPSB0aGlzLnZhbGlkYXRlRmllbGQobmFtZSwgbmV3U3RhdGVbbmFtZV0pXG4gICAgbmV3U3RhdGUuZXJyb3JzID0gZm9ybUVycm9yc1xuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2xlYW4oKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLnNlbmQoKVxuXG4gICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLnRoZW4oXG4gICAgICAgICAgc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzQWN0aXZlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNBY3RpdmVcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZih0aGlzLnByb3BzLnBhdGgpID09PSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCIpICtcbiAgICAgICAgXCIgXCIgK1xuICAgICAgICAodGhpcy5wcm9wcy5hY3RpdmVDbGFzc05hbWUgfHwgXCJhY3RpdmVcIilcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvbGk+XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJsb2FkZXJcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlci1zcGlubmluZy13aGVlbFwiIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCIuL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBiZXN0QW5zd2VyOiBcIjBcIixcbiAgICAgIHBvbGw6IFwiMFwiXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9sbHMgJiYgdGhpcy5zdGF0ZS5wb2xsID09PSBcIjBcIikge1xuICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgYWxsIHBvbGxzP1wiKVxuICAgICAgKVxuICAgICAgcmV0dXJuIGNvbmZpcm1hdGlvblxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLmRhdGEsIHtcbiAgICAgIGJlc3RfYW5zd2VyOiB0aGlzLnN0YXRlLmJlc3RBbnN3ZXIsXG4gICAgICBwb2xsOiB0aGlzLnN0YXRlLnBvbGxcbiAgICB9KVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgZGF0YSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MgPSBzdWNjZXNzID0+IHtcbiAgICB0aGlzLnByb3BzLm9uU3VjY2VzcyhzdWNjZXNzKVxuICAgIG1vZGFsLmhpZGUoKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHRoaXMucHJvcHMub25FcnJvcihyZWplY3Rpb24pXG4gIH1cblxuICBvbkJlc3RBbnN3ZXJDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImJlc3RBbnN3ZXJcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25Qb2xsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwb2xsXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEJlc3RBbnN3ZXJTZWxlY3RcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByb3BzLmJlc3RBbnN3ZXJzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQmVzdEFuc3dlckNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5iZXN0QW5zd2VyfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8UG9sbFNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMucG9sbHN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb2xsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvbGx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJTZWxlY3QoeyBjaG9pY2VzLCBvbkNoYW5nZSwgdmFsdWUgfSkge1xuICBpZiAoIWNob2ljZXMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUdyb3VwXG4gICAgICBsYWJlbD17Z2V0dGV4dChcIkJlc3QgYW5zd2VyXCIpfVxuICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgIFwiUGxlYXNlIHNlbGVjdCB0aGUgYmVzdCBhbnN3ZXIgZm9yIHlvdXIgbmV3bHkgbWVyZ2VkIHRocmVhZC4gTm8gcG9zdHMgd2lsbCBiZSBkZWxldGVkIGR1cmluZyB0aGUgbWVyZ2UuXCJcbiAgICAgICl9XG4gICAgICBmb3I9XCJpZF9iZXN0X2Fuc3dlclwiXG4gICAgPlxuICAgICAgPHNlbGVjdFxuICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICBpZD1cImlkX2Jlc3RfYW5zd2VyXCJcbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICA+XG4gICAgICAgIHtjaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtjaG9pY2VbMF19IGtleT17Y2hvaWNlWzBdfT5cbiAgICAgICAgICAgICAge2Nob2ljZVsxXX1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L0Zvcm1Hcm91cD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbFNlbGVjdCh7IGNob2ljZXMsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIGlmICghY2hvaWNlcykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxGb3JtR3JvdXBcbiAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbFwiKX1cbiAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICBcIlBsZWFzZSBzZWxlY3QgdGhlIHBvbGwgZm9yIHlvdXIgbmV3bHkgbWVyZ2VkIHRocmVhZC4gUmVqZWN0ZWQgcG9sbHMgd2lsbCBiZSBwZXJtYW5lbnRseSBkZWxldGVkIGFuZCBjYW5ub3QgYmUgcmVjb3ZlcmVkLlwiXG4gICAgICApfVxuICAgICAgZm9yPVwiaWRfcG9sbFwiXG4gICAgPlxuICAgICAgPHNlbGVjdFxuICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICBpZD1cImlkX3BvbGxcIlxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgID5cbiAgICAgICAge2Nob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2Nob2ljZVswXX0ga2V5PXtjaG9pY2VbMF19PlxuICAgICAgICAgICAgICB7Y2hvaWNlWzFdfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvRm9ybUdyb3VwPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBvbmVib3ggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9vbmUtYm94XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBvbmVib3gucmVuZGVyKHRoaXMuZG9jdW1lbnROb2RlKVxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLmZpbmQoXCIuc3BvaWxlci1yZXZlYWxcIikuY2xpY2socmV2ZWFsU3BvaWxlcilcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIG9uZWJveC5yZW5kZXIodGhpcy5kb2N1bWVudE5vZGUpXG4gICAgJCh0aGlzLmRvY3VtZW50Tm9kZSkuZmluZChcIi5zcG9pbGVyLXJldmVhbFwiKS5jbGljayhyZXZlYWxTcG9pbGVyKVxuICB9XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgcmV0dXJuIG5leHRQcm9wcy5tYXJrdXAgIT09IHRoaXMucHJvcHMubWFya3VwXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhcnRpY2xlXG4gICAgICAgIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRoaXMucHJvcHMubWFya3VwIH19XG4gICAgICAgIHJlZj17bm9kZSA9PiB7XG4gICAgICAgICAgdGhpcy5kb2N1bWVudE5vZGUgPSBub2RlXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiByZXZlYWxTcG9pbGVyKGV2ZW50KSB7XG4gIHZhciBidG4gPSBldmVudC50YXJnZXRcbiAgJChidG4pLnBhcmVudCgpLnBhcmVudCgpLmFkZENsYXNzKFwicmV2ZWFsZWRcIilcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtbG9hZGVyXCI+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBQYW5lbE1lc3NhZ2Uge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8IFwiaW5mb19vdXRsaW5lXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImNvbnN0IE1BWF9SRVNVTFRTID0gNVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkYXRhKSB7XG4gIGNvbnN0IGZpbHRlcmVkID0gZGF0YS5maWx0ZXIoc2VjdGlvbiA9PiB7XG4gICAgcmV0dXJuIHNlY3Rpb24ucmVzdWx0cy5jb3VudCA+IDBcbiAgfSlcblxuICByZXR1cm4gZmlsdGVyZWQubWFwKHNlY3Rpb24gPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICBjb3VudDogc2VjdGlvbi5yZXN1bHRzLmNvdW50LFxuICAgICAgcmVzdWx0czogc2VjdGlvbi5yZXN1bHRzLnJlc3VsdHMuc2xpY2UoMCwgTUFYX1JFU1VMVFMpXG4gICAgfSlcbiAgfSlcbn1cbiIsImV4cG9ydCBjb25zdCBIRUFERVIgPSBcIkhFQURFUlwiXG5leHBvcnQgY29uc3QgUkVTVUxUID0gXCJSRVNVTFRcIlxuZXhwb3J0IGNvbnN0IEZPT1RFUiA9IFwiRk9PVEVSXCJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IElucHV0IGZyb20gXCIuL2lucHV0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjaGlsZHJlbiwgb25DaGFuZ2UsIHF1ZXJ5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1zZWFyY2gtcmVzdWx0c1wiIHJvbGU9XCJtZW51XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICA8SW5wdXQgdmFsdWU9e3F1ZXJ5fSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XG4gICAgICA8L2xpPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLW1lc3NhZ2VcIj5cbiAgICAgIHtnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHJlc3VsdHMuXCIpfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCB7IEhFQURFUiwgUkVTVUxULCBGT09URVIgfSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihyZXN1bHRzKSB7XG4gIGNvbnN0IGZsYXRsaXN0ID0gW11cbiAgZmxhdHRlblByb3ZpZGVycyhyZXN1bHRzLCBmbGF0bGlzdClcbiAgcmV0dXJuIGZsYXRsaXN0XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5Qcm92aWRlcnMocmVzdWx0cywgZmxhdGxpc3QpIHtcbiAgY29uc3QgYXJyYXlMZW5ndGggPSByZXN1bHRzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHJlc3VsdHNbaV1cblxuICAgIGZsYXRsaXN0LnB1c2goe1xuICAgICAgcHJvdmlkZXIsXG4gICAgICB0eXBlOiBIRUFERVJcbiAgICB9KVxuXG4gICAgZmxhdHRlblByb3ZpZGVyKHByb3ZpZGVyLCBmbGF0bGlzdClcbiAgfVxufVxuXG5mdW5jdGlvbiBmbGF0dGVuUHJvdmlkZXIocHJvdmlkZXIsIGZsYXRsaXN0KSB7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gcHJvdmlkZXIucmVzdWx0cy5sZW5ndGhcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gcHJvdmlkZXIucmVzdWx0c1tpXVxuICAgIGZsYXRsaXN0LnB1c2goe1xuICAgICAgcHJvdmlkZXIsXG4gICAgICByZXN1bHQsXG4gICAgICB0eXBlOiBSRVNVTFRcbiAgICB9KVxuICB9XG5cbiAgZmxhdGxpc3QucHVzaCh7XG4gICAgcHJvdmlkZXIsXG4gICAgdHlwZTogRk9PVEVSXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFJFU1VMVCB9IGZyb20gXCIuL2NvbnN0YW50c1wiXG5pbXBvcnQgRHJvcGRvd25NZW51IGZyb20gXCIuL2Ryb3Bkb3duLW1lbnVcIlxuaW1wb3J0IEVtcHR5IGZyb20gXCIuL2VtcHR5XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vbG9hZGVyXCJcbmltcG9ydCBSZXN1bHQgZnJvbSBcIi4vcmVzdWx0XCJcbmltcG9ydCBmbGF0dGVuUmVzdWx0cyBmcm9tIFwiLi9mbGF0dGVuLXJlc3VsdHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzTG9hZGluZywgb25DaGFuZ2UsIHJlc3VsdHMsIHF1ZXJ5IH0pIHtcbiAgaWYgKCFxdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9IC8+XG4gIH1cblxuICBpZiAocmVzdWx0cy5sZW5ndGgpIHtcbiAgICBjb25zdCBmbGF0UmVzdWx0cyA9IGZsYXR0ZW5SZXN1bHRzKHJlc3VsdHMpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICAgIHtmbGF0UmVzdWx0cy5tYXAocHJvcHMgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvdmlkZXIsIHJlc3VsdCB9ID0gcHJvcHNcblxuICAgICAgICAgIGlmICh0eXBlID09PSBSRVNVTFQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxSZXN1bHRcbiAgICAgICAgICAgICAgICBrZXk9e1twcm92aWRlci5pZCwgdHlwZSwgcmVzdWx0LmlkXS5qb2luKFwiX1wiKX1cbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxSZXN1bHRcbiAgICAgICAgICAgICAga2V5PXtbcHJvdmlkZXIuaWQsIHR5cGVdLmpvaW4oXCJfXCIpfVxuICAgICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgIClcbiAgfSBlbHNlIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICA8RW1wdHkgLz5cbiAgICA8L0Ryb3Bkb3duTWVudT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdmFsdWUsIG9uQ2hhbmdlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1zZWFyY2gtcmVzdWx0c1wiXG4gICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoXCIpfVxuICAgICAgcm9sZT1cImNvbWJvYm94XCJcbiAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgbWVzc2FnZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwcm92aWRlciwgcXVlcnkgfSkge1xuICBjb25zdCB1cmwgPSBwcm92aWRlci51cmwgKyBcIj9xPVwiICsgZW5jb2RlVVJJKHF1ZXJ5KVxuICBjb25zdCBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICdTZWUgZnVsbCBcIiUocHJvdmlkZXIpc1wiIHJlc3VsdHMgcGFnZSB3aXRoICUoY291bnQpcyByZXN1bHQuJyxcbiAgICAnU2VlIGZ1bGwgXCIlKHByb3ZpZGVyKXNcIiByZXN1bHRzIHBhZ2Ugd2l0aCAlKGNvdW50KXMgcmVzdWx0cy4nLFxuICAgIHByb3ZpZGVyLmNvdW50XG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtZm9vdGVyXCI+XG4gICAgICA8YSBocmVmPXt1cmx9PlxuICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY291bnQ6IHByb3ZpZGVyLmNvdW50LFxuICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwcm92aWRlciB9KSB7XG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLWhlYWRlclwiPntwcm92aWRlci5uYW1lfTwvbGk+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEhFQURFUiwgRk9PVEVSIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuL2Zvb3RlclwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgUmVzdWx0IGZyb20gXCIuL3Jlc3VsdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIsIHJlc3VsdCwgdHlwZSwgcXVlcnkgfSkge1xuICBpZiAodHlwZSA9PT0gSEVBREVSKSB7XG4gICAgcmV0dXJuIDxIZWFkZXIgcHJvdmlkZXI9e3Byb3ZpZGVyfSAvPlxuICB9IGVsc2UgaWYgKHR5cGUgPT09IEZPT1RFUikge1xuICAgIHJldHVybiA8Rm9vdGVyIHByb3ZpZGVyPXtwcm92aWRlcn0gcXVlcnk9e3F1ZXJ5fSAvPlxuICB9XG5cbiAgcmV0dXJuIDxSZXN1bHQgcHJvdmlkZXI9e3Byb3ZpZGVyfSByZXN1bHQ9e3Jlc3VsdH0gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFRocmVhZCBmcm9tIFwiLi90aHJlYWRcIlxuaW1wb3J0IFVzZXIgZnJvbSBcIi4vdXNlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIsIHJlc3VsdCB9KSB7XG4gIGlmIChwcm92aWRlci5pZCA9PT0gXCJ0aHJlYWRzXCIpIHtcbiAgICByZXR1cm4gPFRocmVhZCByZXN1bHQ9e3Jlc3VsdH0gLz5cbiAgfVxuXG4gIHJldHVybiA8VXNlciByZXN1bHQ9e3Jlc3VsdH0gLz5cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByZXN1bHQgfSkge1xuICBjb25zdCB7IHBvc3RlciwgdGhyZWFkIH0gPSByZXN1bHRcbiAgY29uc3QgZm9vdGVyID0gZ2V0dGV4dChcbiAgICBcIlBvc3RlZCBieSAlKHBvc3RlcilzIG9uICUocG9zdGVkX29uKXMgaW4gJShjYXRlZ29yeSlzLlwiXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Jlc3VsdC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC10aHJlYWRcIj5cbiAgICAgICAgPGg1Pnt0aHJlYWQudGl0bGV9PC9oNT5cbiAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1wb3N0LWNvbnRlbnRcIj5cbiAgICAgICAgICB7JChyZXN1bHQuY29udGVudCkudGV4dCgpfVxuICAgICAgICA8L3NtYWxsPlxuICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXBvc3QtZm9vdGVyXCI+XG4gICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgZm9vdGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjYXRlZ29yeTogcmVzdWx0LmNhdGVnb3J5Lm5hbWUsXG4gICAgICAgICAgICAgIHBvc3RlZF9vbjogbW9tZW50KHJlc3VsdC5wb3N0ZWRfb24pLmZvcm1hdChcIkxMXCIpLFxuICAgICAgICAgICAgICBwb3N0ZXI6IHJlc3VsdC5wb3N0ZXJfbmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApfVxuICAgICAgICA8L3NtYWxsPlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmVzdWx0IH0pIHtcbiAgY29uc3QgeyByYW5rIH0gPSByZXN1bHRcblxuICBjb25zdCBkZXRhaWwgPSBnZXR0ZXh0KFwiJSh0aXRsZSlzLCBqb2luZWQgb24gJShqb2luZWRfb24pc1wiKVxuICBjb25zdCB0aXRsZSA9IHJlc3VsdC50aXRsZSB8fCByYW5rLnRpdGxlIHx8IHJhbmsubmFtZVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cmVzdWx0LnVybH0gY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXVzZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgICAgPEF2YXRhciBzaXplPXszOH0gdXNlcj17cmVzdWx0fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj57cmVzdWx0LnVzZXJuYW1lfTwvaDU+XG4gICAgICAgICAgICA8c21hbGw+XG4gICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICBkZXRhaWwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgICBqb2luZWRfb246IG1vbWVudChyZXN1bHQuam9pbmVkX29uKS5mb3JtYXQoXCJMTFwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBjbGVhblJlc3VsdHMgZnJvbSBcIi4vY2xlYW4tcmVzdWx0c1wiXG5pbXBvcnQgRHJvcGRvd24gZnJvbSBcIi4vZHJvcGRvd25cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiBcIlwiLFxuICAgICAgcmVzdWx0czogW11cbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93bilcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uRXNjYXBlKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24pXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbkVzY2FwZSlcbiAgfVxuXG4gIG9uVG9nZ2xlID0gZXYgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGlmICghcHJldlN0YXRlLmlzT3Blbikge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmZvY3VzKClcbiAgICAgICAgfSwgMTAwKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBpc09wZW46ICFwcmV2U3RhdGUuaXNPcGVuIH1cbiAgICB9KVxuICB9XG5cbiAgb25Eb2N1bWVudE1vdXNlRG93biA9IGV2ID0+IHtcbiAgICBsZXQgY2xvc2VSZXN1bHRzID0gdHJ1ZVxuICAgIGxldCBub2RlID0gZXYudGFyZ2V0XG5cbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCAmJiBub2RlICE9PSBkb2N1bWVudCkge1xuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuY29udGFpbmVyKSB7XG4gICAgICAgIGNsb3NlUmVzdWx0cyA9IGZhbHNlXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgfVxuXG4gICAgaWYgKGNsb3NlUmVzdWx0cykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSlcbiAgICB9XG4gIH1cblxuICBvbkVzY2FwZSA9IGV2ID0+IHtcbiAgICBpZiAoZXYua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IHF1ZXJ5ID0gZXYudGFyZ2V0LnZhbHVlXG5cbiAgICB0aGlzLnNldFN0YXRlKHsgcXVlcnkgfSlcbiAgICB0aGlzLmxvYWRSZXN1bHRzKHF1ZXJ5LnRyaW0oKSlcbiAgfVxuXG4gIGxvYWRSZXN1bHRzKHF1ZXJ5KSB7XG4gICAgaWYgKCFxdWVyeS5sZW5ndGgpIHJldHVyblxuXG4gICAgY29uc3QgZGVsYXkgPSAzMDAgKyBNYXRoLnJhbmRvbSgpICogMzAwXG5cbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWxJZClcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pXG5cbiAgICB0aGlzLmludGVydmFsSWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiU0VBUkNIX0FQSVwiKSwgeyBxOiBxdWVyeSB9KS50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGludGVydmFsSWQ6IG51bGwsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVzdWx0czogY2xlYW5SZXN1bHRzKGRhdGEpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGludGVydmFsSWQ6IG51bGwsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICApXG4gICAgfSwgZGVsYXkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwibmF2YmFyLXNlYXJjaCBkcm9wZG93blwiXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuKSBjbGFzc05hbWUgKz0gXCIgb3BlblwiXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgcmVmPXtjb250YWluZXIgPT4gKHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyKX1cbiAgICAgID5cbiAgICAgICAgPGFcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJuYXZiYXItaWNvblwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlNFQVJDSF9VUkxcIil9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vblRvZ2dsZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZWFyY2g8L2k+XG4gICAgICAgIDwvYT5cbiAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgaXNMb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICByZXN1bHRzPXt0aGlzLnN0YXRlLnJlc3VsdHN9XG4gICAgICAgICAgcXVlcnk9e3RoaXMuc3RhdGUucXVlcnl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQYW5lbExvYWRlciAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbikge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiWW91IHdpbGwgYmUgYWJsZSB0byBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKG5leHRfY2hhbmdlKXMuXCIpLFxuICAgICAgICB7IG5leHRfY2hhbmdlOiB0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbi5mcm9tTm93KCkgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBoYXZlIHVzZWQgdXAgYXZhaWxhYmxlIG5hbWUgY2hhbmdlcy5cIilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8UGFuZWxNZXNzYWdlXG4gICAgICAgICAgaGVscFRleHQ9e3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiWW91IGNhbid0IGNoYW5nZSB5b3VyIHVzZXJuYW1lIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcm5hbWU6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgocHJvcHMub3B0aW9ucy5sZW5ndGhfbWluKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWF4TGVuZ3RoKHByb3BzLm9wdGlvbnMubGVuZ3RoX21heClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGxldCBwaHJhc2VzID0gW11cblxuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0ID4gMCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUoY2hhbmdlc19sZWZ0KXMgbW9yZSB0aW1lLlwiLFxuICAgICAgICBcIllvdSBjYW4gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShjaGFuZ2VzX2xlZnQpcyBtb3JlIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0XG4gICAgICApXG5cbiAgICAgIHBocmFzZXMucHVzaChcbiAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2VzX2xlZnQ6IHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyBiZWNvbWUgYXZhaWxhYmxlIGFnYWluIGFmdGVyICUobmFtZV9jaGFuZ2VzX2V4cGlyZSlzIGRheS5cIixcbiAgICAgICAgXCJVc2VkIGNoYW5nZXMgYmVjb21lIGF2YWlsYWJsZSBhZ2FpbiBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXlzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmVcbiAgICAgIClcblxuICAgICAgcGhyYXNlcy5wdXNoKFxuICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWVfY2hhbmdlc19leHBpcmU6IHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIHBocmFzZXMubGVuZ3RoID8gcGhyYXNlcy5qb2luKFwiIFwiKSA6IG51bGxcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBpZiAoZXJyb3JzLnVzZXJuYW1lKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudXNlcm5hbWVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpID09PSB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIllvdXIgbmV3IHVzZXJuYW1lIGlzIHNhbWUgYXMgY3VycmVudCBvbmUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkudXNlcm5hbWUsIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXNlcm5hbWU6IFwiXCJcbiAgICB9KVxuXG4gICAgdGhpcy5wcm9wcy5jb21wbGV0ZShzdWNjZXNzLnVzZXJuYW1lLCBzdWNjZXNzLnNsdWcsIHN1Y2Nlc3Mub3B0aW9ucylcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtTG9hZGluZyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2FkaW5nXCJcbmltcG9ydCBGb3JtTG9ja2VkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybVwiXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUsIGFkZE5hbWVDaGFuZ2UgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkudXNlcm5hbWUpLFxuICAgICAgYWpheC5nZXQobWlzYWdvLmdldChcIlVTRVJOQU1FX0NIQU5HRVNfQVBJXCIpLCB7IHVzZXI6IHRoaXMucHJvcHMudXNlci5pZCB9KVxuICAgIF0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGFbMV0ucmVzdWx0cykpXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNoYW5nZXNfbGVmdDogZGF0YVswXS5jaGFuZ2VzX2xlZnQsXG4gICAgICAgICAgbGVuZ3RoX21pbjogZGF0YVswXS5sZW5ndGhfbWluLFxuICAgICAgICAgIGxlbmd0aF9tYXg6IGRhdGFbMF0ubGVuZ3RoX21heCxcbiAgICAgICAgICBuZXh0X29uOiBkYXRhWzBdLm5leHRfb24gPyBtb21lbnQoZGF0YVswXS5uZXh0X29uKSA6IG51bGxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgb25Db21wbGV0ZSA9ICh1c2VybmFtZSwgc2x1Zywgb3B0aW9ucykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3B0aW9uc1xuICAgIH0pXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIGFkZE5hbWVDaGFuZ2UoeyB1c2VybmFtZSwgc2x1ZyB9LCB0aGlzLnByb3BzLnVzZXIsIHRoaXMucHJvcHMudXNlcilcbiAgICApXG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlVXNlcm5hbWUodGhpcy5wcm9wcy51c2VyLCB1c2VybmFtZSwgc2x1ZykpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSlcbiAgfVxuXG4gIGdldENoYW5nZUZvcm0oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gPEZvcm1Mb2FkaW5nIC8+XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPT09IDApIHtcbiAgICAgIHJldHVybiA8Rm9ybUxvY2tlZCBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9IC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtXG4gICAgICAgIGNvbXBsZXRlPXt0aGlzLm9uQ29tcGxldGV9XG4gICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLmdldENoYW5nZUZvcm0oKX1cbiAgICAgICAgPFVzZXJuYW1lSGlzdG9yeVxuICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbXCJ1c2VybmFtZS1oaXN0b3J5XCJdfVxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcbiAgfVxuXG4gIG9uUGFzc3dvcmRDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBhc3N3b3JkOiBldmVudC50YXJnZXQudmFsdWUgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBjb25zdCB7IGlzTG9hZGluZywgcGFzc3dvcmQgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHVzZXIgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPT0gMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoXG4gICAgICAgIGdldHRleHQoXCJFbnRlciB5b3VyIHBhc3N3b3JkIHRvIGNvbmZpcm0gYWNjb3VudCBkZWxldGlvbi5cIilcbiAgICAgIClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpc0xvYWRpbmcpIHJldHVybiBmYWxzZVxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcblxuICAgIGFqYXgucG9zdCh1c2VyLmFwaS5kZWxldGUsIHsgcGFzc3dvcmQgfSkudGhlbihcbiAgICAgIHN1Y2Nlc3MgPT4ge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG1pc2Fnby5nZXQoXCJNSVNBR09fUEFUSFwiKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG4gICAgICAgIGlmIChyZWplY3Rpb24ucGFzc3dvcmQpIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmRbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRhbmdlciBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkRlbGV0ZSBhY2NvdW50XCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiWW91IGFyZSBnb2luZyB0byBkZWxldGUgeW91ciBhY2NvdW50LiBUaGlzIGFjdGlvbiBpcyBub25yZXZlcnNpYmxlLCBhbmQgd2lsbCByZXN1bHQgaW4gZm9sbG93aW5nIGRhdGEgYmVpbmcgZGVsZXRlZDpcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgLXtcIiBcIn1cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJTdG9yZWQgSVAgYWRkcmVzc2VzIGFzc29jaWF0ZWQgd2l0aCBjb250ZW50IHRoYXQgeW91IGhhdmUgcG9zdGVkIHdpbGwgYmUgZGVsZXRlZC5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIC17XCIgXCJ9XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiWW91ciB1c2VybmFtZSB3aWxsIGJlY29tZSBhdmFpbGFibGUgZm9yIG90aGVyIHVzZXIgdG8gcmVuYW1lIHRvIG9yIGZvciBuZXcgdXNlciB0byByZWdpc3RlciB0aGVpciBhY2NvdW50IHdpdGguXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAte1wiIFwifVxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIllvdXIgZS1tYWlsIHdpbGwgYmVjb21lIGF2YWlsYWJsZSBmb3IgdXNlIGluIG5ldyBhY2NvdW50IHJlZ2lzdHJhdGlvbi5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiQWxsIHlvdXIgcG9zdGVkIGNvbnRlbnQgd2lsbCBOT1QgYmUgZGVsZXRlZCwgYnV0IHVzZXJuYW1lIGFzc29jaWF0ZWQgd2l0aCBpdCB3aWxsIGJlIGNoYW5nZWQgdG8gb25lIHNoYXJlZCBieSBhbGwgZGVsZXRlZCBhY2NvdW50cy5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG5hbWU9XCJwYXNzd29yZC1jb25maXJtYXRpb25cIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICBcIkVudGVyIHlvdXIgcGFzc3dvcmQgdG8gY29uZmlybSBhY2NvdW50IGRlbGV0aW9uLlwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBhc3N3b3JkQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cC1idG5cIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZSBteSBhY2NvdW50XCIpfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3dubG9hZERhdGEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc1N1Ym1pdGluZzogZmFsc2UsXG4gICAgICBkb3dubG9hZHM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRG93bmxvYWQgeW91ciBkYXRhXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG5cbiAgICB0aGlzLmhhbmRsZUxvYWREb3dubG9hZHMoKVxuICB9XG5cbiAgaGFuZGxlTG9hZERvd25sb2FkcyA9ICgpID0+IHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLmRhdGFfZG93bmxvYWRzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZG93bmxvYWRzOiBkYXRhXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGhhbmRsZVJlcXVlc3REYXRhRG93bmxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzU3VibWl0aW5nOiB0cnVlIH0pXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkucmVxdWVzdF9kYXRhX2Rvd25sb2FkKS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUxvYWREb3dubG9hZHMoKVxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKFxuICAgICAgICAgIGdldHRleHQoXCJZb3VyIHJlcXVlc3QgZm9yIGRhdGEgZG93bmxvYWQgaGFzIGJlZW4gcmVnaXN0ZXJlZC5cIilcbiAgICAgICAgKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IGZhbHNlIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKVxuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGluZzogZmFsc2UgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkRvd25sb2FkIHlvdXIgZGF0YVwiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICdUbyBkb3dubG9hZCB5b3VyIGRhdGEgZnJvbSB0aGUgc2l0ZSwgY2xpY2sgdGhlIFwiUmVxdWVzdCBkYXRhIGRvd25sb2FkXCIgYnV0dG9uLiBEZXBlbmRpbmcgb24gYW1vdW50IG9mIGRhdGEgdG8gYmUgYXJjaGl2ZWQgYW5kIG51bWJlciBvZiB1c2VycyB3YW50aW5nIHRvIGRvd25sb2FkIHRoZWlyIGRhdGEgYXQgc2FtZSB0aW1lIGl0IG1heSB0YWtlIHVwIHRvIGZldyBkYXlzIGZvciB5b3VyIGRvd25sb2FkIHRvIGJlIHByZXBhcmVkLiBBbiBlLW1haWwgd2l0aCBub3RpZmljYXRpb24gd2lsbCBiZSBzZW50IHRvIHlvdSB3aGVuIHlvdXIgZGF0YSBpcyByZWFkeSB0byBiZSBkb3dubG9hZGVkLidcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiVGhlIGRvd25sb2FkIHdpbGwgb25seSBiZSBhdmFpbGFibGUgZm9yIGxpbWl0ZWQgYW1vdW50IG9mIHRpbWUsIGFmdGVyIHdoaWNoIGl0IHdpbGwgYmUgZGVsZXRlZCBmcm9tIHRoZSBzaXRlIGFuZCBtYXJrZWQgYXMgZXhwaXJlZC5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoPntnZXR0ZXh0KFwiUmVxdWVzdGVkIG9uXCIpfTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cImNvbC1tZC00XCI+e2dldHRleHQoXCJEb3dubG9hZFwiKX08L3RoPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZG93bmxvYWRzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPHRyIGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17cm93U3R5bGV9PlxuICAgICAgICAgICAgICAgICAgICAgIHttb21lbnQoaXRlbS5yZXF1ZXN0ZWRfb24pLmZyb21Ob3coKX1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0RmlsZT17aXRlbS5maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXtpdGVtLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kb3dubG9hZHMubGVuZ3RoID09IDAgPyAoXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRkIGNvbFNwYW49XCIyXCI+e2dldHRleHQoXCJZb3UgaGF2ZSBubyBkYXRhIGRvd25sb2Fkcy5cIil9PC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlciB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc1N1Ym1pdGluZ31cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVxdWVzdERhdGFEb3dubG9hZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGRhdGEgZG93bmxvYWRcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuY29uc3Qgcm93U3R5bGUgPSB7XG4gIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCJcbn1cblxuY29uc3QgU1RBVFVTX1BFTkRJTkcgPSAwXG5jb25zdCBTVEFUVVNfUFJPQ0VTU0lORyA9IDFcblxuY29uc3QgRG93bmxvYWRCdXR0b24gPSAoeyBleHBvcnRGaWxlLCBzdGF0dXMgfSkgPT4ge1xuICBpZiAoc3RhdHVzID09PSBTVEFUVVNfUEVORElORyB8fCBzdGF0dXMgPT09IFNUQVRVU19QUk9DRVNTSU5HKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWluZm8gYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJEb3dubG9hZCBpcyBiZWluZyBwcmVwYXJlZFwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGlmIChleHBvcnRGaWxlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4tc20gYnRuLWJsb2NrXCIgaHJlZj17ZXhwb3J0RmlsZX0+XG4gICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgeW91ciBkYXRhXCIpfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgaXMgZXhwaXJlZFwiKX1cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkVkaXQgZGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuICB9XG5cbiAgb25TdWNjZXNzID0gKCkgPT4ge1xuICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIllvdXIgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZC5cIikpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtIGFwaT17dGhpcy5wcm9wcy51c2VyLmFwaS5lZGl0X2RldGFpbHN9IG9uU3VjY2Vzcz17dGhpcy5vblN1Y2Nlc3N9IC8+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlbGVjdFwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL2F1dGhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogcHJvcHMudXNlci5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzpcbiAgICAgICAgcHJvcHMudXNlci5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIHRoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJoZWxwX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJFdmVyeWJvZHlcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcImRvbmVfYWxsXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiVXNlcnMgSSBmb2xsb3dcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcImhpZ2hsaWdodF9vZmZcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb2JvZHlcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLnN1YnNjcmliZVRvQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwic3Rhcl9ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwic3Rhcl9oYWxmXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm90aWZ5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJzdGFyXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm90aWZ5IHdpdGggZS1tYWlsXCIpXG4gICAgICB9XG4gICAgXVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkub3B0aW9ucywge1xuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlXG4gICAgICAgIC5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcGF0Y2goe1xuICAgICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHRoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZVxuICAgICAgICAgIC5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcbiAgICAgIH0pXG4gICAgKVxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgZm9ydW0gb3B0aW9ucyBoYXZlIGJlZW4gY2hhbmdlZC5cIikpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiUGxlYXNlIHJlbG9hZCBwYWdlIGFuZCB0cnkgYWdhaW4uXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRm9ydW0gb3B0aW9uc1wiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZm9ydW0gb3B0aW9uc1wiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiUHJpdmFjeSBzZXR0aW5nc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlXCIpfVxuICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgXCJJZiB5b3UgaGlkZSB5b3VyIHByZXNlbmNlLCBvbmx5IG1lbWJlcnMgd2l0aCBwZXJtaXNzaW9uIHRvIHNlZSBoaWRkZW4gdXNlcnMgd2lsbCBzZWUgd2hlbiB5b3UgYXJlIG9ubGluZS5cIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2UgZnJvbSBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiU2hvdyBteSBwcmVzZW5jZSB0byBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2hpZGluZ19wcmVzZW5jZVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQcml2YXRlIHRocmVhZCBpbnZpdGF0aW9uc1wiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG99XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIkF1dG9tYXRpYyBzdWJzY3JpcHRpb25zXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSBzdGFydFwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3Vic2NyaWJlVG9DaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSByZXBseSB0b1wiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3Vic2NyaWJlVG9DaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBMaSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbGlcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIFNpZGVOYXYocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgIHtwcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57b3B0aW9uLmljb259PC9zcGFuPlxuICAgICAgICAgICAge29wdGlvbi5uYW1lfVxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3ROYXYocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWxcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIn1cbiAgICAgIHJvbGU9XCJtZW51XCJcbiAgICA+XG4gICAgICB7cHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlcbiAgICAgICAgICAgIHBhdGg9e3Byb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICBrZXk9e29wdGlvbi5jb21wb25lbnR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGVOYXZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gaGlkZGVuLXNtXCI+e29wdGlvbi5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAge29wdGlvbi5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDwvTGk+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgeyBTaWRlTmF2LCBDb21wYWN0TmF2IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvbmF2c1wiXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9kZWxldGUtYWNjb3VudFwiXG5pbXBvcnQgRWRpdERldGFpbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZWRpdC1kZXRhaWxzXCJcbmltcG9ydCBEb3dubG9hZERhdGEgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZG93bmxvYWQtZGF0YVwiXG5pbXBvcnQgQ2hhbmdlRm9ydW1PcHRpb25zIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2ZvcnVtLW9wdGlvbnNcIlxuaW1wb3J0IENoYW5nZVVzZXJuYW1lIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290XCJcbmltcG9ydCBDaGFuZ2VTaWduSW5DcmVkZW50aWFscyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3RcIlxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93blwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utb3B0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKX08L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyB2aXNpYmxlLXhzLWJsb2NrIHZpc2libGUtc20tYmxvY2tcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8Q29tcGFjdE5hdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiXG4gICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKX1cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e21pc2Fnby5nZXQoXCJVU0VSX09QVElPTlNcIil9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgICA8U2lkZU5hdlxuICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e21pc2Fnby5nZXQoXCJVU0VSX09QVElPTlNcIil9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgXCJ1c2VybmFtZS1oaXN0b3J5XCI6IHN0b3JlW1widXNlcm5hbWUtaGlzdG9yeVwiXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgY29uc3QgU1NPX0VOQUJMRUQgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZW5hYmxlX3Nzb1xuXG4gIGNvbnN0IHBhdGhzID0gW1xuICAgIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJmb3J1bS1vcHRpb25zL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlRm9ydW1PcHRpb25zKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImVkaXQtZGV0YWlscy9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKEVkaXREZXRhaWxzKVxuICAgIH1cbiAgXVxuXG4gIGlmICghU1NPX0VOQUJMRUQpIHtcbiAgICBwYXRocy5wdXNoKHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJjaGFuZ2UtdXNlcm5hbWUvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VVc2VybmFtZSlcbiAgICB9KVxuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcInNpZ24taW4tY3JlZGVudGlhbHMvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VTaWduSW5DcmVkZW50aWFscylcbiAgICB9KVxuICB9XG5cbiAgaWYgKG1pc2Fnby5nZXQoXCJFTkFCTEVfRE9XTkxPQURfT1dOX0RBVEFcIikpIHtcbiAgICBwYXRocy5wdXNoKHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJkb3dubG9hZC1kYXRhL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRG93bmxvYWREYXRhKVxuICAgIH0pXG4gIH1cblxuICBpZiAoIVNTT19FTkFCTEVEICYmIG1pc2Fnby5nZXQoXCJFTkFCTEVfREVMRVRFX09XTl9BQ0NPVU5UXCIpKSB7XG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiZGVsZXRlLWFjY291bnQvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShEZWxldGVBY2NvdW50KVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gcGF0aHNcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuY29uc3QgVW51c2FibGVQYXNzd29yZE1lc3NhZ2UgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBlbWFpbCBvciBwYXNzd29yZFwiKX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IG5lZWQgdG8gc2V0IGEgcGFzc3dvcmQgZm9yIHlvdXIgYWNjb3VudCB0byBiZSBhYmxlIHRvIGNoYW5nZSB5b3VyIHVzZXJuYW1lIG9yIGVtYWlsLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiRk9SR09UVEVOX1BBU1NXT1JEX1VSTFwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTZXQgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVudXNhYmxlUGFzc3dvcmRNZXNzYWdlXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV3X2VtYWlsOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X2VtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF1cblxuICAgIGlmIChsZW5ndGhzLmluZGV4T2YoMCkgIT09IC0xKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYWxsIGZpZWxkcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19lbWFpbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19lbWFpbFswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5jaGFuZ2VfZW1haWwsIHtcbiAgICAgIG5ld19lbWFpbDogdGhpcy5zdGF0ZS5uZXdfZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfZW1haWw6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIlxuICAgIH0pXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X2VtYWlsKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfZW1haWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsIGFkZHJlc3NcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgZS1tYWlsXCIpfSBmb3I9XCJpZF9uZXdfZW1haWxcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfbmV3X2VtYWlsXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJuZXdfZW1haWxcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X2VtYWlsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF9jb25maXJtX2VtYWlsXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NvbmZpcm1fZW1haWxcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGUtbWFpbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBuZXdfcGFzc3dvcmQ6IFtdLFxuICAgICAgICByZXBlYXRfcGFzc3dvcmQ6IFtdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLm5ld19wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF1cblxuICAgIGlmIChsZW5ndGhzLmluZGV4T2YoMCkgIT09IC0xKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYWxsIGZpZWxkcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19wYXNzd29yZCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19wYXNzd29yZFswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLm5ld19wYXNzd29yZCAhPT0gdGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmQpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJOZXcgcGFzc3dvcmRzIGFyZSBkaWZmZXJlbnQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmNoYW5nZV9wYXNzd29yZCwge1xuICAgICAgbmV3X3Bhc3N3b3JkOiB0aGlzLnN0YXRlLm5ld19wYXNzd29yZCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19wYXNzd29yZDogXCJcIixcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19wYXNzd29yZClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBwYXNzd29yZFwiKX0gZm9yPVwiaWRfbmV3X3Bhc3N3b3JkXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9uZXdfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIm5ld19wYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlJlcGVhdCBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfcmVwZWF0X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX3JlcGVhdF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicmVwZWF0X3Bhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY29uZmlybV9wYXNzd29yZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9jb25maXJtX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENoYW5nZUVtYWlsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLWVtYWlsXCJcbmltcG9ydCBDaGFuZ2VQYXNzd29yZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1wYXNzd29yZFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgVW51c2FibGVQYXNzd29yZE1lc3NhZ2UgZnJvbSBcIi4vVW51c2FibGVQYXNzd29yZE1lc3NhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkNoYW5nZSBlbWFpbCBvciBwYXNzd29yZFwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy51c2VyLmhhc191c2FibGVfcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiA8VW51c2FibGVQYXNzd29yZE1lc3NhZ2UgLz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPENoYW5nZUVtYWlsIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICAgICAgPENoYW5nZVBhc3N3b3JkIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cblxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWxpbmVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+d2FybmluZzwvc3Bhbj5cbiAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiRk9SR09UVEVOX1BBU1NXT1JEX1VSTFwiKX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBmb3Jnb3R0ZW4gcGFzc3dvcmRcIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHN0cmluZ0NvdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvc3RyaW5nLWNvdW50XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHN0cmluZ0NvdW50KHRoaXMucHJvcHMuY29weSwgXCI8cFwiKSA9PT0gMSAmJlxuICAgICAgICB0aGlzLnByb3BzLmNvcHkuaW5kZXhPZihcIjxiclwiKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gXCJwYWdlLWxlYWQgbGVhZFwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwicGFnZS1sZWFkXCJcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jb3B5XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWxvYWRpbmdcIj5cbiAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJsb2FkZXIgbG9hZGVyLXNwYWNlZFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8IFwiaW5mb19vdXRsaW5lXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFkZFBhcnRpY2lwYW50TW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2FkZC1wYXJ0aWNpcGFudFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxBZGRQYXJ0aWNpcGFudE1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hZGRfcGFydGljaXBhbnRzKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS0zXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGVyc29uX2FkZDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwYXJ0aWNpcGFudFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgeyB1cGRhdGVBY2wgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGxlYXZlKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheFxuICAgIC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlbW92ZVwiLCBwYXRoOiBcInBhcnRpY2lwYW50c1wiLCB2YWx1ZTogcGFydGljaXBhbnQuaWQgfVxuICAgIF0pXG4gICAgLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdSBoYXZlIGxlZnQgdGhpcyB0aHJlYWQuXCIpKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gbWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19VUkxcIilcbiAgICAgICAgfSwgMyAqIDEwMDApXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSh0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZW1vdmVcIiwgcGF0aDogXCJwYXJ0aWNpcGFudHNcIiwgdmFsdWU6IHBhcnRpY2lwYW50LmlkIH0sXG4gICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogMSB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcblxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0dGV4dChcIiUodXNlcilzIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGlzIHRocmVhZC5cIilcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcbiAgICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHVzZXI6IHBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VPd25lcih0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwib3duZXJcIiwgdmFsdWU6IHBhcnRpY2lwYW50LmlkIH0sXG4gICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogMSB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcblxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0dGV4dChcIiUodXNlcilzIGhhcyBiZWVuIG1hZGUgbmV3IHRocmVhZCBvd25lci5cIilcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcbiAgICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHVzZXI6IHBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNYWtlT3duZXIgZnJvbSBcIi4vbWFrZS1vd25lclwiXG5pbXBvcnQgUmVtb3ZlIGZyb20gXCIuL3JlbW92ZVwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBwYXJ0aWNpcGFudCA9IHByb3BzLnBhcnRpY2lwYW50XG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgaWYgKHBhcnRpY2lwYW50LmlzX293bmVyKSB7XG4gICAgY2xhc3NOYW1lID0gXCJidG4gYnRuLXByaW1hcnlcIlxuICB9XG4gIGNsYXNzTmFtZSArPSBcIiBidG4tdXNlciBidG4tYmxvY2tcIlxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTMgY29sLW1kLTIgcGFydGljaXBhbnQtY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIzNFwiIHVzZXI9e3BhcnRpY2lwYW50fSAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+e3BhcnRpY2lwYW50LnVzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgICAgIDxVc2VyU3RhdHVzIGlzT3duZXI9e3BhcnRpY2lwYW50LmlzX293bmVyfSAvPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIiAvPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxhIGhyZWY9e3BhcnRpY2lwYW50LnVybH0+e2dldHRleHQoXCJTZWUgcHJvZmlsZVwiKX08L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgcm9sZT1cInNlcGFyYXRvclwiIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICAgIDxNYWtlT3duZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxSZW1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJTdGF0dXMoeyBpc093bmVyIH0pIHtcbiAgaWYgKCFpc093bmVyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlciBkcm9wZG93bi1oZWFkZXItb3duZXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFydDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tdGV4dFwiPntnZXR0ZXh0KFwiVGhyZWFkIG93bmVyXCIpfTwvc3Bhbj5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBhcnRpY2lwYW50cywgdGhyZWFkLCB1c2VyLCB1c2VySXNPd25lciB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudHMtY2FyZHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtwYXJ0aWNpcGFudHMubWFwKHBhcnRpY2lwYW50ID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENhcmRcbiAgICAgICAgICAgICAga2V5PXtwYXJ0aWNpcGFudC5pZH1cbiAgICAgICAgICAgICAgcGFydGljaXBhbnQ9e3BhcnRpY2lwYW50fVxuICAgICAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgdXNlcklzT3duZXI9e3VzZXJJc093bmVyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY2hhbmdlT3duZXIgfSBmcm9tIFwiLi9hY3Rpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5pc1VzZXIgPSBwcm9wcy5wYXJ0aWNpcGFudC5pZCA9PT0gcHJvcHMudXNlci5pZFxuICB9XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29uZmlybWVkID0gZmFsc2VcbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gdGFrZSBvdmVyIHRoaXMgdGhyZWFkP1wiKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2hhbmdlIHRocmVhZCBvd25lciB0byAlKHVzZXIpcz9cIlxuICAgICAgKVxuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB0aGlzLnByb3BzLnBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuXG5cbiAgICBjaGFuZ2VPd25lcih0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5pc19vd25lcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2hhbmdlX293bmVyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1ha2Ugb3duZXJcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgcmVtb3ZlLCBsZWF2ZSB9IGZyb20gXCIuL2FjdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkXG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzVXNlcikge1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGlzIHRocmVhZD9cIilcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXG4gICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSAlKHVzZXIpcyBmcm9tIHRoaXMgdGhyZWFkP1wiXG4gICAgICApXG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXI6IHRoaXMucHJvcHMucGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICghY29uZmlybWVkKSByZXR1cm5cblxuICAgIGlmICh0aGlzLmlzVXNlcikge1xuICAgICAgbGVhdmUodGhpcy5wcm9wcy50aHJlYWQsIHRoaXMucHJvcHMucGFydGljaXBhbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNNb2RlcmF0b3IgPSB0aGlzLnByb3BzLnVzZXIuYWNsLmNhbl9tb2RlcmF0ZV9wcml2YXRlX3RocmVhZHNcblxuICAgIGlmICghKHRoaXMucHJvcHMudXNlcklzT3duZXIgfHwgdGhpcy5pc1VzZXIgfHwgaXNNb2RlcmF0b3IpKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7dGhpcy5pc1VzZXIgPyBnZXR0ZXh0KFwiTGVhdmUgdGhyZWFkXCIpIDogZ2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWRkUGFydGljaXBhbnQgZnJvbSBcIi4vYWRkLXBhcnRpY2lwYW50XCJcbmltcG9ydCBDYXJkc0xpc3QgZnJvbSBcIi4vY2FyZHMtbGlzdFwiXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMucGFydGljaXBhbnRzLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wYXJ0aWNpcGFudHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8Q2FyZHNMaXN0XG4gICAgICAgICAgdXNlcklzT3duZXI9e2dldFVzZXJJc093bmVyKHByb3BzLnVzZXIsIHByb3BzLnBhcnRpY2lwYW50cyl9XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxBZGRQYXJ0aWNpcGFudCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tOVwiPlxuICAgICAgICAgICAgPHA+e3V0aWxzLmdldFBhcnRpY2lwYW50c0NvcHkocHJvcHMucGFydGljaXBhbnRzKX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJc093bmVyKHVzZXIsIHBhcnRpY2lwYW50cykge1xuICByZXR1cm4gcGFydGljaXBhbnRzWzBdLmlkID09PSB1c2VyLmlkXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzQ29weShwYXJ0aWNpcGFudHMpIHtcbiAgY29uc3QgY291bnQgPSBwYXJ0aWNpcGFudHMubGVuZ3RoXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIlRoaXMgdGhyZWFkIGhhcyAlKHVzZXJzKXMgcGFydGljaXBhbnQuXCIsXG4gICAgXCJUaGlzIHRocmVhZCBoYXMgJSh1c2VycylzIHBhcnRpY2lwYW50cy5cIixcbiAgICBjb3VudFxuICApXG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdXNlcnM6IGNvdW50XG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHp4Y3ZibiBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3p4Y3ZiblwiXG5cbmV4cG9ydCBjb25zdCBTVFlMRVMgPSBbXG4gIFwicHJvZ3Jlc3MtYmFyLWRhbmdlclwiLFxuICBcInByb2dyZXNzLWJhci13YXJuaW5nXCIsXG4gIFwicHJvZ3Jlc3MtYmFyLXdhcm5pbmdcIixcbiAgXCJwcm9ncmVzcy1iYXItcHJpbWFyeVwiLFxuICBcInByb2dyZXNzLWJhci1zdWNjZXNzXCJcbl1cblxuZXhwb3J0IGNvbnN0IExBQkVMUyA9IFtcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgdmVyeSB3ZWFrLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgd2Vhay5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIGF2ZXJhZ2UuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyBzdHJvbmcuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB2ZXJ5IHN0cm9uZy5cIilcbl1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5fc2NvcmUgPSAwXG4gICAgdGhpcy5fcGFzc3dvcmQgPSBudWxsXG4gICAgdGhpcy5faW5wdXRzID0gW11cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgenhjdmJuLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkZWQ6IHRydWUgfSlcbiAgICB9KVxuICB9XG5cbiAgZ2V0U2NvcmUocGFzc3dvcmQsIGlucHV0cykge1xuICAgIGxldCBjYWNoZVN0YWxlID0gZmFsc2VcblxuICAgIGlmIChwYXNzd29yZCAhPT0gdGhpcy5fcGFzc3dvcmQpIHtcbiAgICAgIGNhY2hlU3RhbGUgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGlucHV0cy5sZW5ndGggIT09IHRoaXMuX2lucHV0cy5sZW5ndGgpIHtcbiAgICAgIGNhY2hlU3RhbGUgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0cy5tYXAoKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS50cmltKCkgIT09IHRoaXMuX2lucHV0c1tpXSkge1xuICAgICAgICAgIGNhY2hlU3RhbGUgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGNhY2hlU3RhbGUpIHtcbiAgICAgIHRoaXMuX3Njb3JlID0genhjdmJuLnNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cylcbiAgICAgIHRoaXMuX3Bhc3N3b3JkID0gcGFzc3dvcmRcbiAgICAgIHRoaXMuX2lucHV0cyA9IGlucHV0cy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc2NvcmVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubG9hZGVkKSByZXR1cm4gbnVsbFxuXG4gICAgbGV0IHNjb3JlID0gdGhpcy5nZXRTY29yZSh0aGlzLnByb3BzLnBhc3N3b3JkLCB0aGlzLnByb3BzLmlucHV0cylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgcGFzc3dvcmQtc3RyZW5ndGhcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17XCJwcm9ncmVzcy1iYXIgXCIgKyBTVFlMRVNbc2NvcmVdfVxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IDIwICsgMjAgKiBzY29yZSArIFwiJVwiIH19XG4gICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVub3c9e3Njb3JlfVxuICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj57TEFCRUxTW3Njb3JlXX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtYWxsXCI+e0xBQkVMU1tzY29yZV19PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkFkZCA9ICgpID0+IHtcbiAgICBsZXQgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5zbGljZSgpXG4gICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgIGhhc2g6IGdlbmVyYXRlUmFuZG9tSGFzaCgpLFxuICAgICAgbGFiZWw6IFwiXCJcbiAgICB9KVxuXG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpXG4gIH1cblxuICBvbkNoYW5nZSA9IChoYXNoLCBsYWJlbCkgPT4ge1xuICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICBpZiAoY2hvaWNlLmhhc2ggPT09IGhhc2gpIHtcbiAgICAgICAgY2hvaWNlLmxhYmVsID0gbGFiZWxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNob2ljZVxuICAgIH0pXG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpXG4gIH1cblxuICBvbkRlbGV0ZSA9IGhhc2ggPT4ge1xuICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMuZmlsdGVyKGNob2ljZSA9PiB7XG4gICAgICByZXR1cm4gY2hvaWNlLmhhc2ggIT09IGhhc2hcbiAgICB9KVxuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtY2hvaWNlcy1jb250cm9sXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxQb2xsQ2hvaWNlXG4gICAgICAgICAgICAgICAgY2FuRGVsZXRlPXt0aGlzLnByb3BzLmNob2ljZXMubGVuZ3RoID4gMn1cbiAgICAgICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uRGVsZXRlPXt0aGlzLm9uRGVsZXRlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkFkZH1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIGNob2ljZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvbGxDaG9pY2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMuY2hvaWNlLmhhc2gsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uRGVsZXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjaG9pY2U/XCIpXG4gICAgKVxuICAgIGlmIChkZWxldGVJdGVtKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRGVsZXRlKHRoaXMucHJvcHMuY2hvaWNlLmhhc2gpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG5cIlxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5wcm9wcy5jYW5EZWxldGUgfHwgdGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRGVsZXRlfVxuICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiRGVsZXRlIHRoaXMgY2hvaWNlXCIpfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsb3NlPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgbWF4TGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcImNob2ljZSBsYWJlbFwiKX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAvPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSGFzaCgpIHtcbiAgbGV0IHJhbmRvbUhhc2ggPSBcIlwiXG4gIHdoaWxlIChyYW5kb21IYXNoLmxlbmd0aCAhPSAxMikge1xuICAgIHJhbmRvbUhhc2ggPSBNYXRoLnJhbmRvbSgpXG4gICAgICAudG9TdHJpbmcoMzYpXG4gICAgICAucmVwbGFjZSgvW15hLXpBLVowLTldKy9nLCBcIlwiKVxuICAgICAgLnN1YnN0cigxLCAxMilcbiAgfVxuICByZXR1cm4gcmFuZG9tSGFzaFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hvaWNlc0NvbnRyb2wgZnJvbSBcIi4vY2hvaWNlcy1jb250cm9sXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHBvbGwgPSBwcm9wcy5wb2xsIHx8IHtcbiAgICAgIHF1ZXN0aW9uOiBcIlwiLFxuICAgICAgY2hvaWNlczogW1xuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogXCJjaG9pY2UtMTAwMDBcIixcbiAgICAgICAgICBsYWJlbDogXCJcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogXCJjaG9pY2UtMjAwMDBcIixcbiAgICAgICAgICBsYWJlbDogXCJcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbGVuZ3RoOiAwLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiAxLFxuICAgICAgYWxsb3dfcmV2b3RlczogMCxcbiAgICAgIGlzX3B1YmxpYzogMFxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFZGl0OiAhIXBvbGwucXVlc3Rpb24sXG5cbiAgICAgIHF1ZXN0aW9uOiBwb2xsLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogcG9sbC5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiBwb2xsLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogcG9sbC5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiBwb2xsLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHBvbGwuaXNfcHVibGljLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHF1ZXN0aW9uOiBbXSxcbiAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgIGxlbmd0aDogW10sXG4gICAgICAgIGFsbG93ZWRfY2hvaWNlczogW11cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBzZXRDaG9pY2VzID0gY2hvaWNlcyA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgZXJyb3JzLCB7IGNob2ljZXM6IG51bGwgfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hvaWNlcyxcbiAgICAgIGVycm9yc1xuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCBwb2xsP1wiKSlcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBxdWVzdGlvbjogdGhpcy5zdGF0ZS5xdWVzdGlvbixcbiAgICAgIGNob2ljZXM6IHRoaXMuc3RhdGUuY2hvaWNlcyxcbiAgICAgIGxlbmd0aDogdGhpcy5zdGF0ZS5sZW5ndGgsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IHRoaXMuc3RhdGUuYWxsb3dlZF9jaG9pY2VzLFxuICAgICAgYWxsb3dfcmV2b3RlczogdGhpcy5zdGF0ZS5hbGxvd19yZXZvdGVzLFxuICAgICAgaXNfcHVibGljOiB0aGlzLnN0YXRlLmlzX3B1YmxpY1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdCkge1xuICAgICAgcmV0dXJuIGFqYXgucHV0KHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgsIGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsIGRhdGEpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEpKVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0KSB7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb2xsIGhhcyBiZWVuIGVkaXRlZC5cIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gcG9zdGVkLlwiKSlcbiAgICB9XG5cbiAgICBwb3N0aW5nLmNsb3NlKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycykge1xuICAgICAgICByZWplY3Rpb24uYWxsb3dlZF9jaG9pY2VzID0gcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnNcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgcmVqZWN0aW9uKVxuICAgICAgfSlcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlF1ZXN0aW9uIGFuZCBjaG9pY2VzXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbCBxdWVzdGlvblwiKX1cbiAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfcXVlc3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcXVlc3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJxdWVzdGlvblwiKX1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5xdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQXZhaWxhYmxlIGNob2ljZXNcIil9XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNob2ljZXN9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDaG9pY2VzQ29udHJvbFxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2hvaWNlcz17dGhpcy5zZXRDaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cblxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJWb3RpbmdcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQb2xsIGxlbmd0aFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIkVudGVyIG51bWJlciBvZiBkYXlzIGZvciB3aGljaCB2b3RpbmcgaW4gdGhpcyBwb2xsIHNob3VsZCBiZSBwb3NzaWJsZSBvciB6ZXJvIHRvIHJ1biB0aGlzIHBvbGwgaW5kZWZpbml0ZWx5LlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfbGVuZ3RoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2xlbmd0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImxlbmd0aFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkFsbG93ZWQgY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2FsbG93ZWRfY2hvaWNlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5hbGxvd2VkX2Nob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9hbGxvd2VkX2Nob2ljZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJhbGxvd2VkX2Nob2ljZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYWxsb3dlZF9jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPFBvbGxQdWJsaWNTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICBiaW5kSW5wdXQ9e3RoaXMuYmluZElucHV0fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBpc0VkaXQ9e3RoaXMuc3RhdGUuaXNFZGl0fVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX3B1YmxpY31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkFsbG93IHZvdGUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2FsbG93X3Jldm90ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93X3Jldm90ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Pbj1cImNoZWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkFsbG93IHBhcnRpY2lwYW50cyB0byBjaGFuZ2UgdGhlaXIgdm90ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRG9uJ3QgYWxsb3cgcGFydGljaXBhbnRzIHRvIGNoYW5nZSB0aGVpciB2b3RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiYWxsb3dfcmV2b3Rlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYWxsb3dfcmV2b3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNFZGl0XG4gICAgICAgICAgICAgICAgICAgID8gZ2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKVxuICAgICAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJQb3N0IHBvbGxcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbFB1YmxpY1N3aXRjaChwcm9wcykge1xuICBpZiAocHJvcHMuaXNFZGl0KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e2dldHRleHQoXCJNYWtlIHZvdGluZyBwdWJsaWNcIil9XG4gICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgIFwiTWFraW5nIHZvdGluZyBwdWJsaWMgd2lsbCBhbGxvdyBldmVyeW9uZSB0byBhY2Nlc3MgZGV0YWlsZWQgbGlzdCBvZiB2b3Rlcywgc2hvd2luZyB3aGljaCB1c2VycyB2b3RlZCBmb3Igd2hpY2ggY2hvaWNlcyBhbmQgYXQgd2hpY2ggdGltZXMuIFRoaXMgb3B0aW9uIGNhbid0IGJlIGNoYW5nZWQgYWZ0ZXIgcG9sbCdzIGNyZWF0aW9uLiBNb2RlcmF0b3JzIG1heSBzZWUgdm90aW5nIGRldGFpbHMgZm9yIGFsbCBwb2xscy5cIlxuICAgICAgICApfVxuICAgICAgICBmb3I9XCJpZF9pc19wdWJsaWNcIlxuICAgICAgPlxuICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICBpZD1cImlkX2lzX3B1YmxpY1wiXG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGljb25Pbj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgIGljb25PZmY9XCJ2aXNpYmlsaXR5X29mZlwiXG4gICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIlZvdGVzIGFyZSBwdWJsaWNcIil9XG4gICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJWb3RlcyBhcmUgaGlkZGVuXCIpfVxuICAgICAgICAgIG9uQ2hhbmdlPXtwcm9wcy5iaW5kSW5wdXQoXCJpc19wdWJsaWNcIil9XG4gICAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBQb2xsIGZyb20gXCIuL3BvbGxcIlxuaW1wb3J0IFBvbGxGb3JtIGZyb20gXCIuL2Zvcm1cIlxuXG5leHBvcnQgeyBQb2xsIH1cbmV4cG9ydCB7IFBvbGxGb3JtIH1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1kZXRhaWxzXCI+XG4gICAgICA8UG9sbFZvdGVzIHZvdGVzPXtwcm9wcy5wb2xsLnZvdGVzfSAvPlxuICAgICAgPFBvbGxMZW5ndGggcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsSXNQdWJsaWMgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsQ3JlYXRpb24gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQ3JlYXRpb24ocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIlBvc3RlZCBieSAlKHBvc3RlcilzICUocG9zdGVkX29uKXMuXCIpKSxcbiAgICB7XG4gICAgICBwb3N0ZXI6IGdldFBvc3Rlcihwcm9wcy5wb2xsKSxcbiAgICAgIHBvc3RlZF9vbjogZ2V0UG9zdGVkT24ocHJvcHMucG9sbClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJwb2xsLWluZm8tY3JlYXRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVyKHBvbGwpIHtcbiAgaWYgKHBvbGwudXJsLnBvc3Rlcikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocG9sbC51cmwucG9zdGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwb2xsLnBvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgVVNFUl9TUEFOLFxuICAgIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVkT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwb2xsLnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxMZW5ndGgocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiVm90aW5nIGVuZHMgJShlbmRzX29uKXMuXCIpKSxcbiAgICB7XG4gICAgICBlbmRzX29uOiBnZXRFbmRzT24ocHJvcHMucG9sbClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJwb2xsLWluZm8tZW5kcy1vblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmRzT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwb2xsLmVuZHNPbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxWb3Rlcyhwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHZvdGVzKXMgdm90ZS5cIiwgXCIlKHZvdGVzKXMgdm90ZXMuXCIsIHByb3BzLnZvdGVzKVxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdm90ZXM6IHByb3BzLnZvdGVzXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby12b3Rlc1wiPntsYWJlbH08L2xpPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbElzUHVibGljKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9sbC5pc19wdWJsaWMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwb2xsLWluZm8tcHVibGljXCI+e2dldHRleHQoXCJWb3RlcyBhcmUgcHVibGljLlwiKX08L2xpPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlc3VsdHMgZnJvbSBcIi4vcmVzdWx0c1wiXG5pbXBvcnQgVm90aW5nIGZyb20gXCIuL3ZvdGluZ1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGxldCBzaG93UmVzdWx0cyA9IHRydWVcbiAgICBpZiAocHJvcHMudXNlci5pZCAmJiAhcHJvcHMucG9sbC5oYXNTZWxlY3RlZENob2ljZXMpIHtcbiAgICAgIHNob3dSZXN1bHRzID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1Jlc3VsdHNcbiAgICB9XG4gIH1cblxuICBzaG93UmVzdWx0cyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHNob3dWb3RpbmcgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UmVzdWx0czogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQucG9sbCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IGlzUG9sbE92ZXIgPSBnZXRJc1BvbGxPdmVyKHRoaXMucHJvcHMucG9sbClcblxuICAgIGlmIChcbiAgICAgICFpc1BvbGxPdmVyICYmXG4gICAgICB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlICYmXG4gICAgICAhdGhpcy5zdGF0ZS5zaG93UmVzdWx0c1xuICAgICkge1xuICAgICAgcmV0dXJuIDxWb3Rpbmcgc2hvd1Jlc3VsdHM9e3RoaXMuc2hvd1Jlc3VsdHN9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVzdWx0c1xuICAgICAgICAgIGlzUG9sbE92ZXI9e2lzUG9sbE92ZXJ9XG4gICAgICAgICAgc2hvd1ZvdGluZz17dGhpcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNQb2xsT3Zlcihwb2xsKSB7XG4gIGlmIChwb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBtb21lbnQoKS5pc0FmdGVyKHBvbGwuZW5kc09uKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWNob2ljZXMtYmFyc1wiPlxuICAgICAge3Byb3BzLnBvbGwuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9sbENob2ljZSBjaG9pY2U9e2Nob2ljZX0ga2V5PXtjaG9pY2UuaGFzaH0gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2UocHJvcHMpIHtcbiAgbGV0IHByb2MgPSAwXG4gIGlmIChwcm9wcy5jaG9pY2Uudm90ZXMgJiYgcHJvcHMucG9sbC52b3Rlcykge1xuICAgIHByb2MgPSBNYXRoLmNlaWwoKHByb3BzLmNob2ljZS52b3RlcyAqIDEwMCkgLyBwcm9wcy5wb2xsLnZvdGVzKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGwgY2xhc3NOYW1lPVwiZGwtaG9yaXpvbnRhbFwiPlxuICAgICAgPGR0Pntwcm9wcy5jaG9pY2UubGFiZWx9PC9kdD5cbiAgICAgIDxkZD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17cHJvY31cbiAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCIxMDBcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHByb2MgKyBcIiVcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAge2dldFZvdGVzTGFiZWwocHJvcHMudm90ZXMsIHByb3BzLnByb2MpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1jaGFydFwiPlxuICAgICAgICAgIDxDaG9pY2VWb3RlcyBwcm9jPXtwcm9jfSB2b3Rlcz17cHJvcHMuY2hvaWNlLnZvdGVzfSAvPlxuICAgICAgICAgIDxVc2VyQ2hvaWNlIHNlbGVjdGVkPXtwcm9wcy5jaG9pY2Uuc2VsZWN0ZWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2RkPlxuICAgIDwvZGw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZVZvdGVzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtdm90ZXNcIj5cbiAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWb3Rlc0xhYmVsKHZvdGVzLCBwcm9jKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodm90ZXMpcyB2b3RlLCAlKHByb2MpcyUgb2YgdG90YWwuXCIsXG4gICAgXCIlKHZvdGVzKXMgdm90ZXMsICUocHJvYylzJSBvZiB0b3RhbC5cIixcbiAgICB2b3Rlc1xuICApXG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdm90ZXM6IHZvdGVzLFxuICAgICAgcHJvYzogcHJvY1xuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyQ2hvaWNlKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2VsZWN0ZWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1jaGFydC1zZWxlY3RlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiWW91ciBjaG9pY2UuXCIpfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENoYXJ0IGZyb20gXCIuL2NoYXJ0XCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL29wdGlvbnNcIlxuaW1wb3J0IFBvbGxJbmZvIGZyb20gXCIuLi9pbmZvXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9sbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxoMj57cHJvcHMucG9sbC5xdWVzdGlvbn08L2gyPlxuICAgICAgICA8UG9sbEluZm8gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgICAgPENoYXJ0IHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgaXNQb2xsT3Zlcj17cHJvcHMuaXNQb2xsT3Zlcn1cbiAgICAgICAgICBwb2xsPXtwcm9wcy5wb2xsfVxuICAgICAgICAgIHNob3dWb3Rpbmc9e3Byb3BzLnNob3dWb3Rpbmd9XG4gICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGRhdGE6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wb2xsLmFwaS52b3RlcykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBjb25zdCBoeWRyYXRlZERhdGEgPSBkYXRhLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgICAgIHZvdGVyczogY2hvaWNlLnZvdGVycy5tYXAodm90ZXIgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdm90ZXIsIHtcbiAgICAgICAgICAgICAgICB2b3RlZF9vbjogbW9tZW50KHZvdGVyLnZvdGVkX29uKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZGF0YTogaHlkcmF0ZWREYXRhXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgIFwibW9kYWwtZGlhbG9nXCIgKyAodGhpcy5zdGF0ZS5lcnJvciA/IFwiIG1vZGFsLW1lc3NhZ2VcIiA6IFwiIG1vZGFsLXNtXCIpXG4gICAgICAgIH1cbiAgICAgICAgcm9sZT1cImRvY3VtZW50XCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUG9sbCB2b3Rlc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE1vZGFsQm9keVxuICAgICAgICAgICAgZGF0YT17dGhpcy5zdGF0ZS5kYXRhfVxuICAgICAgICAgICAgZXJyb3I9e3RoaXMuc3RhdGUuZXJyb3J9XG4gICAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEJvZHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGluZykge1xuICAgIHJldHVybiA8TG9hZGVyIC8+XG4gIH0gZWxzZSBpZiAocHJvcHMuZXJyb3IpIHtcbiAgICByZXR1cm4gPE1lc3NhZ2UgaWNvbj1cImVycm9yX291dGxpbmVcIiBtZXNzYWdlPXtwcm9wcy5lcnJvcn0gLz5cbiAgfVxuXG4gIHJldHVybiA8Q2hvaWNlc0xpc3QgZGF0YT17cHJvcHMuZGF0YX0gLz5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZXNMaXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLXBvbGwtdm90ZXNcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIHZvdGVzLWRldGFpbHNcIj5cbiAgICAgICAge3Byb3BzLmRhdGEubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxDaG9pY2VEZXRhaWxzIGtleT17Y2hvaWNlLmhhc2h9IHsuLi5jaG9pY2V9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlRGV0YWlscyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoND57cHJvcHMubGFiZWx9PC9oND5cbiAgICAgIDxWb3Rlc0NvdW50IHZvdGVzPXtwcm9wcy52b3Rlc30gLz5cbiAgICAgIDxWb3Rlc0xpc3Qgdm90ZXJzPXtwcm9wcy52b3RlcnN9IC8+XG4gICAgICA8aHIgLz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlc0NvdW50KHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodm90ZXMpcyB1c2VyIGhhcyB2b3RlZCBmb3IgdGhpcyBjaG9pY2UuXCIsXG4gICAgXCIlKHZvdGVzKXMgdXNlcnMgaGF2ZSB2b3RlZCBmb3IgdGhpcyBjaG9pY2UuXCIsXG4gICAgcHJvcHMudm90ZXNcbiAgKVxuXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB2b3RlczogcHJvcHMudm90ZXNcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8cD57bGFiZWx9PC9wPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXNMaXN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudm90ZXJzLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICB7cHJvcHMudm90ZXJzLm1hcCh1c2VyID0+IHtcbiAgICAgICAgcmV0dXJuIDxWb3RlciBrZXk9e3VzZXIudXNlcm5hbWV9IHsuLi51c2VyfSAvPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwcm9wcy51cmx9PlxuICAgICAgICAgIHtwcm9wcy51c2VybmFtZX1cbiAgICAgICAgPC9hPntcIiBcIn1cbiAgICAgICAgPFZvdGVEYXRlIHZvdGVkX29uPXtwcm9wcy52b3RlZF9vbn0gLz5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8c3Ryb25nPntwcm9wcy51c2VybmFtZX08L3N0cm9uZz4gPFZvdGVEYXRlIHZvdGVkX29uPXtwcm9wcy52b3RlZF9vbn0gLz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3RlRGF0ZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhYmJyIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIiB0aXRsZT17cHJvcHMudm90ZWRfb24uZm9ybWF0KFwiTExMXCIpfT5cbiAgICAgIHtwcm9wcy52b3RlZF9vbi5mcm9tTm93KCl9XG4gICAgPC9hYmJyPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNb2RhbCBmcm9tIFwiLi9tb2RhbFwiXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHsgaXNQb2xsT3ZlciwgcG9sbCwgc2hvd1ZvdGluZywgdGhyZWFkIH0gPSBwcm9wc1xuXG4gIGlmICghaXNWaXNpYmxlKGlzUG9sbE92ZXIsIHBvbGwuYWNsLCBwb2xsKSkgcmV0dXJuIG51bGxcblxuICBjb25zdCBjb250cm9scyA9IFtdXG5cbiAgY29uc3QgY2FuVm90ZSA9IHBvbGwuYWNsLmNhbl92b3RlXG4gIGNvbnN0IGNhbkNoYW5nZVZvdGUgPSAhcG9sbC5oYXNTZWxlY3RlZENob2ljZXMgfHwgcG9sbC5hbGxvd19yZXZvdGVzXG5cbiAgaWYgKGNhblZvdGUgJiYgY2FuQ2hhbmdlVm90ZSkgY29udHJvbHMucHVzaCgwKVxuICBpZiAocG9sbC5pc19wdWJsaWMgfHwgcG9sbC5hY2wuY2FuX3NlZV92b3RlcykgY29udHJvbHMucHVzaCgxKVxuICBpZiAocG9sbC5hY2wuY2FuX2VkaXQpIGNvbnRyb2xzLnB1c2goMilcbiAgaWYgKHBvbGwuYWNsLmNhbl9kZWxldGUpIGNvbnRyb2xzLnB1c2goMylcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHBvbGwtb3B0aW9uc1wiPlxuICAgICAgPENoYW5nZVZvdGVcbiAgICAgICAgY29udHJvbHM9e2NvbnRyb2xzfVxuICAgICAgICBpc1BvbGxPdmVyPXtpc1BvbGxPdmVyfVxuICAgICAgICBwb2xsPXtwb2xsfVxuICAgICAgICBzaG93Vm90aW5nPXtzaG93Vm90aW5nfVxuICAgICAgLz5cbiAgICAgIDxTZWVWb3RlcyBjb250cm9scz17Y29udHJvbHN9IHBvbGw9e3BvbGx9IC8+XG4gICAgICA8RWRpdCBjb250cm9scz17Y29udHJvbHN9IHBvbGw9e3BvbGx9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPERlbGV0ZSBjb250cm9scz17Y29udHJvbHN9IHBvbGw9e3BvbGx9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShpc1BvbGxPdmVyLCBhY2wsIHBvbGwpIHtcbiAgcmV0dXJuIChcbiAgICBwb2xsLmlzX3B1YmxpYyB8fFxuICAgIGFjbC5jYW5fZGVsZXRlIHx8XG4gICAgYWNsLmNhbl9lZGl0IHx8XG4gICAgYWNsLmNhbl9zZWVfdm90ZXMgfHxcbiAgICAoYWNsLmNhbl92b3RlICYmXG4gICAgICAhaXNQb2xsT3ZlciAmJlxuICAgICAgKCFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXMpKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWUoY29udHJvbHMsIGNvbnRyb2wpIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiY29sLXhzLTZcIlxuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSBcImNvbC14cy0xMlwiXG4gIH1cblxuICBpZiAoY29udHJvbHMubGVuZ3RoID09PSAzICYmIGNvbnRyb2xzWzBdID09PSBjb250cm9sKSB7XG4gICAgY2xhc3NOYW1lID0gXCJjb2wteHMtMTJcIlxuICB9XG5cbiAgcmV0dXJuIGNsYXNzTmFtZSArIFwiIGNvbC1zbS0zIGNvbC1tZC0yXCJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZVZvdGUocHJvcHMpIHtcbiAgY29uc3QgY2FuVm90ZSA9IHByb3BzLnBvbGwuYWNsLmNhbl92b3RlXG4gIGNvbnN0IGNhbkNoYW5nZVZvdGUgPVxuICAgICFwcm9wcy5wb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwcm9wcy5wb2xsLmFsbG93X3Jldm90ZXNcblxuICBpZiAoIShjYW5Wb3RlICYmIGNhbkNoYW5nZVZvdGUpKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZShwcm9wcy5jb250cm9scywgMCl9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgb25DbGljaz17cHJvcHMuc2hvd1ZvdGluZ31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVm90ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBTZWVWb3RlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TW9kYWwgcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWVWb3RlcyA9XG4gICAgICB0aGlzLnByb3BzLnBvbGwuaXNfcHVibGljIHx8IHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3NlZV92b3Rlc1xuICAgIGlmICghc2VlVm90ZXMpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAxKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTZWUgdm90ZXNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvbGwuYXBpLmluZGV4LFxuXG4gICAgICB0aHJlYWQ6IHRoaXMucHJvcHMudGhyZWFkLFxuICAgICAgcG9sbDogdGhpcy5wcm9wcy5wb2xsLFxuXG4gICAgICBtb2RlOiBcIlBPTExcIlxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9lZGl0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMil9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVsZXRlUG9sbCA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwb2xsPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIlxuICAgICAgKVxuICAgIClcbiAgICBpZiAoIWRlbGV0ZVBvbGwpIHJldHVybiBmYWxzZVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5idXN5KCkpXG5cbiAgICBhamF4XG4gICAgICAuZGVsZXRlKHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgpXG4gICAgICAudGhlbih0aGlzLmhhbmRsZVN1Y2Nlc3MsIHRoaXMuaGFuZGxlRXJyb3IpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gbmV3VGhyZWFkQWNsID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwiUG9sbCBoYXMgYmVlbiBkZWxldGVkXCIpXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZW1vdmUoKSlcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlQWNsKG5ld1RocmVhZEFjbCkpXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVsZWFzZSgpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMyl9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLWhlbHBcIj5cbiAgICAgIDxQb2xsQ2hvaWNlc0xlZnQgY2hvaWNlc0xlZnQ9e3Byb3BzLmNob2ljZXNMZWZ0fSAvPlxuICAgICAgPFBvbGxBbGxvd1Jldm90ZSBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2VzTGVmdCh7IGNob2ljZXNMZWZ0IH0pIHtcbiAgaWYgKGNob2ljZXNMZWZ0ID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtY2hvaWNlcy1sZWZ0XCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IHNlbGVjdCBhbnkgbW9yZSBjaG9pY2VzLlwiKX1cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiWW91IGNhbiBzZWxlY3QgJShjaG9pY2VzKXMgbW9yZSBjaG9pY2UuXCIsXG4gICAgXCJZb3UgY2FuIHNlbGVjdCAlKGNob2ljZXMpcyBtb3JlIGNob2ljZXMuXCIsXG4gICAgY2hvaWNlc0xlZnRcbiAgKVxuXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICBjaG9pY2VzOiBjaG9pY2VzTGVmdFxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtY2hvaWNlcy1sZWZ0XCI+e2xhYmVsfTwvbGk+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQWxsb3dSZXZvdGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvbGwuYWxsb3dfcmV2b3Rlcykge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLWFsbG93LXJldm90ZXNcIj5cbiAgICAgICAge2dldHRleHQoXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHZvdGUgbGF0ZXIuXCIpfVxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1uby1yZXZvdGVzXCI+e2dldHRleHQoXCJWb3RlcyBhcmUgZmluYWwuXCIpfTwvbGk+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaG9pY2VzSGVscCBmcm9tIFwiLi9oZWxwXCJcbmltcG9ydCBDaG9pY2VzU2VsZWN0IGZyb20gXCIuL3NlbGVjdFwiXG5pbXBvcnQgeyBnZXRDaG9pY2VzTGVmdCwgZ2V0Q2hvaWNlRnJvbUhhc2ggfSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQgUG9sbEluZm8gZnJvbSBcIi4uL2luZm9cIlxuaW1wb3J0IHsgRGVsZXRlLCBFZGl0LCBnZXRDbGFzc05hbWUgfSBmcm9tIFwiLi4vcmVzdWx0cy9vcHRpb25zXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGNob2ljZXM6IHByb3BzLnBvbGwuY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdChwcm9wcy5wb2xsLCBwcm9wcy5wb2xsLmNob2ljZXMpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlQ2hvaWNlID0gaGFzaCA9PiB7XG4gICAgY29uc3QgY2hvaWNlID0gZ2V0Q2hvaWNlRnJvbUhhc2godGhpcy5zdGF0ZS5jaG9pY2VzLCBoYXNoKVxuXG4gICAgbGV0IGNob2ljZXMgPSBudWxsXG4gICAgaWYgKCFjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIGNob2ljZXMgPSB0aGlzLnNlbGVjdENob2ljZShjaG9pY2UsIGhhc2gpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNob2ljZXMgPSB0aGlzLmRlc2VsZWN0Q2hvaWNlKGNob2ljZSwgaGFzaClcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob2ljZXMsXG4gICAgICBjaG9pY2VzTGVmdDogZ2V0Q2hvaWNlc0xlZnQodGhpcy5wcm9wcy5wb2xsLCBjaG9pY2VzKVxuICAgIH0pXG4gIH1cblxuICBzZWxlY3RDaG9pY2UgPSAoY2hvaWNlLCBoYXNoKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlc0xlZnQgPSBnZXRDaG9pY2VzTGVmdCh0aGlzLnByb3BzLnBvbGwsIHRoaXMuc3RhdGUuY2hvaWNlcylcblxuICAgIGlmICghY2hvaWNlc0xlZnQpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldXG4gICAgICAgIGlmIChpdGVtLnNlbGVjdGVkICYmIGl0ZW0uaGFzaCAhPSBoYXNoKSB7XG4gICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PSBoYXNoID8gdHJ1ZSA6IGNob2ljZS5zZWxlY3RlZFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgZGVzZWxlY3RDaG9pY2UgPSAoY2hvaWNlLCBoYXNoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNob2ljZS5oYXNoID09IGhhc2ggPyBmYWxzZSA6IGNob2ljZS5zZWxlY3RlZFxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2hvaWNlc0xlZnQgPT09IHRoaXMucHJvcHMucG9sbC5hbGxvd2VkX2Nob2ljZXMpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgbmVlZCB0byBzZWxlY3QgYXQgbGVhc3Qgb25lIGNob2ljZVwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIGxldCBkYXRhID0gW11cbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZS5jaG9pY2VzLnNsaWNlKCkpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnN0YXRlLmNob2ljZXNbaV1cbiAgICAgIGlmIChpdGVtLnNlbGVjdGVkKSB7XG4gICAgICAgIGRhdGEucHVzaChpdGVtLmhhc2gpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvbGwuYXBpLnZvdGVzLCBkYXRhKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEpKVxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdm90ZSBoYXMgYmVlbiBzYXZlZC5cIikpXG5cbiAgICB0aGlzLnByb3BzLnNob3dSZXN1bHRzKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXVxuXG4gICAgaWYgKHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3ZvdGUpIGNvbnRyb2xzLnB1c2goMClcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmlzX3B1YmxpYyB8fCB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9zZWVfdm90ZXMpXG4gICAgICBjb250cm9scy5wdXNoKDEpXG4gICAgaWYgKHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2VkaXQpIGNvbnRyb2xzLnB1c2goMilcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSBjb250cm9scy5wdXNoKDMpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxoMj57dGhpcy5wcm9wcy5wb2xsLnF1ZXN0aW9ufTwvaDI+XG4gICAgICAgICAgICA8UG9sbEluZm8gcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPlxuICAgICAgICAgICAgPENob2ljZXNTZWxlY3RcbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jaG9pY2VzfVxuICAgICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3RoaXMudG9nZ2xlQ2hvaWNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxDaG9pY2VzSGVscFxuICAgICAgICAgICAgICBjaG9pY2VzTGVmdD17dGhpcy5zdGF0ZS5jaG9pY2VzTGVmdH1cbiAgICAgICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZShjb250cm9scywgMCl9PlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIHlvdXIgdm90ZVwiKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY29udHJvbHMsIDEpfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dSZXN1bHRzfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTZWUgcmVzdWx0c1wiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxFZGl0XG4gICAgICAgICAgICAgICAgY29udHJvbHM9e2NvbnRyb2xzfVxuICAgICAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8RGVsZXRlIGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgcG9sbC1zZWxlY3QtY2hvaWNlc1wiPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENob2ljZVNlbGVjdFxuICAgICAgICAgICAgY2hvaWNlPXtjaG9pY2V9XG4gICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgdG9nZ2xlQ2hvaWNlPXtwcm9wcy50b2dnbGVDaG9pY2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgQ2hvaWNlU2VsZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUNob2ljZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1zZWxlY3QtY2hvaWNlXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gXCJidG4gYnRuLXNlbGVjdGVkXCIgOiBcImJ0blwifVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZS5zZWxlY3RlZFxuICAgICAgICAgICAgICA/IFwiY2hlY2tfYm94XCJcbiAgICAgICAgICAgICAgOiBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfTwvc3Ryb25nPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q2hvaWNlRnJvbUhhc2goY2hvaWNlcywgaGFzaCkge1xuICBmb3IgKGNvbnN0IGkgaW4gY2hvaWNlcykge1xuICAgIGNvbnN0IGNob2ljZSA9IGNob2ljZXNbaV1cbiAgICBpZiAoY2hvaWNlLmhhc2ggPT09IGhhc2gpIHtcbiAgICAgIHJldHVybiBjaG9pY2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2hvaWNlc0xlZnQocG9sbCwgY2hvaWNlcykge1xuICBsZXQgc2VsZWN0aW9uID0gW11cbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldXG4gICAgaWYgKGNob2ljZS5zZWxlY3RlZCkge1xuICAgICAgc2VsZWN0aW9uLnB1c2goY2hvaWNlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwb2xsLmFsbG93ZWRfY2hvaWNlcyAtIHNlbGVjdGlvbi5sZW5ndGhcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBwb3N0LWNoYW5nZWxvZy1kaWZmXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICB7cHJvcHMuZGlmZi5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPERpZmZJdGVtIGl0ZW09e2l0ZW19IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEaWZmSXRlbShwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbVswXSA9PT0gXCI/XCIpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtnZXRJdGVtQ2xhc3NOYW1lKHByb3BzLml0ZW0pfT57Y2xlYW5JdGVtKHByb3BzLml0ZW0pfTwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEl0ZW1DbGFzc05hbWUoaXRlbSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJkaWZmLWl0ZW1cIlxuICBpZiAoaXRlbVswXSA9PT0gXCItXCIpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgZGlmZi1pdGVtLXN1YlwiXG4gIH0gZWxzZSBpZiAoaXRlbVswXSA9PT0gXCIrXCIpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgZGlmZi1pdGVtLWFkZFwiXG4gIH1cbiAgcmV0dXJuIGNsYXNzTmFtZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5JdGVtKGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0uc3Vic3RyKDIpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJldmVydEVkaXQodGhpcy5wcm9wcy5lZGl0LmlkKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5jYW5SZXZlcnQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXIgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUmV2ZXJ0IHBvc3QgdG8gc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0LlwiKX1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmV2ZXJ0XCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRGlmZiBmcm9tIFwiLi9kaWZmXCJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4vZm9vdGVyXCJcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL3Rvb2xiYXJcIlxuaW1wb3J0IHsgaHlkcmF0ZUVkaXQgfSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuXG4gICAgICBjYW5SZXZlcnQ6IHByb3BzLnBvc3QuYWNsLmNhbl9lZGl0LFxuXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGVkaXQ6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmdvVG9FZGl0KClcbiAgfVxuXG4gIGdvVG9FZGl0ID0gKGVkaXQgPSBudWxsKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgbGV0IHVybCA9IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdHNcbiAgICBpZiAoZWRpdCAhPT0gbnVsbCkge1xuICAgICAgdXJsICs9IFwiP2VkaXQ9XCIgKyBlZGl0XG4gICAgfVxuXG4gICAgYWpheC5nZXQodXJsKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgICBlZGl0OiBoeWRyYXRlRWRpdChkYXRhKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJldmVydEVkaXQgPSBlZGl0ID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kpIHJldHVyblxuXG4gICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3aXRoIHRvIHJldmVydCB0aGlzIHBvc3QgdG8gdGhlIHN0YXRlIGZyb20gYmVmb3JlIHRoaXMgZWRpdD9cIlxuICAgICAgKVxuICAgIClcbiAgICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCB1cmwgPSB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRzICsgXCI/ZWRpdD1cIiArIGVkaXRcbiAgICBhamF4LnBvc3QodXJsKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGh5ZHJhdGVkUG9zdCA9IHBvc3QuaHlkcmF0ZShkYXRhKVxuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGRhdGEsIGh5ZHJhdGVkUG9zdCkpXG5cbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9zdCBoYXMgYmVlbiByZXZlcnRlZCB0byBwcmV2aW91cyBzdGF0ZS5cIikpXG4gICAgICAgIG1vZGFsLmhpZGUoKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICBnb1RvRWRpdD17dGhpcy5nb1RvRWRpdH1cbiAgICAgICAgICAgIHJldmVydEVkaXQ9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEaWZmIGRpZmY9e3RoaXMuc3RhdGUuZWRpdC5kaWZmfSAvPlxuICAgICAgICAgIDxGb290ZXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsRGlhbG9nPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L01vZGFsRGlhbG9nPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxEaWFsb2cocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibW9kYWwtZGlhbG9nXCJ9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlBvc3QgZWRpdHMgaGlzdG9yeVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdvTGFzdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmdvVG9FZGl0KClcbiAgfVxuXG4gIGdvRm9yd2FyZCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmdvVG9FZGl0KHRoaXMucHJvcHMuZWRpdC5uZXh0KVxuICB9XG5cbiAgZ29CYWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQodGhpcy5wcm9wcy5lZGl0LnByZXZpb3VzKVxuICB9XG5cbiAgcmV2ZXJ0RWRpdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJldmVydEVkaXQodGhpcy5wcm9wcy5lZGl0LmlkKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLXRvb2xiYXIgcG9zdC1jaGFuZ2Vsb2ctdG9vbGJhclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvQmFja0J0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0ZvcndhcmRCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0ZvcndhcmR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29MYXN0QnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29MYXN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTUgeHMtbWFyZ2luLXRvcC1oYWxmIHBvc3QtY2hhbmdlLWxhYmVsXCI+XG4gICAgICAgICAgICA8TGFiZWwgZWRpdD17dGhpcy5wcm9wcy5lZGl0fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxSZXZlcnRCdG5cbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5wcm9wcy5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29CYWNrQnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1zbVwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQucHJldmlvdXN9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJTZWUgcHJldmlvdXMgY2hhbmdlXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvRm9yd2FyZEJ0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0Lm5leHR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJTZWUgbmV4dCBjaGFuZ2VcIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvTGFzdEJ0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0Lm5leHR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJTZWUgcHJldmlvdXMgY2hhbmdlXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJldmVydEJ0bihwcm9wcykge1xuICBpZiAoIXByb3BzLmNhblJldmVydCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgaGlkZGVuLXhzXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUmV2ZXJ0IHBvc3QgdG8gc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0LlwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZXZlcnRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5lZGl0LnVybC5lZGl0b3IpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQudXJsLmVkaXRvciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRvcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShlZGl0ZWRfYnkpcyAlKGVkaXRlZF9vbilzLlwiKSksXG4gICAge1xuICAgICAgZWRpdGVkX2J5OiB1c2VyLFxuICAgICAgZWRpdGVkX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUVkaXQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIGVkaXRlZF9vbjogbW9tZW50KGpzb24uZWRpdGVkX29uKVxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUG9zdCBmcm9tIFwiLi9wb3N0XCJcbmltcG9ydCBQcmV2aWV3IGZyb20gXCIuL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzUmVhZHksIHBvc3RzLCBwb3N0ZXIgfSkge1xuICBpZiAoIWlzUmVhZHkpIHtcbiAgICByZXR1cm4gPFByZXZpZXcgLz5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgcG9zdC1mZWVkIHVpLXJlYWR5XCI+XG4gICAgICB7cG9zdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gPFBvc3Qga2V5PXtwb3N0LmlkfSBwb3N0PXtwb3N0fSBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxJbnZhbGlkIHsuLi5wcm9wc30gLz5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICA8TWlzYWdvTWFya3VwIG1hcmt1cD17cHJvcHMucG9zdC5jb250ZW50fSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWludmFsaWRcIj5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX1cbiAgICAgIDwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgY29uc3QgeyBjYXRlZ29yeSwgdGhyZWFkIH0gPSBwb3N0XG5cbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBwb3N0ZWRfb246IHBvc3QucG9zdGVkX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGl0ZW0tdGl0bGVcIiBocmVmPXt0aHJlYWQudXJsfT5cbiAgICAgICAge3RocmVhZC50aXRsZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0LWNhdGVnb3J5XCIgaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT5cbiAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICA8L2E+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwb3N0LnVybC5pbmRleH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3RlZC1vblwiXG4gICAgICAgIHRpdGxlPXt0b29sdGlwfVxuICAgICAgPlxuICAgICAgICB7cG9zdC5wb3N0ZWRfb24uZnJvbU5vdygpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCb2R5IGZyb20gXCIuL2JvZHlcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFBvc3RTaWRlIGZyb20gXCIuL3Bvc3Qtc2lkZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgY29uc3QgdXNlciA9IHBvc3RlciB8fCBwb3N0LnBvc3RlclxuXG4gIGxldCBjbGFzc05hbWUgPSBcInBvc3RcIlxuICBpZiAodXNlciAmJiB1c2VyLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHBvc3QtXCIgKyB1c2VyLnJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaWQ9e1wicG9zdC1cIiArIHBvc3QuaWR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgPFBvc3RTaWRlIHBvc3Q9e3Bvc3R9IHBvc3Rlcj17dXNlcn0gLz5cbiAgICAgICAgICA8SGVhZGVyIHBvc3Q9e3Bvc3R9IC8+XG4gICAgICAgICAgPEJvZHkgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgR29Ub0J1dHRvbiBmcm9tIFwiLi9idXR0b25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1hbm9ueW1vdXNcIj5cbiAgICAgIDxHb1RvQnV0dG9uIHBvc3Q9e3Bvc3R9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17NTB9IC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e3Bvc3QucG9zdGVyX25hbWV9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgdXNlci10aXRsZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlZCB1c2VyXCIpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIHB1bGwtcmlnaHRcIiBocmVmPXtwb3N0LnVybC5pbmRleH0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dC1sZWZ0IGhpZGRlbi14c1wiPntnZXR0ZXh0KFwiU2VlIHBvc3RcIil9PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBbm9ueW1vdXMgZnJvbSBcIi4vYW5vbnltb3VzXCJcbmltcG9ydCBSZWdpc3RlcmVkIGZyb20gXCIuL3JlZ2lzdGVyZWRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHBvc3RlciB9KSB7XG4gIGlmIChwb3N0ZXIuaWQpIHtcbiAgICByZXR1cm4gPFJlZ2lzdGVyZWQgcG9zdD17cG9zdH0gcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gIH1cblxuICByZXR1cm4gPEFub255bW91cyBwb3N0PXtwb3N0fSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEdvVG9CdXR0b24gZnJvbSBcIi4vYnV0dG9uXCJcbmltcG9ydCBVc2VyVGl0bGUgZnJvbSBcIi4vdXNlci10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtcmVnaXN0ZXJlZFwiPlxuICAgICAgPEdvVG9CdXR0b24gcG9zdD17cG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGEgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXs1MH0gdXNlcj17cG9zdGVyfSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Bvc3Rlci51cmx9PlxuICAgICAgICAgICAgICB7cG9zdGVyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxVc2VyVGl0bGUgdGl0bGU9e3Bvc3Rlci50aXRsZX0gcmFuaz17cG9zdGVyLnJhbmt9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJhbmssIHRpdGxlIH0pIHtcbiAgbGV0IHVzZXJUaXRsZSA9IHRpdGxlIHx8IHJhbmsudGl0bGUgfHwgcmFuay5uYW1lXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidXNlci10aXRsZVwiXG4gIGlmIChyYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiB1c2VyLXRpdGxlLVwiICsgcmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIGlmIChyYW5rLmlzX3RhYikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17cmFuay51cmx9PlxuICAgICAgICB7dXNlclRpdGxlfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+e3VzZXJUaXRsZX08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCBwb3N0LWZlZWQgdWktcHJldmlld1wiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezUwfSAvPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgdXNlci10aXRsZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBsaWtlczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnBvc3QuYXBpLmxpa2VzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgICAgbGlrZXM6IGRhdGEubWFwKGh5ZHJhdGVMaWtlKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUubGlrZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLXNtXCIgbGlrZXM9e3RoaXMuc3RhdGUubGlrZXN9PlxuICAgICAgICAgICAgPExpa2VzTGlzdCBsaWtlcz17dGhpcy5zdGF0ZS5saWtlc30gLz5cbiAgICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2UgbWVzc2FnZT17Z2V0dGV4dChcIk5vIHVzZXJzIGhhdmUgbGlrZWQgdGhpcyBwb3N0LlwiKX0gLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLXNtXCI+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTGlrZShkYXRhKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgbGlrZWRfb246IG1vbWVudChkYXRhLmxpa2VkX29uKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxEaWFsb2coeyBjbGFzc05hbWUsIGNoaWxkcmVuLCBsaWtlcyB9KSB7XG4gIGxldCB0aXRsZSA9IGdldHRleHQoXCJQb3N0IExpa2VzXCIpXG4gIGlmIChsaWtlcykge1xuICAgIGNvbnN0IGxpa2VzQ291bnQgPSBsaWtlcy5sZW5ndGhcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKGxpa2VzKXMgbGlrZVwiLCBcIiUobGlrZXMpcyBsaWtlc1wiLCBsaWtlc0NvdW50KVxuXG4gICAgdGl0bGUgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IGxpa2VzOiBsaWtlc0NvdW50IH0sIHRydWUpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtcIm1vZGFsLWRpYWxvZyBcIiArIChjbGFzc05hbWUgfHwgXCJcIil9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57dGl0bGV9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlc0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtcG9zdC1saWtlcnNcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJtZWRpYS1saXN0XCI+XG4gICAgICAgIHtwcm9wcy5saWtlcy5tYXAobGlrZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxMaWtlRGV0YWlscyBrZXk9e2xpa2UuaWR9IHsuLi5saWtlfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VEZXRhaWxzKHByb3BzKSB7XG4gIGlmIChwcm9wcy51cmwpIHtcbiAgICBjb25zdCB1c2VyID0ge1xuICAgICAgaWQ6IHByb3BzLmxpa2VyX2lkLFxuICAgICAgYXZhdGFyczogcHJvcHMuYXZhdGFyc1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGEgY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIiBocmVmPXtwcm9wcy51cmx9PlxuICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwcm9wcy51cmx9PlxuICAgICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICAgIDwvYT57XCIgXCJ9XG4gICAgICAgICAgPExpa2VEYXRlIGxpa2VkT249e3Byb3BzLmxpa2VkX29ufSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPHN0cm9uZz57cHJvcHMudXNlcm5hbWV9PC9zdHJvbmc+IDxMaWtlRGF0ZSBsaWtlZE9uPXtwcm9wcy5saWtlZF9vbn0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIHRpdGxlPXtwcm9wcy5saWtlZE9uLmZvcm1hdChcIkxMTFwiKX0+XG4gICAgICB7cHJvcHMubGlrZWRPbi5mcm9tTm93KCl9XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFZGl0b3IgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXRvclwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL3V0aWxzL2NvbnRhaW5lclwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL3V0aWxzL2xvYWRlclwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi91dGlscy9tZXNzYWdlXCJcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gXCIuL3V0aWxzL2F0dGFjaG1lbnRzXCJcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBwb3N0OiBcIlwiLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgcHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIGNhblByb3RlY3Q6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpXG4gIH1cblxuICBsb2FkU3VjY2VzcyA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgcG9zdDogZGF0YS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmh5ZHJhdGUoZGF0YS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiBkYXRhLmlzX3Byb3RlY3RlZCxcblxuICAgICAgY2FuUHJvdGVjdDogZGF0YS5jYW5fcHJvdGVjdFxuICAgIH0pXG4gIH1cblxuICBsb2FkRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIGNoYW5nZXM/XCIpKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uUHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgb25VbnByb3RlY3QgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm90ZWN0OiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBvblBvc3RDaGFuZ2UgPSB2YWx1ZSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBvc3RcIiwgdmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgIHByb3RlY3Q6IHRoaXMuc3RhdGUucHJvdGVjdFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJSZXBseSBoYXMgYmVlbiBlZGl0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5jYXRlZ29yeSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRpdGxlIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMuc3RhdGUuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMub25Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMub25VbnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnN0YXRlLnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIkVkaXQgcmVwbHlcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yZWR9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdGFydCBmcm9tIFwiLi9zdGFydFwiXG5pbXBvcnQgU3RhcnRQcml2YXRlIGZyb20gXCIuL3N0YXJ0LXByaXZhdGVcIlxuaW1wb3J0IFJlcGx5IGZyb20gXCIuL3JlcGx5XCJcbmltcG9ydCBFZGl0IGZyb20gXCIuL2VkaXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVFwiKSB7XG4gICAgcmV0dXJuIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVF9QUklWQVRFXCIpIHtcbiAgICByZXR1cm4gPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJSRVBMWVwiKSB7XG4gICAgcmV0dXJuIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJFRElUXCIpIHtcbiAgICByZXR1cm4gPEVkaXQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vdXRpbHMvbG9hZGVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tIFwiLi91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMuY29uZmlnLCB0aGlzLnByb3BzLmNvbnRleHQgfHwgbnVsbClcbiAgICAgIC50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wcm9wcy5jb250ZXh0XG4gICAgY29uc3QgbmV3Q29udGV4dCA9IG5leHRQcm9wcy5jb250ZXh0XG5cbiAgICBpZiAoY29udGV4dCAmJiBuZXdDb250ZXh0ICYmIGNvbnRleHQucmVwbHkgPT09IG5ld0NvbnRleHQucmVwbHkpIHJldHVyblxuXG4gICAgYWpheFxuICAgICAgLmdldChuZXh0UHJvcHMuY29uZmlnLCBuZXh0UHJvcHMuY29udGV4dCB8fCBudWxsKVxuICAgICAgLnRoZW4odGhpcy5hcHBlbmREYXRhLCBzbmFja2Jhci5hcGlFcnJvcilcbiAgfVxuXG4gIGxvYWRTdWNjZXNzID0gZGF0YSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3RcbiAgICAgICAgPyAnW3F1b3RlPVwiQCcgKyBkYXRhLnBvc3RlciArICdcIl1cXG4nICsgZGF0YS5wb3N0ICsgXCJcXG5bL3F1b3RlXVwiXG4gICAgICAgIDogXCJcIlxuICAgIH0pXG4gIH1cblxuICBsb2FkRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSlcbiAgfVxuXG4gIGFwcGVuZERhdGEgPSBkYXRhID0+IHtcbiAgICBjb25zdCBuZXdQb3N0ID0gZGF0YS5wb3N0XG4gICAgICA/ICdbcXVvdGU9XCJAJyArIGRhdGEucG9zdGVyICsgJ1wiXVxcbicgKyBkYXRhLnBvc3QgKyBcIlxcblsvcXVvdGVdXFxuXFxuXCJcbiAgICAgIDogXCJcIlxuXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZS5wb3N0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwb3N0OiBwcmV2U3RhdGUucG9zdCArIFwiXFxuXFxuXCIgKyBuZXdQb3N0XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9zdDogbmV3UG9zdFxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHlvdXIgcmVwbHk/XCIpXG4gICAgKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IHZhbHVlID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCB2YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2htZW50cyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHJlcGx5IGhhcyBiZWVuIHBvc3RlZC5cIikpXG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmwuaW5kZXhcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHJlcGx5XCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgICAgIGV4cGFuZD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IGNsZWFuVXNlcm5hbWVzIGZyb20gXCIuL3V0aWxzL3VzZXJuYW1lc1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHRvID0gKHByb3BzLnRvIHx8IFtdKS5tYXAodXNlciA9PiB1c2VyLnVzZXJuYW1lKS5qb2luKFwiLCBcIilcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0bzogdG8sXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcHJpdmF0ZSB0aHJlYWQ/XCIpXG4gICAgKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uVG9DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRvXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uVGl0bGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRpdGxlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IHZhbHVlID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCB2YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2htZW50cyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIWNsZWFuVXNlcm5hbWVzKHRoaXMuc3RhdGUudG8pLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICB0bzogY2xlYW5Vc2VybmFtZXModGhpcy5zdGF0ZS50byksXG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHRocmVhZCBoYXMgYmVlbiBwb3N0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50byB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRpdGxlIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIiB3aXRoRmlyc3RSb3c9e3RydWV9PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZpcnN0LXJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Ub0NoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdXNlciBuYW1lcywgZWcuOiBEYW5ueSwgTGlzYVwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudG99XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vdXRpbHMvbG9hZGVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIi4vdXRpbHMvb3B0aW9uc1wiXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tIFwiLi91dGlscy9hdHRhY2htZW50c1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBzaG93T3B0aW9uczogZmFsc2UsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IG51bGwsXG5cbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgY2F0ZWdvcnk6IHByb3BzLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBjbG9zZTogZmFsc2UsXG4gICAgICBoaWRlOiBmYWxzZSxcbiAgICAgIHBpbjogMCxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKCksXG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpXG4gIH1cblxuICBsb2FkU3VjY2VzcyA9IGRhdGEgPT4ge1xuICAgIGxldCBjYXRlZ29yeSA9IG51bGxcbiAgICBsZXQgc2hvd09wdGlvbnMgPSBmYWxzZVxuICAgIGxldCBjYXRlZ29yeU9wdGlvbnMgPSBudWxsXG5cbiAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbS5wb3N0ICE9PSBmYWxzZSAmJlxuICAgICAgICAoIWNhdGVnb3J5IHx8IGl0ZW0uaWQgPT0gdGhpcy5zdGF0ZS5jYXRlZ29yeSlcbiAgICAgICkge1xuICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWRcbiAgICAgICAgY2F0ZWdvcnlPcHRpb25zID0gaXRlbS5wb3N0XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnBvc3QgJiYgKGl0ZW0ucG9zdC5jbG9zZSB8fCBpdGVtLnBvc3QuaGlkZSB8fCBpdGVtLnBvc3QucGluKSkge1xuICAgICAgICBzaG93T3B0aW9ucyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB0aHJlYWQ/XCIpKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uVGl0bGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRpdGxlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnN0YXRlLmNhdGVnb3JpZXMuZmluZChpdGVtID0+IHtcbiAgICAgIHJldHVybiBldmVudC50YXJnZXQudmFsdWUgPT0gaXRlbS52YWx1ZVxuICAgIH0pXG5cbiAgICAvLyBpZiBzZWxlY3RlZCBwaW4gaXMgZ3JlYXRlciB0aGFuIGFsbG93ZWQsIHJlZHVjZSBpdFxuICAgIGxldCBwaW4gPSB0aGlzLnN0YXRlLnBpblxuICAgIGlmIChjYXRlZ29yeS5wb3N0LnBpbiAmJiBjYXRlZ29yeS5wb3N0LnBpbiA8IHBpbikge1xuICAgICAgcGluID0gY2F0ZWdvcnkucG9zdC5waW5cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5pZCxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogY2F0ZWdvcnkucG9zdCxcblxuICAgICAgcGluXG4gICAgfSlcbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IHZhbHVlID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCB2YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2ggPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHM6YXR0YWNoXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNsb3NlXCIsIHRydWUpXG4gIH1cblxuICBvbk9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNsb3NlXCIsIGZhbHNlKVxuICB9XG5cbiAgb25QaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicGluXCIsIDIpXG4gIH1cblxuICBvblBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAxKVxuICB9XG5cbiAgb25VbnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicGluXCIsIDApXG4gIH1cblxuICBvbkhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImhpZGVcIiwgdHJ1ZSlcbiAgfVxuXG4gIG9uVW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJoaWRlXCIsIGZhbHNlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgICAgY2xvc2U6IHRoaXMuc3RhdGUuY2xvc2UsXG4gICAgICBoaWRlOiB0aGlzLnN0YXRlLmhpZGUsXG4gICAgICBwaW46IHRoaXMuc3RhdGUucGluXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpXG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmxcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmNhdGVnb3J5IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udGl0bGUgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgIClcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgcmV0dXJuIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cblxuICAgIGxldCBjb2x1bW5zID0gMFxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5jbG9zZSkgY29sdW1ucyArPSAxXG4gICAgaWYgKHRoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zLmhpZGUpIGNvbHVtbnMgKz0gMVxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5waW4pIGNvbHVtbnMgKz0gMVxuXG4gICAgbGV0IHRpdGxlU3R5bGUgPSBudWxsXG5cbiAgICBpZiAoY29sdW1ucyA9PT0gMSkge1xuICAgICAgdGl0bGVTdHlsZSA9IFwiY29sLXNtLTZcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVN0eWxlID0gXCJjb2wtc20tOFwiXG4gICAgfVxuXG4gICAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTZcIlxuICAgIH0gZWxzZSBpZiAoY29sdW1ucykge1xuICAgICAgdGl0bGVTdHlsZSArPSBcIiBjb2wtbWQtN1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTlcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGl0bGVTdHlsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtMyB4cy1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgY2xvc2U9e3RoaXMuc3RhdGUuY2xvc2V9XG4gICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgaGlkZT17dGhpcy5zdGF0ZS5oaWRlfVxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uQ2xvc2V9XG4gICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5vbkhpZGV9XG4gICAgICAgICAgICAgIG9uT3Blbj17dGhpcy5vbk9wZW59XG4gICAgICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3RoaXMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICAgICAgb25QaW5Mb2NhbGx5PXt0aGlzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICAgICAgb25VbmhpZGU9e3RoaXMub25VbmhpZGV9XG4gICAgICAgICAgICAgIG9uVW5waW49e3RoaXMub25VbnBpbn1cbiAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnN9XG4gICAgICAgICAgICAgIHBpbj17dGhpcy5zdGF0ZS5waW59XG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXt0aGlzLnN0YXRlLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuKGF0dGFjaG1lbnRzKSB7XG4gIGNvbnN0IGNvbXBsZXRlZEF0dGFjaG1lbnRzID0gYXR0YWNobWVudHMuZmlsdGVyKGF0dGFjaG1lbnQgPT4ge1xuICAgIHJldHVybiBhdHRhY2htZW50LmlkICYmICFhdHRhY2htZW50LmlzUmVtb3ZlZFxuICB9KVxuXG4gIHJldHVybiBjb21wbGV0ZWRBdHRhY2htZW50cy5tYXAoYSA9PiB7XG4gICAgcmV0dXJuIGEuaWRcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoYXR0YWNobWVudHMpIHtcbiAgcmV0dXJuIGF0dGFjaG1lbnRzLm1hcChhdHRhY2htZW50ID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYXR0YWNobWVudCwge1xuICAgICAgdXBsb2FkZWRfb246IG1vbWVudChhdHRhY2htZW50LnVwbG9hZGVkX29uKVxuICAgIH0pXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+e3Byb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWxvYWRlclwiPlxuICAgICAgPExvYWRlciAvPlxuICAgIDwvQ29udGFpbmVyPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vY29udGFpbmVyXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lcnJvcl9vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIG9uQ2xpY2s9e3Bvc3RpbmcuY2xvc2V9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9Db250YWluZXI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3dPcHRpb25zKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IHsgY29sdW1ucyB9ID0gcHJvcHNcblxuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtMTIgeHMtbWFyZ2luLXRvcFwiXG5cbiAgaWYgKGNvbHVtbnMgPT09IDEpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTJcIlxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcIiBzbS1tYXJnaW4tdG9wXCJcbiAgfVxuXG4gIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGNvbC1tZC0zXCJcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgY29sLW1kLTJcIlxuICB9XG4gIGNsYXNzTmFtZSArPSBcIiBwb3N0aW5nLW9wdGlvbnNcIlxuXG4gIGNvbnN0IGNvbHVtbkNsYXNzTmFtZSA9IFwiY29sLXhzLVwiICsgMTIgLyBjb2x1bW5zXG5cbiAgbGV0IHRleHRDbGFzc05hbWUgPSBcImJ0bi10ZXh0XCJcbiAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICB0ZXh0Q2xhc3NOYW1lICs9IFwiIHZpc2libGUtc20taW5saW5lLWJsb2NrXCJcbiAgfSBlbHNlIGlmIChjb2x1bW5zID09PSAyKSB7XG4gICAgdGV4dENsYXNzTmFtZSArPSBcIiBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcbiAgfSBlbHNlIHtcbiAgICB0ZXh0Q2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPFBpbk9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25QaW5HbG9iYWxseT17cHJvcHMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICBvblBpbkxvY2FsbHk9e3Byb3BzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICBvblVucGluPXtwcm9wcy5vblVucGlufVxuICAgICAgICAgIHBpbj17cHJvcHMucGlufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMucGlufVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxIaWRlT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBoaWRlPXtwcm9wcy5oaWRlfVxuICAgICAgICAgIG9uSGlkZT17cHJvcHMub25IaWRlfVxuICAgICAgICAgIG9uVW5oaWRlPXtwcm9wcy5vblVuaGlkZX1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmhpZGV9XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgICAgPENsb3NlT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGNsb3NlPXtwcm9wcy5jbG9zZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbG9zZT17cHJvcHMub25DbG9zZX1cbiAgICAgICAgICBvbk9wZW49e3Byb3BzLm9uT3Blbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmNsb3NlfVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2xvc2VPcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvdykgcmV0dXJuIG51bGxcblxuICBjb25zdCBsYWJlbCA9IHByb3BzLmNsb3NlID8gZ2V0dGV4dChcIkNsb3NlZFwiKSA6IGdldHRleHQoXCJPcGVuXCIpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuY2xvc2UgPyBwcm9wcy5vbk9wZW4gOiBwcm9wcy5vbkNsb3NlfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmNsb3NlID8gXCJsb2NrXCIgOiBcImxvY2tfb3V0bGluZVwifVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMudGV4dENsYXNzTmFtZX0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRlT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5oaWRlID8gZ2V0dGV4dChcIkhpZGRlblwiKSA6IGdldHRleHQoXCJOb3QgaGlkZGVuXCIpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZSA/IHByb3BzLm9uVW5oaWRlIDogcHJvcHMub25IaWRlfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmhpZGUgPyBcInZpc2liaWxpdHlfb2ZmXCIgOiBcInZpc2liaWxpdHlcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PntsYWJlbH08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGluT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsXG5cbiAgbGV0IGljb24gPSBudWxsXG4gIGxldCBvbkNsaWNrID0gbnVsbFxuICBsZXQgbGFiZWwgPSBudWxsXG5cbiAgc3dpdGNoIChwcm9wcy5waW4pIHtcbiAgICBjYXNlIDA6XG4gICAgICBpY29uID0gXCJyYWRpb19idXR0b25fdW5jaGVja2VkXCJcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkxvY2FsbHlcbiAgICAgIGxhYmVsID0gZ2V0dGV4dChcIlVucGlubmVkXCIpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAxOlxuICAgICAgaWNvbiA9IFwiYm9va21hcmtfb3V0bGluZVwiXG4gICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseVxuICAgICAgbGFiZWwgPSBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIilcblxuICAgICAgaWYgKHByb3BzLnNob3cgPT0gMikge1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW5cbiAgICAgIH1cblxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgMjpcbiAgICAgIGljb24gPSBcImJvb2ttYXJrXCJcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluXG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIilcbiAgICAgIGJyZWFrXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PntsYWJlbH08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXNlcm5hbWVzKSB7XG4gIGNvbnN0IG5vcm1hbGlzZWROYW1lcyA9IHVzZXJuYW1lcy5zcGxpdChcIixcIikubWFwKGkgPT4gaS50cmltKCkudG9Mb3dlckNhc2UoKSlcbiAgY29uc3QgcmVtb3ZlZEJsYW5rcyA9IG5vcm1hbGlzZWROYW1lcy5maWx0ZXIoaSA9PiBpLmxlbmd0aCA+IDApXG4gIGNvbnN0IHJlbW92ZWREdXBsaWNhdGVzID0gcmVtb3ZlZEJsYW5rcy5maWx0ZXIoKG5hbWUsIHBvcykgPT4ge1xuICAgIHJldHVybiByZW1vdmVkQmxhbmtzLmluZGV4T2YobmFtZSkgPT0gcG9zXG4gIH0pXG5cbiAgcmV0dXJuIHJlbW92ZWREdXBsaWNhdGVzXG59XG4iLCJpbXBvcnQgeyBtYXhMZW5ndGgsIG1pbkxlbmd0aCB9IGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVWYWxpZGF0b3JzKCkge1xuICByZXR1cm4gW2dldFRpdGxlTGVuZ3RoTWluKCksIGdldFRpdGxlTGVuZ3RoTWF4KCldXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0VmFsaWRhdG9ycygpIHtcbiAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5wb3N0X2xlbmd0aF9tYXgpIHtcbiAgICByZXR1cm4gW3ZhbGlkYXRlUG9zdExlbmd0aE1pbigpLCB2YWxpZGF0ZVBvc3RMZW5ndGhNYXgoKV1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3ZhbGlkYXRlUG9zdExlbmd0aE1pbigpXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikudGhyZWFkX3RpdGxlX2xlbmd0aF9taW4sXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlRocmVhZCB0aXRsZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBcIlRocmVhZCB0aXRsZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVMZW5ndGhNYXgoKSB7XG4gIHJldHVybiBtYXhMZW5ndGgoXG4gICAgbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnRocmVhZF90aXRsZV9sZW5ndGhfbWF4LFxuICAgIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJUaHJlYWQgdGl0bGUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIFwiVGhyZWFkIHRpdGxlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKFxuICAgIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5wb3N0X2xlbmd0aF9taW4sXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlBvc3RlZCBtZXNzYWdlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIGxpbWl0VmFsdWVcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikucG9zdF9sZW5ndGhfbWF4IHx8IDEwMDAwMDAsXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlBvc3RlZCBtZXNzYWdlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBcIlBvc3RlZCBtZXNzYWdlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0LmFjbCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LWNvbnRyb2xzXCI+XG4gICAgICAgIDxIaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGFjbCkge1xuICByZXR1cm4gYWNsLmNhbl9oaWRlXG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgICAgaGlkZGVuX2J5X25hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMucG9zdC51cmwsIHtcbiAgICAgICAgICBoaWRkZW5fYnk6IHRoaXMucHJvcHMudXNlci51cmxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgY29uc3Qgb3AgPSB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IHRydWUgfVxuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4LCBbb3BdKS50aGVuKFxuICAgICAgcGF0Y2ggPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwgcGF0Y2gpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgICB9KVxuICAgIClcblxuICAgIGNvbnN0IG9wID0geyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiBmYWxzZSB9XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oXG4gICAgICBwYXRjaCA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX2hpZGRlbjogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBkZWxldGUgdGhpcyBldmVudD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCJcbiAgICAgIClcbiAgICApXG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICB0aGlzLmRlbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIkV2ZW50IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5jb25zdCBJQ09OID0ge1xuICBjaGFuZ2VkX3RpdGxlOiBcImVkaXRcIixcblxuICBwaW5uZWRfZ2xvYmFsbHk6IFwiYm9va21hcmtcIixcbiAgcGlubmVkX2xvY2FsbHk6IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gIHVucGlubmVkOiBcInBhbm9yYW1hX2Zpc2hfZXllXCIsXG5cbiAgbW92ZWQ6IFwiYXJyb3dfZm9yd2FyZFwiLFxuICBtZXJnZWQ6IFwiY2FsbF9tZXJnZVwiLFxuXG4gIGFwcHJvdmVkOiBcImRvbmVcIixcblxuICBvcGVuZWQ6IFwibG9ja19vcGVuXCIsXG4gIGNsb3NlZDogXCJsb2NrX291dGxpbmVcIixcblxuICB1bmhpZDogXCJ2aXNpYmlsaXR5XCIsXG4gIGhpZDogXCJ2aXNpYmlsaXR5X29mZlwiLFxuXG4gIGNoYW5nZWRfb3duZXI6IFwiZ3JhZGVcIixcbiAgdG9va292ZXI6IFwiZ3JhZGVcIixcblxuICBhZGRlZF9wYXJ0aWNpcGFudDogXCJwZXJzb25fYWRkXCIsXG5cbiAgb3duZXJfbGVmdDogXCJwZXJzb25fb3V0bGluZVwiLFxuICBwYXJ0aWNpcGFudF9sZWZ0OiBcInBlcnNvbl9vdXRsaW5lXCIsXG4gIHJlbW92ZWRfcGFydGljaXBhbnQ6IFwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e0lDT05bcHJvcHMucG9zdC5ldmVudF90eXBlXX08L3NwYW4+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEljb24gZnJvbSBcIi4vaWNvblwiXG5pbXBvcnQgSW5mbyBmcm9tIFwiLi9pbmZvXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL21lc3NhZ2VcIlxuaW1wb3J0IFVucmVhZExhYmVsIGZyb20gXCIuL3VucmVhZC1sYWJlbFwiXG5pbXBvcnQgV2F5cG9pbnQgZnJvbSBcIi4uL3dheXBvaW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiZXZlbnRcIlxuICBpZiAocHJvcHMucG9zdC5pc0RlbGV0ZWQpIHtcbiAgICBjbGFzc05hbWUgPSBcImhpZGVcIlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJldmVudCBwb3N0LWhpZGRlblwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17XCJwb3N0LVwiICsgcHJvcHMucG9zdC5pZH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPFVucmVhZExhYmVsIHBvc3Q9e3Byb3BzLnBvc3R9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0yIGNvbC1zbS0zIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICA8SWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMCBjb2wtc20tOSB0ZXh0LWxlZnRcIj5cbiAgICAgICAgICA8V2F5cG9pbnQgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICAgICAgICA8TWVzc2FnZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8SW5mbyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9XYXlwb2ludD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCIuL2NvbnRyb2xzXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IERBVEVfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2E+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZSBldmVudC1pbmZvXCI+XG4gICAgICA8SGlkZGVuIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPENvbnRyb2xzIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgbGV0IHVzZXIgPSBudWxsXG4gICAgaWYgKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSkge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgICBVU0VSX1VSTCxcbiAgICAgICAge1xuICAgICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIFVTRVJfU1BBTixcbiAgICAgICAge1xuICAgICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIERBVEVfQUJCUixcbiAgICAgIHtcbiAgICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJIaWRkZW4gYnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLFxuICAgICAge1xuICAgICAgICBldmVudF9ieTogdXNlcixcbiAgICAgICAgZXZlbnRfb246IGRhdGVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9XCJldmVudC1oaWRkZW4tbWVzc2FnZVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgICAgLz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyLnVybCksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9VUkwsXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmluZGV4KSxcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLFxuICAgIHtcbiAgICAgIGV2ZW50X2J5OiB1c2VyLFxuICAgICAgZXZlbnRfb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1wb3N0ZXJzXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IE1FU1NBR0UgPSB7XG4gIHBpbm5lZF9nbG9iYWxseTogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgZ2xvYmFsbHkuXCIpLFxuICBwaW5uZWRfbG9jYWxseTogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgbG9jYWxseS5cIiksXG4gIHVucGlubmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHVucGlubmVkLlwiKSxcblxuICBhcHByb3ZlZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBhcHByb3ZlZC5cIiksXG5cbiAgb3BlbmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG9wZW5lZC5cIiksXG4gIGNsb3NlZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBjbG9zZWQuXCIpLFxuXG4gIHVuaGlkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHJldmVhbGVkLlwiKSxcbiAgaGlkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgaGlkZGVuLlwiKSxcblxuICB0b29rb3ZlcjogZ2V0dGV4dChcIlRvb2sgdGhyZWFkIG92ZXIuXCIpLFxuXG4gIG93bmVyX2xlZnQ6IGdldHRleHQoXCJPd25lciBoYXMgbGVmdCB0aHJlYWQuIFRoaXMgdGhyZWFkIGlzIG5vdyBjbG9zZWQuXCIpLFxuICBwYXJ0aWNpcGFudF9sZWZ0OiBnZXR0ZXh0KFwiUGFydGljaXBhbnQgaGFzIGxlZnQgdGhyZWFkLlwiKVxufVxuXG5jb25zdCBJVEVNX0xJTksgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG5hbWUpczwvYT4nXG5jb25zdCBJVEVNX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L3NwYW4+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoTUVTU0FHRVtwcm9wcy5wb3N0LmV2ZW50X3R5cGVdKSB7XG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIj57TUVTU0FHRVtwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfTwvcD5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwiY2hhbmdlZF90aXRsZVwiKSB7XG4gICAgcmV0dXJuIDxDaGFuZ2VkVGl0bGUgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJtb3ZlZFwiKSB7XG4gICAgcmV0dXJuIDxNb3ZlZCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcIm1lcmdlZFwiKSB7XG4gICAgcmV0dXJuIDxNZXJnZWQgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJjaGFuZ2VkX293bmVyXCIpIHtcbiAgICByZXR1cm4gPENoYW5nZWRPd25lciB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcImFkZGVkX3BhcnRpY2lwYW50XCIpIHtcbiAgICByZXR1cm4gPEFkZGVkUGFydGljaXBhbnQgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJyZW1vdmVkX3BhcnRpY2lwYW50XCIpIHtcbiAgICByZXR1cm4gPFJlbW92ZWRQYXJ0aWNpcGFudCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlZFRpdGxlKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoXG4gICAgZ2V0dGV4dChcIlRocmVhZCB0aXRsZSBoYXMgYmVlbiBjaGFuZ2VkIGZyb20gJShvbGRfdGl0bGUpcy5cIilcbiAgKVxuICBjb25zdCBvbGRUaXRsZSA9IGludGVycG9sYXRlKFxuICAgIElURU1fU1BBTixcbiAgICB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5vbGRfdGl0bGUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICBvbGRfdGl0bGU6IG9sZFRpdGxlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vdmVkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoXG4gICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtb3ZlZCBmcm9tICUoZnJvbV9jYXRlZ29yeSlzLlwiKVxuICApXG4gIGNvbnN0IGZyb21DYXRlZ29yeSA9IGludGVycG9sYXRlKFxuICAgIElURU1fTElOSyxcbiAgICB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkudXJsKSxcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkubmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgZnJvbV9jYXRlZ29yeTogZnJvbUNhdGVnb3J5XG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlZChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFxuICAgIGdldHRleHQoXCJUaGUgJShtZXJnZWRfdGhyZWFkKXMgdGhyZWFkIGhhcyBiZWVuIG1lcmdlZCBpbnRvIHRoaXMgdGhyZWFkLlwiKVxuICApXG4gIGNvbnN0IG1lcmdlZFRocmVhZCA9IGludGVycG9sYXRlKFxuICAgIElURU1fU1BBTixcbiAgICB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5tZXJnZWRfdGhyZWFkKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICBtZXJnZWRfdGhyZWFkOiBtZXJnZWRUaHJlYWRcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlZE93bmVyKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIkNoYW5nZWQgdGhyZWFkIG93bmVyIHRvICUodXNlcilzLlwiKSlcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX0xJTkssXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICB1c2VyOiBuZXdPd25lclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBZGRlZFBhcnRpY2lwYW50KHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIkFkZGVkICUodXNlcilzIHRvIHRocmVhZC5cIikpXG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgdXNlcjogbmV3T3duZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlZFBhcnRpY2lwYW50KHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlJlbW92ZWQgJSh1c2VyKXMgZnJvbSB0aHJlYWQuXCIpKVxuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKFxuICAgIElURU1fTElOSyxcbiAgICB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIHVzZXI6IG5ld093bmVyXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICBpZiAocG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEwIGNvbC14cy1vZmZzZXQtMiBjb2wtc20tOSBjb2wtc20tb2Zmc2V0LTMgdGV4dC1sZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXZlbnQtbGFiZWxcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC11bnJlYWRcIj57Z2V0dGV4dChcIk5ldyBldmVudFwiKX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEV2ZW50IGZyb20gXCIuL2V2ZW50XCJcbmltcG9ydCBQb3N0IGZyb20gXCIuL3Bvc3RcIlxuaW1wb3J0IFBvc3RQcmV2aWV3IGZyb20gXCIuL3Bvc3QvcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8UG9zdFByZXZpZXcgLz5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAge3Byb3BzLnBvc3RzLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gPExpc3RJdGVtIGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gey4uLnByb3BzfSAvPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlzdEl0ZW0ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfZXZlbnQpIHtcbiAgICByZXR1cm4gPEV2ZW50IHsuLi5wcm9wc30gLz5cbiAgfVxuXG4gIHJldHVybiA8UG9zdCB7Li4ucHJvcHN9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZVwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTZcIj5cbiAgICAgIDxBdHRhY2htZW50UHJldmlldyB7Li4ucHJvcHN9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudFwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImF0dGFjaG1lbnQtbmFtZSBpdGVtLXRpdGxlXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtwcm9wcy5hdHRhY2htZW50LmZpbGVuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIDxBdHRhY2htZW50RGV0YWlscyB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudFByZXZpZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQuaXNfaW1hZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudFRodW1ibmFpbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LXByZXZpZXdcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRJY29uIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH0gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgaW5zZXJ0X2RyaXZlX2ZpbGVcbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRUaHVtYm5haWwocHJvcHMpIHtcbiAgY29uc3QgdXJsID0gcHJvcHMuYXR0YWNobWVudC51cmwudGh1bWIgfHwgcHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXhcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwicG9zdC10aHVtYm5haWxcIlxuICAgICAgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9XG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCInICsgZXNjYXBlSHRtbCh1cmwpICsgJ1wiKScgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50RGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQudXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCB1cGxvYWRlZCBieSAlKHVwbG9hZGVyKXMgJSh1cGxvYWRlZF9vbilzLlwiXG4gICAgICApXG4gICAgKSxcbiAgICB7XG4gICAgICBmaWxldHlwZTogcHJvcHMuYXR0YWNobWVudC5maWxldHlwZSxcbiAgICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLmF0dGFjaG1lbnQuc2l6ZSksXG4gICAgICB1cGxvYWRlcjogdXNlcixcbiAgICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtZGVzY3JpcHRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgYmF0Y2ggZnJvbSBcIm1pc2Fnby91dGlscy9iYXRjaFwiXG5pbXBvcnQgQXR0YWNobWVudCBmcm9tIFwiLi9hdHRhY2htZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFpc1Zpc2libGUocHJvcHMucG9zdCkpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudHNcIj5cbiAgICAgIHtiYXRjaChwcm9wcy5wb3N0LmF0dGFjaG1lbnRzLCAyKS5tYXAocm93ID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gcm93XG4gICAgICAgICAgLm1hcChhID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhID8gYS5pZCA6IDBcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5qb2luKFwiX1wiKVxuICAgICAgICByZXR1cm4gPFJvdyBrZXk9e2tleX0gcm93PXtyb3d9IC8+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuICghcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pICYmIHBvc3QuYXR0YWNobWVudHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICB7cHJvcHMucm93Lm1hcChhdHRhY2htZW50ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8QXR0YWNobWVudFxuICAgICAgICAgICAgYXR0YWNobWVudD17YXR0YWNobWVudH1cbiAgICAgICAgICAgIGtleT17YXR0YWNobWVudCA/IGF0dGFjaG1lbnQuaWQgOiAwfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBXYXlwb2ludCBmcm9tIFwiLi4vd2F5cG9pbnRcIlxuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgSElEREVOX0JZX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcbmNvbnN0IEhJRERFTl9CWV9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IEhJRERFTl9PTiA9XG4gICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gPEhpZGRlbiB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5jb250ZW50KSB7XG4gICAgcmV0dXJuIDxEZWZhdWx0IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPEludmFsaWQgey4uLnByb3BzfSAvPlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L1dheXBvaW50PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5wb3N0LmhpZGRlbl9ieSkge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIEhJRERFTl9CWV9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBISURERU5fQllfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgSElEREVOX09OLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoaGlkZGVuX2J5KXMgJShoaWRkZW5fb24pcy5cIikpLFxuICAgIHtcbiAgICAgIGhpZGRlbl9ieTogdXNlcixcbiAgICAgIGhpZGRlbl9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1oaWRkZW5cIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBZb3UgY2Fubm90IHNlZSBpdHMgY29udGVudHMuXCIpfVxuICAgICAgPC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVGhpcyBwb3N0J3MgY29udGVudHMgY2Fubm90IGJlIGRpc3BsYXllZC5cIil9XG4gICAgICA8L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVGhpcyBlcnJvciBpcyBjYXVzZWQgYnkgaW52YWxpZCBwb3N0IGNvbnRlbnQgbWFuaXB1bGF0aW9uLlwiKX1cbiAgICAgIDwvcD5cbiAgICA8L1dheXBvaW50PlxuICApXG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3ZlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfdW5hcHByb3ZlZDogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc191bmFwcHJvdmVkOiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWRcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfcHJvdGVjdGVkOiB0cnVlXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1wcm90ZWN0ZWRcIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IGZhbHNlXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1wcm90ZWN0ZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19wcm90ZWN0ZWQ6IHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihwcm9wcy5wb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIudXJsXG4gICAgICB9KVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19oaWRkZW46IHByb3BzLnBvc3QuaXNfaGlkZGVuLFxuICAgIGhpZGRlbl9vbjogcHJvcHMucG9zdC5oaWRkZW5fb24sXG4gICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUsXG4gICAgdXJsOiBwcm9wcy5wb3N0LnVybFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW5cbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWtlKHByb3BzKSB7XG4gIGNvbnN0IGxhc3RMaWtlcyA9IHByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXVxuICBjb25zdCBjb25jYXRlZExpa2VzID0gW3Byb3BzLnVzZXJdLmNvbmNhdChsYXN0TGlrZXMpXG4gIGNvbnN0IGZpbmFsTGlrZXMgPVxuICAgIGNvbmNhdGVkTGlrZXMubGVuZ3RoID4gMyA/IGNvbmNhdGVkTGlrZXMuc2xpY2UoMCwgLTEpIDogY29uY2F0ZWRMaWtlc1xuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfbGlrZWQ6IHRydWUsXG4gICAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyArIDEsXG4gICAgICBsYXN0X2xpa2VzOiBmaW5hbExpa2VzXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1saWtlZFwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfbGlrZWQ6IHByb3BzLnBvc3QuaXNfbGlrZWQsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5saWtlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfbGlrZWQ6IGZhbHNlLFxuICAgICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMgLSAxLFxuICAgICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzLmZpbHRlcih1c2VyID0+IHtcbiAgICAgICAgcmV0dXJuICF1c2VyLmlkIHx8IHVzZXIuaWQgIT09IHByb3BzLnVzZXIuaWRcbiAgICAgIH0pXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1saWtlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2xpa2VkOiBwcm9wcy5wb3N0LmlzX2xpa2VkLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzLFxuICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlc1xuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChwcm9wcy5wb3N0LmFwaS5pbmRleCwgb3BzKS50aGVuKFxuICAgIG5ld1N0YXRlID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwgbmV3U3RhdGUpKVxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBwcmV2aW91c1N0YXRlKSlcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShcbiAgICBnZXR0ZXh0KFxuICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcG9zdD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCJcbiAgICApXG4gIClcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSlcbiAgKVxuXG4gIGFqYXguZGVsZXRlKHByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKFxuICAgICgpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvc3QgaGFzIGJlZW4gZGVsZXRlZC5cIikpXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFya0FzQmVzdEFuc3dlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3QsIHVzZXIgfSA9IHByb3BzXG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgdGhyZWFkLnVwZGF0ZSh7XG4gICAgICBiZXN0X2Fuc3dlcjogcG9zdC5pZCxcbiAgICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogcG9zdC5pc19wcm90ZWN0ZWQsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IG1vbWVudCgpLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5OiB1c2VyLmlkLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogdXNlci5zbHVnXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJiZXN0LWFuc3dlclwiLCB2YWx1ZTogcG9zdC5pZCB9LFxuICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH1cbiAgXVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgYmVzdF9hbnN3ZXI6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcixcbiAgICBiZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQ6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWdcbiAgfVxuXG4gIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1hcmtCZXN0QW5zd2VyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdCB9ID0gcHJvcHNcblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICB0aHJlYWQudXBkYXRlKHtcbiAgICAgIGJlc3RfYW5zd2VyOiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBmYWxzZSxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lOiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWc6IG51bGxcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IFwiYmVzdC1hbnN3ZXJcIiwgdmFsdWU6IHBvc3QuaWQgfSxcbiAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9XG4gIF1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGJlc3RfYW5zd2VyOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbixcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnXG4gIH1cblxuICBwYXRjaFRocmVhZChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hUaHJlYWQocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbihcbiAgICBuZXdTdGF0ZSA9PiB7XG4gICAgICBpZiAobmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uKSB7XG4gICAgICAgIG5ld1N0YXRlLmJlc3RfYW5zd2VyX21hcmtlZF9vbiA9IG1vbWVudChuZXdTdGF0ZS5iZXN0X2Fuc3dlcl9tYXJrZWRfb24pXG4gICAgICB9XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKG5ld1N0YXRlKSlcbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUocHJldmlvdXNTdGF0ZSkpXG4gICAgfVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gXCIuL2FjdGlvbnNcIlxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tIFwiLi9tb3ZlXCJcbmltcG9ydCBQb3N0Q2hhbmdlbG9nIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZ1wiXG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tIFwiLi9zcGxpdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIj5cbiAgICAgIDxQZXJtYWxpbmsgey4uLnByb3BzfSAvPlxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICAgPE1hcmtBc0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPFVubWFya01hcmtCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBQZXJtYWxpbmsgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBwZXJtYVVybCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIlxuICAgIHBlcm1hVXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0XG4gICAgcGVybWFVcmwgKz0gdGhpcy5wcm9wcy5wb3N0LnVybC5pbmRleFxuXG4gICAgcHJvbXB0KGdldHRleHQoXCJQZXJtYW1lbnQgbGluayB0byB0aGlzIHBvc3Q6XCIpLCBwZXJtYVVybClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5saW5rPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGVybWFtZW50IGxpbmtcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIkVESVRcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9lZGl0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAocG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aHJlYWQuYmVzdF9hbnN3ZXIgJiYgIXRocmVhZC5hY2wuY2FuX2NoYW5nZV9iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1hcmsgYXMgYmVzdCBhbnN3ZXJcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVubWFya01hcmtCZXN0QW5zd2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVubWFya0Jlc3RBbnN3ZXIodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKHBvc3QuaWQgIT09IHRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX3VubWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5tYXJrIGJlc3QgYW5zd2VyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPFBvc3RDaGFuZ2Vsb2cgcG9zdD17dGhpcy5wcm9wcy5wb3N0fSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9XG4gICAgICB0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuICYmICF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuXG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMFxuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZS5cIixcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWVzLlwiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKVxuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZXMgaGlzdG9yeVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX21vdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BsaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbW92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfc3BsaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5wcm90ZWN0KHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0KSByZXR1cm4gbnVsbFxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJSZW1vdmUgcHJvdGVjdGlvblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5faGlkZSkgcmV0dXJuIG51bGxcbiAgICBpZiAocG9zdC5pc19oaWRkZW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bmhpZGUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3VuaGlkZSkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERyb3Bkb3duIGZyb20gXCIuL2Ryb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5leHBhbmRfbW9yZTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICBuZXdfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3Qgd2FzIG1vdmVkIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1cmxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3QgdG9cIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgcG9zdFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgcG9zdFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCBNb2RhbExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlbGVjdFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcbiAgICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25Gb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbdmFsaWRhdG9ycy5yZXF1aXJlZCgpXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5XCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIGljb246IFwibG9ja1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuYWNsID0ge31cbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkucG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgc3BsaXQgaW50byBuZXcgdGhyZWFkLlwiKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KVxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKVxuICB9XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJyZW1vdmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJib29rbWFya19ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKVxuICAgICAgfVxuICAgIF1cblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiYm9va21hcmtcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXNcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIndlaWdodFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkZGVuXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0XCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvTW9kYWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3IocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgcG9zdCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD57cHJvcHMubWVzc2FnZX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdCBpbnRvIG5ldyB0aHJlYWRcIil9XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdCZXN0QW5zd2VyKHsgcG9zdCwgdGhyZWFkLCB1c2VyIH0pIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHBvc3QpICYmIHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmICh1c2VyLmlkICYmIHRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnkgPT09IHVzZXIuaWQpIHtcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiTWFya2VkIGFzIGJlc3QgYW5zd2VyIGJ5IHlvdSAlKG1hcmtlZF9vbilzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgbWFya2VkX29uOiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIk1hcmtlZCBhcyBiZXN0IGFuc3dlciBieSAlKG1hcmtlZF9ieSlzICUobWFya2VkX29uKXMuXCIpLFxuICAgICAge1xuICAgICAgICBtYXJrZWRfYnk6IHRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICAgICAgbWFya2VkX29uOiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1iZXN0LWFuc3dlclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDxwPnttZXNzYWdlfTwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ0hpZGRlbihwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc19oaWRkZW4pKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLWhpZGRlblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgPHA+XG4gICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgIFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gbWF5IHNlZSBpdHMgY29udGVudHMuXCJcbiAgICAgICAgKX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtdW5hcHByb3ZlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxwPlxuICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICBcIlRoaXMgcG9zdCBpcyB1bmFwcHJvdmVkLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiB0byBhcHByb3ZlIHBvc3RzIGFuZCBpdHMgYXV0aG9yIG1heSBzZWUgaXRzIGNvbnRlbnRzLlwiXG4gICAgICAgICl9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdQcm90ZWN0ZWQocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1wcm90ZWN0ZWQgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHByb3RlY3RlZC4gT25seSBtb2RlcmF0b3JzIG1heSBjaGFuZ2UgaXQuXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuICFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCIuL2NvbnRyb2xzL2FjdGlvbnNcIlxuaW1wb3J0IExpa2VzTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtbGlrZXNcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFpc1Zpc2libGUocHJvcHMucG9zdCkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtZm9vdGVyXCI+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlckNvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPExpa2Ugey4uLnByb3BzfSAvPlxuICAgICAgPExpa2VzXG4gICAgICAgIGxhc3RMaWtlcz17cHJvcHMucG9zdC5sYXN0X2xpa2VzfVxuICAgICAgICBsaWtlcz17cHJvcHMucG9zdC5saWtlc31cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICAgIDxMaWtlc0NvbXBhY3QgbGlrZXM9e3Byb3BzLnBvc3QubGlrZXN9IHsuLi5wcm9wc30gLz5cbiAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoXG4gICAgKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiZcbiAgICAocG9zdC5hY2wuY2FuX3JlcGx5IHx8XG4gICAgICBwb3N0LmFjbC5jYW5fZWRpdCB8fFxuICAgICAgKHBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgJiYgKHBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoKSB8fFxuICAgICAgcG9zdC5hY2wuY2FuX2xpa2UpXG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGFjdGlvbnMubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeSB8fCBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiQmVzdCBhbnN3ZXJcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXJDb21wYWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBhY3Rpb25zLm1hcmtBc0Jlc3RBbnN3ZXIodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tYXJrX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX21hcmtfYXNfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHRocmVhZC5iZXN0X2Fuc3dlciAmJiAhdGhyZWFkLmFjbC5jYW5fY2hhbmdlX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeSB8fCBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQpIHtcbiAgICAgIGFjdGlvbnMudW5saWtlKHRoaXMucHJvcHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbnMubGlrZSh0aGlzLnByb3BzKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2xpa2UpIHJldHVybiBudWxsXG5cbiAgICBsZXQgY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19saWtlZCkge1xuICAgICAgY2xhc3NOYW1lID0gXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5fVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkID8gZ2V0dGV4dChcIkxpa2VkXCIpIDogZ2V0dGV4dChcIkxpa2VcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2VzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxMaWtlc01vZGFsIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGFzTGlrZXMgPSAodGhpcy5wcm9wcy5wb3N0Lmxhc3RfbGlrZXMgfHwgW10pLmxlbmd0aCA+IDBcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fCAhaGFzTGlrZXMpIHJldHVybiBudWxsXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBwdWxsLWxlZnQgaGlkZGVuLXhzXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0TGlrZXNNZXNzYWdlKHRoaXMucHJvcHMubGlrZXMsIHRoaXMucHJvcHMubGFzdExpa2VzKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cInB1bGwtbGVmdCBoaWRkZW4teHNcIj5cbiAgICAgICAge2dldExpa2VzTWVzc2FnZSh0aGlzLnByb3BzLmxpa2VzLCB0aGlzLnByb3BzLmxhc3RMaWtlcyl9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWtlc0NvbXBhY3QgZXh0ZW5kcyBMaWtlcyB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMaWtlcyA9ICh0aGlzLnByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoID4gMFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGxcblxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgPT09IDIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGxpa2VzLWNvbXBhY3QgcHVsbC1sZWZ0IHZpc2libGUteHMtYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mYXZvcml0ZTwvc3Bhbj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxpa2VzLWNvbXBhY3QgcHVsbC1sZWZ0IHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlPC9zcGFuPlxuICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpa2VzTWVzc2FnZShsaWtlcywgdXNlcnMpIHtcbiAgY29uc3QgdXNlcm5hbWVzID0gdXNlcnMuc2xpY2UoMCwgMykubWFwKHUgPT4gdS51c2VybmFtZSlcblxuICBpZiAodXNlcm5hbWVzLmxlbmd0aCA9PSAxKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcilzIGxpa2VzIHRoaXMuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VyOiB1c2VybmFtZXNbMF1cbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgaGlkZGVuTGlrZXMgPSBsaWtlcyAtIHVzZXJuYW1lcy5sZW5ndGhcblxuICBjb25zdCBvdGhlclVzZXJzID0gdXNlcm5hbWVzLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIilcbiAgY29uc3QgbGFzdFVzZXIgPSB1c2VybmFtZXMuc2xpY2UoLTEpWzBdXG5cbiAgY29uc3QgdXNlcm5hbWVzTGlzdCA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCIlKHVzZXJzKXMgYW5kICUobGFzdF91c2VyKXNcIiksXG4gICAge1xuICAgICAgdXNlcnM6IG90aGVyVXNlcnMsXG4gICAgICBsYXN0X3VzZXI6IGxhc3RVc2VyXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBpZiAoaGlkZGVuTGlrZXMgPT09IDApIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VycylzIGxpa2UgdGhpcy5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJzOiB1c2VybmFtZXNMaXN0XG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodXNlcnMpcyBhbmQgJShsaWtlcylzIG90aGVyIHVzZXIgbGlrZSB0aGlzLlwiLFxuICAgIFwiJSh1c2VycylzIGFuZCAlKGxpa2VzKXMgb3RoZXIgdXNlcnMgbGlrZSB0aGlzLlwiLFxuICAgIGhpZGRlbkxpa2VzXG4gIClcblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB1c2VyczogdXNlcm5hbWVzLmpvaW4oXCIsIFwiKSxcbiAgICAgIGxpa2VzOiBoaWRkZW5MaWtlc1xuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBSZXBseSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiUkVQTFlcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG5cbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgcmVwbHk6IHRoaXMucHJvcHMucG9zdC5pZFxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIkVESVRcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIi4vY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwiLi9zZWxlY3RcIlxuaW1wb3J0IHtcbiAgU3RhdHVzSWNvbixcbiAgZ2V0U3RhdHVzQ2xhc3NOYW1lLFxuICBnZXRTdGF0dXNEZXNjcmlwdGlvblxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IFBvc3RDaGFuZ2Vsb2cgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFVucmVhZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnJlYWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT25Db21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0c0NvbXBhY3RzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8U2VsZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVucmVhZExhYmVsKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC11bnJlYWQgaGlkZGVuLXhzXCI+e2dldHRleHQoXCJOZXcgcG9zdFwiKX08L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVucmVhZENvbXBhY3QocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiPlxuICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbihwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLFxuICAgIHtcbiAgICAgIHBvc3RlZF9vbjogcHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBocmVmPXtwcm9wcy5wb3N0LnVybC5pbmRleH1cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0ZWQtb24gaGlkZGVuLXhzXCJcbiAgICAgIHRpdGxlPXt0b29sdGlwfVxuICAgID5cbiAgICAgIHtwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KCl9XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbkNvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9XG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICA+XG4gICAgICB7cHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID1cbiAgICAgIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW5cbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwXG4gICAgaWYgKGlzSGlkZGVuIHx8IGlzVW5lZGl0ZWQpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCB0b29sdGlwID0gbmdldHRleHQoXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lLlwiLFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZXMuXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApXG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgdG9vbHRpcCxcbiAgICAgIHtcbiAgICAgICAgZWRpdHM6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBjb25zdCBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgXCJlZGl0ZWQgJShlZGl0cylzIHRpbWVcIixcbiAgICAgIFwiZWRpdGVkICUoZWRpdHMpcyB0aW1lc1wiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zZWUtZWRpdHMgaGlkZGVuLXhzXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZWRpdHM6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHNDb21wYWN0cyBleHRlbmRzIFBvc3RFZGl0cyB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9XG4gICAgICB0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuICYmICF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuXG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMFxuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShlZGl0cylzIGVkaXRcIixcbiAgICAgIFwiJShlZGl0cylzIGVkaXRzXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgYnRuLXNlZS1lZGl0cyB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZGl0czogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICl9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZExhYmVsKHByb3BzKSB7XG4gIGNvbnN0IHBvc3RBdXRob3IgPSBwcm9wcy5wb3N0LnBvc3RlciAmJiBwcm9wcy5wb3N0LnBvc3Rlci5pZCA9PT0gcHJvcHMudXNlci5pZFxuICBjb25zdCBoYXNBY2wgPSBwcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdFxuICBjb25zdCBpc1Zpc2libGUgPVxuICAgIHByb3BzLnVzZXIuaWQgJiYgcHJvcHMucG9zdC5pc19wcm90ZWN0ZWQgJiYgKHBvc3RBdXRob3IgfHwgaGFzQWNsKVxuXG4gIGlmICghaXNWaXNpYmxlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXByb3RlY3RlZCBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgcHJvdGVjdGVkIGFuZCBtYXkgbm90IGJlIGVkaXRlZC5cIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwicHJvdGVjdGVkXCIpfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXR0YWNobWVudHMgZnJvbSBcIi4vYXR0YWNobWVudHNcIlxuaW1wb3J0IEJvZHkgZnJvbSBcIi4vYm9keVwiXG5pbXBvcnQge1xuICBGbGFnQmVzdEFuc3dlcixcbiAgRmxhZ0hpZGRlbixcbiAgRmxhZ1VuYXBwcm92ZWQsXG4gIEZsYWdQcm90ZWN0ZWRcbn0gZnJvbSBcIi4vZmxhZ3NcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi9mb290ZXJcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFBvc3RTaWRlIGZyb20gXCIuL3Bvc3Qtc2lkZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcInBvc3RcIlxuICBpZiAocHJvcHMucG9zdC5pc0RlbGV0ZWQpIHtcbiAgICBjbGFzc05hbWUgPSBcImhpZGVcIlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuICYmICFwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwicG9zdCBwb3N0LWhpZGRlblwiXG4gIH1cblxuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIgJiYgcHJvcHMucG9zdC5wb3N0ZXIucmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgcG9zdC1cIiArIHByb3BzLnBvc3QucG9zdGVyLnJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICBpZiAoIXByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBwb3N0LW5ld1wiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17XCJwb3N0LVwiICsgcHJvcHMucG9zdC5pZH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxQb3N0U2lkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICA8SGVhZGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdVbmFwcHJvdmVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdQcm90ZWN0ZWQgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8RmxhZ0hpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxCb2R5IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEF0dGFjaG1lbnRzIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZvb3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9sc1wiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0XCJcbmltcG9ydCBVc2VyU3RhdHVzLCB7XG4gIFN0YXR1c0ljb24sXG4gIFN0YXR1c0xhYmVsXG59IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5pbXBvcnQgVXNlclBvc3Rjb3VudCBmcm9tIFwiLi91c2VyLXBvc3Rjb3VudFwiXG5pbXBvcnQgVXNlclRpdGxlIGZyb20gXCIuL3VzZXItdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTMgcG9zdC1zaWRlIHBvc3Qtc2lkZS1hbm9ueW1vdXNcIj5cbiAgICAgIDxTZWxlY3QgcG9zdD17cG9zdH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8Q29udHJvbHMgcG9zdD17cG9zdH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17MTAwfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmcgaXRlbS10aXRsZVwiPntwb3N0LnBvc3Rlcl9uYW1lfTwvc3Bhbj5cblxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgdXNlci10aXRsZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlZCB1c2VyXCIpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB0aXRsZSwgcmFuayB9KSB7XG4gIHJldHVybiByYW5rLmlzX3RhYiB8fCAhIXRpdGxlIHx8ICEhcmFuay50aXRsZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQW5vbnltb3VzIGZyb20gXCIuL2Fub255bW91c1wiXG5pbXBvcnQgUmVnaXN0ZXJlZCBmcm9tIFwiLi9yZWdpc3RlcmVkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgcmV0dXJuIDxSZWdpc3RlcmVkIHsuLi5wcm9wc30gLz5cbiAgfVxuXG4gIHJldHVybiA8QW5vbnltb3VzIHsuLi5wcm9wc30gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBDb250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9zZWxlY3RcIlxuaW1wb3J0IFVzZXJTdGF0dXMsIHsgU3RhdHVzSWNvbiB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5pbXBvcnQgVXNlclBvc3Rjb3VudCBmcm9tIFwiLi91c2VyLXBvc3Rjb3VudFwiXG5pbXBvcnQgVXNlclN0YXR1c0xhYmVsIGZyb20gXCIuL3VzZXItc3RhdHVzXCJcbmltcG9ydCBVc2VyVGl0bGUgZnJvbSBcIi4vdXNlci10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgdGhyZWFkIH0pIHtcbiAgY29uc3QgeyBwb3N0ZXIgfSA9IHBvc3RcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zIHBvc3Qtc2lkZSBwb3N0LXNpZGUtcmVnaXN0ZXJlZFwiPlxuICAgICAgPFNlbGVjdCBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxDb250cm9scyBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGEgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXsxMDB9IHVzZXI9e3Bvc3Rlcn0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgICAge3Bvc3Rlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17cG9zdGVyLnN0YXR1c30+XG4gICAgICAgICAgICAgIDxTdGF0dXNJY29uIHN0YXR1cz17cG9zdGVyLnN0YXR1c30gLz5cbiAgICAgICAgICAgIDwvVXNlclN0YXR1cz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxVc2VyVGl0bGUgcmFuaz17cG9zdGVyLnJhbmt9IHRpdGxlPXtwb3N0ZXIudGl0bGV9IC8+XG5cbiAgICAgICAgICA8VXNlclN0YXR1c0xhYmVsIHBvc3Rlcj17cG9zdGVyfSAvPlxuICAgICAgICAgIDxVc2VyUG9zdGNvdW50IHBvc3Rlcj17cG9zdGVyfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBoYXNWaXNpYmxlVGl0bGUgZnJvbSBcIi4vaGFzLXZpc2libGUtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3RlciB9KSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUocG9zdHMpcyBwb3N0XCIsIFwiJShwb3N0cylzIHBvc3RzXCIsIHBvc3Rlci5wb3N0cylcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ1c2VyLXBvc3Rjb3VudFwiXG4gIGlmIChoYXNWaXNpYmxlVGl0bGUocG9zdGVyKSkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgcG9zdHM6IHBvc3Rlci5wb3N0c1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNMYWJlbCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5pbXBvcnQgaGFzVmlzaWJsZVRpdGxlIGZyb20gXCIuL2hhcy12aXNpYmxlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0ZXIgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJoaWRkZW4teHNcIlxuICBpZiAoaGFzVmlzaWJsZVRpdGxlKHBvc3RlcikpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0xhYmVsIHN0YXR1cz17cG9zdGVyLnN0YXR1c30gdXNlcj17cG9zdGVyfSAvPlxuICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmFuaywgdGl0bGUgfSkge1xuICBsZXQgdXNlclRpdGxlID0gdGl0bGUgfHwgcmFuay50aXRsZVxuICBpZiAoIXVzZXJUaXRsZSAmJiByYW5rLmlzX3RhYikge1xuICAgIHVzZXJUaXRsZSA9IHJhbmsubmFtZVxuICB9XG5cbiAgaWYgKCF1c2VyVGl0bGUpIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidXNlci10aXRsZVwiXG4gIGlmIChyYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiB1c2VyLXRpdGxlLVwiICsgcmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIGlmIChyYW5rLmlzX3RhYikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGEgaHJlZj17cmFuay51cmx9Pnt1c2VyVGl0bGV9PC9hPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9Pnt1c2VyVGl0bGV9PC9kaXY+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nIHBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIj5cbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3QodGhpcy5wcm9wcy5wb3N0KSlcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuc2VsZWN0KHRoaXMucHJvcHMucG9zdCkpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmIChcbiAgICAgICEodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZV9wb3N0cyB8fCBpc1Zpc2libGUodGhpcy5wcm9wcy5wb3N0LmFjbCkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZFxuICAgICAgICAgICAgICA/IFwiY2hlY2tfYm94XCJcbiAgICAgICAgICAgICAgOiBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGFjbCkge1xuICByZXR1cm4gKFxuICAgIGFjbC5jYW5fYXBwcm92ZSB8fFxuICAgIGFjbC5jYW5faGlkZSB8fFxuICAgIGFjbC5jYW5fcHJvdGVjdCB8fFxuICAgIGFjbC5jYW5fdW5oaWRlIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX21vdmVcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKlxuICBTdXBlciBuYWl2ZSBhbmQgZGUtZmFjdG8gcGxhY2Vob2xkZXIgaW1wbGVtZW50YXRpb24gZm9yIHJlYWRpbmcgcG9zdHMgb24gc2Nyb2xsXG4gICovXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuIC8vIGRvbid0IHJlZ2lzdGVyIHJlYWQgdHJhY2tlclxuXG4gICAgJCh0aGlzLmRvY3VtZW50Tm9kZSkud2F5cG9pbnQoe1xuICAgICAgaGFuZGxlcjogZGlyZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gXCJkb3duXCIgfHwgdGhpcy5wcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVyblxuXG4gICAgICAgIC8vIGFmdGVyIDE1MDBtcyBydW4gZmxhZyBwb3N0IGFzIHJlYWQgbG9naWNcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIHBvc3QncyBib3R0b20gZWRnZSBpcyBzdGlsbCBpbiB2aWV3cG9ydFxuICAgICAgICAgIGNvbnN0IGJvdW5kaW5nQ2xpZW50UmVjdCA9IHRoaXMuZG9jdW1lbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgY29uc3Qgb2Zmc2V0Qm90dG9tID1cbiAgICAgICAgICAgIGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgKyBib3VuZGluZ0NsaWVudFJlY3QudG9wXG4gICAgICAgICAgY29uc3QgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXG4gICAgICAgICAgaWYgKG9mZnNldEJvdHRvbSA8IDUpIHJldHVybiAvLyBzY3JvbGxlZCBwYXN0IHRoZSBwb3N0XG4gICAgICAgICAgaWYgKG9mZnNldEJvdHRvbSA+IGNsaWVudEhlaWdodCkgcmV0dXJuIC8vIHNjcm9sbGVkIGJhY2sgdXBcblxuICAgICAgICAgIC8vIG1hcmsgcG9zdCBhcyByZWFkXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgICBpc19yZWFkOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcblxuICAgICAgICAgIC8vIGNhbGwgQVBJIHRvIGxldCBpdCBrbm93IHdlIGhhdmUgdW5yZWFkIHBvc3RcbiAgICAgICAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wb3N0LmFwaS5yZWFkKS50aGVuKFxuICAgICAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIHRocmVhZC51cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQ6IGRhdGEudGhyZWFkX2lzX3JlYWRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfSwgMTAwMClcbiAgICAgIH0sXG4gICAgICBvZmZzZXQ6IFwiYm90dG9tLWluLXZpZXdcIlxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgcmVmPXtub2RlID0+IHtcbiAgICAgICAgICB0aGlzLmRvY3VtZW50Tm9kZSA9IG5vZGVcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYW5lbExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyXCJcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2VcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlBST0ZJTEVfQkFOXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKFwiUFJPRklMRV9CQU5cIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wcm9maWxlLmFwaS5iYW4pXG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoYmFuKSB7XG4gICAgaWYgKGJhbi5leHBpcmVzX29uKSB7XG4gICAgICBiYW4uZXhwaXJlc19vbiA9IG1vbWVudChiYW4uZXhwaXJlc19vbilcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBiYW5cbiAgICB9XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcImJhbi1kZXRhaWxzXCIsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZSxcbiAgICAgIGVycm9yOiB0aGlzLmVycm9yXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGJhbiA9PiB7XG4gICAgaWYgKGJhbi5leHBpcmVzX29uKSB7XG4gICAgICBiYW4uZXhwaXJlc19vbiA9IG1vbWVudChiYW4uZXhwaXJlc19vbilcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGJhblxuICAgIH0pXG4gIH1cblxuICBlcnJvciA9IGVycm9yID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IGVycm9yLmRldGFpbCxcbiAgICAgIGJhbjogbnVsbFxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJCYW4gZGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoXCJiYW4tZGV0YWlsc1wiKVxuICB9XG5cbiAgZ2V0VXNlck1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnVzZXJfbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi11c2VyLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDQ+e2dldHRleHQoXCJVc2VyLXNob3duIGJhbiBtZXNzYWdlXCIpfTwvaDQ+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGVhZFwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMuc3RhdGUuYmFuLnVzZXJfbWVzc2FnZS5odG1sXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldFN0YWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uc3RhZmZfbWVzc2FnZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi1zdGFmZi1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0PntnZXR0ZXh0KFwiVGVhbS1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxlYWRcIlxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzIG9uICUoZXhwaXJlc19vbilzLlwiKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzX29uOiB0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhwaXJlc19vbjogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mcm9tTm93KClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiA8YWJiciB0aXRsZT17dGl0bGV9PnttZXNzYWdlfTwvYWJicj5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIGJhbiBpcyBwZXJtYW5lbnQuXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0UGFuZWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbikge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuYmFuKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge3RoaXMuZ2V0VXNlck1lc3NhZ2UoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFN0YWZmTWVzc2FnZSgpfVxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLWV4cGlyZXNcIj5cbiAgICAgICAgICAgICAgPGg0PntnZXR0ZXh0KFwiQmFuIGV4cGlyYXRpb25cIil9PC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgICAgICAgICAgbWVzc2FnZT17Z2V0dGV4dChcIk5vIGJhbiBpcyBhY3RpdmUgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxQYW5lbE1lc3NhZ2UgaWNvbj1cImVycm9yX291dGxpbmVcIiBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8UGFuZWxMb2FkZXIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtYmFuLWRldGFpbHNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7dGhpcy5nZXRQYW5lbEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzQXV0aGVudGljYXRlZCwgcHJvZmlsZSB9KSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgYXJlIG5vdCBzaGFyaW5nIGFueSBkZXRhaWxzIHdpdGggb3RoZXJzLlwiKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgbm90IHNoYXJpbmcgYW55IGRldGFpbHMgd2l0aCBvdGhlcnMuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvZmlsZS51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHRleHQtY2VudGVyIGxlYWRcIj57bWVzc2FnZX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgaHRtbCwgdGV4dCwgdXJsIH0pIHtcbiAgaWYgKGh0bWwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wtc3RhdGljIGNvbC1tZC05XCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBodG1sIH19XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wtc3RhdGljIGNvbC1tZC05XCI+XG4gICAgICA8U2FmZVZhbHVlIHRleHQ9e3RleHR9IHVybD17dXJsfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYWZlVmFsdWUoeyB0ZXh0LCB1cmwgfSkge1xuICBpZiAodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwPlxuICAgICAgICA8YSBocmVmPXt1cmx9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vZm9sbG93XCI+XG4gICAgICAgICAge3RleHQgfHwgdXJsfVxuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG5cbiAgaWYgKHRleHQpIHtcbiAgICByZXR1cm4gPHA+e3RleHR9PC9wPlxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZpZWxkVmFsdWUgZnJvbSBcIi4vZmllbGQtdmFsdWVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgPHN0cm9uZyBjbGFzc05hbWU9XCJjb250cm9sLWxhYmVsIGNvbC1tZC0zXCI+e3Byb3BzLm5hbWV9Ojwvc3Ryb25nPlxuICAgICAgPEZpZWxkVmFsdWUgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0LWRldGFpbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGFwaSwgZGlzcGxheSwgb25DYW5jZWwsIG9uU3VjY2VzcyB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPEZvcm0gYXBpPXthcGl9IG9uQ2FuY2VsPXtvbkNhbmNlbH0gb25TdWNjZXNzPXtvblN1Y2Nlc3N9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZCBmcm9tIFwiLi9maWVsZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZmllbGRzLCBuYW1lIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcHJvZmlsZS1kZXRhaWxzLWdyb3VwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e25hbWV9PC9oMz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICAgICAge2ZpZWxkcy5tYXAoKHsgZmllbGRuYW1lLCBodG1sLCBuYW1lLCB0ZXh0LCB1cmwgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEZpZWxkXG4gICAgICAgICAgICAgICAga2V5PXtmaWVsZG5hbWV9XG4gICAgICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgICAgICBodG1sPXtodG1sfVxuICAgICAgICAgICAgICAgIHRleHQ9e3RleHR9XG4gICAgICAgICAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVtcHR5TWVzc2FnZSBmcm9tIFwiLi9lbXB0eS1tZXNzYWdlXCJcbmltcG9ydCBHcm91cCBmcm9tIFwiLi9ncm91cFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7XG4gIGRpc3BsYXksXG4gIGdyb3VwcyxcbiAgaXNBdXRoZW50aWNhdGVkLFxuICBsb2FkaW5nLFxuICBwcm9maWxlXG59KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiA8TG9hZGVyIC8+XG4gIH1cblxuICBpZiAoIWdyb3Vwcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gPEVtcHR5TWVzc2FnZSBpc0F1dGhlbnRpY2F0ZWQ9e2lzQXV0aGVudGljYXRlZH0gcHJvZmlsZT17cHJvZmlsZX0gLz5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIHtncm91cHMubWFwKChncm91cCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gPEdyb3VwIGZpZWxkcz17Z3JvdXAuZmllbGRzfSBrZXk9e2l9IG5hbWU9e2dyb3VwLm5hbWV9IC8+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgb25FZGl0LCBzaG93RWRpdEJ1dHRvbiB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTEwXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwibWQtbWFyZ2luLXRvcC1ub1wiPntnZXR0ZXh0KFwiRGV0YWlsc1wiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxFZGl0QnV0dG9uIG9uRWRpdD17b25FZGl0fSBzaG93RWRpdEJ1dHRvbj17c2hvd0VkaXRCdXR0b259IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVkaXRCdXR0b24oeyBvbkVkaXQsIHNob3dFZGl0QnV0dG9uIH0pIHtcbiAgaWYgKCFzaG93RWRpdEJ1dHRvbikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGJ0bi1ibG9ja1wiXG4gICAgICAgIG9uQ2xpY2s9e29uRWRpdH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IEdyb3Vwc0xpc3QgZnJvbSBcIi4vZ3JvdXBzLWxpc3RcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFByb2ZpbGVEZXRhaWxzRGF0YSBmcm9tIFwibWlzYWdvL2RhdGEvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCB7IGxvYWQgYXMgbG9hZERldGFpbHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlsc1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVkaXRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KVxuICB9XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiB0cnVlIH0pXG4gIH1cblxuICBvblN1Y2Nlc3MgPSBuZXdEZXRhaWxzID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpc0F1dGhlbnRpY2F0ZWQsIHByb2ZpbGUgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCBtZXNzYWdlID0gbnVsbFxuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91ciBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkLlwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkLlwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiBwcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG5cbiAgICBzbmFja2Jhci5pbmZvKG1lc3NhZ2UpXG4gICAgZGlzcGF0Y2gobG9hZERldGFpbHMobmV3RGV0YWlscykpXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IGZhbHNlIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCwgaXNBdXRoZW50aWNhdGVkLCBwcm9maWxlLCBwcm9maWxlRGV0YWlscyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGxvYWRpbmcgPSBwcm9maWxlRGV0YWlscy5pZCAhPT0gcHJvZmlsZS5pZFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQcm9maWxlRGV0YWlsc0RhdGFcbiAgICAgICAgZGF0YT17cHJvZmlsZURldGFpbHN9XG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgdXNlcj17cHJvZmlsZX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWRldGFpbHNcIj5cbiAgICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgICBvbkVkaXQ9e3RoaXMub25FZGl0fVxuICAgICAgICAgICAgc2hvd0VkaXRCdXR0b249eyEhcHJvZmlsZURldGFpbHMuZWRpdCAmJiAhdGhpcy5zdGF0ZS5lZGl0aW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEdyb3Vwc0xpc3RcbiAgICAgICAgICAgIGRpc3BsYXk9eyF0aGlzLnN0YXRlLmVkaXRpbmd9XG4gICAgICAgICAgICBncm91cHM9e3Byb2ZpbGVEZXRhaWxzLmdyb3Vwc31cbiAgICAgICAgICAgIGlzQXV0aGVudGljYXRlZD17aXNBdXRoZW50aWNhdGVkfVxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgIHByb2ZpbGU9e3Byb2ZpbGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgYXBpPXtwcm9maWxlLmFwaS5lZGl0X2RldGFpbHN9XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBkaXNwbGF5PXt0aGlzLnN0YXRlLmVkaXRpbmd9XG4gICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5vblN1Y2Nlc3N9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1Byb2ZpbGVEZXRhaWxzRGF0YT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJvdXRlIGZyb20gXCIuL3JvdXRlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGxcbiAgaWYgKHByb3BzLnVzZXIuaWQgPT09IHByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGhhdmUgbm8gc3RhcnRlZCB0aHJlYWRzLlwiKVxuICB9IGVsc2Uge1xuICAgIGVtcHR5TWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBzdGFydGVkIG5vIHRocmVhZHMuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbFxuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgaGVhZGVyID0gZ2V0dGV4dChcIkxvYWRpbmcuLi5cIilcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJZb3UgaGF2ZSBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZC5cIixcbiAgICAgIFwiWW91IGhhdmUgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWRzLlwiLFxuICAgICAgcHJvcHMucHJvZmlsZS50aHJlYWRzXG4gICAgKVxuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICB0aHJlYWRzOiBwcm9wcy5wcm9maWxlLnRocmVhZHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZC5cIixcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZHMuXCIsXG4gICAgICBwcm9wcy5wcm9maWxlLnRocmVhZHNcbiAgICApXG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICB0aHJlYWRzOiBwcm9wcy5wcm9maWxlLnRocmVhZHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGkudGhyZWFkc31cbiAgICAgIGVtcHR5TWVzc2FnZT17ZW1wdHlNZXNzYWdlfVxuICAgICAgaGVhZGVyPXtoZWFkZXJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlRocmVhZHNcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGxcbiAgaWYgKHByb3BzLnVzZXIuaWQgPT09IHByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGhhdmUgcG9zdGVkIG5vIG1lc3NhZ2VzLlwiKVxuICB9IGVsc2Uge1xuICAgIGVtcHR5TWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBwb3N0ZWQgbm8gbWVzc2FnZXMuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbFxuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgaGVhZGVyID0gZ2V0dGV4dChcIkxvYWRpbmcuLi5cIilcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJZb3UgaGF2ZSBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIllvdSBoYXZlIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZXMuXCIsXG4gICAgICBwcm9wcy5wcm9maWxlLnBvc3RzXG4gICAgKVxuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICBwb3N0czogcHJvcHMucHJvZmlsZS5wb3N0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZS5cIixcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2VzLlwiLFxuICAgICAgcHJvcHMucHJvZmlsZS5wb3N0c1xuICAgIClcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgIHBvc3RzOiBwcm9wcy5wcm9maWxlLnBvc3RzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJvdXRlXG4gICAgICBhcGk9e3Byb3BzLnByb2ZpbGUuYXBpLnBvc3RzfVxuICAgICAgZW1wdHlNZXNzYWdlPXtlbXB0eU1lc3NhZ2V9XG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUG9zdHNcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUG9zdEZlZWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtZmVlZFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgbG9hZEl0ZW1zKHN0YXJ0ID0gMCkge1xuICAgIGFqYXhcbiAgICAgIC5nZXQodGhpcy5wcm9wcy5hcGksIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0IHx8IDBcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXJ0ID09PSAwKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5hcHBlbmQoZGF0YSkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRJdGVtcyh0aGlzLnByb3BzLnBvc3RzLm5leHQpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRJdGVtcygpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1mZWVkXCI+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj57dGhpcy5wcm9wcy5oZWFkZXJ9PC9oMz5cbiAgICAgICAgPC9uYXY+XG4gICAgICAgIDxGZWVkXG4gICAgICAgICAgaXNMb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBsb2FkTW9yZT17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmVlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLnJlc3VsdHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57cHJvcHMuZW1wdHlNZXNzYWdlfTwvcD5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxQb3N0RmVlZFxuICAgICAgICBpc1JlYWR5PXtwcm9wcy5wb3N0cy5pc0xvYWRlZH1cbiAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzLnJlc3VsdHN9XG4gICAgICAgIHBvc3Rlcj17cHJvcHMucHJvZmlsZX1cbiAgICAgIC8+XG4gICAgICA8TG9hZE1vcmVCdXR0b25cbiAgICAgICAgaXNMb2FkaW5nPXtwcm9wcy5pc0xvYWRpbmd9XG4gICAgICAgIGxvYWRNb3JlPXtwcm9wcy5sb2FkTW9yZX1cbiAgICAgICAgbmV4dD17cHJvcHMucG9zdHMubmV4dH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRNb3JlQnV0dG9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMubmV4dCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICBsb2FkaW5nPXtwcm9wcy5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlNob3cgb2xkZXIgYWN0aXZpdHlcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGVcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgXCIgYnRuLWRlZmF1bHQgYnRuLWZvbGxvd2luZ1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dcIlxuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuIFwiZmF2b3JpdGVcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJmYXZvcml0ZV9ib3JkZXJcIlxuICAgIH1cbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRm9sbG93aW5nXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRm9sbG93XCIpXG4gICAgfVxuICB9XG5cbiAgYWN0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBwYXRjaCh7XG4gICAgICAgICAgaXNfZm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyAtIDFcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBhdGNoKHtcbiAgICAgICAgICBpc19mb2xsb3dlZDogdHJ1ZSxcbiAgICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgKyAxXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkuZm9sbG93KS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgfSlcblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaChkYXRhKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aW9ufVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3RoaXMuZ2V0SWNvbigpfTwvc3Bhbj5cbiAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IFNlYXJjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoXCJcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUsIGFwcGVuZCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnNldFNwZWNpYWxQcm9wcygpXG5cbiAgICBpZiAobWlzYWdvLmhhcyh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AodGhpcy5QUkVMT0FERURfREFUQV9LRVkpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuICB9XG5cbiAgc2V0U3BlY2lhbFByb3BzKCkge1xuICAgIHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZID0gXCJQUk9GSUxFX0ZPTExPV0VSU1wiXG4gICAgdGhpcy5USVRMRSA9IGdldHRleHQoXCJGb2xsb3dlcnNcIilcbiAgICB0aGlzLkFQSV9GSUxURVIgPSBcImZvbGxvd2Vyc1wiXG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogXCJcIixcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfVxuXG4gICAgdGhpcy5sb2FkVXNlcnMoKVxuICB9XG5cbiAgbG9hZFVzZXJzKHBhZ2UgPSAxLCBzZWFyY2ggPSBudWxsKSB7XG4gICAgY29uc3QgYXBpVXJsID0gdGhpcy5wcm9wcy5wcm9maWxlLmFwaVt0aGlzLkFQSV9GSUxURVJdXG5cbiAgICBhamF4XG4gICAgICAuZ2V0KFxuICAgICAgICBhcGlVcmwsXG4gICAgICAgIHtcbiAgICAgICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1c2VyLVwiICsgdGhpcy5BUElfRklMVEVSXG4gICAgICApXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMuVElUTEUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRVc2Vycyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaClcbiAgfVxuXG4gIHNlYXJjaCA9IGV2ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSlcblxuICAgIHRoaXMubG9hZFVzZXJzKDEsIGV2LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJMb2FkaW5nLi4uXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGhhdmUgJSh1c2VycylzIGZvbGxvd2VyLlwiLFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBoYXMgJSh1c2VycylzIGZvbGxvd2VyLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBoYXMgJSh1c2VycylzIGZvbGxvd2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VycyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSBubyBmb2xsb3dlcnMuXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBoYXMgbm8gZm9sbG93ZXJzLlwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1vcmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBnZXR0ZXh0KFwiU2hvdyBtb3JlICglKG1vcmUpcylcIiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vcmU6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldExpc3RCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkICYmIHRoaXMuc3RhdGUuY291bnQgPT09IDApIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9PC9wPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8VXNlcnNMaXN0XG4gICAgICAgICAgY29scz17M31cbiAgICAgICAgICBpc1JlYWR5PXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gXCJwcm9maWxlLVwiICsgdGhpcy5BUElfRklMVEVSXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPnt0aGlzLmdldExhYmVsKCl9PC9oMz5cblxuICAgICAgICAgIDxTZWFyY2hcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2ggdXNlcnMuLi5cIil9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9uYXY+XG5cbiAgICAgICAge3RoaXMuZ2V0TGlzdEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9sbG93ZXJzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vyc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9sbG93ZXJzIHtcbiAgc2V0U3BlY2lhbFByb3BzKCkge1xuICAgIHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZID0gXCJQUk9GSUxFX0ZPTExPV1NcIlxuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KFwiRm9sbG93c1wiKVxuICAgIHRoaXMuQVBJX0ZJTFRFUiA9IFwiZm9sbG93c1wiXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTG9hZGluZy4uLlwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaXMgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VycyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgYXJlIG5vdCBmb2xsb3dpbmcgYW55IHVzZXJzLlwiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gXCIuL2ZvbGxvdy1idXR0b25cIlxuaW1wb3J0IE1lc3NhZ2VCdXR0b24gZnJvbSBcIi4vbWVzc2FnZS1idXR0b25cIlxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSBcIi4vbW9kZXJhdGlvbi9uYXZcIlxuaW1wb3J0IHsgQ29tcGFjdE5hdiB9IGZyb20gXCIuL25hdnNcIlxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzLWRpc3BsYXlcIj5cbiAgICAgICAgPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9IHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c30+XG4gICAgICAgICAgPFN0YXR1c0ljb25cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L1N0YXR1cz5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VXNlclJhbmsoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLmlzX3RhYikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLnVybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1yYW5rXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5uYW1lfTwvc3Bhbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS50aXRsZSkge1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+e3RoaXMucHJvcHMucHJvZmlsZS50aXRsZX08L2xpPlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGUpIHtcbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUucmFuay50aXRsZX08L2xpPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEpvaW5lZE9uKCkge1xuICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIkpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpLFxuICAgICAge1xuICAgICAgICBqb2luZWRfb246IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGxldCBhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSxcbiAgICAgIHtcbiAgICAgICAgam9pbmVkX29uOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItam9pbmVkLW9uXCI+XG4gICAgICAgIDxhYmJyIHRpdGxlPXt0aXRsZX0+e2FnZX08L2FiYnI+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEVtYWlsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuZW1haWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWVtYWlsXCI+XG4gICAgICAgICAgPGEgaHJlZj17XCJtYWlsdG86XCIgKyB0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEZvbGxvd0J1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9sbG93QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldE1vZGVyYXRpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1tb2RlcmF0ZSBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnRvbmFsaXR5PC9zcGFuPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxNb2RlcmF0aW9uTmF2IHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhbkZvbGxvdyA9IHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvd1xuICAgIGNvbnN0IGNhbk1vZGVyYXRlID0gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGVcblxuICAgIGNvbnN0IGlzUHJvZmlsZU93bmVyID0gdGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWRcbiAgICBjb25zdCBjYW5NZXNzYWdlID1cbiAgICAgICFpc1Byb2ZpbGVPd25lciAmJiB0aGlzLnByb3BzLnVzZXIuYWNsLmNhbl9zdGFydF9wcml2YXRlX3RocmVhZHNcblxuICAgIGxldCBjb2xzID0gMFxuICAgIGlmIChjYW5Gb2xsb3cpIGNvbHMgKz0gMVxuICAgIGlmIChjYW5Nb2RlcmF0ZSkgY29scyArPSAxXG4gICAgaWYgKGNhbk1lc3NhZ2UpIGNvbHMgKz0gMVxuXG4gICAgY29uc3QgY29sc1dpZHRoID0gY29scyA/IDIgKiBjb2xzICsgMSA6IDBcblxuICAgIGxldCBoZWFkZXJDbGFzc05hbWUgPSBcInBhZ2UtaGVhZGVyXCJcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICBoZWFkZXJDbGFzc05hbWUgKz1cbiAgICAgICAgXCIgcGFnZS1oZWFkZXItcmFuay1cIiArIHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLmNzc19jbGFzc1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtoZWFkZXJDbGFzc05hbWV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8SXNEaXNhYmxlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgaXNBY3RpdmU9e3RoaXMucHJvcHMucHJvZmlsZS5pc19hY3RpdmV9XG4gICAgICAgICAgICAgIGlzRGVsZXRpbmdBY2NvdW50PXt0aGlzLnByb3BzLnByb2ZpbGUuaXNfZGVsZXRpbmdfYWNjb3VudH1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArICgxMiAtIGNvbHNXaWR0aCl9PlxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidXNlci1hdmF0YXIgdXNlci1hdmF0YXItc21cIlxuICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwiMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplMng9XCIyMDBcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8aDE+e3RoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZX08L2gxPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7ISFjb2xzICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiY29sLXNtLVwiICsgY29sc1dpZHRofT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHNtLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbk1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ISFjYW5Gb2xsb3cgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEZvbGxvd0J1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7ISFjYW5Nb2RlcmF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAyKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0TW9kZXJhdGlvbkJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1zdGF0c1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJTdGF0dXMoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclJhbmsoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEpvaW5lZE9uKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEVtYWlsKCl9XG4gICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPENvbXBhY3ROYXZcbiAgICAgICAgICAgIGJhc2VVcmw9e3RoaXMucHJvcHMuYmFzZVVybH1cbiAgICAgICAgICAgIHBhZ2VzPXt0aGlzLnByb3BzLnBhZ2VzfVxuICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0Rpc2FibGVkTWVzc2FnZSh7IGlzQWN0aXZlLCBpc0RlbGV0aW5nQWNjb3VudCB9KSB7XG4gIGlmIChpc0FjdGl2ZSAhPT0gZmFsc2UgJiYgaXNEZWxldGluZ0FjY291bnQgIT09IHRydWUpIHJldHVybiBudWxsXG5cbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmIChpc0RlbGV0aW5nQWNjb3VudCkge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVGhpcyB1c2VyIGlzIGRlbGV0aW5nIHRoZWlyIGFjY291bnQuXCIpXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGlzIHVzZXIncyBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGFkbWluaXN0cmF0b3IuXCIpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICA8cD57bWVzc2FnZX08L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbFN0eWxlKGNvbHMsIGNvbCkge1xuICBsZXQgY29sU3R5bGUgPSBcIlwiXG5cbiAgaWYgKGNvbHMgPT0gMSkge1xuICAgIGNvbFN0eWxlID0gXCJjb2wteHMtMTJcIlxuICB9XG5cbiAgaWYgKGNvbHMgPT0gMikge1xuICAgIGNvbFN0eWxlID0gXCJjb2wteHMtNiBjb2wtc20tNlwiXG4gIH1cblxuICBpZiAoY29scyA9PSAzKSB7XG4gICAgaWYgKGNvbCA9PSAyKSB7XG4gICAgICBjb2xTdHlsZSA9IFwiY29sLXhzLTEyIGNvbC1zbS00IHhzLW1hcmdpbi10b3BcIlxuICAgIH0gZWxzZSB7XG4gICAgICBjb2xTdHlsZSArPSBcImNvbC14cy02IGNvbC1zbS00XCJcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29sU3R5bGVcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJTVEFSVF9QUklWQVRFXCIsXG4gICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoXCJQUklWQVRFX1RIUkVBRFNfQVBJXCIpLFxuXG4gICAgICB0bzogW3RoaXMucHJvcHMucHJvZmlsZV1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhbk1lc3NhZ2UgPSB0aGlzLnByb3BzLnVzZXIuYWNsLmNhbl9zdGFydF9wcml2YXRlX3RocmVhZHNcbiAgICBjb25zdCBpc1Byb2ZpbGVPd25lciA9IHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkXG5cbiAgICBpZiAoIWNhbk1lc3NhZ2UgfHwgaXNQcm9maWxlT3duZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y29tbWVudDwvc3Bhbj5cbiAgICAgICAge2dldHRleHQoXCJNZXNzYWdlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiBcIlwiLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBcIlwiLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogXCJcIlxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfYXZhdGFyKS50aGVuKFxuICAgICAgb3B0aW9ucyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICAgICAgaXNfYXZhdGFyX2xvY2tlZDogb3B0aW9ucy5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UgfHwgXCJcIixcbiAgICAgICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2UgfHwgXCJcIlxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV9hdmF0YXIsIHtcbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IHRoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2UsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnByb2ZpbGUsIGFwaVJlc3BvbnNlLmF2YXRhcl9oYXNoKSlcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJBdmF0YXIgY29udHJvbHMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKVxuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTG9jayBhdmF0YXJcIil9XG4gICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJMb2NraW5nIHVzZXIgYXZhdGFyIHdpbGwgcHJvaGliaXQgdXNlciBmcm9tIGNoYW5naW5nIGhpcyBhdmF0YXIgYW5kIHdpbGwgcmVzZXQgaGlzL2hlciBhdmF0YXIgdG8gZGVmYXVsdCBvbmUuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBmb3I9XCJpZF9pc19hdmF0YXJfbG9ja2VkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgaWQ9XCJpZF9pc19hdmF0YXJfbG9ja2VkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBpY29uT249XCJsb2NrX291dGxpbmVcIlxuICAgICAgICAgICAgICBpY29uT2ZmPVwibG9ja19vcGVuXCJcbiAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkRpc2FsbG93IHVzZXIgZnJvbSBjaGFuZ2luZyBhdmF0YXJcIil9XG4gICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiQWxsb3cgdXNlciB0byBjaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19hdmF0YXJfbG9ja2VkXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVXNlciBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgIFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgdXNlciBleHBsYWluaW5nIHdoeSBoZS9zaGUgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiU3RhZmYgbWVzc2FnZVwiKX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIk9wdGlvbmFsIG1lc3NhZ2UgZm9yIGZvcnVtIHRlYW0gbWVtYmVycyBleHBsYWluaW5nIHdoeSB1c2VyIGlzIHByb2hpYml0ZWQgZm9ybSBjaGFuZ2luZyBhdmF0YXIuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgaWQ9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCIgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEZvcm1Cb2R5KClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWF2YXRhci1jb250cm9sc1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1hdmF0YXItY29udHJvbHNcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IHsgYWRkTmFtZUNoYW5nZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIHVzZXJuYW1lOiBcIlwiLFxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW3ZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV91c2VybmFtZSkudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfdXNlcm5hbWUsIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiBcIlwiXG4gICAgfSlcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWRkTmFtZUNoYW5nZShhcGlSZXNwb25zZSwgdGhpcy5wcm9wcy5wcm9maWxlLCB0aGlzLnByb3BzLnVzZXIpXG4gICAgKVxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlVXNlcm5hbWUodGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS51c2VybmFtZSwgYXBpUmVzcG9uc2Uuc2x1ZylcbiAgICApXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJVc2VybmFtZSBoYXMgYmVlbiBjaGFuZ2VkLlwiKSlcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIiBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVuYW1lLXVzZXJcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVuYW1lLXVzZXJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0RlbGV0ZWQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGNvdW50ZG93bjogNSxcbiAgICAgIGNvbmZpcm06IGZhbHNlLFxuXG4gICAgICB3aXRoX2NvbnRlbnQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5kZWxldGUpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5jb3VudGRvd24oKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgY291bnRkb3duID0gKCkgPT4ge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ZG93biA+IDEpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY291bnRkb3duOiB0aGlzLnN0YXRlLmNvdW50ZG93biAtIDFcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5jb3VudGRvd24oKVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5jb25maXJtKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvbmZpcm06IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCAxMDAwKVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkuZGVsZXRlLCB7XG4gICAgICB3aXRoX2NvbnRlbnQ6IHRoaXMuc3RhdGUud2l0aF9jb250ZW50XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgcG9sbHMuc3RvcChcInVzZXItcHJvZmlsZVwiKVxuXG4gICAgaWYgKHRoaXMuc3RhdGUud2l0aF9jb250ZW50KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFxuICAgICAgICAgICAgXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50LCB0aHJlYWRzLCBwb3N0cyBhbmQgb3RoZXIgY29udGVudCBoYXMgYmVlbiBkZWxldGVkLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXG4gICAgICAgICAgICBcIiUodXNlcm5hbWUpcydzIGFjY291bnQgaGFzIGJlZW4gZGVsZXRlZCBhbmQgb3RoZXIgY29udGVudCBoYXMgYmVlbiBoaWRkZW4uXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBnZXRCdXR0b25MYWJlbCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb25maXJtKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJEZWxldGUgJSh1c2VybmFtZSlzXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIlBsZWFzZSB3YWl0Li4uICglKGNvdW50ZG93bilzcylcIiksXG4gICAgICAgIHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuc3RhdGUuY291bnRkb3duXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRGb3JtKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVXNlciBjb250ZW50XCIpfSBmb3I9XCJpZF93aXRoX2NvbnRlbnRcIj5cbiAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICBpZD1cImlkX3dpdGhfY29udGVudFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkRlbGV0ZSB0b2dldGhlciB3aXRoIHVzZXIncyBhY2NvdW50XCIpfVxuICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIkhpZGUgYWZ0ZXIgZGVsZXRpbmcgdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIndpdGhfY29udGVudFwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2l0aF9jb250ZW50fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRhbmdlclwiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLmdldEJ1dHRvbkxhYmVsKCl9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIGdldERlbGV0ZWRCb2R5KCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuc3RhdGUuaXNEZWxldGVkfTwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKX0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmV0dXJuIHRvIHVzZXJzIGxpc3RcIil9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCIgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWxldGVkQm9keSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGb3JtKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IgfHwgdGhpcy5zdGF0ZS5pc0RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWRlbGV0ZS1hY2NvdW50XCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWRlbGV0ZS1hY2NvdW50XCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiRGVsZXRlIHVzZXIgYWNjb3VudFwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBBdmF0YXJDb250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2F2YXRhci1jb250cm9sc1wiXG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9jaGFuZ2UtdXNlcm5hbWVcIlxuaW1wb3J0IERlbGV0ZUFjY291bnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9kZWxldGUtYWNjb3VudFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aCxcbiAgICBwcm9maWxlOiBzdG9yZS5wcm9maWxlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93QXZhdGFyRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKEF2YXRhckNvbnRyb2xzKSlcbiAgfVxuXG4gIGdldEF2YXRhckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGVfYXZhdGFyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93QXZhdGFyRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wb3J0cmFpdDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNob3dSZW5hbWVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpKVxuICB9XG5cbiAgZ2V0UmVuYW1lQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9yZW5hbWUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dSZW5hbWVEaWFsb2d9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNyZWRpdF9jYXJkPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgc2hvd0RlbGV0ZURpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShEZWxldGVBY2NvdW50KSlcbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93RGVsZXRlRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiXG4gICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgID5cbiAgICAgICAge3RoaXMuZ2V0QXZhdGFyQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFJlbmFtZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBMaSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbGlcIlxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBjbGFzcyBTaWRlTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucGFnZXMubWFwKHBhZ2UgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntwYWdlLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3ROYXYocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyBoaWRkZW4tbWQgaGlkZGVuLWxnXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAge3Byb3BzLnBhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxMaVxuICAgICAgICAgICAgICAgIHBhdGg9e3Byb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICAgIGtleT17cGFnZS5jb21wb25lbnR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3BhZ2UuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEJhbkRldGFpbHMgZnJvbSBcIi4vYmFuLWRldGFpbHNcIlxuaW1wb3J0IERldGFpbHMgZnJvbSBcIi4vZGV0YWlsc1wiXG5pbXBvcnQgeyBQb3N0cywgVGhyZWFkcyB9IGZyb20gXCIuL2ZlZWRcIlxuaW1wb3J0IEZvbGxvd2VycyBmcm9tIFwiLi9mb2xsb3dlcnNcIlxuaW1wb3J0IEZvbGxvd3MgZnJvbSBcIi4vZm9sbG93c1wiXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gXCIuL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSBcIi4vbW9kZXJhdGlvbi9uYXZcIlxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gXCIuL25hdnNcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGVcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wcm9maWxlLmFwaS5pbmRleClcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcInVzZXItcHJvZmlsZVwiLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gbWlzYWdvLmdldChcIlBST0ZJTEVcIikudXJsXG4gICAgY29uc3QgcGFnZXMgPSBtaXNhZ28uZ2V0KFwiUFJPRklMRV9QQUdFU1wiKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXItcHJvZmlsZVwiPlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgdG9nZ2xlTW9kZXJhdGlvbj17dGhpcy50b2dnbGVNb2RlcmF0aW9ufVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1zaWRlLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzaXplPVwiNDAwXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPFNpZGVOYXZcbiAgICAgICAgICAgICAgICBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgICAgICAgIHBhZ2VzPXtwYWdlc31cbiAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIGlzQXV0aGVudGljYXRlZDogc3RvcmUuYXV0aC51c2VyLmlkID09PSBzdG9yZS5wcm9maWxlLmlkLFxuXG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICB1c2Vyczogc3RvcmUudXNlcnMsXG4gICAgcG9zdHM6IHN0b3JlLnBvc3RzLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gICAgcHJvZmlsZURldGFpbHM6IHN0b3JlW1wicHJvZmlsZS1kZXRhaWxzXCJdLFxuICAgIFwidXNlcm5hbWUtaGlzdG9yeVwiOiBzdG9yZVtcInVzZXJuYW1lLWhpc3RvcnlcIl1cbiAgfVxufVxuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICBwb3N0czogUG9zdHMsXG4gIHRocmVhZHM6IFRocmVhZHMsXG4gIGZvbGxvd2VyczogRm9sbG93ZXJzLFxuICBmb2xsb3dzOiBGb2xsb3dzLFxuICBkZXRhaWxzOiBEZXRhaWxzLFxuICBcInVzZXJuYW1lLWhpc3RvcnlcIjogVXNlcm5hbWVIaXN0b3J5LFxuICBcImJhbi1kZXRhaWxzXCI6IEJhbkRldGFpbHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXVxuICBtaXNhZ28uZ2V0KFwiUFJPRklMRV9QQUdFU1wiKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBwYXRocy5wdXNoKFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKS51cmwgKyBpdGVtLmNvbXBvbmVudCArIFwiL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDT01QT05FTlRTW2l0ZW0uY29tcG9uZW50XSlcbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IFNlYXJjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoXCJcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFX05BTUVfSElTVE9SWVwiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlBST0ZJTEVfTkFNRV9ISVNUT1JZXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH1cblxuICAgIHRoaXMubG9hZENoYW5nZXMoKVxuICB9XG5cbiAgbG9hZENoYW5nZXMocGFnZSA9IDEsIHNlYXJjaCA9IG51bGwpIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KFxuICAgICAgICBtaXNhZ28uZ2V0KFwiVVNFUk5BTUVfQ0hBTkdFU19BUElcIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyOiB0aGlzLnByb3BzLnByb2ZpbGUuaWQsXG4gICAgICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VhcmNoLXVzZXJuYW1lLWhpc3RvcnlcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVXNlcm5hbWUgaGlzdG9yeVwiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZENoYW5nZXModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpXG4gIH1cblxuICBzZWFyY2ggPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKDEsIGV2LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJMb2FkaW5nLi4uXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKGNoYW5nZXMpcyB1c2VybmFtZSBjaGFuZ2UuXCIsXG4gICAgICAgIFwiRm91bmQgJShjaGFuZ2VzKXMgdXNlcm5hbWUgY2hhbmdlcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBjaGFuZ2VzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZS5cIixcbiAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5nZXM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWUuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgICBjaGFuZ2VzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcbiAgICAgICAgXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcm5hbWUgY2hhbmdlcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCJcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIG5ldmVyIGNoYW5nZWQuXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubW9yZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIGdldHRleHQoXCJTaG93IG9sZGVyICglKG1vcmUpcylcIiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vcmU6IHRoaXMuc3RhdGUubW9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXVzZXJuYW1lLWhpc3RvcnlcIj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPnt0aGlzLmdldExhYmVsKCl9PC9oMz5cblxuICAgICAgICAgIDxTZWFyY2hcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHRcIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2ggaGlzdG9yeS4uLlwiKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L25hdj5cblxuICAgICAgICA8VXNlcm5hbWVIaXN0b3J5XG4gICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgZW1wdHlNZXNzYWdlPXt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbXCJ1c2VybmFtZS1oaXN0b3J5XCJdfVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2ggXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaFwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGdldHRleHQoXCJTZWFyY2guLi5cIil9XG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZWFyY2g8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcbmltcG9ydCBSZWdpc3RlckZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3JlZ2lzdGVyLmpzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgY2FwdGNoYSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2NhcHRjaGFcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcblxuICAgICAgY3JpdGVyaWE6IG51bGxcbiAgICB9XG4gIH1cblxuICBzaG93UmVnaXN0ZXJGb3JtID0gKCkgPT4ge1xuICAgIGlmIChtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuYWNjb3VudF9hY3RpdmF0aW9uID09PSBcImNsb3NlZFwiKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJOZXcgcmVnaXN0cmF0aW9ucyBhcmUgY3VycmVudGx5IGRpc2FibGVkLlwiKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIG1vZGFsLnNob3coPFJlZ2lzdGVyRm9ybSBjcml0ZXJpYT17dGhpcy5zdGF0ZS5jcml0ZXJpYX0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcblxuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjYXB0Y2hhLmxvYWQoKSxcbiAgICAgICAgYWpheC5nZXQobWlzYWdvLmdldChcIkFVVEhfQ1JJVEVSSUFfQVBJXCIpKVxuICAgICAgXSkudGhlbihcbiAgICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNyaXRlcmlhOiByZXN1bHRbMV1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbW9kYWwuc2hvdyg8UmVnaXN0ZXJGb3JtIGNyaXRlcmlhPXtyZXN1bHRbMV19IC8+KVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKFxuICAgICAgICAgICAgZ2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUgZHVlIHRvIGFuIGVycm9yLlwiKVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAodGhpcy5zdGF0ZS5pc0xvYWRpbmcgPyBcIiBidG4tbG9hZGluZ1wiIDogXCJcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e1wiYnRuIFwiICsgdGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dSZWdpc3RlckZvcm19XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIk1ha2UgQWNjb3VudFwiKX1cbiAgICAgICAge3RoaXMuc3RhdGUuaXNMb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGx9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IFBhc3N3b3JkU3RyZW5ndGggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bhc3N3b3JkLXN0cmVuZ3RoXCJcbmltcG9ydCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZVwiXG5pbXBvcnQgU3RhcnRTb2NpYWxBdXRoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9TdGFydFNvY2lhbEF1dGhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgYXV0aCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2F1dGhcIlxuaW1wb3J0IGNhcHRjaGEgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHRoaXMucHJvcHMuY3JpdGVyaWFcblxuICAgIGxldCBwYXNzd29yZE1pbkxlbmd0aCA9IDBcbiAgICBwYXNzd29yZC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gXCJNaW5pbXVtTGVuZ3RoVmFsaWRhdG9yXCIpIHtcbiAgICAgICAgcGFzc3dvcmRNaW5MZW5ndGggPSBpdGVtLm1pbl9sZW5ndGhcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7XG4gICAgICB1c2VybmFtZTogW1xuICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKHVzZXJuYW1lLm1pbl9sZW5ndGgpLFxuICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWF4TGVuZ3RoKHVzZXJuYW1lLm1heF9sZW5ndGgpXG4gICAgICBdLFxuICAgICAgZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldLFxuICAgICAgcGFzc3dvcmQ6IFt2YWxpZGF0b3JzLnBhc3N3b3JkTWluTGVuZ3RoKHBhc3N3b3JkTWluTGVuZ3RoKV0sXG4gICAgICBjYXB0Y2hhOiBjYXB0Y2hhLnZhbGlkYXRvcigpXG4gICAgfVxuXG4gICAgaWYgKCEhbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnRlcm1zT2ZTZXJ2aWNlID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRUZXJtc09mU2VydmljZSgpXVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMucHJpdmFjeVBvbGljeSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkUHJpdmFjeVBvbGljeSgpXVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogXCJcIixcbiAgICAgIGVtYWlsOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG4gICAgICBjYXB0Y2hhOiBcIlwiLFxuXG4gICAgICB0ZXJtc09mU2VydmljZTogbnVsbCxcbiAgICAgIHByaXZhY3lQb2xpY3k6IG51bGwsXG5cbiAgICAgIHZhbGlkYXRvcnM6IGZvcm1WYWxpZGF0b3JzLFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiVVNFUlNfQVBJXCIpLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmQsXG4gICAgICBjYXB0Y2hhOiB0aGlzLnN0YXRlLmNhcHRjaGEsXG4gICAgICB0ZXJtc19vZl9zZXJ2aWNlOiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlLFxuICAgICAgcHJpdmFjeV9wb2xpY3k6IHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KVxuXG4gICAgICBpZiAocmVqZWN0aW9uLl9fYWxsX18gJiYgcmVqZWN0aW9uLl9fYWxsX18ubGVuZ3RoID4gMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uX19hbGxfX1swXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICAgIG1vZGFsLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwicHJpdmFjeVBvbGljeVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJ0ZXJtc09mU2VydmljZVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZUFncmVlbWVudCA9IChhZ3JlZW1lbnQsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZVthZ3JlZW1lbnRdID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiB2YWx1ZSB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuc3RhdGUudmFsaWRhdG9yc1thZ3JlZW1lbnRdWzBdXG4gICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBbdmFsaWRhdG9yKG51bGwpXSB9XG4gICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1yZWdpc3RlclwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RlclwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPFN0YXJ0U29jaWFsQXV0aFxuICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiXG4gICAgICAgICAgICAgICAgYnV0dG9uTGFiZWw9e2dldHRleHQoXCJKb2luIHdpdGggJShzaXRlKXNcIil9XG4gICAgICAgICAgICAgICAgZm9ybUxhYmVsPXtnZXR0ZXh0KFwiT3IgY3JlYXRlIGZvcnVtIGFjY291bnQ6XCIpfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy51c2VybmFtZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3VzZXJuYW1lX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkUtbWFpbFwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuZW1haWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9lbWFpbF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiZW1haWxcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgZXh0cmE9e1xuICAgICAgICAgICAgICAgICAgPFBhc3N3b3JkU3RyZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIGlucHV0cz17W3RoaXMuc3RhdGUudXNlcm5hbWUsIHRoaXMuc3RhdGUuZW1haWxdfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfcGFzc3dvcmRfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAge2NhcHRjaGEuY29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICBmb3JtOiB0aGlzXG4gICAgICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgICAgIDxSZWdpc3RlckxlZ2FsRm9vdG5vdGVcbiAgICAgICAgICAgICAgICBlcnJvcnM9e3RoaXMuc3RhdGUuZXJyb3JzfVxuICAgICAgICAgICAgICAgIHByaXZhY3lQb2xpY3k9e3RoaXMuc3RhdGUucHJpdmFjeVBvbGljeX1cbiAgICAgICAgICAgICAgICB0ZXJtc09mU2VydmljZT17dGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZX1cbiAgICAgICAgICAgICAgICBvblByaXZhY3lQb2xpY3lDaGFuZ2U9e3RoaXMuaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZX1cbiAgICAgICAgICAgICAgICBvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlPXt0aGlzLmhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXIgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckNvbXBsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcInVzZXJcIikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgeW91IG5lZWQgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcImFkbWluXCIpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJvYXJkIGFkbWluaXN0cmF0b3Igd2lsbCBoYXZlIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCJcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRTdWJzY3JpcHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIldlIGhhdmUgc2VudCBhbiBlLW1haWwgdG8gJShlbWFpbClzIHdpdGggbGluayB0aGF0IHlvdSBoYXZlIHRvIGNsaWNrIHRvIGFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcImFkbWluXCIpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIldlIHdpbGwgc2VuZCBhbiBlLW1haWwgdG8gJShlbWFpbClzIHdoZW4gdGhpcyB0YWtlcyBwbGFjZS5cIlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZWdpc3RlclwiXG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBjb21wbGV0ZVwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGVhZCgpLFxuICAgICAgICAgICAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VybmFtZSB9LFxuICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJzY3JpcHQoKSxcbiAgICAgICAgICAgICAgICAgIHsgZW1haWw6IHRoaXMucHJvcHMuZW1haWwgfSxcbiAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZVJlZ2lzdHJhdGlvbiA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICBpZiAoYXBpUmVzcG9uc2UuYWN0aXZhdGlvbiA9PT0gXCJhY3RpdmVcIikge1xuICAgICAgbW9kYWwuaGlkZSgpXG4gICAgICBhdXRoLnNpZ25JbihhcGlSZXNwb25zZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWdpc3RlckNvbXBsZXRlXG4gICAgICAgICAgYWN0aXZhdGlvbj17dGhpcy5zdGF0ZS5jb21wbGV0ZS5hY3RpdmF0aW9ufVxuICAgICAgICAgIGVtYWlsPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmVtYWlsfVxuICAgICAgICAgIHVzZXJuYW1lPXt0aGlzLnN0YXRlLmNvbXBsZXRlLnVzZXJuYW1lfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiA8UmVnaXN0ZXJGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlUmVnaXN0cmF0aW9ufSB7Li4udGhpcy5wcm9wc30gLz5cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0TGlua0Zvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBlbWFpbDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBlbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJTRU5EX0FDVElWQVRJT05fQVBJXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbXCJhbHJlYWR5X2FjdGl2ZVwiLCBcImluYWN0aXZlX2FkbWluXCJdLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiWW91ciBlLW1haWwgYWRkcmVzc1wiKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiZW1haWxcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbmQgbGlua1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIkFjdGl2YXRpb24gbGluayB3YXMgc2VudCB0byAlKGVtYWlsKXNcIiksXG4gICAgICB7XG4gICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnVzZXIuZW1haWxcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGluayB3ZWxsLWRvbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cD57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX0gY2FsbGJhY2s9e3RoaXMucmVzZXR9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdExpbmtGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0UmVzZXRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZW1haWw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiU0VORF9QQVNTV09SRF9SRVNFVF9BUElcIiksIHtcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFtcImluYWN0aXZlX3VzZXJcIiwgXCJpbmFjdGl2ZV9hZG1pblwiXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmFjdGl2ZVBhZ2UocmVqZWN0aW9uKVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImVtYWlsXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZW5kIGxpbmtcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlua1NlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJSZXNldCBwYXNzd29yZCBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSxcbiAgICAgIHtcbiAgICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtcGFzc3dvcmQtcmVzZXQgd2VsbC1kb25lXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVjazwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHA+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5jYWxsYmFja31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgYW5vdGhlciBsaW5rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWNjb3VudEluYWN0aXZlUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEFjdGl2YXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwiaW5hY3RpdmVfdXNlclwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8cD5cbiAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTFwiKX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3A+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1pbmZvIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWluYWN0aXZlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57Z2V0dGV4dChcIllvdXIgYWNjb3VudCBpcyBpbmFjdGl2ZS5cIil9PC9wPlxuICAgICAgICAgICAgICA8cD57dGhpcy5wcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0QWN0aXZhdGVCdXR0b24oKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUgPSBhcGlSZXNwb25zZSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICB9KVxuICB9XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgc2hvd0luYWN0aXZlUGFnZShhcGlSZXNwb25zZSkge1xuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxBY2NvdW50SW5hY3RpdmVQYWdlXG4gICAgICAgIGFjdGl2YXRpb249e2FwaVJlc3BvbnNlLmNvZGV9XG4gICAgICAgIG1lc3NhZ2U9e2FwaVJlc3BvbnNlLmRldGFpbH1cbiAgICAgIC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWdlLW1vdW50XCIpXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gPExpbmtTZW50IGNhbGxiYWNrPXt0aGlzLnJlc2V0fSB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSAvPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVxdWVzdFJlc2V0Rm9ybVxuICAgICAgICBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX1cbiAgICAgICAgc2hvd0luYWN0aXZlUGFnZT17dGhpcy5zaG93SW5hY3RpdmVQYWdlfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgU2lnbkluTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBhdXRoIGZyb20gXCJtaXNhZ28vc2VydmljZXMvYXV0aFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIG5ldyBwYXNzd29yZC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIkNIQU5HRV9QQVNTV09SRF9BUElcIiksIHtcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXNldC1wYXNzd29yZFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIkVudGVyIG5ldyBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBwYXNzd29yZFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZENoYW5nZWRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIHBhc3N3b3JkIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMudXNlci51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBzaG93U2lnbkluKCkge1xuICAgIG1vZGFsLnNob3coU2lnbkluTW9kYWwpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLXN1Y2Nlc3MgcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtY2hhbmdlZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiWW91IHdpbGwgaGF2ZSB0byBzaWduIGluIHVzaW5nIG5ldyBwYXNzd29yZCBiZWZvcmUgY29udGludWluZy5cIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbklufVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcGxldGUgPSBhcGlSZXNwb25zZSA9PiB7XG4gICAgYXV0aC5zb2Z0U2lnbk91dCgpXG5cbiAgICAvLyBudWtlIFwicmVkaXJlY3RfdG9cIiBmaWVsZCBzbyB3ZSBkb24ndCBlbmRcbiAgICAvLyBjb21pbmcgYmFjayB0byBlcnJvciBwYWdlIGFmdGVyIHNpZ24gaW5cbiAgICAkKCcjaGlkZGVuLWxvZ2luLWZvcm0gaW5wdXRbbmFtZT1cInJlZGlyZWN0X3RvXCJdJykucmVtb3ZlKClcblxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxQYXNzd29yZENoYW5nZWRQYWdlIHVzZXI9e2FwaVJlc3BvbnNlfSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZS1tb3VudFwiKVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPFJlc2V0UGFzc3dvcmRGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPlxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgeyBsb2FkIGFzIHVwZGF0ZVBvc3RzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgeyB1cGRhdGUgYXMgdXBkYXRlU2VhcmNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWFyY2hcIlxuaW1wb3J0IHsgaHlkcmF0ZSBhcyB1cGRhdGVVc2VycyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBxdWVyeTogcHJvcHMuc2VhcmNoLnF1ZXJ5XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucXVlcnkubGVuZ3RoKSB7XG4gICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpXG4gICAgfVxuICB9XG5cbiAgb25RdWVyeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicXVlcnlcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBzZWFyY2ggcXVlcnkuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVTZWFyY2goe1xuICAgICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgcmV0dXJuIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJTRUFSQ0hfQVBJXCIpLCB7XG4gICAgICBxOiB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHByb3ZpZGVycykge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlU2VhcmNoKHtcbiAgICAgICAgcXVlcnk6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBwcm92aWRlcnNcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgcHJvdmlkZXJzLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBcInVzZXJzXCIpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlVXNlcnMocHJvdmlkZXIucmVzdWx0cy5yZXN1bHRzKSlcbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXIuaWQgPT09IFwidGhyZWFkc1wiKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVNlYXJjaCh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXIgcGFnZS1zZWFyY2gtZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zXCI+XG4gICAgICAgICAgICAgICAgICA8aDE+e2dldHRleHQoXCJTZWFyY2hcIil9PC9oMT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBzbS1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VhcmNoLmlzTG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWFyY2guaXNMb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNMb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTZWFyY2hcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgU2VhcmNoVGhyZWFkcyBmcm9tIFwiLi90aHJlYWRzXCJcbmltcG9ydCBTZWFyY2hVc2VycyBmcm9tIFwiLi91c2Vyc1wiXG5cbmNvbnN0IGNvbXBvbmVudHMgPSB7XG4gIHRocmVhZHM6IFNlYXJjaFRocmVhZHMsXG4gIHVzZXJzOiBTZWFyY2hVc2Vyc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgcG9zdHM6IHN0b3JlLnBvc3RzLFxuICAgIHNlYXJjaDogc3RvcmUuc2VhcmNoLFxuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgdXNlcnM6IHN0b3JlLnVzZXJzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvdmlkZXJzKSB7XG4gIHJldHVybiBwcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aDogcHJvdmlkZXIudXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoY29tcG9uZW50c1twcm92aWRlci5pZF0pLFxuICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gICAgfVxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBTaWRlTmF2IGZyb20gXCIuL3NpZGVuYXZcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNlYXJjaFwiPlxuICAgICAgPFNlYXJjaEZvcm0gcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfSBzZWFyY2g9e3Byb3BzLnNlYXJjaH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtM1wiPlxuICAgICAgICAgICAgPFNpZGVOYXYgcHJvdmlkZXJzPXtwcm9wcy5zZWFyY2gucHJvdmlkZXJzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTlcIj5cbiAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDxTZWFyY2hUaW1lIHByb3ZpZGVyPXtwcm9wcy5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaFRpbWUocHJvcHMpIHtcbiAgbGV0IHRpbWUgPSBudWxsXG4gIHByb3BzLnNlYXJjaC5wcm92aWRlcnMuZm9yRWFjaChwID0+IHtcbiAgICBpZiAocC5pZCA9PT0gcHJvcHMucHJvdmlkZXIuaWQpIHtcbiAgICAgIHRpbWUgPSBwLnRpbWVcbiAgICB9XG4gIH0pXG5cbiAgaWYgKHRpbWUgPT09IG51bGwpIHJldHVybiBudWxsXG5cbiAgY29uc3QgY29weSA9IGdldHRleHQoXCJTZWFyY2ggdG9vayAlKHRpbWUpcyBzIHRvIGNvbXBsZXRlXCIpXG5cbiAgcmV0dXJuIChcbiAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cInNlYXJjaC1mb290ZXJcIj5cbiAgICAgIDxwPntpbnRlcnBvbGF0ZShjb3B5LCB7IHRpbWUgfSwgdHJ1ZSl9PC9wPlxuICAgIDwvZm9vdGVyPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgIHtwcm9wcy5wcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICBrZXk9e3Byb3ZpZGVyLmlkfVxuICAgICAgICAgICAgdG89e3Byb3ZpZGVyLnVybH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3Byb3ZpZGVyLmljb259PC9zcGFuPlxuICAgICAgICAgICAge3Byb3ZpZGVyLm5hbWV9XG4gICAgICAgICAgICA8QmFkZ2UgcmVzdWx0cz17cHJvdmlkZXIucmVzdWx0c30gLz5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCYWRnZShwcm9wcykge1xuICBpZiAoIXByb3BzLnJlc3VsdHMpIHJldHVybiBudWxsXG5cbiAgbGV0IGNvdW50ID0gcHJvcHMucmVzdWx0cy5jb3VudFxuICBpZiAoY291bnQgPiAxMDAwMDAwKSB7XG4gICAgY291bnQgPSBNYXRoLmNlaWwoY291bnQgLyAxMDAwMDAwKSArIFwiS0tcIlxuICB9IGVsc2UgaWYgKGNvdW50ID4gMTAwMCkge1xuICAgIGNvdW50ID0gTWF0aC5jZWlsKGNvdW50IC8gMTAwMCkgKyBcIktcIlxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+e2NvdW50fTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSBcIi4uL3BhZ2VcIlxuaW1wb3J0IFJlc3VsdHMgZnJvbSBcIi4vcmVzdWx0c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFNlYXJjaFBhZ2UgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfSBzZWFyY2g9e3Byb3BzLnNlYXJjaH0+XG4gICAgICA8QmxhbmtzbGF0ZSBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fSBwb3N0cz17cHJvcHMucG9zdHN9PlxuICAgICAgICA8UmVzdWx0c1xuICAgICAgICAgIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn1cbiAgICAgICAgICBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fVxuICAgICAgICAgIHsuLi5wcm9wcy5wb3N0c31cbiAgICAgICAgLz5cbiAgICAgIDwvQmxhbmtzbGF0ZT5cbiAgICA8L1NlYXJjaFBhZ2U+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJsYW5rc2xhdGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzICYmIHByb3BzLnBvc3RzLmNvdW50KSByZXR1cm4gcHJvcHMuY2hpbGRyZW5cblxuICBpZiAocHJvcHMucXVlcnkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNlYXJjaCBxdWVyeSBoYXZlIGJlZW4gZm91bmQuXCIpfVxuICAgICAgPC9wPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAge2dldHRleHQoXCJFbnRlciBhdCBsZWFzdCB0d28gY2hhcmFjdGVycyB0byBzZWFyY2ggdGhyZWFkcy5cIil9XG4gICAgPC9wPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQb3N0RmVlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwXCJcbmltcG9ydCB7XG4gIHVwZGF0ZSBhcyB1cGRhdGVQb3N0cyxcbiAgYXBwZW5kIGFzIGFwcGVuZFBvc3RzXG59IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHsgdXBkYXRlUHJvdmlkZXIgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlYXJjaFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UG9zdEZlZWQgaXNSZWFkeT17dHJ1ZX0gcG9zdHM9e3Byb3BzLnJlc3VsdHN9IC8+XG4gICAgICA8TG9hZE1vcmUgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBMb2FkTW9yZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMucHJvdmlkZXIuYXBpLCB7XG4gICAgICAgIHE6IHRoaXMucHJvcHMucXVlcnksXG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMubmV4dFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBwcm92aWRlcnMgPT4ge1xuICAgICAgICAgIHByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5pZCAhPT0gXCJ0aHJlYWRzXCIpIHJldHVyblxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kUG9zdHMocHJvdmlkZXIucmVzdWx0cykpXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQcm92aWRlcihwcm92aWRlcikpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgdXBkYXRlUG9zdHMoe1xuICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9yZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTaG93IG1vcmVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTZWFyY2hQYWdlIGZyb20gXCIuLi9wYWdlXCJcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTZWFyY2hQYWdlIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9PlxuICAgICAgPEJsYW5rc2xhdGUgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX0gdXNlcnM9e3Byb3BzLnVzZXJzfT5cbiAgICAgICAgPFVzZXJzTGlzdCBjb2xzPXszfSBpc1JlYWR5PXt0cnVlfSB1c2Vycz17cHJvcHMudXNlcnN9IC8+XG4gICAgICA8L0JsYW5rc2xhdGU+XG4gICAgPC9TZWFyY2hQYWdlPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCbGFua3NsYXRlKHByb3BzKSB7XG4gIGlmIChwcm9wcy51c2Vycy5sZW5ndGgpIHJldHVybiBwcm9wcy5jaGlsZHJlblxuXG4gIGlmIChwcm9wcy5xdWVyeS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIk5vIHVzZXJzIG1hdGNoaW5nIHNlYXJjaCBxdWVyeSBoYXZlIGJlZW4gZm91bmQuXCIpfVxuICAgICAgPC9wPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAge2dldHRleHQoXCJFbnRlciBhdCBsZWFzdCB0d28gY2hhcmFjdGVycyB0byBzZWFyY2ggdXNlcnMuXCIpfVxuICAgIDwvcD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2hvaWNlKCkge1xuICAgIGxldCBjaG9pY2UgPSBudWxsXG4gICAgdGhpcy5wcm9wcy5jaG9pY2VzLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgIGNob2ljZSA9IGl0ZW1cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBjaG9pY2VcbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkuaWNvblxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkubGFiZWxcbiAgfVxuXG4gIGNoYW5nZSA9IHZhbHVlID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLXNlbGVjdC1ncm91cFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWxlY3QgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbXCJhcmlhLWRlc2NyaWJlZGJ5XCJdIHx8IG51bGx9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICAgID5cbiAgICAgICAgICA8SWNvbiBpY29uPXt0aGlzLmdldEljb24oKX0gLz5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGxpIGtleT17aX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoYW5nZShpdGVtLnZhbHVlKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtpdGVtLmljb259IC8+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSWNvbih7IGljb24gfSkge1xuICBpZiAoIWljb24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IFN0YXJ0U29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHNob3dBY3RpdmF0aW9uOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW10sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBib3RoIGZpZWxkcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIkFVVEhfQVBJXCIpLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgbGV0IGZvcm0gPSAkKFwiI2hpZGRlbi1sb2dpbi1mb3JtXCIpXG5cbiAgICBmb3JtLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJuYW1lXCIgLz4nKVxuICAgIGZvcm0uYXBwZW5kKCc8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgLz4nKVxuXG4gICAgLy8gZmlsbCBvdXQgZm9ybSB3aXRoIHVzZXIgY3JlZGVudGlhbHMgYW5kIHN1Ym1pdCBpdCwgdGhpcyB3aWxsIHRlbGxcbiAgICAvLyBNaXNhZ28gdG8gcmVkaXJlY3QgdXNlciBiYWNrIHRvIHJpZ2h0IHBhZ2UsIGFuZCB3aWxsIHRyaWdnZXIgYnJvd3NlcidzXG4gICAgLy8ga2V5IHJpbmcgZmVhdHVyZVxuICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbChhamF4LmdldENzcmZUb2tlbigpKVxuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInJlZGlyZWN0X3RvXCJdJykudmFsKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnZhbCh0aGlzLnN0YXRlLnVzZXJuYW1lKVxuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykudmFsKHRoaXMuc3RhdGUucGFzc3dvcmQpXG4gICAgZm9ybS5zdWJtaXQoKVxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNvZGUgPT09IFwiaW5hY3RpdmVfYWRtaW5cIikge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSBcImluYWN0aXZlX3VzZXJcIikge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNob3dBY3RpdmF0aW9uOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSBcImJhbm5lZFwiKSB7XG4gICAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgIG1vZGFsLmhpZGUoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgICAgbW9kYWwuaGlkZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBnZXRBY3RpdmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5zaG93QWN0aXZhdGlvbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlJFUVVFU1RfQUNUSVZBVElPTl9VUkxcIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiQWN0aXZhdGUgYWNjb3VudFwiKX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtIG1vZGFsLXNpZ24taW5cIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU2lnbiBpblwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPFN0YXJ0U29jaWFsQXV0aFxuICAgICAgICAgICAgICAgIGJ1dHRvbkxhYmVsPXtnZXR0ZXh0KFwiU2lnbiBpbiB3aXRoICUoc2l0ZSlzXCIpfVxuICAgICAgICAgICAgICAgIGZvcm1MYWJlbD17Z2V0dGV4dChcIk9yIHVzZSB5b3VyIGZvcnVtIGFjY291bnQ6XCIpfVxuICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlVzZXJuYW1lIG9yIGUtbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiRk9SR09UVEVOX1BBU1NXT1JEX1VSTFwiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRm9yZ290IHBhc3N3b3JkP1wiKX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmNvbnN0IFRZUEVTX0NMQVNTRVMgPSB7XG4gIGluZm86IFwiYWxlcnQtaW5mb1wiLFxuICBzdWNjZXNzOiBcImFsZXJ0LXN1Y2Nlc3NcIixcbiAgd2FybmluZzogXCJhbGVydC13YXJuaW5nXCIsXG4gIGVycm9yOiBcImFsZXJ0LWRhbmdlclwiXG59XG5cbmV4cG9ydCBjbGFzcyBTbmFja2JhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFNuYWNrYmFyQ2xhc3MoKSB7XG4gICAgbGV0IHNuYWNrYmFyQ2xhc3MgPSBcImFsZXJ0cy1zbmFja2JhclwiXG4gICAgaWYgKHRoaXMucHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9IFwiIGluXCJcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSBcIiBvdXRcIlxuICAgIH1cbiAgICByZXR1cm4gc25hY2tiYXJDbGFzc1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRTbmFja2JhckNsYXNzKCl9PlxuICAgICAgICA8cCBjbGFzc05hbWU9e1wiYWxlcnQgXCIgKyBUWVBFU19DTEFTU0VTW3RoaXMucHJvcHMudHlwZV19PlxuICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5zbmFja2JhclxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5jb25zdCBDb21wbGV0ZSA9ICh7IGFjdGl2YXRpb24sIGJhY2tlbmRfbmFtZSwgdXNlcm5hbWUgfSkgPT4ge1xuICBsZXQgaWNvbiA9IFwiXCJcbiAgbGV0IG1lc3NhZ2UgPSBcIlwiXG4gIGlmIChhY3RpdmF0aW9uID09PSBcInVzZXJcIikge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCB5b3UgbmVlZCB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiXG4gICAgKVxuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09IFwiYWRtaW5cIikge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCBib2FyZCBhZG1pbmlzdHJhdG9yIHdpbGwgaGF2ZSB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGFuZCB5b3UgaGF2ZSBiZWVuIHNpZ25lZCBpbiB0byBpdC5cIlxuICAgIClcbiAgfVxuXG4gIGlmIChhY3RpdmF0aW9uID09PSBcImFjdGl2ZVwiKSB7XG4gICAgaWNvbiA9IFwiY2hlY2tcIlxuICB9IGVsc2Uge1xuICAgIGljb24gPSBcImluZm9fb3V0bGluZVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNvY2lhbC1hdXRoIHBhZ2Utc29jaWFsLXNhdXRoLXJlZ2lzdGVyXCI+XG4gICAgICA8SGVhZGVyIGJhY2tlbmROYW1lPXtiYWNrZW5kX25hbWV9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGNvbXBsZXRlZCFcIil9XG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUobWVzc2FnZSwgeyB1c2VybmFtZSB9LCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJNSVNBR09fUEFUSFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmV0dXJuIHRvIGZvcnVtIGluZGV4XCIpfVxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcGxldGVcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5jb25zdCBIZWFkZXIgPSAoeyBiYWNrZW5kTmFtZSB9KSA9PiB7XG4gIGNvbnN0IHBhZ2VUaXRsZVRwbCA9IGdldHRleHQoXCJTaWduIGluIHdpdGggJShiYWNrZW5kKXNcIilcbiAgY29uc3QgcGFnZVRpdGxlID0gaW50ZXJwb2xhdGUocGFnZVRpdGxlVHBsLCB7IGJhY2tlbmQ6IGJhY2tlbmROYW1lIH0sIHRydWUpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgxPntwYWdlVGl0bGV9PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlZ2lzdGVyIGZyb20gXCIuL3JlZ2lzdGVyXCJcbmltcG9ydCBDb21wbGV0ZSBmcm9tIFwiLi9jb21wbGV0ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvY2lhbEF1dGggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHN0ZXA6IHByb3BzLnN0ZXAsXG5cbiAgICAgIGFjdGl2YXRpb246IHByb3BzLmFjdGl2YXRpb24gfHwgXCJcIixcbiAgICAgIGVtYWlsOiBwcm9wcy5lbWFpbCB8fCBcIlwiLFxuICAgICAgdXNlcm5hbWU6IHByb3BzLnVzZXJuYW1lIHx8IFwiXCJcbiAgICB9XG4gIH1cblxuICBoYW5kbGVSZWdpc3RyYXRpb25Db21wbGV0ZSA9ICh7IGFjdGl2YXRpb24sIGVtYWlsLCBzdGVwLCB1c2VybmFtZSB9KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2YXRpb24sIGVtYWlsLCBzdGVwLCB1c2VybmFtZSB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYmFja2VuZF9uYW1lLCB1cmwgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGFjdGl2YXRpb24sIGVtYWlsLCBzdGVwLCB1c2VybmFtZSB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgaWYgKHN0ZXAgPT09IFwicmVnaXN0ZXJcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlZ2lzdGVyXG4gICAgICAgICAgYmFja2VuZF9uYW1lPXtiYWNrZW5kX25hbWV9XG4gICAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlPXt0aGlzLmhhbmRsZVJlZ2lzdHJhdGlvbkNvbXBsZXRlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcGxldGVcbiAgICAgICAgYWN0aXZhdGlvbj17YWN0aXZhdGlvbn1cbiAgICAgICAgYmFja2VuZF9uYW1lPXtiYWNrZW5kX25hbWV9XG4gICAgICAgIGVtYWlsPXtlbWFpbH1cbiAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgUmVnaXN0ZXJMZWdhbEZvb3Rub3RlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGVcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0ZXIgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge1xuICAgICAgZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldLFxuICAgICAgdXNlcm5hbWU6IFt2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpXVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX0lEXCIpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy50ZXJtc09mU2VydmljZSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkVGVybXNPZlNlcnZpY2UoKV1cbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnByaXZhY3lQb2xpY3kgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFByaXZhY3lQb2xpY3koKV1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZW1haWw6IHByb3BzLmVtYWlsIHx8IFwiXCIsXG4gICAgICBlbWFpbFByb3RlY3RlZDogISFwcm9wcy5lbWFpbCxcbiAgICAgIHVzZXJuYW1lOiBwcm9wcy51c2VybmFtZSB8fCBcIlwiLFxuXG4gICAgICB0ZXJtc09mU2VydmljZTogbnVsbCxcbiAgICAgIHByaXZhY3lQb2xpY3k6IG51bGwsXG5cbiAgICAgIHZhbGlkYXRvcnM6IGZvcm1WYWxpZGF0b3JzLFxuICAgICAgZXJyb3JzOiB7fSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUuZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpLmxlbmd0aFxuICAgIF1cblxuICAgIGlmIChsZW5ndGhzLmluZGV4T2YoMCkgIT09IC0xKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYWxsIGZpZWxkcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCB7IHZhbGlkYXRvcnMgfSA9IHRoaXMuc3RhdGVcblxuICAgIGNvbnN0IGNoZWNrVGVybXNPZlNlcnZpY2UgPSAhIW1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX0lEXCIpXG4gICAgaWYgKGNoZWNrVGVybXNPZlNlcnZpY2UgJiYgdGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZSA9PT0gbnVsbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdG9ycy50ZXJtc09mU2VydmljZVswXShudWxsKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrUHJpdmFjeVBvbGljeSA9ICEhbWlzYWdvLmdldChcIlBSSVZBQ1lfUE9MSUNZX0lEXCIpXG4gICAgaWYgKGNoZWNrUHJpdmFjeVBvbGljeSAmJiB0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3kgPT09IG51bGwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRvcnMucHJpdmFjeVBvbGljeVswXShudWxsKSlcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgbmVlZCB0byBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5LlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51cmwsIHtcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICB0ZXJtc19vZl9zZXJ2aWNlOiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlLFxuICAgICAgcHJpdmFjeV9wb2xpY3k6IHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlIH0gPSB0aGlzLnByb3BzXG4gICAgb25SZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAyMDApIHtcbiAgICAgIC8vIFdlJ3ZlIGVudGVyZWQgXCJlcnJvcmVkXCIgc3RhdGUgYmVjYXVzZSByZXNwb25zZSBpcyBIVE1MIGluc3RlYWQgb2YgZXhwdGVjdGVkIEpTT05cbiAgICAgIGNvbnN0IHsgb25SZWdpc3RyYXRpb25Db21wbGV0ZSB9ID0gdGhpcy5wcm9wc1xuICAgICAgY29uc3QgeyB1c2VybmFtZSB9ID0gdGhpcy5zdGF0ZVxuICAgICAgb25SZWdpc3RyYXRpb25Db21wbGV0ZSh7IGFjdGl2YXRpb246IFwiYWN0aXZlXCIsIHN0ZXA6IFwiZG9uZVwiLCB1c2VybmFtZSB9KVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBzdGF0ZVVwZGF0ZSA9IHsgZXJyb3JzOiByZWplY3Rpb24gfVxuICAgICAgaWYgKHJlamVjdGlvbi5lbWFpbCkge1xuICAgICAgICBzdGF0ZVVwZGF0ZS5lbWFpbFByb3RlY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwicHJpdmFjeVBvbGljeVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJ0ZXJtc09mU2VydmljZVwiLCB2YWx1ZSlcbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZUFncmVlbWVudCA9IChhZ3JlZW1lbnQsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZVthZ3JlZW1lbnRdID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiB2YWx1ZSB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuc3RhdGUudmFsaWRhdG9yc1thZ3JlZW1lbnRdWzBdXG4gICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBbdmFsaWRhdG9yKG51bGwpXSB9XG4gICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYmFja2VuZF9uYW1lIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBlbWFpbCwgZW1haWxQcm90ZWN0ZWQsIHVzZXJuYW1lLCBpc0xvYWRpbmcgfSA9IHRoaXMuc3RhdGVcblxuICAgIGxldCBlbWFpbEhlbHBUZXh0ID0gbnVsbFxuICAgIGlmIChlbWFpbFByb3RlY3RlZCkge1xuICAgICAgY29uc3QgZW1haWxIZWxwVGV4dFRwbCA9IGdldHRleHQoXG4gICAgICAgIFwiWW91ciBlLW1haWwgYWRkcmVzcyBoYXMgYmVlbiB2ZXJpZmllZCBieSAlKGJhY2tlbmQpcy5cIlxuICAgICAgKVxuICAgICAgZW1haWxIZWxwVGV4dCA9IGludGVycG9sYXRlKFxuICAgICAgICBlbWFpbEhlbHBUZXh0VHBsLFxuICAgICAgICB7IGJhY2tlbmQ6IGJhY2tlbmRfbmFtZSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNvY2lhbC1hdXRoIHBhZ2Utc29jaWFsLXNhdXRoLXJlZ2lzdGVyXCI+XG4gICAgICAgIDxIZWFkZXIgYmFja2VuZE5hbWU9e2JhY2tlbmRfbmFtZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ29tcGxldGUgeW91ciBkZXRhaWxzXCIpfVxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJFLW1haWwgYWRkcmVzc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17ZW1haWxIZWxwVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsUHJvdGVjdGVkID8gbnVsbCA6IHRoaXMuc3RhdGUuZXJyb3JzLmVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCBlbWFpbFByb3RlY3RlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImVtYWlsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8UmVnaXN0ZXJMZWdhbEZvb3Rub3RlXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnN0YXRlLmVycm9yc31cbiAgICAgICAgICAgICAgICAgICAgICBwcml2YWN5UG9saWN5PXt0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3l9XG4gICAgICAgICAgICAgICAgICAgICAgdGVybXNPZlNlcnZpY2U9e3RoaXMuc3RhdGUudGVybXNPZlNlcnZpY2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25Qcml2YWN5UG9saWN5Q2hhbmdlPXt0aGlzLmhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25UZXJtc09mU2VydmljZUNoYW5nZT17dGhpcy5oYW5kbGVUZXJtc09mU2VydmljZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtYnJlYWRjcnVtYnNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxvbCBjbGFzc05hbWU9XCJicmVhZGNydW1iIGhpZGRlbi14c1wiPlxuICAgICAgICAgIHtwcm9wcy5wYXRoLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8QnJlYWRjcnVtYiBrZXk9e2l0ZW0uaWR9IG5vZGU9e2l0ZW19IC8+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvb2w+XG4gICAgICAgIDxHb0JhY2sgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJyZWFkY3J1bWIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy5ub2RlLnVybC5pbmRleH0+e3Byb3BzLm5vZGUubmFtZX08L2E+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29CYWNrKHByb3BzKSB7XG4gIGNvbnN0IGxhc3RJdGVtID0gcHJvcHMucGF0aFtwcm9wcy5wYXRoLmxlbmd0aCAtIDFdXG5cbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtsYXN0SXRlbS51cmwuaW5kZXh9IGNsYXNzTmFtZT1cImdvLWJhY2stc20gdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIHtsYXN0SXRlbS5uYW1lfVxuICAgIDwvYT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSBcIi4vYnJlYWRjcnVtYnNcIlxuaW1wb3J0IHsgaXNNb2RlcmF0aW9uVmlzaWJsZSwgTW9kZXJhdGlvbkNvbnRyb2xzIH0gZnJvbSBcIi4uL21vZGVyYXRpb24vdGhyZWFkXCJcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9zdGF0c1wiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgeyBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogcHJvcHMudGhyZWFkLnRpdGxlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBvbkNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidGl0bGVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFZGl0aW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGhyZWFkLnRpdGxlLFxuXG4gICAgICBpc0VkaXRpbmc6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJ0aXRsZVwiLCB2YWx1ZTogdGhpcy5zdGF0ZS50aXRsZSB9XG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRocmVhZCwgdXNlciB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID0gISF1c2VyLmlkICYmIGlzTW9kZXJhdGlvblZpc2libGUodGhyZWFkKVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHRpdGxlLWVkaXQtZm9ybVwiPlxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTZcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcC1oYWxmIHNtLW1hcmdpbi10b3Atbm8gbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNoYW5nZSB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodXNlci5pZCAmJiB0aHJlYWQuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgIHNob3dNb2RlcmF0aW9uID8gXCJjb2wtc20tOSBjb2wtbWQtOFwiIDogXCJjb2wtc20tMTAgY29sLW1kLTEwXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBzaG93TW9kZXJhdGlvbiA/IFwiY29sLXNtLTMgY29sLW1kLTRcIiA6IFwiY29sLXNtLTMgY29sLW1kLTJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AgbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3Nob3dNb2RlcmF0aW9uID8gXCJjb2wteHMtNlwiIDogXCJjb2wteHMtMTJcIn0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkVkaXQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4tc21cIj57Z2V0dGV4dChcIkVkaXRcIil9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3Nob3dNb2RlcmF0aW9uICYmIDxNb2RlcmF0aW9uIHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoc2hvd01vZGVyYXRpb24pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTkgY29sLW1kLTEwXCI+XG4gICAgICAgICAgICAgICAgPGgxPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgY29sLW1kLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgIDxNb2RlcmF0aW9uIGlzU2luZ2xlPXt0cnVlfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlcmF0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmlzU2luZ2xlID8gXCJjb2wteHMtMTJcIiA6IFwiY29sLXhzLTZcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICBkaXNhYmxlZD17cHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMuaXNTaW5nbGUgPyBcIlwiIDogXCJoaWRkZW4tc21cIn0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICBwb3N0cz17cHJvcHMucG9zdHN9XG4gICAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgTEFTVF9QT1NURVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5jb25zdCBMQVNUX1BPU1RFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgTEFTVF9SRVBMWSA9XG4gICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5cbmV4cG9ydCBmdW5jdGlvbiBXZWlnaHQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMikge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1nbG9iYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcms8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLndlaWdodCA9PSAxKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWxvY2FsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIlVuYXBwcm92ZWRcIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtdW5hcHByb3ZlZC1wb3N0c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiVW5hcHByb3ZlZCBwb3N0c1wiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLWhpZGRlblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJIaWRkZW5cIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNDbG9zZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIkNsb3NlZFwiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBsaWVzKHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUocmVwbGllcylzIHJlcGx5XCIsXG4gICAgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsXG4gICAgcHJvcHMudGhyZWFkLnJlcGxpZXNcbiAgKVxuICBjb25zdCBsZWdlbmQgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IHJlcGxpZXM6IHByb3BzLnRocmVhZC5yZXBsaWVzIH0sIHRydWUpXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3J1bTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2xlZ2VuZH08L3NwYW4+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5KHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3Rlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIExBU1RfUE9TVEVSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgTEFTVF9QT1NURVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIExBU1RfUkVQTFksXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwibGFzdCByZXBseSBieSAlKHVzZXIpcyAlKGRhdGUpc1wiKSksXG4gICAge1xuICAgICAgZGF0ZSxcbiAgICAgIHVzZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItc3RhdHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICAgIDxXZWlnaHQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPFVuYXBwcm92ZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPElzSGlkZGVuIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxJc0Nsb3NlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8UmVwbGllcyB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8TGFzdFJlcGx5IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBFcnJvcnNMaXN0IGZyb20gXCIuL2Vycm9ycy1saXN0XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IGZhbHNlXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IHBvc3QuaXNfdW5hcHByb3ZlZFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IHRydWVcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtcHJvdGVjdGVkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IGZhbHNlXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogcG9zdC5pc19wcm90ZWN0ZWRcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX2hpZGRlbjogcG9zdC5pc19oaWRkZW4sXG4gICAgICBoaWRkZW5fb246IHBvc3QuaGlkZGVuX29uLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHBvc3QuaGlkZGVuX2J5X25hbWUsXG4gICAgICB1cmw6IHBvc3QudXJsXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oaWRlKHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX2hpZGRlbjogZmFsc2UsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24ocG9zdC51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLnVybFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBwb3N0LmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogcG9zdC5oaWRkZW5fb24sXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICAgIHVybDogcG9zdC51cmxcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSkge1xuICBjb25zdCB7IHNlbGVjdGlvbiwgdGhyZWFkIH0gPSBwcm9wc1xuXG4gIC8vIHBhdGNoIHNlbGVjdGVkIGl0ZW1zXG4gIG5ld1N0YXRlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgcG9zdC5wYXRjaChpdGVtLCBpdGVtKVxuICB9KVxuXG4gIC8vIGRlc2VsZWN0IGFsbCB0aGUgdGhpbmdzXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpXG5cbiAgLy8gY2FsbCBhamF4XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgb3BzLFxuXG4gICAgaWRzOiBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuaWRcbiAgICB9KVxuICB9XG5cbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLnBvc3RzLmluZGV4LCBkYXRhKS50aGVuKFxuICAgIGRhdGEgPT4ge1xuICAgICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgfSlcbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyAhPT0gNDAwKSB7XG4gICAgICAgIC8vIHJvbGxiYWNrIGFsbFxuICAgICAgICBwcmV2aW91c1N0YXRlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cblxuICAgICAgbGV0IGVycm9ycyA9IFtdXG4gICAgICBsZXQgcm9sbGJhY2sgPSBbXVxuXG4gICAgICByZWplY3Rpb24uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0uZGV0YWlsKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goaXRlbSlcbiAgICAgICAgICByb2xsYmFjay5wdXNoKGl0ZW0uaWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZpb3VzU3RhdGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBpZiAocm9sbGJhY2suaW5kZXhPZihpdGVtKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgbGV0IHBvc3RzID0ge31cbiAgICAgIHNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBwb3N0c1tpdGVtLmlkXSA9IGl0ZW1cbiAgICAgIH0pXG5cbiAgICAgIG1vZGFsLnNob3coPEVycm9yc0xpc3QgZXJyb3JzPXtlcnJvcnN9IHBvc3RzPXtwb3N0c30gLz4pXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShcbiAgICBnZXR0ZXh0KFxuICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbWVyZ2Ugc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiXG4gICAgKVxuICApXG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKHNlbGVjdGlvbiA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIGFqYXhcbiAgICAucG9zdChwcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1lcmdlLCB7XG4gICAgICBwb3N0czogcHJvcHMuc2VsZWN0aW9uLm1hcChwb3N0ID0+IHBvc3QuaWQpXG4gICAgfSlcbiAgICAudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGRhdGEsIHBvc3QuaHlkcmF0ZShkYXRhKSkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcChzZWxlY3Rpb24gPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgZ2V0dGV4dChcbiAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCJcbiAgICApXG4gIClcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHByb3BzLnNlbGVjdGlvbi5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG4gIH0pXG5cbiAgY29uc3QgaWRzID0gcHJvcHMuc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4gcG9zdC5pZFxuICB9KVxuXG4gIGFqYXguZGVsZXRlKHByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIGlkcykudGhlbihcbiAgICAoKSA9PiB7XG4gICAgICByZXR1cm5cbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHByb3BzLnNlbGVjdGlvbi5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH1cbiAgKVxuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCAqIGFzIG1vZGVyYXRpb24gZnJvbSBcIi4vYWN0aW9uc1wiXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gXCIuL21vdmVcIlxuaW1wb3J0IFNwbGl0TW9kYWwgZnJvbSBcIi4vc3BsaXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWVyZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZFxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tZXJnZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5sZW5ndGggPiAxICYmXG4gICAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21lcmdlXG4gICAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX21lcmdlPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1vdmVNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fbW92ZVxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fbW92ZVxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfc3BsaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5wcm90ZWN0KHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiAhcG9zdC5pc19wcm90ZWN0ZWQgJiYgcG9zdC5hY2wuY2FuX3Byb3RlY3RcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5wcm90ZWN0KHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmlzX3Byb3RlY3RlZCAmJiBwb3N0LmFjbC5jYW5fcHJvdGVjdFxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3Blbjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5faGlkZSAmJiAhcG9zdC5pc19oaWRkZW5cbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bmhpZGUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl91bmhpZGUgJiYgcG9zdC5pc19oaWRkZW5cbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fZGVsZXRlXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGVycm9ycywgcG9zdHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJPbmUgb3IgbW9yZSBwb3N0cyBjb3VsZCBub3QgYmUgY2hhbmdlZDpcIil9XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1lcnJvcmVkLWl0ZW1zXCI+XG4gICAgICAgICAgICB7ZXJyb3JzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8UG9zdEVycm9yc1xuICAgICAgICAgICAgICAgICAgZXJyb3JzPXtwb3N0LmRldGFpbH1cbiAgICAgICAgICAgICAgICAgIGtleT17cG9zdC5pZH1cbiAgICAgICAgICAgICAgICAgIHBvc3Q9e3Bvc3RzW3Bvc3QuaWRdfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RFcnJvcnMoeyBlcnJvcnMsIHBvc3QgfSkge1xuICBjb25zdCBoZWFkaW5nID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBvbiAlKHBvc3RlZF9vbilzXCIpLFxuICAgIHtcbiAgICAgIHBvc3RlZF9vbjogcG9zdC5wb3N0ZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpLFxuICAgICAgdXNlcm5hbWU6IHBvc3QucG9zdGVyX25hbWVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg1PntoZWFkaW5nfTo8L2g1PlxuICAgICAge2Vycm9ycy5tYXAoKGVycm9yLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiA8cCBrZXk9e2l9PntlcnJvcn08L3A+XG4gICAgICB9KX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEcm9wZG93biBmcm9tIFwiLi9kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCB8fCAhaXNWaXNpYmxlKHByb3BzLnRocmVhZCwgcHJvcHMucG9zdHMucmVzdWx0cykpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3Qgc2VsZWN0aW9uID0gcHJvcHMucG9zdHMucmVzdWx0cy5maWx0ZXIocG9zdCA9PiB7XG4gICAgcmV0dXJuIHBvc3QuaXNTZWxlY3RlZFxuICB9KVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wdXBcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIGRpc2FibGVkPXshc2VsZWN0aW9uLmxlbmd0aH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUG9zdHMgb3B0aW9uc1wiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHNlbGVjdGlvbj17c2VsZWN0aW9ufSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZSh0aHJlYWQsIHBvc3RzKSB7XG4gIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZV9wb3N0cyAmJiBwb3N0cy5sZW5ndGggPiAxKSB7XG4gICAgLy8gZmFzdCB0ZXN0OiBzaG93IG1vZGVyYXRpb24gbWVudSBpZiB3ZSBjYW4gbWVyZ2UgcG9zdHNcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gc2xvdyB0ZXN0OiBzaG93IG1vZGVyYXRpb24gaWYgYW55IG9mIHBvc3RzIGhhcyBtb2RlcmF0aW9uIG9wdGlvbnNcbiAgbGV0IHZpc2libGUgPSBmYWxzZVxuICBwb3N0cy5mb3JFYWNoKHBvc3QgPT4ge1xuICAgIGlmICghcG9zdC5pc19ldmVudCkge1xuICAgICAgY29uc3Qgc2hvd01vZGVyYXRpb24gPVxuICAgICAgICAocG9zdC5hY2wuY2FuX2FwcHJvdmUgJiYgcG9zdC5pc191bmFwcHJvdmVkKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fZGVsZXRlIHx8XG4gICAgICAgICghcG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX2hpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9tb3ZlIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9tZXJnZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fcHJvdGVjdCB8fFxuICAgICAgICAocG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX3VuaGlkZSkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3VucHJvdGVjdFxuXG4gICAgICBpZiAoc2hvd01vZGVyYXRpb24pIHtcbiAgICAgICAgdmlzaWJsZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIHJldHVybiB2aXNpYmxlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1vdmUsIHtcbiAgICAgIG5ld190aHJlYWQ6IHRoaXMuc3RhdGUudXJsLFxuICAgICAgcG9zdHM6IHRoaXMucHJvcHMuc2VsZWN0aW9uLm1hcChwb3N0ID0+IHBvc3QuaWQpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3RzIHdlcmUgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInVybFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1vdmUgcG9zdHMgdG9cIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgcG9zdHNcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHBvc3RzXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFt2YWxpZGF0b3JzLnJlcXVpcmVkKCldXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eV9vZmZcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICBpY29uOiBcImxvY2tfb3V0bGluZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgaWNvbjogXCJsb2NrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5hY2wgPSB7fVxuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBzcGxpdCBpbnRvIG5ldyB0aHJlYWQuXCIpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pXG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IGV2ID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH1cblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInJlbW92ZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrX2JvcmRlclwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJib29rbWFya1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlc1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwid2VpZ2h0XCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRkZW5cIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfY2xvc2VkXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdHNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICA8L01vZGFsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgc2VsZWN0ZWQgcG9zdHMgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+e3Byb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RzIGludG8gbmV3IHRocmVhZFwiKX1cbiAgICAgICAgICA8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1lcmdlTW9kYWwgZnJvbSBcIi4vbWVyZ2VcIlxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tIFwiLi9tb3ZlXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpXG5cbiAgICAvLyBieSB0aGUgY2hhbmNlIHVwZGF0ZSB0aHJlYWQgYWNsIHRvb1xuICAgIG9wcy5wdXNoKHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH0pXG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgb3BzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKVxuICAgIClcbiAgfVxuXG4gIHBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpXG4gICAgKVxuICB9XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gdW5waW5uZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy11bmFwcHJvdmVkXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtY2xvc2VkXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG9wZW5lZC5cIilcbiAgICApXG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1jbG9zZWRcIixcbiAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBjbG9zZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIHZpc2libGUuXCIpXG4gICAgKVxuICB9XG5cbiAgaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1oaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIilcbiAgICApXG4gIH1cblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHBvc3RzPXt0aGlzLnByb3BzLnBvc3RzfSB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgIClcbiAgfVxuXG4gIG1lcmdlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1lcmdlTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pXG4gIH1cblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgdGhyZWFkP1wiKSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpXG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGRlbGV0ZWQuXCIpKVxuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS51cmwuaW5kZXhcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgZ2V0UGluR2xvYmFsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluX2dsb2JhbGx5KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFyazwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBnbG9iYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMSkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5Mb2NhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVucGlufSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBhbm9yYW1hX2Zpc2hfZXllPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW5cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1vdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubWVyZ2V9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9tZXJnZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0QXBwcm92ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE9wZW5CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2Nsb3NlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9wZW59IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vcGVuPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2Nsb3NlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmNsb3NlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl91bmhpZGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5oaWRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4pIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuaGlkZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5kZWxldGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCI+XG4gICAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tIFwiLi9jb250cm9sc1wiXG5pbXBvcnQgaXNNb2RlcmF0aW9uVmlzaWJsZSBmcm9tIFwiLi9pcy12aXNpYmxlXCJcblxuZXhwb3J0IHsgTW9kZXJhdGlvbkNvbnRyb2xzLCBpc01vZGVyYXRpb25WaXNpYmxlIH1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRocmVhZCkge1xuICByZXR1cm4gISEoXG4gICAgKHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgJiYgdGhyZWFkLmlzX3VuYXBwcm92ZWQpIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fY2xvc2UgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9kZWxldGUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9oaWRlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fbW92ZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21lcmdlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fcGluIHx8XG4gICAgKHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseSAmJiB0aHJlYWQud2VpZ2h0ICE9PSAyKSB8fFxuICAgICh0aHJlYWQuYWNsLmNhbl91bmhpZGUgJiYgdGhyZWFkLmlzX2hpZGRlbilcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBNZXJnZUNvbmZsaWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1jb25mbGljdFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpXG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZSwge1xuICAgICAgb3RoZXJfdGhyZWFkOiB0aGlzLnN0YXRlLnVybFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gc3VjY2VzcyA9PiB7XG4gICAgdGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkKHN1Y2Nlc3MpXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3NVbm1vdW50ZWQgPSBzdWNjZXNzID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWVyZ2VkIHdpdGggb3RoZXIgb25lLlwiKSlcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybFxuICB9XG5cbiAgaGFuZGxlRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmJlc3RfYW5zd2VycyB8fCByZWplY3Rpb24ucG9sbHMpIHtcbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8TWVyZ2VDb25mbGljdFxuICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLnRocmVhZC5hcGkubWVyZ2V9XG4gICAgICAgICAgICBiZXN0QW5zd2Vycz17cmVqZWN0aW9uLmJlc3RfYW5zd2Vyc31cbiAgICAgICAgICAgIGRhdGE9e3sgb3RoZXJfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCB9fVxuICAgICAgICAgICAgcG9sbHM9e3JlamVjdGlvbi5wb2xsc31cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMuaGFuZGxlU3VjY2Vzc1VubW91bnRlZH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcikge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uYmVzdF9hbnN3ZXJbMF0pXG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb2xsKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wb2xsWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1cmxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtZXJnZSB3aXRoXCIpfVxuICAgICAgICAgICAgICAgIGhlbHBfdGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiTWVyZ2Ugd2lsbCBkZWxldGUgY3VycmVudCB0aHJlYWQgYW5kIG1vdmUgaXRzIGNvbnRlbnRzIHRvIHRoZSB0aHJlYWQgc3BlY2lmaWVkIGhlcmUuXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHRocmVhZFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiVEhSRUFEX0VESVRPUl9BUElcIikpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gbnVsbFxuXG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIC8vIHBpY2sgZmlyc3QgY2F0ZWdvcnkgdGhhdCBhbGxvd3MgcG9zdGluZyBhbmQgaWYgaXQgbWF5LCBvdmVycmlkZSBpdCB3aXRoIGluaXRpYWwgb25lXG4gICAgICAgICAgaWYgKGl0ZW0ucG9zdCAhPT0gZmFsc2UgJiYgIWNhdGVnb3J5KSB7XG4gICAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWRcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgIGNhdGVnb3JpZXNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSlcblxuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiY2F0ZWdvcnlcIiwgdmFsdWU6IHRoaXMuc3RhdGUuY2F0ZWdvcnkgfVxuICAgIF0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIC8vIHJlZnJlc2ggdGhyZWFkIGFuZCBkaXNwbGF5ZWQgcG9zdHNcbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwgeyBwYWdlOiB0aGlzLnByb3BzLnBvc3RzLnBhZ2UgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSlcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKVxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG5cbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQuXCIpKVxuICAgICAgICAgIG1vZGFsLmhpZGUoKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwiY2F0ZWdvcnlcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPEZvcm1Hcm91cCBmb3I9XCJpZF9jYXRlZ29yeVwiIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGNhdGVnb3J5XCIpfT5cbiAgICAgICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPE1vZGFsTG9hZGluZyAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbExvYWRpbmcocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbE1lc3NhZ2UocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHRocmVhZCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+e3Byb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bmF2IGNsYXNzTmFtZT1cIm1pc2Fnby1wYWdpbmF0aW9uIHB1bGwtbGVmdFwiPlxuICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gICAgPC9uYXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5maXJzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXh9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSBcIlwiXG4gICAgaWYgKHByb3BzLnBvc3RzLnByZXZpb3VzKSB7XG4gICAgICBwcmV2aW91c1VybCA9IHByb3BzLnBvc3RzLnByZXZpb3VzICsgXCIvXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJldmlvdXNVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5wb3N0cy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMucG9zdHMubmV4dCArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIG5leHRVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBwcm9wcy5wb3N0cy5sYXN0ICsgXCIvXCJ9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKHByb3BzLm1vcmUpIHtcbiAgICBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRoZXJlIGlzICUobW9yZSlzIG1vcmUgcG9zdCBpbiB0aGlzIHRocmVhZC5cIixcbiAgICAgIFwiVGhlcmUgYXJlICUobW9yZSlzIG1vcmUgcG9zdHMgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBwcm9wcy5tb3JlXG4gICAgKVxuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IG1vcmU6IHByb3BzLm1vcmUgfSwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiKVxuICB9XG5cbiAgcmV0dXJuIDxwPnttZXNzYWdlfTwvcD5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1vdXRsaW5lXCJ9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoYXQ8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgIDwvYnV0dG9uPlxuICApXG59XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBSb3V0ZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBwYXJ0aWNpcGFudHM6IHN0b3JlLnBhcnRpY2lwYW50cyxcbiAgICBwb2xsOiBzdG9yZS5wb2xsLFxuICAgIHBvc3RzOiBzdG9yZS5wb3N0cyxcbiAgICB0aHJlYWQ6IHN0b3JlLnRocmVhZCxcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBjb25zdCB0aHJlYWQgPSBtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpXG4gIGNvbnN0IGJhc2VQYXRoID0gdGhyZWFkLnVybC5pbmRleC5yZXBsYWNlKFxuICAgIHRocmVhZC5zbHVnICsgXCItXCIgKyB0aHJlYWQucGssXG4gICAgXCI6c2x1Z1wiXG4gIClcblxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHBhdGg6IGJhc2VQYXRoLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCArIFwiOnBhZ2UvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSb3V0ZSlcbiAgICB9XG4gIF1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhcnRpY2lwYW50cyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFydGljaXBhbnRzXCJcbmltcG9ydCB7IFBvbGwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9sbFwiXG5pbXBvcnQgUG9zdHNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBUb29sYmFyVG9wIGZyb20gXCIuL3Rvb2xiYXItdG9wXCJcbmltcG9ydCBUb29sYmFyQm90dG9tIGZyb20gXCIuL3Rvb2xiYXItYm90dG9tXCJcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgICB0aGlzLnNldFBhZ2VUaXRsZSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpXG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpXG4gICAgICB0aGlzLnNldFBhZ2VUaXRsZSgpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZ0FwaSgpXG4gIH1cblxuICBzaG91bGRGZXRjaERhdGEoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICAgIGNvbnN0IHBhZ2UgPSAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICAgIHJldHVybiBwYWdlICE9IHRoaXMucHJvcHMucG9zdHMucGFnZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMudW5sb2FkKCkpXG5cbiAgICBhamF4XG4gICAgICAuZ2V0KFxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICAgIHtcbiAgICAgICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJwb3N0c1wiXG4gICAgICApXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGUoZGF0YSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcInRocmVhZC1wb3N0c1wiLFxuXG4gICAgICB1cmw6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgICB9LFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZSxcblxuICAgICAgZnJlcXVlbmN5OiAxMjAgKiAxMDAwLFxuICAgICAgZGVsYXllZDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBzdG9wUG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdG9wKFwidGhyZWFkLXBvc3RzXCIpXG4gIH1cblxuICBzZXRQYWdlVGl0bGUoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRocmVhZC50aXRsZSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkubmFtZSxcbiAgICAgIHBhZ2U6ICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDEpICogMVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSlcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKVxuXG4gICAgaWYgKGRhdGEucGFydGljaXBhbnRzKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpXG4gICAgfVxuXG4gICAgaWYgKGRhdGEucG9sbCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEucG9sbCkpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuICB9XG5cbiAgb3BlblJlcGx5Rm9ybSA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJSRVBMWVwiLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwicGFnZSBwYWdlLXRocmVhZFwiXG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkLVwiICsgdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkuY3NzX2NsYXNzXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgICAgPEhlYWRlciB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPFRvb2xiYXJUb3Agb3BlblJlcGx5Rm9ybT17dGhpcy5vcGVuUmVwbHlGb3JtfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8UG9sbFxuICAgICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxQYXJ0aWNpcGFudHNcbiAgICAgICAgICAgIHBhcnRpY2lwYW50cz17dGhpcy5wcm9wcy5wYXJ0aWNpcGFudHN9XG4gICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFBvc3RzTGlzdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8VG9vbGJhckJvdHRvbSBvcGVuUmVwbHlGb3JtPXt0aGlzLm9wZW5SZXBseUZvcm19IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7Z2V0SWNvbihwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0TGFiZWwocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oc3Vic2NyaXB0aW9uKSB7XG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gXCJzdGFyXCJcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIFwic3Rhcl9oYWxmXCJcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJzdGFyX2JvcmRlclwiXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExhYmVsKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJFLW1haWxcIilcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJFbmFibGVkXCIpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJEaXNhYmxlZFwiKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEcm9wZG93bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e3Byb3BzLmRyb3Bkb3duQ2xhc3NOYW1lIHx8IFwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIn0+XG4gICAgICA8RGlzYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW5hYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbWFpbCB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgRGlzYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBudWxsLCBcInVuc3Vic2NyaWJlXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbmFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIGZhbHNlLCBcIm5vdGlmeVwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9oYWxmPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbWFpbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCB0cnVlLCBcImVtYWlsXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUodGhyZWFkLCBuZXdTdGF0ZSwgdmFsdWUpIHtcbiAgY29uc3Qgb2xkU3RhdGUgPSB7XG4gICAgc3Vic2NyaXB0aW9uOiB0aHJlYWQuc3Vic2NyaXB0aW9uXG4gIH1cblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICBhY3Rpb25zLnVwZGF0ZSh7XG4gICAgICBzdWJzY3JpcHRpb246IG5ld1N0YXRlXG4gICAgfSlcbiAgKVxuXG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiB2YWx1ZSB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgIGZpbmFsU3RhdGUgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShmaW5hbFN0YXRlKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLnVwZGF0ZShvbGRTdGF0ZSkpXG4gICAgICB9XG4gICAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBQYWdlciwgTW9yZSB9IGZyb20gXCIuL3BhZ2luYXRvclwiXG5pbXBvcnQgUG9zdHNNb2RlcmF0aW9uIGZyb20gXCIuL21vZGVyYXRpb24vcG9zdHNcIlxuaW1wb3J0IFJlcGx5QnV0dG9uIGZyb20gXCIuL3JlcGx5LWJ1dHRvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uU3dpdGNoIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIHRleHQtY2VudGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlclwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC01XCI+XG4gICAgICAgICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTcgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPE9wdGlvbnMgdmlzaWJsZT17ISFwcm9wcy51c2VyLmlkfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlciBoaWRkZW4tbWQgaGlkZGVuLWxnXCIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8TW9kZXJhdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN1YnNjcmlwdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IHRocmVhZD17cHJvcHMudGhyZWFkfSBvbkNsaWNrPXtwcm9wcy5vcGVuUmVwbHlGb3JtfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvT3B0aW9ucz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnZpc2libGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlcmF0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICA8UG9zdHNNb2RlcmF0aW9uIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHByb3BzKSB7XG4gIGxldCB4c0NsYXNzID0gXCJjb2wteHMtNlwiXG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHtcbiAgICB4c0NsYXNzID0gXCJjb2wteHMtMTJcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17eHNDbGFzcyArIFwiIGNvbC1zbS00XCJ9PlxuICAgICAgPFN1YnNjcmlwdGlvblN3aXRjaFxuICAgICAgICBidG5DbGFzc05hbWU9XCJidG4tYmxvY2tcIlxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wdXBcIlxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tNFwiPlxuICAgICAgPFJlcGx5QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtIGNvbC1zbS00XCIgLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlcGx5QnV0dG9uIGZyb20gXCIuL3JlcGx5LWJ1dHRvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBoaWRkZW5TcGVjaWFsT3B0aW9uID1cbiAgICAhcHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCBwcm9wcy50aHJlYWQucG9sbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXIgcm93LXRvb2xiYXItYm90dG9tLW1hcmdpblwiPlxuICAgICAgPEdvdG9NZW51IHsuLi5wcm9wc30gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTkgY29sLW1kLTUgY29sLW1kLW9mZnNldC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPFNwYWNlciB2aXNpYmxlPXshcHJvcHMudXNlci5pZH0gLz5cbiAgICAgICAgICA8U3BhY2VyIHZpc2libGU9e2hpZGRlblNwZWNpYWxPcHRpb259IC8+XG4gICAgICAgICAgPFN1YnNjcmlwdGlvbk1lbnUgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxTdGFydFBvbGwgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9NZW51KHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHNcblxuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtNVwiXG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyIGNvbC1zbS0zIGNvbC1tZC01XCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgIDxHb3RvTGFzdCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9OZXcgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvQmVzdEFuc3dlciB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9VbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8Q29tcGFjdE9wdGlvbnMgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubmV3X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IG5ldyBwb3N0XCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIk5ld1wiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0Jlc3RBbnN3ZXIocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLmJlc3RfYW5zd2VyfVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBiZXN0IGFuc3dlclwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJCZXN0IGFuc3dlclwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgfHwgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLnVuYXBwcm92ZWRfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0XCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWRcIil9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcG9zdFwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJMYXN0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wYWN0T3B0aW9ucyhwcm9wcykge1xuICBjb25zdCB7IHVzZXIgfSA9IHByb3BzXG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJMYXN0IHBvc3RcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93biB2aXNpYmxlLXhzLWJsb2NrIHZpc2libGUtc20tYmxvY2tcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZXhwYW5kX21vcmU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0IGhpZGRlbi14c1wiPntnZXR0ZXh0KFwiT3B0aW9uc1wiKX08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgIDxTdGFydFBvbGxDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9OZXdDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9VbmFwcHJvdmVkQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvTGFzdENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b05ld0NvbXBhY3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaXNfbmV3KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgbmV3IHBvc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWRDb21wYWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzIHx8ICFwcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHVuYXBwcm92ZWQgcG9zdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTGFzdENvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGx5KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiPlxuICAgICAgPFJlcGx5QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vcGVuUmVwbHlGb3JtfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWVudShwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNFwiPlxuICAgICAgPFN1YnNjcmlwdGlvblxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93blwiXG4gICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXJ0UG9sbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiUE9MTFwiLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9sbCxcblxuICAgICAgdGhyZWFkOiB0aGlzLnByb3BzLnRocmVhZCxcbiAgICAgIHBvbGw6IG51bGxcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9zdGFydF9wb2xsIHx8IHRoaXMucHJvcHMudGhyZWFkLnBvbGwpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cG9sbDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwb2xsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsQ29tcGFjdCBleHRlbmRzIFN0YXJ0UG9sbCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgcG9sbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGlmICghcHJvcHMudmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIiAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9lbXB0eVwiXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9yZWFkeVwiXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLmlzTG9hZGVkKSB7XG4gICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPlxuICB9XG5cbiAgaWYgKHByb3BzLnRocmVhZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaXN0RW1wdHkgZGlmZlNpemU9e3Byb3BzLmRpZmZTaXplfSBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvTGlzdEVtcHR5PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExpc3RSZWFkeVxuICAgICAgYWN0aXZlQ2F0ZWdvcnk9e3Byb3BzLmNhdGVnb3J5fVxuICAgICAgY2F0ZWdvcmllcz17cHJvcHMuY2F0ZWdvcmllc31cbiAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICB0aHJlYWRzPXtwcm9wcy50aHJlYWRzfVxuICAgICAgZGlmZlNpemU9e3Byb3BzLmRpZmZTaXplfVxuICAgICAgYXBwbHlEaWZmPXtwcm9wcy5hcHBseURpZmZ9XG4gICAgICBzaG93T3B0aW9ucz17cHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICBzZWxlY3Rpb249e3Byb3BzLnNlbGVjdGlvbn1cbiAgICAgIGJ1c3lUaHJlYWRzPXtwcm9wcy5idXN5VGhyZWFkc31cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgeyBhcHBseURpZmYsIGRpZmZTaXplIH0gPSBwcm9wc1xuICBpZiAoZGlmZlNpemUgPT09IDApIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIHRocmVhZHMtZGlmZi1tZXNzYWdlXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgb25DbGljaz17YXBwbHlEaWZmfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FjaGVkPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkaWZmLW1lc3NhZ2VcIj57Z2V0TWVzc2FnZShkaWZmU2l6ZSl9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVzc2FnZShkaWZmU2l6ZSkge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJUaGVyZSBpcyAlKHRocmVhZHMpcyBuZXcgb3IgdXBkYXRlZCB0aHJlYWQuIENsaWNrIHRoaXMgbWVzc2FnZSB0byBzaG93IGl0LlwiLFxuICAgIFwiVGhlcmUgYXJlICUodGhyZWFkcylzIG5ldyBvciB1cGRhdGVkIHRocmVhZHMuIENsaWNrIHRoaXMgbWVzc2FnZSB0byBzaG93IHRoZW0uXCIsXG4gICAgZGlmZlNpemVcbiAgKVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHRocmVhZHM6IGRpZmZTaXplXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldERpZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxEaWZmTWVzc2FnZVxuICAgICAgICBhcHBseURpZmY9e3RoaXMucHJvcHMuYXBwbHlEaWZmfVxuICAgICAgICBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLmdldERpZmZNZXNzYWdlKCl9XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFRocmVhZFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgPFRocmVhZFByZXZpZXcgLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRGlmZk1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZVwiXG5pbXBvcnQgVGhyZWFkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPERpZmZNZXNzYWdlIGRpZmZTaXplPXtwcm9wcy5kaWZmU2l6ZX0gYXBwbHlEaWZmPXtwcm9wcy5hcHBseURpZmZ9IC8+XG4gICAgICAgIHtwcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VGhyZWFkXG4gICAgICAgICAgICAgIGFjdGl2ZUNhdGVnb3J5PXtwcm9wcy5hY3RpdmVDYXRlZ29yeX1cbiAgICAgICAgICAgICAgY2F0ZWdvcmllcz17cHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgbGlzdD17cHJvcHMubGlzdH1cbiAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXtwcm9wcy5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17cHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuICAgICAgICAgICAgICBpc0J1c3k9e3Byb3BzLmJ1c3lUaHJlYWRzLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuICAgICAgICAgICAgICBrZXk9e3RocmVhZC5pZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5IGZyb20gXCIuL2NhdGVnb3J5XCJcbmltcG9ydCB7IE9wdGlvbnNYcyB9IGZyb20gXCIuLi9vcHRpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgaXNCdXN5LCBzaG93T3B0aW9ucywgaXNTZWxlY3RlZCwgdGhyZWFkIH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyIGNvbC1zbS0xMlwiXG4gIGlmIChzaG93T3B0aW9ucykge1xuICAgIGlmICh0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTYgY29sLXNtLTEyXCJcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lID0gXCJjb2wteHMtOSBjb2wtc20tMTJcIlxuICAgIH1cbiAgfVxuXG4gIGxldCBzdGF0dXNGbGFncyA9IDBcbiAgaWYgKHRocmVhZC5pc19oaWRkZW4pIHN0YXR1c0ZsYWdzICs9IDFcbiAgaWYgKHRocmVhZC5pc19jbG9zZWQpIHN0YXR1c0ZsYWdzICs9IDFcbiAgaWYgKHRocmVhZC5oYXNfcG9sbCkgc3RhdHVzRmxhZ3MgKz0gMVxuXG4gIGxldCBhbGxGbGFnc1Zpc2libGUgPSBzaG93T3B0aW9ucyAmJiBzdGF0dXNGbGFncyA9PT0gM1xuXG4gIGxldCB0ZXh0Q2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dCBoaWRkZW4teHNcIlxuICBpZiAoYWxsRmxhZ3NWaXNpYmxlKSB7XG4gICAgdGV4dENsYXNzTmFtZSArPSBcIiBoaWRkZW4tc21cIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtZGV0YWlscy1ib3R0b21cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8Q2F0ZWdvcnlcbiAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC1kZXRhaWwtY2F0ZWdvcnkgaGlkZGVuLXhzXCJcbiAgICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgIC8+XG4gICAgICAgIDxIaWRkZW5MYWJlbCB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfSBkaXNwbGF5PXt0aHJlYWQuaXNfaGlkZGVufSAvPlxuICAgICAgICA8Q2xvc2VkTGFiZWwgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0gZGlzcGxheT17dGhyZWFkLmlzX2Nsb3NlZH0gLz5cbiAgICAgICAgPFBvbGxMYWJlbCB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfSBkaXNwbGF5PXt0aHJlYWQuaGFzX3BvbGx9IC8+XG4gICAgICAgIDxCZXN0QW5zd2VyTGFiZWwgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDxSZXBsaWVzTGFiZWxcbiAgICAgICAgICBmb3JjZUZ1bGxUZXh0PXshc2hvd09wdGlvbnMgfHwgc3RhdHVzRmxhZ3MgPCAyfVxuICAgICAgICAgIHJlcGxpZXM9e3RocmVhZC5yZXBsaWVzfVxuICAgICAgICAvPlxuICAgICAgICA8TGFzdFJlcGx5TGFiZWxcbiAgICAgICAgICBkYXRldGltZT17dGhyZWFkLmxhc3RfcG9zdF9vbn1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAvPlxuICAgICAgICA8TGFzdFBvc3RlclxuICAgICAgICAgIHBvc3Rlck5hbWU9e3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPE9wdGlvbnNYc1xuICAgICAgICBkaXNhYmxlZD17aXNCdXN5fVxuICAgICAgICBkaXNwbGF5PXtzaG93T3B0aW9uc31cbiAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW5MYWJlbCh7IGRpc3BsYXksIHRleHRDbGFzc05hbWUgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLWhpZGRlblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfT57Z2V0dGV4dChcIkhpZGRlblwiKX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZWRMYWJlbCh7IGRpc3BsYXksIHRleHRDbGFzc05hbWUgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLWNsb3NlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+e2dldHRleHQoXCJDbG9zZWRcIil9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbExhYmVsKHsgZGlzcGxheSwgdGV4dENsYXNzTmFtZSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtcG9sbFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFzc2Vzc21lbnQ8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PntnZXR0ZXh0KFwiUG9sbFwiKX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZXN0QW5zd2VyTGFiZWwoeyB0aHJlYWQgfSkge1xuICBpZiAoIXRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayB0aHJlYWQtZGV0YWlsLWFuc3dlcmVkXCJcbiAgICAgIGhyZWY9e3RocmVhZC51cmwuYmVzdF9hbnN3ZXJ9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGxpZXNMYWJlbCh7IHJlcGxpZXMsIGZvcmNlRnVsbFRleHQgfSkge1xuICBjb25zdCB0ZXh0ID0gbmdldHRleHQoXCIlKHJlcGxpZXMpcyByZXBseVwiLCBcIiUocmVwbGllcylzIHJlcGxpZXNcIiwgcmVwbGllcylcblxuICBsZXQgY29tcGFjdENsYXNzTmFtZSA9IFwiXCJcbiAgbGV0IGZ1bGxDbGFzc05hbWUgPSBcIlwiXG5cbiAgaWYgKGZvcmNlRnVsbFRleHQpIHtcbiAgICBjb21wYWN0Q2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dCBoaWRlXCJcbiAgICBmdWxsQ2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dFwiXG4gIH0gZWxzZSB7XG4gICAgY29tcGFjdENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgdmlzaWJsZS14cy1pbmxpbmUtYmxvY2tcIlxuICAgIGZ1bGxDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0IGhpZGRlbi14c1wiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtcmVwbGllc1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcnVtPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjb21wYWN0Q2xhc3NOYW1lfT57cmVwbGllc308L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2Z1bGxDbGFzc05hbWV9PlxuICAgICAgICB7aW50ZXJwb2xhdGUodGV4dCwgeyByZXBsaWVzIH0sIHRydWUpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5TGFiZWwoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS1zbS1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoXCJMTExcIil9XG4gICAgPlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UG9zdGVyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdGVyTmFtZSwgdXJsIH0gPSBwcm9wc1xuICBjb25zdCBjbGFzc05hbWUgPSBcInZpc2libGUtc20taW5saW5lLWJsb2NrIGl0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCJcblxuICBpZiAodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXt1cmx9PlxuICAgICAgICB7cG9zdGVyTmFtZX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9Pntwb3N0ZXJOYW1lfTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBjbGFzc05hbWUgfSkge1xuICBpZiAoIWNhdGVnb3J5KSByZXR1cm4gbnVsbFxuXG4gIGlmIChjYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdGhyZWFkLWRldGFpbC1jYXRlZ29yeS1cIiArIGNhdGVnb3J5LmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT5cbiAgICAgIHtjYXRlZ29yeS5uYW1lfVxuICAgIDwvYT5cbiAgKVxufVxuIiwiaW1wb3J0IEJvdHRvbURldGFpbHMgZnJvbSBcIi4vYm90dG9tXCJcbmltcG9ydCBUb3BEZXRhaWxzIGZyb20gXCIuL3RvcFwiXG5cbmV4cG9ydCB7IEJvdHRvbURldGFpbHMgfVxuZXhwb3J0IHsgVG9wRGV0YWlscyB9XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9jYXRlZ29yeVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy10b3BcIj5cbiAgICAgIDxOZXdMYWJlbCBpc1JlYWQ9e3RocmVhZC5pc19yZWFkfSB1cmw9e3RocmVhZC51cmwubmV3X3Bvc3R9IC8+XG4gICAgICA8UGlubmVkTGFiZWwgd2VpZ2h0PXt0aHJlYWQud2VpZ2h0fSAvPlxuICAgICAgPFVuYXBwcm92ZWRMYWJlbFxuICAgICAgICB0aHJlYWQ9e3RocmVhZC5pc191bmFwcHJvdmVkfVxuICAgICAgICBwb3N0cz17dGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzfVxuICAgICAgLz5cbiAgICAgIDxCZXN0QW5zd2VyTGFiZWwgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8Q2F0ZWdvcnlcbiAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5IHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgLz5cbiAgICAgIDxMYXN0UmVwbHlMYWJlbFxuICAgICAgICBkYXRldGltZT17dGhyZWFkLmxhc3RfcG9zdF9vbn1cbiAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgIC8+XG4gICAgICA8TGFzdFBvc3RlclxuICAgICAgICBwb3N0ZXJOYW1lPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV3TGFiZWwoeyBpc1JlYWQsIHVybCB9KSB7XG4gIGlmIChpc1JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8YSBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLW5ld1wiIGhyZWY9e3VybH0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y29tbWVudDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e2dldHRleHQoXCJOZXcgcG9zdHNcIil9PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGlubmVkTGFiZWwoeyB3ZWlnaHQgfSkge1xuICBpZiAod2VpZ2h0ID09PSAwKSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcInRocmVhZC1kZXRhaWwtcGlubmVkLWdsb2JhbGx5XCJcbiAgbGV0IGljb24gPSBcImJvb2ttYXJrXCJcbiAgbGV0IHRleHQgPSBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpXG5cbiAgaWYgKHdlaWdodCA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSA9IFwidGhyZWFkLWRldGFpbC1waW5uZWQtbG9jYWxseVwiXG4gICAgaWNvbiA9IFwiYm9va21hcmtfYm9yZGVyXCJcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPnt0ZXh0fTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVuYXBwcm92ZWRMYWJlbCh7IHBvc3RzLCB0aHJlYWQgfSkge1xuICBpZiAoIXBvc3RzICYmICF0aHJlYWQpIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidGhyZWFkLWRldGFpbC11bmFwcHJvdmVkLXBvc3RzXCJcbiAgbGV0IGljb24gPSBcInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gIGxldCB0ZXh0ID0gZ2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIilcblxuICBpZiAodGhyZWFkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXVuYXBwcm92ZWRcIlxuICAgIGljb24gPSBcInJlbW92ZV9jaXJjbGVcIlxuICAgIHRleHQgPSBnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj57dGV4dH08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZXN0QW5zd2VyTGFiZWwoeyB0aHJlYWQgfSkge1xuICBpZiAoIXRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgdGhyZWFkLWRldGFpbC1hbnN3ZXJlZFwiXG4gICAgICBocmVmPXt0aHJlYWQudXJsLmJlc3RfYW5zd2VyfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPntnZXR0ZXh0KFwiQW5zd2VyZWRcIil9PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5TGFiZWwoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoXCJMTExcIil9XG4gICAgPlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UG9zdGVyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdGVyTmFtZSwgdXJsIH0gPSBwcm9wc1xuXG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIlxuICAgICAgICBocmVmPXt1cmx9XG4gICAgICA+XG4gICAgICAgIHtwb3N0ZXJOYW1lfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIj5cbiAgICAgIHtwb3N0ZXJOYW1lfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IFVzZXJVcmwgZnJvbSBcIi4vdXNlci11cmxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgIDxVc2VyVXJsXG4gICAgICAgICAgY2xhc3NOYW1lPVwidGhyZWFkLWxhc3QtcG9zdGVyLWF2YXRhclwiXG4gICAgICAgICAgdGl0bGU9e3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1lZGlhLW9iamVjdFwiXG4gICAgICAgICAgICBzaXplPXs0MH1cbiAgICAgICAgICAgIHVzZXI9e3RocmVhZC5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1VzZXJVcmw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICA8VXNlclVybFxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCJcbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgIDwvVXNlclVybD5cbiAgICAgICAgPFRpbWVzdGFtcCBkYXRldGltZT17dGhyZWFkLmxhc3RfcG9zdF9vbn0gdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaW1lc3RhbXAoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiIGhyZWY9e3VybH0gdGl0bGU9e2RhdGV0aW1lLmZvcm1hdChcIkxMTFwiKX0+XG4gICAgICB7ZGF0ZXRpbWUuZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFN1YnNjcmlwdGlvbkNvbXBhY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2NvbXBhY3RcIlxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGxcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnMoeyBkaXNwbGF5LCBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC1zbS0yIGNvbC1tZC0yIGhpZGRlbi14c1wiXG4gIGlmICh0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICBjbGFzc05hbWUgPSBcImNvbC1zbS0zIGNvbC1tZC0yIGhpZGRlbi14c1wiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLW9wdGlvbnNcIj5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkZ1bGwgdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkNvbXBhY3QgdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gLz5cbiAgICAgICAgPENoZWNrYm94IHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9uc1hzKHsgZGlzcGxheSwgZGlzYWJsZWQsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJcIlxuICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiY29sLXhzLTZcIlxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy0zXCJcbiAgfVxuICBjbGFzc05hbWUgKz0gXCIgdmlzaWJsZS14cy1ibG9jayB0aHJlYWQtb3B0aW9ucy14c1wiXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1vcHRpb25zXCI+XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsIHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxTdWJzY3JpcHRpb25Db21wYWN0IHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxDaGVja2JveCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrYm94IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgdG9nZ2xlU2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5pdGVtKHRoaXMucHJvcHMudGhyZWFkLmlkKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghdGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VsZWN0aW9ufVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHtpc1NlbGVjdGVkID8gXCJjaGVja19ib3hcIiA6IFwiY2hlY2tfYm94X291dGxpbmVfYmxhbmtcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIHRocmVhZC1wcmV2aWV3XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtdG9wIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1ib3R0b21cIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgeyBCb3R0b21EZXRhaWxzLCBUb3BEZXRhaWxzIH0gZnJvbSBcIi4vZGV0YWlsc1wiXG5pbXBvcnQgTGFzdEFjdGlvbiBmcm9tIFwiLi9sYXN0LWFjdGlvblwiXG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiXG5pbXBvcnQgVXNlclVybCBmcm9tIFwiLi91c2VyLXVybFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVDYXRlZ29yeSxcbiAgICBjYXRlZ29yaWVzLFxuICAgIGxpc3QsXG4gICAgdGhyZWFkLFxuXG4gICAgaXNCdXN5LFxuICAgIGlzU2VsZWN0ZWQsXG4gICAgc2hvd09wdGlvbnNcbiAgfSA9IHByb3BzXG5cbiAgbGV0IGNhdGVnb3J5ID0gbnVsbFxuICBpZiAoYWN0aXZlQ2F0ZWdvcnkuaWQgIT09IHRocmVhZC5jYXRlZ29yeSkge1xuICAgIGNhdGVnb3J5ID0gY2F0ZWdvcmllc1t0aHJlYWQuY2F0ZWdvcnldXG4gIH1cblxuICBjb25zdCBmbGF2b3IgPSBjYXRlZ29yeSB8fCBhY3RpdmVDYXRlZ29yeVxuXG4gIGxldCBjbGFzc05hbWUgPSBcInRocmVhZC1tYWluIGNvbC14cy0xMlwiXG4gIGlmIChzaG93T3B0aW9ucykge1xuICAgIGlmICh0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtc20tOSBjb2wtbWQtN1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtc20tMTAgY29sLW1kLTdcIlxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTEyIGNvbC1tZC05XCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRocmVhZC5pc19yZWFkLCBpc0J1c3ksIGlzU2VsZWN0ZWQsIGZsYXZvcil9PlxuICAgICAgPFRvcERldGFpbHMgY2F0ZWdvcnk9e2NhdGVnb3J5fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0IGhpZGRlbi14c1wiPlxuICAgICAgICAgICAgICA8VXNlclVybFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1zdGFydGVyLWF2YXRhclwiXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RocmVhZC5zdGFydGVyX25hbWV9XG4gICAgICAgICAgICAgICAgdXJsPXt0aHJlYWQudXJsLnN0YXJ0ZXJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9ezQwfSB1c2VyPXt0aHJlYWQuc3RhcnRlcn0gLz5cbiAgICAgICAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhyZWFkLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICAgICAgPEJvdHRvbURldGFpbHNcbiAgICAgICAgICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXtzaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtIHRocmVhZC1sYXN0LWFjdGlvblwiPlxuICAgICAgICAgIDxMYXN0QWN0aW9uIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICBkaXNhYmxlZD17aXNCdXN5fVxuICAgICAgICAgIGRpc3BsYXk9e3Nob3dPcHRpb25zfVxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWUoaXNSZWFkLCBpc0J1c3ksIGlzU2VsZWN0ZWQsIGZsYXZvcikge1xuICBsZXQgc3R5bGVzID0gW1wibGlzdC1ncm91cC1pdGVtXCJdXG5cbiAgaWYgKGZsYXZvciAmJiBmbGF2b3IuY3NzX2NsYXNzKSB7XG4gICAgc3R5bGVzLnB1c2goXCJsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1mbGF2b3JcIilcbiAgICBzdHlsZXMucHVzaChcImxpc3QtZ3JvdXAtaXRlbS1jYXRlZ29yeS1cIiArIGZsYXZvci5jc3NfY2xhc3MpXG4gIH1cblxuICBpZiAoaXNSZWFkKSB7XG4gICAgc3R5bGVzLnB1c2goXCJ0aHJlYWQtcmVhZFwiKVxuICB9IGVsc2Uge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLW5ld1wiKVxuICB9XG5cbiAgaWYgKGlzQnVzeSkge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLWJ1c3lcIilcbiAgfSBlbHNlIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgc3R5bGVzLnB1c2goXCJ0aHJlYWQtc2VsZWN0ZWRcIilcbiAgfVxuXG4gIHJldHVybiBzdHlsZXMuam9pbihcIiBcIilcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGxcIlxuaW1wb3J0IE9wdGlvbnNNb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vbW9kYWxcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFN1YnNjcmlwdGlvbkZ1bGwge1xuICBzaG93T3B0aW9ucyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxPcHRpb25zTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtb2RlcmF0aW9uIH0gPSB0aGlzLnByb3BzLnRocmVhZFxuXG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiXCJcbiAgICBpZiAobW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy02XCJcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lICs9IFwiY29sLXhzLTEyXCJcbiAgICB9XG4gICAgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi1tZCBoaWRkZW4tbGdcIlxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd09wdGlvbnN9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3RoaXMuZ2V0SWNvbigpfTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFwic3RhclwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gXCJzdGFyX2hhbGZcIlxuICAgIH1cblxuICAgIHJldHVybiBcInN0YXJfYm9yZGVyXCJcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrIGJ0bi1zdWJzY3JpYmUgYnRuLXN1YnNjcmliZS1mdWxsIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrIGJ0bi1zdWJzY3JpYmUgYnRuLXN1YnNjcmliZS1oYWxmIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGRyb3Bkb3duLXRvZ2dsZVwiXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtb2RlcmF0aW9uLCBzdWJzY3JpcHRpb24gfSA9IHRoaXMucHJvcHMudGhyZWFkXG4gICAgY29uc3QgZnVsbHdpZHRoID0gIW1vZGVyYXRpb24ubGVuZ3RoXG5cbiAgICBsZXQgY2xhc3NOYW1lID0gZnVsbHdpZHRoID8gXCJjb2wteHMtMTJcIiA6IFwiY29sLXhzLTZcIlxuICAgIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4teHMgaGlkZGVuLXNtXCJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3RoaXMuZ2V0SWNvbigpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPExhYmVsIG1vZGVyYXRpb249e21vZGVyYXRpb259IHN1YnNjcmlwdGlvbj17c3Vic2NyaXB0aW9ufSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwoeyBtb2RlcmF0aW9uLCBzdWJzY3JpcHRpb24gfSkge1xuICBpZiAobW9kZXJhdGlvbi5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgbGV0IHRleHQgPSBnZXR0ZXh0KFwiRGlzYWJsZWRcIilcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHRleHQgPSBnZXR0ZXh0KFwiRS1tYWlsXCIpXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHRleHQgPSBnZXR0ZXh0KFwiRW5hYmxlZFwiKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+e3RleHR9PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2Ugc3Vic2NyaXB0aW9uXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJtb2RhbC1tZW51XCIgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IFNUQVRFX1VQREFURVMgPSB7XG4gIHVuc3Vic2NyaWJlOiBudWxsLFxuICBub3RpZnk6IGZhbHNlLFxuICBlbWFpbDogdHJ1ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNldFN1YnNjcmlwdGlvbiA9IG5ld1N0YXRlID0+IHtcbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvblxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbbmV3U3RhdGVdXG4gICAgICB9KVxuICAgIClcblxuICAgIGFqYXhcbiAgICAgIC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwic3Vic2NyaXB0aW9uXCIsIHZhbHVlOiBuZXdTdGF0ZSB9XG4gICAgICBdKVxuICAgICAgLnRoZW4oXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICBwYXRjaCh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbb2xkU3RhdGVdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKFwidW5zdWJzY3JpYmVcIilcbiAgfVxuXG4gIG5vdGlmeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihcIm5vdGlmeVwiKVxuICB9XG5cbiAgZW1haWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oXCJlbWFpbFwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bnN1YnNjcmliZX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9ib3JkZXI8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubm90aWZ5fT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2hhbGY8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmVtYWlsfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmUgd2l0aCBlLW1haWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgdGl0bGUsIHVybCB9KSB7XG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3VybH0gdGl0bGU9e3RpdGxlfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IHRpdGxlPXt0aXRsZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcblxuZXhwb3J0IGNsYXNzIFN1YmNhdGVnb3J5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXJsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3RQYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS51cmwuaW5kZXggKyB0aGlzLnByb3BzLmxpc3RQYXRoXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LnVybC5pbmRleFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8TGluayB0bz17dGhpcy5nZXRVcmwoKX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gY2F0ZWdvcnktcGlja2VyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFiZWxfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHNcIj57Z2V0dGV4dChcIkNhdGVnb3J5XCIpfTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbSBjYXRlZ29yaWVzLW1lbnVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcChpZCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yaWVzW2lkXSkge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxTdWJjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF19XG4gICAgICAgICAgICAgICAgICBsaXN0UGF0aD17dGhpcy5wcm9wcy5saXN0LnBhdGh9XG4gICAgICAgICAgICAgICAgICBrZXk9e2lkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYikge1xuICBpZiAoYS5sYXN0X3Bvc3QgPiBiLmxhc3RfcG9zdCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKGEubGFzdF9wb3N0IDwgYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVHbG9iYWxXZWlnaHQoYSwgYikge1xuICBpZiAoYS53ZWlnaHQgPT09IDIgJiYgYS53ZWlnaHQgPiBiLndlaWdodCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKGIud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYilcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xXG4gIH0gZWxzZSBpZiAoYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYWdlTGVhZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFnZS1sZWFkXCJcbmltcG9ydCBUb29sYmFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3Rvb2xiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENhdGVnb3J5RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFnZUxlYWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtbGVhZFwiPlxuICAgICAgICAgICAgPHA+e3RoaXMucHJvcHMucGFnZUxlYWR9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8UGFnZUxlYWQgY29weT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXREaXNhYmxlVG9vbGJhcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMucHJvcHMuaXNMb2FkZWQgfHwgdGhpcy5wcm9wcy5pc0J1c3kgfHwgdGhpcy5wcm9wcy5idXN5VGhyZWFkcy5sZW5ndGhcbiAgICApXG4gIH1cblxuICBnZXRUb29sYmFyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGggfHwgdGhpcy5wcm9wcy51c2VyLmlkXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8VG9vbGJhclxuICAgICAgICBzdWJjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc31cbiAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICBzZWxlY3RBbGxUaHJlYWRzPXt0aGlzLnByb3BzLnNlbGVjdEFsbFRocmVhZHN9XG4gICAgICAgIHNlbGVjdE5vbmVUaHJlYWRzPXt0aGlzLnByb3BzLnNlbGVjdE5vbmVUaHJlYWRzfVxuICAgICAgICBhZGRUaHJlYWRzPXt0aGlzLnByb3BzLmFkZFRocmVhZHN9XG4gICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5wcm9wcy5kZWxldGVUaHJlYWR9XG4gICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy5wcm9wcy51cGRhdGVUaHJlYWR9XG4gICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5nZXREaXNhYmxlVG9vbGJhcigpfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpfVxuICAgICAgICB7dGhpcy5nZXRUb29sYmFyKCl9XG5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlXCJcbmltcG9ydCBOYXYgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbmF2XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdGFydFRocmVhZCA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oXG4gICAgICB0aGlzLnByb3BzLnN0YXJ0VGhyZWFkIHx8IHtcbiAgICAgICAgbW9kZTogXCJTVEFSVFwiLFxuXG4gICAgICAgIGNvbmZpZzogbWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpLFxuICAgICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoXCJUSFJFQURTX0FQSVwiKSxcblxuICAgICAgICBjYXRlZ29yeTogdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5pZFxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGhhc0dvQmFja0J1dHRvbigpIHtcbiAgICByZXR1cm4gISF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudFxuICB9XG5cbiAgZ2V0R29CYWNrQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnQpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRdXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgY29sLXNtLTIgY29sLWxnLTFcIj5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWFsaWduZWQgYnRuLWdvLWJhY2sgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICB0bz17cGFyZW50LnVybC5pbmRleCArIHRoaXMucHJvcHMucm91dGUubGlzdC5wYXRofVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmtleWJvYXJkX2Fycm93X2xlZnQ8L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldFN0YXJ0VGhyZWFkQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5zdGFydFRocmVhZH1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGF0PC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIlN0YXJ0IHRocmVhZFwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgaGVhZGVyQ2xhc3NOYW1lID0gXCJjb2wteHMtMTJcIlxuICAgIGlmICh0aGlzLmhhc0dvQmFja0J1dHRvbigpKSB7XG4gICAgICBoZWFkZXJDbGFzc05hbWUgKz0gXCIgY29sLXNtLTEwIGNvbC1sZy0xMSBzbS1hbGlnbi1yb3ctYnV0dG9uc1wiXG4gICAgfVxuXG4gICAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gISF0aGlzLnByb3BzLnVzZXIuaWRcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNBdXRoZW50aWNhdGVkID8gXCJjb2wtc20tOSBjb2wtbWQtMTBcIiA6IFwiY29sLXhzLTEyXCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0R29CYWNrQnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aGVhZGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgPFBhcmVudENhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGgxPnt0aGlzLnByb3BzLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtpc0F1dGhlbnRpY2F0ZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgY29sLW1kLTIgeHMtbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0U3RhcnRUaHJlYWRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE5hdlxuICAgICAgICAgICAgYmFzZVVybD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS51cmwuaW5kZXh9XG4gICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICBsaXN0cz17dGhpcy5wcm9wcy5yb3V0ZS5saXN0c31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFyZW50Q2F0ZWdvcnkoeyBjYXRlZ29yaWVzLCBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBudWxsXG5cbiAgY29uc3QgcGFyZW50ID0gY2F0ZWdvcmllc1tjYXRlZ29yeV1cblxuICByZXR1cm4gKFxuICAgIDxMaW5rIGNsYXNzTmFtZT1cImdvLWJhY2stc20gdmlzaWJsZS14cy1ibG9ja1wiIHRvPXtwYXJlbnQudXJsLmluZGV4fT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICB7cGFyZW50LnBhcmVudCA/IHBhcmVudC5uYW1lIDogZ2V0dGV4dChcIlRocmVhZHNcIil9XG4gICAgPC9MaW5rPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdC50eXBlID09PSBcImFsbFwiKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgPHA+e2dldHRleHQoXCJXaHkgbm90IHN0YXJ0IG9uZSB5b3Vyc2VsZj9cIil9PC9wPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5LnNwZWNpYWxfcm9sZVxuICAgICAgICAgICAgICAgID8gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyB0aHJlYWRzIG9uIHRoaXMgZm9ydW0uLi4geWV0IVwiKVxuICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlRoZXJlIGFyZSBubyB0aHJlYWRzIGluIHRoaXMgY2F0ZWdvcnkuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+e2dldHRleHQoXCJXaHkgbm90IHN0YXJ0IG9uZSB5b3Vyc2VsZj9cIil9PC9wPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYSB3ZXJlIGZvdW5kLlwiKX1cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3RcIlxuaW1wb3J0IE1lcmdlVGhyZWFkcyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlXCJcbmltcG9ydCBNb3ZlVGhyZWFkcyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmVcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgQ291bnRkb3duIGZyb20gXCJtaXNhZ28vdXRpbHMvY291bnRkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UsIG9uU3VjY2VzcyA9IG51bGwpID0+IHtcbiAgICAvLyBmcmVlemUgdGhyZWFkc1xuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgfSlcblxuICAgIC8vIGxpc3QgaWRzXG4gICAgY29uc3QgaWRzID0gdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgcmV0dXJuIHRocmVhZC5pZFxuICAgIH0pXG5cbiAgICAvLyBhbHdheXMgcmV0dXJuIGN1cnJlbnQgYWNsXG4gICAgb3BzLnB1c2goeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfSlcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5hcGksIHsgaWRzLCBvcHMgfSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICAvLyB1bmZyZWV6ZVxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyB1cGRhdGUgdGhyZWFkc1xuICAgICAgICBkYXRhLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVRocmVhZCh0aHJlYWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gc2hvdyBzdWNjZXNzIG1lc3NhZ2UgYW5kIGNhbGwgY2FsbGJhY2tcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSlcbiAgICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICAgIG9uU3VjY2VzcygpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAvLyB1bmZyZWV6ZVxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBlc2NhcGUgb24gbm9uLTQwMCBlcnJvclxuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyAhPT0gNDAwKSB7XG4gICAgICAgICAgcmV0dXJuIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIGVycm9ycyBsaXN0XG4gICAgICAgIGxldCBlcnJvcnMgPSBbXVxuICAgICAgICBsZXQgdGhyZWFkc01hcCA9IHt9XG5cbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aHJlYWRzTWFwW3RocmVhZC5pZF0gPSB0aHJlYWRcbiAgICAgICAgfSlcblxuICAgICAgICByZWplY3Rpb24uZm9yRWFjaCgoeyBpZCwgZGV0YWlsIH0pID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRocmVhZHNNYXBbaWRdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgIGVycm9yczogZGV0YWlsLFxuICAgICAgICAgICAgICB0aHJlYWQ6IHRocmVhZHNNYXBbaWRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGdsb2JhbGx5LlwiKVxuICAgIClcbiAgfVxuXG4gIHBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDFcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGxvY2FsbHkuXCIpXG4gICAgKVxuICB9XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwid2VpZ2h0XCIsXG4gICAgICAgICAgdmFsdWU6IDBcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgdW5waW5uZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgYXBwcm92ZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy11bmFwcHJvdmVkXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGFwcHJvdmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtY2xvc2VkXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG9wZW5lZC5cIilcbiAgICApXG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1jbG9zZWRcIixcbiAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBjbG9zZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgdW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bmhpZGRlbi5cIilcbiAgICApXG4gIH1cblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGhpZGRlbi5cIilcbiAgICApXG4gIH1cblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZVRocmVhZHNcbiAgICAgICAgY2FsbEFwaT17dGhpcy5jYWxsQXBpfVxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gW11cbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tZXJnZSkge1xuICAgICAgICBlcnJvcnMuYXBwZW5kKHtcbiAgICAgICAgICBpZDogdGhyZWFkLmlkLFxuICAgICAgICAgIHRpdGxlOiB0aHJlYWQudGl0bGUsXG4gICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICBnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gbWVyZ2UgdGhpcyB0aHJlYWQgd2l0aCBvdGhlcnMuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoIDwgMikge1xuICAgICAgc25hY2tiYXIuaW5mbyhcbiAgICAgICAgZ2V0dGV4dChcIllvdSBoYXZlIHRvIHNlbGVjdCBhdCBsZWFzdCB0d28gdGhyZWFkcyB0byBtZXJnZS5cIilcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPilcbiAgICAgIHJldHVyblxuICAgIH0gZWxzZSB7XG4gICAgICBtb2RhbC5zaG93KDxNZXJnZVRocmVhZHMgey4uLnRoaXMucHJvcHN9IC8+KVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBpZiAoXG4gICAgICAhY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCB0aHJlYWRzP1wiKSlcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICB9KVxuXG4gICAgY29uc3QgaWRzID0gdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgcmV0dXJuIHRocmVhZC5pZFxuICAgIH0pXG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLmFwaSwgaWRzKS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZClcbiAgICAgICAgfSlcblxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgZGVsZXRlZC5cIikpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIGNvbnN0IGZhaWxlZFRocmVhZHMgPSByZWplY3Rpb24ubWFwKHRocmVhZCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhyZWFkLmlkXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgICAgIGlmIChmYWlsZWRUaHJlYWRzLmluZGV4T2YodGhyZWFkLmlkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgZ2V0UGluR2xvYmFsbHlCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluR2xvYmFsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBnbG9iYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFya19ib3JkZXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bnBpbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wYW5vcmFtYV9maXNoX2V5ZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucGluIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1vdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1lcmdlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9tZXJnZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5tZXJnZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX21lcmdlPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0T3BlbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub3Blbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJPcGVuIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRDbG9zZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuY2xvc2V9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuaGlkZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhpZGV9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5kZWxldGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiVGhyZWFkcyBtb2RlcmF0aW9uXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT25lIG9yIG1vcmUgdGhyZWFkcyBjb3VsZCBub3QgYmUgZGVsZXRlZDpcIil9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtZXJyb3JlZC1pdGVtc1wiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5lcnJvcnMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8VGhyZWFkRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycz17aXRlbS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS50aHJlYWQuaWR9XG4gICAgICAgICAgICAgICAgICAgIHRocmVhZD17aXRlbS50aHJlYWR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkRXJyb3JzKHsgZXJyb3JzLCB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoNT57dGhyZWFkLnRpdGxlfTwvaDU+XG4gICAgICB7ZXJyb3JzLm1hcCgobWVzc2FnZSwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPlxuICAgICAgfSl9XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0XCJcbmltcG9ydCBNZXJnZUNvbmZsaWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1jb25mbGljdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbdmFsaWRhdG9ycy5yZXF1aXJlZCgpXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIHRoaXMuYWNsID0ge31cbiAgICBmb3IgKGNvbnN0IGkgaW4gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcykge1xuICAgICAgaWYgKCFwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV1cbiAgICAgIHRoaXMuYWNsW2FjbC5pZF0gPSBhY2xcbiAgICB9XG5cbiAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcyA9IFtdXG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5sZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgYWNsID0gdGhpcy5hY2xbY2F0ZWdvcnkuaWRdXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID1cbiAgICAgICAgICAhYWNsLmNhbl9zdGFydF90aHJlYWRzIHx8XG4gICAgICAgICAgKGNhdGVnb3J5LmlzX2Nsb3NlZCAmJiAhYWNsLmNhbl9jbG9zZV90aHJlYWRzKVxuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5X29mZlwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIGljb246IFwibG9ja19vdXRsaW5lXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIk1FUkdFX1RIUkVBRFNfQVBJXCIpLCB0aGlzLmdldEZvcm1kYXRhKCkpXG4gIH1cblxuICBnZXRGb3JtZGF0YSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4gdGhyZWFkLmlkKSxcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWRcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIC8vIHVuZnJlZXplIGFuZCByZW1vdmUgbWVyZ2VkIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKVxuICAgIH0pXG5cbiAgICAvLyBkZXNlbGVjdCBhbGwgdGhyZWFkc1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpXG5cbiAgICAvLyBhcHBlbmQgbWVyZ2VkIHRocmVhZCwgZmlsdGVyIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLmFkZFRocmVhZHMoW2FwaVJlc3BvbnNlXSlcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIGZpbHRlclRocmVhZHModGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwKVxuICAgIClcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBtb2RhbC5oaWRlKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmJlc3RfYW5zd2VycyB8fCByZWplY3Rpb24ucG9sbHMpIHtcbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8TWVyZ2VDb25mbGljdFxuICAgICAgICAgICAgYXBpPXttaXNhZ28uZ2V0KFwiTUVSR0VfVEhSRUFEU19BUElcIil9XG4gICAgICAgICAgICBiZXN0QW5zd2Vycz17cmVqZWN0aW9uLmJlc3RfYW5zd2Vyc31cbiAgICAgICAgICAgIGRhdGE9e3RoaXMuZ2V0Rm9ybWRhdGEoKX1cbiAgICAgICAgICAgIHBvbGxzPXtyZWplY3Rpb24ucG9sbHN9XG4gICAgICAgICAgICBvbkVycm9yPXt0aGlzLmhhbmRsZUVycm9yfVxuICAgICAgICAgICAgb25TdWNjZXNzPXt0aGlzLmhhbmRsZVN1Y2Nlc3N9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXJyb3JzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgICB9KVxuICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmJlc3RfYW5zd2VyKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uYmVzdF9hbnN3ZXJbMF0pXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9sbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvbGxbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwicmVtb3ZlXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzXG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX0gZm9yPVwiaWRfd2VpZ2h0XCI+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwid2VpZ2h0XCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX0gZm9yPVwiaWRfaXNfaGlkZGVuXCI+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkZGVuXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfSBmb3I9XCJpZF9pc19jbG9zZWRcIj5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19jbG9zZWRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ0aXRsZVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IGNhbid0IG1vdmUgdGhyZWFkcyBiZWNhdXNlIHRoZXJlIGFyZSBubyBjYXRlZ29yaWVzIHlvdSBhcmUgYWxsb3dlZCB0byBtb3ZlIHRoZW0gdG8uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IG5lZWQgcGVybWlzc2lvbiB0byBzdGFydCB0aHJlYWRzIGluIGNhdGVnb3J5IHRvIGJlIGFibGUgdG8gbWVyZ2UgdGhyZWFkcyB0byBpdC5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2dcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcnlcbiAgICAgICAgICAgID8gdGhpcy5yZW5kZXJGb3JtKClcbiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJDYW50TWVyZ2VNZXNzYWdlKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgYWNscyA9IHt9XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2wgPSBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzW2ldXG4gICAgICBhY2xzW2FjbC5pZF0gPSBhY2xcbiAgICB9XG5cbiAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcyA9IFtdXG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5sZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgYWNsID0gYWNsc1tjYXRlZ29yeS5pZF1cbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPVxuICAgICAgICAgICFhY2wuY2FuX3N0YXJ0X3RocmVhZHMgfHxcbiAgICAgICAgICAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpXG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGV2ZW50ID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgY29uc3Qgb25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIGZpbHRlclRocmVhZHModGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwKVxuICAgICAgKVxuXG4gICAgICAvLyBkZXNlbGVjdCB0aHJlYWRzIG1vdmVkIG91dHNpZGUgb2YgdmlzaWJsZSBzY29wZVxuICAgICAgY29uc3Qgc3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKClcbiAgICAgIGNvbnN0IGxlZnRUaHJlYWRzID0gc3RvcmVTdGF0ZS50aHJlYWRzLm1hcCh0aHJlYWQgPT4gdGhyZWFkLmlkKVxuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHNlbGVjdC5hbGwoXG4gICAgICAgICAgc3RvcmVTdGF0ZS5zZWxlY3Rpb24uZmlsdGVyKHRocmVhZCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdFRocmVhZHMuaW5kZXhPZih0aHJlYWQpICE9PSAtMVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImNhdGVnb3J5XCIsIHZhbHVlOiB0aGlzLnN0YXRlLmNhdGVnb3J5IH0sXG4gICAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImZsYXR0ZW4tY2F0ZWdvcmllc1wiLCB2YWx1ZTogbnVsbCB9LFxuICAgICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBtb3ZlZC5cIiksXG4gICAgICBvblN1Y2Nlc3NcbiAgICApXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZ1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0gZm9yPVwiaWRfbmV3X2NhdGVnb3J5XCI+XG4gICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgaWQ9XCJpZF9uZXdfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJjYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuY2F0ZWdvcnlDaG9pY2VzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IGNhbid0IG1vdmUgdGhyZWFkcyBiZWNhdXNlIHRoZXJlIGFyZSBubyBjYXRlZ29yaWVzIHlvdSBhcmUgYWxsb3dlZCB0byBtb3ZlIHRoZW0gdG8uXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IG5lZWQgcGVybWlzc2lvbiB0byBzdGFydCB0aHJlYWRzIGluIGNhdGVnb3J5IHRvIGJlIGFibGUgdG8gbW92ZSB0aHJlYWRzIHRvIGl0LlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcnlcbiAgICAgICAgICAgID8gdGhpcy5yZW5kZXJGb3JtKClcbiAgICAgICAgICAgIDogdGhpcy5yZW5kZXJDYW50TW92ZU1lc3NhZ2UoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzZWxlY3RBbGwgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBzZWxlY3QuYWxsKFxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgICAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApXG4gIH1cblxuICBzZWxlY3ROb25lID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0QWxsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBhbGxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdE5vbmV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWxlY3Qgbm9uZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBMaSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbGlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGJhc2VVcmwsIGxpc3QsIGxpc3RzIH0pIHtcbiAgaWYgKGxpc3RzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFic1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIj5cbiAgICAgICAgICB7bGlzdHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExpXG4gICAgICAgICAgICAgICAgaXNDb250cm9sbGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtpdGVtLnBhdGggPT09IGxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICBrZXk9e2Jhc2VVcmwgKyBpdGVtLnBhdGh9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGluayB0bz17YmFzZVVybCArIGl0ZW0ucGF0aH0+e2l0ZW0ubmFtZX08L0xpbms+XG4gICAgICAgICAgICAgIDwvTGk+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgUm91dGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvcm91dGVcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdChvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgc2VsZWN0aW9uOiBzdG9yZS5zZWxlY3Rpb24sXG4gICAgICB0aHJlYWRzOiBzdG9yZS50aHJlYWRzLFxuICAgICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgICAgdXNlcjogc3RvcmUuYXV0aC51c2VyXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXN0cyh1c2VyKSB7XG4gIGxldCBsaXN0cyA9IFtcbiAgICB7XG4gICAgICB0eXBlOiBcImFsbFwiLFxuICAgICAgcGF0aDogXCJcIixcbiAgICAgIG5hbWU6IGdldHRleHQoXCJBbGxcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIkFsbCB0aHJlYWRzXCIpXG4gICAgfVxuICBdXG5cbiAgaWYgKHVzZXIuaWQpIHtcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6IFwibXlcIixcbiAgICAgIHBhdGg6IFwibXkvXCIsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiTXlcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk15IHRocmVhZHNcIilcbiAgICB9KVxuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogXCJuZXdcIixcbiAgICAgIHBhdGg6IFwibmV3L1wiLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk5ld1wiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiTmV3IHRocmVhZHNcIilcbiAgICB9KVxuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogXCJ1bnJlYWRcIixcbiAgICAgIHBhdGg6IFwidW5yZWFkL1wiLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlVucmVhZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiVW5yZWFkIHRocmVhZHNcIilcbiAgICB9KVxuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogXCJzdWJzY3JpYmVkXCIsXG4gICAgICBwYXRoOiBcInN1YnNjcmliZWQvXCIsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiU3Vic2NyaWJlZCB0aHJlYWRzXCIpXG4gICAgfSlcblxuICAgIGlmICh1c2VyLmFjbC5jYW5fc2VlX3VuYXBwcm92ZWRfY29udGVudF9saXN0cykge1xuICAgICAgbGlzdHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwidW5hcHByb3ZlZFwiLFxuICAgICAgICBwYXRoOiBcInVuYXBwcm92ZWQvXCIsXG4gICAgICAgIG5hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkXCIpLFxuICAgICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVuYXBwcm92ZWQgY29udGVudFwiKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbGlzdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKHVzZXIsIG1vZGUpIHtcbiAgbGV0IGxpc3RzID0gZ2V0TGlzdHModXNlcilcbiAgbGV0IHJvdXRlcyA9IFtdXG4gIGxldCBjYXRlZ29yaWVzTWFwID0ge31cblxuICBtaXNhZ28uZ2V0KFwiQ0FURUdPUklFU1wiKS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgbGlzdHMuZm9yRWFjaChmdW5jdGlvbihsaXN0KSB7XG4gICAgICBjYXRlZ29yaWVzTWFwW2NhdGVnb3J5LmlkXSA9IGNhdGVnb3J5XG5cbiAgICAgIHJvdXRlcy5wdXNoKHtcbiAgICAgICAgcGF0aDogY2F0ZWdvcnkudXJsLmluZGV4ICsgbGlzdC5wYXRoLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3QoZ2V0U2VsZWN0KG1vZGUpKShSb3V0ZSksXG5cbiAgICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldChcIkNBVEVHT1JJRVNcIiksXG4gICAgICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgICAgIGNhdGVnb3J5LFxuXG4gICAgICAgIGxpc3RzLFxuICAgICAgICBsaXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgcmV0dXJuIHJvdXRlc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IHtcbiAgY29tcGFyZUdsb2JhbFdlaWdodCxcbiAgY29tcGFyZVdlaWdodFxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyXCJcbmltcG9ydCB7XG4gIGRpZmZUaHJlYWRzLFxuICBnZXRNb2RlcmF0aW9uQWN0aW9ucyxcbiAgZ2V0UGFnZVRpdGxlLFxuICBnZXRUaXRsZVxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy91dGlsc1wiXG5pbXBvcnQgVGhyZWFkc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdFwiXG5pbXBvcnQgVGhyZWFkc0xpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5XCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgeyBhcHBlbmQsIGRlbGV0ZVRocmVhZCwgaHlkcmF0ZSwgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0ICogYXMgc2V0cyBmcm9tIFwibWlzYWdvL3V0aWxzL3NldHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNNb3VudGVkOiB0cnVlLFxuXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBkaWZmOiB7XG4gICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICB9LFxuXG4gICAgICBtb2RlcmF0aW9uOiBbXSxcbiAgICAgIGJ1c3lUaHJlYWRzOiBbXSxcblxuICAgICAgZHJvcGRvd246IGZhbHNlLFxuICAgICAgc3ViY2F0ZWdvcmllczogW10sXG4gICAgICBcbiAgICAgIG5leHQ6IDAsXG4gICAgfVxuXG4gICAgbGV0IGNhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeSgpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFNcIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBtaXNhZ28uZ2V0KFwiVEhSRUFEU1wiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2F0ZWdvcnkoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnNwZWNpYWxfcm9sZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLCB7XG4gICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhkYXRhLnJlc3VsdHMpLFxuICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuICAgICAgbmV4dDogZGF0YS5uZXh0XG4gICAgfSlcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KSB7XG4gICAgdGhpcy5sb2FkVGhyZWFkcyhjYXRlZ29yeSlcbiAgfVxuXG4gIGxvYWRUaHJlYWRzKGNhdGVnb3J5LCBuZXh0ID0gMCkge1xuICAgIGFqYXhcbiAgICAgIC5nZXQoXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5hcGksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGUsXG4gICAgICAgICAgc3RhcnQ6IG5leHQgfHwgMFxuICAgICAgICB9LFxuICAgICAgICBcInRocmVhZHNcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgIC8vIHVzZXIgY2hhbmdlZCByb3V0ZSBiZWZvcmUgbG9hZGluZyBjb21wbGV0aW9uXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmV4dCA9PT0gMCkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzLCB0aGlzLmdldFNvcnRpbmcoKSkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgICAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgICAgICAgbmV4dDogZGF0YS5uZXh0LFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhjYXRlZ29yeSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwidGhyZWFkc1wiLFxuICAgICAgdXJsOiB0aGlzLnByb3BzLm9wdGlvbnMuYXBpLFxuICAgICAgZGF0YToge1xuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiAxMjAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnBvbGxSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFNcIikpIHtcbiAgICAgIC8vIHVubGlrZSBpbiBvdGhlciBjb21wb25lbnRzLCByb3V0ZXMgYXJlIHJvb3QgY29tcG9uZW50cyBmb3IgdGhyZWFkc1xuICAgICAgLy8gc28gd2UgY2FuJ3QgZGlzcGF0Y2ggc3RvcmUgYWN0aW9uIGZyb20gY29uc3RydWN0b3JcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLnBvcChcIlRIUkVBRFNcIikucmVzdWx0cykpXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdGF0ZS5pc01vdW50ZWQgPSBmYWxzZVxuICAgIHBvbGxzLnN0b3AoXCJ0aHJlYWRzXCIpXG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlXG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFRpdGxlKHRoaXMucHJvcHMucm91dGUpXG4gIH1cblxuICBzZXRQYWdlVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwgfHwgIW1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICB0aXRsZS5zZXQodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X3RpdGxlKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X3RpdGxlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5mb3J1bV9uYW1lXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVXZWlnaHRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNvbXBhcmVHbG9iYWxXZWlnaHRcbiAgICB9XG4gIH1cblxuICAvLyBBSkFYXG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkVGhyZWFkcyh0aGlzLmdldENhdGVnb3J5KCksIHRoaXMuc3RhdGUubmV4dClcbiAgfVxuXG4gIHBvbGxSZXNwb25zZSA9IGRhdGEgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGlmZjogT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgICAgICByZXN1bHRzOiBkaWZmVGhyZWFkcyh0aGlzLnByb3BzLnRocmVhZHMsIGRhdGEucmVzdWx0cylcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZFRocmVhZHMgPSB0aHJlYWRzID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQodGhyZWFkcywgdGhpcy5nZXRTb3J0aW5nKCkpKVxuICB9XG5cbiAgYXBwbHlEaWZmID0gKCkgPT4ge1xuICAgIHRoaXMuYWRkVGhyZWFkcyh0aGlzLnN0YXRlLmRpZmYucmVzdWx0cylcblxuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRpZmYsIHtcbiAgICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgcmVzdWx0czogW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICAvLyBUaHJlYWQgc3RhdGUgdXRpbHNcblxuICBmcmVlemVUaHJlYWQgPSB0aHJlYWQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXN5VGhyZWFkczogc2V0cy50b2dnbGUoY3VycmVudFN0YXRlLmJ1c3lUaHJlYWRzLCB0aHJlYWQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZVRocmVhZCA9IHRocmVhZCA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2godGhyZWFkLCB0aHJlYWQsIHRoaXMuZ2V0U29ydGluZygpKSlcbiAgfVxuXG4gIGRlbGV0ZVRocmVhZCA9IHRocmVhZCA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZGVsZXRlVGhyZWFkKHRocmVhZCkpXG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5uZXh0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeSB8fCB0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzLmxlbmd0aH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTaG93IG1vcmVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcInBhZ2UgcGFnZS10aHJlYWRzXCJcbiAgICBjbGFzc05hbWUgKz0gXCIgcGFnZS10aHJlYWRzLVwiICsgdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGVcbiAgICBpZiAoaXNJbmRleCh0aGlzLnByb3BzKSkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkcy1pbmRleFwiXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkcy1cIiArIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzXG4gICAgfVxuICAgIHJldHVybiBjbGFzc05hbWVcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBzdGFydFRocmVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxDb250YWluZXJcbiAgICAgICAgICBhcGk9e3RoaXMucHJvcHMub3B0aW9ucy5hcGl9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgc3ViY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5zdWJjYXRlZ29yaWVzfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICBwYWdlTGVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnBhZ2VMZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aHJlYWRzQ291bnQ9e3RoaXMuc3RhdGUuY291bnR9XG4gICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5zdGF0ZS5tb2RlcmF0aW9ufVxuICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgYnVzeVRocmVhZHM9e3RoaXMuc3RhdGUuYnVzeVRocmVhZHN9XG4gICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5hZGRUaHJlYWRzfVxuICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgID5cbiAgICAgICAgICA8VGhyZWFkc0xpc3RcbiAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgIGRpZmZTaXplPXt0aGlzLnN0YXRlLmRpZmYucmVzdWx0cy5sZW5ndGh9XG4gICAgICAgICAgICBhcHBseURpZmY9e3RoaXMuYXBwbHlEaWZmfVxuICAgICAgICAgICAgc2hvd09wdGlvbnM9eyEhdGhpcy5wcm9wcy51c2VyLmlkfVxuICAgICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VGhyZWFkc0xpc3RFbXB0eVxuICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLm9wdGlvbnMuZW1wdHlNZXNzYWdlfVxuICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVGhyZWFkc0xpc3Q+XG5cbiAgICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW5kZXgocHJvcHMpIHtcbiAgaWYgKHByb3BzLnJvdXRlLmNhdGVnb3J5LmxldmVsIHx8ICFtaXNhZ28uZ2V0KFwiVEhSRUFEU19PTl9JTkRFWFwiKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChwcm9wcy5vcHRpb25zLnRpdGxlKSByZXR1cm4gZmFsc2VcblxuICByZXR1cm4gdHJ1ZVxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5UGlja2VyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NhdGVnb3J5LXBpY2tlclwiXG5pbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdGlvbkNvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeVBpY2tlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPENhdGVnb3J5UGlja2VyXG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgY2hvaWNlcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHNob3dNb2RlcmF0aW9uT3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy51c2VyLmlkICYmIHRoaXMucHJvcHMubW9kZXJhdGlvbi5hbGxvd1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRUaHJlYWRzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnRocmVhZHMuZmlsdGVyKHRocmVhZCA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDBcbiAgICB9KVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tMyBjb2wtbWQtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCAhdGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT3B0aW9uc1wiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLmdldFNlbGVjdGVkVGhyZWFkcygpfVxuICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldFNlbGVjdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyBjb2wtc20tMiBjb2wtbWQtMVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBidG4taWNvbiBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlbGVjdF9hbGw8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXIgcm93LXRvb2xiYXItYm90dG9tLW1hcmdpblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIGNvbC1zbS0zIGNvbC1tZC0yIGRyb3Bkb3duXCI+XG4gICAgICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlQaWNrZXIoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGNvbC1zbS00IGNvbC1tZC03XCIgLz5cbiAgICAgICAge3RoaXMuZ2V0TW9kZXJhdGlvbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRTZWxlY3Rpb25CdXR0b24oKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGdldHRleHQoXCJUaHJlYWRzXCIpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICByZXR1cm4gcm91dGUuY2F0ZWdvcnkubmFtZVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSB7XG4gICAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5pbmRleF9oZWFkZXIpIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuaW5kZXhfaGVhZGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnQsIGZyb21EYikge1xuICByZXR1cm4gKFxuICAgIFtcbiAgICAgIGN1cnJlbnQudGl0bGUgPT09IGZyb21EYi50aXRsZSxcbiAgICAgIGN1cnJlbnQud2VpZ2h0ID09PSBmcm9tRGIud2VpZ2h0LFxuICAgICAgY3VycmVudC5jYXRlZ29yeSA9PT0gZnJvbURiLmNhdGVnb3J5LFxuICAgICAgY3VycmVudC5sYXN0X3Bvc3QgPT09IGZyb21EYi5sYXN0X3Bvc3QsXG4gICAgICBjdXJyZW50Lmxhc3RfcG9zdGVyX25hbWUgPT09IGZyb21EYi5sYXN0X3Bvc3Rlcl9uYW1lXG4gICAgXS5pbmRleE9mKGZhbHNlKSA+PSAwXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUaHJlYWRzKGN1cnJlbnQsIGZyb21EYikge1xuICBsZXQgY3VycmVudE1hcCA9IHt9XG4gIGN1cnJlbnQuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBjdXJyZW50TWFwW3RocmVhZC5pZF0gPSB0aHJlYWRcbiAgfSlcblxuICByZXR1cm4gZnJvbURiLmZpbHRlcihmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAoY3VycmVudE1hcFt0aHJlYWQuaWRdKSB7XG4gICAgICByZXR1cm4gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSwgdGhyZWFkKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVyYXRpb25BY3Rpb25zKHRocmVhZHMpIHtcbiAgbGV0IG1vZGVyYXRpb24gPSB7XG4gICAgYWxsb3c6IGZhbHNlLFxuXG4gICAgY2FuX2FwcHJvdmU6IDAsXG4gICAgY2FuX2Nsb3NlOiAwLFxuICAgIGNhbl9kZWxldGU6IDAsXG4gICAgY2FuX2hpZGU6IDAsXG4gICAgY2FuX21lcmdlOiAwLFxuICAgIGNhbl9tb3ZlOiAwLFxuICAgIGNhbl9waW46IDAsXG4gICAgY2FuX3Bpbl9nbG9iYWxseTogMCxcbiAgICBjYW5fdW5oaWRlOiAwXG4gIH1cblxuICB0aHJlYWRzLmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKFxuICAgICAgdGhyZWFkLmlzX3VuYXBwcm92ZWQgJiZcbiAgICAgIHRocmVhZC5hY2wuY2FuX2FwcHJvdmUgPiBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlXG4gICAgKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlID0gdGhyZWFkLmFjbC5jYW5fYXBwcm92ZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9jbG9zZSA+IG1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSA9IHRocmVhZC5hY2wuY2FuX2Nsb3NlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2RlbGV0ZSA+IG1vZGVyYXRpb24uY2FuX2RlbGV0ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlID0gdGhyZWFkLmFjbC5jYW5fZGVsZXRlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2hpZGUgPiBtb2RlcmF0aW9uLmNhbl9oaWRlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlID0gdGhyZWFkLmFjbC5jYW5faGlkZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tZXJnZSA+IG1vZGVyYXRpb24uY2FuX21lcmdlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSA9IHRocmVhZC5hY2wuY2FuX21lcmdlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21vdmUgPiBtb2RlcmF0aW9uLmNhbl9tb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlID0gdGhyZWFkLmFjbC5jYW5fbW92ZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9waW4gPiBtb2RlcmF0aW9uLmNhbl9waW4pIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpbiA9IHRocmVhZC5hY2wuY2FuX3BpblxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkgPiBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSA9IHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuaXNfaGlkZGVuICYmIHRocmVhZC5hY2wuY2FuX3VuaGlkZSA+IG1vZGVyYXRpb24uY2FuX3VuaGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fdW5oaWRlID0gdGhyZWFkLmFjbC5jYW5fdW5oaWRlXG4gICAgfVxuXG4gICAgbW9kZXJhdGlvbi5hbGxvdyA9XG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3VuaGlkZVxuICB9KVxuXG4gIHJldHVybiBtb2RlcmF0aW9uXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgTmF2YmFyU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoXCJcbmltcG9ydCBSZWdpc3RlckJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uXCJcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qc1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGRyb3Bkb3duIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93blwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBjbGFzcyBHdWVzdE1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93U2lnbkluTW9kYWwoKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZ3Vlc3QtcHJldmlld1wiPlxuICAgICAgICAgIDxoND57Z2V0dGV4dChcIllvdSBhcmUgYnJvd3NpbmcgYXMgZ3Vlc3QuXCIpfTwvaDQ+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJTaWduIGluIG9yIHJlZ2lzdGVyIHRvIHN0YXJ0IGFuZCBwYXJ0aWNpcGF0ZSBpbiBkaXNjdXNzaW9ucy5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIHttaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZW5hYmxlX3NzbyA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1yZWdpc3RlciBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLlNTT19MT0dJTl9VUkx9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zaWduLWluIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyFtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZW5hYmxlX3NzbyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyIGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgICAgICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3Vlc3ROYXYgZXh0ZW5kcyBHdWVzdE1lbnUge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2IG5hdi1ndWVzdFwiPlxuICAgICAgICB7bWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc28gPyAoXG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBuYXZiYXItYnRuIGJ0bi1wcmltYXJ5IGJ0bi1yZWdpc3RlclwiXG4gICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuU1NPX0xPR0lOX1VSTH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBuYXZiYXItYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zaWduLWluXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbk1vZGFsfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICB7IW1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvICYmIChcbiAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwibmF2YmFyLWJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXJcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgICAgPC9SZWdpc3RlckJ1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYXZiYXItbGVmdFwiPlxuICAgICAgICAgIDxOYXZiYXJTZWFyY2ggLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RHdWVzdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dHdWVzdE1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvdyhHdWVzdE1lbnUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd0d1ZXN0TWVudX0+XG4gICAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBHdWVzdE5hdiwgQ29tcGFjdEd1ZXN0TmF2IH0gZnJvbSBcIi4vZ3Vlc3QtbmF2XCJcbmltcG9ydCB7IFVzZXJOYXYsIENvbXBhY3RVc2VyTmF2IH0gZnJvbSBcIi4vdXNlci1uYXZcIlxuXG5leHBvcnQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPEd1ZXN0TmF2IC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0VXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gPENvbXBhY3RVc2VyTmF2IHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxDb21wYWN0R3Vlc3ROYXYgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuYXV0aFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQ2hhbmdlQXZhdGFyTW9kYWwsIHsgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdFwiXG5pbXBvcnQgTmF2YmFyU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZHJvcGRvd24gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgbG9nb3V0KCkge1xuICAgIGxldCBkZWNpc2lvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzaWduIG91dD9cIikpXG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICAkKFwiI2hpZGRlbi1sb2dvdXQtZm9ybVwiKS5zdWJtaXQoKVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUF2YXRhcigpIHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VBdmF0YXJNb2RhbCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+XG4gICAgICAgICAgPHN0cm9uZz57dXNlci51c2VybmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB1c2VyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5wb3N0c31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ydW08L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLnRocmVhZHN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5mb2xsb3dlcnN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLmZvbGxvd2luZ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YSBocmVmPXt1c2VyLnVybH0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YWNjb3VudF9jaXJjbGU8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlZSB5b3VyIHByb2ZpbGVcIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIil9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmVfYWxsPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2Ugb3B0aW9uc1wiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoYW5nZUF2YXRhcn1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wb3J0cmFpdDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGF2YXRhclwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgeyEhdXNlci5hY2wuY2FuX3VzZV9wcml2YXRlX3RocmVhZHMgJiYgKFxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJQUklWQVRFX1RIUkVBRFNfVVJMXCIpfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lc3NhZ2U8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpfVxuICAgICAgICAgICAgICA8UHJpdmF0ZVRocmVhZHNCYWRnZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICl9XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWJ1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9nb3V0fVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJMb2cgb3V0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaXZhdGVUaHJlYWRzQmFkZ2UoeyB1c2VyIH0pIHtcbiAgaWYgKCF1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+e3VzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkc308L3NwYW4+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyTmF2KHsgdXNlciB9KSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInVsIG5hdiBuYXZiYXItbmF2IG5hdi11c2VyXCI+XG4gICAgICA8bGk+XG4gICAgICAgIDxOYXZiYXJTZWFyY2ggLz5cbiAgICAgIDwvbGk+XG4gICAgICA8VXNlclByaXZhdGVUaHJlYWRzTGluayB1c2VyPXt1c2VyfSAvPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duXCI+XG4gICAgICAgIDxhXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBocmVmPXt1c2VyLnVybH1cbiAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dXNlcn0gc2l6ZT1cIjY0XCIgLz5cbiAgICAgICAgPC9hPlxuICAgICAgICA8VXNlck1lbnUgdXNlcj17dXNlcn0gLz5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlclByaXZhdGVUaHJlYWRzTGluayh7IHVzZXIgfSkge1xuICBpZiAoIXVzZXIuYWNsLmNhbl91c2VfcHJpdmF0ZV90aHJlYWRzKSByZXR1cm4gbnVsbFxuXG4gIGxldCB0aXRsZSA9IG51bGxcbiAgaWYgKHVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcykge1xuICAgIHRpdGxlID0gZ2V0dGV4dChcIllvdSBoYXZlIHVucmVhZCBwcml2YXRlIHRocmVhZHMhXCIpXG4gIH0gZWxzZSB7XG4gICAgdGl0bGUgPSBnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1pY29uXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19VUkxcIil9XG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lc3NhZ2U8L3NwYW4+XG4gICAgICAgIHt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMgPiAwICYmIChcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPnt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9PC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFVzZXJNZW51KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUuYXV0aC51c2VyXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1VzZXJNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3dDb25uZWN0ZWQoXCJ1c2VyLW1lbnVcIiwgY29ubmVjdChzZWxlY3RVc2VyTWVudSkoVXNlck1lbnUpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dVc2VyTWVudX0+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNTBcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzcygpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzQ2xhc3NOYW1lKHRoaXMucHJvcHMuc3RhdHVzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3MoKX0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9zcGFuPlxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNJY29uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gXCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gXCJoZWxwX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIFwibGFiZWxcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcImxhYmVsX291dGxpbmVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gXCJsZW5zXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBcInBhbm9yYW1hX2Zpc2hfZXllXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gc3RhdHVzLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNMYWJlbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy5zdGF0dXMpXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkJhbm5lZFwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkhpZGRlblwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPbmxpbmUgKGhpZGRlbilcIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9mZmxpbmUgKGhpZGRlbilcIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPbmxpbmVcIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT2ZmbGluZVwiKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcInN0YXR1cy1sYWJlbFwifVxuICAgICAgICB0aXRsZT17dGhpcy5nZXRIZWxwKCl9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNDbGFzc05hbWUoc3RhdHVzKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcIlwiXG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJiYW5uZWRcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcIm9mZmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvbmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwib2ZmbGluZVwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZSkge1xuICAgIGNsYXNzTmFtZSA9IFwib25saW5lXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIGNsYXNzTmFtZSA9IFwib2ZmbGluZVwiXG4gIH1cblxuICByZXR1cm4gXCJ1c2VyLXN0YXR1cyB1c2VyLVwiICsgY2xhc3NOYW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNEZXNjcmlwdGlvbih1c2VyLCBzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICBpZiAoc3RhdHVzLmJhbm5lZF91bnRpbCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGJhbm5lZCB1bnRpbCAlKGJhbl9leHBpcmVzKXNcIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICBiYW5fZXhwaXJlczogc3RhdHVzLmJhbm5lZF91bnRpbC5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgYmFubmVkXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBoaWRpbmcgcHJlc2VuY2VcIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgb25saW5lIChoaWRkZW4pXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzIChoaWRkZW4pXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBvbmxpbmVcIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgd2FzIGxhc3Qgc2VlbiAlKGxhc3RfY2xpY2spc1wiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXZhdGFyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXV0aG9yXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWRhdGVcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDgwLCAxNDApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyVXNlckF2YXRhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5LnVybH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhci13cmFwcGVyXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieX0gc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvYT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXItd3JhcHBlclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXJVc2VybmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51c2VybmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnlfdXNlcm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIiBrZXk9e3RoaXMucHJvcHMuY2hhbmdlLmlkfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXZhdGFyXCI+e3RoaXMucmVuZGVyVXNlckF2YXRhcigpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdXRob3JcIj57dGhpcy5yZW5kZXJVc2VybmFtZSgpfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm9sZC11c2VybmFtZVwiPnt0aGlzLnByb3BzLmNoYW5nZS5vbGRfdXNlcm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldy11c2VybmFtZVwiPnt0aGlzLnByb3BzLmNoYW5nZS5uZXdfdXNlcm5hbWV9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtZGF0ZVwiPlxuICAgICAgICAgIDxhYmJyIHRpdGxlPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZvcm1hdChcIkxMTFwiKX0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mcm9tTm93KCl9XG4gICAgICAgICAgPC9hYmJyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENoYW5nZVByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7WzAsIDEsIDJdLm1hcChpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8Q2hhbmdlUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhbmdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2VzLm1hcChjaGFuZ2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxDaGFuZ2UgY2hhbmdlPXtjaGFuZ2V9IGtleT17Y2hhbmdlLmlkfSAvPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0RW1wdHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1lbXB0eVwiXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHlcIlxuaW1wb3J0IExpc3RQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gPExpc3RSZWFkeSBjaGFuZ2VzPXt0aGlzLnByb3BzLmNoYW5nZXN9IC8+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMuZW1wdHlNZXNzYWdlfSAvPlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgU3RhdHMgZnJvbSBcIi4vc3RhdHNcIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBzaG93U3RhdHVzLCB1c2VyIH0pIHtcbiAgY29uc3QgeyByYW5rIH0gPSB1c2VyXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwicGFuZWwgdXNlci1jYXJkXCJcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHVzZXItY2FyZC1cIiArIHJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyB1c2VyLWNhcmQtbGVmdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc21hbGwtYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIHNpemUyeD1cIjgwXCIgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOSBjb2wtc20tMTIgdXNlci1jYXJkLWJvZHlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt1c2VyLnVybH0+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiMTUwXCIgc2l6ZTJ4PVwiMjAwXCIgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXVzZXJuYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT57dXNlci51c2VybmFtZX08L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxVc2VyVGl0bGUgcmFuaz17cmFua30gdGl0bGU9e3VzZXIudGl0bGV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cbiAgICAgICAgICAgICAgPFN0YXRzIHNob3dTdGF0dXM9e3Nob3dTdGF0dXN9IHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNMYWJlbCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgc2hvd1N0YXR1cywgdXNlciB9KSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgIDxTdGF0dXMgc2hvd1N0YXR1cz17c2hvd1N0YXR1c30gdXNlcj17dXNlcn0gLz5cbiAgICAgIDxKb2luRGF0ZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1kaXZpZGVyXCIgLz5cbiAgICAgIDxQb3N0cyB1c2VyPXt1c2VyfSAvPlxuICAgICAgPFRocmVhZHMgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxGb2xsb3dlcnMgdXNlcj17dXNlcn0gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdGF0dXMoeyBzaG93U3RhdHVzLCB1c2VyIH0pIHtcbiAgaWYgKCFzaG93U3RhdHVzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1zdGF0dXNcIj5cbiAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17dXNlci5zdGF0dXN9PlxuICAgICAgICA8U3RhdHVzTGFiZWwgc3RhdHVzPXt1c2VyLnN0YXR1c30gdXNlcj17dXNlcn0gLz5cbiAgICAgIDwvVXNlclN0YXR1cz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBKb2luRGF0ZSh7IHVzZXIgfSkge1xuICBjb25zdCB7IGpvaW5lZF9vbiB9ID0gdXNlclxuXG4gIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBqb2luZWRfb246IGpvaW5lZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIkpvaW5lZCAlKGpvaW5lZF9vbilzXCIpLFxuICAgIHtcbiAgICAgIGpvaW5lZF9vbjogam9pbmVkX29uLmZyb21Ob3coKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LWpvaW4tZGF0ZVwiPlxuICAgICAgPGFiYnIgdGl0bGU9e3RpdGxlfT57bWVzc2FnZX08L2FiYnI+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMoeyB1c2VyIH0pIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gZ2V0U3RhdENsYXNzTmFtZShcInVzZXItc3RhdC1wb3N0c1wiLCB1c2VyLnBvc3RzKVxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHBvc3RzKXMgcG9zdFwiLCBcIiUocG9zdHMpcyBwb3N0c1wiLCB1c2VyLnBvc3RzKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHBvc3RzOiB1c2VyLnBvc3RzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkcyh7IHVzZXIgfSkge1xuICBjb25zdCBjbGFzc05hbWUgPSBnZXRTdGF0Q2xhc3NOYW1lKFwidXNlci1zdGF0LXRocmVhZHNcIiwgdXNlci50aHJlYWRzKVxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHRocmVhZHMpcyB0aHJlYWRcIixcbiAgICBcIiUodGhyZWFkcylzIHRocmVhZHNcIixcbiAgICB1c2VyLnRocmVhZHNcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHRocmVhZHM6IHVzZXIudGhyZWFkc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZvbGxvd2Vycyh7IHVzZXIgfSkge1xuICBjb25zdCBjbGFzc05hbWUgPSBnZXRTdGF0Q2xhc3NOYW1lKFwidXNlci1zdGF0LWZvbGxvd2Vyc1wiLCB1c2VyLmZvbGxvd2VycylcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlclwiLFxuICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlcnNcIixcbiAgICB1c2VyLmZvbGxvd2Vyc1xuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgZm9sbG93ZXJzOiB1c2VyLmZvbGxvd2Vyc1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRDbGFzc05hbWUoY2xhc3NOYW1lLCBzdGF0KSB7XG4gIGlmIChzdGF0ID09PSAwKSB7XG4gICAgcmV0dXJuIGNsYXNzTmFtZSArIFwiIHVzZXItc3RhdC1lbXB0eVwiXG4gIH1cbiAgcmV0dXJuIGNsYXNzTmFtZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkXCJcbmltcG9ydCBQcmV2aWV3IGZyb20gXCIuL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNvbHMsIGlzUmVhZHksIHNob3dTdGF0dXMsIHVzZXJzIH0pIHtcbiAgbGV0IGNvbENsYXNzTmFtZSA9IFwiY29sLXhzLTEyIGNvbC1zbS00XCJcbiAgaWYgKGNvbHMgPT09IDQpIHtcbiAgICBjb2xDbGFzc05hbWUgKz0gXCIgY29sLW1kLTNcIlxuICB9XG5cbiAgaWYgKCFpc1JlYWR5KSB7XG4gICAgcmV0dXJuIDxQcmV2aWV3IGNvbENsYXNzTmFtZT17Y29sQ2xhc3NOYW1lfSBjb2xzPXtjb2xzfSAvPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHt1c2Vycy5tYXAodXNlciA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb2xDbGFzc05hbWV9IGtleT17dXNlci5pZH0+XG4gICAgICAgICAgICAgIDxDYXJkIHNob3dTdGF0dXM9e3Nob3dTdGF0dXN9IHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHVzZXItY2FyZCB1c2VyLWNhcmQtcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyB1c2VyLWNhcmQtbGVmdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zbWFsbC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgc2l6ZTJ4PVwiODBcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTkgY29sLXNtLTEyIHVzZXItY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiMTUwXCIgc2l6ZTJ4PVwiMjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXVzZXJuYW1lXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMTUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMTUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXQtZGl2aWRlclwiIC8+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNvbENsYXNzTmFtZSwgY29scyB9KSB7XG4gIGNvbnN0IGxpc3QgPSBBcnJheS5hcHBseShudWxsLCB7IGxlbmd0aDogY29scyB9KS5tYXAoTnVtYmVyLmNhbGwsIE51bWJlcilcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcnMtY2FyZHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7bGlzdC5tYXAoaSA9PiB7XG4gICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGNvbENsYXNzTmFtZVxuICAgICAgICAgIGlmIChpICE9PSAwKSBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzXCJcbiAgICAgICAgICBpZiAoaSA9PT0gMykgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0ga2V5PXtpfT5cbiAgICAgICAgICAgICAgPENhcmQgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiTm8gdXNlcnMgaGF2ZSBwb3N0ZWQgYW55IG5ldyBtZXNzYWdlcyBkdXJpbmcgbGFzdCAlKGRheXMpcyBkYXlzLlwiXG4gICAgICApLFxuICAgICAgeyBkYXlzOiB0aGlzLnByb3BzLnRyYWNrZWRQZXJpb2QgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj4mbmJzcDs8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1uYW1lXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jb21wYWN0LXN0YXRzIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy10b3RhbCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJUb3RhbCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtcmFuay1cIiArIHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3NcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtXCJcbiAgICB9XG4gIH1cblxuICBnZXRVc2VyU3RhdHVzKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVzZXIuc3RhdHVzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfT5cbiAgICAgICAgICA8U3RhdHVzSWNvbiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30gLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWxcbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L1N0YXR1cz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+Jm5ic3A7PC9zcGFuPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIiB9fVxuICAgICAgICA+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cblxuICBnZXRSYW5rTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucmFuay5pc190YWIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstbmFtZSBpdGVtLXRpdGxlXCI+e3RoaXMucHJvcHMucmFuay5uYW1lfTwvc3Bhbj5cbiAgICAgIClcbiAgICB9XG5cbiAgICBsZXQgcmFua1VybCA9IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIHRoaXMucHJvcHMucmFuay5zbHVnICsgXCIvXCJcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmsgdG89e3JhbmtVcmx9IGNsYXNzTmFtZT1cInJhbmstbmFtZSBpdGVtLXRpdGxlXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnJhbmsubmFtZX1cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIudGl0bGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnVzZXIudGl0bGV9XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT17NTB9IHNpemUyeD17NjR9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJTdGF0dXMoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRVc2VyVGl0bGUoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY29tcGFjdC1zdGF0cyB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+I3t0aGlzLnByb3BzLmNvdW50ZXJ9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+I3t0aGlzLnByb3BzLmNvdW50ZXJ9PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIubWV0YS5zY29yZX08L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5wb3N0c308L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJUb3RhbCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBJdGVtUHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXdcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWQgdWktcHJldmlld1wiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNTAsIDIyMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycyB1aS1wcmV2aWV3XCI+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAgICB7WzAsIDEsIDJdLm1hcChpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPEl0ZW1QcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0SXRlbSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMZWFkTWVzc2FnZSgpIHtcbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHBvc3RlcnMpcyB0b3AgcG9zdGVyIGZyb20gbGFzdCAlKGRheXMpcyBkYXlzLlwiLFxuICAgICAgXCIlKHBvc3RlcnMpcyB0b3AgcG9zdGVycyBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgIHRoaXMucHJvcHMuY291bnRcbiAgICApXG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICBwb3N0ZXJzOiB0aGlzLnByb3BzLmNvdW50LFxuICAgICAgICBkYXlzOiB0aGlzLnByb3BzLnRyYWNrZWRQZXJpb2RcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TGVhZE1lc3NhZ2UoKX08L3A+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzIHVpLXJlYWR5XCI+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2Vycy5tYXAoKHVzZXIsIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgIHJhbms9e3VzZXIucmFua31cbiAgICAgICAgICAgICAgICAgICAgY291bnRlcj17aSArIDF9XG4gICAgICAgICAgICAgICAgICAgIGtleT17dXNlci5pZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0RW1wdHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtZW1wdHlcIlxuaW1wb3J0IExpc3RQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXdcIlxuaW1wb3J0IExpc3RSZWFkeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiVVNFUlNcIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoXCJVU0VSU1wiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKClcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcImFjdGl2ZS1wb3N0ZXJzXCIsXG4gICAgICB1cmw6IG1pc2Fnby5nZXQoXCJVU0VSU19BUElcIiksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGxpc3Q6IFwiYWN0aXZlXCJcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5leHRyYS5uYW1lLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcChcImFjdGl2ZS1wb3N0ZXJzXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaXN0UmVhZHlcbiAgICAgICAgICAgIHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAgICAgdHJhY2tlZFBlcmlvZD17dGhpcy5zdGF0ZS50cmFja2VkUGVyaW9kfVxuICAgICAgICAgICAgY291bnQ9e3RoaXMuc3RhdGUuY291bnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgdHJhY2tlZFBlcmlvZD17dGhpcy5zdGF0ZS50cmFja2VkUGVyaW9kfSAvPlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBMaSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbGlcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBiYXNlVXJsLCBsaXN0cyB9KSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIj5cbiAgICAgIHtsaXN0cy5tYXAobGlzdCA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IGxpc3RVcmwoYmFzZVVybCwgbGlzdClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGkgcGF0aD17dXJsfSBrZXk9e3VybH0+XG4gICAgICAgICAgICA8TGluayB0bz17dXJsfT57bGlzdC5uYW1lfTwvTGluaz5cbiAgICAgICAgICA8L0xpPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG5cbmNvbnN0IGxpc3RVcmwgPSBmdW5jdGlvbihiYXNlVXJsLCBsaXN0KSB7XG4gIGxldCB1cmwgPSBiYXNlVXJsXG4gIGlmIChsaXN0LmNvbXBvbmVudCA9PT0gXCJyYW5rXCIpIHtcbiAgICB1cmwgKz0gbGlzdC5zbHVnXG4gIH0gZWxzZSB7XG4gICAgdXJsICs9IGxpc3QuY29tcG9uZW50XG4gIH1cbiAgcmV0dXJuIHVybCArIFwiL1wiXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFVzZXJzTGlzdCBjb2xzPXs0fSBpc1JlYWR5PXtmYWxzZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFnZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvcGFnZXJcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxVc2Vyc0xpc3RcbiAgICAgICAgY29scz17NH1cbiAgICAgICAgaXNSZWFkeT17dHJ1ZX1cbiAgICAgICAgc2hvd1N0YXR1cz17dHJ1ZX1cbiAgICAgICAgdXNlcnM9e3Byb3BzLnVzZXJzfVxuICAgICAgLz5cbiAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IHJlc2V0U2Nyb2xsIGZyb20gXCJtaXNhZ28vdXRpbHMvcmVzZXQtc2Nyb2xsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBhZ2VzID09PSAxKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXRvb2xiYXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIHRleHQtY2VudGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMubW9yZX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXZlcnRpY2FsLXNwYWNlclwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC01XCI+XG4gICAgICAgICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLW1kLTcgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5tb3JlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy1wYWdpbmF0b3JcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPEZpcnN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPFByZXZpb3VzUGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPE5leHRQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TGFzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMuZmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJldmlvdXNQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5wYWdlID4gMSkge1xuICAgIGxldCBwcmV2aW91c1VybCA9IFwiXCJcbiAgICBpZiAocHJvcHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucHJldmlvdXMgKyBcIi9cIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgcHJldmlvdXNVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMubmV4dCArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLmxhc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHByb3BzLmxhc3QgKyBcIi9cIn1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3JlKHByb3BzKSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMubW9yZSkge1xuICAgIG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhlcmUgaXMgJShtb3JlKXMgbW9yZSBtZW1iZXIgd2l0aCB0aGlzIHJvbGUuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIG1lbWJlcnMgd2l0aCB0aGlzIHJvbGUuXCIsXG4gICAgICBwcm9wcy5tb3JlXG4gICAgKVxuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IG1vcmU6IHByb3BzLm1vcmUgfSwgdHJ1ZSlcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIG1lbWJlcnMgd2l0aCB0aGlzIHJvbGUuXCIpXG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFnZUxlYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZFwiXG5pbXBvcnQgTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0XCJcbmltcG9ydCBMaXN0TG9hZGluZyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LWxvYWRpbmdcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlVTRVJTXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKFwiVVNFUlNcIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhwcm9wcy5wYXJhbXMucGFnZSB8fCAxKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbihkYXRhLCB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgIH0pXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdGFydFBvbGxpbmcocGFnZSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwicmFuay11c2Vyc1wiLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KFwiVVNFUlNfQVBJXCIpLFxuICAgICAgZGF0YToge1xuICAgICAgICByYW5rOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsuaWQsXG4gICAgICAgIHBhZ2U6IHBhZ2VcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuXG4gICAgZGF0YS5pc0xvYWRlZCA9IHRydWVcbiAgICB0aGlzLnNldFN0YXRlKGRhdGEpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcChcInJhbmstdXNlcnNcIilcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgIT09IG5leHRQcm9wcy5wYXJhbXMucGFnZSkge1xuICAgICAgdGl0bGUuc2V0KHtcbiAgICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUucmFuay5uYW1lLFxuICAgICAgICBwYWdlOiBuZXh0UHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIHBvbGxzLnN0b3AoXCJyYW5rLXVzZXJzXCIpXG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZyhuZXh0UHJvcHMucGFyYW1zLnBhZ2UpXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gXCJyYW5rLXVzZXJzLWxpc3QgcmFuay11c2Vycy1cIiArIHRoaXMucHJvcHMucm91dGUucmFuay5jc3NfY2xhc3NcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwicmFuay11c2Vycy1saXN0XCJcbiAgICB9XG4gIH1cblxuICBnZXRSYW5rRGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRDb21wb25lbnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID4gMCkge1xuICAgICAgICBsZXQgYmFzZVVybCA9XG4gICAgICAgICAgbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLnNsdWcgKyBcIi9cIlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaXN0IGJhc2VVcmw9e2Jhc2VVcmx9IHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfSB7Li4udGhpcy5zdGF0ZX0gLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlRoZXJlIGFyZSBubyB1c2VycyB3aXRoIHRoaXMgcmFuayBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMaXN0TG9hZGluZyAvPlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIHt0aGlzLmdldFJhbmtEZXNjcmlwdGlvbigpfVxuICAgICAgICAgIHt0aGlzLmdldENvbXBvbmVudCgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlXCJcbmltcG9ydCBOYXYgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL25hdlwiXG5pbXBvcnQgQWN0aXZlUG9zdGVycyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdFwiXG5pbXBvcnQgUmFuayBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9yb290XCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXJzLWxpc3RzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8aDE+e2dldHRleHQoXCJVc2Vyc1wiKX08L2gxPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFic1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxOYXZcbiAgICAgICAgICAgICAgICAgIGxpc3RzPXttaXNhZ28uZ2V0KFwiVVNFUlNfTElTVFNcIil9XG4gICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIil9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgdXNlcnM6IHN0b3JlLnVzZXJzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXVxuXG4gIG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUU1wiKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5jb21wb25lbnQgPT09IFwicmFua1wiKSB7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgaXRlbS5zbHVnICsgXCIvOnBhZ2UvXCIsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJhbmspLFxuICAgICAgICByYW5rOiBpdGVtXG4gICAgICB9KVxuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIGl0ZW0uc2x1ZyArIFwiL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKGl0ZW0uY29tcG9uZW50ID09PSBcImFjdGl2ZS1wb3N0ZXJzXCIpIHtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyBpdGVtLmNvbXBvbmVudCArIFwiL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShBY3RpdmVQb3N0ZXJzKSxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHBhdGhzXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZU5hdiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3Bkb3duOiAhdGhpcy5zdGF0ZS5kcm9wZG93blxuICAgIH0pXG4gIH1cblxuICBoaWRlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGdldENvbXBhY3ROYXZDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiBcImNvbXBhY3QtbmF2IG9wZW5cIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJjb21wYWN0LW5hdlwiXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb25cIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLXllcy1ubyBidG4teWVzLW5vLW9mZlwiXG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAoISF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT24gfHwgXCJjaGVja19ib3hcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT2ZmIHx8IFwiY2hlY2tfYm94X291dGxpbmVfYmxhbmtcIlxuICAgIH1cbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmxhYmVsT24gfHwgZ2V0dGV4dChcInllc1wiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9mZiB8fCBnZXR0ZXh0KFwibm9cIilcbiAgICB9XG4gIH1cblxuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgdmFsdWU6ICF0aGlzLnByb3BzLnZhbHVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGV9XG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy5wcm9wc1tcImFyaWEtZGVzY3JpYmVkYnlcIl0gfHwgbnVsbH1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPnt0aGlzLmdldExhYmVsKCl9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGxvYWQgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlsc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZGF0YSwgZGlzcGF0Y2gsIHVzZXIgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmlkID09PSB1c2VyLmlkKSByZXR1cm5cblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkuZGV0YWlscykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBkaXNwYXRjaChsb2FkKGRhdGEpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufVxuIiwiaW1wb3J0IE9yZGVyZWRMaXN0IGZyb20gXCJtaXNhZ28vdXRpbHMvb3JkZXJlZC1saXN0XCJcblxuZXhwb3J0IGNsYXNzIE1pc2FnbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFtdXG4gICAgdGhpcy5fY29udGV4dCA9IHt9XG4gIH1cblxuICBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgIHRoaXMuX2luaXRpYWxpemVycy5wdXNoKHtcbiAgICAgIGtleTogaW5pdGlhbGl6ZXIubmFtZSxcblxuICAgICAgaXRlbTogaW5pdGlhbGl6ZXIuaW5pdGlhbGl6ZXIsXG5cbiAgICAgIGFmdGVyOiBpbml0aWFsaXplci5hZnRlcixcbiAgICAgIGJlZm9yZTogaW5pdGlhbGl6ZXIuYmVmb3JlXG4gICAgfSlcbiAgfVxuXG4gIGluaXQoY29udGV4dCkge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0XG5cbiAgICB2YXIgaW5pdE9yZGVyID0gbmV3IE9yZGVyZWRMaXN0KHRoaXMuX2luaXRpYWxpemVycykub3JkZXJlZFZhbHVlcygpXG4gICAgaW5pdE9yZGVyLmZvckVhY2goaW5pdGlhbGl6ZXIgPT4ge1xuICAgICAgaW5pdGlhbGl6ZXIodGhpcylcbiAgICB9KVxuICB9XG5cbiAgLy8gY29udGV4dCBhY2Nlc3NvcnNcbiAgaGFzKGtleSkge1xuICAgIHJldHVybiAhIXRoaXMuX2NvbnRleHRba2V5XVxuICB9XG5cbiAgZ2V0KGtleSwgZmFsbGJhY2spIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRba2V5XVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2sgfHwgdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgcG9wKGtleSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBsZXQgdmFsdWUgPSB0aGlzLl9jb250ZXh0W2tleV1cbiAgICAgIHRoaXMuX2NvbnRleHRba2V5XSA9IG51bGxcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSAgc2luZ2xldG9uXG52YXIgbWlzYWdvID0gbmV3IE1pc2FnbygpXG5cbi8vIGV4cG9zZSBpdCBnbG9iYWxseVxuZ2xvYmFsLm1pc2FnbyA9IG1pc2Fnb1xuXG4vLyBhbmQgZXhwb3J0IGl0IGZvciB0ZXN0cyBhbmQgc3R1ZmZcbmV4cG9ydCBkZWZhdWx0IG1pc2Fnb1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhamF4LmluaXQobWlzYWdvLmdldChcIkNTUkZfQ09PS0lFX05BTUVcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiYWpheFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL2F1dGhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3QgQVVUSF9TWU5DX1JBVEUgPSA0NSAvLyBzeW5jIHVzZXIgd2l0aCBiYWNrZW5kIGV2ZXJ5IDQ1IHNlY29uZHNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoXCJpc0F1dGhlbnRpY2F0ZWRcIikpIHtcbiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBhamF4LmdldChjb250ZXh0LmdldChcIkFVVEhfQVBJXCIpKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goZGF0YSkpXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sIEFVVEhfU1lOQ19SQVRFICogMTAwMClcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImF1dGgtc3luY1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcImF1dGhcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYXV0aCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2F1dGhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGF1dGguaW5pdChzdG9yZSwgc3RvcmFnZSwgbW9kYWwpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiYXV0aFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBjYXB0Y2hhIGZyb20gXCJtaXNhZ28vc2VydmljZXMvY2FwdGNoYVwiXG5pbXBvcnQgaW5jbHVkZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2luY2x1ZGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGNhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjYXB0Y2hhXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBBY2NlcHRBZ3JlZW1lbnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnRcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXF1aXJlZC1hZ3JlZW1lbnQtbW91bnRcIikpIHtcbiAgICBtb3VudChcbiAgICAgIDxBY2NlcHRBZ3JlZW1lbnQgYXBpPXtjb250ZXh0LmdldChcIlJFUVVJUkVEX0FHUkVFTUVOVF9BUElcIil9IC8+LFxuICAgICAgXCJyZXF1aXJlZC1hZ3JlZW1lbnQtbW91bnRcIixcbiAgICAgIGZhbHNlXG4gICAgKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OmFjY2VwdC1hZ3JlZW1lbnRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEF1dGhNZXNzYWdlLCB7IHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdXRoLW1lc3NhZ2VcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShBdXRoTWVzc2FnZSksIFwiYXV0aC1tZXNzYWdlLW1vdW50XCIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OmF1dGgtbWVzc2FnZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIkJBTl9NRVNTQUdFXCIpKSB7XG4gICAgc2hvd0Jhbm5lZFBhZ2UoY29udGV4dC5nZXQoXCJCQU5fTUVTU0FHRVwiKSwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6YmFubWVkLXBhZ2VcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgQ2F0ZWdvcmllcywgeyBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllc1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhdGVnb3JpZXMtbW91bnRcIikpIHtcbiAgICBtb3VudChjb25uZWN0KHNlbGVjdCkoQ2F0ZWdvcmllcyksIFwiY2F0ZWdvcmllcy1tb3VudFwiKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OmNhdGVnb3JpZXNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IE9wdGlvbnMsIHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJVU0VSX09QVElPTlNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSxcbiAgICAgIGNvbXBvbmVudDogT3B0aW9ucyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpvcHRpb25zXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IFByb2ZpbGUsIHsgcGF0aHMsIHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlBST0ZJTEVcIikgJiYgY29udGV4dC5oYXMoXCJQUk9GSUxFX1BBR0VTXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldChcIlBST0ZJTEVcIikudXJsLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUHJvZmlsZSksXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cHJvZmlsZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInJlZHVjZXI6cHJvZmlsZS1oeWRyYXRlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IFJlcXVlc3RBY3RpdmF0aW9uTGluayBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmtcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcXVlc3QtYWN0aXZhdGlvbi1saW5rLW1vdW50XCIpKSB7XG4gICAgbW91bnQoUmVxdWVzdEFjdGl2YXRpb25MaW5rLCBcInJlcXVlc3QtYWN0aXZhdGlvbi1saW5rLW1vdW50XCIsIGZhbHNlKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnJlcXVlc3QtYWN0aXZhdGlvbi1saW5rXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgUmVxdWVzdFBhc3N3b3JkUmVzZXQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnRcIikpIHtcbiAgICBtb3VudChSZXF1ZXN0UGFzc3dvcmRSZXNldCwgXCJyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LW1vdW50XCIsIGZhbHNlKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnJlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBSZXNldFBhc3N3b3JkRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybVwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudFwiKSkge1xuICAgIG1vdW50KFJlc2V0UGFzc3dvcmRGb3JtLCBcInJlc2V0LXBhc3N3b3JkLWZvcm0tbW91bnRcIiwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cmVzZXQtcGFzc3dvcmQtZm9ybVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgcGF0aHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlYXJjaFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KFwiQ1VSUkVOVF9MSU5LXCIpID09PSBcIm1pc2FnbzpzZWFyY2hcIikge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocyhtaXNhZ28uZ2V0KFwiU0VBUkNIX1BST1ZJREVSU1wiKSlcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnNlYXJjaFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBTbmFja2Jhciwgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NuYWNrYmFyXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoU25hY2tiYXIpLCBcInNuYWNrYmFyLW1vdW50XCIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnNuYWNrYmFyXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic25hY2tiYXJcIlxufSlcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFNvY2lhbEF1dGggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NvY2lhbC1hdXRoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldChcIkNVUlJFTlRfTElOS1wiKSA9PT0gXCJtaXNhZ286c29jaWFsLWNvbXBsZXRlXCIpIHtcbiAgICBjb25zdCBwcm9wcyA9IGNvbnRleHQuZ2V0KFwiU09DSUFMX0FVVEhfRk9STVwiKVxuICAgIG1vdW50KDxTb2NpYWxBdXRoIHsuLi5wcm9wc30gLz4sIFwicGFnZS1tb3VudFwiKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnNvY2lhbC1hdXRoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZC9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJUSFJFQURcIikgJiYgY29udGV4dC5oYXMoXCJQT1NUU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDp0aHJlYWRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuY29uc3QgUFJJVkFURV9USFJFQURTX0xJU1QgPSBcIm1pc2Fnbzpwcml2YXRlLXRocmVhZHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlRIUkVBRFNcIikgJiYgY29udGV4dC5oYXMoXCJDQVRFR09SSUVTXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKGNvbnRleHQuZ2V0KFwidXNlclwiKSwgZ2V0TGlzdE9wdGlvbnMoY29udGV4dCkpXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdE9wdGlvbnMoY29udGV4dCkge1xuICBjb25zdCBjdXJyZW50TGluayA9IGNvbnRleHQuZ2V0KFwiQ1VSUkVOVF9MSU5LXCIpXG4gIGlmIChcbiAgICBjdXJyZW50TGluay5zdWJzdHIoMCwgUFJJVkFURV9USFJFQURTX0xJU1QubGVuZ3RoKSA9PT0gUFJJVkFURV9USFJFQURTX0xJU1RcbiAgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFwaTogY29udGV4dC5nZXQoXCJQUklWQVRFX1RIUkVBRFNfQVBJXCIpLFxuICAgICAgc3RhcnRUaHJlYWQ6IHtcbiAgICAgICAgbW9kZTogXCJTVEFSVF9QUklWQVRFXCIsXG4gICAgICAgIHN1Ym1pdDogbWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19BUElcIilcbiAgICAgIH0sXG4gICAgICB0aXRsZTogZ2V0dGV4dChcIlByaXZhdGUgdGhyZWFkc1wiKSxcbiAgICAgIHBhZ2VMZWFkOiBnZXR0ZXh0KFxuICAgICAgICBcIlByaXZhdGUgdGhyZWFkcyBhcmUgdGhyZWFkcyB3aGljaCBvbmx5IHRob3NlIHRoYXQgc3RhcnRlZCB0aGVtIGFuZCB0aG9zZSB0aGV5IGhhdmUgaW52aXRlZCBtYXkgc2VlIGFuZCBwYXJ0aWNpcGF0ZSBpbi5cIlxuICAgICAgKSxcbiAgICAgIGVtcHR5TWVzc2FnZTogZ2V0dGV4dChcIllvdSBhcmVuJ3QgcGFydGljaXBhdGluZyBpbiBhbnkgcHJpdmF0ZSB0aHJlYWRzLlwiKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYXBpOiBjb250ZXh0LmdldChcIlRIUkVBRFNfQVBJXCIpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6dGhyZWFkc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQge1xuICBVc2VyTWVudSxcbiAgQ29tcGFjdFVzZXJNZW51LFxuICBzZWxlY3Rcbn0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItbWVudS9yb290XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoVXNlck1lbnUpLCBcInVzZXItbWVudS1tb3VudFwiKVxuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQ29tcGFjdFVzZXJNZW51KSwgXCJ1c2VyLW1lbnUtY29tcGFjdC1tb3VudFwiKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDp1c2VyLW1lbnVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IFVzZXJzLCB7IHBhdGhzIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlVTRVJTX0xJU1RTXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpLFxuICAgICAgY29tcG9uZW50OiBVc2VycyxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDp1c2Vyc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGluY2x1ZGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9pbmNsdWRlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpbmNsdWRlLmluaXQoY29udGV4dC5nZXQoXCJTVEFUSUNfVVJMXCIpKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImluY2x1ZGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yYWdlLmluaXQoXCJtaXNhZ29fXCIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwibG9jYWwtc3RvcmFnZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGRyb3Bkb3duIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9iaWxlLW5hdmJhci1kcm9wZG93bi1tb3VudFwiKVxuICBpZiAoZWxlbWVudCkge1xuICAgIGRyb3Bkb3duLmluaXQoZWxlbWVudClcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImRyb3Bkb3duXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLW1vdW50XCIpXG4gIGlmIChlbGVtZW50KSB7XG4gICAgbW9kYWwuaW5pdChlbGVtZW50KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwibW9kYWxcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW9tZW50LmxvY2FsZSgkKFwiaHRtbFwiKS5hdHRyKFwibGFuZ1wiKSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJtb21lbnRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIHRpdGxlLmluaXQoXG4gICAgY29udGV4dC5nZXQoXCJTRVRUSU5HU1wiKS5mb3J1bV9pbmRleF90aXRsZSxcbiAgICBjb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX25hbWVcbiAgKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInBhZ2UtdGl0bGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb2xscy5pbml0KGFqYXgsIHNuYWNrYmFyKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInBvbGxzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvc3RpbmcuaW5pdChhamF4LCBzbmFja2JhciwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0aW5nLXBsYWNlaG9sZGVyXCIpKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInBvc3RpbmdcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcbiAgICBcImF1dGhcIixcbiAgICByZWR1Y2VyLFxuICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogY29udGV4dC5nZXQoXCJpc0F1dGhlbnRpY2F0ZWRcIiksXG4gICAgICAgIGlzQW5vbnltb3VzOiAhY29udGV4dC5nZXQoXCJpc0F1dGhlbnRpY2F0ZWRcIiksXG5cbiAgICAgICAgdXNlcjogY29udGV4dC5nZXQoXCJ1c2VyXCIpXG4gICAgICB9LFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKVxuICApXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjphdXRoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURcIikpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpLnBhcnRpY2lwYW50c1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInBhcnRpY2lwYW50c1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUgfHwgW10pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwYXJ0aWNpcGFudHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEXCIpICYmIG1pc2Fnby5nZXQoXCJUSFJFQURcIikucG9sbCkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldChcIlRIUkVBRFwiKS5wb2xsKVxuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwicG9sbFwiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwb2xsXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJQT1NUU1wiKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldChcIlBPU1RTXCIpKVxuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwicG9zdHNcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cG9zdHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlsc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlBST0ZJTEVfREVUQUlMU1wiKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IG1pc2Fnby5nZXQoXCJQUk9GSUxFX0RFVEFJTFNcIilcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwcm9maWxlLWRldGFpbHNcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlIHx8IHt9KVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cHJvZmlsZS1kZXRhaWxzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZVwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAobWlzYWdvLmhhcyhcIlBST0ZJTEVcIikpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5nZXQoXCJQUk9GSUxFXCIpKSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cHJvZmlsZS1oeWRyYXRlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGVcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInByb2ZpbGVcIiwgcmVkdWNlciwge30pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwcm9maWxlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWFyY2hcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcbiAgICBcInNlYXJjaFwiLFxuICAgIHJlZHVjZXIsXG4gICAgT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLCB7XG4gICAgICBwcm92aWRlcnM6IG1pc2Fnby5nZXQoXCJTRUFSQ0hfUFJPVklERVJTXCIpIHx8IFtdLFxuICAgICAgcXVlcnk6IG1pc2Fnby5nZXQoXCJTRUFSQ0hfUVVFUllcIikgfHwgXCJcIlxuICAgIH0pXG4gIClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnNlYXJjaFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJzZWxlY3Rpb25cIiwgcmVkdWNlciwgW10pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpzZWxlY3Rpb25cIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJzbmFja2JhclwiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpzbmFja2JhclwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFwiKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldChcIlRIUkVBRFwiKSlcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInRocmVhZFwiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjp0aHJlYWRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInRocmVhZHNcIiwgcmVkdWNlciwgW10pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjp0aHJlYWRzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aWNrXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ0aWNrXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnRpY2tcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInVzZXJuYW1lLWhpc3RvcnlcIiwgcmVkdWNlciwgW10pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjp1c2VybmFtZS1oaXN0b3J5XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidXNlcnNcIiwgcmVkdWNlciwgW10pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjp1c2Vyc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHNuYWNrYmFyLmluaXQoc3RvcmUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwic25hY2tiYXJcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmluaXQoKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInN0b3JlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcIl9lbmRcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBkb1RpY2sgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RpY2tcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5jb25zdCBUSUNLX1BFUklPRCA9IDUwICogMTAwMCAvL2RvIHRoZSB0aWNrIGV2ZXJ5IDUwc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKGRvVGljaygpKVxuICB9LCBUSUNLX1BFUklPRClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJ0aWNrLXN0YXJ0XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgaW5jbHVkZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2luY2x1ZGVcIlxuaW1wb3J0IHp4Y3ZibiBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3p4Y3ZiblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB6eGN2Ym4uaW5pdChpbmNsdWRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInp4Y3ZiblwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcblxuZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHNpZ25lZEluOiBmYWxzZSxcbiAgc2lnbmVkT3V0OiBmYWxzZVxufVxuXG5leHBvcnQgY29uc3QgUEFUQ0hfVVNFUiA9IFwiUEFUQ0hfVVNFUlwiXG5leHBvcnQgY29uc3QgU0lHTl9JTiA9IFwiU0lHTl9JTlwiXG5leHBvcnQgY29uc3QgU0lHTl9PVVQgPSBcIlNJR05fT1VUXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfVVNFUixcbiAgICBwYXRjaFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW4odXNlcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNJR05fSU4sXG4gICAgdXNlclxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KHNvZnQgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNJR05fT1VULFxuICAgIHNvZnRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRoKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBBVENIX1VTRVI6XG4gICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSlcbiAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCBhY3Rpb24ucGF0Y2gpXG4gICAgICByZXR1cm4gbmV3U3RhdGVcblxuICAgIGNhc2UgU0lHTl9JTjpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBzaWduZWRJbjogYWN0aW9uLnVzZXJcbiAgICAgIH0pXG5cbiAgICBjYXNlIFNJR05fT1VUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGlzQW5vbnltb3VzOiB0cnVlLFxuICAgICAgICBzaWduZWRPdXQ6ICFhY3Rpb24uc29mdFxuICAgICAgfSlcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSlcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpXG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgUkVQTEFDRV9QQVJUSUNJUEFOVFMgPSBcIlJFUExBQ0VfUEFSVElDSVBBTlRTXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1BBUlRJQ0lQQU5UUyxcbiAgICBzdGF0ZTogbmV3U3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJ0aWNpcGFudHMoc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBSRVBMQUNFX1BBUlRJQ0lQQU5UUzpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcblxuZXhwb3J0IGNvbnN0IEJVU1lfUE9MTCA9IFwiQlVTWV9QT0xMXCJcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1BPTEwgPSBcIlJFTEVBU0VfUE9MTFwiXG5leHBvcnQgY29uc3QgUkVNT1ZFX1BPTEwgPSBcIlJFTU9WRV9QT0xMXCJcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1BPTEwgPSBcIlJFUExBQ0VfUE9MTFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1BPTEwgPSBcIlVQREFURV9QT0xMXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICBsZXQgaGFzU2VsZWN0ZWRDaG9pY2VzID0gZmFsc2VcbiAgZm9yIChjb25zdCBpIGluIGpzb24uY2hvaWNlcykge1xuICAgIGNvbnN0IGNob2ljZSA9IGpzb24uY2hvaWNlc1tpXVxuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyA9IHRydWVcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBwb3N0ZWRfb246IG1vbWVudChqc29uLnBvc3RlZF9vbiksXG5cbiAgICBoYXNTZWxlY3RlZENob2ljZXMsXG4gICAgZW5kc09uOiBqc29uLmxlbmd0aFxuICAgICAgPyBtb21lbnQoanNvbi5wb3N0ZWRfb24pLmFkZChqc29uLmxlbmd0aCwgXCJkYXlzXCIpXG4gICAgICA6IG51bGwsXG5cbiAgICBpc0J1c3k6IGZhbHNlXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfUE9MTFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfUE9MTFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9QT0xMLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9MTCxcbiAgICBkYXRhXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRU1PVkVfUE9MTFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbGwoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaXNCdXN5OiB0cnVlIH0pXG5cbiAgICBjYXNlIFJFTEVBU0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IGZhbHNlIH0pXG5cbiAgICBjYXNlIFJFTU9WRV9QT0xMOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfVxuXG4gICAgY2FzZSBSRVBMQUNFX1BPTEw6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCB7IGh5ZHJhdGVVc2VyIH0gZnJvbSBcIi4vdXNlcnNcIlxuXG5leHBvcnQgY29uc3QgUEFUQ0hfUE9TVCA9IFwiUEFUQ0hfUE9TVFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBwb3N0ZWRfb246IG1vbWVudChqc29uLnBvc3RlZF9vbiksXG4gICAgdXBkYXRlZF9vbjogbW9tZW50KGpzb24udXBkYXRlZF9vbiksXG4gICAgaGlkZGVuX29uOiBtb21lbnQoanNvbi5oaWRkZW5fb24pLFxuXG4gICAgYXR0YWNobWVudHM6IGpzb24uYXR0YWNobWVudHNcbiAgICAgID8ganNvbi5hdHRhY2htZW50cy5tYXAoaHlkcmF0ZUF0dGFjaG1lbnQpXG4gICAgICA6IG51bGwsXG4gICAgcG9zdGVyOiBqc29uLnBvc3RlciA/IGh5ZHJhdGVVc2VyKGpzb24ucG9zdGVyKSA6IG51bGwsXG5cbiAgICBpc1NlbGVjdGVkOiBmYWxzZSxcbiAgICBpc0J1c3k6IGZhbHNlLFxuICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVBdHRhY2htZW50KGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICB1cGxvYWRlZF9vbjogbW9tZW50KGpzb24udXBsb2FkZWRfb24pXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwb3N0LCBwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BPU1QsXG4gICAgcG9zdCxcbiAgICBwYXRjaFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3Qoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9QT1NUOlxuICAgICAgaWYgKHN0YXRlLmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBwb3N0UmVkdWNlciwge1xuICBQQVRDSF9QT1NULFxuICBoeWRyYXRlIGFzIGh5ZHJhdGVQb3N0XG59IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfUE9TVFMgPSBcIkFQUEVORF9QT1NUU1wiXG5leHBvcnQgY29uc3QgU0VMRUNUX1BPU1QgPSBcIlNFTEVDVF9QT1NUXCJcbmV4cG9ydCBjb25zdCBERVNFTEVDVF9QT1NUID0gXCJERVNFTEVDVF9QT1NUXCJcbmV4cG9ydCBjb25zdCBERVNFTEVDVF9QT1NUUyA9IFwiREVTRUxFQ1RfUE9TVFNcIlxuZXhwb3J0IGNvbnN0IExPQURfUE9TVFMgPSBcIkxPQURfUE9TVFNcIlxuZXhwb3J0IGNvbnN0IFVOTE9BRF9QT1NUUyA9IFwiVU5MT0FEX1BPU1RTXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9TVFMgPSBcIlVQREFURV9QT1NUU1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QocG9zdCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZWxlY3QocG9zdCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1QsXG4gICAgcG9zdFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdEFsbCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NUU1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICByZXN1bHRzOiBqc29uLnJlc3VsdHMubWFwKGh5ZHJhdGVQb3N0KSxcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICBpc0J1c3k6IGZhbHNlLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTE9BRF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChuZXdTdGF0ZSwgaHlkcmF0ZWQgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVTkxPQURfUE9TVFNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1BPU1RTLFxuICAgIHVwZGF0ZTogbmV3U3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0cyhzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFTEVDVF9QT1NUOlxuICAgICAgY29uc3Qgc2VsZWN0ZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICBpZiAocG9zdC5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgICBpc1NlbGVjdGVkOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogc2VsZWN0ZWRQb3N0c1xuICAgICAgfSlcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVDpcbiAgICAgIGNvbnN0IGRlc2VsZXRlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogZGVzZWxldGVkUG9zdHNcbiAgICAgIH0pXG5cbiAgICBjYXNlIERFU0VMRUNUX1BPU1RTOlxuICAgICAgY29uc3QgZGVzZWxldGVkQWxsUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZEFsbFBvc3RzXG4gICAgICB9KVxuXG4gICAgY2FzZSBBUFBFTkRfUE9TVFM6XG4gICAgICBsZXQgcmVzdWx0cyA9IHN0YXRlLnJlc3VsdHMuc2xpY2UoKVxuICAgICAgY29uc3QgcmVzdWx0c0lkcyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdC5pZFxuICAgICAgfSlcblxuICAgICAgYWN0aW9uLnN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICBpZiAocmVzdWx0c0lkcy5pbmRleE9mKHBvc3QuaWQpID09PSAtMSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChwb3N0KVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLnN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHNcbiAgICAgIH0pXG5cbiAgICBjYXNlIExPQURfUE9TVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBjYXNlIFVOTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICAgIH0pXG5cbiAgICBjYXNlIFVQREFURV9QT1NUUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnVwZGF0ZSlcblxuICAgIGNhc2UgUEFUQ0hfUE9TVDpcbiAgICAgIGNvbnN0IHJlZHVjZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdFJlZHVjZXIocG9zdCwgYWN0aW9uKVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IHJlZHVjZWRQb3N0c1xuICAgICAgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IExPQURfREVUQUlMUyA9IFwiTE9BRF9ERVRBSUxTXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0FEX0RFVEFJTFMsXG5cbiAgICBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRldGFpbHMoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBMT0FEX0RFVEFJTFM6XG4gICAgICByZXR1cm4gYWN0aW9uLm5ld1N0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQge1xuICBVUERBVEVfQVZBVEFSLFxuICBVUERBVEVfVVNFUk5BTUUsXG4gIGh5ZHJhdGVTdGF0dXNcbn0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5cbmV4cG9ydCBjb25zdCBIWURSQVRFX1BST0ZJTEUgPSBcIkhZRFJBVEVfUFJPRklMRVwiXG5leHBvcnQgY29uc3QgUEFUQ0hfUFJPRklMRSA9IFwiUEFUQ0hfUFJPRklMRVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKHByb2ZpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1BST0ZJTEUsXG4gICAgcHJvZmlsZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BST0ZJTEUsXG4gICAgcGF0Y2hcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRoKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgSFlEUkFURV9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5wcm9maWxlLCB7XG4gICAgICAgIGpvaW5lZF9vbjogbW9tZW50KGFjdGlvbi5wcm9maWxlLmpvaW5lZF9vbiksXG4gICAgICAgIHN0YXR1czogaHlkcmF0ZVN0YXR1cyhhY3Rpb24ucHJvZmlsZS5zdGF0dXMpXG4gICAgICB9KVxuXG4gICAgY2FzZSBQQVRDSF9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpXG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICBpZiAoc3RhdGUuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1NFQVJDSCA9IFwiUkVQTEFDRV9TRUFSQ0hcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9TRUFSQ0ggPSBcIlVQREFURV9TRUFSQ0hcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9TRUFSQ0hfUFJPVklERVIgPSBcIlVQREFURV9TRUFSQ0hfUFJPVklERVJcIlxuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBxdWVyeTogXCJcIixcbiAgcHJvdmlkZXJzOiBbXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfU0VBUkNILFxuICAgIHN0YXRlOiB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcHJvdmlkZXJzOiBuZXdTdGF0ZVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1NFQVJDSCxcbiAgICB1cGRhdGU6IG5ld1N0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1NFQVJDSF9QUk9WSURFUixcbiAgICBwcm92aWRlcjogcHJvdmlkZXJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJ0aWNpcGFudHMoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBSRVBMQUNFX1NFQVJDSDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnVwZGF0ZSlcblxuICAgIGNhc2UgVVBEQVRFX1NFQVJDSF9QUk9WSURFUjpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBwcm92aWRlcnM6IHN0YXRlLnByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4ge1xuICAgICAgICAgIGlmIChwcm92aWRlci5pZCA9PT0gYWN0aW9uLnByb3ZpZGVyLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLnByb3ZpZGVyXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlclxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCB7IHRvZ2dsZSB9IGZyb20gXCJtaXNhZ28vdXRpbHMvc2V0c1wiXG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RfQUxMID0gXCJTRUxFQ1RfQUxMXCJcbmV4cG9ydCBjb25zdCBTRUxFQ1RfTk9ORSA9IFwiU0VMRUNUX05PTkVcIlxuZXhwb3J0IGNvbnN0IFNFTEVDVF9JVEVNID0gXCJTRUxFQ1RfSVRFTVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhbGwoaXRlbXNJZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfQUxMLFxuICAgIGl0ZW1zOiBpdGVtc0lkc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub25lKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9OT05FXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZW0oaXRlbUlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0lURU0sXG4gICAgaXRlbTogaXRlbUlkXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VsZWN0aW9uKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX0FMTDpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXNcblxuICAgIGNhc2UgU0VMRUNUX05PTkU6XG4gICAgICByZXR1cm4gW11cblxuICAgIGNhc2UgU0VMRUNUX0lURU06XG4gICAgICByZXR1cm4gdG9nZ2xlKHN0YXRlLCBhY3Rpb24uaXRlbSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHR5cGU6IFwiaW5mb1wiLFxuICBtZXNzYWdlOiBcIlwiLFxuICBpc1Zpc2libGU6IGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBTSE9XX1NOQUNLQkFSID0gXCJTSE9XX1NOQUNLQkFSXCJcbmV4cG9ydCBjb25zdCBISURFX1NOQUNLQkFSID0gXCJISURFX1NOQUNLQkFSXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0hPV19TTkFDS0JBUixcbiAgICBtZXNzYWdlLFxuICAgIG1lc3NhZ2VUeXBlOiB0eXBlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVTbmFja2JhcigpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBISURFX1NOQUNLQkFSXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc25hY2tiYXIoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IG51bGwpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTSE9XX1NOQUNLQkFSKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFjdGlvbi5tZXNzYWdlVHlwZSxcbiAgICAgIG1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlLFxuICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgfVxuICB9IGVsc2UgaWYgKGFjdGlvbi50eXBlID09PSBISURFX1NOQUNLQkFSKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCB7IFJFTU9WRV9QT0xMLCBSRVBMQUNFX1BPTEwgfSBmcm9tIFwiLi9wb2xsXCJcblxuZXhwb3J0IGNvbnN0IEJVU1lfVEhSRUFEID0gXCJCVVNZX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgUkVMRUFTRV9USFJFQUQgPSBcIlJFTEVBU0VfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1RIUkVBRCA9IFwiUkVQTEFDRV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9USFJFQUQgPSBcIlVQREFURV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9USFJFQURfQUNMID0gXCJVUERBVEVfVEhSRUFEX0FDTFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQoanNvbi5zdGFydGVkX29uKSxcbiAgICBsYXN0X3Bvc3Rfb246IG1vbWVudChqc29uLmxhc3RfcG9zdF9vbiksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBqc29uLmJlc3RfYW5zd2VyX21hcmtlZF9vblxuICAgICAgPyBtb21lbnQoanNvbi5iZXN0X2Fuc3dlcl9tYXJrZWRfb24pXG4gICAgICA6IG51bGwsXG5cbiAgICBpc0J1c3k6IGZhbHNlXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfVEhSRUFEXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9USFJFQURcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSwgaHlkcmF0ZWQgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfVEhSRUFELFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVEhSRUFELFxuICAgIGRhdGFcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQWNsKGRhdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVEhSRUFEX0FDTCxcbiAgICBkYXRhXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQlVTWV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaXNCdXN5OiB0cnVlIH0pXG5cbiAgICBjYXNlIFJFTEVBU0VfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGlzQnVzeTogZmFsc2UgfSlcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgcG9sbDogbnVsbCB9KVxuXG4gICAgY2FzZSBSRVBMQUNFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgcG9sbDogYWN0aW9uLnN0YXRlIH0pXG5cbiAgICBjYXNlIFJFUExBQ0VfVEhSRUFEOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSlcblxuICAgIGNhc2UgVVBEQVRFX1RIUkVBRF9BQ0w6XG4gICAgICBjb25zdCBhY2wgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hY2wsIGFjdGlvbi5kYXRhKVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGFjbCB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWVcIlxuXG5leHBvcnQgY29uc3QgQVBQRU5EX1RIUkVBRFMgPSBcIkFQUEVORF9USFJFQURTXCJcbmV4cG9ydCBjb25zdCBERUxFVEVfVEhSRUFEID0gXCJERUxFVEVfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBGSUxURVJfVEhSRUFEUyA9IFwiRklMVEVSX1RIUkVBRFNcIlxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfVEhSRUFEUyA9IFwiSFlEUkFURV9USFJFQURTXCJcbmV4cG9ydCBjb25zdCBQQVRDSF9USFJFQUQgPSBcIlBBVENIX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgU09SVF9USFJFQURTID0gXCJTT1JUX1RIUkVBRFNcIlxuXG5leHBvcnQgY29uc3QgTU9ERVJBVElPTl9QRVJNSVNTSU9OUyA9IFtcbiAgXCJjYW5fYW5ub3VuY2VcIixcbiAgXCJjYW5fYXBwcm92ZVwiLFxuICBcImNhbl9jbG9zZVwiLFxuICBcImNhbl9oaWRlXCIsXG4gIFwiY2FuX21vdmVcIixcbiAgXCJjYW5fbWVyZ2VcIixcbiAgXCJjYW5fcGluXCIsXG4gIFwiY2FuX3Jldmlld1wiXG5dXG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMsIHNvcnRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfVEhSRUFEUyxcbiAgICBpdGVtcyxcbiAgICBzb3J0aW5nXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRocmVhZCh0aHJlYWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERUxFVEVfVEhSRUFELFxuICAgIHRocmVhZFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJUaHJlYWRzKGNhdGVnb3J5LCBjYXRlZ29yaWVzTWFwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogRklMVEVSX1RIUkVBRFMsXG4gICAgY2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllc01hcFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9USFJFQURTLFxuICAgIGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHRocmVhZCwgcGF0Y2gsIHNvcnRpbmcgPSBudWxsKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfVEhSRUFELFxuICAgIHRocmVhZCxcbiAgICBwYXRjaCxcbiAgICBzb3J0aW5nXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNPUlRfVEhSRUFEUyxcbiAgICBzb3J0aW5nXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZF9hY2wpIHtcbiAgbGV0IG9wdGlvbnMgPSBbXVxuICBNT0RFUkFUSU9OX1BFUk1JU1NJT05TLmZvckVhY2goZnVuY3Rpb24ocGVybSkge1xuICAgIGlmICh0aHJlYWRfYWNsW3Blcm1dKSB7XG4gICAgICBvcHRpb25zLnB1c2gocGVybSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiBvcHRpb25zXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhyZWFkLCB7XG4gICAgc3RhcnRlZF9vbjogbW9tZW50KHRocmVhZC5zdGFydGVkX29uKSxcbiAgICBsYXN0X3Bvc3Rfb246IG1vbWVudCh0aHJlYWQubGFzdF9wb3N0X29uKSxcbiAgICBtb2RlcmF0aW9uOiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWQuYWNsKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBUFBFTkRfVEhSRUFEUzpcbiAgICAgIGNvbnN0IG1lcmdlZFN0YXRlID0gY29uY2F0VW5pcXVlKGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZCksIHN0YXRlKVxuICAgICAgcmV0dXJuIG1lcmdlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpXG5cbiAgICBjYXNlIERFTEVURV9USFJFQUQ6XG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgIT09IGFjdGlvbi50aHJlYWQuaWRcbiAgICAgIH0pXG5cbiAgICBjYXNlIEZJTFRFUl9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1DYXRlZ29yeSA9IGFjdGlvbi5jYXRlZ29yaWVzTWFwW2l0ZW0uY2F0ZWdvcnldXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpdGVtQ2F0ZWdvcnkubGZ0ID49IGFjdGlvbi5jYXRlZ29yeS5sZnQgJiZcbiAgICAgICAgICBpdGVtQ2F0ZWdvcnkucmdodCA8PSBhY3Rpb24uY2F0ZWdvcnkucmdodFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBzYW1lIG9yIHN1YiBjYXRlZ29yeVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS53ZWlnaHQgPT0gMikge1xuICAgICAgICAgIC8vIGdsb2JhbGx5IHBpbm5lZFxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdGhyZWFkIG1vdmVkIG91dHNpZGUgZGlzcGxheWVkIHNjb3BlLCBoaWRlIGl0XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICBjYXNlIEhZRFJBVEVfVEhSRUFEUzpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVUaHJlYWQpXG5cbiAgICBjYXNlIFBBVENIX1RIUkVBRDpcbiAgICAgIGNvbnN0IHBhdGNoZWRTdGF0ZSA9IHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24udGhyZWFkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIGFjdGlvbi5wYXRjaClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBpZiAoYWN0aW9uLnNvcnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZVxuXG4gICAgY2FzZSBTT1JUX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuc29ydChhY3Rpb24uc29ydGluZylcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHRpY2s6IDBcbn1cblxuZXhwb3J0IGNvbnN0IFRJQ0sgPSBcIlRJQ0tcIlxuXG5leHBvcnQgZnVuY3Rpb24gZG9UaWNrKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFRJQ0tcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aWNrKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24gPSBudWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVElDSykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgdGljazogc3RhdGUudGljayArIDFcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gXCJtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZVwiXG5cbmV4cG9ydCBjb25zdCBBRERfTkFNRV9DSEFOR0UgPSBcIkFERF9OQU1FX0NIQU5HRVwiXG5leHBvcnQgY29uc3QgQVBQRU5EX0hJU1RPUlkgPSBcIkFQUEVORF9ISVNUT1JZXCJcbmV4cG9ydCBjb25zdCBIWURSQVRFX0hJU1RPUlkgPSBcIkhZRFJBVEVfSElTVE9SWVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGROYW1lQ2hhbmdlKGNoYW5nZSwgdXNlciwgY2hhbmdlZEJ5KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUREX05BTUVfQ0hBTkdFLFxuICAgIGNoYW5nZSxcbiAgICB1c2VyLFxuICAgIGNoYW5nZWRCeVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZU5hbWVjaGFuZ2UobmFtZWNoYW5nZSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbmFtZWNoYW5nZSwge1xuICAgIGNoYW5nZWRfb246IG1vbWVudChuYW1lY2hhbmdlLmNoYW5nZWRfb24pXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJuYW1lKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQUREX05BTUVfQ0hBTkdFOlxuICAgICAgbGV0IG5ld1N0YXRlID0gc3RhdGUuc2xpY2UoKVxuICAgICAgbmV3U3RhdGUudW5zaGlmdCh7XG4gICAgICAgIGlkOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgLy8ganVzdCBzbWFsbCBoYXggZm9yIGdldHRpbmcgaWRcbiAgICAgICAgY2hhbmdlZF9ieTogYWN0aW9uLmNoYW5nZWRCeSxcbiAgICAgICAgY2hhbmdlZF9ieV91c2VybmFtZTogYWN0aW9uLmNoYW5nZWRCeS51c2VybmFtZSxcbiAgICAgICAgY2hhbmdlZF9vbjogbW9tZW50KCksXG4gICAgICAgIG5ld191c2VybmFtZTogYWN0aW9uLmNoYW5nZS51c2VybmFtZSxcbiAgICAgICAgb2xkX3VzZXJuYW1lOiBhY3Rpb24udXNlci51c2VybmFtZVxuICAgICAgfSlcbiAgICAgIHJldHVybiBuZXdTdGF0ZVxuXG4gICAgY2FzZSBBUFBFTkRfSElTVE9SWTpcbiAgICAgIHJldHVybiBjb25jYXRVbmlxdWUoc3RhdGUsIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZU5hbWVjaGFuZ2UpKVxuXG4gICAgY2FzZSBIWURSQVRFX0hJU1RPUlk6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSlcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgICB9KVxuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pXG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pXG4gICAgICB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWVcIlxuXG5leHBvcnQgY29uc3QgQVBQRU5EX1VTRVJTID0gXCJBUFBFTkRfVVNFUlNcIlxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfVVNFUlMgPSBcIkhZRFJBVEVfVVNFUlNcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9BVkFUQVIgPSBcIlVQREFURV9BVkFUQVJcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9VU0VSTkFNRSA9IFwiVVBEQVRFX1VTRVJOQU1FXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9VU0VSUyxcbiAgICBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9VU0VSUyxcbiAgICBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlU3RhdHVzKHN0YXR1cykge1xuICBpZiAoc3RhdHVzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXR1cywge1xuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2sgPyBtb21lbnQoc3RhdHVzLmxhc3RfY2xpY2spIDogbnVsbCxcbiAgICAgIGJhbm5lZF91bnRpbDogc3RhdHVzLmJhbm5lZF91bnRpbCA/IG1vbWVudChzdGF0dXMuYmFubmVkX3VudGlsKSA6IG51bGxcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVVc2VyKHVzZXIpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHVzZXIsIHtcbiAgICBqb2luZWRfb246IG1vbWVudCh1c2VyLmpvaW5lZF9vbiksXG4gICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKHVzZXIuc3RhdHVzKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXZhdGFyKHVzZXIsIGF2YXRhcnMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfQVZBVEFSLFxuICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICBhdmF0YXJzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVzZXJuYW1lKHVzZXIsIHVzZXJuYW1lLCBzbHVnKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1VTRVJOQU1FLFxuICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICB1c2VybmFtZSxcbiAgICBzbHVnXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcihzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9VU0VSUzpcbiAgICAgIHJldHVybiBjb25jYXRVbmlxdWUoc3RhdGUsIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpKVxuXG4gICAgY2FzZSBIWURSQVRFX1VTRVJTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpXG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pXG4gICAgICAgIGlmIChpdGVtLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5hdmF0YXJzID0gYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgICB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQWpheCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2Nvb2tpZU5hbWUgPSBudWxsXG4gICAgdGhpcy5fY3NyZlRva2VuID0gbnVsbFxuICAgIHRoaXMuX2xvY2tzID0ge31cbiAgfVxuXG4gIGluaXQoY29va2llTmFtZSkge1xuICAgIHRoaXMuX2Nvb2tpZU5hbWUgPSBjb29raWVOYW1lXG4gIH1cblxuICBnZXRDc3JmVG9rZW4oKSB7XG4gICAgaWYgKGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKHRoaXMuX2Nvb2tpZU5hbWUpICE9PSAtMSkge1xuICAgICAgbGV0IGNvb2tpZVJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLl9jb29raWVOYW1lICsgXCI9KFteO10qKVwiKVxuICAgICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChjb29raWVSZWdleClbMF1cbiAgICAgIHJldHVybiBjb29raWUgPyBjb29raWUuc3BsaXQoXCI9XCIpWzFdIDogbnVsbFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3QobWV0aG9kLCB1cmwsIGRhdGEpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXNcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IHNlbGYuZ2V0Q3NyZlRva2VuKClcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsLFxuICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge31cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXMgPSBqcVhIUi5zdGF0dXNcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSBcIk5PVCBGT1VORFwiKSB7XG4gICAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0XG5cbiAgICAgICAgICByZWplY3QocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICQuYWpheCh4aHIpXG4gICAgfSlcbiAgfVxuXG4gIGdldCh1cmwsIHBhcmFtcywgbG9jaykge1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIHVybCArPSBcIj9cIiArICQucGFyYW0ocGFyYW1zKVxuICAgIH1cblxuICAgIGlmIChsb2NrKSB7XG4gICAgICBsZXQgc2VsZiA9IHRoaXNcblxuICAgICAgLy8gdXBkYXRlIHVybCBpbiBleGlzdGluZyBsb2NrP1xuICAgICAgaWYgKHRoaXMuX2xvY2tzW2xvY2tdKSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLnVybCA9IHVybFxuICAgICAgfVxuXG4gICAgICAvLyBpbW1lZGlhdGVseSBkZXJlZmVyZW5jZSBwcm9taXNlIGhhbmRsZXJzIHdpdGhvdXQgZG9pbmcgYW55dGhpbmdcbiAgICAgIC8vIHdlIGFyZSBhbHJlYWR5IHdhaXRpbmcgZm9yIGV4aXN0aW5nIHJlc3BvbnNlIHRvIHJlc29sdmVcbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBwcm9taXNlIHRoYXQgd2lsbCBiZWdpbiB3aGVuIG9yaWdpbmFsIG9uZSByZXNvbHZlc1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSAmJiB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWVcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgbGV0IHdhaXQgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgIC8vIGtlZXAgd2FpdGluZyBvbiBwcm9taXNlXG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10ud2FpdCkge1xuICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB3YWl0KHVybClcbiAgICAgICAgICAgICAgfSwgMzAwKVxuXG4gICAgICAgICAgICAgIC8vIHBvbGwgZm9yIG5ldyB1cmxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsICE9PSB1cmwpIHtcbiAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpXG5cbiAgICAgICAgICAgICAgLy8gYWpheCBiYWNrZW5kIGZvciByZXNwb25zZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gZmFsc2VcbiAgICAgICAgICAgICAgc2VsZi5yZXF1ZXN0KFwiR0VUXCIsIHNlbGYuX2xvY2tzW2xvY2tdLnVybCkudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh1cmwpXG4gICAgICAgICAgfSwgMzAwKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHNldHVwIG5ldyBsb2NrIHdpdGhvdXQgd2FpdGVyXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXSA9IHtcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgd2FpdDogdHJ1ZSxcbiAgICAgICAgICB3YWl0ZXI6IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgc2VsZi5yZXF1ZXN0KFwiR0VUXCIsIHVybCkudGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdCA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2VcbiAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlamVjdGlvbilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIkdFVFwiLCB1cmwpXG4gICAgfVxuICB9XG5cbiAgcG9zdCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiUE9TVFwiLCB1cmwsIGRhdGEpXG4gIH1cblxuICBwYXRjaCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiUEFUQ0hcIiwgdXJsLCBkYXRhKVxuICB9XG5cbiAgcHV0KHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJQVVRcIiwgdXJsLCBkYXRhKVxuICB9XG5cbiAgZGVsZXRlKHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJERUxFVEVcIiwgdXJsLCBkYXRhKVxuICB9XG5cbiAgdXBsb2FkKHVybCwgZGF0YSwgcHJvZ3Jlc3MpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXNcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsZXQgeGhyID0ge1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiWC1DU1JGVG9rZW5cIjogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuXG4gICAgICAgIHhocjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0IHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwicHJvZ3Jlc3NcIixcbiAgICAgICAgICAgIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyhNYXRoLnJvdW5kKChldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSAqIDEwMCkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgIClcbiAgICAgICAgICByZXR1cm4geGhyXG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKVxuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge31cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXMgPSBqcVhIUi5zdGF0dXNcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MTMgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIlVwbG9hZCB3YXMgcmVqZWN0ZWQgYnkgc2VydmVyIGFzIHRvbyBsYXJnZS5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIGlmICghcmVqZWN0aW9uLmRldGFpbCB8fCByZWplY3Rpb24uZGV0YWlsID09PSBcIk5PVCBGT1VORFwiKSB7XG4gICAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1c1RleHQgPSBqcVhIUi5zdGF0dXNUZXh0XG5cbiAgICAgICAgICByZWplY3QocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICQuYWpheCh4aHIpXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheCgpXG4iLCJpbXBvcnQgeyBzaWduSW4sIHNpZ25PdXQgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL2F1dGhcIlxuXG5leHBvcnQgY2xhc3MgQXV0aCB7XG4gIGluaXQoc3RvcmUsIGxvY2FsLCBtb2RhbCkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmVcbiAgICB0aGlzLl9sb2NhbCA9IGxvY2FsXG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbFxuXG4gICAgLy8gdGVsbCBvdGhlciB0YWJzIHdoYXQgYXV0aCBzdGF0ZSBpcyBiZWNhdXNlIHdlIGFyZSBtb3N0IGN1cnJlbnQgd2l0aCBpdFxuICAgIHRoaXMuc3luY1Nlc3Npb24oKVxuXG4gICAgLy8gbGlzdGVuIGZvciBvdGhlciB0YWJzIHRvIHRlbGwgdXMgdGhhdCBzdGF0ZSBjaGFuZ2VkXG4gICAgdGhpcy53YXRjaFN0YXRlKClcbiAgfVxuXG4gIHN5bmNTZXNzaW9uKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5hdXRoXG4gICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHN0YXRlLnVzZXIudXNlcm5hbWVcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHdhdGNoU3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmF1dGhcbiAgICB0aGlzLl9sb2NhbC53YXRjaChcImF1dGhcIiwgbmV3U3RhdGUgPT4ge1xuICAgICAgaWYgKG5ld1N0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBzaWduSW4oe1xuICAgICAgICAgICAgdXNlcm5hbWU6IG5ld1N0YXRlLnVzZXJuYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgYXJlIGF1dGhlbnRpY2F0ZWQgaW4gdGhpcyB0YWJcbiAgICAgICAgLy8gYmVjYXVzZSBzb21lIGJyb3dzZXIgcGx1Z2lucyBwcnVuZSBsb2NhbCBzdG9yZVxuICAgICAgICAvLyBhZ2dyZXNzaXZlbHksIGZvcmNpbmcgZXJyb25lb3VzIG1lc3NhZ2UgdG8gZGlzcGxheSBoZXJlXG4gICAgICAgIC8vIHRyYWNraW5nIGJ1ZyAjOTU1XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuX21vZGFsLmhpZGUoKVxuICB9XG5cbiAgc2lnbkluKHVzZXIpIHtcbiAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduSW4odXNlcikpXG4gICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSlcbiAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KVxuICAgIHRoaXMuX21vZGFsLmhpZGUoKVxuICB9XG5cbiAgc29mdFNpZ25PdXQoKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCh0cnVlKSlcbiAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KVxuICAgIHRoaXMuX21vZGFsLmhpZGUoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBBdXRoKClcbiIsIi8qIGdsb2JhbCBncmVjYXB0Y2hhICovXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuXG5leHBvcnQgY2xhc3MgQmFzZUNhcHRjaGEge1xuICBpbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcbiAgICB0aGlzLl9hamF4ID0gYWpheFxuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlXG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhclxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb0NhcHRjaGEgZXh0ZW5kcyBCYXNlQ2FwdGNoYSB7XG4gIGxvYWQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHJlc29sdmUgYXMgd2UgZG9uJ3QgaGF2ZSBhbnl0aGluZyB0byB2YWxpZGF0ZVxuICAgICAgcmVzb2x2ZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29tcG9uZW50KCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFFBQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fYWpheC5nZXQoc2VsZi5fY29udGV4dC5nZXQoXCJDQVBUQ0hBX0FQSVwiKSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHNlbGYucXVlc3Rpb24gPSBkYXRhLnF1ZXN0aW9uXG4gICAgICAgICAgc2VsZi5oZWxwVGV4dCA9IGRhdGEuaGVscF90ZXh0XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuX3NuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGYWlsZWQgdG8gbG9hZCBDQVBUQ0hBLlwiKSlcbiAgICAgICAgICByZWplY3QoKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBsYWJlbD17dGhpcy5xdWVzdGlvbn1cbiAgICAgICAgZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgIGxhYmVsQ2xhc3M9e2t3YXJncy5sYWJlbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcIlwifVxuICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgaGVscFRleHQ9e3RoaXMuaGVscFRleHQgfHwgbnVsbH1cbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX2NhcHRjaGFfc3RhdHVzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIGRpc2FibGVkPXtrd2FyZ3MuZm9ybS5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgaWQ9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgICBvbkNoYW5nZT17a3dhcmdzLmZvcm0uYmluZElucHV0KFwiY2FwdGNoYVwiKX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e2t3YXJncy5mb3JtLnN0YXRlLmNhcHRjaGF9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdyZWNhcHRjaGEucmVuZGVyKFwicmVjYXB0Y2hhXCIsIHtcbiAgICAgIHNpdGVrZXk6IHRoaXMucHJvcHMuc2l0ZUtleSxcbiAgICAgIGNhbGxiYWNrOiByZXNwb25zZSA9PiB7XG4gICAgICAgIC8vIGZpcmUgZmFrZXkgZXZlbnQgdG8gYmluZGluZ1xuICAgICAgICB0aGlzLnByb3BzLmJpbmRpbmcoe1xuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgaWQ9XCJyZWNhcHRjaGFcIiAvPlxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZUNhcHRjaGEgZXh0ZW5kcyBCYXNlQ2FwdGNoYSB7XG4gIGxvYWQoKSB7XG4gICAgdGhpcy5faW5jbHVkZS5pbmNsdWRlKFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzXCIsIHRydWUpXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KClcbiAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdhaXQoKVxuICAgIH0pXG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQbGVhc2Ugc29sdmUgdGhlIHF1aWNrIHRlc3RcIil9XG4gICAgICAgIGZvcj1cImlkX2NhcHRjaGFcIlxuICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcIlwifVxuICAgICAgICBjb250cm9sQ2xhc3M9e2t3YXJncy5jb250cm9sQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgIFwiVGhpcyB0ZXN0IGhlbHBzIHVzIHByZXZlbnQgYXV0b21hdGVkIHNwYW0gcmVnaXN0cmF0aW9ucyBvbiBvdXIgc2l0ZS5cIlxuICAgICAgICApfVxuICAgICAgPlxuICAgICAgICA8UmVDYXB0Y2hhQ29tcG9uZW50XG4gICAgICAgICAgYmluZGluZz17a3dhcmdzLmZvcm0uYmluZElucHV0KFwiY2FwdGNoYVwiKX1cbiAgICAgICAgICBzaXRlS2V5PXt0aGlzLl9jb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLnJlY2FwdGNoYV9zaXRlX2tleX1cbiAgICAgICAgLz5cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICBzd2l0Y2ggKGNvbnRleHQuZ2V0KFwiU0VUVElOR1NcIikuY2FwdGNoYV90eXBlKSB7XG4gICAgICBjYXNlIFwibm9cIjpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBOb0NhcHRjaGEoKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIFwicWFcIjpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBRQUNhcHRjaGEoKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlIFwicmVcIjpcbiAgICAgICAgdGhpcy5fY2FwdGNoYSA9IG5ldyBSZUNhcHRjaGEoKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHRoaXMuX2NhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2JhcilcbiAgfVxuXG4gIC8vIGFjY2Vzc29ycyBmb3IgdW5kZXJseWluZyBzdHJhdGVneVxuXG4gIGxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcHRjaGEubG9hZCgpXG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcHRjaGEudmFsaWRhdG9yKClcbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5jb21wb25lbnQoa3dhcmdzKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBDYXB0Y2hhKClcbiIsImV4cG9ydCBjbGFzcyBJbmNsdWRlIHtcbiAgaW5pdChzdGF0aWNVcmwpIHtcbiAgICB0aGlzLl9zdGF0aWNVcmwgPSBzdGF0aWNVcmxcbiAgICB0aGlzLl9pbmNsdWRlZCA9IFtdXG4gIH1cblxuICBpbmNsdWRlKHNjcmlwdCwgcmVtb3RlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5faW5jbHVkZWQuaW5kZXhPZihzY3JpcHQpID09PSAtMSkge1xuICAgICAgdGhpcy5faW5jbHVkZWQucHVzaChzY3JpcHQpXG4gICAgICB0aGlzLl9pbmNsdWRlKHNjcmlwdCwgcmVtb3RlKVxuICAgIH1cbiAgfVxuXG4gIF9pbmNsdWRlKHNjcmlwdCwgcmVtb3RlKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogKCFyZW1vdGUgPyB0aGlzLl9zdGF0aWNVcmwgOiBcIlwiKSArIHNjcmlwdCxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YVR5cGU6IFwic2NyaXB0XCJcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBJbmNsdWRlKClcbiIsImxldCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZVxuXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlIHtcbiAgaW5pdChwcmVmaXgpIHtcbiAgICB0aGlzLl9wcmVmaXggPSBwcmVmaXhcbiAgICB0aGlzLl93YXRjaGVycyA9IFtdXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgZSA9PiB7XG4gICAgICBsZXQgbmV3VmFsdWVKc29uID0gSlNPTi5wYXJzZShlLm5ld1ZhbHVlKVxuICAgICAgdGhpcy5fd2F0Y2hlcnMuZm9yRWFjaChmdW5jdGlvbih3YXRjaGVyKSB7XG4gICAgICAgIGlmICh3YXRjaGVyLmtleSA9PT0gZS5rZXkgJiYgZS5vbGRWYWx1ZSAhPT0gZS5uZXdWYWx1ZSkge1xuICAgICAgICAgIHdhdGNoZXIuY2FsbGJhY2sobmV3VmFsdWVKc29uKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIHN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBsZXQgaXRlbVN0cmluZyA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXkpXG4gICAgaWYgKGl0ZW1TdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGl0ZW1TdHJpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgd2F0Y2goa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goe1xuICAgICAga2V5OiB0aGlzLl9wcmVmaXggKyBrZXksXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2NhbFN0b3JhZ2UoKVxuIiwiaW1wb3J0IG1hcmtlZCBmcm9tICdtYXJrZWQnXG5pbXBvcnQgeyBwYXJzZVlvdXR1YmVVcmwgfSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL29uZS1ib3hcIlxuXG5jb25zdCBtYXJka2VkUmVuZGVyZXIgPSAoY29udGVudCkgPT4ge1xuICAgIG1hcmtlZC5zZXRPcHRpb25zKHtcbiAgICAgICAgcmVuZGVyZXI6IG5ldyBtYXJrZWQuUmVuZGVyZXIoKSxcbiAgICAgICAgZ2ZtOiB0cnVlLFxuICAgICAgICB0YWJsZXM6IGZhbHNlLFxuICAgICAgICBicmVha3M6IHRydWUsXG4gICAgICAgIHBlZGFudGljOiBmYWxzZSxcbiAgICAgICAgc2FuaXRpemU6IGZhbHNlLFxuICAgICAgICBzbWFydExpc3RzOiBmYWxzZSxcbiAgICAgICAgc21hcnR5cGFudHM6IGZhbHNlXG4gICAgfSlcblxuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpXG5cbiAgICBjb25zdCBoZWFkaW5nUGFyc2UgPSAodGV4dCwgbGV2ZWwpID0+IHtcbiAgICAgICAgcmV0dXJuIGA8aCR7bGV2ZWx9PlxuICAgIDxzcGFuIGNsYXNzPVwiay1oZWFkaW5nXCI+JHt0ZXh0fTwvc3Bhbj5cbiAgPC9oJHtsZXZlbH0+YFxuICAgIH1cblxuICAgIGNvbnN0IGxpbmtQYXJzZSA9IChocmVmLCB0aXRsZSwgdGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB5dFJlZ0V4cCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICBcIl4uKig/Oig/OnlvdXR1LmJlL3x2L3x2aS98dS93L3xlbWJlZC8pfCg/Oig/OndhdGNoKT8/dig/OmkpPz18JnYoPzppKT89KSkoW14jJj9dKikuKlwiXG4gICAgICAgIClcbiAgICAgICAgaWYgKHl0UmVnRXhwLnRlc3QoaHJlZikpIHtcbiAgICAgICAgICAgIGNvbnN0IHlvdXR1YmVNb3ZpZSA9IHBhcnNlWW91dHViZVVybChocmVmKVxuICAgICAgICAgICAgaWYgKCEheW91dHViZU1vdmllICYmIHlvdXR1YmVNb3ZpZS5kYXRhICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiXG4gICAgICAgICAgICAgICAgdXJsICs9IHlvdXR1YmVNb3ZpZS52aWRlb1xuICAgICAgICAgICAgICAgIHVybCArPSBcIj9yZWw9MFwiXG4gICAgICAgICAgICAgICAgaWYgKHlvdXR1YmVNb3ZpZS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gXCImc3RhcnQ9XCIgKyB5b3V0dWJlTW92aWUuc3RhcnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gJzxpZnJhbWUgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBzcmM9XCInICtcbiAgICAgICAgICAgICAgICAgICAgdXJsICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZSBlbWJlZC1yZXNwb25zaXZlLTE2Ynk5XCI+JHtwbGF5ZXJ9PC9kaXY+YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGA8YSBocmVmPSR7aHJlZn1cbiAgICAgIHRpdGxlPSR7dGl0bGUgfHwgaHJlZn1cbiAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgfT4ke3RleHR9PC9hPmBcbiAgICB9XG5cbiAgICByZW5kZXJlci5saW5rID0gbGlua1BhcnNlXG4gICAgcmVuZGVyZXIuaGVhZGluZyA9IGhlYWRpbmdQYXJzZVxuXG4gICAgcmV0dXJuIG1hcmtlZChjb250ZW50LCB7IHJlbmRlcmVyIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hcmRrZWRSZW5kZXJlclxuIiwiaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGNsYXNzIE1vYmlsZU5hdmJhckRyb3Bkb3duIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsXG4gIH1cblxuICBzaG93KGNvbXBvbmVudCkge1xuICAgIGlmICh0aGlzLl9jb21wb25lbnQgPT09IGNvbXBvbmVudCkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29tcG9uZW50ID0gY29tcG9uZW50XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKFwib3BlblwiKVxuICAgIH1cbiAgfVxuXG4gIHNob3dDb25uZWN0ZWQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gbmFtZSkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY29tcG9uZW50ID0gbmFtZVxuICAgICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkLCB0cnVlKVxuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhcIm9wZW5cIilcbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgICQodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpXG4gICAgdGhpcy5fY29tcG9uZW50ID0gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb2JpbGVOYXZiYXJEcm9wZG93bigpXG4iLCJpbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgY2xhc3MgTW9kYWwge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFxuXG4gICAgdGhpcy5fbW9kYWwgPSAkKGVsZW1lbnQpLm1vZGFsKHsgc2hvdzogZmFsc2UgfSlcblxuICAgIHRoaXMuX21vZGFsLm9uKFwiaGlkZGVuLmJzLm1vZGFsXCIsICgpID0+IHtcbiAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5fZWxlbWVudClcbiAgICB9KVxuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpXG4gICAgdGhpcy5fbW9kYWwubW9kYWwoXCJzaG93XCIpXG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMuX21vZGFsLm1vZGFsKFwiaGlkZVwiKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb2RhbCgpXG4iLCJjb25zdCB5dFJlZ0V4cCA9IG5ldyBSZWdFeHAoXG4gIFwiXi4qKD86KD86eW91dHUuYmUvfHYvfHZpL3x1L3cvfGVtYmVkLyl8KD86KD86d2F0Y2gpPz92KD86aSk/PXwmdig/OmkpPz0pKShbXiMmP10qKS4qXCJcbilcblxuZXhwb3J0IGNsYXNzIE9uZUJveCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3lvdXR1YmUgPSB7fVxuICB9XG5cbiAgcmVuZGVyID0gZG9tbm9kZSA9PiB7XG4gICAgaWYgKCFkb21ub2RlKSByZXR1cm5cbiAgICB0aGlzLmhpZ2hsaWdodENvZGUoZG9tbm9kZSlcbiAgICB0aGlzLmVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSlcbiAgfVxuXG4gIGhpZ2hsaWdodENvZGUoZG9tbm9kZSkge1xuICAgIGNvbnN0IGNvZGVibG9ja3MgPSBkb21ub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwcmU+Y29kZVwiKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29kZWJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29kZSA9IGNvZGVibG9ja3NbaV1cbiAgICAgIGhsanMuaGlnaGxpZ2h0QmxvY2soY29kZSlcbiAgICB9XG4gIH1cblxuICBlbWJlZFlvdXR1YmVQbGF5ZXJzKGRvbW5vZGUpIHtcbiAgICBjb25zdCBhbmNob3JzID0gZG9tbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwicD5hXCIpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmNob3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhID0gYW5jaG9yc1tpXVxuICAgICAgY29uc3QgcCA9IGEucGFyZW50Tm9kZVxuICAgICAgY29uc3Qgb25seUNoaWxkID0gcC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMVxuXG4gICAgICBpZiAoIXRoaXMuX3lvdXR1YmVbYS5ocmVmXSkge1xuICAgICAgICB0aGlzLl95b3V0dWJlW2EuaHJlZl0gPSBwYXJzZVlvdXR1YmVVcmwoYS5ocmVmKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB5b3V0dWJlTW92aWUgPSB0aGlzLl95b3V0dWJlW2EuaHJlZl1cbiAgICAgIGlmIChvbmx5Q2hpbGQgJiYgISF5b3V0dWJlTW92aWUgJiYgeW91dHViZU1vdmllLmRhdGEgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuc3dhcFlvdXR1YmVQbGF5ZXIoYSwgeW91dHViZU1vdmllKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN3YXBZb3V0dWJlUGxheWVyKGVsZW1lbnQsIHlvdXR1YmUpIHtcbiAgICBsZXQgdXJsID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9cIlxuICAgIHVybCArPSB5b3V0dWJlLnZpZGVvXG4gICAgdXJsICs9IFwiP3JlbD0wXCJcbiAgICBpZiAoeW91dHViZS5zdGFydCkge1xuICAgICAgdXJsICs9IFwiJnN0YXJ0PVwiICsgeW91dHViZS5zdGFydFxuICAgIH1cblxuICAgIGNvbnN0IHBsYXllciA9ICQoXG4gICAgICAnPGlmcmFtZSBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUtaXRlbVwiIHNyYz1cIicgK1xuICAgICAgICB1cmwgK1xuICAgICAgICAnXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPidcbiAgICApXG4gICAgJChlbGVtZW50KS5yZXBsYWNlV2l0aChwbGF5ZXIpXG4gICAgcGxheWVyLndyYXAoJzxkaXYgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlIGVtYmVkLXJlc3BvbnNpdmUtMTZieTlcIj48L2Rpdj4nKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBPbmVCb3goKVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VZb3V0dWJlVXJsKHVybCkge1xuICBjb25zdCBjbGVhbmVkVXJsID0gY2xlYW5VcmwodXJsKVxuICBjb25zdCB2aWRlbyA9IGdldFZpZGVvSWRGcm9tVXJsKGNsZWFuZWRVcmwpXG5cbiAgaWYgKCF2aWRlbykgcmV0dXJuIG51bGxcblxuICBsZXQgc3RhcnQgPSAwXG4gIGlmIChjbGVhbmVkVXJsLmluZGV4T2YoXCI/XCIpID4gMCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gY2xlYW5lZFVybC5zdWJzdHIoY2xlYW5lZFVybC5pbmRleE9mKFwiP1wiKSArIDEpXG4gICAgY29uc3QgdGltZWJpdCA9IHF1ZXJ5LnNwbGl0KFwiJlwiKS5maWx0ZXIoaSA9PiB7XG4gICAgICByZXR1cm4gaS5zdWJzdHIoMCwgMikgPT09IFwidD1cIlxuICAgIH0pWzBdXG5cbiAgICBpZiAodGltZWJpdCkge1xuICAgICAgY29uc3QgYml0cyA9IHRpbWViaXQuc3Vic3RyKDIpLnNwbGl0KFwibVwiKVxuICAgICAgaWYgKGJpdHNbMF0uc3Vic3RyKC0xKSA9PT0gXCJzXCIpIHtcbiAgICAgICAgc3RhcnQgKz0gcGFyc2VJbnQoYml0c1swXS5zdWJzdHIoMCwgYml0c1swXS5sZW5ndGggLSAxKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMF0pICogNjBcbiAgICAgICAgaWYgKCEhYml0c1sxXSAmJiBiaXRzWzFdLnN1YnN0cigtMSkgPT09IFwic1wiKSB7XG4gICAgICAgICAgc3RhcnQgKz0gcGFyc2VJbnQoYml0c1sxXS5zdWJzdHIoMCwgYml0c1sxXS5sZW5ndGggLSAxKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgdmlkZW9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5VcmwodXJsKSB7XG4gIGxldCBjbGVhbiA9IHVybFxuXG4gIGlmICh1cmwuc3Vic3RyKDAsIDgpID09PSBcImh0dHBzOi8vXCIpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig4KVxuICB9IGVsc2UgaWYgKHVybC5zdWJzdHIoMCwgNykgPT09IFwiaHR0cDovL1wiKSB7XG4gICAgY2xlYW4gPSBjbGVhbi5zdWJzdHIoNylcbiAgfVxuXG4gIGlmIChjbGVhbi5zdWJzdHIoMCwgNCkgPT09IFwid3d3LlwiKSB7XG4gICAgY2xlYW4gPSBjbGVhbi5zdWJzdHIoNClcbiAgfVxuXG4gIHJldHVybiBjbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9JZEZyb21VcmwodXJsKSB7XG4gIGlmICh1cmwuaW5kZXhPZihcInlvdXR1XCIpID09PSAtMSkgcmV0dXJuIG51bGxcblxuICBjb25zdCB2aWRlbyA9IHVybC5tYXRjaCh5dFJlZ0V4cClcbiAgaWYgKHZpZGVvKSB7XG4gICAgcmV0dXJuIHZpZGVvWzFdXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cbiIsImV4cG9ydCBjbGFzcyBQYWdlVGl0bGUge1xuICBpbml0KGluZGV4VGl0bGUsIGZvcnVtTmFtZSkge1xuICAgIHRoaXMuX2luZGV4VGl0bGUgPSBpbmRleFRpdGxlXG4gICAgdGhpcy5fZm9ydW1OYW1lID0gZm9ydW1OYW1lXG4gIH1cblxuICBzZXQodGl0bGUpIHtcbiAgICBpZiAoIXRpdGxlKSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuX2luZGV4VGl0bGUgfHwgdGhpcy5fZm9ydW1OYW1lXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRpdGxlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aXRsZSA9IHsgdGl0bGU6IHRpdGxlIH1cbiAgICB9XG5cbiAgICBsZXQgZmluYWxUaXRsZSA9IHRpdGxlLnRpdGxlXG5cbiAgICBpZiAodGl0bGUucGFnZSA+IDEpIHtcbiAgICAgIGNvbnN0IHBhZ2VMYWJlbCA9IGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwicGFnZTogJShwYWdlKXNcIiksXG4gICAgICAgIHtcbiAgICAgICAgICBwYWdlOiB0aXRsZS5wYWdlXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcblxuICAgICAgZmluYWxUaXRsZSArPSBcIiAoXCIgKyBwYWdlTGFiZWwgKyBcIilcIlxuICAgIH1cblxuICAgIGlmICh0aXRsZS5wYXJlbnQpIHtcbiAgICAgIGZpbmFsVGl0bGUgKz0gXCIgfCBcIiArIHRpdGxlLnBhcmVudFxuICAgIH1cblxuICAgIGRvY3VtZW50LnRpdGxlID0gZmluYWxUaXRsZSArIFwiIHwgXCIgKyB0aGlzLl9mb3J1bU5hbWVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFnZVRpdGxlKClcbiIsImV4cG9ydCBjbGFzcyBQb2xscyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIpIHtcbiAgICB0aGlzLl9hamF4ID0gYWpheFxuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXJcblxuICAgIHRoaXMuX3BvbGxzID0ge31cbiAgfVxuXG4gIHN0YXJ0KGt3YXJncykge1xuICAgIHRoaXMuc3RvcChrd2FyZ3MucG9sbClcblxuICAgIGNvbnN0IHBvb2xTZXJ2ZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSBrd2FyZ3NcblxuICAgICAgdGhpcy5fYWpheC5nZXQoa3dhcmdzLnVybCwga3dhcmdzLmRhdGEgfHwgbnVsbCkudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0uX3N0b3BwZWQpIHtcbiAgICAgICAgICAgIGt3YXJncy51cGRhdGUoZGF0YSlcblxuICAgICAgICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICAgcG9vbFNlcnZlcixcbiAgICAgICAgICAgICAga3dhcmdzLmZyZXF1ZW5jeVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgICAgaWYgKGt3YXJncy5lcnJvcikge1xuICAgICAgICAgICAgICBrd2FyZ3MuZXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChrd2FyZ3MuZGVsYXllZCkge1xuICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdID0ge1xuICAgICAgICB0aW1lb3V0OiB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwb29sU2VydmVyKClcbiAgICB9XG4gIH1cblxuICBzdG9wKHBvbGxJZCkge1xuICAgIGlmICh0aGlzLl9wb2xsc1twb2xsSWRdKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3BvbGxzW3BvbGxJZF0udGltZW91dClcbiAgICAgIHRoaXMuX3BvbGxzW3BvbGxJZF0uX3N0b3BwZWQgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb2xscygpXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFBvbGxGb3JtIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BvbGxcIlxuaW1wb3J0IFBvc3RpbmdDb21wb25lbnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmdcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGNsYXNzIFBvc3Rpbmcge1xuICBpbml0KGFqYXgsIHNuYWNrYmFyLCBwbGFjZWhvbGRlcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhclxuICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gJChwbGFjZWhvbGRlcilcblxuICAgIHRoaXMuX21vZGUgPSBudWxsXG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZVxuICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlXG4gIH1cblxuICBvcGVuKHByb3BzKSB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlXG4gICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXRcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKVxuICAgIH0gZWxzZSBpZiAodGhpcy5faXNPcGVuICE9PSBwcm9wcy5zdWJtaXQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgYXJlIGFscmVhZHkgd29ya2luZyBvbiBvdGhlciBtZXNzYWdlLiBEbyB5b3Ugd2FudCB0byBkaXNjYXJkIGl0P1wiXG4gICAgICApXG4gICAgICBpZiAodGhpcy5fbW9kZSA9PSBcIlBPTExcIikge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgICAgICBcIllvdSBhcmUgYWxyZWFkeSB3b3JraW5nIG9uIGEgcG9sbC4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIlxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoYW5nZUZvcm0gPSBjb25maXJtKG1lc3NhZ2UpXG4gICAgICBpZiAoY2hhbmdlRm9ybSkge1xuICAgICAgICB0aGlzLl9tb2RlID0gcHJvcHMubW9kZVxuICAgICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXRcbiAgICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLl9tb2RlID09IFwiUkVQTFlcIiAmJiBwcm9wcy5tb2RlID09IFwiUkVQTFlcIikge1xuICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpXG4gICAgfVxuICB9XG5cbiAgX3JlYWxPcGVuKHByb3BzKSB7XG4gICAgaWYgKHByb3BzLm1vZGUgPT0gXCJQT0xMXCIpIHtcbiAgICAgIG1vdW50KDxQb2xsRm9ybSB7Li4ucHJvcHN9IC8+LCBcInBvc3RpbmctbW91bnRcIilcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnQoPFBvc3RpbmdDb21wb25lbnQgey4uLnByb3BzfSAvPiwgXCJwb3N0aW5nLW1vdW50XCIpXG4gICAgfVxuXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIuYWRkQ2xhc3MoXCJzbGlkZS1pblwiKVxuXG4gICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZShcbiAgICAgIHtcbiAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLl9wbGFjZWhvbGRlci5vZmZzZXQoKS50b3BcbiAgICAgIH0sXG4gICAgICAxMDAwXG4gICAgKVxuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiAmJiAhdGhpcy5faXNDbG9zaW5nKSB7XG4gICAgICB0aGlzLl9pc0Nsb3NpbmcgPSB0cnVlXG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5yZW1vdmVDbGFzcyhcInNsaWRlLWluXCIpXG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RpbmctbW91bnRcIilcbiAgICAgICAgKVxuICAgICAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZVxuICAgICAgfSwgMzAwKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUG9zdGluZygpXG4iLCJpbXBvcnQgeyBzaG93U25hY2tiYXIsIGhpZGVTbmFja2JhciB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc25hY2tiYXJcIlxuXG5jb25zdCBISURFX0FOSU1BVElPTl9MRU5HVEggPSAzMDBcbmNvbnN0IE1FU1NBR0VfU0hPV19MRU5HVEggPSA1MDAwXG5cbmV4cG9ydCBjbGFzcyBTbmFja2JhciB7XG4gIGluaXQoc3RvcmUpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlXG4gICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHR5cGUpIHtcbiAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KVxuICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpXG5cbiAgICAgIHRoaXMuX3RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsXG4gICAgICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgdHlwZSlcbiAgICAgIH0sIEhJREVfQU5JTUFUSU9OX0xFTkdUSClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2hvd1NuYWNrYmFyKG1lc3NhZ2UsIHR5cGUpKVxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsXG4gICAgICB9LCBNRVNTQUdFX1NIT1dfTEVOR1RIKVxuICAgIH1cbiAgfVxuXG4gIC8vIHNob3J0aGFuZHMgZm9yIG1lc3NhZ2UgdHlwZXNcblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwiaW5mb1wiKVxuICB9XG5cbiAgc3VjY2VzcyhtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCBcInN1Y2Nlc3NcIilcbiAgfVxuXG4gIHdhcm5pbmcobWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgXCJ3YXJuaW5nXCIpXG4gIH1cblxuICBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCBcImVycm9yXCIpXG4gIH1cblxuICAvLyBzaG9ydGhhbmQgZm9yIGFwaSBlcnJvcnNcblxuICBhcGlFcnJvcihyZWplY3Rpb24pIHtcbiAgICBsZXQgbWVzc2FnZSA9IHJlamVjdGlvbi5kZXRhaWxcblxuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBtZXNzYWdlID09PSBcIlBlcm1pc3Npb24gZGVuaWVkXCIpIHtcbiAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBwZXJmb3JtIHRoaXMgYWN0aW9uLlwiKVxuICAgIH1cblxuICAgIHRoaXMuZXJyb3IobWVzc2FnZSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU25hY2tiYXIoKVxuIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzLCBjcmVhdGVTdG9yZSB9IGZyb20gXCJyZWR1eFwiXG5cbmV4cG9ydCBjbGFzcyBTdG9yZVdyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yZSA9IG51bGxcbiAgICB0aGlzLl9yZWR1Y2VycyA9IHt9XG4gICAgdGhpcy5faW5pdGlhbFN0YXRlID0ge31cbiAgfVxuXG4gIGFkZFJlZHVjZXIobmFtZSwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKSB7XG4gICAgdGhpcy5fcmVkdWNlcnNbbmFtZV0gPSByZWR1Y2VyXG4gICAgdGhpcy5faW5pdGlhbFN0YXRlW25hbWVdID0gaW5pdGlhbFN0YXRlXG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX3N0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICBjb21iaW5lUmVkdWNlcnModGhpcy5fcmVkdWNlcnMpLFxuICAgICAgdGhpcy5faW5pdGlhbFN0YXRlXG4gICAgKVxuICB9XG5cbiAgZ2V0U3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlXG4gIH1cblxuICAvLyBTdG9yZSBBUElcblxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKVxuICB9XG5cbiAgZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmRpc3BhdGNoKGFjdGlvbilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU3RvcmVXcmFwcGVyKClcbiIsIi8qIGdsb2JhbCB6eGN2Ym4gKi9cbmV4cG9ydCBjbGFzcyBaeGN2Ym4ge1xuICBpbml0KGluY2x1ZGUpIHtcbiAgICB0aGlzLl9pbmNsdWRlID0gaW5jbHVkZVxuICAgIHRoaXMuX2lzTG9hZGVkID0gZmFsc2VcbiAgfVxuXG4gIHNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cykge1xuICAgIC8vIDAtNCBzY29yZSwgdGhlIG1vcmUgdGhlIHN0cm9uZ2VyIHBhc3N3b3JkXG4gICAgaWYgKHRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICByZXR1cm4genhjdmJuKHBhc3N3b3JkLCBpbnB1dHMpLnNjb3JlXG4gICAgfVxuXG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGxvYWQoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0xvYWRlZCkge1xuICAgICAgdGhpcy5faW5jbHVkZS5pbmNsdWRlKFwibWlzYWdvL2pzL3p4Y3Zibi5qc1wiKVxuICAgICAgcmV0dXJuIHRoaXMuX2xvYWRpbmdQcm9taXNlKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZFByb21pc2UoKVxuICAgIH1cbiAgfVxuXG4gIF9sb2FkaW5nUHJvbWlzZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpc1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbih0cmllcyA9IDApIHtcbiAgICAgICAgdHJpZXMgKz0gMVxuICAgICAgICBpZiAodHJpZXMgPiAyMDApIHtcbiAgICAgICAgICByZWplY3QoKVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB6eGN2Ym4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodHJpZXMpXG4gICAgICAgICAgfSwgMjAwKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX2lzTG9hZGVkID0gdHJ1ZVxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3YWl0KClcbiAgICB9KVxuICB9XG5cbiAgX2xvYWRlZFByb21pc2UoKSB7XG4gICAgLy8gd2UgaGF2ZSBhbHJlYWR5IGxvYWRlZCB6eGN2Ym4uanMsIHJlc29sdmUgYXdheSFcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSgpXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgWnhjdmJuKClcbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFByb3ZpZGVyLCBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9iYW5uZWQtcGFnZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5sZXQgc2VsZWN0ID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnRpY2tcbn1cblxubGV0IFJlZHJhd2VkQmFubmVkUGFnZSA9IGNvbm5lY3Qoc2VsZWN0KShCYW5uZWRQYWdlKVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihiYW4sIGNoYW5nZVN0YXRlKSB7XG4gIFJlYWN0RE9NLnJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJlZHJhd2VkQmFubmVkUGFnZVxuICAgICAgICBtZXNzYWdlPXtiYW4ubWVzc2FnZX1cbiAgICAgICAgZXhwaXJlcz17YmFuLmV4cGlyZXNfb24gPyBtb21lbnQoYmFuLmV4cGlyZXNfb24pIDogbnVsbH1cbiAgICAgIC8+XG4gICAgPC9Qcm92aWRlcj4sXG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcbiAgKVxuXG4gIGlmICh0eXBlb2YgY2hhbmdlU3RhdGUgPT09IFwidW5kZWZpbmVkXCIgfHwgY2hhbmdlU3RhdGUpIHtcbiAgICBsZXQgZm9ydW1OYW1lID0gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX25hbWVcbiAgICBkb2N1bWVudC50aXRsZSA9IGdldHRleHQoXCJZb3UgYXJlIGJhbm5lZFwiKSArIFwiIHwgXCIgKyBmb3J1bU5hbWVcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIG1pc2Fnby5nZXQoXCJCQU5ORURfVVJMXCIpKVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsaXN0LCByb3dXaWR0aCwgcGFkZGluZyA9IGZhbHNlKSB7XG4gIGxldCByb3dzID0gW11cbiAgbGV0IHJvdyA9IFtdXG5cbiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByb3cucHVzaChlbGVtZW50KVxuICAgIGlmIChyb3cubGVuZ3RoID09PSByb3dXaWR0aCkge1xuICAgICAgcm93cy5wdXNoKHJvdylcbiAgICAgIHJvdyA9IFtdXG4gICAgfVxuICB9KVxuXG4gIC8vIHBhZCByb3cgdG8gcmVxdWlyZWQgbGVuZ3RoP1xuICBpZiAocGFkZGluZyAhPT0gZmFsc2UgJiYgcm93Lmxlbmd0aCA+IDAgJiYgcm93Lmxlbmd0aCA8IHJvd1dpZHRoKSB7XG4gICAgZm9yIChsZXQgaSA9IHJvdy5sZW5ndGg7IGkgPCByb3dXaWR0aDsgaSsrKSB7XG4gICAgICByb3cucHVzaChwYWRkaW5nKVxuICAgIH1cbiAgfVxuXG4gIGlmIChyb3cubGVuZ3RoKSB7XG4gICAgcm93cy5wdXNoKHJvdylcbiAgfVxuXG4gIHJldHVybiByb3dzXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIGxldCBpZHMgPSBbXVxuICByZXR1cm4gYS5jb25jYXQoYikuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoaWRzLmluZGV4T2YoaXRlbS5pZCkgPT09IC0xKSB7XG4gICAgICBpZHMucHVzaChpdGVtLmlkKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9KVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgY291bnQpIHtcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgdGhpcy5fY291bnQgPSBjb3VudFxuICB9XG5cbiAgY291bnQoKSB7XG4gICAgdGhpcy5fY291bnQgLT0gMVxuICAgIGlmICh0aGlzLl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2soKVxuICAgIH1cbiAgfVxufVxuIiwiY29uc3QgbWFwID0ge1xuICBcIiZcIjogXCImYW1wO1wiLFxuICBcIjxcIjogXCImbHQ7XCIsXG4gIFwiPlwiOiBcIiZndDtcIixcbiAgJ1wiJzogXCImcXVvdDtcIixcbiAgXCInXCI6IFwiJiMwMzk7XCJcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bJjw+XCInXS9nLCBmdW5jdGlvbihtKSB7XG4gICAgcmV0dXJuIG1hcFttXVxuICB9KVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYnl0ZXMpIHtcbiAgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvICgxMDI0ICogMTAyNCAqIDEwMjQpKSArIFwiIEdCXCJcbiAgfSBlbHNlIGlmIChieXRlcyA+IDEwMjQgKiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvICgxMDI0ICogMTAyNCkpICsgXCIgTUJcIlxuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCkge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMgLyAxMDI0KSArIFwiIEtCXCJcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzKSArIFwiIEJcIlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZFNpemUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoMSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihDb21wb25lbnQsIHJvb3RFbGVtZW50SWQsIGNvbm5lY3RlZCA9IHRydWUpIHtcbiAgbGV0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocm9vdEVsZW1lbnRJZClcblxuICBsZXQgZmluYWxDb21wb25lbnQgPSBDb21wb25lbnQucHJvcHMgPyBDb21wb25lbnQgOiA8Q29tcG9uZW50IC8+XG5cbiAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PntmaW5hbENvbXBvbmVudH08L1Byb3ZpZGVyPixcblxuICAgICAgICByb290RWxlbWVudFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoZmluYWxDb21wb25lbnQsIHJvb3RFbGVtZW50KVxuICAgIH1cbiAgfVxufVxuIiwiY2xhc3MgT3JkZXJlZExpc3Qge1xuICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgIHRoaXMuaXNPcmRlcmVkID0gZmFsc2VcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zIHx8IFtdXG4gIH1cblxuICBhZGQoa2V5LCBpdGVtLCBvcmRlcikge1xuICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAga2V5OiBrZXksXG4gICAgICBpdGVtOiBpdGVtLFxuXG4gICAgICBhZnRlcjogb3JkZXIgPyBvcmRlci5hZnRlciB8fCBudWxsIDogbnVsbCxcbiAgICAgIGJlZm9yZTogb3JkZXIgPyBvcmRlci5iZWZvcmUgfHwgbnVsbCA6IG51bGxcbiAgICB9KVxuICB9XG5cbiAgZ2V0KGtleSwgdmFsdWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5faXRlbXNbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldLml0ZW1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoa2V5KSAhPT0gdW5kZWZpbmVkXG4gIH1cblxuICB2YWx1ZXMoKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzLnB1c2godGhpcy5faXRlbXNbaV0uaXRlbSlcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlc1xuICB9XG5cbiAgb3JkZXIodmFsdWVzX29ubHkpIHtcbiAgICBpZiAoIXRoaXMuaXNPcmRlcmVkKSB7XG4gICAgICB0aGlzLl9pdGVtcyA9IHRoaXMuX29yZGVyKHRoaXMuX2l0ZW1zKVxuICAgICAgdGhpcy5pc09yZGVyZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHZhbHVlc19vbmx5IHx8IHR5cGVvZiB2YWx1ZXNfb25seSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zXG4gICAgfVxuICB9XG5cbiAgb3JkZXJlZFZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy5vcmRlcih0cnVlKVxuICB9XG5cbiAgX29yZGVyKHVub3JkZXJlZCkge1xuICAgIC8vIEluZGV4IG9mIHVub3JkZXJlZCBpdGVtc1xuICAgIHZhciBpbmRleCA9IFtdXG4gICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaW5kZXgucHVzaChpdGVtLmtleSlcbiAgICB9KVxuXG4gICAgLy8gT3JkZXJlZCBpdGVtc1xuICAgIHZhciBvcmRlcmVkID0gW11cbiAgICB2YXIgb3JkZXJpbmcgPSBbXVxuXG4gICAgLy8gRmlyc3QgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgIC8vIGRvbid0IHNwZWNpZnkgdGhlaXIgb3JkZXJcbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoIWl0ZW0uYWZ0ZXIgJiYgIWl0ZW0uYmVmb3JlKSB7XG4gICAgICAgIG9yZGVyZWQucHVzaChpdGVtKVxuICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBTZWNvbmQgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgIC8vIHNwZWNpZnkgdGhlaXIgYmVmb3JlIHRvIFwiX2VuZFwiXG4gICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uYmVmb3JlID09PSBcIl9lbmRcIikge1xuICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSlcbiAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gVGhpcmQgcGFzczoga2VlcCBpdGVyYXRpbmcgaXRlbXNcbiAgICAvLyB1bnRpbCB3ZSBoaXQgaXRlcmF0aW9ucyBsaW1pdCBvciBmaW5pc2hcbiAgICAvLyBvcmRlcmluZyBsaXN0XG4gICAgZnVuY3Rpb24gaW5zZXJ0SXRlbShpdGVtKSB7XG4gICAgICB2YXIgaW5zZXJ0QXQgPSAtMVxuICAgICAgaWYgKG9yZGVyaW5nLmluZGV4T2YoaXRlbS5rZXkpID09PSAtMSkge1xuICAgICAgICBpZiAoaXRlbS5hZnRlcikge1xuICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmFmdGVyKVxuICAgICAgICAgIGlmIChpbnNlcnRBdCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGluc2VydEF0ICs9IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICBpbnNlcnRBdCA9IG9yZGVyaW5nLmluZGV4T2YoaXRlbS5iZWZvcmUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICAgICAgb3JkZXJlZC5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0pXG4gICAgICAgICAgb3JkZXJpbmcuc3BsaWNlKGluc2VydEF0LCAwLCBpdGVtLmtleSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpdGVyYXRpb25zID0gMjAwXG4gICAgd2hpbGUgKGl0ZXJhdGlvbnMgPiAwICYmIGluZGV4Lmxlbmd0aCAhPT0gb3JkZXJpbmcubGVuZ3RoKSB7XG4gICAgICBpdGVyYXRpb25zIC09IDFcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGluc2VydEl0ZW0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyZWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPcmRlcmVkTGlzdFxuIiwiZXhwb3J0IGZ1bmN0aW9uIGludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobWluLCBtYXgpIHtcbiAgbGV0IGFycmF5ID0gbmV3IEFycmF5KGludChtaW4sIG1heCkpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IGlcbiAgfVxuXG4gIHJldHVybiBhcnJheVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCAwKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgeyBSb3V0ZXIsIGJyb3dzZXJIaXN0b3J5IH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWdlLW1vdW50XCIpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgbGV0IHJvdXRlcyA9IHtcbiAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50IHx8IG51bGwsXG4gICAgY2hpbGRSb3V0ZXM6IFtdXG4gIH1cblxuICBpZiAob3B0aW9ucy5yb290KSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gW1xuICAgICAge1xuICAgICAgICBwYXRoOiBvcHRpb25zLnJvb3QsXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uKG5leHRTdGF0ZSwgcmVwbGFjZVN0YXRlKSB7XG4gICAgICAgICAgcmVwbGFjZVN0YXRlKG51bGwsIG9wdGlvbnMucGF0aHNbMF0ucGF0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0uY29uY2F0KG9wdGlvbnMucGF0aHMpXG4gIH0gZWxzZSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gb3B0aW9ucy5wYXRoc1xuICB9XG5cbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8Um91dGVyIHJvdXRlcz17cm91dGVzfSBoaXN0b3J5PXticm93c2VySGlzdG9yeX0gLz5cbiAgICA8L1Byb3ZpZGVyPixcbiAgICByb290RWxlbWVudFxuICApXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcHVzaChhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKVxuICAgIGNvcHkucHVzaCh2YWx1ZSlcbiAgICByZXR1cm4gY29weVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gaSAhPT0gdmFsdWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKClcbiAgICBjb3B5LnB1c2godmFsdWUpXG4gICAgcmV0dXJuIGNvcHlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZVxuICAgIH0pXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cmluZywgc3ViU3RyaW5nKSB7XG4gIHN0cmluZyA9IChzdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpXG4gIHN1YlN0cmluZyA9IChzdWJTdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpXG5cbiAgaWYgKHN1YlN0cmluZy5sZW5ndGggPD0gMCkgcmV0dXJuIDBcblxuICBsZXQgbiA9IDBcbiAgbGV0IHBvcyA9IDBcbiAgbGV0IHN0ZXAgPSBzdWJTdHJpbmcubGVuZ3RoXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZihzdWJTdHJpbmcsIHBvcylcbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIG4gKz0gMVxuICAgICAgcG9zICs9IHN0ZXBcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gblxufVxuIiwiY29uc3QgRU1BSUwgPSAvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkkL2lcbmNvbnN0IFVTRVJOQU1FID0gbmV3IFJlZ0V4cChcIl5bMC05YS16XSskXCIsIFwiaVwiKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8ICQudHJpbSh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBnZXR0ZXh0KFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkVGVybXNPZlNlcnZpY2UobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IGdldHRleHQoXCJZb3UgaGF2ZSB0byBhY2NlcHQgdGhlIHRlcm1zIG9mIHNlcnZpY2UuXCIpXG4gIHJldHVybiByZXF1aXJlZChtZXNzYWdlIHx8IGVycm9yKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWRQcml2YWN5UG9saWN5KG1lc3NhZ2UpIHtcbiAgY29uc3QgZXJyb3IgPSBnZXR0ZXh0KFwiWW91IGhhdmUgdG8gYWNjZXB0IHRoZSBwcml2YWN5IHBvbGljeS5cIilcbiAgcmV0dXJuIHJlcXVpcmVkKG1lc3NhZ2UgfHwgZXJyb3IpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWFpbChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghRU1BSUwudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW5MZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9IFwiXCJcbiAgICB2YXIgbGVuZ3RoID0gJC50cmltKHZhbHVlKS5sZW5ndGhcblxuICAgIGlmIChsZW5ndGggPCBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBsaW1pdFZhbHVlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgcmV0dXJuTWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhMZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9IFwiXCJcbiAgICB2YXIgbGVuZ3RoID0gJC50cmltKHZhbHVlKS5sZW5ndGhcblxuICAgIGlmIChsZW5ndGggPiBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbW9zdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIHJldHVybk1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNaW5MZW5ndGgobGVuZ3RoTWluKSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWluKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgIFwiVXNlcm5hbWUgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgbGVuZ3RoTWluXG4gICAgKVxuICB9XG4gIHJldHVybiBtaW5MZW5ndGgobGVuZ3RoTWluLCBtZXNzYWdlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNYXhMZW5ndGgobGVuZ3RoTWF4KSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWF4KSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3Rlci5cIixcbiAgICAgIFwiVXNlcm5hbWUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzLlwiLFxuICAgICAgbGVuZ3RoTWF4XG4gICAgKVxuICB9XG4gIHJldHVybiBtYXhMZW5ndGgobGVuZ3RoTWF4LCBtZXNzYWdlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVDb250ZW50KCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIVVTRVJOQU1FLnRlc3QoJC50cmltKHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIlVzZXJuYW1lIGNhbiBvbmx5IGNvbnRhaW4gbGF0aW4gYWxwaGFiZXQgbGV0dGVycyBhbmQgZGlnaXRzLlwiXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZE1pbkxlbmd0aChsaW1pdFZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGNvbnN0IHJldHVybk1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJWYWxpZCBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgICAgXCJWYWxpZCBwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICAgIGxpbWl0VmFsdWVcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICByZXR1cm5NZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiJdfQ==
