(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if (typeof module !== 'undefined' && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {
		// register as 'classnames', consistent with npm package name
		define('classnames', [], function () {
			return classNames;
		});
	} else {
		window.classNames = classNames;
	}
}());

},{}],2:[function(require,module,exports){
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.marked = factory());
}(this, (function () { 'use strict';

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _createForOfIteratorHelperLoose(o) {
    var i = 0;

    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }

    i = o[Symbol.iterator]();
    return i.next.bind(i);
  }

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var defaults = createCommonjsModule(function (module) {
    function getDefaults() {
      return {
        baseUrl: null,
        breaks: false,
        gfm: true,
        headerIds: true,
        headerPrefix: '',
        highlight: null,
        langPrefix: 'language-',
        mangle: true,
        pedantic: false,
        renderer: null,
        sanitize: false,
        sanitizer: null,
        silent: false,
        smartLists: false,
        smartypants: false,
        tokenizer: null,
        walkTokens: null,
        xhtml: false
      };
    }

    function changeDefaults(newDefaults) {
      module.exports.defaults = newDefaults;
    }

    module.exports = {
      defaults: getDefaults(),
      getDefaults: getDefaults,
      changeDefaults: changeDefaults
    };
  });
  var defaults_1 = defaults.defaults;
  var defaults_2 = defaults.getDefaults;
  var defaults_3 = defaults.changeDefaults;

  /**
   * Helpers
   */
  var escapeTest = /[&<>"']/;
  var escapeReplace = /[&<>"']/g;
  var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
  var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
  var escapeReplacements = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;'
  };

  var getEscapeReplacement = function getEscapeReplacement(ch) {
    return escapeReplacements[ch];
  };

  function escape(html, encode) {
    if (encode) {
      if (escapeTest.test(html)) {
        return html.replace(escapeReplace, getEscapeReplacement);
      }
    } else {
      if (escapeTestNoEncode.test(html)) {
        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
      }
    }

    return html;
  }

  var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;

  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(unescapeTest, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';

      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }

      return '';
    });
  }

  var caret = /(^|[^\[])\^/g;

  function edit(regex, opt) {
    regex = regex.source || regex;
    opt = opt || '';
    var obj = {
      replace: function replace(name, val) {
        val = val.source || val;
        val = val.replace(caret, '$1');
        regex = regex.replace(name, val);
        return obj;
      },
      getRegex: function getRegex() {
        return new RegExp(regex, opt);
      }
    };
    return obj;
  }

  var nonWordAndColonTest = /[^\w:]/g;
  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;

  function cleanUrl(sanitize, base, href) {
    if (sanitize) {
      var prot;

      try {
        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();
      } catch (e) {
        return null;
      }

      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
        return null;
      }
    }

    if (base && !originIndependentUrl.test(href)) {
      href = resolveUrl(base, href);
    }

    try {
      href = encodeURI(href).replace(/%25/g, '%');
    } catch (e) {
      return null;
    }

    return href;
  }

  var baseUrls = {};
  var justDomain = /^[^:]+:\/*[^/]*$/;
  var protocol = /^([^:]+:)[\s\S]*$/;
  var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;

  function resolveUrl(base, href) {
    if (!baseUrls[' ' + base]) {
      // we can ignore everything in base after the last slash of its path component,
      // but we might need to add _that_
      // https://tools.ietf.org/html/rfc3986#section-3
      if (justDomain.test(base)) {
        baseUrls[' ' + base] = base + '/';
      } else {
        baseUrls[' ' + base] = rtrim(base, '/', true);
      }
    }

    base = baseUrls[' ' + base];
    var relativeBase = base.indexOf(':') === -1;

    if (href.substring(0, 2) === '//') {
      if (relativeBase) {
        return href;
      }

      return base.replace(protocol, '$1') + href;
    } else if (href.charAt(0) === '/') {
      if (relativeBase) {
        return href;
      }

      return base.replace(domain, '$1') + href;
    } else {
      return base + href;
    }
  }

  var noopTest = {
    exec: function noopTest() {}
  };

  function merge(obj) {
    var i = 1,
        target,
        key;

    for (; i < arguments.length; i++) {
      target = arguments[i];

      for (key in target) {
        if (Object.prototype.hasOwnProperty.call(target, key)) {
          obj[key] = target[key];
        }
      }
    }

    return obj;
  }

  function splitCells(tableRow, count) {
    // ensure that every cell-delimiting pipe has a space
    // before it to distinguish it from an escaped pipe
    var row = tableRow.replace(/\|/g, function (match, offset, str) {
      var escaped = false,
          curr = offset;

      while (--curr >= 0 && str[curr] === '\\') {
        escaped = !escaped;
      }

      if (escaped) {
        // odd number of slashes means | is escaped
        // so we leave it alone
        return '|';
      } else {
        // add space before unescaped |
        return ' |';
      }
    }),
        cells = row.split(/ \|/);
    var i = 0;

    if (cells.length > count) {
      cells.splice(count);
    } else {
      while (cells.length < count) {
        cells.push('');
      }
    }

    for (; i < cells.length; i++) {
      // leading or trailing whitespace is ignored per the gfm spec
      cells[i] = cells[i].trim().replace(/\\\|/g, '|');
    }

    return cells;
  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
  // /c*$/ is vulnerable to REDOS.
  // invert: Remove suffix of non-c chars instead. Default falsey.


  function rtrim(str, c, invert) {
    var l = str.length;

    if (l === 0) {
      return '';
    } // Length of suffix matching the invert condition.


    var suffLen = 0; // Step left until we fail to match the invert condition.

    while (suffLen < l) {
      var currChar = str.charAt(l - suffLen - 1);

      if (currChar === c && !invert) {
        suffLen++;
      } else if (currChar !== c && invert) {
        suffLen++;
      } else {
        break;
      }
    }

    return str.substr(0, l - suffLen);
  }

  function findClosingBracket(str, b) {
    if (str.indexOf(b[1]) === -1) {
      return -1;
    }

    var l = str.length;
    var level = 0,
        i = 0;

    for (; i < l; i++) {
      if (str[i] === '\\') {
        i++;
      } else if (str[i] === b[0]) {
        level++;
      } else if (str[i] === b[1]) {
        level--;

        if (level < 0) {
          return i;
        }
      }
    }

    return -1;
  }

  function checkSanitizeDeprecation(opt) {
    if (opt && opt.sanitize && !opt.silent) {
      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
    }
  }

  var helpers = {
    escape: escape,
    unescape: unescape,
    edit: edit,
    cleanUrl: cleanUrl,
    resolveUrl: resolveUrl,
    noopTest: noopTest,
    merge: merge,
    splitCells: splitCells,
    rtrim: rtrim,
    findClosingBracket: findClosingBracket,
    checkSanitizeDeprecation: checkSanitizeDeprecation
  };

  var defaults$1 = defaults.defaults;
  var rtrim$1 = helpers.rtrim,
      splitCells$1 = helpers.splitCells,
      _escape = helpers.escape,
      findClosingBracket$1 = helpers.findClosingBracket;

  function outputLink(cap, link, raw) {
    var href = link.href;
    var title = link.title ? _escape(link.title) : null;

    if (cap[0].charAt(0) !== '!') {
      return {
        type: 'link',
        raw: raw,
        href: href,
        title: title,
        text: cap[1]
      };
    } else {
      return {
        type: 'image',
        raw: raw,
        text: _escape(cap[1]),
        href: href,
        title: title
      };
    }
  }

  function indentCodeCompensation(raw, text) {
    var matchIndentToCode = raw.match(/^(\s+)(?:```)/);

    if (matchIndentToCode === null) {
      return text;
    }

    var indentToCode = matchIndentToCode[1];
    return text.split('\n').map(function (node) {
      var matchIndentInNode = node.match(/^\s+/);

      if (matchIndentInNode === null) {
        return node;
      }

      var indentInNode = matchIndentInNode[0];

      if (indentInNode.length >= indentToCode.length) {
        return node.slice(indentToCode.length);
      }

      return node;
    }).join('\n');
  }
  /**
   * Tokenizer
   */


  var Tokenizer_1 = /*#__PURE__*/function () {
    function Tokenizer(options) {
      this.options = options || defaults$1;
    }

    var _proto = Tokenizer.prototype;

    _proto.space = function space(src) {
      var cap = this.rules.block.newline.exec(src);

      if (cap) {
        if (cap[0].length > 1) {
          return {
            type: 'space',
            raw: cap[0]
          };
        }

        return {
          raw: '\n'
        };
      }
    };

    _proto.code = function code(src, tokens) {
      var cap = this.rules.block.code.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.

        if (lastToken && lastToken.type === 'paragraph') {
          return {
            raw: cap[0],
            text: cap[0].trimRight()
          };
        }

        var text = cap[0].replace(/^ {4}/gm, '');
        return {
          type: 'code',
          raw: cap[0],
          codeBlockStyle: 'indented',
          text: !this.options.pedantic ? rtrim$1(text, '\n') : text
        };
      }
    };

    _proto.fences = function fences(src) {
      var cap = this.rules.block.fences.exec(src);

      if (cap) {
        var raw = cap[0];
        var text = indentCodeCompensation(raw, cap[3] || '');
        return {
          type: 'code',
          raw: raw,
          lang: cap[2] ? cap[2].trim() : cap[2],
          text: text
        };
      }
    };

    _proto.heading = function heading(src) {
      var cap = this.rules.block.heading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[1].length,
          text: cap[2]
        };
      }
    };

    _proto.nptable = function nptable(src) {
      var cap = this.rules.block.nptable.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : [],
          raw: cap[0]
        };

        if (item.header.length === item.align.length) {
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i], item.header.length);
          }

          return item;
        }
      }
    };

    _proto.hr = function hr(src) {
      var cap = this.rules.block.hr.exec(src);

      if (cap) {
        return {
          type: 'hr',
          raw: cap[0]
        };
      }
    };

    _proto.blockquote = function blockquote(src) {
      var cap = this.rules.block.blockquote.exec(src);

      if (cap) {
        var text = cap[0].replace(/^ *> ?/gm, '');
        return {
          type: 'blockquote',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.list = function list(src) {
      var cap = this.rules.block.list.exec(src);

      if (cap) {
        var raw = cap[0];
        var bull = cap[2];
        var isordered = bull.length > 1;
        var list = {
          type: 'list',
          raw: raw,
          ordered: isordered,
          start: isordered ? +bull : '',
          loose: false,
          items: []
        }; // Get each top-level item.

        var itemMatch = cap[0].match(this.rules.block.item);
        var next = false,
            item,
            space,
            b,
            addBack,
            loose,
            istask,
            ischecked;
        var l = itemMatch.length;

        for (var i = 0; i < l; i++) {
          item = itemMatch[i];
          raw = item; // Remove the list item's bullet
          // so it is seen as the next token.

          space = item.length;
          item = item.replace(/^ *([*+-]|\d+\.) */, ''); // Outdent whatever the
          // list item contains. Hacky.

          if (~item.indexOf('\n ')) {
            space -= item.length;
            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
          } // Determine whether the next list item belongs here.
          // Backpedal if it does not belong in this list.


          if (i !== l - 1) {
            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];

            if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {
              addBack = itemMatch.slice(i + 1).join('\n');
              list.raw = list.raw.substring(0, list.raw.length - addBack.length);
              i = l - 1;
            }
          } // Determine whether item is loose or not.
          // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
          // for discount behavior.


          loose = next || /\n\n(?!\s*$)/.test(item);

          if (i !== l - 1) {
            next = item.charAt(item.length - 1) === '\n';
            if (!loose) loose = next;
          }

          if (loose) {
            list.loose = true;
          } // Check for task list items


          istask = /^\[[ xX]\] /.test(item);
          ischecked = undefined;

          if (istask) {
            ischecked = item[1] !== ' ';
            item = item.replace(/^\[[ xX]\] +/, '');
          }

          list.items.push({
            type: 'list_item',
            raw: raw,
            task: istask,
            checked: ischecked,
            loose: loose,
            text: item
          });
        }

        return list;
      }
    };

    _proto.html = function html(src) {
      var cap = this.rules.block.html.exec(src);

      if (cap) {
        return {
          type: this.options.sanitize ? 'paragraph' : 'html',
          raw: cap[0],
          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.def = function def(src) {
      var cap = this.rules.block.def.exec(src);

      if (cap) {
        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
        var tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
        return {
          tag: tag,
          raw: cap[0],
          href: cap[2],
          title: cap[3]
        };
      }
    };

    _proto.table = function table(src) {
      var cap = this.rules.block.table.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
        };

        if (item.header.length === item.align.length) {
          item.raw = cap[0];
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\| *| *\| *$/g, ''), item.header.length);
          }

          return item;
        }
      }
    };

    _proto.lheading = function lheading(src) {
      var cap = this.rules.block.lheading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[2].charAt(0) === '=' ? 1 : 2,
          text: cap[1]
        };
      }
    };

    _proto.paragraph = function paragraph(src) {
      var cap = this.rules.block.paragraph.exec(src);

      if (cap) {
        return {
          type: 'paragraph',
          raw: cap[0],
          text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
        };
      }
    };

    _proto.text = function text(src, tokens) {
      var cap = this.rules.block.text.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1];

        if (lastToken && lastToken.type === 'text') {
          return {
            raw: cap[0],
            text: cap[0]
          };
        }

        return {
          type: 'text',
          raw: cap[0],
          text: cap[0]
        };
      }
    };

    _proto.escape = function escape(src) {
      var cap = this.rules.inline.escape.exec(src);

      if (cap) {
        return {
          type: 'escape',
          raw: cap[0],
          text: _escape(cap[1])
        };
      }
    };

    _proto.tag = function tag(src, inLink, inRawBlock) {
      var cap = this.rules.inline.tag.exec(src);

      if (cap) {
        if (!inLink && /^<a /i.test(cap[0])) {
          inLink = true;
        } else if (inLink && /^<\/a>/i.test(cap[0])) {
          inLink = false;
        }

        if (!inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = true;
        } else if (inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = false;
        }

        return {
          type: this.options.sanitize ? 'text' : 'html',
          raw: cap[0],
          inLink: inLink,
          inRawBlock: inRawBlock,
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.link = function link(src) {
      var cap = this.rules.inline.link.exec(src);

      if (cap) {
        var lastParenIndex = findClosingBracket$1(cap[2], '()');

        if (lastParenIndex > -1) {
          var start = cap[0].indexOf('!') === 0 ? 5 : 4;
          var linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = '';
        }

        var href = cap[2];
        var title = '';

        if (this.options.pedantic) {
          var link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);

          if (link) {
            href = link[1];
            title = link[3];
          } else {
            title = '';
          }
        } else {
          title = cap[3] ? cap[3].slice(1, -1) : '';
        }

        href = href.trim().replace(/^<([\s\S]*)>$/, '$1');
        var token = outputLink(cap, {
          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
          title: title ? title.replace(this.rules.inline._escapes, '$1') : title
        }, cap[0]);
        return token;
      }
    };

    _proto.reflink = function reflink(src, links) {
      var cap;

      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
        var link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
        link = links[link.toLowerCase()];

        if (!link || !link.href) {
          var text = cap[0].charAt(0);
          return {
            type: 'text',
            raw: text,
            text: text
          };
        }

        var token = outputLink(cap, link, cap[0]);
        return token;
      }
    };

    _proto.strong = function strong(src) {
      var cap = this.rules.inline.strong.exec(src);

      if (cap) {
        return {
          type: 'strong',
          raw: cap[0],
          text: cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.em = function em(src) {
      var cap = this.rules.inline.em.exec(src);

      if (cap) {
        return {
          type: 'em',
          raw: cap[0],
          text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.codespan = function codespan(src) {
      var cap = this.rules.inline.code.exec(src);

      if (cap) {
        var text = cap[2].replace(/\n/g, ' ');
        var hasNonSpaceChars = /[^ ]/.test(text);
        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');

        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
          text = text.substring(1, text.length - 1);
        }

        text = _escape(text, true);
        return {
          type: 'codespan',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.br = function br(src) {
      var cap = this.rules.inline.br.exec(src);

      if (cap) {
        return {
          type: 'br',
          raw: cap[0]
        };
      }
    };

    _proto.del = function del(src) {
      var cap = this.rules.inline.del.exec(src);

      if (cap) {
        return {
          type: 'del',
          raw: cap[0],
          text: cap[1]
        };
      }
    };

    _proto.autolink = function autolink(src, mangle) {
      var cap = this.rules.inline.autolink.exec(src);

      if (cap) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
          href = 'mailto:' + text;
        } else {
          text = _escape(cap[1]);
          href = text;
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.url = function url(src, mangle) {
      var cap;

      if (cap = this.rules.inline.url.exec(src)) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
          href = 'mailto:' + text;
        } else {
          // do extended autolink path validation
          var prevCapZero;

          do {
            prevCapZero = cap[0];
            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
          } while (prevCapZero !== cap[0]);

          text = _escape(cap[0]);

          if (cap[1] === 'www.') {
            href = 'http://' + text;
          } else {
            href = text;
          }
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {
      var cap = this.rules.inline.text.exec(src);

      if (cap) {
        var text;

        if (inRawBlock) {
          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];
        } else {
          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
        }

        return {
          type: 'text',
          raw: cap[0],
          text: text
        };
      }
    };

    return Tokenizer;
  }();

  var noopTest$1 = helpers.noopTest,
      edit$1 = helpers.edit,
      merge$1 = helpers.merge;
  /**
   * Block-Level Grammar
   */

  var block = {
    newline: /^\n+/,
    code: /^( {4}[^\n]+\n*)+/,
    fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
    heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
    list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
    html: '^ {0,3}(?:' // optional indentation
    + '<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
    + '|comment[^\\n]*(\\n+|$)' // (2)
    + '|<\\?[\\s\\S]*?\\?>\\n*' // (3)
    + '|<![A-Z][\\s\\S]*?>\\n*' // (4)
    + '|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*' // (5)
    + '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)' // (6)
    + '|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) open tag
    + '|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) closing tag
    + ')',
    def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
    nptable: noopTest$1,
    table: noopTest$1,
    lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
    // regex template, placeholders will be replaced according to different paragraph
    // interruption rules of commonmark and the original markdown spec:
    _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
    text: /^[^\n]+/
  };
  block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
  block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();
  block.bullet = /(?:[*+-]|\d{1,9}\.)/;
  block.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;
  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();
  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block.def.source + ')').getRegex();
  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';
  block._comment = /<!--(?!-?>)[\s\S]*?-->/;
  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
  .getRegex();
  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();
  /**
   * Normal Block Grammar
   */

  block.normal = merge$1({}, block);
  /**
   * GFM Block Grammar
   */

  block.gfm = merge$1({}, block.normal, {
    nptable: '^ *([^|\\n ].*\\|.*)\\n' // Header
    + ' *([-:]+ *\\|[-| :]*)' // Align
    + '(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)',
    // Cells
    table: '^ *\\|(.+)\\n' // Header
    + ' *\\|?( *[-:]+[-| :]*)' // Align
    + '(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)' // Cells

  });
  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  /**
   * Pedantic grammar (original John Gruber's loose markdown specification)
   */

  block.pedantic = merge$1({}, block.normal, {
    html: edit$1('^ *(?:comment *(?:\\n|\\s*$)' + '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
    + '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b').getRegex(),
    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
    heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
    fences: noopTest$1,
    // fences not supported
    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()
  });
  /**
   * Inline-Level Grammar
   */

  var inline = {
    escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
    url: noopTest$1,
    tag: '^comment' + '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
    + '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
    + '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
    + '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
    + '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>',
    // CDATA section
    link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
    reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
    nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
    strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
    em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,
    code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
    br: /^( {2,}|\\)\n(?!\s*$)/,
    del: noopTest$1,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/
  }; // list of punctuation marks from common mark spec
  // without ` and ] to workaround Rule 17 (inline code blocks/links)
  // without , to work around example 393

  inline._punctuation = '!"#$%&\'()*+\\-./:;<=>?@\\[^_{|}~';
  inline.em = edit$1(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();
  inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();
  inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
  inline.tag = edit$1(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();
  inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
  inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
  inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();
  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();
  /**
   * Normal Inline Grammar
   */

  inline.normal = merge$1({}, inline);
  /**
   * Pedantic Inline Grammar
   */

  inline.pedantic = merge$1({}, inline.normal, {
    strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
    link: edit$1(/^!?\[(label)\]\((.*?)\)/).replace('label', inline._label).getRegex(),
    reflink: edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace('label', inline._label).getRegex()
  });
  /**
   * GFM Inline Grammar
   */

  inline.gfm = merge$1({}, inline.normal, {
    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),
    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
    del: /^~+(?=\S)([\s\S]*?\S)~+/,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
  });
  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();
  /**
   * GFM + Line Breaks Inline Grammar
   */

  inline.breaks = merge$1({}, inline.gfm, {
    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),
    text: edit$1(inline.gfm.text).replace('\\b_', '\\b_| {2,}\\n').replace(/\{2,\}/g, '*').getRegex()
  });
  var rules = {
    block: block,
    inline: inline
  };

  var defaults$2 = defaults.defaults;
  var block$1 = rules.block,
      inline$1 = rules.inline;
  /**
   * smartypants text replacement
   */

  function smartypants(text) {
    return text // em-dashes
    .replace(/---/g, "\u2014") // en-dashes
    .replace(/--/g, "\u2013") // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018") // closing singles & apostrophes
    .replace(/'/g, "\u2019") // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C") // closing doubles
    .replace(/"/g, "\u201D") // ellipses
    .replace(/\.{3}/g, "\u2026");
  }
  /**
   * mangle email addresses
   */


  function mangle(text) {
    var out = '',
        i,
        ch;
    var l = text.length;

    for (i = 0; i < l; i++) {
      ch = text.charCodeAt(i);

      if (Math.random() > 0.5) {
        ch = 'x' + ch.toString(16);
      }

      out += '&#' + ch + ';';
    }

    return out;
  }
  /**
   * Block Lexer
   */


  var Lexer_1 = /*#__PURE__*/function () {
    function Lexer(options) {
      this.tokens = [];
      this.tokens.links = Object.create(null);
      this.options = options || defaults$2;
      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();
      this.tokenizer = this.options.tokenizer;
      this.tokenizer.options = this.options;
      var rules = {
        block: block$1.normal,
        inline: inline$1.normal
      };

      if (this.options.pedantic) {
        rules.block = block$1.pedantic;
        rules.inline = inline$1.pedantic;
      } else if (this.options.gfm) {
        rules.block = block$1.gfm;

        if (this.options.breaks) {
          rules.inline = inline$1.breaks;
        } else {
          rules.inline = inline$1.gfm;
        }
      }

      this.tokenizer.rules = rules;
    }
    /**
     * Expose Rules
     */


    /**
     * Static Lex Method
     */
    Lexer.lex = function lex(src, options) {
      var lexer = new Lexer(options);
      return lexer.lex(src);
    }
    /**
     * Preprocessing
     */
    ;

    var _proto = Lexer.prototype;

    _proto.lex = function lex(src) {
      src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ');
      this.blockTokens(src, this.tokens, true);
      this.inline(this.tokens);
      return this.tokens;
    }
    /**
     * Lexing
     */
    ;

    _proto.blockTokens = function blockTokens(src, tokens, top) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (top === void 0) {
        top = true;
      }

      src = src.replace(/^ +$/gm, '');
      var token, i, l, lastToken;

      while (src) {
        // newline
        if (token = this.tokenizer.space(src)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          }

          continue;
        } // code


        if (token = this.tokenizer.code(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        } // fences


        if (token = this.tokenizer.fences(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // heading


        if (token = this.tokenizer.heading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // table no leading pipe (gfm)


        if (token = this.tokenizer.nptable(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // hr


        if (token = this.tokenizer.hr(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // blockquote


        if (token = this.tokenizer.blockquote(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.blockTokens(token.text, [], top);
          tokens.push(token);
          continue;
        } // list


        if (token = this.tokenizer.list(src)) {
          src = src.substring(token.raw.length);
          l = token.items.length;

          for (i = 0; i < l; i++) {
            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);
          }

          tokens.push(token);
          continue;
        } // html


        if (token = this.tokenizer.html(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // def


        if (top && (token = this.tokenizer.def(src))) {
          src = src.substring(token.raw.length);

          if (!this.tokens.links[token.tag]) {
            this.tokens.links[token.tag] = {
              href: token.href,
              title: token.title
            };
          }

          continue;
        } // table (gfm)


        if (token = this.tokenizer.table(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // lheading


        if (token = this.tokenizer.lheading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // top-level paragraph


        if (top && (token = this.tokenizer.paragraph(src))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.text(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _proto.inline = function inline(tokens) {
      var i, j, k, l2, row, token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'paragraph':
          case 'text':
          case 'heading':
            {
              token.tokens = [];
              this.inlineTokens(token.text, token.tokens);
              break;
            }

          case 'table':
            {
              token.tokens = {
                header: [],
                cells: []
              }; // header

              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                token.tokens.header[j] = [];
                this.inlineTokens(token.header[j], token.tokens.header[j]);
              } // cells


              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.cells[j];
                token.tokens.cells[j] = [];

                for (k = 0; k < row.length; k++) {
                  token.tokens.cells[j][k] = [];
                  this.inlineTokens(row[k], token.tokens.cells[j][k]);
                }
              }

              break;
            }

          case 'blockquote':
            {
              this.inline(token.tokens);
              break;
            }

          case 'list':
            {
              l2 = token.items.length;

              for (j = 0; j < l2; j++) {
                this.inline(token.items[j].tokens);
              }

              break;
            }
        }
      }

      return tokens;
    }
    /**
     * Lexing/Compiling
     */
    ;

    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (inLink === void 0) {
        inLink = false;
      }

      if (inRawBlock === void 0) {
        inRawBlock = false;
      }

      var token;

      while (src) {
        // escape
        if (token = this.tokenizer.escape(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // tag


        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {
          src = src.substring(token.raw.length);
          inLink = token.inLink;
          inRawBlock = token.inRawBlock;
          tokens.push(token);
          continue;
        } // link


        if (token = this.tokenizer.link(src)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // reflink, nolink


        if (token = this.tokenizer.reflink(src, this.tokens.links)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // strong


        if (token = this.tokenizer.strong(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // em


        if (token = this.tokenizer.em(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // code


        if (token = this.tokenizer.codespan(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // br


        if (token = this.tokenizer.br(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // del (gfm)


        if (token = this.tokenizer.del(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // autolink


        if (token = this.tokenizer.autolink(src, mangle)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // url (gfm)


        if (!inLink && (token = this.tokenizer.url(src, mangle))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _createClass(Lexer, null, [{
      key: "rules",
      get: function get() {
        return {
          block: block$1,
          inline: inline$1
        };
      }
    }]);

    return Lexer;
  }();

  var defaults$3 = defaults.defaults;
  var cleanUrl$1 = helpers.cleanUrl,
      escape$1 = helpers.escape;
  /**
   * Renderer
   */

  var Renderer_1 = /*#__PURE__*/function () {
    function Renderer(options) {
      this.options = options || defaults$3;
    }

    var _proto = Renderer.prototype;

    _proto.code = function code(_code, infostring, escaped) {
      var lang = (infostring || '').match(/\S*/)[0];

      if (this.options.highlight) {
        var out = this.options.highlight(_code, lang);

        if (out != null && out !== _code) {
          escaped = true;
          _code = out;
        }
      }

      if (!lang) {
        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
      }

      return '<pre><code class="' + this.options.langPrefix + escape$1(lang, true) + '">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
    };

    _proto.blockquote = function blockquote(quote) {
      return '<blockquote>\n' + quote + '</blockquote>\n';
    };

    _proto.html = function html(_html) {
      return _html;
    };

    _proto.heading = function heading(text, level, raw, slugger) {
      if (this.options.headerIds) {
        return '<h' + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + '</h' + level + '>\n';
      } // ignore IDs


      return '<h' + level + '>' + text + '</h' + level + '>\n';
    };

    _proto.hr = function hr() {
      return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
    };

    _proto.list = function list(body, ordered, start) {
      var type = ordered ? 'ol' : 'ul',
          startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
      return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
    };

    _proto.listitem = function listitem(text) {
      return '<li>' + text + '</li>\n';
    };

    _proto.checkbox = function checkbox(checked) {
      return '<input ' + (checked ? 'checked="" ' : '') + 'disabled="" type="checkbox"' + (this.options.xhtml ? ' /' : '') + '> ';
    };

    _proto.paragraph = function paragraph(text) {
      return '<p>' + text + '</p>\n';
    };

    _proto.table = function table(header, body) {
      if (body) body = '<tbody>' + body + '</tbody>';
      return '<table>\n' + '<thead>\n' + header + '</thead>\n' + body + '</table>\n';
    };

    _proto.tablerow = function tablerow(content) {
      return '<tr>\n' + content + '</tr>\n';
    };

    _proto.tablecell = function tablecell(content, flags) {
      var type = flags.header ? 'th' : 'td';
      var tag = flags.align ? '<' + type + ' align="' + flags.align + '">' : '<' + type + '>';
      return tag + content + '</' + type + '>\n';
    } // span level renderer
    ;

    _proto.strong = function strong(text) {
      return '<strong>' + text + '</strong>';
    };

    _proto.em = function em(text) {
      return '<em>' + text + '</em>';
    };

    _proto.codespan = function codespan(text) {
      return '<code>' + text + '</code>';
    };

    _proto.br = function br() {
      return this.options.xhtml ? '<br/>' : '<br>';
    };

    _proto.del = function del(text) {
      return '<del>' + text + '</del>';
    };

    _proto.link = function link(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<a href="' + escape$1(href) + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += '>' + text + '</a>';
      return out;
    };

    _proto.image = function image(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<img src="' + href + '" alt="' + text + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += this.options.xhtml ? '/>' : '>';
      return out;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    return Renderer;
  }();

  /**
   * TextRenderer
   * returns only the textual part of the token
   */
  var TextRenderer_1 = /*#__PURE__*/function () {
    function TextRenderer() {}

    var _proto = TextRenderer.prototype;

    // no need for block level renderers
    _proto.strong = function strong(text) {
      return text;
    };

    _proto.em = function em(text) {
      return text;
    };

    _proto.codespan = function codespan(text) {
      return text;
    };

    _proto.del = function del(text) {
      return text;
    };

    _proto.html = function html(text) {
      return text;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    _proto.link = function link(href, title, text) {
      return '' + text;
    };

    _proto.image = function image(href, title, text) {
      return '' + text;
    };

    _proto.br = function br() {
      return '';
    };

    return TextRenderer;
  }();

  /**
   * Slugger generates header id
   */
  var Slugger_1 = /*#__PURE__*/function () {
    function Slugger() {
      this.seen = {};
    }
    /**
     * Convert string to unique id
     */


    var _proto = Slugger.prototype;

    _proto.slug = function slug(value) {
      var slug = value.toLowerCase().trim() // remove html tags
      .replace(/<[!\/a-z].*?>/ig, '') // remove unwanted chars
      .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '').replace(/\s/g, '-');

      if (this.seen.hasOwnProperty(slug)) {
        var originalSlug = slug;

        do {
          this.seen[originalSlug]++;
          slug = originalSlug + '-' + this.seen[originalSlug];
        } while (this.seen.hasOwnProperty(slug));
      }

      this.seen[slug] = 0;
      return slug;
    };

    return Slugger;
  }();

  var defaults$4 = defaults.defaults;
  var unescape$1 = helpers.unescape;
  /**
   * Parsing & Compiling
   */

  var Parser_1 = /*#__PURE__*/function () {
    function Parser(options) {
      this.options = options || defaults$4;
      this.options.renderer = this.options.renderer || new Renderer_1();
      this.renderer = this.options.renderer;
      this.renderer.options = this.options;
      this.textRenderer = new TextRenderer_1();
      this.slugger = new Slugger_1();
    }
    /**
     * Static Parse Method
     */


    Parser.parse = function parse(tokens, options) {
      var parser = new Parser(options);
      return parser.parse(tokens);
    }
    /**
     * Parse Loop
     */
    ;

    var _proto = Parser.prototype;

    _proto.parse = function parse(tokens, top) {
      if (top === void 0) {
        top = true;
      }

      var out = '',
          i,
          j,
          k,
          l2,
          l3,
          row,
          cell,
          header,
          body,
          token,
          ordered,
          start,
          loose,
          itemBody,
          item,
          checked,
          task,
          checkbox;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'space':
            {
              continue;
            }

          case 'hr':
            {
              out += this.renderer.hr();
              continue;
            }

          case 'heading':
            {
              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
              continue;
            }

          case 'code':
            {
              out += this.renderer.code(token.text, token.lang, token.escaped);
              continue;
            }

          case 'table':
            {
              header = ''; // header

              cell = '';
              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {
                  header: true,
                  align: token.align[j]
                });
              }

              header += this.renderer.tablerow(cell);
              body = '';
              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.tokens.cells[j];
                cell = '';
                l3 = row.length;

                for (k = 0; k < l3; k++) {
                  cell += this.renderer.tablecell(this.parseInline(row[k]), {
                    header: false,
                    align: token.align[k]
                  });
                }

                body += this.renderer.tablerow(cell);
              }

              out += this.renderer.table(header, body);
              continue;
            }

          case 'blockquote':
            {
              body = this.parse(token.tokens);
              out += this.renderer.blockquote(body);
              continue;
            }

          case 'list':
            {
              ordered = token.ordered;
              start = token.start;
              loose = token.loose;
              l2 = token.items.length;
              body = '';

              for (j = 0; j < l2; j++) {
                item = token.items[j];
                checked = item.checked;
                task = item.task;
                itemBody = '';

                if (item.task) {
                  checkbox = this.renderer.checkbox(checked);

                  if (loose) {
                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;

                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                      }
                    } else {
                      item.tokens.unshift({
                        type: 'text',
                        text: checkbox
                      });
                    }
                  } else {
                    itemBody += checkbox;
                  }
                }

                itemBody += this.parse(item.tokens, loose);
                body += this.renderer.listitem(itemBody, task, checked);
              }

              out += this.renderer.list(body, ordered, start);
              continue;
            }

          case 'html':
            {
              // TODO parse inline content if parameter markdown=1
              out += this.renderer.html(token.text);
              continue;
            }

          case 'paragraph':
            {
              out += this.renderer.paragraph(this.parseInline(token.tokens));
              continue;
            }

          case 'text':
            {
              body = token.tokens ? this.parseInline(token.tokens) : token.text;

              while (i + 1 < l && tokens[i + 1].type === 'text') {
                token = tokens[++i];
                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
              }

              out += top ? this.renderer.paragraph(body) : body;
              continue;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    }
    /**
     * Parse Inline Tokens
     */
    ;

    _proto.parseInline = function parseInline(tokens, renderer) {
      renderer = renderer || this.renderer;
      var out = '',
          i,
          token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'escape':
            {
              out += renderer.text(token.text);
              break;
            }

          case 'html':
            {
              out += renderer.html(token.text);
              break;
            }

          case 'link':
            {
              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
              break;
            }

          case 'image':
            {
              out += renderer.image(token.href, token.title, token.text);
              break;
            }

          case 'strong':
            {
              out += renderer.strong(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'em':
            {
              out += renderer.em(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'codespan':
            {
              out += renderer.codespan(token.text);
              break;
            }

          case 'br':
            {
              out += renderer.br();
              break;
            }

          case 'del':
            {
              out += renderer.del(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'text':
            {
              out += renderer.text(token.text);
              break;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    };

    return Parser;
  }();

  var merge$2 = helpers.merge,
      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,
      escape$2 = helpers.escape;
  var getDefaults = defaults.getDefaults,
      changeDefaults = defaults.changeDefaults,
      defaults$5 = defaults.defaults;
  /**
   * Marked
   */

  function marked(src, opt, callback) {
    // throw error in case of non string input
    if (typeof src === 'undefined' || src === null) {
      throw new Error('marked(): input parameter is undefined or null');
    }

    if (typeof src !== 'string') {
      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
    }

    if (typeof opt === 'function') {
      callback = opt;
      opt = null;
    }

    opt = merge$2({}, marked.defaults, opt || {});
    checkSanitizeDeprecation$1(opt);

    if (callback) {
      var highlight = opt.highlight;
      var tokens;

      try {
        tokens = Lexer_1.lex(src, opt);
      } catch (e) {
        return callback(e);
      }

      var done = function done(err) {
        var out;

        if (!err) {
          try {
            out = Parser_1.parse(tokens, opt);
          } catch (e) {
            err = e;
          }
        }

        opt.highlight = highlight;
        return err ? callback(err) : callback(null, out);
      };

      if (!highlight || highlight.length < 3) {
        return done();
      }

      delete opt.highlight;
      if (!tokens.length) return done();
      var pending = 0;
      marked.walkTokens(tokens, function (token) {
        if (token.type === 'code') {
          pending++;
          highlight(token.text, token.lang, function (err, code) {
            if (err) {
              return done(err);
            }

            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }

            pending--;

            if (pending === 0) {
              done();
            }
          });
        }
      });

      if (pending === 0) {
        done();
      }

      return;
    }

    try {
      var _tokens = Lexer_1.lex(src, opt);

      if (opt.walkTokens) {
        marked.walkTokens(_tokens, opt.walkTokens);
      }

      return Parser_1.parse(_tokens, opt);
    } catch (e) {
      e.message += '\nPlease report this to https://github.com/markedjs/marked.';

      if (opt.silent) {
        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';
      }

      throw e;
    }
  }
  /**
   * Options
   */


  marked.options = marked.setOptions = function (opt) {
    merge$2(marked.defaults, opt);
    changeDefaults(marked.defaults);
    return marked;
  };

  marked.getDefaults = getDefaults;
  marked.defaults = defaults$5;
  /**
   * Use Extension
   */

  marked.use = function (extension) {
    var opts = merge$2({}, extension);

    if (extension.renderer) {
      (function () {
        var renderer = marked.defaults.renderer || new Renderer_1();

        var _loop = function _loop(prop) {
          var prevRenderer = renderer[prop];

          renderer[prop] = function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            var ret = extension.renderer[prop].apply(renderer, args);

            if (ret === false) {
              ret = prevRenderer.apply(renderer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.renderer) {
          _loop(prop);
        }

        opts.renderer = renderer;
      })();
    }

    if (extension.tokenizer) {
      (function () {
        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();

        var _loop2 = function _loop2(prop) {
          var prevTokenizer = tokenizer[prop];

          tokenizer[prop] = function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }

            var ret = extension.tokenizer[prop].apply(tokenizer, args);

            if (ret === false) {
              ret = prevTokenizer.apply(tokenizer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.tokenizer) {
          _loop2(prop);
        }

        opts.tokenizer = tokenizer;
      })();
    }

    if (extension.walkTokens) {
      var walkTokens = marked.defaults.walkTokens;

      opts.walkTokens = function (token) {
        extension.walkTokens(token);

        if (walkTokens) {
          walkTokens(token);
        }
      };
    }

    marked.setOptions(opts);
  };
  /**
   * Run callback for every token
   */


  marked.walkTokens = function (tokens, callback) {
    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {
      var token = _step.value;
      callback(token);

      switch (token.type) {
        case 'table':
          {
            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {
              var cell = _step2.value;
              marked.walkTokens(cell, callback);
            }

            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {
              var row = _step3.value;

              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {
                var _cell = _step4.value;
                marked.walkTokens(_cell, callback);
              }
            }

            break;
          }

        case 'list':
          {
            marked.walkTokens(token.items, callback);
            break;
          }

        default:
          {
            if (token.tokens) {
              marked.walkTokens(token.tokens, callback);
            }
          }
      }
    }
  };
  /**
   * Expose
   */


  marked.Parser = Parser_1;
  marked.parser = Parser_1.parse;
  marked.Renderer = Renderer_1;
  marked.TextRenderer = TextRenderer_1;
  marked.Lexer = Lexer_1;
  marked.lexer = Lexer_1.lex;
  marked.Tokenizer = Tokenizer_1;
  marked.Slugger = Slugger_1;
  marked.parse = marked;
  var marked_1 = marked;

  return marked_1;

})));

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _escapeHtml = _interopRequireDefault(require("../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';

var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
      privacyPolicy = props.privacyPolicy,
      termsOfService = props.termsOfService,
      onPrivacyPolicyChange = props.onPrivacyPolicyChange,
      onTermsOfServiceChange = props.onTermsOfServiceChange;

  var termsOfServiceId = _.default.get("TERMS_OF_SERVICE_ID");

  var termsOfServiceUrl = _.default.get("TERMS_OF_SERVICE_URL");

  var privacyPolicyId = _.default.get("PRIVACY_POLICY_ID");

  var privacyPolicyUrl = _.default.get("PRIVACY_POLICY_URL");

  if (!termsOfServiceId && !privacyPolicyId) return null;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the terms of service"),
    checked: termsOfService !== null,
    errors: errors.termsOfService,
    url: termsOfServiceUrl,
    value: termsOfServiceId,
    onChange: onTermsOfServiceChange
  }), /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the privacy policy"),
    checked: privacyPolicy !== null,
    errors: errors.privacyPolicy,
    url: privacyPolicyUrl,
    value: privacyPolicyId,
    onChange: onPrivacyPolicyChange
  }));
};

var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
      checked = props.checked,
      errors = props.errors,
      url = props.url,
      value = props.value,
      onChange = props.onChange;
  if (!url) return null;
  var agreementHtml = interpolate(AGREEMENT_URL, {
    agreement: (0, _escapeHtml.default)(agreement),
    url: (0, _escapeHtml.default)(url)
  }, true);
  var label = interpolate(gettext("I have read and accept %(agreement)s."), {
    agreement: agreementHtml
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "checkbox legal-footnote"
  }, /*#__PURE__*/_react.default.createElement("label", null, /*#__PURE__*/_react.default.createElement("input", {
    checked: checked,
    type: "checkbox",
    value: value,
    onChange: onChange
  }), /*#__PURE__*/_react.default.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: label
    }
  })), errors && errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "help-block errors",
      key: i
    }, error);
  }));
};

var _default = RegisterLegalFootnote;
exports.default = _default;

},{"../utils/escape-html":378,"./..":296,"react":"react"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
      buttonLabel = props.buttonLabel,
      formLabel = props.formLabel,
      header = props.header,
      labelClassName = props.labelClassName;

  var socialAuth = _.default.get("SOCIAL_AUTH");

  if (socialAuth.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group form-social-auth"
  }, /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: header
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, socialAuth.map(function (_ref) {
    var id = _ref.id,
        name = _ref.name,
        button_text = _ref.button_text,
        button_color = _ref.button_color,
        url = _ref.url;
    var className = "btn btn-block btn-default btn-social-" + id;
    var style = button_color ? {
      color: button_color
    } : null;
    var finalButtonLabel = button_text || interpolate(buttonLabel, {
      site: name
    }, true);
    return /*#__PURE__*/_react.default.createElement("div", {
      className: buttonClassName || "col-xs-12",
      key: id
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      style: style,
      href: url
    }, finalButtonLabel));
  })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: formLabel
  }));
};

var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
      text = _ref2.text;
  if (!text) return null;
  return /*#__PURE__*/_react.default.createElement("h5", {
    className: className || ""
  }, text);
};

var _default = StartSocialAuth;
exports.default = _default;

},{"./..":296,"react":"react"}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var AcceptAgreement = /*#__PURE__*/function (_React$Component) {
  _inherits(AcceptAgreement, _React$Component);

  var _super = _createSuper(AcceptAgreement);

  function AcceptAgreement(props) {
    var _this;

    _classCallCheck(this, AcceptAgreement);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleDecline", function () {
      if (_this.state.submiting) return;
      var confirmation = confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: false
      }).then(function () {
        location.reload(true);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleAccept", function () {
      if (_this.state.submiting) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: true
      }).then(function () {
        location.reload(true);
      });
    });

    _this.state = {
      submiting: false
    };
    return _this;
  }

  _createClass(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleDecline
      }, gettext("Decline")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleAccept
      }, gettext("Accept and continue")));
    }
  }]);

  return AcceptAgreement;
}(_react.default.Component);

exports.default = AcceptAgreement;

},{"../services/ajax":359,"react":"react"}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var participants = _interopRequireWildcard(require("../reducers/participants"));

var _thread = require("../reducers/thread");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUsernameChange", function (event) {
      _this.changeValue("username", event.target.value);
    });

    _this.state = {
      isLoading: false,
      username: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar.default.error(gettext("You have to enter user name."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "add",
        path: "participants",
        value: this.state.username
      }, {
        op: "add",
        path: "acl",
        value: 1
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch((0, _thread.updateAcl)(data));

      _store.default.dispatch(participants.replace(data.participants));

      _snackbar.default.success(gettext("New participant has been added to thread."));

      _modal.default.hide();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("User to add")
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onUsernameChange,
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-primary",
        disabled: this.state.isLoading
      }, gettext("Add participant")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Add participant")));
}

},{"../reducers/participants":345,"../reducers/thread":354,"../services/ajax":359,"../services/modal":366,"../services/snackbar":371,"../services/store":372,"./form":50,"./form-group":49,"react":"react"}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), {
          username: this.props.signedIn.username
        }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), {
          username: this.props.user.username
        }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";

      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        type: "button",
        onClick: this.refresh
      }, gettext("Reload page")), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs hidden-sm"
      }, " " + gettext("or press F5 key.")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;
  return /*#__PURE__*/_react.default.createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
}

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _.default.get("BLANK_AVATAR_URL");
  }
}

function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"./..":296,"react":"react"}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.props.message.plain);
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment.default)())) {
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.props.expires.format("LL, LT")
          }, true);
          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.props.expires.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-error page-error-banned"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "highlight_off")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, this.getReasonMessage(), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-footnote"
      }, this.getExpirationMessage())))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"moment":"moment","react":"react"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Button = /*#__PURE__*/function (_React$Component) {
  _inherits(Button, _React$Component);

  var _super = _createSuper(Button);

  function Button() {
    _classCallCheck(this, Button);

    return _super.apply(this, arguments);
  }

  _createClass(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: disabled,
        onClick: this.props.onClick,
        type: this.props.onClick ? "button" : "submit"
      }, this.props.children, this.props.loading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return Button;
}(_react.default.Component);

exports.default = Button;
Button.defaultProps = {
  className: "btn-default",
  type: "submit",
  loading: false,
  disabled: false,
  onClick: null
};

},{"./loader":52,"react":"react"}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item empty-message"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("No categories exist or you don't have permission to see them.")))));
}

},{"react":"react"}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var categories = _ref.categories;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, categories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_category.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./category":13,"react":"react"}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "list-group list-group-category";

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_listItem.default, {
    category: category,
    isFirst: true
  }), category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      isFirst: false,
      key: category.id
    });
  }));
}

},{"./list-item":16,"react":"react"}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  if (!category.description) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
}

},{"react":"react"}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;
exports.getTitle = getTitle;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(category),
    title: getTitle(category)
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)));
}

function getClassName(category) {
  if (category.is_read) {
    return "read-status item-read";
  }

  return "read-status item-new";
}

function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }

    return gettext("This category has new posts. (closed)");
  }

  if (category.is_read) {
    return gettext("This category has no new posts.");
  }

  return gettext("This category has new posts.");
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _main = _interopRequireDefault(require("./main"));

var _lastThread = _interopRequireDefault(require("./last-thread"));

var _stats = _interopRequireDefault(require("./stats"));

var _subcategories = _interopRequireDefault(require("./subcategories"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  var className = "list-group-item";

  if (category.description) {
    className += " list-group-category-has-description";
  } else {
    className += " list-group-category-no-description";
  }

  if (isFirst) {
    className += " list-group-item-first";
  }

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-item-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_main.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_stats.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_lastThread.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement(_subcategories.default, {
    category: category,
    isFirst: isFirst
  }));
}

},{"./last-thread":17,"./main":18,"./stats":19,"./subcategories":20,"react":"react"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LastThread = LastThread;
exports.LastPosterAvatar = LastPosterAvatar;
exports.LastPosterName = LastPosterName;
exports.Empty = Empty;
exports.Private = Private;
exports.Protected = Protected;
exports.Message = Message;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-4 category-last-thread"
  }, /*#__PURE__*/_react.default.createElement(LastThread, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Empty, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Private, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Protected, {
    category: category
  }));
}

function LastThread(_ref2) {
  var category = _ref2.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(LastPosterAvatar, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title thread-title",
    href: category.url.last_thread_new,
    title: category.last_thread_title
  }, category.last_thread_title)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-poster"
  }, /*#__PURE__*/_react.default.createElement(LastPosterName, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("li", {
    className: "divider"
  }, "\u2014"), /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-date"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.last_post
  }, category.last_post_on.fromNow())))));
}

function LastPosterAvatar(_ref3) {
  var category = _ref3.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "last-poster-avatar",
      href: category.last_poster.url,
      title: category.last_poster_name
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      className: "media-object",
      size: 40,
      user: category.last_poster
    }));
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "last-poster-avatar",
    title: category.last_poster_name
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40
  }));
}

function LastPosterName(_ref4) {
  var category = _ref4.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: category.last_poster.url
    }, category.last_poster_name);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, category.last_poster_name);
}

function Empty(_ref5) {
  var category = _ref5.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is empty. No threads were posted within it so far.")
  });
}

function Private(_ref6) {
  var category = _ref6.category;
  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}

function Protected(_ref7) {
  var category = _ref7.category;
  if (category.acl.can_browse) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is protected. You can't browse its contents.")
  });
}

function Message(_ref8) {
  var message = _ref8.message;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media category-thread-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, message)));
}

},{"../../../avatar":8,"react":"react"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _description = _interopRequireDefault(require("./description"));

var _icon = _interopRequireDefault(require("./icon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-6 category-main"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h4", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.index
  }, category.name)), /*#__PURE__*/_react.default.createElement(_description.default, {
    category: category
  }))));
}

},{"./description":14,"./icon":15,"react":"react"}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-2 hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled category-stats"
  }, /*#__PURE__*/_react.default.createElement(Threads, {
    threads: category.threads
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    posts: category.posts
  })));
}

function Threads(_ref2) {
  var threads = _ref2.threads;
  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-threads"
  }, interpolate(message, {
    threads: threads
  }, true));
}

function Posts(_ref3) {
  var posts = _ref3.posts;
  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-posts"
  }, interpolate(message, {
    posts: posts
  }, true));
}

},{"../../../avatar":8,"react":"react"}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row subcategories-list"
  }, category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./list-item":21,"react":"react"}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "btn btn-default btn-block btn-sm btn-subcategory";

  if (!category.is_read) {
    className += " btn-subcategory-new";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4 col-md-3"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, category.name)));
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _categoriesList = _interopRequireDefault(require("./categories-list"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    });

    _this.state = {
      categories: _.default.get("CATEGORIES").map(hydrate)
    };

    _this.startPolling(_.default.get("CATEGORIES_API"));

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "categories",
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var categories = this.state.categories;

      if (categories.length === 0) {
        return /*#__PURE__*/_react.default.createElement(_blankslate.default, null);
      }

      return /*#__PURE__*/_react.default.createElement(_categoriesList.default, {
        categories: categories
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick
  };
}

},{"../..":296,"../../services/polls":369,"./blankslate":11,"./categories-list":12,"moment":"moment","react":"react"}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("select", {
    className: props.className || "form-control",
    disabled: props.disabled || false,
    id: props.id || null,
    onChange: props.onChange,
    value: props.value
  }, props.choices.map(function (item) {
    return /*#__PURE__*/_react.default.createElement("option", {
      disabled: item.disabled || false,
      key: item.value,
      value: item.value
    }, "- - ".repeat(item.level) + item.label);
  }));
}

},{"react":"react"}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "cropAvatar", function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        isLoading: true
      });

      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");
      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");

      _ajax.default.post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);

        _snackbar.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();
      var initialWidth = cropit.width();

      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;
      cropit.width(cropperWidth);
      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize"); // is it wider than taller?

            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-crop"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "crop-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "cropit-preview"
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "range",
        className: "cropit-image-zoom-input"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.cropAvatar,
        loading: this.state.isLoading,
        className: "btn-primary btn-block"
      }, this.props.upload ? gettext("Set avatar") : gettext("Crop image")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../avatar":8,"../button":10,"react":"react"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Gallery = exports.GalleryItem = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _batch = _interopRequireDefault(require("../../utils/batch"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var GalleryItem = /*#__PURE__*/function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  var _super = _createSuper(GalleryItem);

  function GalleryItem() {
    var _this;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "select", function () {
      _this.props.select(_this.props.id);
    });

    return _this;
  }

  _createClass(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.select
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.props.url
      }));
    }
  }]);

  return GalleryItem;
}(_react.default.Component);

exports.GalleryItem = GalleryItem;

var Gallery = /*#__PURE__*/function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  var _super2 = _createSuper(Gallery);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _super2.apply(this, arguments);
  }

  _createClass(Gallery, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery"
      }, /*#__PURE__*/_react.default.createElement("h3", null, this.props.name), /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery-images"
      }, (0, _batch.default)(this.props.images, 4, null).map(function (row, i) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "row",
          key: i
        }, row.map(function (item, i) {
          return /*#__PURE__*/_react.default.createElement("div", {
            className: "col-xs-3",
            key: i
          }, item ? /*#__PURE__*/_react.default.createElement(GalleryItem, _extends({
            disabled: _this2.props.disabled,
            select: _this2.props.select,
            selection: _this2.props.selection
          }, item)) : /*#__PURE__*/_react.default.createElement("div", {
            className: "blank-avatar"
          }));
        }));
      })));
    }
  }]);

  return Gallery;
}(_react.default.Component);

exports.Gallery = Gallery;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this3;

    _classCallCheck(this, _default);

    _this3 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "select", function (image) {
      _this3.setState({
        selection: image
      });
    });

    _defineProperty(_assertThisInitialized(_this3), "save", function () {
      if (_this3.state.isLoading) {
        return false;
      }

      _this3.setState({
        isLoading: true
      });

      _ajax.default.post(_this3.props.user.api.avatar, {
        avatar: "galleries",
        image: _this3.state.selection
      }).then(function (response) {
        _this3.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this3.props.onComplete(response);

        _this3.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this3.setState({
            isLoading: false
          });
        } else {
          _this3.props.showError(rejection);
        }
      });
    });

    _this3.state = {
      selection: null,
      isLoading: false
    };
    return _this3;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this4 = this;

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-gallery"
      }, this.props.options.galleries.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement(Gallery, {
          name: item.name,
          images: item.images,
          selection: _this4.state.selection,
          disabled: _this4.state.isLoading,
          select: _this4.select,
          key: i
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.save,
        loading: this.state.isLoading,
        disabled: !this.state.selection,
        className: "btn-primary btn-block"
      }, this.state.selection ? gettext("Save choice") : gettext("Select avatar")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"../../utils/batch":375,"../avatar":8,"../button":10,"react":"react"}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _loader = _interopRequireDefault(require("../loader"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setGravatar", function () {
      _this.callApi("gravatar");
    });

    _defineProperty(_assertThisInitialized(_this), "setGenerated", function () {
      _this.callApi("generated");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        isLoading: true
      });

      _ajax.default.post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return /*#__PURE__*/_react.default.createElement(_button.default, {
          onClick: this.setGravatar,
          disabled: this.state.isLoading,
          className: "btn-default btn-block btn-avatar-gravatar"
        }, gettext("Download my Gravatar"));
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-crop",
        disabled: this.state.isLoading,
        onClick: this.props.showCrop
      }, gettext("Re-crop uploaded image"));
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-upload",
        disabled: this.state.isLoading,
        onClick: this.props.showUpload
      }, gettext("Upload new image"));
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-gallery",
        disabled: this.state.isLoading,
        onClick: this.props.showGallery
      }, gettext("Pick avatar from gallery"));
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };

      if (this.state.isLoading) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "avatar-preview preview-loading"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "200",
          user: userPeview
        }), /*#__PURE__*/_react.default.createElement(_loader.default, null));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatar-preview"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "200",
        user: userPeview
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-index"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-5"
      }, this.getAvatarPreview()), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-7"
      }, this.getGravatarButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.setGenerated,
        disabled: this.state.isLoading,
        className: "btn-default btn-block btn-avatar-generate"
      }, gettext("Generate my individual avatar")), this.getCropButton(), this.getUploadButton(), this.getGalleryButton())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../avatar":8,"../button":10,"../loader":52,"react":"react"}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = exports.ChangeAvatarError = void 0;

var _react = _interopRequireDefault(require("react"));

var _index = _interopRequireDefault(require("./index"));

var _crop = _interopRequireDefault(require("./crop"));

var _upload = _interopRequireDefault(require("./upload"));

var _gallery = _interopRequireDefault(require("./gallery"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ChangeAvatarError = /*#__PURE__*/function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  var _super = _createSuper(ChangeAvatarError);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _super.apply(this, arguments);
  }

  _createClass(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return /*#__PURE__*/_react.default.createElement("p", {
          dangerouslySetInnerHTML: {
            __html: this.props.reason
          }
        });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "remove_circle_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getErrorReason(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return ChangeAvatarError;
}(_react.default.Component);

exports.ChangeAvatarError = ChangeAvatarError;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showError", function (error) {
      _this.setState({
        error: error
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showIndex", function () {
      _this.setState({
        component: _index.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showUpload", function () {
      _this.setState({
        component: _upload.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showCrop", function () {
      _this.setState({
        component: _crop.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showGallery", function () {
      _this.setState({
        component: _gallery.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "completeFlow", function (options) {
      _store.default.dispatch((0, _users.updateAvatar)(_this.props.user, options.avatars));

      _this.setState({
        component: _index.default,
        options: options
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.user.api.avatar).then(function (options) {
        _this2.setState({
          component: _index.default,
          options: options,
          error: null
        });
      }, function (rejection) {
        _this2.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return /*#__PURE__*/_react.default.createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change your avatar"))), this.getBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user
  };
}

},{"../../reducers/users":358,"../../services/ajax":359,"../../services/store":372,"../modal-loader":55,"./crop":24,"./gallery":25,"./index":26,"./upload":28,"react":"react"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _crop = _interopRequireDefault(require("./crop"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _fileSize = _interopRequireDefault(require("../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "pickFile", function () {
      document.getElementById("avatar-hidden-upload").click();
    });

    _defineProperty(_assertThisInitialized(_this), "uploadFile", function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);

      if (validationError) {
        _snackbar.default.error(validationError);

        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);

      _ajax.default.upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          filesize: (0, _fileSize.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");

      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });
      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0, _fileSize.default)(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-pick-file",
        onClick: this.pickFile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "material-icon"
      }, "input"), gettext("Select file")), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-muted"
      }, this.getUploadRequirements(this.props.options.upload)));
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "upload-progress"
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.state.preview
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar",
        role: "progressbar",
        "aria-valuenow": "{this.state.progress}",
        "aria-valuemin": "0",
        "aria-valuemax": "100",
        style: {
          width: this.state.progress + "%"
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, this.getUploadProgressLabel())))));
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("input", {
        type: "file",
        id: "avatar-hidden-upload",
        className: "hidden-file-upload",
        onChange: this.uploadFile
      }), this.state.image ? this.getUploadProgress() : this.getUploadButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: !!this.state.image,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return /*#__PURE__*/_react.default.createElement(_crop.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();
      return this.renderUpload();
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":359,"../../services/snackbar":371,"../../utils/file-size":379,"../button":10,"./crop":24,"react":"react"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.getClassName(),
        type: "button",
        onClick: this.props.toggleNav,
        "aria-haspopup": "true",
        "aria-expanded": this.props.dropdown ? "true" : "false"
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "menu"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
}

},{"../panel-message":88,"react":"react"}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _select = _interopRequireDefault(require("../select"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var _this$props = _this.props,
          field = _this$props.field,
          onChange = _this$props.onChange;
      onChange(field.fieldname, ev.target.value);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          disabled = _this$props2.disabled,
          field = _this$props2.field,
          value = _this$props2.value;
      var input = field.input;

      if (input.type === "select") {
        return /*#__PURE__*/_react.default.createElement(_select.default, {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }

      if (input.type === "textarea") {
        return /*#__PURE__*/_react.default.createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }

      if (input.type === "text") {
        return /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }

      return null;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../select":204,"react":"react"}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldInput = _interopRequireDefault(require("./field-input"));

var _formGroup = _interopRequireDefault(require("../form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var disabled = _ref.disabled,
      errors = _ref.errors,
      fields = _ref.fields,
      name = _ref.name,
      onChange = _ref.onChange,
      value = _ref.value;
  return /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, name), fields.map(function (field) {
    return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
      for: "id_" + field.fieldname,
      helpText: field.help_text,
      key: field.fieldname,
      label: field.label,
      validation: errors[field.fieldname]
    }, /*#__PURE__*/_react.default.createElement(_fieldInput.default, {
      disabled: disabled,
      field: field,
      onChange: onChange,
      value: value[field.fieldname]
    }));
  }));
}

},{"../form-group":49,"./field-input":31,"react":"react"}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CancelButton = CancelButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _fieldset = _interopRequireDefault(require("./fieldset"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (name, value) {
      _this.setState(_defineProperty({}, name, value));
    });

    _this.state = {
      isLoading: false,
      errors: {}
    };
    var groups = props.groups.length;

    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;

      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }

    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: rejection
        });
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, this.props.groups.map(function (group, i) {
        return /*#__PURE__*/_react.default.createElement(_fieldset.default, {
          disabled: _this2.state.isLoading,
          errors: _this2.state.errors,
          fields: group.fields,
          name: group.name,
          key: i,
          onChange: _this2.onChange,
          value: _this2.state
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(CancelButton, {
        disabled: this.state.isLoading,
        onCancel: this.props.onCancel
      }), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
      disabled = _ref.disabled;
  if (!onCancel) return null;
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    disabled: disabled,
    onClick: onCancel,
    type: "button"
  }, gettext("Cancel"));
}

},{"../../services/ajax":359,"../../services/snackbar":371,"../button":10,"../form":50,"./fieldset":32,"react":"react"}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormDisplay = FormDisplay;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _loader = _interopRequireDefault(require("./loader"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,
          groups: groups
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          groups = _this$state.groups,
          loading = _this$state.loading;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Edit details"))), /*#__PURE__*/_react.default.createElement(_loader.default, {
        display: loading
      }), /*#__PURE__*/_react.default.createElement(_blankslate.default, {
        display: !loading && !groups.length
      }), /*#__PURE__*/_react.default.createElement(FormDisplay, {
        api: this.props.api,
        display: !loading && groups.length,
        groups: groups,
        onCancel: this.props.onCancel,
        onSuccess: this.props.onSuccess
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function FormDisplay(_ref) {
  var api = _ref.api,
      display = _ref.display,
      groups = _ref.groups,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_form.default, {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../services/ajax":359,"../../services/snackbar":371,"./blankslate":30,"./form":33,"./loader":35,"react":"react"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../loader":52,"react":"react"}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onInsert", function () {
      _this.props.replaceSelection(_this.insertAttachment);
    });

    _defineProperty(_assertThisInitialized(_this), "insertAttachment", function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace("[![" + item.filename + "](" + item.url.thumb + ")](" + item.url.index + ")");
        } else {
          replace("[![" + item.filename + "](" + item.url.index + ")](" + item.url.index + ")");
        }
      } else {
        replace("[" + item.filename + "](" + item.url.index + ")");
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onRemove", function () {
      _this.updateItem({
        isRemoved: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUndo", function () {
      _this.updateItem({
        isRemoved: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateItem", function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });

      _this.props.onAttachmentsChange(updatedAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-complete"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement(Preview, this.props), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-details"
      }, /*#__PURE__*/_react.default.createElement(Filename, this.props), /*#__PURE__*/_react.default.createElement(Details, this.props))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top-half"
      }, /*#__PURE__*/_react.default.createElement(Actions, _extends({
        onInsert: this.onInsert,
        onRemove: this.onRemove,
        onUndo: this.onUndo
      }, this.props)))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Preview(props) {
  if (props.item.is_image) {
    return /*#__PURE__*/_react.default.createElement(Image, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-image"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.item.url.index + "?shva=1",
    style: {
      backgroundImage: "url('" + thumbnailUrl + "?shva=1')"
    },
    target: "_blank"
  }));
}

function Icon(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "insert_drive_file"));
}

function Filename(props) {
  return /*#__PURE__*/_react.default.createElement("h4", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: props.item.url.index + "?shva=1",
    target: "_blank"
  }, props.item.filename));
}

function Details(props) {
  var user = null;

  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.item.url.uploader),
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.item.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.item.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Actions(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-actions"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Insert, props), /*#__PURE__*/_react.default.createElement(Remove, props), /*#__PURE__*/_react.default.createElement(Undo, props)));
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onInsert,
    type: "button"
  }, gettext("Insert")));
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onRemove,
    type: "button"
  }, gettext("Remove")));
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onUndo,
    type: "button"
  }, gettext("Undo removal")));
}

},{"../../../..":296,"../../../../utils/escape-html":378,"../../../../utils/file-size":379,"react":"react"}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STRONG = "<strong>%(name)s</strong>";

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });

      _this.props.onAttachmentsChange(filteredAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml.default)(this.props.item.filename)
      }, true);
      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + "%"
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-error"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning")), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-message"
      }, /*#__PURE__*/_react.default.createElement("h4", {
        dangerouslySetInnerHTML: {
          __html: title + ":"
        }
      }), /*#__PURE__*/_react.default.createElement("p", null, this.props.item.error), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        onClick: this.onClick,
        type: "button"
      }, gettext("Dismiss"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../utils/escape-html":378,"react":"react"}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _complete = _interopRequireDefault(require("./complete"));

var _error = _interopRequireDefault(require("./error"));

var _upload = _interopRequireDefault(require("./upload"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.item.id) {
    return /*#__PURE__*/_react.default.createElement(_complete.default, props);
  }

  if (props.item.error) {
    return /*#__PURE__*/_react.default.createElement(_error.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_upload.default, props);
}

},{"../../../..":296,"../../../../utils/escape-html":378,"./complete":36,"./error":37,"./upload":39,"react":"react"}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var STRONG = "<strong>%(name)s</strong>";

function _default(props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml.default)(props.item.filename)
  }, true);
  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + "%"
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "editor-attachment-upload"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress-bar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress",
    style: {
      width: props.item.progress + "%"
    }
  })), /*#__PURE__*/_react.default.createElement("p", {
    className: "editor-attachment-upload-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

},{"../../../../utils/escape-html":378,"react":"react"}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _list = _interopRequireDefault(require("./list"));

var _uploader = _interopRequireDefault(require("./uploader"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!_.default.get("user").acl.max_attachment_size) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachments"
  }, /*#__PURE__*/_react.default.createElement(_list.default, props), /*#__PURE__*/_react.default.createElement(_uploader.default, props));
}

},{"../../..":296,"./list":41,"./uploader":43,"react":"react"}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled editor-attachments-list",
    style: {
      overflowY: "scroll",
      maxHeight: "75px",
      overflowX: "hidden"
    }
  }, props.attachments.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, _extends({
      item: item,
      key: item.id || item.key
    }, props));
  }));
}

},{"./attachment":38,"react":"react"}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      document.getElementById("editor-upload-field").click();
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!_.default.get("user").acl.max_attachment_size) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Upload file"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "file_upload"), " Upload file");
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getRandomKey = getRandomKey;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var file = event.target.files[0];

      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append("upload", file);

      _ajax.default.upload(_.default.get("ATTACHMENTS_API"), data, function (progress) {
        upload.progress = progress;

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment.default)(data.uploaded_on);
        Object.assign(upload, data);

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;

          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("input", {
        id: "editor-upload-field",
        onChange: this.onChange,
        type: "file"
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getRandomKey() {
  return "upld-" + Math.round(new Date().getTime());
}

},{"../../..":296,"../../../services/ajax":359,"../../../services/snackbar":371,"moment":"moment","react":"react"}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _uploadButton = _interopRequireDefault(require("../attachments/upload-button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      imgHidden: true,
      imgList: [],
      paraHidden: true,
      titleHidden: true,
      moreHidden: true,
      listHidden: true
    };
    return _this;
  }

  _createClass(_default, [{
    key: "onClickLeft",
    value: function onClickLeft(type) {
      this.props.onClickLeft(type);
    }
  }, {
    key: "onClickRight",
    value: function onClickRight(type) {
      this.props.onClickRight(type);
    }
  }, {
    key: "listMouseOver",
    value: function listMouseOver() {
      window.clearTimeout(this.listTimer);
      this.setState({
        listHidden: false
      });
    }
  }, {
    key: "listMouseOut",
    value: function listMouseOut() {
      var _this2 = this;

      this.listTimer = window.setTimeout(function () {
        _this2.setState({
          listHidden: true
        });
      }, 150);
    }
  }, {
    key: "paraMouseOver",
    value: function paraMouseOver() {
      window.clearTimeout(this.paraTimer);
      this.setState({
        paraHidden: false
      });
    }
  }, {
    key: "paraMouseOut",
    value: function paraMouseOut() {
      var _this3 = this;

      this.paraTimer = window.setTimeout(function () {
        _this3.setState({
          paraHidden: true
        });
      }, 150);
    }
  }, {
    key: "titleMouseOver",
    value: function titleMouseOver() {
      window.clearTimeout(this.titleTimer);
      this.setState({
        titleHidden: false
      });
    }
  }, {
    key: "titleMouseOut",
    value: function titleMouseOut() {
      var _this4 = this;

      this.titleTimer = window.setTimeout(function () {
        _this4.setState({
          titleHidden: true
        });
      }, 150);
    }
  }, {
    key: "moreMouseOver",
    value: function moreMouseOver() {
      window.clearTimeout(this.moreTimer);
      this.setState({
        moreHidden: false
      });
    }
  }, {
    key: "moreMouseOut",
    value: function moreMouseOut() {
      var _this5 = this;

      this.moreTimer = window.setTimeout(function () {
        _this5.setState({
          moreHidden: true
        });
      }, 150);
    }
  }, {
    key: "imgClick",
    value: function imgClick() {
      this.setState({
        imgHidden: !this.state.imgHidden
      });
    }
  }, {
    key: "imgMouseOver",
    value: function imgMouseOver() {
      window.clearTimeout(this.timer);
      this.setState({
        imgHidden: false
      });
    }
  }, {
    key: "imgMouseOut",
    value: function imgMouseOut() {
      var _this6 = this;

      this.timer = window.setTimeout(function () {
        _this6.setState({
          imgHidden: true
        });
      }, 150);
    }
  }, {
    key: "addImgUrl",
    value: function addImgUrl() {
      this.props.onClickLeft('img');
    }
  }, {
    key: "addImgFile",
    value: function addImgFile(e) {
      var imgList = this.state.imgList;
      var index = imgList.length;
      imgList.push(e.target.files[0]);
      this.setState({
        imgList: imgList
      });
      this.props.addImg(e.target.files[0], index);
      e.target.value = '';
    }
  }, {
    key: "render",
    value: function render() {
      var _this7 = this;

      var _this$state = this.state,
          imgHidden = _this$state.imgHidden,
          paraHidden = _this$state.paraHidden,
          titleHidden = _this$state.titleHidden,
          moreHidden = _this$state.moreHidden,
          listHidden = _this$state.listHidden;
      var _this$props = this.props,
          preview = _this$props.preview,
          expand = _this$props.expand,
          subfield = _this$props.subfield;
      var previewActive = (0, _classnames.default)({
        'k-active': preview
      });
      var expandActive = (0, _classnames.default)({
        'k-active': expand
      });
      var subfieldActive = (0, _classnames.default)({
        'k-active': subfield
      });
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "k-wrapper"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('quote');
        },
        title: "quote"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "format_quote")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('link');
        },
        title: "link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('code');
        },
        title: "code"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "code")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('spoiler');
        },
        title: "spoiler"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "priority_high")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('quote');
        },
        title: "quote"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "format_quote")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('link');
        },
        title: "link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('code');
        },
        title: "code"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "code")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('spoiler');
        },
        title: "spoiler"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "priority_high")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")), /*#__PURE__*/_react.default.createElement("li", {
        className: subfieldActive,
        onClick: function onClick() {
          return _this7.onClickRight('subfield');
        },
        title: subfieldActive ? "Split preview" : "Merge split"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chrome_reader_mode")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../attachments/upload-button":42,"classnames":1,"react":"react"}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Protect = Protect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _attachments = _interopRequireDefault(require("./attachments"));

var textUtils = _interopRequireWildcard(require("./textutils"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _classnames = _interopRequireDefault(require("classnames"));

var _marked = _interopRequireDefault(require("../../services/marked"));

var _toolbar = _interopRequireDefault(require("./components/toolbar"));

var _text = require("./utils/helper/text");

var _keyboard = _interopRequireDefault(require("./utils/helper/keyboard"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "_areYouSure", function (e) {
      var _this$state = _this.state,
          areYouReallySure = _this$state.areYouReallySure,
          historyIndex = _this$state.historyIndex;
      console.log(e);

      if (historyIndex != 0) {
        if (!areYouReallySure) {
          _this.setState({
            areYouReallySure: true
          });

          return "Are you sure you want leave ? The changes will not be saved.";
        }
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onKeyDown", function (e) {
      (0, _keyboard.default)(e, function (type) {
        _this.leftToolBarClick(type);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "replaceSelection", function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    });

    _defineProperty(_assertThisInitialized(_this), "_replaceSelection", function (newValue) {
      _this.props.onChange(textUtils.replace(newValue));
    });

    _defineProperty(_assertThisInitialized(_this), "resize", function () {
      if (window.matchMedia('(min-width: 768px)').matches) {
        _this.setState({
          preview: true,
          subfield: true,
          expand: _this.props.expand
        });
      } else {
        _this.setState({
          preview: false,
          subfield: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "focusText", function () {
      _this.textarea.focus();
    });

    _defineProperty(_assertThisInitialized(_this), "reHeight", function () {
      _this.textarea.style.height = '';
      _this.textarea.style.height = _this.textarea.scrollHeight + 'px';
    });

    _defineProperty(_assertThisInitialized(_this), "saveHistory", function (value) {
      var _this$state2 = _this.state,
          history = _this$state2.history,
          historyIndex = _this$state2.historyIndex;
      history.splice(historyIndex + 1, history.length);

      if (history.length >= 20) {
        history.shift();
      }

      historyIndex = history.length;
      history.push(value);

      _this.setState({
        history: history,
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "undo", function () {
      var _this$state3 = _this.state,
          history = _this$state3.history,
          historyIndex = _this$state3.historyIndex;
      historyIndex = historyIndex - 1;
      if (historyIndex < 0) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "redo", function () {
      var _this$state4 = _this.state,
          history = _this$state4.history,
          historyIndex = _this$state4.historyIndex;
      historyIndex = historyIndex + 1;
      if (historyIndex >= history.length) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "leftToolBarClick", function (type) {
      var typeObj = {
        h1: {
          prefix: '# ',
          subfix: '',
          str: "Header 1"
        },
        h2: {
          prefix: '## ',
          subfix: '',
          str: "Header 2"
        },
        h3: {
          prefix: '### ',
          subfix: '',
          str: "Header 3"
        },
        h4: {
          prefix: '#### ',
          subfix: '',
          str: "Header 4"
        },
        h5: {
          prefix: '##### ',
          subfix: '',
          str: "Header 5"
        },
        h6: {
          prefix: '###### ',
          subfix: '',
          str: "Header 6"
        },
        quote: {
          prefix: '[quote= @',
          subfix: ']\n[/quote]',
          str: "username"
        },
        italic: {
          prefix: '_',
          subfix: '_',
          str: "italic"
        },
        bold: {
          prefix: '**',
          subfix: '**',
          str: "bold"
        },
        bolditalic: {
          prefix: '***',
          subfix: '***',
          str: "bold italic"
        },
        delline: {
          prefix: '~~',
          subfix: '~~',
          str: "delete line"
        },
        underline: {
          prefix: '<u>',
          subfix: '</u>',
          str: "underline"
        },
        superscript: {
          prefix: 'x<sup>',
          subfix: '</sup>',
          str: 'y'
        },
        subscript: {
          prefix: 'a<sub>',
          subfix: '</sub>',
          str: ''
        },
        table: {
          prefix: '',
          subfix: '',
          str: '| title      | description     |\n| ---------- | --------------- |\n| for-editor | markdown editor |\n'
        },
        img: {
          prefix: '![alt](',
          subfix: ')',
          str: 'url'
        },
        link: {
          prefix: '[title](',
          subfix: ')',
          str: 'url'
        },
        orderlist: {
          prefix: '\n1. ',
          subfix: '',
          str: 'item'
        },
        disorderlist: {
          prefix: '\n- ',
          subfix: '',
          str: 'item'
        },
        checklist: {
          prefix: '\n- [x] ',
          subfix: '',
          str: 'item'
        },
        inlinecode: {
          prefix: '`',
          subfix: '`',
          str: "inlinecode"
        },
        code: {
          prefix: '```',
          subfix: '\n\n```',
          str: 'language'
        },
        tab: {
          prefix: '  ',
          subfix: '',
          str: ''
        },
        spoiler: {
          prefix: "[spoiler]\n",
          subfix: "\n[/spoiler]",
          str: ""
        }
      };

      if (typeObj.hasOwnProperty(type)) {
        var value = (0, _text.insertText)(typeObj[type]);

        _this.props.onChange(value);
      }

      var otherLeftClick = {
        undo: _this.undo,
        redo: _this.redo,
        esc: _this.exitFullScreen
      };

      if (otherLeftClick.hasOwnProperty(type)) {
        otherLeftClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "exitFullScreen", function () {
      _this.setState({
        expand: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "rightToolbarClick", function (type) {
      var toolbarRightPreviewClick = function toolbarRightPreviewClick() {
        _this.setState({
          preview: !_this.state.preview
        });
      };

      var toolbarRightExpandClick = function toolbarRightExpandClick() {
        _this.setState({
          expand: !_this.state.expand
        });
      };

      var toolbarRightSubfieldClick = function toolbarRightSubfieldClick() {
        var _this$state5 = _this.state,
            preview = _this$state5.preview,
            subfield = _this$state5.subfield;

        if (subfield) {
          _this.reHeight();
        }

        if (preview) {
          if (subfield) {
            _this.setState({
              subfield: false,
              preview: false
            });
          } else {
            _this.setState({
              subfield: true
            });
          }
        } else {
          if (subfield) {
            _this.setState({
              subfield: false
            });
          } else {
            _this.setState({
              preview: true,
              subfield: true
            });
          }
        }
      };

      var rightClick = {
        preview: toolbarRightPreviewClick,
        expand: toolbarRightExpandClick,
        subfield: toolbarRightSubfieldClick
      };

      if (rightClick.hasOwnProperty(type)) {
        rightClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (e) {
      var value = e.target.value;

      _this.props.onChange(value);
    });

    _this.state = {
      lineIndex: 1,
      preview: false,
      expand: props.expand,
      subfield: false,
      history: [],
      historyIndex: 0,
      mobile: false,
      allowPrompt: true,
      areYouReallySure: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      this.textarea = document.getElementById("editor-textarea");
      this.blockEdit = document.getElementById("blockEdit");
      this.reHeight();
      this.focusText();
      this.textarea.scrollTop = this.textarea.scrollHeight;
      this.textarea.setSelectionRange(this.textarea.value.length, this.textarea.value.length);
      $("#editor-textarea").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "@${username}",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(_.default.get("MENTION_API"), {
              q: query
            }, callback);
          }
        }
      });
      $("#editor-textarea").on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event.target.value);
      });
      this.resize();
      window.addEventListener('resize', function () {
        _this2.resize();
      });
      $(window).on('beforeunload', function (e) {
        return _this2._areYouSure(e);
      });
      $(document).on("submit", "form", function (event) {
        console.log(event);
        $(window).off('beforeunload');
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(preProps) {
      var _this3 = this;

      var _this$state6 = this.state,
          historyIndex = _this$state6.historyIndex,
          history = _this$state6.history;
      var value = this.props.value;

      if (value !== preProps.value) {
        this.reHeight();
      }

      if (value !== history[historyIndex]) {
        window.clearTimeout(this.currentTimeout);
        this.currentTimeout = window.setTimeout(function () {
          _this3.saveHistory(value);
        }, 500);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var _this$state7 = this.state,
          preview = _this$state7.preview,
          expand = _this$state7.expand,
          subfield = _this$state7.subfield;
      var _this$props = this.props,
          value = _this$props.value,
          loading = _this$props.loading,
          height = _this$props.height,
          fontSize = _this$props.fontSize;
      var init = "**bold**\n_italic_\n***bold italic***\n~~delete line~~\n[link](url)\n![image by link](url)";
      var fullscreen = (0, _classnames.default)({
        'k-container': true,
        'k-fullscreen': expand
      });
      var editorClass = (0, _classnames.default)({
        'k-editor-edit': true,
        'k-panel': true,
        'k-active': preview && subfield,
        'k-edit-preview': preview && !subfield
      });
      var previewClass = (0, _classnames.default)({
        'k-panel': true,
        'k-editor-preview': true,
        'k-active': preview && subfield
      });
      return /*#__PURE__*/_react.default.createElement("div", {
        className: fullscreen,
        style: {
          height: height
        }
      }, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        expand: expand,
        subfield: subfield,
        preview: preview,
        onClickLeft: this.leftToolBarClick,
        onClickRight: this.rightToolbarClick,
        loading: loading
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor",
        style: {
          fontSize: fontSize
        }
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: editorClass,
        id: "blockEdit",
        onClick: this.focusText
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-block"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-content"
      }, /*#__PURE__*/_react.default.createElement("pre", {
        id: "true-value"
      }, value), /*#__PURE__*/_react.default.createElement("textarea", {
        value: value,
        placeholder: init,
        disabled: loading,
        id: "editor-textarea",
        onChange: function onChange(e) {
          return _this4.handleChange(e);
        },
        onKeyDown: this.onKeyDown
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: previewClass
      }, /*#__PURE__*/_react.default.createElement("div", {
        id: "k-preview",
        className: "k-preview k-markdown-preview",
        dangerouslySetInnerHTML: {
          __html: (0, _marked.default)(value === "" ? init : value)
        }
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-footer",
        style: {
          overflow: 'hidden',
          padding: '10px'
        }
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-sm pull-right",
        loading: this.props.loading
      }, this.props.submitLabel || gettext("Post")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm pull-right",
        disabled: this.props.loading,
        onClick: this.props.onCancel,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix visible-xs-block"
      }), /*#__PURE__*/_react.default.createElement(Protect, {
        canProtect: this.props.canProtect,
        disabled: this.props.loading,
        onProtect: this.props.onProtect,
        onUnprotect: this.props.onUnprotect,
        protect: this.props.protect
      })), /*#__PURE__*/_react.default.createElement(_attachments.default, {
        attachments: this.props.attachments,
        onAttachmentsChange: this.props.onAttachmentsChange,
        placeholder: this.props.placeholder,
        replaceSelection: this.replaceSelection
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

_defineProperty(_default, "defaultProps", {
  fontSize: '18px',
  expand: true
});

function Protect(props) {
  if (!props.canProtect) return null;
  var label = props.protect ? gettext("Protected") : gettext("Protect");
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-icon btn-default btn-protect btn-sm pull-right",
    disabled: props.disabled,
    onClick: props.protect ? props.onUnprotect : props.onProtect,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.protect ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-md hidden-lg"
  }, label));
}

},{"../..":296,"../../services/marked":364,"../button":10,"./attachments":40,"./components/toolbar":44,"./textutils":46,"./utils/helper/keyboard":47,"./utils/helper/text":48,"classnames":1,"react":"react"}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
exports.textareaId = void 0;
var textareaId = "editor-textarea";
exports.textareaId = textareaId;

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();

  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == "0") {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();

  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart("character", selectionRange.start);
    range.moveEnd("character", selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],47:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var KEY_CODE = {
  ESC: 27,
  F8: 119,
  F9: 120,
  F10: 121,
  F11: 122,
  F12: 123,
  B: 66,
  I: 73,
  H: 72,
  U: 85,
  D: 68,
  M: 77,
  Q: 81,
  O: 79,
  L: 76,
  S: 83,
  Z: 90,
  Y: 89,
  C: 67,
  T: 84,
  R: 82,
  DELETE: 8,
  TAB: 9,
  ENTER: 13,
  ONE: 97,
  TWO: 98,
  THREE: 99,
  FOUR: 100,
  FIVE: 101,
  SIX: 102,
  _ONE: 49,
  _TWO: 50,
  _THREE: 51,
  _FOUR: 52,
  _FIVE: 53,
  _SIX: 54
};

var _default = function _default(e, func) {
  if (!(e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {
    switch (e.keyCode) {
      case KEY_CODE.TAB:
        {
          e.preventDefault();
          func('tab');
          break;
        }

      case KEY_CODE.ESC:
        {
          e.preventDefault();
          func('esc');
          break;
        }

      default:
        {
          return;
        }
    }
  } else if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {
    // ctrl +
    switch (e.keyCode) {
      case KEY_CODE.Z:
        {
          // Z
          e.preventDefault();
          func('undo');
          break;
        }

      case KEY_CODE.Y:
        {
          // Y
          e.preventDefault();
          func('redo');
          break;
        }

      case KEY_CODE.B:
        {
          // Z
          e.preventDefault();
          func('bold');
          break;
        }

      case KEY_CODE.I:
        {
          // Y
          e.preventDefault();
          func('italic');
          break;
        }
      // case KEY_CODE.U: {
      //   // Y
      //   e.preventDefault()
      //   func('underline')
      //   break
      // }

      default:
        {
          return;
        }
    }
  }
};

exports.default = _default;

},{}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.insertText = insertText;

function insertText(params) {
  var $vm = document.getElementById("editor-textarea");
  var prefix = params.prefix,
      _params$str = params.str,
      str = _params$str === void 0 ? '' : _params$str,
      _params$subfix = params.subfix,
      subfix = _params$subfix === void 0 ? '' : _params$subfix;
  var value = $vm.value;

  if ($vm.selectionStart || $vm.selectionStart === 0) {
    var start = $vm.selectionStart;
    var end = $vm.selectionEnd;
    var restoreTop = $vm.scrollTop;

    if (start === end) {
      $vm.value = value.substring(0, start) + prefix + str + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length + str.length;
    } else {
      $vm.value = value.substring(0, start) + prefix + value.substring(start, end) + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length;
    }

    $vm.focus();

    if (restoreTop >= 0) {
      $vm.scrollTop = restoreTop;
    }
  }

  return $vm.value;
}

},{}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";

      if (this.isValidated()) {
        className += " has-feedback";

        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }

      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this = this;

      if (this.props.validation) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "help-block errors"
        }, this.props.validation.map(function (error, i) {
          return /*#__PURE__*/_react.default.createElement("p", {
            key: _this.props.for + "FeedbackItem" + i
          }, error);
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return /*#__PURE__*/_react.default.createElement("span", {
          id: this.props.for + "_status",
          className: "sr-only"
        }, this.props.validation ? gettext("(error)") : gettext("(success)"));
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("label", {
        className: "control-label " + (this.props.labelClass || ""),
        htmlFor: this.props.for || ""
      }, this.props.label + ":"), /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.controlClass || ""
      }, this.props.children, this.getFeedbackDescription(), this.getFeedback(), this.getHelpText(), this.props.extra || null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _validators = require("../utils/validators");

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var validateRequired = (0, _validators.required)();

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "bindInput", function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    });

    _defineProperty(_assertThisInitialized(_this), "changeValue", function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }

      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({
          isLoading: true
        });

        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({
              isLoading: false
            });

            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({
              isLoading: false
            });

            _this.handleError(rejection);
          });
        } else {
          _this.setState({
            isLoading: false
          });
        }
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "validate",
    value: function validate() {
      var errors = {};

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };
      var validatedFields = []; // add required fields to validation

      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      } // add optional fields to validation


      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      } // validate fields values


      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();

      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };
      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);

            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);

          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/snackbar":371,"../utils/validators":387,"react":"react"}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],52:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "loader"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "loader-spinning-wheel"
  }));
}

},{"react":"react"}],53:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BestAnswerSelect = BestAnswerSelect;
exports.PollSelect = PollSelect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.props.onSuccess(success);

      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _this.props.onError(rejection);
    });

    _defineProperty(_assertThisInitialized(_this), "onBestAnswerChange", function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPollChange", function (event) {
      _this.changeValue("poll", event.target.value);
    });

    _this.state = {
      isLoading: false,
      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = confirm(gettext("Are you sure you want to delete all polls?"));
        return confirmation;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(BestAnswerSelect, {
        choices: this.props.bestAnswers,
        onChange: this.onBestAnswerChange,
        value: this.state.bestAnswer
      }), /*#__PURE__*/_react.default.createElement(PollSelect, {
        choices: this.props.polls,
        onChange: this.onPollChange,
        value: this.state.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
      onChange = _ref.onChange,
      value = _ref.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Best answer"),
    helpText: gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),
    for: "id_best_answer"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_best_answer",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

function PollSelect(_ref2) {
  var choices = _ref2.choices,
      onChange = _ref2.onChange,
      value = _ref2.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Poll"),
    helpText: gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
    for: "id_poll"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_poll",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

},{"../services/ajax":359,"../services/modal":366,"./button":10,"./form":50,"./form-group":49,"react":"react"}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _oneBox = _interopRequireDefault(require("../services/one-box"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("article", {
        className: "misago-markup",
        dangerouslySetInnerHTML: {
          __html: this.props.markup
        },
        ref: function ref(node) {
          _this.documentNode = node;
        }
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

},{"../services/one-box":367,"react":"react"}],55:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-loader"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":52,"react":"react"}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("./panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_PanelMessage) {
  _inherits(_default, _PanelMessage);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return _default;
}(_panelMessage.default);

exports.default = _default;

},{"./panel-message":88,"react":"react"}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var MAX_RESULTS = 5;

function _default(data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });
  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
}

},{}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FOOTER = exports.RESULT = exports.HEADER = void 0;
var HEADER = "HEADER";
exports.HEADER = HEADER;
var RESULT = "RESULT";
exports.RESULT = RESULT;
var FOOTER = "FOOTER";
exports.FOOTER = FOOTER;

},{}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _input = _interopRequireDefault(require("./input"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      onChange = _ref.onChange,
      query = _ref.query;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-search-results",
    role: "menu"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement(_input.default, {
    value: query,
    onChange: onChange
  })), children);
}

},{"./input":63,"react":"react"}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-message"
  }, gettext("Search returned no results."));
}

},{"react":"react"}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _constants = require("./constants");

function _default(results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
}

function flattenProviders(results, flatlist) {
  var arrayLength = results.length;

  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];
    flatlist.push({
      provider: provider,
      type: _constants.HEADER
    });
    flattenProvider(provider, flatlist);
  }
}

function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;

  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants.RESULT
    });
  }

  flatlist.push({
    provider: provider,
    type: _constants.FOOTER
  });
}

},{"./constants":58}],62:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("./constants");

var _dropdownMenu = _interopRequireDefault(require("./dropdown-menu"));

var _empty = _interopRequireDefault(require("./empty"));

var _loader = _interopRequireDefault(require("./loader"));

var _result = _interopRequireDefault(require("./result"));

var _flattenResults = _interopRequireDefault(require("./flatten-results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(_ref) {
  var isLoading = _ref.isLoading,
      onChange = _ref.onChange,
      results = _ref.results,
      query = _ref.query;

  if (!query.trim().length) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    });
  }

  if (results.length) {
    var flatResults = (0, _flattenResults.default)(results);
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, flatResults.map(function (props) {
      var type = props.type,
          provider = props.provider,
          result = props.result;

      if (type === _constants.RESULT) {
        return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
          key: [provider.id, type, result.id].join("_")
        }, props));
      }

      return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
        key: [provider.id, type].join("_"),
        query: query
      }, props));
    }));
  } else if (isLoading) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
  }

  return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
    onChange: onChange,
    query: query
  }, /*#__PURE__*/_react.default.createElement(_empty.default, null));
}

},{"./constants":58,"./dropdown-menu":59,"./empty":60,"./flatten-results":61,"./loader":64,"./result":67,"react":"react"}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var value = _ref.value,
      onChange = _ref.onChange;
  return /*#__PURE__*/_react.default.createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    "aria-controls": "dropdown-menu dropdown-search-results",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: gettext("Search"),
    role: "combobox",
    type: "text"
  });
}

},{"react":"react"}],64:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var message = _ref.message;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":52,"react":"react"}],65:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      query = _ref.query;
  var url = provider.url + "?q=" + encodeURI(query);
  var label = ngettext('See full "%(provider)s" results page with %(count)s result.', 'See full "%(provider)s" results page with %(count)s results.', provider.count);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-footer"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: url
  }, interpolate(label, {
    count: provider.count,
    provider: provider.name
  }, true)));
}

},{"react":"react"}],66:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-header"
  }, provider.name);
}

},{"react":"react"}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("../constants");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _result = _interopRequireDefault(require("./result"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result,
      type = _ref.type,
      query = _ref.query;

  if (type === _constants.HEADER) {
    return /*#__PURE__*/_react.default.createElement(_header.default, {
      provider: provider
    });
  } else if (type === _constants.FOOTER) {
    return /*#__PURE__*/_react.default.createElement(_footer.default, {
      provider: provider,
      query: query
    });
  }

  return /*#__PURE__*/_react.default.createElement(_result.default, {
    provider: provider,
    result: result
  });
}

},{"../constants":58,"./footer":65,"./header":66,"./result":68,"react":"react"}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _thread = _interopRequireDefault(require("./thread"));

var _user = _interopRequireDefault(require("./user"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result;

  if (provider.id === "threads") {
    return /*#__PURE__*/_react.default.createElement(_thread.default, {
      result: result
    });
  }

  return /*#__PURE__*/_react.default.createElement(_user.default, {
    result: result
  });
}

},{"./thread":69,"./user":70,"react":"react"}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var poster = result.poster,
      thread = result.thread;
  var footer = gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url.index,
    className: "dropdown-search-thread"
  }, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-content"
  }, $(result.content).text()), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-footer"
  }, interpolate(footer, {
    category: result.category.name,
    posted_on: (0, _moment.default)(result.posted_on).format("LL"),
    poster: result.poster_name
  }, true))));
}

},{"moment":"moment","react":"react"}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var rank = result.rank;
  var detail = gettext("%(title)s, joined on %(joined_on)s");
  var title = result.title || rank.title || rank.name;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url,
    className: "dropdown-search-user"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 38,
    user: result
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h5", {
    className: "media-heading"
  }, result.username), /*#__PURE__*/_react.default.createElement("small", null, interpolate(detail, {
    title: title,
    joined_on: (0, _moment.default)(result.joined_on).format("LL")
  }, true))))));
}

},{"../../../avatar":8,"moment":"moment","react":"react"}],71:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _ = _interopRequireDefault(require("../.."));

var _cleanResults = _interopRequireDefault(require("./clean-results"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this);

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector("input").focus();
          }, 100);
        }

        return {
          isOpen: !prevState.isOpen
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDocumentMouseDown", function (ev) {
      var closeResults = true;
      var node = ev.target;

      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }

        node = node.parentNode;
      }

      if (closeResults) {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEscape", function (ev) {
      if (ev.key === "Escape") {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var query = ev.target.value;

      _this.setState({
        query: query
      });

      _this.loadResults(query.trim());
    });

    _this.state = {
      isLoading: false,
      isOpen: false,
      query: "",
      results: []
    };
    _this.intervalId = null;
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.onDocumentMouseDown);
      document.addEventListener("keydown", this.onEscape);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.onDocumentMouseDown);
      document.removeEventListener("keydown", this.onEscape);
    }
  }, {
    key: "loadResults",
    value: function loadResults(query) {
      var _this2 = this;

      if (!query.length) return;
      var delay = 300 + Math.random() * 300;

      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }

      this.setState({
        isLoading: true
      });
      this.intervalId = window.setTimeout(function () {
        _ajax.default.get(_.default.get("SEARCH_API"), {
          q: query
        }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0, _cleanResults.default)(data)
          });
        }, function (rejection) {
          _snackbar.default.apiError(rejection);

          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className,
        ref: function ref(container) {
          return _this3.container = container;
        }
      }, /*#__PURE__*/_react.default.createElement("a", {
        "aria-haspopup": "true",
        "aria-expanded": "false",
        className: "navbar-icon",
        "data-toggle": "dropdown",
        href: _.default.get("SEARCH_URL"),
        onClick: this.onToggle
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "search")), /*#__PURE__*/_react.default.createElement(_dropdown.default, {
        isLoading: this.state.isLoading,
        onChange: this.onChange,
        results: this.state.results,
        query: this.state.query
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"./clean-results":57,"./dropdown":62,"react":"react"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../../panel-loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
}

},{"../../panel-loader":87,"react":"react"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), {
          next_change: this.props.options.next_on.fromNow()
        }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
        helpText: this.getHelpText(),
        message: gettext("You can't change your username at the moment.")
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../panel-message":88,"react":"react"}],74:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      username: "",
      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);
        phrases.push(interpolate(message, {
          changes_left: this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes become available again after %(name_changes_expire)s day.", "Used changes become available again after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          name_changes_expire: this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(" ") : null;
    }
  }, {
    key: "clean",
    value: function clean() {
      var errors = this.validate();

      if (errors.username) {
        _snackbar.default.error(errors.username[0]);

        return false;
      }

      if (this.state.username.trim() === this.props.user.username) {
        _snackbar.default.info(gettext("Your new username is same as current one."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        username: ""
      });
      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username",
        helpText: this.getHelpText()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _formLoading = _interopRequireDefault(require("./form-loading"));

var _formLocked = _interopRequireDefault(require("./form-locked"));

var _form = _interopRequireDefault(require("./form"));

var _root = _interopRequireDefault(require("../../username-history/root"));

var _ = _interopRequireDefault(require("../../.."));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onComplete", function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)({
        username: username,
        slug: slug
      }, _this.props.user, _this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar.default.success(gettext("Your username has been changed successfully."));
    });

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax.default.get(this.props.user.api.username), _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.user.id
      })]).then(function (data) {
        _store.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment.default)(data[0].next_on) : null
          }
        });
      });
    }
  }, {
    key: "getChangeForm",
    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(_formLoading.default, null);
      }

      if (this.state.options.changes_left === 0) {
        return /*#__PURE__*/_react.default.createElement(_formLocked.default, {
          options: this.state.options
        });
      }

      return /*#__PURE__*/_react.default.createElement(_form.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, this.getChangeForm(), /*#__PURE__*/_react.default.createElement(_root.default, {
        changes: this.props["username-history"],
        isLoaded: this.state.isLoaded
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/username-history":357,"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/page-title":368,"../../../services/snackbar":371,"../../../services/store":372,"../../username-history/root":274,"./form":74,"./form-loading":72,"./form-locked":73,"moment":"moment","react":"react"}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onPasswordChange", function (event) {
      _this.setState({
        password: event.target.value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      event.preventDefault();
      var _this$state = _this.state,
          isLoading = _this$state.isLoading,
          password = _this$state.password;
      var user = _this.props.user;

      if (password.length == 0) {
        _snackbar.default.error(gettext("Enter your password to confirm account deletion."));

        return false;
      }

      if (isLoading) return false;

      _this.setState({
        isLoading: true
      });

      _ajax.default.post(user.api.delete, {
        password: password
      }).then(function (success) {
        window.location.href = _.default.get("MISAGO_PATH");
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        if (rejection.password) {
          _snackbar.default.error(rejection.password[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Delete account"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-danger panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Delete account"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Stored IP addresses associated with content that you have posted will be deleted.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your username will become available for other user to rename to or for new user to register their account with.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your e-mail will become available for use in new account registration.")), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement("p", null, gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts."))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "input-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        name: "password-confirmation",
        type: "password",
        placeholder: gettext("Enter your password to confirm account deletion."),
        value: this.state.password,
        onChange: this.onPasswordChange
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "input-group-btn"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading
      }, gettext("Delete my account")))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"react":"react"}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DownloadData = /*#__PURE__*/function (_React$Component) {
  _inherits(DownloadData, _React$Component);

  var _super = _createSuper(DownloadData);

  function DownloadData(props) {
    var _this;

    _classCallCheck(this, DownloadData);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleLoadDownloads", function () {
      _ajax.default.get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleRequestDataDownload", function () {
      _this.setState({
        isSubmiting: true
      });

      _ajax.default.post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();

        _snackbar.default.success(gettext("Your request for data download has been registered."));

        _this.setState({
          isSubmiting: false
        });
      }, function (rejection) {
        console.log(rejection);

        _snackbar.default.apiError(rejection);

        _this.setState({
          isSubmiting: false
        });
      });
    });

    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }

  _createClass(DownloadData, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Download your data"),
        parent: gettext("Change your options")
      });

      this.handleLoadDownloads();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Download your data"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, gettext('To download your data from the site, click the "Request data download" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.')), /*#__PURE__*/_react.default.createElement("p", null, gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired."))), /*#__PURE__*/_react.default.createElement("table", {
        className: "table"
      }, /*#__PURE__*/_react.default.createElement("thead", null, /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("th", null, gettext("Requested on")), /*#__PURE__*/_react.default.createElement("th", {
        className: "col-md-4"
      }, gettext("Download")))), /*#__PURE__*/_react.default.createElement("tbody", null, this.state.downloads.map(function (item) {
        return /*#__PURE__*/_react.default.createElement("tr", {
          key: item.id
        }, /*#__PURE__*/_react.default.createElement("td", {
          style: rowStyle
        }, (0, _moment.default)(item.requested_on).fromNow()), /*#__PURE__*/_react.default.createElement("td", null, /*#__PURE__*/_react.default.createElement(DownloadButton, {
          exportFile: item.file,
          status: item.status
        })));
      }), this.state.downloads.length == 0 ? /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("td", {
        colSpan: "2"
      }, gettext("You have no data downloads."))) : null)), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isSubmiting,
        type: "button",
        onClick: this.handleRequestDataDownload
      }, gettext("Request data download")))));
    }
  }]);

  return DownloadData;
}(_react.default.Component);

exports.default = DownloadData;
var rowStyle = {
  verticalAlign: "middle"
};
var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;

var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
      status = _ref.status;

  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return /*#__PURE__*/_react.default.createElement(_button.default, {
      className: "btn-info btn-sm btn-block",
      disabled: true,
      type: "button"
    }, gettext("Download is being prepared"));
  }

  if (exportFile) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "btn btn-success btn-sm btn-block",
      href: exportFile
    }, gettext("Download your data"));
  }

  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: true,
    type: "button"
  }, gettext("Download is expired"));
};

},{"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../button":10,"moment":"moment","react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../edit-details"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function () {
      _snackbar.default.info(gettext("Your details have been updated."));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Edit details"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
        api: this.props.user.api.edit_details,
        onSuccess: this.onSuccess
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/page-title":368,"../../services/snackbar":371,"../edit-details":34,"react":"react"}],79:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _select = _interopRequireDefault(require("../select"));

var _yesNoSwitch = _interopRequireDefault(require("../yes-no-switch"));

var _auth = require("../../reducers/auth");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      is_hiding_presence: props.user.is_hiding_presence,
      limits_private_thread_invites_to: props.user.limits_private_thread_invites_to,
      subscribe_to_started_threads: props.user.subscribe_to_started_threads,
      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,
      errors: {}
    };
    _this.privateThreadInvitesChoices = [{
      value: 0,
      icon: "help_outline",
      label: gettext("Everybody")
    }, {
      value: 1,
      icon: "done_all",
      label: gettext("Users I follow")
    }, {
      value: 2,
      icon: "highlight_off",
      label: gettext("Nobody")
    }];
    _this.subscribeToChoices = [{
      value: 0,
      icon: "star_border",
      label: gettext("No")
    }, {
      value: 1,
      icon: "star_half",
      label: gettext("Notify")
    }, {
      value: 2,
      icon: "star",
      label: gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _store.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));

      _snackbar.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change forum options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Privacy settings")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Hide my presence"),
        helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
        for: "id_is_hiding_presence"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_hiding_presence",
        disabled: this.state.isLoading,
        iconOn: "visibility_off",
        iconOff: "visibility",
        labelOn: gettext("Hide my presence from other users"),
        labelOff: gettext("Show my presence to other users"),
        onChange: this.bindInput("is_hiding_presence"),
        value: this.state.is_hiding_presence
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Private thread invitations"),
        for: "id_limits_private_thread_invites_to"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_limits_private_thread_invites_to",
        disabled: this.state.isLoading,
        onChange: this.bindInput("limits_private_thread_invites_to"),
        value: this.state.limits_private_thread_invites_to,
        choices: this.privateThreadInvitesChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Automatic subscriptions")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I start"),
        for: "id_subscribe_to_started_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_started_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_started_threads"),
        value: this.state.subscribe_to_started_threads,
        choices: this.subscribeToChoices
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I reply to"),
        for: "id_subscribe_to_replied_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_replied_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_replied_threads"),
        value: this.state.subscribe_to_replied_threads,
        choices: this.subscribeToChoices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../reducers/auth":344,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../form":50,"../form-group":49,"../select":204,"../yes-no-switch":294,"react":"react"}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SideNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      className: "list-group-item",
      activeClassName: "active",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, option.icon), option.name);
  }));
}

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.className || "dropdown-menu stick-to-bottom",
    role: "menu"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + option.component + "/",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon hidden-sm"
    }, option.icon), option.name));
  }));
}

},{"../..":296,"../li":51,"react":"react","react-router":"react-router"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _navs = require("./navs");

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _editDetails = _interopRequireDefault(require("./edit-details"));

var _downloadData = _interopRequireDefault(require("./download-data"));

var _forumOptions = _interopRequireDefault(require("./forum-options"));

var _root = _interopRequireDefault(require("./change-username/root"));

var _root2 = _interopRequireDefault(require("./sign-in-credentials/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-options"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Change your options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs visible-xs-block visible-sm-block"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        className: "nav nav-pills",
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      }))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    "username-history": store["username-history"]
  };
}

function paths() {
  var SSO_ENABLED = _.default.get("SETTINGS").enable_sso;

  var paths = [{
    path: _.default.get("USERCP_URL") + "forum-options/",
    component: (0, _reactRedux.connect)(select)(_forumOptions.default)
  }, {
    path: _.default.get("USERCP_URL") + "edit-details/",
    component: (0, _reactRedux.connect)(select)(_editDetails.default)
  }];

  if (!SSO_ENABLED) {
    paths.push({
      path: _.default.get("USERCP_URL") + "change-username/",
      component: (0, _reactRedux.connect)(select)(_root.default)
    });
    paths.push({
      path: _.default.get("USERCP_URL") + "sign-in-credentials/",
      component: (0, _reactRedux.connect)(select)(_root2.default)
    });
  }

  if (_.default.get("ENABLE_DOWNLOAD_OWN_DATA")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "download-data/",
      component: (0, _reactRedux.connect)(select)(_downloadData.default)
    });
  }

  if (!SSO_ENABLED && _.default.get("ENABLE_DELETE_OWN_ACCOUNT")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "delete-account/",
      component: (0, _reactRedux.connect)(select)(_deleteAccount.default)
    });
  }

  return paths;
}

},{"../..":296,"../dropdown-toggle":29,"../with-dropdown":293,"./change-username/root":75,"./delete-account":76,"./download-data":77,"./edit-details":78,"./forum-options":79,"./navs":80,"./sign-in-credentials/root":85,"react":"react","react-redux":"react-redux"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change email or password"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You need to set a password for your account to be able to change your username or email.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-primary",
    href: _.default.get("FORGOTTEN_PASSWORD_URL")
  }, gettext("Set password"))))));
};

var _default = UnusablePasswordMessage;
exports.default = _default;

},{"../../..":296,"react":"react"}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_email: "",
      password: "",
      validators: {
        new_email: [validators.email()],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_email) {
        _snackbar.default.error(errors.new_email[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_email: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar.default.error(rejection.new_email);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change e-mail address"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New e-mail"),
        for: "id_new_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_new_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_email"),
        value: this.state.new_email
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change e-mail")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_password: "",
      repeat_password: "",
      password: "",
      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_password) {
        _snackbar.default.error(errors.new_password[0]);

        return false;
      }

      if (this.state.new_password !== this.state.repeat_password) {
        _snackbar.default.error(gettext("New passwords are different."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_password: "",
        repeat_password: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar.default.error(rejection.new_password);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change password"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New password"),
        for: "id_new_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_new_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_password"),
        value: this.state.new_password
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Repeat password"),
        for: "id_repeat_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_repeat_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("repeat_password"),
        value: this.state.repeat_password
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change password")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":359,"../../../services/snackbar":371,"../../button":10,"../../form":50,"../../form-group":49,"react":"react"}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changeEmail = _interopRequireDefault(require("./change-email"));

var _changePassword = _interopRequireDefault(require("./change-password"));

var _ = _interopRequireDefault(require("../../.."));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _UnusablePasswordMessage = _interopRequireDefault(require("./UnusablePasswordMessage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return /*#__PURE__*/_react.default.createElement(_UnusablePasswordMessage.default, null);
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_changeEmail.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_changePassword.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-line"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning"), /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Change forgotten password"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../services/page-title":368,"./UnusablePasswordMessage":82,"./change-email":83,"./change-password":84,"react":"react"}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _stringCount = _interopRequireDefault(require("../utils/string-count"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount.default)(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }

      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../utils/string-count":386,"react":"react"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-body-loading"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, {
        className: "loader loader-spaced"
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":52,"react":"react"}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-message-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],89:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("../add-participant"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "person_add"), gettext("Add participant")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/modal":366,"../add-participant":6,"react":"react"}],90:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var participants = _interopRequireWildcard(require("../../../reducers/participants"));

var _thread = require("../../../reducers/thread");

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function leave(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }]).then(function () {
    _snackbar.default.success(gettext("You have left this thread."));

    window.setTimeout(function () {
      window.location = _.default.get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "owner",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

},{"../../..":296,"../../../reducers/participants":345,"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UserStatus = UserStatus;

var _react = _interopRequireDefault(require("react"));

var _makeOwner = _interopRequireDefault(require("./make-owner"));

var _remove = _interopRequireDefault(require("./remove"));

var _avatar = _interopRequireDefault(require("../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var participant = props.participant;
  var className = "btn btn-default";

  if (participant.is_owner) {
    className = "btn btn-primary";
  }

  className += " btn-user btn-block";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-3 col-md-2 participant-card"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: className,
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "34",
    user: participant
  }), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, participant.username)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(UserStatus, {
    isOwner: participant.is_owner
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header"
  }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: participant.url
  }, gettext("See profile"))), /*#__PURE__*/_react.default.createElement("li", {
    role: "separator",
    className: "divider"
  }), /*#__PURE__*/_react.default.createElement(_makeOwner.default, props), /*#__PURE__*/_react.default.createElement(_remove.default, props))));
}

function UserStatus(_ref) {
  var isOwner = _ref.isOwner;
  if (!isOwner) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header dropdown-header-owner"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "start"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, gettext("Thread owner")));
}

},{"../../avatar":8,"./make-owner":93,"./remove":94,"react":"react"}],92:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var participants = _ref.participants,
      thread = _ref.thread,
      user = _ref.user,
      userIsOwner = _ref.userIsOwner;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "participants-cards"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, participants.map(function (participant) {
    return /*#__PURE__*/_react.default.createElement(_card.default, {
      key: participant.id,
      participant: participant,
      thread: thread,
      user: user,
      userIsOwner: userIsOwner
    });
  })));
}

},{"./card":91,"react":"react"}],93:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;
      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Make owner")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":90,"react":"react"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;
      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, this.isUser ? gettext("Leave thread") : gettext("Remove")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":90,"react":"react"}],95:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getUserIsOwner = getUserIsOwner;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("./add-participant"));

var _cardsList = _interopRequireDefault(require("./cards-list"));

var utils = _interopRequireWildcard(require("./utils"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.participants.length) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-participants"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_cardsList.default, _extends({
    userIsOwner: getUserIsOwner(props.user, props.participants)
  }, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-9"
  }, /*#__PURE__*/_react.default.createElement("p", null, utils.getParticipantsCopy(props.participants))))));
}

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./add-participant":89,"./cards-list":92,"./utils":96,"react":"react"}],96:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;

function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);
  return interpolate(message, {
    users: count
  }, true);
}

},{}],97:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LABELS = exports.STYLES = void 0;

var _react = _interopRequireDefault(require("react"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];
exports.STYLES = STYLES;
var LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];
exports.LABELS = LABELS;

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn.default.load().then(function () {
        _this2.setState({
          loaded: true
        });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn.default.scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;
      var score = this.getScore(this.props.password, this.props.inputs);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "help-block password-strength"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar " + STYLES[score],
        style: {
          width: 20 + 20 * score + "%"
        },
        role: "progress-bar",
        "aria-valuenow": score,
        "aria-valuemin": "0",
        "aria-valuemax": "4"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, LABELS[score]))), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-small"
      }, LABELS[score]));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/zxcvbn":373,"react":"react"}],98:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateRandomHash = generateRandomHash;
exports.PollChoice = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onAdd", function () {
      var choices = _this.props.choices.slice();

      choices.push({
        hash: generateRandomHash(),
        label: ""
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });

      _this.props.setChoices(choices);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-choices-control"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.choices.map(function (choice) {
        return /*#__PURE__*/_react.default.createElement(PollChoice, {
          canDelete: _this2.props.choices.length > 2,
          choice: choice,
          disabled: _this2.props.disabled,
          key: choice.hash,
          onChange: _this2.onChange,
          onDelete: _this2.onDelete
        });
      })), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        disabled: this.props.disabled,
        onClick: this.onAdd,
        type: "button"
      }, gettext("Add choice")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var PollChoice = /*#__PURE__*/function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  var _super2 = _createSuper(PollChoice);

  function PollChoice() {
    var _this3;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onChange", function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this3), "onDelete", function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));

      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    });

    return _this3;
  }

  _createClass(PollChoice, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn",
        disabled: !this.props.canDelete || this.props.disabled,
        onClick: this.onDelete,
        title: gettext("Delete this choice"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "close")), /*#__PURE__*/_react.default.createElement("input", {
        disabled: this.props.disabled,
        maxLength: "255",
        placeholder: gettext("choice label"),
        type: "text",
        onChange: this.onChange,
        value: this.props.choice.label
      }));
    }
  }]);

  return PollChoice;
}(_react.default.Component);

exports.PollChoice = PollChoice;

function generateRandomHash() {
  var randomHash = "";

  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, "").substr(1, 12);
  }

  return randomHash;
}

},{"react":"react"}],99:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollPublicSwitch = PollPublicSwitch;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _choicesControl = _interopRequireDefault(require("./choices-control"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setChoices", function (choices) {
      var errors = Object.assign({}, errors, {
        choices: null
      });

      _this.setState({
        choices: choices,
        errors: errors
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    var poll = props.poll || {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };
    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,
      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,
      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar.default.success(gettext("Poll has been posted."));
      }

      _posting.default.close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          errors: Object.assign({}, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Question and choices")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll question"),
        for: "id_questions",
        validation: this.state.errors.question
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_questions",
        onChange: this.bindInput("question"),
        type: "text",
        maxLength: "255",
        value: this.state.question
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Available choices"),
        validation: this.state.errors.choices
      }, /*#__PURE__*/_react.default.createElement(_choicesControl.default, {
        choices: this.state.choices,
        disabled: this.state.isLoading,
        setChoices: this.setChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Voting")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll length"),
        helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
        for: "id_length",
        validation: this.state.errors.length
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_length",
        onChange: this.bindInput("length"),
        type: "text",
        value: this.state.length
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allowed choices"),
        for: "id_allowed_choices",
        validation: this.state.errors.allowed_choices
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_allowed_choices",
        onChange: this.bindInput("allowed_choices"),
        type: "text",
        maxLength: "255",
        value: this.state.allowed_choices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement(PollPublicSwitch, {
        bindInput: this.bindInput,
        disabled: this.state.isLoading,
        isEdit: this.state.isEdit,
        value: this.state.is_public
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allow vote changes"),
        for: "id_allow_revotes"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_allow_revotes",
        disabled: this.state.isLoading,
        iconOn: "check",
        iconOff: "close",
        labelOn: gettext("Allow participants to change their vote"),
        labelOff: gettext("Don't allow participants to change their vote"),
        onChange: this.bindInput("allow_revotes"),
        value: this.state.allow_revotes
      })))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.isLoading,
        onClick: this.onCancel,
        type: "button"
      }, gettext("Cancel")), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, this.state.isEdit ? gettext("Save changes") : gettext("Post poll")))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function PollPublicSwitch(props) {
  if (props.isEdit) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6"
  }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Make voting public"),
    helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
    for: "id_is_public"
  }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
    id: "id_is_public",
    disabled: props.disabled,
    iconOn: "visibility",
    iconOff: "visibility_off",
    labelOn: gettext("Votes are public"),
    labelOff: gettext("Votes are hidden"),
    onChange: props.bindInput("is_public"),
    value: props.value
  })));
}

},{"../../../reducers/poll":346,"../../../services/ajax":359,"../../../services/posting":370,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../../form-group":49,"../../yes-no-switch":294,"./choices-control":98,"react":"react"}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "Poll", {
  enumerable: true,
  get: function get() {
    return _poll.default;
  }
});
Object.defineProperty(exports, "PollForm", {
  enumerable: true,
  get: function get() {
    return _form.default;
  }
});

var _poll = _interopRequireDefault(require("./poll"));

var _form = _interopRequireDefault(require("./form"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./form":99,"./poll":102}],101:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-details"
  }, /*#__PURE__*/_react.default.createElement(PollVotes, {
    votes: props.poll.votes
  }), /*#__PURE__*/_react.default.createElement(PollLength, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollIsPublic, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollCreation, {
    poll: props.poll
  }));
}

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(poll.url.poster),
      user: (0, _escapeHtml.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.endsOn.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-votes"
  }, label);
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-public"
  }, gettext("Votes are public."));
}

},{"../../utils/escape-html":378,"react":"react"}],102:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getIsPollOver = getIsPollOver;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _results = _interopRequireDefault(require("./results"));

var _voting = _interopRequireDefault(require("./voting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showResults", function () {
      _this.setState({
        showResults: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showVoting", function () {
      _this.setState({
        showResults: false
      });
    });

    var showResults = true;

    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;
      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return /*#__PURE__*/_react.default.createElement(_voting.default, _extends({
          showResults: this.showResults
        }, this.props));
      } else {
        return /*#__PURE__*/_react.default.createElement(_results.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment.default)().isAfter(poll.endsOn);
  }

  return false;
}

},{"./results":104,"./voting":108,"moment":"moment","react":"react"}],103:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "poll-choices-bars"
  }, props.poll.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(PollChoice, {
      choice: choice,
      key: choice.hash,
      poll: props.poll
    });
  }));
}

function PollChoice(props) {
  var proc = 0;

  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return /*#__PURE__*/_react.default.createElement("dl", {
    className: "dl-horizontal"
  }, /*#__PURE__*/_react.default.createElement("dt", null, props.choice.label), /*#__PURE__*/_react.default.createElement("dd", null, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress-bar",
    role: "progressbar",
    "aria-valuenow": proc,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    style: {
      width: proc + "%"
    }
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "sr-only"
  }, getVotesLabel(props.votes, props.proc)))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-chart"
  }, /*#__PURE__*/_react.default.createElement(ChoiceVotes, {
    proc: proc,
    votes: props.choice.votes
  }), /*#__PURE__*/_react.default.createElement(UserChoice, {
    selected: props.choice.selected
  }))));
}

function ChoiceVotes(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-votes"
  }, getVotesLabel(props.votes, props.proc));
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);
  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-selected"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), gettext("Your choice."));
}

},{"react":"react"}],104:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _chart = _interopRequireDefault(require("./chart"));

var _options = _interopRequireDefault(require("./options"));

var _info = _interopRequireDefault(require("../info"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-poll"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("h2", null, props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_chart.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_options.default, {
    isPollOver: props.isPollOver,
    poll: props.poll,
    showVoting: props.showVoting,
    thread: props.thread
  })));
}

},{"../info":101,"./chart":103,"./options":106,"react":"react"}],105:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Poll votes"))), /*#__PURE__*/_react.default.createElement(ModalBody, {
        data: this.state.data,
        error: this.state.error,
        isLoading: this.state.isLoading
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalBody(props) {
  if (props.isLoading) {
    return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
  } else if (props.error) {
    return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
      icon: "error_outline",
      message: props.error
    });
  }

  return /*#__PURE__*/_react.default.createElement(ChoicesList, {
    data: props.data
  });
}

function ChoicesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-poll-votes"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled votes-details"
  }, props.data.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceDetails, _extends({
      key: choice.hash
    }, choice));
  })));
}

function ChoiceDetails(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h4", null, props.label), /*#__PURE__*/_react.default.createElement(VotesCount, {
    votes: props.votes
  }), /*#__PURE__*/_react.default.createElement(VotesList, {
    voters: props.voters
  }), /*#__PURE__*/_react.default.createElement("hr", null));
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", null, label);
}

function VotesList(props) {
  if (!props.voters.length) return null;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.voters.map(function (user) {
    return /*#__PURE__*/_react.default.createElement(Voter, _extends({
      key: user.username
    }, user));
  }));
}

function Voter(props) {
  if (props.url) {
    return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
      voted_on: props.voted_on
    }));
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
    voted_on: props.voted_on
  }));
}

function VoteDate(props) {
  return /*#__PURE__*/_react.default.createElement("abbr", {
    className: "text-muted",
    title: props.voted_on.format("LLL")
  }, props.voted_on.fromNow());
}

},{"../../../services/ajax":359,"../../modal-loader":55,"../../modal-message":56,"moment":"moment","react":"react"}],106:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;
exports.Delete = exports.Edit = exports.SeeVotes = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("./modal"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal2 = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;
  if (!isVisible(isPollOver, poll.acl, poll)) return null;
  var controls = [];
  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;
  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row poll-options"
  }, /*#__PURE__*/_react.default.createElement(ChangeVote, {
    controls: controls,
    isPollOver: isPollOver,
    poll: poll,
    showVoting: showVoting
  }), /*#__PURE__*/_react.default.createElement(SeeVotes, {
    controls: controls,
    poll: poll
  }), /*#__PURE__*/_react.default.createElement(Edit, {
    controls: controls,
    poll: poll,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(Delete, {
    controls: controls,
    poll: poll
  }));
}

function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = "col-xs-6";

  if (controls.length === 1) {
    className = "col-xs-12";
  }

  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }

  return className + " col-sm-3 col-md-2";
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;
  if (!(canVote && canChangeVote)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(props.controls, 0)
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.showVoting,
    type: "button"
  }, gettext("Vote")));
}

var SeeVotes = /*#__PURE__*/function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  var _super = _createSuper(SeeVotes);

  function SeeVotes() {
    var _this;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        poll: _this.props.poll
      }));
    });

    return _this;
  }

  _createClass(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("See votes")));
    }
  }]);

  return SeeVotes;
}(_react.default.Component);

exports.SeeVotes = SeeVotes;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        submit: _this2.props.poll.api.index,
        thread: _this2.props.thread,
        poll: _this2.props.poll,
        mode: "POLL"
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 2)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;

      _store.default.dispatch(poll.busy());

      _ajax.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    });

    _defineProperty(_assertThisInitialized(_this3), "handleSuccess", function (newThreadAcl) {
      _snackbar.default.success("Poll has been deleted");

      _store.default.dispatch(poll.remove());

      _store.default.dispatch(thread.updateAcl(newThreadAcl));
    });

    _defineProperty(_assertThisInitialized(_this3), "handleError", function (rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch(poll.release());
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 3)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/poll":346,"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/posting":370,"../../../services/snackbar":371,"../../../services/store":372,"./modal":105,"react":"react"}],107:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-help"
  }, /*#__PURE__*/_react.default.createElement(PollChoicesLeft, {
    choicesLeft: props.choicesLeft
  }), /*#__PURE__*/_react.default.createElement(PollAllowRevote, {
    poll: props.poll
  }));
}

function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;

  if (choicesLeft === 0) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-choices-left"
    }, gettext("You can't select any more choices."));
  }

  var message = ngettext("You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);
  var label = interpolate(message, {
    choices: choicesLeft
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-choices-left"
  }, label);
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-allow-revotes"
    }, gettext("You can change your vote later."));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-no-revotes"
  }, gettext("Votes are final."));
}

},{"../../../utils/escape-html":378,"react":"react"}],108:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _help = _interopRequireDefault(require("./help"));

var _select = _interopRequireDefault(require("./select"));

var _utils = require("./utils");

var _info = _interopRequireDefault(require("../info"));

var _options = require("../results/options");

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleChoice", function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);
      var choices = null;

      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    });

    _defineProperty(_assertThisInitialized(_this), "selectChoice", function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];

          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "deselectChoice", function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    });

    _this.state = {
      isLoading: false,
      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar.default.error(gettext("You need to select at least one choice"));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];

      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];

        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      _snackbar.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];
      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-poll"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("h2", null, this.props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
        poll: this.props.poll
      }), /*#__PURE__*/_react.default.createElement(_select.default, {
        choices: this.state.choices,
        toggleChoice: this.toggleChoice
      }), /*#__PURE__*/_react.default.createElement(_help.default, {
        choicesLeft: this.state.choicesLeft,
        poll: this.props.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 0)
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-sm",
        loading: this.state.isLoading
      }, gettext("Save your vote"))), /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.state.isLoading,
        onClick: this.props.showResults,
        type: "button"
      }, gettext("See results"))), /*#__PURE__*/_react.default.createElement(_options.Edit, {
        controls: controls,
        poll: this.props.poll,
        thread: this.props.thread
      }), /*#__PURE__*/_react.default.createElement(_options.Delete, {
        controls: controls,
        poll: this.props.poll
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/poll":346,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../info":101,"../results/options":106,"./help":107,"./select":109,"./utils":110,"react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChoiceSelect = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled poll-select-choices"
  }, props.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceSelect, {
      choice: choice,
      key: choice.hash,
      toggleChoice: props.toggleChoice
    });
  }));
}

var ChoiceSelect = /*#__PURE__*/function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  var _super = _createSuper(ChoiceSelect);

  function ChoiceSelect() {
    var _this;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    });

    return _this;
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "poll-select-choice"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.choice.selected ? "btn btn-selected" : "btn",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.choice.selected ? "check_box" : "check_box_outline_blank"), /*#__PURE__*/_react.default.createElement("strong", null, this.props.choice.label)));
    }
  }]);

  return ChoiceSelect;
}(_react.default.Component);

exports.ChoiceSelect = ChoiceSelect;

},{"react":"react"}],110:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;

function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];

    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];

  for (var i in choices) {
    var choice = choices[i];

    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],111:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body post-changelog-diff"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.diff.map(function (item, i) {
    return /*#__PURE__*/_react.default.createElement(DiffItem, {
      item: item,
      key: i
    });
  })));
}

function DiffItem(props) {
  if (props.item[0] === "?") return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: getItemClassName(props.item)
  }, cleanItem(props.item));
}

function getItemClassName(item) {
  var className = "diff-item";

  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }

  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],112:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-sm btn-block",
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Revert post to state from before this edit.")
      }, gettext("Revert")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../button":10,"react":"react"}],113:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalDialog = ModalDialog;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diff = _interopRequireDefault(require("./diff"));

var _footer = _interopRequireDefault(require("./footer"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

var _utils = require("./utils");

var _modalMessage = _interopRequireDefault(require("../modal-message"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _modal = _interopRequireDefault(require("../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "goToEdit", function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;

      if (edit !== null) {
        url += "?edit=" + edit;
      }

      _ajax.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function (edit) {
      if (_this.state.isBusy) return;
      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + "?edit=" + edit;

      _ajax.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);

        _store.default.dispatch(post.patch(data, hydratedPost));

        _snackbar.default.success(gettext("Post has been reverted to previous state."));

        _modal.default.hide();
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    });

    _this.state = {
      isReady: false,
      isBusy: true,
      canRevert: props.post.acl.can_edit,
      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-dialog modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          goToEdit: this.goToEdit,
          revertEdit: this.revertEdit
        }), /*#__PURE__*/_react.default.createElement(_diff.default, {
          diff: this.state.edit.diff
        }), /*#__PURE__*/_react.default.createElement(_footer.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          revertEdit: this.revertEdit
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalDialog(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Post edits history"))), props.children));
}

},{"../../reducers/post":347,"../../services/ajax":359,"../../services/modal":366,"../../services/snackbar":371,"../../services/store":372,"../modal-loader":55,"../modal-message":56,"./diff":111,"./footer":112,"./toolbar":114,"./utils":115,"react":"react"}],114:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "goLast", function () {
      _this.props.goToEdit();
    });

    _defineProperty(_assertThisInitialized(_this), "goForward", function () {
      _this.props.goToEdit(_this.props.edit.next);
    });

    _defineProperty(_assertThisInitialized(_this), "goBack", function () {
      _this.props.goToEdit(_this.props.edit.previous);
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-toolbar post-changelog-toolbar"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoBackBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goBack
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoForwardBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goForward
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoLastBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goLast
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label"
      }, /*#__PURE__*/_react.default.createElement(Label, {
        edit: this.props.edit
      })), /*#__PURE__*/_react.default.createElement(RevertBtn, {
        canRevert: this.props.canRevert,
        disabled: this.props.disabled,
        onClick: this.revertEdit
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function GoBackBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.previous,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"));
}

function GoForwardBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See next change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

function GoLastBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "last_page"));
}

function RevertBtn(props) {
  if (!props.canRevert) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-3 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: props.disabled,
    onClick: props.onClick,
    title: gettext("Revert post to state from before this edit.")
  }, gettext("Revert")));
}

function Label(props) {
  var user = null;

  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.edit.url.editor),
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.edit.edited_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.edit.edited_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../utils/escape-html":378,"../button":10,"react":"react"}],115:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment.default)(json.edited_on)
  });
}

},{"moment":"moment"}],116:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-ready"
  }, posts.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(_post.default, {
      key: post.id,
      post: post,
      poster: poster
    });
  }));
}

},{"./post":119,"./preview":125,"react":"react"}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body post-body-invalid"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":378,"../../misago-markup":54,"react":"react"}],118:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link item-title",
    href: thread.url
  }, thread.title), /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link post-category",
    href: category.url.index
  }, category.name), /*#__PURE__*/_react.default.createElement("a", {
    href: post.url.index,
    className: "btn btn-link posted-on",
    title: tooltip
  }, post.posted_on.fromNow()));
}

},{"react":"react"}],119:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _body = _interopRequireDefault(require("./body"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  var user = poster || post.poster;
  var className = "post";

  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className,
    id: "post-" + post.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, {
    post: post,
    poster: user
  }), /*#__PURE__*/_react.default.createElement(_header.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement(_body.default, {
    post: post
  }))));
}

},{"./body":117,"./header":118,"./post-side":122,"react":"react"}],120:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, post.poster_name)), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"./button":121,"react":"react"}],121:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default btn-icon pull-right",
    href: post.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text-left hidden-xs"
  }, gettext("See post")), /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

},{"react":"react"}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, {
      post: post,
      poster: poster
    });
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, {
    post: post
  });
}

},{"./anonymous":120,"./registered":123,"react":"react"}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username)), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    title: poster.title,
    rank: poster.rank
  }))));
}

},{"../../../avatar":8,"./button":121,"./user-title":124,"react":"react"}],124:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, userTitle);
}

},{"react":"react"}],125:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-preview"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))))));
}

},{"../../utils/random":382,"../avatar":8,"react":"react"}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _avatar = _interopRequireDefault(require("./avatar"));

var _modalMessage = _interopRequireDefault(require("./modal-message"));

var _modalLoader = _interopRequireDefault(require("./modal-loader"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isReady: false,
      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return /*#__PURE__*/_react.default.createElement(ModalDialog, {
            className: "modal-sm",
            likes: this.state.likes
          }, /*#__PURE__*/_react.default.createElement(LikesList, {
            likes: this.state.likes
          }));
        }

        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: gettext("No users have liked this post.")
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, {
        className: "modal-sm"
      }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;
  var title = gettext("Post Likes");

  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);
    title = interpolate(message, {
      likes: likesCount
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog " + (className || ""),
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, title)), children));
}

function LikesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-post-likers"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "media-list"
  }, props.likes.map(function (like) {
    return /*#__PURE__*/_react.default.createElement(LikeDetails, _extends({
      key: like.id
    }, like));
  })));
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "media"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "media-left"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "user-avatar",
      href: props.url
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      size: "50",
      user: user
    }))), /*#__PURE__*/_react.default.createElement("div", {
      className: "media-body"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
      likedOn: props.liked_on
    })));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "user-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50"
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
    likedOn: props.liked_on
  })));
}

function LikeDate(props) {
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "text-muted",
    title: props.likedOn.format("LLL")
  }, props.likedOn.fromNow());
}

},{"../services/ajax":359,"./avatar":8,"./modal-loader":55,"./modal-message":56,"moment":"moment","react":"react"}],127:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,
        canProtect: data.can_protect
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onProtect", function () {
      _this.setState({
        protect: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUnprotect", function () {
      _this.setState({
        protect: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      protect: false,
      canProtect: false,
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Reply has been edited."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          canProtect: this.state.canProtect,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          onProtect: this.onProtect,
          onUnprotect: this.onUnprotect,
          protect: this.state.protect,
          submitLabel: gettext("Edit reply"),
          expand: false,
          value: this.state.post
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/validators":138,"react":"react"}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _start = _interopRequireDefault(require("./start"));

var _startPrivate = _interopRequireDefault(require("./start-private"));

var _reply = _interopRequireDefault(require("./reply"));

var _edit = _interopRequireDefault(require("./edit"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.mode === "START") {
    return /*#__PURE__*/_react.default.createElement(_start.default, props);
  } else if (props.mode === "START_PRIVATE") {
    return /*#__PURE__*/_react.default.createElement(_startPrivate.default, props);
  } else if (props.mode === "REPLY") {
    return /*#__PURE__*/_react.default.createElement(_reply.default, props);
  } else if (props.mode === "EDIT") {
    return /*#__PURE__*/_react.default.createElement(_edit.default, props);
  } else {
    return null;
  }
}

},{"./edit":127,"./reply":129,"./start":131,"./start-private":130,"react":"react"}],129:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.poster ? '@' + data.poster + '\n' : ""
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "appendData", function (data) {
      var newPost = data.post ? '@' + data.poster + '\n' : "";

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + "\n\n" + newPost
          };
        }

        return {
          post: newPost
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;
      if (context && newContext && context.reply === newContext.reply) return;

      _ajax.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar.default.apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your reply has been posted."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          submitLabel: gettext("Post reply"),
          value: this.state.post,
          expand: false
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/validators":138,"react":"react"}],130:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _usernames = _interopRequireDefault(require("./utils/usernames"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onToChange", function (event) {
      _this.changeValue("to", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");
    _this.state = {
      isLoading: false,
      to: to,
      title: "",
      post: "",
      attachments: [],
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      $("#usernames").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "${username}, ",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(misago.get("MENTION_API"), {
              q: query
            }, callback);
          }
        }
      });
      $("#usernames").on("inserted.atwho", function (event, flag, query) {
        _this2.onToChange(event);
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!(0, _usernames.default)(this.state.to).length) {
        _snackbar.default.error(gettext("You have to enter at least one recipient."));

        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        to: (0, _usernames.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        id: "usernames",
        disabled: this.state.isLoading,
        onChange: this.onToChange,
        placeholder: gettext("Comma separated, use @ to show the dropdown of user eg.: Danny, Lisa"),
        type: "text",
        value: this.state.to
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        expand: false,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/usernames":137,"./utils/validators":138,"react":"react"}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categorySelect = _interopRequireDefault(require("../category-select"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var _options = _interopRequireDefault(require("./utils/options"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null; // hydrate categories, extract posting options

      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,
        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      }); // if selected pin is greater than allowed, reduce it


      var pin = _this.state.pin;

      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,
        pin: pin
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attach) {
      _this.setState({
        attachments: attach
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onClose", function () {
      _this.changeValue("close", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onOpen", function () {
      _this.changeValue("close", false);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinGlobally", function () {
      _this.changeValue("pin", 2);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinLocally", function () {
      _this.changeValue("pin", 1);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnpin", function () {
      _this.changeValue("pin", 0);
    });

    _defineProperty(_assertThisInitialized(_this), "onHide", function () {
      _this.changeValue("hide", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnhide", function () {
      _this.changeValue("hide", false);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      showOptions: false,
      categoryOptions: null,
      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      }

      if (!this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }

      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;
      var titleStyle = null;

      if (columns === 1) {
        titleStyle = "col-sm-6";
      } else {
        titleStyle = "col-sm-8";
      }

      if (columns === 3) {
        titleStyle += " col-md-6";
      } else if (columns) {
        titleStyle += " col-md-7";
      } else {
        titleStyle += " col-md-9";
      }

      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: titleStyle
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        choices: this.state.categories,
        disabled: this.state.isLoading,
        onChange: this.onCategoryChange,
        value: this.state.category
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        close: this.state.close,
        columns: columns,
        disabled: this.state.isLoading,
        hide: this.state.hide,
        onClose: this.onClose,
        onHide: this.onHide,
        onOpen: this.onOpen,
        onPinGlobally: this.onPinGlobally,
        onPinLocally: this.onPinLocally,
        onUnhide: this.onUnhide,
        onUnpin: this.onUnpin,
        options: this.state.categoryOptions,
        pin: this.state.pin,
        showOptions: this.state.showOptions
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post,
        expand: false
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../category-select":23,"../editor":45,"../form":50,"./utils/attachments":132,"./utils/container":133,"./utils/loader":134,"./utils/message":135,"./utils/options":136,"./utils/validators":138,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });
  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],133:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, props.children));
}

},{"react":"react"}],134:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":52,"./container":133,"react":"react"}],135:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "error_outline"), props.message), /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-default",
    onClick: _posting.default.close
  }, gettext("Dismiss"))));
}

},{"../../../services/posting":370,"./container":133,"react":"react"}],136:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.showOptions) return null;
  var columns = props.columns;
  var className = "col-xs-12 xs-margin-top";

  if (columns === 1) {
    className += " col-sm-2";
  } else {
    className += " sm-margin-top";
  }

  if (columns === 3) {
    className += " col-md-3";
  } else {
    className += " col-md-2";
  }

  className += " posting-options";
  var columnClassName = "col-xs-" + 12 / columns;
  var textClassName = "btn-text";

  if (columns === 3) {
    textClassName += " visible-sm-inline-block";
  } else if (columns === 2) {
    textClassName += " hidden-md hidden-lg";
  } else {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(PinOptions, {
    className: columnClassName,
    disabled: props.disabled,
    onPinGlobally: props.onPinGlobally,
    onPinLocally: props.onPinLocally,
    onUnpin: props.onUnpin,
    pin: props.pin,
    show: props.options.pin,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(HideOptions, {
    className: columnClassName,
    disabled: props.disabled,
    hide: props.hide,
    onHide: props.onHide,
    onUnhide: props.onUnhide,
    show: props.options.hide,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(CloseOptions, {
    className: columnClassName,
    close: props.close,
    disabled: props.disabled,
    onClose: props.onClose,
    onOpen: props.onOpen,
    show: props.options.close,
    textClassName: textClassName
  })));
}

function CloseOptions(props) {
  if (!props.show) return null;
  var label = props.close ? gettext("Closed") : gettext("Open");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.close ? props.onOpen : props.onClose,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.close ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function HideOptions(props) {
  if (!props.show) return null;
  var label = props.hide ? gettext("Hidden") : gettext("Not hidden");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.hide ? props.onUnhide : props.onHide,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.hide ? "visibility_off" : "visibility"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function PinOptions(props) {
  if (!props.show) return null;
  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    case 0:
      icon = "radio_button_unchecked";
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;

    case 1:
      icon = "bookmark_outline";
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");

      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = "bookmark";
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: onClick,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

},{"react":"react"}],137:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });
  return removedDuplicates;
}

},{}],138:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require("../../../utils/validators");

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_.default.get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":296,"../../../utils/validators":387}],139:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Delete = exports.Unhide = exports.Hide = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var post = _interopRequireWildcard(require("../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (isVisible(props.post.acl)) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-controls"
    }, /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
  } else {
    return null;
  }
}

function isVisible(acl) {
  return acl.can_hide;
}

var Hide = /*#__PURE__*/function (_React$Component) {
  _inherits(Hide, _React$Component);

  var _super = _createSuper(Hide);

  function Hide() {
    var _this;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: true
      };

      _ajax.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    });

    return _this;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Hide"));
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  var _super2 = _createSuper(Unhide);

  function Unhide() {
    var _this2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _store.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: false
      };

      _ajax.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    });

    return _this2;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Unhide"));
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));

      if (decision) {
        _this3.delete();
      }
    });

    _defineProperty(_assertThisInitialized(_this3), "delete", function () {
      _store.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, gettext("Delete"));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/post":347,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"moment":"moment","react":"react"}],140:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: "edit",
  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",
  moved: "arrow_forward",
  merged: "call_merge",
  approved: "done",
  opened: "lock_open",
  closed: "lock_outline",
  unhid: "visibility",
  hid: "visibility_off",
  changed_owner: "grade",
  tookover: "grade",
  added_participant: "person_add",
  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, ICON[props.post.event_type]));
}

},{"react":"react"}],141:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _icon = _interopRequireDefault(require("./icon"));

var _info = _interopRequireDefault(require("./info"));

var _message = _interopRequireDefault(require("./message"));

var _unreadLabel = _interopRequireDefault(require("./unread-label"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "event";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement(_unreadLabel.default, {
    post: props.post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-2 col-sm-3 text-right"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-sm-9 text-left"
  }, /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_message.default, props), /*#__PURE__*/_react.default.createElement(_info.default, props)))));
}

},{"../waypoint":167,"./icon":140,"./info":142,"./message":143,"./unread-label":144,"react":"react"}],142:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Hidden = Hidden;
exports.Poster = Poster;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

var _controls = _interopRequireDefault(require("./controls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline event-info"
  }, /*#__PURE__*/_react.default.createElement(Hidden, props), /*#__PURE__*/_react.default.createElement(Poster, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;

    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
      relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
    }, true);
    var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: {
        __html: message
      }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;

  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.post.poster.url),
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml.default)(props.post.url.index),
    absolute: (0, _escapeHtml.default)(props.post.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.posted_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":378,"./controls":139,"react":"react"}],143:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),
  approved: gettext("Thread has been approved."),
  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),
  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),
  tookover: gettext("Took thread over."),
  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};
var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function _default(props) {
  if (MESSAGE[props.post.event_type]) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "event-message"
    }, MESSAGE[props.post.event_type]);
  } else if (props.post.event_type === "changed_title") {
    return /*#__PURE__*/_react.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return /*#__PURE__*/_react.default.createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return /*#__PURE__*/_react.default.createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return /*#__PURE__*/_react.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return /*#__PURE__*/_react.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return /*#__PURE__*/_react.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
}

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml.default)(props.post.event_context.from_category.name)
  }, true);
  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.merged_thread)
  }, true);
  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":378,"react":"react"}],144:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  if (post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "event-label"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread"
  }, gettext("New event")))));
}

},{"react":"react"}],145:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ListItem = ListItem;

var _react = _interopRequireDefault(require("react"));

var _event = _interopRequireDefault(require("./event"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./post/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.posts.isLoaded) {
    return /*#__PURE__*/_react.default.createElement("ul", {
      className: "posts-list ui-preview"
    }, /*#__PURE__*/_react.default.createElement(_preview.default, null));
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list ui-ready"
  }, props.posts.results.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(ListItem, _extends({
      key: post.id,
      post: post
    }, props));
  }));
}

function ListItem(props) {
  if (props.post.is_event) {
    return /*#__PURE__*/_react.default.createElement(_event.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_post.default, props);
}

},{"./event":141,"./post":157,"./post/preview":165,"react":"react"}],146:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-6"
  }, /*#__PURE__*/_react.default.createElement(AttachmentPreview, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachment"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "attachment-name item-title"
  }, props.attachment.filename), /*#__PURE__*/_react.default.createElement(AttachmentDetails, props)));
}

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentThumbnail, props));
  } else {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentIcon, props));
  }
}

function AttachmentIcon(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "material-icon"
  }, "insert_drive_file");
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    style: {
      backgroundImage: 'url("' + (0, _escapeHtml.default)(url) + '")'
    }
  });
}

function AttachmentDetails(props) {
  var user = null;

  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.attachment.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.attachment.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../..":296,"../../../../utils/escape-html":378,"../../../../utils/file-size":379,"react":"react"}],147:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Row = Row;

var _react = _interopRequireDefault(require("react"));

var _batch = _interopRequireDefault(require("../../../../utils/batch"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachments"
  }, (0, _batch.default)(props.post.attachments, 2).map(function (row) {
    var key = row.map(function (a) {
      return a ? a.id : 0;
    }).join("_");
    return /*#__PURE__*/_react.default.createElement(Row, {
      key: key,
      row: row
    });
  }));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, props.row.map(function (attachment) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, {
      attachment: attachment,
      key: attachment ? attachment.id : 0
    });
  }));
}

},{"../../../../utils/batch":375,"./attachment":146,"react":"react"}],148:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function _default(props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return /*#__PURE__*/_react.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Hidden(props) {
  var user = null;

  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-hidden",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post is hidden. You cannot see its contents.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-invalid",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":378,"../../misago-markup":54,"../waypoint":167,"react":"react"}],149:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;
exports.markAsBestAnswer = markAsBestAnswer;
exports.unmarkBestAnswer = unmarkBestAnswer;
exports.patchThread = patchThread;

var _moment = _interopRequireDefault(require("moment"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var previousState = {
    is_unapproved: props.post.is_unapproved
  };
  patch(props, ops, previousState);
}

function protect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function unprotect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function hide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };
  patch(props, ops, previousState);
}

function unhide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var previousState = {
    is_hidden: props.post.is_hidden
  };
  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: true
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function unlike(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: false
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax.default.patch(props.post.api.index, ops).then(function (newState) {
    _store.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  _store.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax.default.delete(props.post.api.index).then(function () {
    _snackbar.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

function markAsBestAnswer(props) {
  var post = props.post,
      user = props.user;

  _store.default.dispatch(thread.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: (0, _moment.default)(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));

  var ops = [{
    op: "replace",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function unmarkBestAnswer(props) {
  var post = props.post;

  _store.default.dispatch(thread.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));

  var ops = [{
    op: "remove",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function patchThread(props, ops, previousState) {
  _ajax.default.patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = (0, _moment.default)(newState.best_answer_marked_on);
    }

    _store.default.dispatch(thread.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(thread.update(previousState));
  });
}

},{"../../../../reducers/post":347,"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/snackbar":371,"../../../../services/store":372,"moment":"moment"}],150:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../../services/posting"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _postChangelog = _interopRequireDefault(require("../../../post-changelog"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Permalink, props), /*#__PURE__*/_react.default.createElement(Edit, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(UnmarkMarkBestAnswer, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Permalink = /*#__PURE__*/function (_React$Component) {
  _inherits(Permalink, _React$Component);

  var _super = _createSuper(Permalink);

  function Permalink() {
    var _this;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;
      prompt(gettext("Permament link to this post:"), permaUrl);
    });

    return _this;
  }

  _createClass(Permalink, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link"), gettext("Permament link")));
    }
  }]);

  return Permalink;
}(_react.default.Component);

exports.Permalink = Permalink;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component3) {
  _inherits(MarkAsBestAnswer, _React$Component3);

  var _super3 = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this3;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      moderation.markAsBestAnswer(_this3.props);
    });

    return _this3;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Mark as best answer")));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var UnmarkMarkBestAnswer = /*#__PURE__*/function (_React$Component4) {
  _inherits(UnmarkMarkBestAnswer, _React$Component4);

  var _super4 = _createSuper(UnmarkMarkBestAnswer);

  function UnmarkMarkBestAnswer() {
    var _this4;

    _classCallCheck(this, UnmarkMarkBestAnswer);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      moderation.unmarkBestAnswer(_this4.props);
    });

    return _this4;
  }

  _createClass(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Unmark best answer")));
    }
  }]);

  return UnmarkMarkBestAnswer;
}(_react.default.Component);

exports.UnmarkMarkBestAnswer = UnmarkMarkBestAnswer;

var PostEdits = /*#__PURE__*/function (_React$Component5) {
  _inherits(PostEdits, _React$Component5);

  var _super5 = _createSuper(PostEdits);

  function PostEdits() {
    var _this5;

    _classCallCheck(this, PostEdits);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this5.props.post
      }));
    });

    return _this5;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Changes history")));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var Approve = /*#__PURE__*/function (_React$Component6) {
  _inherits(Approve, _React$Component6);

  var _super6 = _createSuper(Approve);

  function Approve() {
    var _this6;

    _classCallCheck(this, Approve);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.approve(_this6.props);
    });

    return _this6;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Move = /*#__PURE__*/function (_React$Component7) {
  _inherits(Move, _React$Component7);

  var _super7 = _createSuper(Move);

  function Move() {
    var _this7;

    _classCallCheck(this, Move);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this7.props));
    });

    return _this7;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component8) {
  _inherits(Split, _React$Component8);

  var _super8 = _createSuper(Split);

  function Split() {
    var _this8;

    _classCallCheck(this, Split);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this8.props));
    });

    return _this8;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component9) {
  _inherits(Protect, _React$Component9);

  var _super9 = _createSuper(Protect);

  function Protect() {
    var _this9;

    _classCallCheck(this, Protect);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.protect(_this9.props);
    });

    return _this9;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component10) {
  _inherits(Unprotect, _React$Component10);

  var _super10 = _createSuper(Unprotect);

  function Unprotect() {
    var _this10;

    _classCallCheck(this, Unprotect);

    for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    _this10 = _super10.call.apply(_super10, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this10), "onClick", function () {
      moderation.unprotect(_this10.props);
    });

    return _this10;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Remove protection")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component11) {
  _inherits(Hide, _React$Component11);

  var _super11 = _createSuper(Hide);

  function Hide() {
    var _this11;

    _classCallCheck(this, Hide);

    for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }

    _this11 = _super11.call.apply(_super11, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this11), "onClick", function () {
      moderation.hide(_this11.props);
    });

    return _this11;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          post = _this$props3.post,
          thread = _this$props3.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component12) {
  _inherits(Unhide, _React$Component12);

  var _super12 = _createSuper(Unhide);

  function Unhide() {
    var _this12;

    _classCallCheck(this, Unhide);

    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }

    _this12 = _super12.call.apply(_super12, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this12), "onClick", function () {
      moderation.unhide(_this12.props);
    });

    return _this12;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component13) {
  _inherits(Delete, _React$Component13);

  var _super13 = _createSuper(Delete);

  function Delete() {
    var _this13;

    _classCallCheck(this, Delete);

    for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }

    _this13 = _super13.call.apply(_super13, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this13), "onClick", function () {
      moderation.remove(_this13.props);
    });

    return _this13;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          post = _this$props4.post,
          thread = _this$props4.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":366,"../../../../services/posting":370,"../../../post-changelog":113,"./actions":149,"./move":152,"./split":153,"react":"react"}],151:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pull-right dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default btn-icon dropdown-toggle",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more")), /*#__PURE__*/_react.default.createElement(_dropdown.default, props));
}

},{"./dropdown":150,"react":"react"}],152:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move post to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move post"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move post")));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"../../../form":50,"../../../form-group":49,"react":"react"}],153:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split post")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this post at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message)));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split post into new thread"))), props.children));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../../utils/validators":387,"../../../button":10,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"../../../select":204,"react":"react"}],154:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagBestAnswer = FlagBestAnswer;
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagBestAnswer(_ref) {
  var post = _ref.post,
      thread = _ref.thread,
      user = _ref.user;

  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }

  var message = null;

  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(gettext("Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-best-answer"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("p", null, message));
}

function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is hidden. Only users with permission may see its contents.")));
}

function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-unapproved"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")));
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-protected visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is protected. Only moderators may change it.")));
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("./controls/actions"));

var _postLikes = _interopRequireDefault(require("../../post-likes"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!isVisible(props.post)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-footer"
  }, /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswerCompact, props), /*#__PURE__*/_react.default.createElement(Like, props), /*#__PURE__*/_react.default.createElement(Likes, _extends({
    lastLikes: props.post.last_likes,
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(LikesCompact, _extends({
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(Reply, props), /*#__PURE__*/_react.default.createElement(Edit, props));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component) {
  _inherits(MarkAsBestAnswer, _React$Component);

  var _super = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      actions.markAsBestAnswer(_this.props);
    });

    return _this;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "hidden-xs btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Best answer"));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var MarkAsBestAnswerCompact = /*#__PURE__*/function (_React$Component2) {
  _inherits(MarkAsBestAnswerCompact, _React$Component2);

  var _super2 = _createSuper(MarkAsBestAnswerCompact);

  function MarkAsBestAnswerCompact() {
    var _this2;

    _classCallCheck(this, MarkAsBestAnswerCompact);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      actions.markAsBestAnswer(_this2.props);
    });

    return _this2;
  }

  _createClass(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"));
    }
  }]);

  return MarkAsBestAnswerCompact;
}(_react.default.Component);

exports.MarkAsBestAnswerCompact = MarkAsBestAnswerCompact;

var Like = /*#__PURE__*/function (_React$Component3) {
  _inherits(Like, _React$Component3);

  var _super3 = _createSuper(Like);

  function Like() {
    var _this3;

    _classCallCheck(this, Like);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.post.is_liked) {
        actions.unlike(_this3.props);
      } else {
        actions.like(_this3.props);
      }
    });

    return _this3;
  }

  _createClass(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;
      var className = "btn btn-default btn-sm pull-left";

      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: this.props.post.isBusy,
        onClick: this.onClick,
        type: "button"
      }, this.props.post.is_liked ? gettext("Liked") : gettext("Like"));
    }
  }]);

  return Like;
}(_react.default.Component);

exports.Like = Like;

var Likes = /*#__PURE__*/function (_React$Component4) {
  _inherits(Likes, _React$Component4);

  var _super4 = _createSuper(Likes);

  function Likes() {
    var _this4;

    _classCallCheck(this, Likes);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postLikes.default, {
        post: _this4.props.post
      }));
    });

    return _this4;
  }

  _createClass(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm pull-left hidden-xs",
          onClick: this.onClick,
          type: "button"
        }, getLikesMessage(this.props.likes, this.props.lastLikes));
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "pull-left hidden-xs"
      }, getLikesMessage(this.props.likes, this.props.lastLikes));
    }
  }]);

  return Likes;
}(_react.default.Component);

exports.Likes = Likes;

var LikesCompact = /*#__PURE__*/function (_Likes) {
  _inherits(LikesCompact, _Likes);

  var _super5 = _createSuper(LikesCompact);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _super5.apply(this, arguments);
  }

  _createClass(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
          onClick: this.onClick,
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "favorite"), this.props.likes);
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "likes-compact pull-left visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), this.props.likes);
    }
  }]);

  return LikesCompact;
}(Likes);

exports.LikesCompact = LikesCompact;

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;
  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];
  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);
  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}

var Reply = /*#__PURE__*/function (_React$Component5) {
  _inherits(Reply, _React$Component5);

  var _super6 = _createSuper(Reply);

  function Reply() {
    var _this5;

    _classCallCheck(this, Reply);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this5.props.thread.api.editor,
        submit: _this5.props.thread.api.posts.index,
        context: {
          reply: _this5.props.post.id
        }
      });
    });

    return _this5;
  }

  _createClass(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Reply"));
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react.default.Component);

exports.Reply = Reply;

var Edit = /*#__PURE__*/function (_React$Component6) {
  _inherits(Edit, _React$Component6);

  var _super7 = _createSuper(Edit);

  function Edit() {
    var _this6;

    _classCallCheck(this, Edit);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this6.props.post.api.editor,
        submit: _this6.props.post.api.index
      });
    });

    return _this6;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "hidden-xs btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Edit"));
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

},{"../../../services/modal":366,"../../../services/posting":370,"../../post-likes":126,"./controls/actions":149,"react":"react"}],156:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;
exports.PostEditsCompacts = exports.PostEdits = void 0;

var _react = _interopRequireDefault(require("react"));

var _controls = _interopRequireDefault(require("./controls"));

var _select = _interopRequireDefault(require("./select"));

var _userStatus = require("../../user-status");

var _postChangelog = _interopRequireDefault(require("../../post-changelog"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement(UnreadLabel, props), /*#__PURE__*/_react.default.createElement(UnreadCompact, props), /*#__PURE__*/_react.default.createElement(PostedOn, props), /*#__PURE__*/_react.default.createElement(PostedOnCompact, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(PostEditsCompacts, props), /*#__PURE__*/_react.default.createElement(ProtectedLabel, props), /*#__PURE__*/_react.default.createElement(_select.default, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function UnreadLabel(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread hidden-xs"
  }, gettext("New post"));
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread visible-xs-inline-block"
  }, gettext("New"));
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: props.post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on hidden-xs",
    title: tooltip
  }, props.post.posted_on.fromNow());
}

function PostedOnCompact(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on visible-xs-inline-block"
  }, props.post.posted_on.fromNow(true));
}

var PostEdits = /*#__PURE__*/function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  var _super = _createSuper(PostEdits);

  function PostEdits() {
    var _this;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this.props.post
      }));
    });

    return _this;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);
      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits hidden-xs",
        onClick: this.onClick,
        title: title,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var PostEditsCompacts = /*#__PURE__*/function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  var _super2 = _createSuper(PostEditsCompacts);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _super2.apply(this, arguments);
  }

  _createClass(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits visible-xs-inline-block",
        onClick: this.onClick,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

exports.PostEditsCompacts = PostEditsCompacts;

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-protected hidden-xs",
    title: gettext("This post is protected and may not be edited.")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), gettext("protected"));
}

},{"../../../services/modal":366,"../../post-changelog":113,"../../user-status":268,"./controls":151,"./select":166,"react":"react"}],157:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachments = _interopRequireDefault(require("./attachments"));

var _body = _interopRequireDefault(require("./body"));

var _flags = require("./flags");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "post";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }

  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }

  if (!props.post.is_read) {
    className += " post-new";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-9"
  }, /*#__PURE__*/_react.default.createElement(_header.default, props), /*#__PURE__*/_react.default.createElement(_flags.FlagBestAnswer, props), /*#__PURE__*/_react.default.createElement(_flags.FlagUnapproved, props), /*#__PURE__*/_react.default.createElement(_flags.FlagProtected, props), /*#__PURE__*/_react.default.createElement(_flags.FlagHidden, props), /*#__PURE__*/_react.default.createElement(_body.default, props), /*#__PURE__*/_react.default.createElement(_attachments.default, props), /*#__PURE__*/_react.default.createElement(_footer.default, props))))));
}

},{"./attachments":147,"./body":148,"./flags":154,"./footer":155,"./header":156,"./post-side":160,"react":"react"}],158:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "media-heading item-title"
  }, post.poster_name), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"../../../user-status":268,"../controls":151,"../select":166,"./user-postcount":162,"./user-title":164,"react":"react"}],159:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(_ref) {
  var title = _ref.title,
      rank = _ref.rank;
  return rank.is_tab || !!title || !!rank.title;
}

},{}],160:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.poster) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, props);
}

},{"./anonymous":158,"./registered":161,"react":"react"}],161:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userStatus2 = _interopRequireDefault(require("./user-status"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username), /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
    status: poster.status
  }))), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: poster.rank,
    title: poster.title
  }), /*#__PURE__*/_react.default.createElement(_userStatus2.default, {
    poster: poster
  }), /*#__PURE__*/_react.default.createElement(_userPostcount.default, {
    poster: poster
  }))));
}

},{"../../../avatar":8,"../../../user-status":268,"../controls":151,"../select":166,"./user-postcount":162,"./user-status":163,"./user-title":164,"react":"react"}],162:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);
  var className = "user-postcount";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-xs hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, interpolate(message, {
    posts: poster.posts
  }, true));
}

},{"./has-visible-title":159,"react":"react"}],163:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var className = "hidden-xs";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: poster.status,
    user: poster
  })));
}

},{"../../../user-status":268,"./has-visible-title":159,"react":"react"}],164:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title;

  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: rank.url
    }, userTitle));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, userTitle);
}

},{"react":"react"}],165:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-border"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "100"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0")))))));
}

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isVisible = isVisible;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.post.isSelected) {
        _store.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store.default.dispatch(posts.select(_this.props.post));
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pull-right hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.post.isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":348,"../../../services/store":372,"react":"react"}],167:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this = this;

      if (this.props.post.is_read) return; // don't register read tracker

      $(this.documentNode).waypoint({
        handler: function handler(direction) {
          if (direction !== "down" || _this.props.post.is_read) return; // after 1500ms run flag post as read logic

          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this.documentNode.getBoundingClientRect();

            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;
            if (offsetBottom < 5) return; // scrolled past the post

            if (offsetBottom > clientHeight) return; // scrolled back up
            // mark post as read

            _store.default.dispatch(post.patch(_this.props.post, {
              is_read: true
            })); // call API to let it know we have unread post


            _ajax.default.post(_this.props.post.api.read).then(function (data) {
              _store.default.dispatch(thread.update(_this.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              _snackbar.default.apiError(rejection);
            });
          }, 1000);
        },
        offset: "bottom-in-view"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.className,
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/post":347,"../../reducers/thread":354,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"react":"react"}],168:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../panel-loader"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,
        ban: ban
      });
    });

    _defineProperty(_assertThisInitialized(_this), "error", function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    });

    if (_.default.has("PROFILE_BAN")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api.ban);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-user-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("User-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.user_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-staff-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Team-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.staff_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment.default)())) {
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: _title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return /*#__PURE__*/_react.default.createElement("div", null, this.getUserMessage(), this.getStaffMessage(), /*#__PURE__*/_react.default.createElement("div", {
            className: "panel-body ban-expires"
          }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Ban expiration")), /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.getExpirationMessage())));
        } else {
          return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
            message: gettext("No ban is active at the moment.")
          }));
        }
      } else if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
          icon: "error_outline",
          message: this.state.error
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-ban-details"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Ban details"))), this.getPanelBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/page-title":368,"../../services/polls":369,"../panel-loader":87,"../panel-message":88,"moment":"moment","react":"react"}],169:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isAuthenticated = _ref.isAuthenticated,
      profile = _ref.profile;
  var message = null;

  if (isAuthenticated) {
    message = gettext("You are not sharing any details with others.");
  } else {
    message = interpolate(gettext("%(username)s is not sharing any details with others."), {
      username: profile.username
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body text-center lead"
  }, message));
}

},{"react":"react"}],170:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SafeValue = SafeValue;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var html = _ref.html,
      text = _ref.text,
      url = _ref.url;

  if (html) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: {
        __html: html
      }
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-control-static col-md-9"
  }, /*#__PURE__*/_react.default.createElement(SafeValue, {
    text: text,
    url: url
  }));
}

function SafeValue(_ref2) {
  var text = _ref2.text,
      url = _ref2.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
      href: url,
      target: "_blank",
      rel: "nofollow"
    }, text || url));
  }

  if (text) {
    return /*#__PURE__*/_react.default.createElement("p", null, text);
  }

  return null;
}

},{"react":"react"}],171:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldValue = _interopRequireDefault(require("./field-value"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement("strong", {
    className: "control-label col-md-3"
  }, props.name, ":"), /*#__PURE__*/_react.default.createElement(_fieldValue.default, props));
}

},{"./field-value":170,"react":"react"}],172:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../../edit-details"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var api = _ref.api,
      display = _ref.display,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../edit-details":34,"react":"react"}],173:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _field = _interopRequireDefault(require("./field"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var fields = _ref.fields,
      name = _ref.name;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-profile-details-group"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, name)), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "form-horizontal"
  }, fields.map(function (_ref2) {
    var fieldname = _ref2.fieldname,
        html = _ref2.html,
        name = _ref2.name,
        text = _ref2.text,
        url = _ref2.url;
    return /*#__PURE__*/_react.default.createElement(_field.default, {
      key: fieldname,
      name: name,
      html: html,
      text: text,
      url: url
    });
  }))));
}

},{"./field":171,"react":"react"}],174:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _emptyMessage = _interopRequireDefault(require("./empty-message"));

var _group = _interopRequireDefault(require("./group"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display,
      groups = _ref.groups,
      isAuthenticated = _ref.isAuthenticated,
      loading = _ref.loading,
      profile = _ref.profile;
  if (!display) return null;

  if (loading) {
    return /*#__PURE__*/_react.default.createElement(_loader.default, null);
  }

  if (!groups.length) {
    return /*#__PURE__*/_react.default.createElement(_emptyMessage.default, {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", null, groups.map(function (group, i) {
    return /*#__PURE__*/_react.default.createElement(_group.default, {
      fields: group.fields,
      key: i,
      name: group.name
    });
  }));
}

},{"../../loader":52,"./empty-message":169,"./group":173,"react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.EditButton = EditButton;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var onEdit = _ref.onEdit,
      showEditButton = _ref.showEditButton;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("nav", {
    className: "toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-10"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "md-margin-top-no"
  }, gettext("Details"))), /*#__PURE__*/_react.default.createElement(EditButton, {
    onEdit: onEdit,
    showEditButton: showEditButton
  }))));
}

function EditButton(_ref2) {
  var onEdit = _ref2.onEdit,
      showEditButton = _ref2.showEditButton;
  if (!showEditButton) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-2"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    onClick: onEdit,
    type: "button"
  }, gettext("Edit")));
}

},{"react":"react"}],176:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _groupsList = _interopRequireDefault(require("./groups-list"));

var _header = _interopRequireDefault(require("./header"));

var _profileDetails = _interopRequireDefault(require("../../../data/profile-details"));

var _profileDetails2 = require("../../../reducers/profile-details");

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        editing: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        editing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function (newDetails) {
      var _this$props = _this.props,
          dispatch = _this$props.dispatch,
          isAuthenticated = _this$props.isAuthenticated,
          profile = _this$props.profile;
      var message = null;

      if (isAuthenticated) {
        message = gettext("Your details have been updated.");
      } else {
        message = interpolate(gettext("%(username)s's details have been updated."), {
          username: profile.username
        }, true);
      }

      _snackbar.default.info(message);

      dispatch((0, _profileDetails2.load)(newDetails));

      _this.setState({
        editing: false
      });
    });

    _this.state = {
      editing: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          dispatch = _this$props2.dispatch,
          isAuthenticated = _this$props2.isAuthenticated,
          profile = _this$props2.profile,
          profileDetails = _this$props2.profileDetails;
      var loading = profileDetails.id !== profile.id;
      return /*#__PURE__*/_react.default.createElement(_profileDetails.default, {
        data: profileDetails,
        dispatch: dispatch,
        user: profile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-details"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        onEdit: this.onEdit,
        showEditButton: !!profileDetails.edit && !this.state.editing
      }), /*#__PURE__*/_react.default.createElement(_groupsList.default, {
        display: !this.state.editing,
        groups: profileDetails.groups,
        isAuthenticated: isAuthenticated,
        loading: loading,
        profile: profile
      }), /*#__PURE__*/_react.default.createElement(_form.default, {
        api: profile.api.edit_details,
        dispatch: dispatch,
        display: this.state.editing,
        onCancel: this.onCancel,
        onSuccess: this.onSuccess
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../data/profile-details":295,"../../../reducers/profile-details":349,"../../../services/page-title":368,"../../../services/snackbar":371,"./form":172,"./groups-list":174,"./header":175,"react":"react"}],177:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _route = _interopRequireDefault(require("./route"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function Threads(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.profile.threads);
    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.profile.threads);

    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.profile.posts);
    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.profile.posts);

    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":178,"react":"react"}],178:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.next);
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;

      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      _ajax.default.get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          _store.default.dispatch(posts.load(data));
        } else {
          _store.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-feed"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.props.header)), /*#__PURE__*/_react.default.createElement(Feed, _extends({
        isLoading: this.state.isLoading,
        loadMore: this.loadMore
      }, this.props)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Feed(props) {
  if (!props.posts.results.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, props.emptyMessage);
  }

  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: props.posts.isLoaded,
    posts: props.posts.results,
    poster: props.profile
  }), /*#__PURE__*/_react.default.createElement(LoadMoreButton, {
    isLoading: props.isLoading,
    loadMore: props.loadMore,
    next: props.posts.next
  }));
}

function LoadMoreButton(props) {
  if (!props.next) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pager-more"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn btn-default btn-outline",
    loading: props.isLoading,
    onClick: props.loadMore
  }, gettext("Show older activity")));
}

},{"../../../reducers/posts":348,"../../../services/ajax":359,"../../../services/page-title":368,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../post-feed":116,"react":"react"}],179:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _profile = require("../../reducers/profile");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "action", function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax.default.post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.action
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), this.getLabel());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/profile":350,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"../button":10,"react":"react"}],180:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _usersList = _interopRequireDefault(require("../users-list"));

var _ = _interopRequireDefault(require("../.."));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    });

    _this.setSpecialProps();

    if (_.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = gettext("Followers");
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var apiUrl = this.props.profile.api[this.API_FILTER];

      _ajax.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show more (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.getEmptyMessage());
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 3,
        isReady: this.state.isLoaded,
        users: this.props.users
      }), this.getMoreButton());
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search users...")
      })), this.getListBody());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../reducers/users":358,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../quick-search":191,"../users-list":278,"react":"react"}],181:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _followers = _interopRequireDefault(require("./followers"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Followers) {
  _inherits(_default, _Followers);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      this.TITLE = gettext("Follows");
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);

  return _default;
}(_followers.default);

exports.default = _default;

},{"./followers":180,"react":"react"}],182:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _messageButton = _interopRequireDefault(require("./message-button"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _userStatus = _interopRequireWildcard(require("../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getUserStatus",
    value: function getUserStatus() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-status-display"
      }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
        user: this.props.profile,
        status: this.props.profile.status
      }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
        user: this.props.profile,
        status: this.props.profile.status
      }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
        user: this.props.profile,
        status: this.props.profile.status,
        className: "status-label"
      })));
    }
  }, {
    key: "getUserRank",
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.profile.rank.url,
          className: "item-title"
        }, this.props.profile.rank.name));
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.profile.rank.name));
      }
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (this.props.profile.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.title);
      } else if (this.props.profile.rank.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.rank.title);
      } else {
        return null;
      }
    }
  }, {
    key: "getJoinedOn",
    value: function getJoinedOn() {
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.format("LL, LT")
      }, true);
      var age = interpolate(gettext("Joined %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.fromNow()
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-joined-on"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: title
      }, age));
    }
  }, {
    key: "getEmail",
    value: function getEmail() {
      if (this.props.profile.email) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-email"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: "mailto:" + this.props.profile.email,
          className: "item-title"
        }, this.props.profile.email));
      } else {
        return null;
      }
    }
  }, {
    key: "getFollowButton",
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        return /*#__PURE__*/_react.default.createElement(_followButton.default, {
          className: "btn btn-block btn-outline",
          profile: this.props.profile
        });
      } else {
        return null;
      }
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group btn-group-justified"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-moderate btn-outline dropdown-toggle",
          type: "button",
          "data-toggle": "dropdown",
          "aria-haspopup": "true",
          "aria-expanded": "false"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "tonality"), gettext("Moderation")), /*#__PURE__*/_react.default.createElement(_nav.default, {
          profile: this.props.profile
        })));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;
      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;
      var colsWidth = cols ? 2 * cols + 1 : 0;
      var headerClassName = "page-header";

      if (this.props.profile.rank.css_class) {
        headerClassName += " page-header-rank-" + this.props.profile.rank.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(IsDisabledMessage, {
        isActive: this.props.profile.is_active,
        isDeletingAccount: this.props.profile.is_deleting_account
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + (12 - colsWidth)
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        className: "user-avatar user-avatar-sm",
        user: this.props.profile,
        size: "100",
        size2x: "200"
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.profile.username)), !!cols && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + colsWidth
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, !!canMessage && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 0)
      }, /*#__PURE__*/_react.default.createElement(_messageButton.default, {
        className: "btn btn-default btn-block btn-outline",
        profile: this.props.profile,
        user: this.props.user
      })), !!canFollow && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 1)
      }, this.getFollowButton()), !!canModerate && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 2)
      }, this.getModerationButton()))))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "header-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-inline"
      }, this.getUserStatus(), this.getUserRank(), this.getUserTitle(), this.getJoinedOn(), this.getEmail()))))), /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        baseUrl: this.props.baseUrl,
        pages: this.props.pages,
        profile: this.props.profile
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function IsDisabledMessage(_ref) {
  var isActive = _ref.isActive,
      isDeletingAccount = _ref.isDeletingAccount;
  if (isActive !== false && isDeletingAccount !== true) return null;
  var message = null;

  if (isDeletingAccount) {
    message = gettext("This user is deleting their account.");
  } else {
    message = gettext("This user's account has been disabled by administrator.");
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "alert alert-danger"
  }, /*#__PURE__*/_react.default.createElement("p", null, message));
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols == 1) {
    colStyle = "col-xs-12";
  }

  if (cols == 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols == 3) {
    if (col == 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}

},{"../avatar":8,"../dropdown-toggle":29,"../user-status":268,"./follow-button":179,"./message-button":183,"./moderation/nav":187,"./navs":188,"react":"react"}],183:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API"),
        to: [_this.props.profile]
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      if (!canMessage || isProfileOwner) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.className,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "comment"), gettext("Message"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../services/posting":370,"react":"react"}],184:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,
          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));

      _snackbar.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Lock avatar"),
        helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
        for: "id_is_avatar_locked"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_avatar_locked",
        disabled: this.state.isLoading,
        iconOn: "lock_outline",
        iconOff: "lock_open",
        labelOn: gettext("Disallow user from changing avatar"),
        labelOff: gettext("Allow user to change avatar"),
        onChange: this.bindInput("is_avatar_locked"),
        value: this.state.is_avatar_locked
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User message"),
        helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
        for: "id_avatar_lock_user_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_user_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_user_message"),
        value: this.state.avatar_lock_user_message
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Staff message"),
        helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
        for: "id_avatar_lock_staff_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_staff_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_staff_message"),
        value: this.state.avatar_lock_staff_message
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Close")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Avatar controls"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"../../yes-no-switch":294,"react":"react"}],185:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      username: "",
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar.default.success(gettext("Username has been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change username"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/username-history":357,"../../../reducers/users":358,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/validators":387,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"react":"react"}],186:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _polls = _interopRequireDefault(require("../../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "countdown", function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });

          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    });

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,
      countdown: 5,
      confirm: false,
      with_content: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _polls.default.stop("user-profile");

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User content"),
        for: "id_with_content"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_with_content",
        disabled: this.state.isLoading,
        labelOn: gettext("Delete together with user's account"),
        labelOff: gettext("Hide after deleting user's account"),
        onChange: this.bindInput("with_content"),
        value: this.state.with_content
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading,
        disabled: !this.state.confirm
      }, this.getButtonLabel())));
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.state.isDeleted), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERS_LIST_URL")
      }, gettext("Return to users list")))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Delete user account"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":296,"../../../services/ajax":359,"../../../services/polls":369,"../../button":10,"../../form":50,"../../form-group":49,"../../modal-loader":55,"../../modal-message":56,"../../yes-no-switch":294,"react":"react"}],187:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatarControls = _interopRequireDefault(require("./avatar-controls"));

var _changeUsername = _interopRequireDefault(require("./change-username"));

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showAvatarDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_avatarControls.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showRenameDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_changeUsername.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showDeleteDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_deleteAccount.default));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarButton",
    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showAvatarDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "portrait"), gettext("Avatar controls")));
      } else {
        return null;
      }
    }
  }, {
    key: "getRenameButton",
    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showRenameDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "credit_card"), gettext("Change username")));
      } else {
        return null;
      }
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showDeleteDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "clear"), gettext("Delete account")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        role: "menu"
      }, this.getAvatarButton(), this.getRenameButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../services/modal":366,"./avatar-controls":184,"./change-username":185,"./delete-account":186,"react":"react","react-redux":"react-redux"}],188:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = CompactNav;
exports.SideNav = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SideNav = /*#__PURE__*/function (_React$Component) {
  _inherits(SideNav, _React$Component);

  var _super = _createSuper(SideNav);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _super.apply(this, arguments);
  }

  _createClass(SideNav, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "list-group nav-side"
      }, this.props.pages.map(function (page) {
        return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
          to: _this.props.baseUrl + page.component + "/",
          className: "list-group-item",
          activeClassName: "active",
          key: page.component
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, page.icon), page.name);
      }));
    }
  }]);

  return SideNav;
}(_react.default.Component);

exports.SideNav = SideNav;

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs hidden-md hidden-lg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills",
    role: "menu"
  }, props.pages.map(function (page) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + page.component + "/",
      key: page.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + page.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  }))));
}

},{"../..":296,"../li":51,"./follow-button":179,"react":"react","react-router":"react-router"}],189:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _banDetails = _interopRequireDefault(require("./ban-details"));

var _details = _interopRequireDefault(require("./details"));

var _feed = require("./feed");

var _followers = _interopRequireDefault(require("./followers"));

var _follows = _interopRequireDefault(require("./follows"));

var _usernameHistory = _interopRequireDefault(require("./username-history"));

var _header = _interopRequireDefault(require("./header"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _avatar = _interopRequireDefault(require("../avatar"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _polls = _interopRequireDefault(require("../../services/polls"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _profile.hydrate)(data));
    });

    _this.startPolling(props.profile.api.index);

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var baseUrl = _.default.get("PROFILE").url;

      var pages = _.default.get("PROFILE_PAGES");

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-user-profile"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile,
        toggleNav: this.toggleNav,
        toggleModeration: this.toggleModeration,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-side-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.profile,
        size: "400"
      })), /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}

var COMPONENTS = {
  posts: _feed.Posts,
  threads: _feed.Threads,
  followers: _followers.default,
  follows: _follows.default,
  details: _details.default,
  "username-history": _usernameHistory.default,
  "ban-details": _banDetails.default
};

function paths() {
  var paths = [];

  _.default.get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _.default.get("PROFILE").url + item.component + "/",
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":296,"../../reducers/profile":350,"../../services/polls":369,"../../services/store":372,"../avatar":8,"../with-dropdown":293,"./ban-details":168,"./details":176,"./feed":177,"./followers":180,"./follows":181,"./header":182,"./moderation/nav":187,"./navs":188,"./username-history":190,"react":"react","react-redux":"react-redux"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _root = _interopRequireDefault(require("../username-history/root"));

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = require("../../reducers/username-history");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    });

    if (_.default.has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);
        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show older (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-username-history"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search history...")
      })), /*#__PURE__*/_react.default.createElement(_root.default, {
        isLoaded: this.state.isLoaded,
        emptyMessage: this.getEmptyMessage(),
        changes: this.props["username-history"]
      }), this.getMoreButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":296,"../../reducers/username-history":357,"../../services/ajax":359,"../../services/page-title":368,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../quick-search":191,"../username-history/root":274,"react":"react"}],191:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        value: this.props.value,
        onChange: this.props.onChange,
        placeholder: this.props.placeholder || gettext("Search...")
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "search"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],192:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

var _register = _interopRequireDefault(require("./register.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showRegisterForm", function () {
      if (misago.get("SETTINGS").account_activation === "closed") {
        _snackbar.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({
          isLoading: true
        });

        Promise.all([_captcha.default.load(), _ajax.default.get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({
            isLoading: false
          });

          _snackbar.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    });

    _this.state = {
      isLoading: false,
      isLoaded: false,
      criteria: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? " btn-loading" : "");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn " + this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.showRegisterForm,
        type: "button"
      }, gettext("Make Account"), this.state.isLoading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/captcha":361,"../services/modal":366,"../services/snackbar":371,"./loader":52,"./register.js":193,"react":"react"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RegisterComplete = exports.RegisterForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _passwordStrength = _interopRequireDefault(require("./password-strength"));

var _RegisterLegalFootnote = _interopRequireDefault(require("./RegisterLegalFootnote"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

var validators = _interopRequireWildcard(require("../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var RegisterForm = /*#__PURE__*/function (_Form) {
  _inherits(RegisterForm, _Form);

  var _super = _createSuper(RegisterForm);

  function RegisterForm(props) {
    var _this;

    _classCallCheck(this, RegisterForm);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;
    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });
    var formValidators = {
      username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
      email: [validators.email()],
      password: [validators.passwordMinLength(passwordMinLength)],
      captcha: _captcha.default.validator()
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      isLoading: false,
      username: "",
      email: "",
      password: "",
      captcha: "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar.default.error(rejection.__all__[0]);
        } else {
          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Register"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonClassName: "col-xs-12 col-sm-6",
        buttonLabel: gettext("Join with %(site)s"),
        formLabel: gettext("Or create forum account:")
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Username"),
        for: "id_username",
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        "aria-describedby": "id_username_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("E-mail"),
        for: "id_email",
        validation: this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_email",
        className: "form-control",
        "aria-describedby": "id_email_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Password"),
        for: "id_password",
        validation: this.state.errors.password,
        extra: /*#__PURE__*/_react.default.createElement(_passwordStrength.default, {
          password: this.state.password,
          inputs: [this.state.username, this.state.email]
        })
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_password",
        className: "form-control",
        "aria-describedby": "id_password_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      })), _captcha.default.component({
        form: this
      }), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Register account"))))));
    }
  }]);

  return RegisterForm;
}(_form.default);

exports.RegisterForm = RegisterForm;

var RegisterComplete = /*#__PURE__*/function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  var _super2 = _createSuper(RegisterComplete);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _super2.apply(this, arguments);
  }

  _createClass(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === "admin") {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === "admin") {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-message modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Registration complete"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, interpolate(this.getLead(), {
        username: this.props.username
      }, true)), /*#__PURE__*/_react.default.createElement("p", null, interpolate(this.getSubscript(), {
        email: this.props.email
      }, true)), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))))));
    }
  }]);

  return RegisterComplete;
}(_react.default.Component);

exports.RegisterComplete = RegisterComplete;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "completeRegistration", function (apiResponse) {
      if (apiResponse.activation === "active") {
        _modal.default.hide();

        _auth.default.signIn(apiResponse);
      } else {
        _this2.setState({
          complete: apiResponse
        });
      }
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return /*#__PURE__*/_react.default.createElement(RegisterForm, _extends({
        callback: this.completeRegistration
      }, this.props));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/auth":360,"../services/captcha":361,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./RegisterLegalFootnote":3,"./StartSocialAuth":4,"./button":10,"./form":50,"./form-group":49,"./password-strength":97,"react":"react"}],194:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LinkSent = exports.RequestLinkForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestLinkForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestLinkForm, _Form);

  var _super = _createSuper(RequestLinkForm);

  function RequestLinkForm(props) {
    var _this;

    _classCallCheck(this, RequestLinkForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        _snackbar.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestLinkForm;
}(_form.default);

exports.RequestLinkForm = RequestLinkForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block",
        type: "button",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          user: this.state.complete,
          callback: this.reset
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(RequestLinkForm, {
          callback: this.complete
        });
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./button":10,"./form":50,"react":"react"}],195:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestResetForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestResetForm, _Form);

  var _super = _createSuper(RequestResetForm);

  function RequestResetForm(props) {
    var _this;

    _classCallCheck(this, RequestResetForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestResetForm;
}(_form.default);

exports.RequestResetForm = RequestResetForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary btn-block",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var AccountInactivePage = /*#__PURE__*/function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  var _super3 = _createSuper(AccountInactivePage);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _super3.apply(this, arguments);
  }

  _createClass(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
          href: _.default.get("REQUEST_ACTIVATION_URL")
        }, gettext("Activate your account.")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-info page-forgotten-password-inactive"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("Your account is inactive.")), /*#__PURE__*/_react.default.createElement("p", null, this.props.message), this.getActivateButton()))));
    }
  }]);

  return AccountInactivePage;
}(_react.default.Component);

exports.AccountInactivePage = AccountInactivePage;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super4 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super4.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }

      return /*#__PURE__*/_react.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/snackbar":371,"../utils/banned-page":374,"../utils/validators":387,"./..":296,"./button":10,"./form":50,"react":"react","react-dom":"react-dom"}],196:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PasswordChangedPage = exports.ResetPasswordForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _signIn = _interopRequireDefault(require("./sign-in.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ResetPasswordForm = /*#__PURE__*/function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  var _super = _createSuper(ResetPasswordForm);

  function ResetPasswordForm(props) {
    var _this;

    _classCallCheck(this, ResetPasswordForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter new password."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-reset-password"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: gettext("Enter new password"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Change password"))));
    }
  }]);

  return ResetPasswordForm;
}(_form.default);

exports.ResetPasswordForm = ResetPasswordForm;

var PasswordChangedPage = /*#__PURE__*/function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  var _super2 = _createSuper(PasswordChangedPage);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _super2.apply(this, arguments);
  }

  _createClass(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-success page-forgotten-password-changed"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, gettext("You will have to sign in using new password before continuing.")), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary",
        onClick: this.showSignIn
      }, gettext("Sign in")))))));
    }
  }]);

  return PasswordChangedPage;
}(_react.default.Component);

exports.PasswordChangedPage = PasswordChangedPage;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default() {
    var _this2;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this2 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _auth.default.softSignOut(); // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in


      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(PasswordChangedPage, {
        user: apiResponse
      }), document.getElementById("page-mount"));
    });

    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(ResetPasswordForm, {
        callback: this.complete
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":359,"../services/auth":360,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"./..":296,"./button":10,"./form":50,"./sign-in.js":205,"react":"react","react-dom":"react-dom"}],197:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _form = _interopRequireDefault(require("../form"));

var _posts = require("../../reducers/posts");

var _search = require("../../reducers/search");

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onQueryChange", function (event) {
      _this.changeValue("query", event.target.value);
    });

    _this.state = {
      isLoading: false,
      query: props.search.query
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar.default.error(gettext("You have to enter search query."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      _store.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax.default.get(_.default.get("SEARCH_API"), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      _store.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === "users") {
          _store.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          _store.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header page-search-form"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Search"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.props.search.isLoading || this.state.isLoading,
        onChange: this.onQueryChange,
        type: "text",
        value: this.state.query
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block btn-outline",
        disabled: this.props.search.isLoading || this.state.isLoading
      }, gettext("Search"))))))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../..":296,"../../reducers/posts":348,"../../reducers/search":351,"../../reducers/users":358,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"../form":50,"react":"react"}],198:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = _default;

var _reactRedux = require("react-redux");

var _threads = _interopRequireDefault(require("./threads"));

var _users = _interopRequireDefault(require("./users"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads.default,
  users: _users.default
};

function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function _default(providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
}

},{"./threads":201,"./users":203,"react-redux":"react-redux"}],199:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SearchTime = SearchTime;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _sidenav = _interopRequireDefault(require("./sidenav"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-search"
  }, /*#__PURE__*/_react.default.createElement(_form.default, {
    provider: props.provider,
    search: props.search
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3"
  }, /*#__PURE__*/_react.default.createElement(_sidenav.default, {
    providers: props.search.providers
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-9"
  }, props.children, /*#__PURE__*/_react.default.createElement(SearchTime, {
    provider: props.provider,
    search: props.search
  })))));
}

function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });
  if (time === null) return null;
  var copy = gettext("Search took %(time)s s to complete");
  return /*#__PURE__*/_react.default.createElement("footer", {
    className: "search-footer"
  }, /*#__PURE__*/_react.default.createElement("p", null, interpolate(copy, {
    time: time
  }, true)));
}

},{"./form":197,"./sidenav":200,"react":"react"}],200:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Badge = Badge;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.providers.map(function (provider) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      activeClassName: "active",
      className: "list-group-item",
      key: provider.id,
      to: provider.url
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, provider.icon), provider.name, /*#__PURE__*/_react.default.createElement(Badge, {
      results: provider.results
    }));
  }));
}

function Badge(props) {
  if (!props.results) return null;
  var count = props.results.count;

  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, count);
}

},{"react":"react","react-router":"react-router"}],201:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _results = _interopRequireDefault(require("./results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    posts: props.posts
  }, /*#__PURE__*/_react.default.createElement(_results.default, _extends({
    provider: props.route.provider,
    query: props.search.query
  }, props.posts))));
}

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No threads matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search threads."));
}

},{"../page":199,"./results":202,"react":"react"}],202:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LoadMore = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _posts = require("../../../reducers/posts");

var _search = require("../../../reducers/search");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: true,
    posts: props.results
  }), /*#__PURE__*/_react.default.createElement(LoadMore, props));
}

var LoadMore = /*#__PURE__*/function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  var _super = _createSuper(LoadMore);

  function LoadMore() {
    var _this;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;

          _store.default.dispatch((0, _posts.append)(provider.results));

          _store.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    });

    return _this;
  }

  _createClass(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.props.isBusy,
        onClick: this.onClick
      }, gettext("Show more")));
    }
  }]);

  return LoadMore;
}(_react.default.Component);

exports.LoadMore = LoadMore;

},{"../../../reducers/posts":348,"../../../reducers/search":351,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../button":10,"../../misago-markup":54,"../../post-feed":116,"react":"react"}],203:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    users: props.users
  }, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 3,
    isReady: true,
    users: props.users
  })));
}

function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No users matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search users."));
}

},{"../../users-list":278,"../page":199,"react":"react"}],204:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Icon = Icon;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "change", function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-select-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-select dropdown-toggle",
        id: this.props.id || null,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement(Icon, {
        icon: this.getIcon()
      }), this.getLabel()), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu"
      }, this.props.choices.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement("li", {
          key: i
        }, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn-link",
          onClick: _this3.change(item.value)
        }, /*#__PURE__*/_react.default.createElement(Icon, {
          icon: item.icon
        }), item.label));
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Icon(_ref) {
  var icon = _ref.icon;
  if (!icon) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon);
}

},{"react":"react"}],205:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      showActivation: false,
      username: "",
      password: "",
      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        _snackbar.default.error(gettext("Fill out both fields."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");
      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />'); // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature

      form.find('input[type="hidden"]').val(_ajax.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit(); // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          _snackbar.default.info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          _snackbar.default.info(rejection.detail);

          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0, _bannedPage.default)(rejection.detail);

          _modal.default.hide();
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;
      return /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-success btn-block",
        href: _.default.get("REQUEST_ACTIVATION_URL")
      }, gettext("Activate account"));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm modal-sign-in",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Sign in"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonLabel: gettext("Sign in with %(site)s"),
        formLabel: gettext("Or use your forum account:"),
        labelClassName: "text-center"
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_username",
        onChange: this.bindInput("username"),
        placeholder: gettext("Username or e-mail"),
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_password",
        onChange: this.bindInput("password"),
        placeholder: gettext("Password"),
        type: "password",
        value: this.state.password
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, this.getActivationButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Sign in")), /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-default btn-block",
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Forgot password?"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../services/ajax":359,"../services/modal":366,"../services/snackbar":371,"../utils/banned-page":374,"./..":296,"./StartSocialAuth":4,"./button":10,"./form":50,"react":"react"}],206:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.Snackbar = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};

var Snackbar = /*#__PURE__*/function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  var _super = _createSuper(Snackbar);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _super.apply(this, arguments);
  }

  _createClass(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";

      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }

      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getSnackbarClass()
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "alert " + TYPES_CLASSES[this.props.type]
      }, this.props.message));
    }
  }]);

  return Snackbar;
}(_react.default.Component);

exports.Snackbar = Snackbar;

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],207:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _header = _interopRequireDefault(require("./header"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Complete = function Complete(_ref) {
  var activation = _ref.activation,
      backend_name = _ref.backend_name,
      username = _ref.username;
  var icon = "";
  var message = "";

  if (activation === "user") {
    message = gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === "admin") {
    message = gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
  } else {
    message = gettext("%(username)s, your account has been created and you have been signed in to it.");
  }

  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-social-auth page-social-sauth-register"
  }, /*#__PURE__*/_react.default.createElement(_header.default, {
    backendName: backend_name
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-6 col-md-offset-3"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Registration completed!"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, interpolate(message, {
    username: username
  }, true)), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default",
    href: _.default.get("MISAGO_PATH")
  }, gettext("Return to forum index"))))))))));
};

var _default = Complete;
exports.default = _default;

},{"../..":296,"./header":208,"react":"react"}],208:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = function Header(_ref) {
  var backendName = _ref.backendName;
  var pageTitleTpl = gettext("Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, {
    backend: backendName
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header-bg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("h1", null, pageTitle))));
};

var _default = Header;
exports.default = _default;

},{"react":"react"}],209:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _register = _interopRequireDefault(require("./register"));

var _complete = _interopRequireDefault(require("./complete"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SocialAuth = /*#__PURE__*/function (_React$Component) {
  _inherits(SocialAuth, _React$Component);

  var _super = _createSuper(SocialAuth);

  function SocialAuth(props) {
    var _this;

    _classCallCheck(this, SocialAuth);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleRegistrationComplete", function (_ref) {
      var activation = _ref.activation,
          email = _ref.email,
          step = _ref.step,
          username = _ref.username;

      _this.setState({
        activation: activation,
        email: email,
        step: step,
        username: username
      });
    });

    _this.state = {
      step: props.step,
      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }

  _createClass(SocialAuth, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          backend_name = _this$props.backend_name,
          url = _this$props.url;
      var _this$state = this.state,
          activation = _this$state.activation,
          email = _this$state.email,
          step = _this$state.step,
          username = _this$state.username;

      if (step === "register") {
        return /*#__PURE__*/_react.default.createElement(_register.default, {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }

      return /*#__PURE__*/_react.default.createElement(_complete.default, {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);

  return SocialAuth;
}(_react.default.Component);

exports.default = SocialAuth;

},{"./complete":207,"./register":210,"react":"react"}],210:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _RegisterLegalFootnote = _interopRequireDefault(require("../RegisterLegalFootnote"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../utils/validators"));

var _header = _interopRequireDefault(require("./header"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Register = /*#__PURE__*/function (_Form) {
  _inherits(Register, _Form);

  var _super = _createSuper(Register);

  function Register(props) {
    var _this;

    _classCallCheck(this, Register);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var formValidators = {
      email: [validators.email()],
      username: [validators.usernameContent()]
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {},
      isLoading: false
    };
    return _this;
  }

  _createClass(Register, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      var validators = this.state.validators;
      var checkTermsOfService = !!_.default.get("TERMS_OF_SERVICE_ID");

      if (checkTermsOfService && this.state.termsOfService === null) {
        _snackbar.default.error(validators.termsOfService[0](null));

        return false;
      }

      var checkPrivacyPolicy = !!_.default.get("PRIVACY_POLICY_ID");

      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        _snackbar.default.error(validators.privacyPolicy[0](null));

        _snackbar.default.error(gettext("You need to accept the privacy policy."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;
      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;
        onRegistrationComplete({
          activation: "active",
          step: "done",
          username: username
        });
      } else if (rejection.status === 400) {
        var stateUpdate = {
          errors: rejection
        };

        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }

        this.setState(stateUpdate);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _this$state = this.state,
          email = _this$state.email,
          emailProtected = _this$state.emailProtected,
          username = _this$state.username,
          isLoading = _this$state.isLoading;
      var emailHelpText = null;

      if (emailProtected) {
        var emailHelpTextTpl = gettext("Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, {
          backend: backend_name
        }, true);
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-social-auth page-social-sauth-register"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        backendName: backend_name
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Complete your details"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("Username"),
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: isLoading,
        onChange: this.bindInput("username"),
        value: username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_email",
        label: gettext("E-mail address"),
        helpText: emailHelpText,
        validation: emailProtected ? null : this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "email",
        id: "id_email",
        className: "form-control",
        disabled: isLoading || emailProtected,
        onChange: this.bindInput("email"),
        value: email
      })), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Sign in")))))))));
    }
  }]);

  return Register;
}(_form.default);

exports.default = Register;

},{"../..":296,"../../services/ajax":359,"../../services/snackbar":371,"../../utils/validators":387,"../RegisterLegalFootnote":3,"../button":10,"../form":50,"../form-group":49,"./header":208,"react":"react"}],211:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-breadcrumbs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ol", {
    className: "breadcrumb hidden-xs"
  }, props.path.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(Breadcrumb, {
      key: item.id,
      node: item
    });
  })), /*#__PURE__*/_react.default.createElement(GoBack, props)));
}

function Breadcrumb(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.node.url.index
  }, props.node.name));
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];
  return /*#__PURE__*/_react.default.createElement("a", {
    href: lastItem.url.index,
    className: "go-back-sm visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), lastItem.name);
}

},{"react":"react"}],212:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Moderation = Moderation;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _breadcrumbs = _interopRequireDefault(require("./breadcrumbs"));

var _thread = require("../moderation/thread");

var _stats = _interopRequireDefault(require("./stats"));

var _form = _interopRequireDefault(require("../../form"));

var _validators = require("../../posting/utils/validators");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        isEditing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        title: _this.props.thread.title,
        isEditing: false
      });
    });

    _this.state = {
      isEditing: false,
      isLoading: false,
      title: props.thread.title,
      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "title",
        value: this.state.title
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(thread.update(data));

      this.setState({
        isEditing: false
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          thread = _this$props.thread,
          user = _this$props.user;
      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top title-edit-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-6"
        }, /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          type: "text",
          value: this.state.title,
          onChange: this.onChange
        })), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-4"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top-half sm-margin-top-no md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-block btn-outline",
          disabled: this.state.isLoading,
          title: gettext("Change title")
        }, gettext("Save changes"))), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          disabled: this.state.isLoading,
          onClick: this.onCancel,
          title: gettext("Cancel"),
          type: "button"
        }, gettext("Cancel")))))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (user.id && thread.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-xs-6" : "col-xs-12"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          onClick: this.onEdit,
          title: gettext("Edit title"),
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "edit"), /*#__PURE__*/_react.default.createElement("span", {
          className: "hidden-sm"
        }, gettext("Edit")))), showModeration && /*#__PURE__*/_react.default.createElement(Moderation, this.props))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (showModeration) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-9 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement(Moderation, _extends({
          isSingle: true
        }, this.props)))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
        path: thread.path
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement(_stats.default, {
        thread: thread
      }));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function Moderation(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.isSingle ? "col-xs-12" : "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group btn-group-justified"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "false",
    "aria-haspopup": "true",
    className: "btn btn-default btn-outline dropdown-toggle",
    "data-toggle": "dropdown",
    disabled: props.thread.isBusy,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "settings"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.isSingle ? "" : "hidden-sm"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement(_thread.ModerationControls, {
    posts: props.posts,
    thread: props.thread,
    user: props.user
  }))));
}

},{"../../../reducers/thread":354,"../../../services/ajax":359,"../../../services/snackbar":371,"../../../services/store":372,"../../form":50,"../../posting/utils/validators":138,"../moderation/thread":221,"./breadcrumbs":211,"./stats":213,"react":"react"}],213:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-globally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned globally")));
  } else if (props.thread.weight == 1) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-locally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark_border"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned locally")));
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved")));
  } else if (props.thread.has_unapproved_posts) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved-posts"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved posts")));
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-hidden"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Hidden")));
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-closed"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Closed")));
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, {
    replies: props.thread.replies
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-legend"
  }, legend));
}

function LastReply(props) {
  var user = null;

  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  }

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml.default)(props.thread.last_post_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.thread.last_post_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date,
    user: user
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-last-reply",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "header-stats"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement(Weight, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Unapproved, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsHidden, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsClosed, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Replies, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(LastReply, {
    thread: props.thread
  }))));
}

},{"../../../utils/escape-html":378,"react":"react"}],214:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });
  patch(props, ops, newState, previousState);
}

function protect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function unprotect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function hide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function unhide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function patch(props, ops, newState, previousState) {
  var selection = props.selection,
      thread = props.thread; // patch selected items

  newState.forEach(function (item) {
    post.patch(item, item);
  }); // deselect all the things

  _store.default.dispatch(posts.deselectAll()); // call ajax


  var data = {
    ops: ops,
    ids: selection.map(function (post) {
      return post.id;
    })
  };

  _ajax.default.patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      _store.default.dispatch(post.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        _store.default.dispatch(post.patch(item, item));
      });
      return _snackbar.default.apiError(rejection);
    }

    var errors = [];
    var rollback = [];
    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        _store.default.dispatch(post.patch(item, item));
      }

      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          _store.default.dispatch(post.patch(item, item));
        }
      });
    });
    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });

    _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
      errors: errors,
      posts: posts
    }));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });
  var ids = props.selection.map(function (post) {
    return post.id;
  });

  _ajax.default.delete(props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":347,"../../../../reducers/posts":348,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"./errors-list":216,"moment":"moment","react":"react"}],215:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Merge, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Approve = /*#__PURE__*/function (_React$Component) {
  _inherits(Approve, _React$Component);

  var _super = _createSuper(Approve);

  function Approve() {
    var _this;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      moderation.approve(_this.props);
    });

    return _this;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Merge = /*#__PURE__*/function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  var _super2 = _createSuper(Merge);

  function Merge() {
    var _this2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      moderation.merge(_this2.props);
    });

    return _this2;
  }

  _createClass(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }]);

  return Merge;
}(_react.default.Component);

exports.Merge = Merge;

var Move = /*#__PURE__*/function (_React$Component3) {
  _inherits(Move, _React$Component3);

  var _super3 = _createSuper(Move);

  function Move() {
    var _this3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this3.props));
    });

    return _this3;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component4) {
  _inherits(Split, _React$Component4);

  var _super4 = _createSuper(Split);

  function Split() {
    var _this4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this4.props));
    });

    return _this4;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  var _super5 = _createSuper(Protect);

  function Protect() {
    var _this5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      moderation.protect(_this5.props);
    });

    return _this5;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  var _super6 = _createSuper(Unprotect);

  function Unprotect() {
    var _this6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.unprotect(_this6.props);
    });

    return _this6;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Unprotect")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  var _super7 = _createSuper(Hide);

  function Hide() {
    var _this7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      moderation.hide(_this7.props);
    });

    return _this7;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  var _super8 = _createSuper(Unhide);

  function Unhide() {
    var _this8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      moderation.unhide(_this8.props);
    });

    return _this8;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  var _super9 = _createSuper(Delete);

  function Delete() {
    var _this9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.remove(_this9.props);
    });

    return _this9;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":366,"./actions":214,"./move":218,"./split":219,"react":"react"}],216:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PostErrors = PostErrors;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var errors = _ref.errors,
      posts = _ref.posts;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("One or more posts could not be changed:")), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-errored-items"
  }, errors.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(PostErrors, {
      errors: post.detail,
      key: post.id,
      post: posts[post.id]
    });
  })))));
}

function PostErrors(_ref2) {
  var errors = _ref2.errors,
      post = _ref2.post;
  var heading = interpolate(gettext("%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, heading, ":"), errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("p", {
      key: i
    }, error);
  }));
}

},{"react":"react"}],217:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropup"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    disabled: !selection.length,
    type: "button"
  }, gettext("Posts options")), /*#__PURE__*/_react.default.createElement(_dropdown.default, _extends({
    selection: selection
  }, props)));
}

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  } // slow test: show moderation if any of posts has moderation options


  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":215,"react":"react"}],218:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move posts to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move posts"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move posts")));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"../../../form":50,"../../../form-group":49,"react":"react"}],219:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split posts")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move selected posts at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok"))));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split posts into new thread"))), props.children));
}

},{"../../../../reducers/post":347,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../../utils/validators":387,"../../../button":10,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"../../../select":204,"react":"react"}],220:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      _store.default.dispatch(thread.busy()); // by the chance update thread acl too


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store.default.dispatch(thread.update(data));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(successMessage);
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Thread has been pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Thread has been pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Thread has been unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Thread has been approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Thread has been opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Thread has been closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Thread has been made visible."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Thread has been made hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, {
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store.default.dispatch(thread.busy());

      _ajax.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar.default.success(gettext("Thread has been deleted."));

        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (!this.props.thread.acl.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.hide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.thread.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"./merge":223,"./move":224,"react":"react"}],221:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "ModerationControls", {
  enumerable: true,
  get: function get() {
    return _controls.default;
  }
});
Object.defineProperty(exports, "isModerationVisible", {
  enumerable: true,
  get: function get() {
    return _isVisible.default;
  }
});

var _controls = _interopRequireDefault(require("./controls"));

var _isVisible = _interopRequireDefault(require("./is-visible"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./controls":220,"./is-visible":222}],222:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(thread) {
  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);
}

},{}],223:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _mergeConflict = _interopRequireDefault(require("../../../merge-conflict"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.handleSuccessUnmounted(success); // keep form loading


      _this.setState({
        isLoading: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccessUnmounted", function (success) {
      _snackbar.default.success(gettext("Thread has been merged with other one."));

      window.location = success.url;
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _store.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: {
              other_thread: _this.state.url
            },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          _snackbar.default.error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          _snackbar.default.error(rejection.poll[0]);
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to merge with"),
        help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading || this.props.thread.isBusy
      }, gettext("Merge thread"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Merge thread")));
}

},{"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../form":50,"../../../form-group":49,"../../../merge-conflict":53,"react":"react"}],224:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ = _interopRequireDefault(require("../../../.."));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      _this.changeValue("category", event.target.value);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,
      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(_.default.get("THREAD_EDITOR_API")).then(function (data) {
        var category = null; // hydrate categories, extract posting options

        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,
          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "category",
        value: this.state.category
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.posts.page
      }).then(function (data) {
        _store.default.dispatch(thread.replace(data));

        _store.default.dispatch(posts.load(data.post_set));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(gettext("Thread has been moved."));

        _modal.default.hide();
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-dialog",
          role: "document"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-content"
        }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-body"
        }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          for: "id_category",
          label: gettext("New category")
        }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
          choices: this.state.categories,
          disabled: this.state.isLoading || this.props.thread.isBusy,
          id: "id_category",
          onChange: this.onCategoryChange,
          value: this.state.category
        }))), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-footer"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default",
          "data-dismiss": "modal",
          disabled: this.state.isLoading,
          type: "button"
        }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary",
          loading: this.state.isLoading || this.props.thread.isBusy
        }, gettext("Move thread"))))));
      } else if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(ModalMessage, {
          message: this.state.isError
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(ModalLoading, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move thread")));
}

function ModalLoading(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement(_modalLoader.default, null)));
}

function ModalMessage(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog modal-message",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this thread at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok")))));
}

},{"../../../..":296,"../../../../reducers/posts":348,"../../../../reducers/thread":354,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../category-select":23,"../../../form":50,"../../../form-group":49,"../../../modal-loader":55,"react":"react"}],225:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("nav", {
    className: "misago-pagination pull-left"
  }, /*#__PURE__*/_react.default.createElement(Pager, props), /*#__PURE__*/_react.default.createElement(More, {
    more: props.posts.more
  }));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = "";

    if (props.posts.previous) {
      previousUrl = props.posts.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = "";

    if (props.posts.next) {
      nextUrl = props.posts.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + props.posts.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"react":"react","react-router":"react-router"}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("button", {
    className: props.className || "btn btn-primary btn-outline",
    onClick: props.onClick,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chat"), gettext("Reply"));
}

},{"react":"react"}],227:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}

function paths() {
  var thread = _.default.get("THREAD");

  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");
  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route.default)
  }, {
    path: basePath + ":page/",
    component: (0, _reactRedux.connect)(select)(_route.default)
  }];
}

},{"../..":296,"./route":228,"react-redux":"react-redux"}],228:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _participants = _interopRequireDefault(require("../participants"));

var _poll = require("../poll");

var _postsList = _interopRequireDefault(require("../posts-list"));

var _header = _interopRequireDefault(require("./header"));

var _toolbarTop = _interopRequireDefault(require("./toolbar-top"));

var _toolbarBottom = _interopRequireDefault(require("./toolbar-bottom"));

var participants = _interopRequireWildcard(require("../../reducers/participants"));

var poll = _interopRequireWildcard(require("../../reducers/poll"));

var posts = _interopRequireWildcard(require("../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch(thread.replace(data));

      _store.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    });

    _defineProperty(_assertThisInitialized(_this), "openReplyForm", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;

      _store.default.dispatch(posts.unload());

      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      _polls.default.start({
        poll: "thread-posts",
        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,
        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      _polls.default.stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      _pageTitle.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var className = "page page-thread";

      if (this.props.thread.category.css_class) {
        className += " page-thread-" + this.props.thread.category.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement(_header.default, this.props)), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_toolbarTop.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props)), /*#__PURE__*/_react.default.createElement(_poll.Poll, {
        poll: this.props.poll,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_participants.default, {
        participants: this.props.participants,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_postsList.default, this.props), /*#__PURE__*/_react.default.createElement(_toolbarBottom.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/participants":345,"../../reducers/poll":346,"../../reducers/posts":348,"../../reducers/thread":354,"../../services/ajax":359,"../../services/page-title":368,"../../services/polls":369,"../../services/posting":370,"../../services/snackbar":371,"../../services/store":372,"../participants":95,"../poll":100,"../posts-list":145,"./header":212,"./toolbar-bottom":230,"./toolbar-top":231,"react":"react"}],229:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;
exports.Email = exports.Enable = exports.Disable = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(props.thread.subscription)), getLabel(props.thread.subscription)), /*#__PURE__*/_react.default.createElement(Dropdown, props));
}

function getIcon(subscription) {
  if (subscription === true) {
    return "star";
  } else if (subscription === false) {
    return "star_half";
  } else {
    return "star_border";
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.dropdownClassName || "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Disable, props), /*#__PURE__*/_react.default.createElement(Enable, props), /*#__PURE__*/_react.default.createElement(Email, props));
}

var Disable = /*#__PURE__*/function (_React$Component) {
  _inherits(Disable, _React$Component);

  var _super = _createSuper(Disable);

  function Disable() {
    var _this;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, "unsubscribe");
    });

    return _this;
  }

  _createClass(Disable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe")));
    }
  }]);

  return Disable;
}(_react.default.Component);

exports.Disable = Disable;

var Enable = /*#__PURE__*/function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  var _super2 = _createSuper(Enable);

  function Enable() {
    var _this2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, "notify");
    });

    return _this2;
  }

  _createClass(Enable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe")));
    }
  }]);

  return Enable;
}(_react.default.Component);

exports.Enable = Enable;

var Email = /*#__PURE__*/function (_React$Component3) {
  _inherits(Email, _React$Component3);

  var _super3 = _createSuper(Email);

  function Email() {
    var _this3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, "email");
    });

    return _this3;
  }

  _createClass(Email, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail")));
    }
  }]);

  return Email;
}(_react.default.Component);

exports.Email = Email;

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "subscription",
    value: value
  }]).then(function (finalState) {
    _store.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":354,"../../services/ajax":359,"../../services/snackbar":371,"../../services/store":372,"react":"react"}],230:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = _interopRequireDefault(require("react"));

var _paginator = require("./paginator");

var _posts = _interopRequireDefault(require("./moderation/posts"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(_paginator.Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  })))), /*#__PURE__*/_react.default.createElement(Options, {
    visible: !!props.user.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer hidden-md hidden-lg"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, props), /*#__PURE__*/_react.default.createElement(Moderation, props), /*#__PURE__*/_react.default.createElement(Subscription, props), /*#__PURE__*/_react.default.createElement(Reply, {
    thread: props.thread,
    onClick: props.openReplyForm
  }))));
}

function Options(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-5"
  }, props.children);
}

function Moderation(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_posts.default, props));
}

function Subscription(props) {
  var xsClass = "col-xs-6";

  if (!props.thread.acl.can_reply) {
    xsClass = "col-xs-12";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: xsClass + " col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    btnClassName: "btn-block",
    className: "dropup"
  }, props)));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.onClick
  }));
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "hidden-xs hidden-sm col-sm-4"
  });
}

},{"./moderation/posts":217,"./paginator":225,"./reply-button":226,"./subscription":229,"react":"react"}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoBestAnswer = GotoBestAnswer;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;
exports.StartPollCompact = exports.StartPoll = void 0;

var _react = _interopRequireDefault(require("react"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

var _posting = _interopRequireDefault(require("../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar row-toolbar-bottom-margin"
  }, /*#__PURE__*/_react.default.createElement(GotoMenu, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-md-5 col-md-offset-2"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: !props.user.id
  }), /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: hiddenSpecialOption
  }), /*#__PURE__*/_react.default.createElement(SubscriptionMenu, props), /*#__PURE__*/_react.default.createElement(StartPoll, props), /*#__PURE__*/_react.default.createElement(Reply, props))));
}

function GotoMenu(props) {
  var user = props.user;
  var className = "col-xs-3 col-sm-3 col-md-5";

  if (user.is_anonymous) {
    className = "col-xs-12 col-sm-3 col-md-5";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement(GotoLast, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoNew, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoBestAnswer, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoUnapproved, {
    thread: props.thread
  })), /*#__PURE__*/_react.default.createElement(CompactOptions, props));
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first new post")
  }, gettext("New")));
}

function GotoBestAnswer(props) {
  if (!props.thread.best_answer) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.best_answer,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to best answer")
  }, gettext("Best answer")));
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first unapproved post")
  }, gettext("Unapproved")));
}

function GotoLast(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to last post")
  }, gettext("Last")));
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "visible-xs-block visible-sm-block"
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: props.thread.url.last_post,
      className: "btn btn-default btn-block btn-outline"
    }, gettext("Last post")));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown visible-xs-block visible-sm-block"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-xs"
  }, gettext("Options"))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(StartPollCompact, props), /*#__PURE__*/_react.default.createElement(GotoNewCompact, props), /*#__PURE__*/_react.default.createElement(GotoUnapprovedCompact, props), /*#__PURE__*/_react.default.createElement(GotoLastCompact, props)));
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-link"
  }, gettext("Go to first new post")));
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-link"
  }, gettext("Go to first unapproved post")));
}

function GotoLastCompact(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-link"
  }, gettext("Go to last post")));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.openReplyForm
  }));
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    className: "dropdown",
    dropdownClassName: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, props)));
}

var StartPoll = /*#__PURE__*/function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  var _super = _createSuper(StartPoll);

  function StartPoll() {
    var _this;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "POLL",
        submit: _this.props.thread.api.poll,
        thread: _this.props.thread,
        poll: null
      });
    });

    return _this;
  }

  _createClass(StartPoll, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-4 hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-outline",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "poll"), gettext("Add poll")));
    }
  }]);

  return StartPoll;
}(_react.default.Component);

exports.StartPoll = StartPoll;

var StartPollCompact = /*#__PURE__*/function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  var _super2 = _createSuper(StartPollCompact);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _super2.apply(this, arguments);
  }

  _createClass(StartPollCompact, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Add poll")));
    }
  }]);

  return StartPollCompact;
}(StartPoll);

exports.StartPollCompact = StartPollCompact;

function Spacer(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  });
}

},{"../../services/posting":370,"./reply-button":226,"./subscription":229,"react":"react"}],232:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _empty = _interopRequireDefault(require("./list/empty"));

var _ready = _interopRequireDefault(require("./list/ready"));

var _preview = _interopRequireDefault(require("./list/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.isLoaded) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  if (props.threads.length === 0) {
    return /*#__PURE__*/_react.default.createElement(_empty.default, {
      diffSize: props.diffSize,
      applyDiff: props.applyDiff
    }, props.children);
  }

  return /*#__PURE__*/_react.default.createElement(_ready.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,
    diffSize: props.diffSize,
    applyDiff: props.applyDiff,
    showOptions: props.showOptions,
    selection: props.selection,
    busyThreads: props.busyThreads
  });
}

},{"./list/empty":234,"./list/preview":235,"./list/ready":236,"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getMessage = getMessage;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var applyDiff = props.applyDiff,
      diffSize = props.diffSize;
  if (diffSize === 0) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item threads-diff-message"
  }, /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-block btn-default",
    onClick: applyDiff
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "cached"), /*#__PURE__*/_react.default.createElement("span", {
    className: "diff-message"
  }, getMessage(diffSize))));
}

function getMessage(diffSize) {
  var message = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", diffSize);
  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getDiffMessage",
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;
      return /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.getDiffMessage(), this.props.children));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./diff-message":233,"react":"react"}],235:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _preview = _interopRequireDefault(require("../thread/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement(_preview.default, null)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../thread/preview":243,"react":"react"}],236:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

var _ready = _interopRequireDefault(require("../thread/ready"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "threads-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
    diffSize: props.diffSize,
    applyDiff: props.applyDiff
  }), props.threads.map(function (thread) {
    return /*#__PURE__*/_react.default.createElement(_ready.default, {
      activeCategory: props.activeCategory,
      categories: props.categories,
      list: props.list,
      thread: thread,
      showOptions: props.showOptions,
      isSelected: props.selection.indexOf(thread.id) >= 0,
      isBusy: props.busyThreads.indexOf(thread.id) >= 0,
      key: thread.id
    });
  })));
}

},{"../thread/ready":244,"./diff-message":233,"react":"react"}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

var _options = require("../options");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  var className = "col-xs-12 col-sm-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className = "col-xs-6 col-sm-12";
    } else {
      className = "col-xs-9 col-sm-12";
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;
  var allFlagsVisible = showOptions && statusFlags === 3;
  var textClassName = "detail-text hidden-xs";

  if (allFlagsVisible) {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-details-bottom"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category hidden-xs",
    category: category
  }), /*#__PURE__*/_react.default.createElement(HiddenLabel, {
    textClassName: textClassName,
    display: thread.is_hidden
  }), /*#__PURE__*/_react.default.createElement(ClosedLabel, {
    textClassName: textClassName,
    display: thread.is_closed
  }), /*#__PURE__*/_react.default.createElement(PollLabel, {
    textClassName: textClassName,
    display: thread.has_poll
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(RepliesLabel, {
    forceFullText: !showOptions || statusFlags < 2,
    replies: thread.replies
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  })), /*#__PURE__*/_react.default.createElement(_options.OptionsXs, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  }));
}

function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Hidden")));
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-closed"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Closed")));
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-poll"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "assessment"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Poll")));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"));
}

function RepliesLabel(_ref6) {
  var replies = _ref6.replies,
      forceFullText = _ref6.forceFullText;
  var text = ngettext("%(replies)s reply", "%(replies)s replies", replies);
  var compactClassName = "";
  var fullClassName = "";

  if (forceFullText) {
    compactClassName = "detail-text hide";
    fullClassName = "detail-text";
  } else {
    compactClassName = "detail-text visible-xs-inline-block";
    fullClassName = "detail-text hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: compactClassName
  }, replies), /*#__PURE__*/_react.default.createElement("span", {
    className: fullClassName
  }, interpolate(text, {
    replies: replies
  }, true)));
}

function LastReplyLabel(_ref7) {
  var datetime = _ref7.datetime,
      url = _ref7.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-sm-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;
  var className = "visible-sm-inline-block item-title thread-last-poster";

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, posterName);
}

},{"../options":242,"./category":238,"react":"react"}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      className = _ref.className;
  if (!category) return null;

  if (category.css_class) {
    className += " thread-detail-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, category.name);
}

},{"react":"react"}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "BottomDetails", {
  enumerable: true,
  get: function get() {
    return _bottom.default;
  }
});
Object.defineProperty(exports, "TopDetails", {
  enumerable: true,
  get: function get() {
    return _top.default;
  }
});

var _bottom = _interopRequireDefault(require("./bottom"));

var _top = _interopRequireDefault(require("./top"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./bottom":237,"./top":240}],240:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "thread-details-top"
  }, /*#__PURE__*/_react.default.createElement(NewLabel, {
    isRead: thread.is_read,
    url: thread.url.new_post
  }), /*#__PURE__*/_react.default.createElement(PinnedLabel, {
    weight: thread.weight
  }), /*#__PURE__*/_react.default.createElement(UnapprovedLabel, {
    thread: thread.is_unapproved,
    posts: thread.has_unapproved_posts
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category visible-xs-inline-block",
    category: category
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  }));
}

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;
  if (isRead) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-detail-new",
    href: url
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "comment"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("New posts")));
}

function PinnedLabel(_ref3) {
  var weight = _ref3.weight;
  if (weight === 0) return null;
  var className = "thread-detail-pinned-globally";
  var icon = "bookmark";
  var text = gettext("Pinned globally");

  if (weight === 1) {
    className = "thread-detail-pinned-locally";
    icon = "bookmark_border";
    text = gettext("Pinned locally");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;
  if (!posts && !thread) return null;
  var className = "thread-detail-unapproved-posts";
  var icon = "remove_circle_outline";
  var text = gettext("Unapproved posts");

  if (thread) {
    className = "thread-detail-unapproved";
    icon = "remove_circle";
    text = gettext("Unapproved");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "hidden-xs thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("Answered")));
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "visible-xs-inline-block item-title thread-last-poster",
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "visible-xs-inline-block item-title thread-last-poster"
  }, posterName);
}

},{"./category":238,"react":"react"}],241:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Timestamp = Timestamp;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-last-poster-avatar",
    title: thread.last_poster_name,
    url: thread.url.last_poster
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40,
    user: thread.last_poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "item-title thread-last-poster",
    url: thread.url.last_poster
  }, thread.last_poster_name), /*#__PURE__*/_react.default.createElement(Timestamp, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  })));
}

function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

},{"../../avatar":8,"./user-url":249,"react":"react"}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Options = Options;
exports.OptionsXs = OptionsXs;
exports.Checkbox = void 0;

var _react = _interopRequireDefault(require("react"));

var _compact = _interopRequireDefault(require("./subscription/compact"));

var _full = _interopRequireDefault(require("./subscription/full"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  if (!display) return null;
  var className = "col-sm-2 col-md-2 hidden-xs";

  if (thread.moderation.length) {
    className = "col-sm-3 col-md-2 hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;
  if (!display) return null;
  var className = "";

  if (thread.moderation.length) {
    className += "col-xs-6";
  } else {
    className += "col-xs-3";
  }

  className += " visible-xs-block thread-options-xs";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

var Checkbox = /*#__PURE__*/function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  var _super = _createSuper(Checkbox);

  function Checkbox() {
    var _this;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggleSelection", function () {
      _store.default.dispatch(select.item(_this.props.thread.id));
    });

    return _this;
  }

  _createClass(Checkbox, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          isSelected = _this$props.isSelected,
          thread = _this$props.thread;
      if (!thread.moderation.length) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon btn-block",
        onClick: this.toggleSelection,
        disabled: disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return Checkbox;
}(_react.default.Component);

exports.Checkbox = Checkbox;

},{"../../../reducers/selection":352,"../../../services/store":372,"./subscription/compact":245,"./subscription/full":246,"react":"react"}],243:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item thread-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-top visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title thread-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-bottom"
      }, /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"react":"react"}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _details = require("./details");

var _lastAction = _interopRequireDefault(require("./last-action"));

var _options = require("./options");

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;
  var category = null;

  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var flavor = category || activeCategory;
  var className = "thread-main col-xs-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className += " col-sm-9 col-md-7";
    } else {
      className += " col-sm-10 col-md-7";
    }
  } else {
    className += " col-sm-12 col-md-9";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: getClassName(thread.is_read, isBusy, isSelected, flavor)
  }, /*#__PURE__*/_react.default.createElement(_details.TopDetails, {
    category: category,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-starter-avatar",
    title: thread.starter_name,
    url: thread.url.starter
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 40,
    user: thread.starter
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: thread.url.index,
    className: "item-title thread-title"
  }, thread.title), /*#__PURE__*/_react.default.createElement(_details.BottomDetails, {
    category: category,
    disabled: isBusy,
    isSelected: isSelected,
    showOptions: showOptions,
    thread: thread
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3 hidden-xs hidden-sm thread-last-action"
  }, /*#__PURE__*/_react.default.createElement(_lastAction.default, {
    thread: thread
  })), /*#__PURE__*/_react.default.createElement(_options.Options, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  })));
}

function getClassName(isRead, isBusy, isSelected, flavor) {
  var styles = ["list-group-item"];

  if (flavor && flavor.css_class) {
    styles.push("list-group-category-has-flavor");
    styles.push("list-group-item-category-" + flavor.css_class);
  }

  if (isRead) {
    styles.push("thread-read");
  } else {
    styles.push("thread-new");
  }

  if (isBusy) {
    styles.push("thread-busy");
  } else if (isSelected) {
    styles.push("thread-selected");
  }

  return styles.join(" ");
}

},{"../../avatar":8,"./details":239,"./last-action":241,"./options":242,"./user-url":249,"react":"react"}],245:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _full = _interopRequireDefault(require("./full"));

var _modal = _interopRequireDefault(require("./modal"));

var _modal2 = _interopRequireDefault(require("../../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_SubscriptionFull) {
  _inherits(_default, _SubscriptionFull);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showOptions", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.thread.moderation;
      var className = "";

      if (moderation.length) {
        className += "col-xs-6";
      } else {
        className += "col-xs-12";
      }

      className += " hidden-md hidden-lg";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.showOptions
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon())));
    }
  }]);

  return _default;
}(_full.default);

exports.default = _default;

},{"../../../../services/modal":366,"./full":246,"./modal":247,"react":"react"}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return "star";
      } else if (this.props.thread.subscription === false) {
        return "star_half";
      }

      return "star_border";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$thread = this.props.thread,
          moderation = _this$props$thread.moderation,
          subscription = _this$props$thread.subscription;
      var fullwidth = !moderation.length;
      var className = fullwidth ? "col-xs-12" : "col-xs-6";
      className += " hidden-xs hidden-sm";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement(Label, {
        moderation: moderation,
        subscription: subscription
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "dropdown-menu dropdown-menu-right",
        thread: this.props.thread
      }))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;
  if (moderation.length) return null;
  var text = gettext("Disabled");

  if (subscription === true) {
    text = gettext("E-mail");
  } else if (subscription === false) {
    text = gettext("Enabled");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, text);
}

},{"./options":248,"react":"react"}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change subscription"))), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "modal-menu",
        thread: this.props.thread
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./options":248,"react":"react"}],248:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _threads = require("../../../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STATE_UPDATES = {
  unsubscribe: null,
  notify: false,
  email: true
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setSubscription", function (newState) {
      _modal.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax.default.patch(_this.props.thread.api.index, [{
        op: "replace",
        path: "subscription",
        value: newState
      }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));

        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "unsubscribe", function () {
      _this.setSubscription("unsubscribe");
    });

    _defineProperty(_assertThisInitialized(_this), "notify", function () {
      _this.setSubscription("notify");
    });

    _defineProperty(_assertThisInitialized(_this), "email", function () {
      _this.setSubscription("email");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.unsubscribe
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.notify
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.email
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/threads":355,"../../../../services/ajax":359,"../../../../services/modal":366,"../../../../services/snackbar":371,"../../../../services/store":372,"../../../button":10,"react":"react"}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      className = _ref.className,
      title = _ref.title,
      url = _ref.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url,
      title: title
    }, children);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className,
    title: title
  }, children);
}

},{"react":"react"}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Subcategory = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Subcategory = /*#__PURE__*/function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  var _super = _createSuper(Subcategory);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _super.apply(this, arguments);
  }

  _createClass(Subcategory, [{
    key: "getUrl",
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.url.index + this.props.listPath;
      } else {
        return this.props.category.url.index;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: this.getUrl(),
        className: "btn btn-link"
      }, this.props.category.name));
    }
  }]);

  return Subcategory;
}(_react.default.Component);

exports.Subcategory = Subcategory;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super2.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "dropdown category-picker"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle btn-block",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "label_outline"), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs"
      }, gettext("Category"))), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu stick-to-bottom categories-menu"
      }, this.props.choices.map(function (id) {
        if (_this.props.categories[id]) {
          return /*#__PURE__*/_react.default.createElement(Subcategory, {
            category: _this.props.categories[id],
            listPath: _this.props.list.path,
            key: id
          });
        } else {
          return null;
        }
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react","react-router":"react-router"}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;

function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../page-lead"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryDescription",
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "page-lead"
        }, /*#__PURE__*/_react.default.createElement("p", null, this.props.pageLead)));
      } else if (this.props.route.category.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.category.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getDisableToolbar",
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: "getToolbar",
    value: function getToolbar() {
      var isVisible = this.props.subcategories.length || this.props.user.id;
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        subcategories: this.props.subcategories,
        categories: this.props.route.categories,
        categoriesMap: this.props.route.categoriesMap,
        list: this.props.route.list,
        threads: this.props.threads,
        moderation: this.props.moderation,
        selection: this.props.selection,
        selectAllThreads: this.props.selectAllThreads,
        selectNoneThreads: this.props.selectNoneThreads,
        addThreads: this.props.addThreads,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,
        api: this.props.api,
        route: this.props.route,
        disabled: this.getDisableToolbar(),
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getCategoryDescription(), this.getToolbar(), this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../page-lead":86,"./toolbar":263,"react":"react"}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ParentCategory = ParentCategory;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _button = _interopRequireDefault(require("../button"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "startThread", function () {
      _posting.default.open(_this.props.startThread || {
        mode: "START",
        config: _.default.get("THREAD_EDITOR_API"),
        submit: _.default.get("THREADS_API"),
        category: _this.props.route.category.id
      });
    });

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "hasGoBackButton",
    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: "getGoBackButton",
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;
      var parent = this.props.categories[this.props.route.category.parent];
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-2 col-lg-1"
      }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        className: "btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline",
        to: parent.url.index + this.props.route.list.path
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "keyboard_arrow_left")));
    }
  }, {
    key: "getStartThreadButton",
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-outline",
        onClick: this.startThread,
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chat"), gettext("Start thread"));
    }
  }, {
    key: "render",
    value: function render() {
      var headerClassName = "col-xs-12";

      if (this.hasGoBackButton()) {
        headerClassName += " col-sm-10 col-lg-11 sm-align-row-buttons";
      }

      var isAuthenticated = !!this.props.user.id;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: isAuthenticated ? "col-sm-9 col-md-10" : "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, this.getGoBackButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement(ParentCategory, {
        categories: this.props.categories,
        category: this.props.route.category.parent
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.title)))), isAuthenticated && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3 col-md-2 xs-margin-top"
      }, this.getStartThreadButton()))), /*#__PURE__*/_react.default.createElement(_nav.default, {
        baseUrl: this.props.route.category.url.index,
        list: this.props.route.list,
        lists: this.props.route.lists
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ParentCategory(_ref) {
  var categories = _ref.categories,
      category = _ref.category;
  if (!category) return null;
  var parent = categories[category];
  return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
    className: "go-back-sm visible-xs-block",
    to: parent.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), parent.parent ? parent.name : gettext("Threads"));
}

},{"../..":296,"../../services/ajax":359,"../../services/posting":370,"../../services/snackbar":371,"../../services/store":372,"../button":10,"../dropdown-toggle":29,"./nav":260,"react":"react","react-router":"react-router"}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.list.type === "all") {
        if (this.props.emptyMessage) {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.emptyMessage), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        } else {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "list-group-item empty-message"
        }, gettext("No threads matching specified criteria were found."));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _countdown = _interopRequireDefault(require("../../../utils/countdown"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      }); // list ids


      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      }); // always return current acl


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.api, {
        ids: ids,
        ops: ops
      }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // update threads


        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        }); // show success message and call callback

        _snackbar.default.success(successMessage);

        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // escape on non-400 error


        if (rejection.status !== 400) {
          return _snackbar.default.apiError(rejection);
        } // build errors list


        var errors = [];
        var threadsMap = {};

        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });

        rejection.forEach(function (_ref) {
          var id = _ref.id,
              detail = _ref.detail;

          if (typeof threadsMap[id] !== "undefined") {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });

        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Selected threads were pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Selected threads were pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Selected threads were unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Selected threads were approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Selected threads were opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Selected threads were closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Selected threads were unhidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Selected threads were hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      var errors = [];

      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            id: thread.id,
            title: thread.title,
            errors: [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));

        return;
      } else {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, _this.props));
      }
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      _ajax.default.delete(_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);

          _this.props.deleteThread(thread);
        });

        _snackbar.default.success(gettext("Selected threads were deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });

          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);

            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
            errors: rejection
          }));
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (!this.props.moderation.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin threads globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin threads locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin threads")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move threads")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge threads")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve threads")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open threads")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close threads")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.moderation.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide threads")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        onClick: this.hide,
        type: "button",
        className: "btn btn-link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide threads")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.moderation.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete threads")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/countdown":377,"./errors-list":256,"./merge":257,"./move":258,"react":"react"}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThreadErrors = ThreadErrors;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Threads moderation"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("One or more threads could not be deleted:")), /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled list-errored-items"
      }, this.props.errors.map(function (item) {
        return /*#__PURE__*/_react.default.createElement(ThreadErrors, {
          errors: item.errors,
          key: item.thread.id,
          thread: item.thread
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ThreadErrors(_ref) {
  var errors = _ref.errors,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), errors.map(function (message, i) {
    return /*#__PURE__*/_react.default.createElement("p", null, message);
  }));
}

},{"react":"react"}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var _select = _interopRequireDefault(require("../../select"));

var _ = _interopRequireDefault(require("../../.."));

var _threads = require("../../../reducers/threads");

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _mergeConflict = _interopRequireDefault(require("../../merge-conflict"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "getFormdata", function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _this.props.deleteThread(thread);
      }); // deselect all threads


      _store.default.dispatch(select.none()); // append merged thread, filter threads


      _this.props.addThreads([apiResponse]);

      _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // hide modal


      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _.default.get("MERGE_THREADS_API"),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            errors: Object.assign({}, _this.state.errors, rejection)
          });

          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: rejection
        }));
      } else if (rejection.best_answer) {
        _snackbar.default.error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        _snackbar.default.error(rejection.poll[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    });

    _this.state = {
      isLoading: false,
      title: "",
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this.acl = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    _this.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("MERGE_THREADS_API"), this.getFormdata());
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.categoryChoices
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))));
    }
  }, {
    key: "renderCantMergeMessage",
    value: function renderCantMergeMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to merge threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), this.state.category ? this.renderForm() : this.renderCantMergeMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":296,"../../../reducers/selection":352,"../../../reducers/threads":355,"../../../services/ajax":359,"../../../services/modal":366,"../../../services/snackbar":371,"../../../services/store":372,"../../../utils/validators":387,"../../button":10,"../../category-select":23,"../../form":50,"../../form-group":49,"../../merge-conflict":53,"../../select":204,"./errors-list":256,"react":"react"}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _threads = require("../../../reducers/threads");

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal.default.hide();

      var onSuccess = function onSuccess() {
        _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // deselect threads moved outside of visible scope


        var storeState = _store.default.getState();

        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });

        _store.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{
        op: "replace",
        path: "category",
        value: _this.state.category
      }, {
        op: "replace",
        path: "flatten-categories",
        value: null
      }, {
        op: "add",
        path: "acl",
        value: true
      }], gettext("Selected threads were moved."), onSuccess);
    });

    _this.state = {
      category: null
    };
    var acls = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New category"),
        for: "id_new_category"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_new_category",
        onChange: this.bindInput("category"),
        value: this.state.category,
        choices: this.categoryChoices
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary"
      }, gettext("Move threads"))));
    }
  }, {
    key: "renderCantMoveMessage",
    value: function renderCantMoveMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to move threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Move threads"))), this.state.category ? this.renderForm() : this.renderCantMoveMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../reducers/threads":355,"../../../services/modal":366,"../../../services/store":372,"../../category-select":23,"../../form":50,"../../form-group":49,"react":"react"}],259:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "selectAll", function () {
      _store.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    });

    _defineProperty(_assertThisInitialized(_this), "selectNone", function () {
      _store.default.dispatch(select.none());
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectAll
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Select all"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectNone
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Select none"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":352,"../../../services/store":372,"react":"react"}],260:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;
  if (lists.length < 2) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      isControlled: true,
      isActive: item.path === list.path,
      key: baseUrl + item.path
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: baseUrl + item.path
    }, item.name));
  }))));
}

},{"../li":51,"react":"react","react-router":"react-router"}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      options: options,
      selection: store.selection,
      threads: store.threads,
      tick: store.tick.tick,
      user: store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: "all",
    path: "",
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: "my",
      path: "my/",
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: "new",
      path: "new/",
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: "unread",
      path: "unread/",
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: "subscribed",
      path: "subscribed/",
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: "unapproved",
        path: "unapproved/",
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _.default.get("CATEGORIES").forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;
      routes.push({
        path: category.url.index + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route.default),
        categories: _.default.get("CATEGORIES"),
        categoriesMap: categoriesMap,
        category: category,
        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../..":296,"./route":262,"react-redux":"react-redux"}],262:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _compare = require("./compare");

var _container = _interopRequireDefault(require("./container"));

var _header = _interopRequireDefault(require("./header"));

var _utils = require("./utils");

var _threadsList = _interopRequireDefault(require("../threads-list"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var select = _interopRequireWildcard(require("../../reducers/selection"));

var _threads = require("../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var sets = _interopRequireWildcard(require("../../utils/sets"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.next);
    });

    _defineProperty(_assertThisInitialized(_this), "pollResponse", function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addThreads", function (threads) {
      _store.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "applyDiff", function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
        diff: {
          results: []
        }
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "freezeThread", function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateThread", function (thread) {
      _store.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "deleteThread", function (thread) {
      _store.default.dispatch((0, _threads.deleteThread)(thread));
    });

    _this.state = {
      isMounted: true,
      isLoaded: false,
      isBusy: false,
      diff: {
        results: []
      },
      moderation: [],
      busyThreads: [],
      dropdown: false,
      subcategories: [],
      next: 0
    };

    var category = _this.getCategory();

    if (_.default.has("THREADS")) {
      _this.initWithPreloadedData(category, _.default.get("THREADS"));
    } else {
      _this.initWithoutPreloadedData(category);
    }

    return _this;
  }

  _createClass(_default, [{
    key: "getCategory",
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),
        subcategories: data.subcategories,
        next: data.next
      });
      this.startPolling(category);
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: "loadThreads",
    value: function loadThreads(category) {
      var _this2 = this;

      var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      _ajax.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        start: next || 0
      }, "threads").then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (next === 0) {
          _store.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
          subcategories: data.subcategories,
          next: data.next
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(category) {
      _polls.default.start({
        poll: "threads",
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setPageTitle();

      if (_.default.has("THREADS")) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store.default.dispatch((0, _threads.hydrate)(_.default.pop("THREADS").results));

        this.setState({
          isLoaded: true
        });
      }

      _store.default.dispatch(select.none());
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.isMounted = false;

      _polls.default.stop("threads");
    }
  }, {
    key: "getTitle",
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      if (this.props.route.category.level || !_.default.get("THREADS_ON_INDEX")) {
        _pageTitle.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle.default.set(this.props.options.title);
      } else {
        if (_.default.get("SETTINGS").index_title) {
          document.title = _.default.get("SETTINGS").index_title;
        } else {
          document.title = _.default.get("SETTINGS").forum_name;
        }
      }
    }
  }, {
    key: "getSorting",
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    } // AJAX

  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.next) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy || this.state.busyThreads.length,
        onClick: this.loadMore
      }, gettext("Show more")));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "page page-threads";
      className += " page-threads-" + this.props.route.list.type;

      if (isIndex(this.props)) {
        className += " page-threads-index";
      }

      if (this.props.route.category.css_class) {
        className += " page-threads-" + this.props.route.category.css_class;
      }

      return className;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        categories: this.props.route.categoriesMap,
        disabled: !this.state.isLoaded,
        startThread: this.props.options.startThread,
        threads: this.props.threads,
        title: this.getTitle(),
        toggleNav: this.toggleNav,
        route: this.props.route,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_container.default, {
        api: this.props.options.api,
        route: this.props.route,
        subcategories: this.state.subcategories,
        user: this.props.user,
        pageLead: this.props.options.pageLead,
        threads: this.props.threads,
        threadsCount: this.state.count,
        moderation: this.state.moderation,
        selection: this.props.selection,
        busyThreads: this.state.busyThreads,
        addThreads: this.addThreads,
        freezeThread: this.freezeThread,
        deleteThread: this.deleteThread,
        updateThread: this.updateThread,
        isLoaded: this.state.isLoaded,
        isBusy: this.state.isBusy
      }, /*#__PURE__*/_react.default.createElement(_threadsList.default, {
        category: this.props.route.category,
        categories: this.props.route.categoriesMap,
        list: this.props.route.list,
        selection: this.props.selection,
        threads: this.props.threads,
        diffSize: this.state.diff.results.length,
        applyDiff: this.applyDiff,
        showOptions: !!this.props.user.id,
        isLoaded: this.state.isLoaded,
        busyThreads: this.state.busyThreads
      }, /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
        category: this.props.route.category,
        emptyMessage: this.props.options.emptyMessage,
        list: this.props.route.list
      })), this.getMoreButton()));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function isIndex(props) {
  if (props.route.category.level || !_.default.get("THREADS_ON_INDEX")) return false;
  if (props.options.title) return false;
  return true;
}

},{"../..":296,"../../reducers/selection":352,"../../reducers/threads":355,"../../services/ajax":359,"../../services/page-title":368,"../../services/polls":369,"../../services/snackbar":371,"../../services/store":372,"../../utils/sets":385,"../button":10,"../threads-list":232,"../with-dropdown":293,"./compare":251,"./container":252,"./header":253,"./list-empty":254,"./utils":264,"react":"react"}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categoryPicker = _interopRequireDefault(require("./category-picker"));

var _controls = _interopRequireDefault(require("./moderation/controls"));

var _selection = _interopRequireDefault(require("./moderation/selection"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryPicker",
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;
      return /*#__PURE__*/_react.default.createElement(_categoryPicker.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
    }
  }, {
    key: "showModerationOptions",
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: "getSelectedThreads",
    value: function getSelectedThreads() {
      var _this = this;

      return this.props.threads.filter(function (thread) {
        return _this.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6 col-sm-3 col-md-2"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled || !this.props.selection.length
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "settings"), gettext("Options")), /*#__PURE__*/_react.default.createElement(_controls.default, {
        addThreads: this.props.addThreads,
        api: this.props.api,
        categories: this.props.categories,
        categoriesMap: this.props.categoriesMap,
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        deleteThread: this.props.deleteThread,
        freezeThread: this.props.freezeThread,
        moderation: this.props.moderation,
        route: this.props.route,
        threads: this.getSelectedThreads(),
        updateThread: this.props.updateThread,
        user: this.props.user
      }))));
    }
  }, {
    key: "getSelectionButton",
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-2 col-md-1"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline btn-icon dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "select_all")), /*#__PURE__*/_react.default.createElement(_selection.default, {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        threads: this.props.threads
      }))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "row row-toolbar row-toolbar-bottom-margin"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-3 col-md-2 dropdown"
      }, this.getCategoryPicker()), /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-4 col-md-7"
      }), this.getModerationButton(), this.getSelectionButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./category-picker":250,"./moderation/controls":255,"./moderation/selection":259,"react":"react"}],264:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (_.default.get("SETTINGS").index_header) {
      return _.default.get("SETTINGS").index_header;
    } else {
      return _.default.get("SETTINGS").forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });
  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,
    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };
  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }

    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });
  return moderation;
}

},{"../..":296}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _registerButton = _interopRequireDefault(require("../register-button"));

var _signIn = _interopRequireDefault(require("../sign-in.js"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var GuestMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  var _super = _createSuper(GuestMenu);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _super.apply(this, arguments);
  }

  _createClass(GuestMenu, [{
    key: "showSignInModal",
    value: function showSignInModal() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "guest-preview"
      }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("You are browsing as guest.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Sign in or register to start and participate in discussions.")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-primary btn-register btn-block",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in"))) : /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sign-in btn-block",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in"))), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "btn-primary btn-register btn-block"
      }, gettext("Register"))))));
    }
  }]);

  return GuestMenu;
}(_react.default.Component);

exports.GuestMenu = GuestMenu;

var GuestNav = /*#__PURE__*/function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  var _super2 = _createSuper(GuestNav);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _super2.apply(this, arguments);
  }

  _createClass(GuestNav, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "nav nav-guest"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("a", {
        className: "btn navbar-btn btn-primary btn-register",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in")) : /*#__PURE__*/_react.default.createElement("button", {
        className: "btn navbar-btn btn-default btn-sign-in",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in")), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "navbar-btn btn-primary btn-register"
      }, gettext("Register")), /*#__PURE__*/_react.default.createElement("div", {
        className: "navbar-left"
      }, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)));
    }
  }]);

  return GuestNav;
}(GuestMenu);

exports.GuestNav = GuestNav;

var CompactGuestNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  var _super3 = _createSuper(CompactGuestNav);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _super3.apply(this, arguments);
  }

  _createClass(CompactGuestNav, [{
    key: "showGuestMenu",
    value: function showGuestMenu() {
      _mobileNavbarDropdown.default.show(GuestMenu);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showGuestMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "64"
      }));
    }
  }]);

  return CompactGuestNav;
}(_react.default.Component);

exports.CompactGuestNav = CompactGuestNav;

},{"../..":296,"../../services/mobile-navbar-dropdown":365,"../../services/modal":366,"../avatar":8,"../navbar-search":71,"../register-button":192,"../sign-in.js":205,"react":"react"}],266:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.CompactUserMenu = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _guestNav = require("./guest-nav");

var _userNav = require("./user-nav");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.UserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.GuestNav, null);
      }
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

var CompactUserMenu = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  var _super2 = _createSuper(CompactUserMenu);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.CompactUserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.CompactGuestNav, null);
      }
    }
  }]);

  return CompactUserMenu;
}(_react.default.Component);

exports.CompactUserMenu = CompactUserMenu;

function select(state) {
  return state.auth;
}

},{"./guest-nav":265,"./user-nav":267,"react":"react"}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;
exports.CompactUserNav = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatar = _interopRequireDefault(require("../avatar"));

var _root = _interopRequireWildcard(require("../change-avatar/root"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "logout",
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));

      if (decision) {
        $("#hidden-logout-form").submit();
      }
    }
  }, {
    key: "changeAvatar",
    value: function changeAvatar() {
      _modal.default.show((0, _reactRedux.connect)(_root.select)(_root.default));
    }
  }, {
    key: "render",
    value: function render() {
      var user = this.props.user;
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-header"
      }, /*#__PURE__*/_react.default.createElement("strong", null, user.username), /*#__PURE__*/_react.default.createElement("div", {
        className: "row user-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), user.posts), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "forum"), user.threads), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), user.followers), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite_outline"), user.following))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: user.url
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "account_circle"), gettext("See your profile"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERCP_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done_all"), gettext("Change options"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.changeAvatar,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "portrait"), gettext("Change avatar"))), !!user.acl.can_use_private_threads && /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("PRIVATE_THREADS_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), gettext("Private threads"), /*#__PURE__*/_react.default.createElement(PrivateThreadsBadge, {
        user: user
      }))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-buttons"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.logout,
        type: "button"
      }, gettext("Log out"))));
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;
  if (!user.unread_private_threads) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads);
}

function UserNav(_ref2) {
  var user = _ref2.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "ul nav navbar-nav nav-user"
  }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)), /*#__PURE__*/_react.default.createElement(UserPrivateThreadsLink, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("a", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: "dropdown-toggle",
    "data-toggle": "dropdown",
    href: user.url,
    role: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    user: user,
    size: "64"
  })), /*#__PURE__*/_react.default.createElement(UserMenu, {
    user: user
  })));
}

function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;
  if (!user.acl.can_use_private_threads) return null;
  var title = null;

  if (user.unread_private_threads) {
    title = gettext("You have unread private threads!");
  } else {
    title = gettext("Private threads");
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "navbar-icon",
    href: _.default.get("PRIVATE_THREADS_URL"),
    title: title
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "message"), user.unread_private_threads > 0 && /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads)));
}

function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}

var CompactUserNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  var _super2 = _createSuper(CompactUserNav);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserNav, [{
    key: "showUserMenu",
    value: function showUserMenu() {
      _mobileNavbarDropdown.default.showConnected("user-menu", (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showUserMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: "50"
      }));
    }
  }]);

  return CompactUserNav;
}(_react.default.Component);

exports.CompactUserNav = CompactUserNav;

},{"../..":296,"../../services/mobile-navbar-dropdown":365,"../../services/modal":366,"../avatar":8,"../change-avatar/root":27,"../navbar-search":71,"react":"react","react-redux":"react-redux"}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;
exports.StatusLabel = exports.StatusIcon = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.getClass()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var StatusIcon = /*#__PURE__*/function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  var _super2 = _createSuper(StatusIcon);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _super2.apply(this, arguments);
  }

  _createClass(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon status-icon"
      }, this.getIcon());
    }
  }]);

  return StatusIcon;
}(_react.default.Component);

exports.StatusIcon = StatusIcon;

var StatusLabel = /*#__PURE__*/function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  var _super3 = _createSuper(StatusLabel);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _super3.apply(this, arguments);
  }

  _createClass(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.props.className || "status-label",
        title: this.getHelp()
      }, this.getLabel());
    }
  }]);

  return StatusLabel;
}(_react.default.Component);

exports.StatusLabel = StatusLabel;

function getStatusClassName(status) {
  var className = "";

  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }

  return "user-status user-" + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],269:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "100"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 100) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(80, 140) + "px"
        }
      }, "\xA0")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../utils/random":382,"../avatar":8,"react":"react"}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          user: this.props.change.changed_by,
          size: "100"
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "100"
        }));
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "item-title"
        }, this.props.change.changed_by.username);
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.change.changed_by_username);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item",
        key: this.props.change.id
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, this.renderUserAvatar()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, this.renderUsername()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "old-username"
      }, this.props.change.old_username), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "new-username"
      }, this.props.change.new_username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: this.props.change.changed_on.format("LLL")
      }, this.props.change.changed_on.fromNow())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../avatar":8,"react":"react"}],271:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item empty-message"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],272:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changePreview = _interopRequireDefault(require("./change-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_changePreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change-preview":269,"react":"react"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _change = _interopRequireDefault(require("./change"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.changes.map(function (change) {
        return /*#__PURE__*/_react.default.createElement(_change.default, {
          change: change,
          key: change.id
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change":270,"react":"react"}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            changes: this.props.changes
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            emptyMessage: this.props.emptyMessage
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-empty":271,"./list-preview":272,"./list-ready":273,"react":"react"}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _stats = _interopRequireDefault(require("./stats"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  var rank = user.rank;
  var className = "panel user-card";

  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3 user-card-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-small-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50",
    size2x: "80",
    user: user
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-sm-12 user-card-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "150",
    size2x: "200",
    user: user
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-username"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, user.username)), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-title"
  }, /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: rank,
    title: user.title
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-stats"
  }, /*#__PURE__*/_react.default.createElement(_stats.default, {
    showStatus: showStatus,
    user: user
  }))))));
}

},{"../../avatar":8,"./stats":276,"./user-title":277,"react":"react"}],276:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Status = Status;
exports.JoinDate = JoinDate;
exports.Posts = Posts;
exports.Threads = Threads;
exports.Followers = Followers;
exports.getStatClassName = getStatClassName;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, /*#__PURE__*/_react.default.createElement(Status, {
    showStatus: showStatus,
    user: user
  }), /*#__PURE__*/_react.default.createElement(JoinDate, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-divider"
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Threads, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Followers, {
    user: user
  }));
}

function Status(_ref2) {
  var showStatus = _ref2.showStatus,
      user = _ref2.user;
  if (!showStatus) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-status"
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: user.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: user.status,
    user: user
  })));
}

function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;
  var title = interpolate(gettext("Joined on %(joined_on)s"), {
    joined_on: joined_on.format("LL, LT")
  }, true);
  var message = interpolate(gettext("Joined %(joined_on)s"), {
    joined_on: joined_on.fromNow()
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-join-date"
  }, /*#__PURE__*/_react.default.createElement("abbr", {
    title: title
  }, message));
}

function Posts(_ref4) {
  var user = _ref4.user;
  var className = getStatClassName("user-stat-posts", user.posts);
  var message = ngettext("%(posts)s post", "%(posts)s posts", user.posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    posts: user.posts
  }, true));
}

function Threads(_ref5) {
  var user = _ref5.user;
  var className = getStatClassName("user-stat-threads", user.threads);
  var message = ngettext("%(threads)s thread", "%(threads)s threads", user.threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    threads: user.threads
  }, true));
}

function Followers(_ref6) {
  var user = _ref6.user;
  var className = getStatClassName("user-stat-followers", user.followers);
  var message = ngettext("%(followers)s follower", "%(followers)s followers", user.followers);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    followers: user.followers
  }, true));
}

function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }

  return className;
}

},{"../../user-status":268,"react":"react"}],277:[function(require,module,exports){
arguments[4][124][0].apply(exports,arguments)
},{"dup":124,"react":"react"}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var cols = _ref.cols,
      isReady = _ref.isReady,
      showStatus = _ref.showStatus,
      users = _ref.users;
  var colClassName = "col-xs-12 col-sm-4";

  if (cols === 4) {
    colClassName += " col-md-3";
  }

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, {
      colClassName: colClassName,
      cols: cols
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, users.map(function (user) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: colClassName,
      key: user.id
    }, /*#__PURE__*/_react.default.createElement(_card.default, {
      showStatus: showStatus,
      user: user
    }));
  })));
}

},{"./card":275,"./preview":280,"react":"react"}],279:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel user-card user-card-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 user-card-left"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-small-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50",
        size2x: "80"
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-9 col-sm-12 user-card-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "150",
        size2x: "200"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-username"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-stats"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled"
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", {
        className: "user-stat-divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"))))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],280:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var colClassName = _ref.colClassName,
      cols = _ref.cols;
  var list = Array.apply(null, {
    length: cols
  }).map(Number.call, Number);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-preview"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, list.map(function (i) {
    var className = colClassName;
    if (i !== 0) className += " hidden-xs";
    if (i === 3) className += " hidden-sm";
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className,
      key: i
    }, /*#__PURE__*/_react.default.createElement(_card.default, null));
  })));
}

},{"./card":279,"react":"react"}],281:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), {
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],282:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"../../avatar":8,"react":"react"}],283:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

var _ = _interopRequireDefault(require("../../.."));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return /*#__PURE__*/_react.default.createElement(_userStatus.default, {
          user: this.props.user,
          status: this.props.user.status
        }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
          user: this.props.user,
          status: this.props.user.status
        }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
          user: this.props.user,
          status: this.props.user.status,
          className: "status-label hidden-xs hidden-sm"
        }));
      }

      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"));
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "rank-name item-title"
        }, this.props.rank.name);
      }

      var rankUrl = _.default.get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: rankUrl,
        className: "rank-name item-title"
      }, this.props.rank.name);
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, this.props.user.title);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: 50,
        size2x: 64
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url,
        className: "item-title"
      }, this.props.user.username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, this.getUserStatus(), this.getRankName(), this.getUserTitle()), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.posts), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../utils/random":382,"../../avatar":8,"../../user-status":268,"react":"react","react-router":"react-router"}],284:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItemPreview = _interopRequireDefault(require("./list-item-preview"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead ui-preview"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(50, 220) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_listItemPreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":382,"./list-item-preview":282,"react":"react"}],285:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s top poster from last %(days)s days.", "%(posters)s top posters from last %(days)s days.", this.props.count);
      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getLeadMessage()), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.users.map(function (user, i) {
        return /*#__PURE__*/_react.default.createElement(_listItem.default, {
          user: user,
          rank: user.rank,
          counter: i + 1,
          key: user.id
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-item":283,"react":"react"}],286:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      });
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      _polls.default.start({
        poll: "active-posters",
        url: _.default.get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            trackedPeriod: this.state.trackedPeriod
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/users":358,"../../../services/page-title":368,"../../../services/polls":369,"../../../services/store":372,"./list-empty":281,"./list-preview":284,"./list-ready":285,"react":"react"}],287:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: url,
      key: url
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: url
    }, list.name));
  }));
}

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;

  if (list.component === "rank") {
    url += list.slug;
  } else {
    url += list.component;
  }

  return url + "/";
};

},{"../..":296,"../li":51,"react":"react","react-router":"react-router"}],288:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 4,
        isReady: false
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../users-list":278,"react":"react"}],289:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _pager = _interopRequireDefault(require("./pager"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 4,
    isReady: true,
    showStatus: true,
    users: props.users
  }), /*#__PURE__*/_react.default.createElement(_pager.default, props));
}

},{"../../users-list":278,"./pager":290,"react":"react"}],290:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _resetScroll = _interopRequireDefault(require("../../../utils/reset-scroll"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.pages === 1) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  })))));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = "";

    if (props.previous) {
      previousUrl = props.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = "";

    if (props.next) {
      nextUrl = props.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + props.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more members with this role.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"../../../utils/reset-scroll":383,"react":"react","react-router":"react-router"}],291:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../../page-lead"));

var _list = _interopRequireDefault(require("./list"));

var _listLoading = _interopRequireDefault(require("./list-loading"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;

      _this.setState(data);
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      _polls.default.start({
        poll: "rank-users",
        url: _.default.get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls.default.stop("rank-users");

        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "rank-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.rank.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          var baseUrl = _.default.get("USERS_LIST_URL") + this.props.route.rank.slug + "/";
          return /*#__PURE__*/_react.default.createElement(_list.default, _extends({
            baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
        } else {
          return /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, gettext("There are no users with this rank at the moment."));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listLoading.default, null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getRankDescription(), this.getComponent()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":296,"../../../reducers/users":358,"../../../services/page-title":368,"../../../services/polls":369,"../../../services/store":372,"../../page-lead":86,"./list":289,"./list-loading":288,"react":"react"}],292:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _root = _interopRequireDefault(require("./active-posters/root"));

var _root2 = _interopRequireDefault(require("./rank/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-users-lists"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Users"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_nav.default, {
        lists: _.default.get("USERS_LISTS"),
        baseUrl: _.default.get("USERS_LIST_URL")
      }))))), this.props.children);
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function paths() {
  var paths = [];

  _.default.get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.component + "/",
        component: (0, _reactRedux.connect)(select)(_root.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../..":296,"../dropdown-toggle":29,"../with-dropdown":293,"./active-posters/root":286,"./nav":287,"./rank/root":291,"react":"react","react-redux":"react-redux"}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleNav", function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideNav", function () {
      _this.setState({
        dropdown: false
      });
    });

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],294:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggle", function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.toggle,
        className: this.getClassName(),
        id: this.props.id || null,
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement("span", {
        className: "btn-text"
      }, this.getLabel()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],295:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _profileDetails = require("../reducers/profile-details");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
          data = _this$props.data,
          dispatch = _this$props.dispatch,
          user = _this$props.user;
      if (data && data.id === user.id) return;

      _ajax.default.get(this.props.user.api.details).then(function (data) {
        dispatch((0, _profileDetails.load)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../reducers/profile-details":349,"../services/ajax":359,"../services/snackbar":371,"react":"react"}],296:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Misago = void 0;

var _orderedList = _interopRequireDefault(require("./utils/ordered-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Misago = /*#__PURE__*/function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,
        item: initializer.initializer,
        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;

      this._context = context;
      var initOrder = new _orderedList.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    } // context accessors

  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}(); // create  singleton


exports.Misago = Misago;
var misago = new Misago(); // expose it globally

global.misago = misago; // and export it for tests and stuff

var _default = misago;
exports.default = _default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":381}],297:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax.default.init(_.default.get("CSRF_COOKIE_NAME"));
}

_.default.addInitializer({
  name: "ajax",
  initializer: initializer
});

},{"../services/ajax":359,"./..":296}],298:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = require("../reducers/auth");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      _ajax.default.get(context.get("AUTH_API")).then(function (data) {
        _store.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_.default.addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

},{"../reducers/auth":344,"../services/ajax":359,"../services/snackbar":371,"../services/store":372,"./..":296}],299:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _store = _interopRequireDefault(require("../services/store"));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth.default.init(_store.default, _localStorage.default, _modal.default);
}

_.default.addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

},{"../services/auth":360,"../services/local-storage":363,"../services/modal":366,"../services/store":372,"./..":296}],300:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _include = _interopRequireDefault(require("../services/include"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha.default.init(context, _ajax.default, _include.default, _snackbar.default);
}

_.default.addInitializer({
  name: "captcha",
  initializer: initializer
});

},{"../services/ajax":359,"../services/captcha":361,"../services/include":362,"../services/snackbar":371,"./..":296}],301:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _acceptAgreement = _interopRequireDefault(require("../../components/accept-agreement"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_acceptAgreement.default, {
      api: context.get("REQUIRED_AGREEMENT_API")
    }), "required-agreement-mount", false);
  }
}

_.default.addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/accept-agreement":5,"../../utils/mount-component":380,"react":"react"}],302:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _authMessage = _interopRequireWildcard(require("../../components/auth-message"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage.default), "auth-message-mount");
}

_.default.addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/auth-message":7,"../../utils/mount-component":380,"react-redux":"react-redux"}],303:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _bannedPage = _interopRequireDefault(require("../../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0, _bannedPage.default)(context.get("BAN_MESSAGE"), false);
  }
}

_.default.addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../utils/banned-page":374}],304:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _categories = _interopRequireWildcard(require("../../components/categories"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer() {
  if (document.getElementById("categories-mount")) {
    (0, _mountComponent.default)((0, _reactRedux.connect)(_categories.select)(_categories.default), "categories-mount");
  }
}

_.default.addInitializer({
  name: "component:categories",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/categories":22,"../../utils/mount-component":380,"react-redux":"react-redux"}],305:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/options/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USER_OPTIONS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERCP_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:options",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/options/root":81,"../../utils/routed-component":384}],306:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _root = _interopRequireWildcard(require("../../components/profile/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0, _routedComponent.default)({
      root: _.default.get("PROFILE").url,
      component: (0, _reactRedux.connect)(_root.select)(_root.default),
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

},{"../..":296,"../../components/profile/root":189,"../../utils/routed-component":384,"react-redux":"react-redux"}],307:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestActivationLink = _interopRequireDefault(require("../../components/request-activation-link"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0, _mountComponent.default)(_requestActivationLink.default, "request-activation-link-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/request-activation-link":194,"../../utils/mount-component":380}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestPasswordReset = _interopRequireDefault(require("../../components/request-password-reset"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0, _mountComponent.default)(_requestPasswordReset.default, "request-password-reset-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/request-password-reset":195,"../../utils/mount-component":380}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _resetPasswordForm = _interopRequireDefault(require("../../components/reset-password-form"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0, _mountComponent.default)(_resetPasswordForm.default, "reset-password-form-mount", false);
  }
}

_.default.addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/reset-password-form":196,"../../utils/mount-component":380}],310:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = _interopRequireDefault(require("../../components/search"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0, _routedComponent.default)({
      paths: (0, _search.default)(_.default.get("SEARCH_PROVIDERS"))
    });
  }
}

_.default.addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/search":198,"../../utils/routed-component":384}],311:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _snackbar = require("../../components/snackbar");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), "snackbar-mount");
}

_.default.addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

},{"../..":296,"../../components/snackbar":206,"../../utils/mount-component":380,"react-redux":"react-redux"}],312:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _socialAuth = _interopRequireDefault(require("../../components/social-auth"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_socialAuth.default, props), "page-mount");
  }
}

_.default.addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/social-auth":209,"../../utils/mount-component":380,"react":"react"}],313:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/thread/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/thread/root":227,"../../utils/routed-component":384}],314:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require("../../components/threads/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = "misago:private-threads";

function initializer(context) {
  if (context.has("THREADS") && context.has("CATEGORIES")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)(context.get("user"), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get("CURRENT_LINK");

  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get("PRIVATE_THREADS_API"),
      startThread: {
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API")
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    api: context.get("THREADS_API")
  };
}

_.default.addInitializer({
  name: "component:threads",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/threads/root":261,"../../utils/routed-component":384}],315:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _root = require("../../components/user-menu/root");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), "user-menu-mount");
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), "user-menu-compact-mount");
}

_.default.addInitializer({
  name: "component:user-menu",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/user-menu/root":266,"../../utils/mount-component":380,"react-redux":"react-redux"}],316:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/users/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERS_LIST_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../components/users/root":292,"../../utils/routed-component":384}],317:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include.default.init(context.get("STATIC_URL"));
}

_.default.addInitializer({
  name: "include",
  initializer: initializer
});

},{"../services/include":362,"./..":296}],318:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage.default.init("misago_");
}

_.default.addInitializer({
  name: "local-storage",
  initializer: initializer
});

},{"../services/local-storage":363,"./..":296}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../services/mobile-navbar-dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");

  if (element) {
    _mobileNavbarDropdown.default.init(element);
  }
}

_.default.addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

},{"../services/mobile-navbar-dropdown":365,"./..":296}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("modal-mount");

  if (element) {
    _modal.default.init(element);
  }
}

_.default.addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

},{"../services/modal":366,"./..":296}],321:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment.default.locale($("html").attr("lang"));
}

_.default.addInitializer({
  name: "moment",
  initializer: initializer
});

},{"./..":296,"moment":"moment"}],322:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _pageTitle = _interopRequireDefault(require("../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle.default.init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}

_.default.addInitializer({
  name: "page-title",
  initializer: initializer
});

},{"../services/page-title":368,"./..":296}],323:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _polls = _interopRequireDefault(require("../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls.default.init(_ajax.default, _snackbar.default);
}

_.default.addInitializer({
  name: "polls",
  initializer: initializer
});

},{"../services/ajax":359,"../services/polls":369,"../services/snackbar":371,"./..":296}],324:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _posting = _interopRequireDefault(require("../services/posting"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting.default.init(_ajax.default, _snackbar.default, document.getElementById("posting-placeholder"));
}

_.default.addInitializer({
  name: "posting",
  initializer: initializer
});

},{"../services/ajax":359,"../services/posting":370,"../services/snackbar":371,"./..":296}],325:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _auth = _interopRequireWildcard(require("../../reducers/auth"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store.default.addReducer("auth", _auth.default, Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),
    user: context.get("user")
  }, _auth.initialState));
}

_.default.addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/auth":344,"../../services/store":372}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _participants = _interopRequireDefault(require("../../reducers/participants"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = _.default.get("THREAD").participants;
  }

  _store.default.addReducer("participants", _participants.default, initialState || []);
}

_.default.addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/participants":345,"../../services/store":372}],327:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _poll = _interopRequireWildcard(require("../../reducers/poll"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD") && _.default.get("THREAD").poll) {
    initialState = (0, _poll.hydrate)(_.default.get("THREAD").poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("poll", _poll.default, initialState);
}

_.default.addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/poll":346,"../../services/store":372}],328:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _posts = _interopRequireWildcard(require("../../reducers/posts"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("POSTS")) {
    initialState = (0, _posts.hydrate)(_.default.get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store.default.addReducer("posts", _posts.default, initialState);
}

_.default.addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/posts":348,"../../services/store":372}],329:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profileDetails = _interopRequireDefault(require("../../reducers/profile-details"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("PROFILE_DETAILS")) {
    initialState = _.default.get("PROFILE_DETAILS");
  }

  _store.default.addReducer("profile-details", _profileDetails.default, initialState || {});
}

_.default.addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/profile-details":349,"../../services/store":372}],330:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_.default.has("PROFILE")) {
    _store.default.dispatch((0, _profile.hydrate)(_.default.get("PROFILE")));
  }
}

_.default.addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

},{"../..":296,"../../reducers/profile":350,"../../services/store":372}],331:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = _interopRequireDefault(require("../../reducers/profile"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("profile", _profile.default, {});
}

_.default.addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/profile":350,"../../services/store":372}],332:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _search = _interopRequireWildcard(require("../../reducers/search"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("search", _search.default, Object.assign({}, _search.initialState, {
    providers: _.default.get("SEARCH_PROVIDERS") || [],
    query: _.default.get("SEARCH_QUERY") || ""
  }));
}

_.default.addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/search":351,"../../services/store":372}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _selection = _interopRequireDefault(require("../../reducers/selection"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("selection", _selection.default, []);
}

_.default.addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/selection":352,"../../services/store":372}],334:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _snackbar = _interopRequireWildcard(require("../../reducers/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("snackbar", _snackbar.default, _snackbar.initialState);
}

_.default.addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/snackbar":353,"../../services/store":372}],335:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _thread = _interopRequireWildcard(require("../../reducers/thread"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = (0, _thread.hydrate)(_.default.get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("thread", _thread.default, initialState);
}

_.default.addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/thread":354,"../../services/store":372}],336:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _threads = _interopRequireDefault(require("../../reducers/threads"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("threads", _threads.default, []);
}

_.default.addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/threads":355,"../../services/store":372}],337:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _tick = _interopRequireWildcard(require("../../reducers/tick"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("tick", _tick.default, _tick.initialState);
}

_.default.addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/tick":356,"../../services/store":372}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = _interopRequireDefault(require("../../reducers/username-history"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("username-history", _usernameHistory.default, []);
}

_.default.addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/username-history":357,"../../services/store":372}],339:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _users = _interopRequireDefault(require("../../reducers/users"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("users", _users.default, []);
}

_.default.addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

},{"../..":296,"../../reducers/users":358,"../../services/store":372}],340:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar.default.init(_store.default);
}

_.default.addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

},{"../services/snackbar":371,"../services/store":372,"./..":296}],341:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.init();
}

_.default.addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

},{"../services/store":372,"./..":296}],342:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _tick = require("../reducers/tick");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_.default.addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

},{"../reducers/tick":356,"../services/store":372,"./..":296}],343:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn.default.init(_include.default);
}

_.default.addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

},{"../services/include":362,"../services/zxcvbn":373,"./..":296}],344:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = void 0;

var _users = require("./users");

var initialState = {
  signedIn: false,
  signedOut: false
};
exports.initialState = initialState;
var PATCH_USER = "PATCH_USER";
exports.PATCH_USER = PATCH_USER;
var SIGN_IN = "SIGN_IN";
exports.SIGN_IN = SIGN_IN;
var SIGN_OUT = "SIGN_OUT";
exports.SIGN_OUT = SIGN_OUT;

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);

        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);

        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358}],345:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
exports.REPLACE_PARTICIPANTS = void 0;
var REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";
exports.REPLACE_PARTICIPANTS = REPLACE_PARTICIPANTS;

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = void 0;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = "BUSY_POLL";
exports.BUSY_POLL = BUSY_POLL;
var RELEASE_POLL = "RELEASE_POLL";
exports.RELEASE_POLL = RELEASE_POLL;
var REMOVE_POLL = "REMOVE_POLL";
exports.REMOVE_POLL = REMOVE_POLL;
var REPLACE_POLL = "REPLACE_POLL";
exports.REPLACE_POLL = REPLACE_POLL;
var UPDATE_POLL = "UPDATE_POLL";
exports.UPDATE_POLL = UPDATE_POLL;

function hydrate(json) {
  var hasSelectedChoices = false;

  for (var i in json.choices) {
    var choice = json.choices[i];

    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment.default)(json.posted_on).add(json.length, "days") : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_POLL:
      return Object.assign({}, state, {
        isBusy: false
      });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],347:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;
exports.PATCH_POST = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = "PATCH_POST";
exports.PATCH_POST = PATCH_POST;

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    updated_on: (0, _moment.default)(json.updated_on),
    hidden_on: (0, _moment.default)(json.hidden_on),
    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,
    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358,"moment":"moment"}],348:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = void 0;

var _post = _interopRequireWildcard(require("./post"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var APPEND_POSTS = "APPEND_POSTS";
exports.APPEND_POSTS = APPEND_POSTS;
var SELECT_POST = "SELECT_POST";
exports.SELECT_POST = SELECT_POST;
var DESELECT_POST = "DESELECT_POST";
exports.DESELECT_POST = DESELECT_POST;
var DESELECT_POSTS = "DESELECT_POSTS";
exports.DESELECT_POSTS = DESELECT_POSTS;
var LOAD_POSTS = "LOAD_POSTS";
exports.LOAD_POSTS = LOAD_POSTS;
var UNLOAD_POSTS = "UNLOAD_POSTS";
exports.UNLOAD_POSTS = UNLOAD_POSTS;
var UPDATE_POSTS = "UPDATE_POSTS";
exports.UPDATE_POSTS = UPDATE_POSTS;

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });
      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });
      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });
      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post.default)(post, action);
      });
      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":347}],349:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.load = load;
exports.default = details;
exports.LOAD_DETAILS = void 0;
var LOAD_DETAILS = "LOAD_DETAILS";
exports.LOAD_DETAILS = LOAD_DETAILS;

function load(newState) {
  return {
    type: LOAD_DETAILS,
    newState: newState
  };
}

function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;

    default:
      return state;
  }
}

},{}],350:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = "HYDRATE_PROFILE";
exports.HYDRATE_PROFILE = HYDRATE_PROFILE;
var PATCH_PROFILE = "PATCH_PROFILE";
exports.PATCH_PROFILE = PATCH_PROFILE;

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }

      return state;

    default:
      return state;
  }
}

},{"./users":358,"moment":"moment"}],351:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
exports.initialState = exports.UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH = exports.REPLACE_SEARCH = void 0;
var REPLACE_SEARCH = "REPLACE_SEARCH";
exports.REPLACE_SEARCH = REPLACE_SEARCH;
var UPDATE_SEARCH = "UPDATE_SEARCH";
exports.UPDATE_SEARCH = UPDATE_SEARCH;
var UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";
exports.UPDATE_SEARCH_PROVIDER = UPDATE_SEARCH_PROVIDER;
var initialState = {
  isLoading: false,
  query: "",
  providers: []
};
exports.initialState = initialState;

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],352:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = void 0;

var _sets = require("../utils/sets");

var SELECT_ALL = "SELECT_ALL";
exports.SELECT_ALL = SELECT_ALL;
var SELECT_NONE = "SELECT_NONE";
exports.SELECT_NONE = SELECT_NONE;
var SELECT_ITEM = "SELECT_ITEM";
exports.SELECT_ITEM = SELECT_ITEM;

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":385}],353:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
exports.HIDE_SNACKBAR = exports.SHOW_SNACKBAR = exports.initialState = void 0;
var initialState = {
  type: "info",
  message: "",
  isVisible: false
};
exports.initialState = initialState;
var SHOW_SNACKBAR = "SHOW_SNACKBAR";
exports.SHOW_SNACKBAR = SHOW_SNACKBAR;
var HIDE_SNACKBAR = "HIDE_SNACKBAR";
exports.HIDE_SNACKBAR = HIDE_SNACKBAR;

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],354:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _poll = require("./poll");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = "BUSY_THREAD";
exports.BUSY_THREAD = BUSY_THREAD;
var RELEASE_THREAD = "RELEASE_THREAD";
exports.RELEASE_THREAD = RELEASE_THREAD;
var REPLACE_THREAD = "REPLACE_THREAD";
exports.REPLACE_THREAD = REPLACE_THREAD;
var UPDATE_THREAD = "UPDATE_THREAD";
exports.UPDATE_THREAD = UPDATE_THREAD;
var UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";
exports.UPDATE_THREAD_ACL = UPDATE_THREAD_ACL;

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment.default)(json.started_on),
    last_post_on: (0, _moment.default)(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment.default)(json.best_answer_marked_on) : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_THREAD:
      return Object.assign({}, state, {
        isBusy: false
      });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, {
        poll: null
      });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, {
        poll: action.state
      });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, {
        acl: acl
      });

    default:
      return state;
  }
}

},{"./poll":346,"moment":"moment"}],355:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = "APPEND_THREADS";
exports.APPEND_THREADS = APPEND_THREADS;
var DELETE_THREAD = "DELETE_THREAD";
exports.DELETE_THREAD = DELETE_THREAD;
var FILTER_THREADS = "FILTER_THREADS";
exports.FILTER_THREADS = FILTER_THREADS;
var HYDRATE_THREADS = "HYDRATE_THREADS";
exports.HYDRATE_THREADS = HYDRATE_THREADS;
var PATCH_THREAD = "PATCH_THREAD";
exports.PATCH_THREAD = PATCH_THREAD;
var SORT_THREADS = "SORT_THREADS";
exports.SORT_THREADS = SORT_THREADS;
var MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];
exports.MODERATION_PERMISSIONS = MODERATION_PERMISSIONS;

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment.default)(thread.started_on),
    last_post_on: (0, _moment.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];

        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }

      return patchedState;

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"moment":"moment"}],356:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
exports.TICK = exports.initialState = void 0;
var initialState = {
  tick: 0
};
exports.initialState = initialState;
var TICK = "TICK";
exports.TICK = TICK;

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],357:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
exports.ADD_NAME_CHANGE = ADD_NAME_CHANGE;
var APPEND_HISTORY = "APPEND_HISTORY";
exports.APPEND_HISTORY = APPEND_HISTORY;
var HYDRATE_HISTORY = "HYDRATE_HISTORY";
exports.HYDRATE_HISTORY = HYDRATE_HISTORY;

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000),
        // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"./users":358,"moment":"moment"}],358:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = "APPEND_USERS";
exports.APPEND_USERS = APPEND_USERS;
var HYDRATE_USERS = "HYDRATE_USERS";
exports.HYDRATE_USERS = HYDRATE_USERS;
var UPDATE_AVATAR = "UPDATE_AVATAR";
exports.UPDATE_AVATAR = UPDATE_AVATAR;
var UPDATE_USERNAME = "UPDATE_USERNAME";
exports.UPDATE_USERNAME = UPDATE_USERNAME;

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":376,"moment":"moment"}],359:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Ajax = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Ajax = /*#__PURE__*/function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function success(data) {
            resolve(data);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }

      if (lock) {
        var self = this; // update url in existing lock?

        if (this._locks[lock]) {
          this._locks[lock].url = url;
        } // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve


        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          }; // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;
          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300); // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url); // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          }); // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };
          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data,
          contentType: false,
          processData: false,
          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },
          success: function success(response) {
            resolve(response);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.Ajax = Ajax;

var _default = new Ajax();

exports.default = _default;

},{}],360:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Auth = void 0;

var _auth = require("../reducers/auth");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Auth = /*#__PURE__*/function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal; // tell other tabs what auth state is because we are most current with it

      this.syncSession(); // listen for other tabs to tell us that state changed

      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;

      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;

      var state = this._store.getState().auth;

      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0, _auth.signOut)());
        }
      });

      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));

      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });

      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.Auth = Auth;

var _default = new Auth();

exports.default = _default;

},{"../reducers/auth":344}],361:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = void 0;

var _react = _interopRequireDefault(require("react"));

var _formGroup = _interopRequireDefault(require("../components/form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var BaseCaptcha = /*#__PURE__*/function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

exports.BaseCaptcha = BaseCaptcha;

var NoCaptcha = /*#__PURE__*/function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  var _super = _createSuper(NoCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _super.apply(this, arguments);
  }

  _createClass(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

exports.NoCaptcha = NoCaptcha;

var QACaptcha = /*#__PURE__*/function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  var _super2 = _createSuper(QACaptcha);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _super2.apply(this, arguments);
  }

  _createClass(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));

          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: this.question,
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: this.helpText || null
      }, /*#__PURE__*/_react.default.createElement("input", {
        "aria-describedby": "id_captcha_status",
        className: "form-control",
        disabled: kwargs.form.state.isLoading,
        id: "id_captcha",
        onChange: kwargs.form.bindInput("captcha"),
        type: "text",
        value: kwargs.form.state.captcha
      }));
    }
  }]);

  return QACaptcha;
}(BaseCaptcha);

exports.QACaptcha = QACaptcha;

var ReCaptchaComponent = /*#__PURE__*/function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  var _super3 = _createSuper(ReCaptchaComponent);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _super3.apply(this, arguments);
  }

  _createClass(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;

      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        id: "recaptcha"
      });
    }
  }]);

  return ReCaptchaComponent;
}(_react.default.Component);

exports.ReCaptchaComponent = ReCaptchaComponent;

var ReCaptcha = /*#__PURE__*/function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  var _super4 = _createSuper(ReCaptcha);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _super4.apply(this, arguments);
  }

  _createClass(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Please solve the quick test"),
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: gettext("This test helps us prevent automated spam registrations on our site.")
      }, /*#__PURE__*/_react.default.createElement(ReCaptchaComponent, {
        binding: kwargs.form.bindInput("captcha"),
        siteKey: this._context.get("SETTINGS").recaptcha_site_key
      }));
    }
  }]);

  return ReCaptcha;
}(BaseCaptcha);

exports.ReCaptcha = ReCaptcha;

var Captcha = /*#__PURE__*/function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;

        case "qa":
          this._captcha = new QACaptcha();
          break;

        case "re":
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    } // accessors for underlying strategy

  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.Captcha = Captcha;

var _default = new Captcha();

exports.default = _default;

},{"../components/form-group":49,"react":"react"}],362:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Include = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Include = /*#__PURE__*/function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);

        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);

  return Include;
}();

exports.Include = Include;

var _default = new Include();

exports.default = _default;

},{}],363:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LocalStorage = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var storage = window.localStorage;

var LocalStorage = /*#__PURE__*/function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];
      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);

        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);

      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.LocalStorage = LocalStorage;

var _default = new LocalStorage();

exports.default = _default;

},{}],364:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _marked = _interopRequireDefault(require("marked"));

var _oneBox = require("./one-box");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mardkedRenderer = function mardkedRenderer(content) {
  _marked.default.setOptions({
    renderer: new _marked.default.Renderer(),
    gfm: true,
    tables: false,
    breaks: true,
    pedantic: false,
    sanitize: false,
    smartLists: false,
    smartypants: false
  });

  var renderer = new _marked.default.Renderer();

  var headingParse = function headingParse(text, level) {
    return "<h".concat(level, ">\n    <span class=\"k-heading\">").concat(text, "</span>\n  </h").concat(level, ">");
  };

  var linkParse = function linkParse(href, title, text) {
    var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

    if (ytRegExp.test(href)) {
      var youtubeMovie = (0, _oneBox.parseYoutubeUrl)(href);

      if (!!youtubeMovie && youtubeMovie.data !== false) {
        var url = "https://www.youtube.com/embed/";
        url += youtubeMovie.video;
        url += "?rel=0";

        if (youtubeMovie.start) {
          url += "&start=" + youtubeMovie.start;
        }

        var player = '<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>';
        return "<div class=\"embed-responsive embed-responsive-16by9\">".concat(player, "</div>");
      }
    }

    return "<a href=".concat(href, "\n      title=").concat(title || href, "\n      target='_blank'\n      }>").concat(text, "</a>");
  };

  renderer.link = linkParse;
  renderer.heading = headingParse;
  return (0, _marked.default)(content, {
    renderer: renderer
  });
};

var _default = mardkedRenderer;
exports.default = _default;

},{"./one-box":367,"marked":2}],365:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.MobileNavbarDropdown = void 0;

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MobileNavbarDropdown = /*#__PURE__*/function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent.default)(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent.default)(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.MobileNavbarDropdown = MobileNavbarDropdown;

var _default = new MobileNavbarDropdown();

exports.default = _default;

},{"../utils/mount-component":380}],366:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Modal = void 0;

var _reactDom = _interopRequireDefault(require("react-dom"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Modal = /*#__PURE__*/function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;

      this._element = element;
      this._modal = $(element).modal({
        show: false
      });

      this._modal.on("hidden.bs.modal", function () {
        _reactDom.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0, _mountComponent.default)(component, this._element.id);

      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);

  return Modal;
}();

exports.Modal = Modal;

var _default = new Modal();

exports.default = _default;

},{"../utils/mount-component":380,"react-dom":"react-dom"}],367:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;
exports.default = exports.OneBox = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

var OneBox = /*#__PURE__*/function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    _defineProperty(this, "render", function (domnode) {
      if (!domnode) return;

      _this.highlightCode(domnode);

      _this.embedYoutubePlayers(domnode);
    });

    this._youtube = {};
  }

  _createClass(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll("pre>code");

      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll("p>a");

      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];

        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?rel=0";

      if (youtube.start) {
        url += "&start=" + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.OneBox = OneBox;

var _default = new OneBox();

exports.default = _default;

function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);
  if (!video) return null;
  var start = 0;

  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split("m");

      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;

        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;
  var video = url.match(ytRegExp);

  if (video) {
    return video[1];
  }

  return null;
}

},{}],368:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PageTitle = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PageTitle = /*#__PURE__*/function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === "string") {
        title = {
          title: title
        };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext("page: %(page)s"), {
          page: title.page
        }, true);
        finalTitle += " (" + pageLabel + ")";
      }

      if (title.parent) {
        finalTitle += " | " + title.parent;
      }

      document.title = finalTitle + " | " + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.PageTitle = PageTitle;

var _default = new PageTitle();

exports.default = _default;

},{}],369:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Polls = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Polls = /*#__PURE__*/function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);
            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.Polls = Polls;

var _default = new Polls();

exports.default = _default;

},{}],370:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Posting = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _poll = require("../components/poll");

var _posting = _interopRequireDefault(require("../components/posting"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Posting = /*#__PURE__*/function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    _defineProperty(this, "close", function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;

        _this._placeholder.removeClass("slide-in");

        window.setTimeout(function () {
          _reactDom.default.unmountComponentAtNode(document.getElementById("posting-mount"));

          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    });
  }

  _createClass(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);
      this._mode = null;
      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;

        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");

        if (this._mode == "POLL") {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);

        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;

          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      if (props.mode == "POLL") {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_poll.PollForm, props), "posting-mount");
      } else {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_posting.default, props), "posting-mount");
      }

      this._placeholder.addClass("slide-in");

      $("html, body").animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.Posting = Posting;

var _default = new Posting();

exports.default = _default;

},{"../components/poll":100,"../components/posting":128,"../utils/mount-component":380,"react":"react","react-dom":"react-dom"}],371:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Snackbar = void 0;

var _snackbar = require("../reducers/snackbar");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = /*#__PURE__*/function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: "alert",
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);

        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;

          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));

        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());

          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    } // shorthands for message types

  }, {
    key: "info",
    value: function info(message) {
      this.alert(message, "info");
    }
  }, {
    key: "success",
    value: function success(message) {
      this.alert(message, "success");
    }
  }, {
    key: "warning",
    value: function warning(message) {
      this.alert(message, "warning");
    }
  }, {
    key: "error",
    value: function error(message) {
      this.alert(message, "error");
    } // shorthand for api errors

  }, {
    key: "apiError",
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.Snackbar = Snackbar;

var _default = new Snackbar();

exports.default = _default;

},{"../reducers/snackbar":353}],372:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.StoreWrapper = void 0;

var _redux = require("redux");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreWrapper = /*#__PURE__*/function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    } // Store API

  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.StoreWrapper = StoreWrapper;

var _default = new StoreWrapper();

exports.default = _default;

},{"redux":"redux"}],373:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Zxcvbn = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/* global zxcvbn */
var Zxcvbn = /*#__PURE__*/function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");

        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
          tries += 1;

          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.Zxcvbn = Zxcvbn;

var _default = new Zxcvbn();

exports.default = _default;

},{}],374:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _bannedPage = _interopRequireDefault(require("../components/banned-page"));

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var select = function select(state) {
  return state.tick;
};

var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage.default);

function _default(ban, changeState) {
  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(RedrawedBannedPage, {
    message: ban.message,
    expires: ban.expires_on ? (0, _moment.default)(ban.expires_on) : null
  })), document.getElementById("page-mount"));

  if (typeof changeState === "undefined" || changeState) {
    var forumName = _.default.get("SETTINGS").forum_name;

    document.title = gettext("You are banned") + " | " + forumName;
    window.history.pushState({}, "", _.default.get("BANNED_URL"));
  }
}

},{"../components/banned-page":9,"../services/store":372,"./..":296,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],375:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var rows = [];
  var row = [];
  list.forEach(function (element) {
    row.push(element);

    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  }); // pad row to required length?

  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
}

},{}],376:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
}

},{}],377:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var _default = /*#__PURE__*/function () {
  function _default(callback, count) {
    _classCallCheck(this, _default);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_default, [{
    key: "count",
    value: function count() {
      this._count -= 1;

      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _default;
}();

exports.default = _default;

},{}],378:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};

function _default(text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
}

},{}],379:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.roundSize = roundSize;

function _default(bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
}

function roundSize(value) {
  return value.toFixed(1);
}

},{}],380:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var rootElement = document.getElementById(rootElementId);
  var finalComponent = Component.props ? Component : /*#__PURE__*/_react.default.createElement(Component, null);

  if (rootElement) {
    if (connected) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
        store: _store.default.getStore()
      }, finalComponent), rootElement);
    } else {
      _reactDom.default.render(finalComponent, rootElement);
    }
  }
}

},{"../services/store":372,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],381:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OrderedList = /*#__PURE__*/function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,
        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];

      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }

      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      }); // Ordered items

      var ordered = [];
      var ordering = []; // First pass: register items that
      // don't specify their order

      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Second pass: register items that
      // specify their before to "_end"

      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list

      function insertItem(item) {
        var insertAt = -1;

        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);

            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;

      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

var _default = OrderedList;
exports.default = _default;

},{}],382:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;

function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));

  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],383:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default() {
  window.scrollTo(0, 0);
}

},{}],384:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _reactRouter = require("react-router");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById("page-mount");

function _default(options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(_reactRouter.Router, {
    routes: routes,
    history: _reactRouter.browserHistory
  })), rootElement);
}

},{"../services/store":372,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],385:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;

function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],386:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();
  if (subString.length <= 0) return 0;
  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);

    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
}

},{}],387:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.requiredTermsOfService = requiredTermsOfService;
exports.requiredPrivacyPolicy = requiredPrivacyPolicy;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z]+$", "i");

function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || gettext("This field is required.");
    }
  };
}

function requiredTermsOfService(message) {
  var error = gettext("You have to accept the terms of service.");
  return required(message || error);
}

function requiredPrivacyPolicy(message) {
  var error = gettext("You have to accept the privacy policy.");
  return required(message || error);
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };

  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };

  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;

    if (length < limitValue) {
      var returnMessage = ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

},{}]},{},[296,297,298,299,300,317,318,319,320,321,322,323,324,340,341,342,343,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5qcyIsInNyYy9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZS5qcyIsInNyYy9jb21wb25lbnRzL1N0YXJ0U29jaWFsQXV0aC5qcyIsInNyYy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvYmxhbmtzbGF0ZS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2Rlc2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vbGFzdC10aHJlYWQuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9tYWluLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9zdWJjYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3ViY2F0ZWdvcmllcy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wLmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9nYWxsZXJ5LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2JsYW5rc2xhdGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGQtaW5wdXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGRzZXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2Vycm9yLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL3VwbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2NvbXBvbmVudHMvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0dXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvdXRpbHMvaGVscGVyL2tleWJvYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL3V0aWxzL2hlbHBlci90ZXh0LmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS1ncm91cC5qcyIsInNyYy9jb21wb25lbnRzL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9saS5qcyIsInNyYy9jb21wb25lbnRzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21lcmdlLWNvbmZsaWN0LmpzIiwic3JjL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cC5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2NsZWFuLXJlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2NvbnN0YW50cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZHJvcGRvd24tbWVudS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2ZsYXR0ZW4tcmVzdWx0cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2lucHV0LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3Jlc3VsdC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3RocmVhZC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L3VzZXIuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2FkaW5nLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2NrZWQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZGVsZXRlLWFjY291bnQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2Rvd25sb2FkLWRhdGEuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2VkaXQtZGV0YWlscy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9VbnVzYWJsZVBhc3N3b3JkTWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWwuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9wYWdlLWxlYWQuanMiLCJzcmMvY29tcG9uZW50cy9wYW5lbC1sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2FkZC1wYXJ0aWNpcGFudC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9tYWtlLW93bmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvcmVtb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vY2hvaWNlcy1jb250cm9sLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9mb3JtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcG9sbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9jaGFydC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaGVscC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3Rpbmcvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9kaWZmLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvYW5vbnltb3VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9yZWdpc3RlcmVkLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL3VzZXItdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtbGlrZXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2VkaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9yZXBseS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQtcHJpdmF0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3Rpbmcvc3RhcnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2F0dGFjaG1lbnRzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdXNlcm5hbWVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy92YWxpZGF0b3JzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZm8uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L3VucmVhZC1sYWJlbC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYXR0YWNobWVudHMvYXR0YWNobWVudC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9ib2R5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mbGFncy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9hbm9ueW1vdXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2hhcy12aXNpYmxlLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvcmVnaXN0ZXJlZC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci1wb3N0Y291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC93YXlwb2ludC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvYmFuLWRldGFpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZW1wdHktbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9maWVsZC12YWx1ZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9maWVsZC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2dyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2dyb3Vwcy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9yb3V0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21lc3NhZ2UtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2F2YXRhci1jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9jaGFuZ2UtdXNlcm5hbWUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS91c2VybmFtZS1oaXN0b3J5LmpzIiwic3JjL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9zaWRlbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3RocmVhZHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3VzZXJzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvc2lnbi1pbi5qcyIsInNyYy9jb21wb25lbnRzL3NuYWNrYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvc29jaWFsLWF1dGgvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9icmVhZGNydW1icy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2Ryb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZXJyb3JzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9zcGxpdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3RocmVhZC9pcy12aXNpYmxlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcGFnaW5hdG9yLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JlcGx5LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3N1YnNjcmlwdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLWJvdHRvbS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC90b29sYmFyLXRvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2JvdHRvbS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9jYXRlZ29yeS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy90b3AuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2xhc3QtYWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2NvbXBhY3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vbW9kYWwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC91c2VyLXVybC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tZXJnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvZ3Vlc3QtbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlci1tZW51L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvdXNlci1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLXN0YXR1cy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9jYXJkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9jYXJkL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvcHJldmlldy9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9wcmV2aWV3L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvcGFnZXIuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3llcy1uby1zd2l0Y2guanMiLCJzcmMvZGF0YS9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvaW5kZXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2FqYXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2F1dGgtc3luYy5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvY2FwdGNoYS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9hY2NlcHQtYWdyZWVtZW50LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9jYXRlZ29yaWVzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL29wdGlvbnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc2VhcmNoLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NvY2lhbC1hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy90aHJlYWRzLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXItbWVudS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy91c2Vycy5qcyIsInNyYy9pbml0aWFsaXplcnMvaW5jbHVkZS5qcyIsInNyYy9pbml0aWFsaXplcnMvbG9jYWwtc3RvcmFnZS5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9iaWxlLW5hdmJhci1kcm9wZG93bi5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9kYWwuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vbWVudC1sb2NhbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3BhZ2UtdGl0bGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3BvbGxzLmpzIiwic3JjL2luaXRpYWxpemVycy9wb3N0aW5nLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wYXJ0aWNpcGFudHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Bvc3RzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUtaHlkcmF0ZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc2VhcmNoLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWxlY3Rpb24uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RpY2suanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9zbmFja2Jhci5qcyIsInNyYy9pbml0aWFsaXplcnMvc3RvcmUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3RpY2stc3RhcnQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3p4Y3Zibi5qcyIsInNyYy9yZWR1Y2Vycy9hdXRoLmpzIiwic3JjL3JlZHVjZXJzL3BhcnRpY2lwYW50cy5qcyIsInNyYy9yZWR1Y2Vycy9wb2xsLmpzIiwic3JjL3JlZHVjZXJzL3Bvc3QuanMiLCJzcmMvcmVkdWNlcnMvcG9zdHMuanMiLCJzcmMvcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzLmpzIiwic3JjL3JlZHVjZXJzL3Byb2ZpbGUuanMiLCJzcmMvcmVkdWNlcnMvc2VhcmNoLmpzIiwic3JjL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9yZWR1Y2Vycy9zbmFja2Jhci5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWQuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9yZWR1Y2Vycy90aWNrLmpzIiwic3JjL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvc2VydmljZXMvYWpheC5qcyIsInNyYy9zZXJ2aWNlcy9hdXRoLmpzIiwic3JjL3NlcnZpY2VzL2NhcHRjaGEuanMiLCJzcmMvc2VydmljZXMvaW5jbHVkZS5qcyIsInNyYy9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL3NlcnZpY2VzL21hcmtlZC5qcyIsInNyYy9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL3NlcnZpY2VzL21vZGFsLmpzIiwic3JjL3NlcnZpY2VzL29uZS1ib3guanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvbW91bnQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL29yZGVyZWQtbGlzdC5qcyIsInNyYy91dGlscy9yYW5kb20uanMiLCJzcmMvdXRpbHMvcmVzZXQtc2Nyb2xsLmpzIiwic3JjL3V0aWxzL3JvdXRlZC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvc2V0cy5qcyIsInNyYy91dGlscy9zdHJpbmctY291bnQuanMiLCJzcmMvdXRpbHMvdmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7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QUcsS0FBSyxDQUFDLE1BQXJCOztBQUVBLFFBQUksTUFBTSxHQUFHLFVBQWIsRUFBeUI7QUFDdkIsVUFBTSxhQUFhLEdBQUcsUUFBUSxDQUM1QixpRUFENEIsRUFFNUIsa0VBRjRCLEVBRzVCLFVBSDRCLENBQTlCO0FBTUEsYUFBTyxXQUFXLENBQ2hCLGFBRGdCLEVBRWhCO0FBQ0UsUUFBQSxXQUFXLEVBQUUsVUFEZjtBQUVFLFFBQUEsVUFBVSxFQUFFO0FBRmQsT0FGZ0IsRUFNaEIsSUFOZ0IsQ0FBbEI7QUFRRDtBQUNGLEdBbkJEO0FBb0JEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNyBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMjAsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuLyoqXG4gKiBETyBOT1QgRURJVCBUSElTIEZJTEVcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBmaWxlcyBpbiAuL3NyYy9cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLm1hcmtlZCA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gICAgaWYgKCFvKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG8pIHtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKG8gPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpKSByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgICB9XG5cbiAgICBpID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgcmV0dXJuIGkubmV4dC5iaW5kKGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuICBcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbiAgfVxuXG4gIHZhciBkZWZhdWx0cyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICBmdW5jdGlvbiBnZXREZWZhdWx0cygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VVcmw6IG51bGwsXG4gICAgICAgIGJyZWFrczogZmFsc2UsXG4gICAgICAgIGdmbTogdHJ1ZSxcbiAgICAgICAgaGVhZGVySWRzOiB0cnVlLFxuICAgICAgICBoZWFkZXJQcmVmaXg6ICcnLFxuICAgICAgICBoaWdobGlnaHQ6IG51bGwsXG4gICAgICAgIGxhbmdQcmVmaXg6ICdsYW5ndWFnZS0nLFxuICAgICAgICBtYW5nbGU6IHRydWUsXG4gICAgICAgIHBlZGFudGljOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyZXI6IG51bGwsXG4gICAgICAgIHNhbml0aXplOiBmYWxzZSxcbiAgICAgICAgc2FuaXRpemVyOiBudWxsLFxuICAgICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgICBzbWFydExpc3RzOiBmYWxzZSxcbiAgICAgICAgc21hcnR5cGFudHM6IGZhbHNlLFxuICAgICAgICB0b2tlbml6ZXI6IG51bGwsXG4gICAgICAgIHdhbGtUb2tlbnM6IG51bGwsXG4gICAgICAgIHhodG1sOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VEZWZhdWx0cyhuZXdEZWZhdWx0cykge1xuICAgICAgbW9kdWxlLmV4cG9ydHMuZGVmYXVsdHMgPSBuZXdEZWZhdWx0cztcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAgIGRlZmF1bHRzOiBnZXREZWZhdWx0cygpLFxuICAgICAgZ2V0RGVmYXVsdHM6IGdldERlZmF1bHRzLFxuICAgICAgY2hhbmdlRGVmYXVsdHM6IGNoYW5nZURlZmF1bHRzXG4gICAgfTtcbiAgfSk7XG4gIHZhciBkZWZhdWx0c18xID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIHZhciBkZWZhdWx0c18yID0gZGVmYXVsdHMuZ2V0RGVmYXVsdHM7XG4gIHZhciBkZWZhdWx0c18zID0gZGVmYXVsdHMuY2hhbmdlRGVmYXVsdHM7XG5cbiAgLyoqXG4gICAqIEhlbHBlcnNcbiAgICovXG4gIHZhciBlc2NhcGVUZXN0ID0gL1smPD5cIiddLztcbiAgdmFyIGVzY2FwZVJlcGxhY2UgPSAvWyY8PlwiJ10vZztcbiAgdmFyIGVzY2FwZVRlc3ROb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS87XG4gIHZhciBlc2NhcGVSZXBsYWNlTm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvZztcbiAgdmFyIGVzY2FwZVJlcGxhY2VtZW50cyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICB2YXIgZ2V0RXNjYXBlUmVwbGFjZW1lbnQgPSBmdW5jdGlvbiBnZXRFc2NhcGVSZXBsYWNlbWVudChjaCkge1xuICAgIHJldHVybiBlc2NhcGVSZXBsYWNlbWVudHNbY2hdO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVzY2FwZShodG1sLCBlbmNvZGUpIHtcbiAgICBpZiAoZW5jb2RlKSB7XG4gICAgICBpZiAoZXNjYXBlVGVzdC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZSwgZ2V0RXNjYXBlUmVwbGFjZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGVSZXBsYWNlTm9FbmNvZGUsIGdldEVzY2FwZVJlcGxhY2VtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbDtcbiAgfVxuXG4gIHZhciB1bmVzY2FwZVRlc3QgPSAvJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2lnO1xuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlKGh0bWwpIHtcbiAgICAvLyBleHBsaWNpdGx5IG1hdGNoIGRlY2ltYWwsIGhleCwgYW5kIG5hbWVkIEhUTUwgZW50aXRpZXNcbiAgICByZXR1cm4gaHRtbC5yZXBsYWNlKHVuZXNjYXBlVGVzdCwgZnVuY3Rpb24gKF8sIG4pIHtcbiAgICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobiA9PT0gJ2NvbG9uJykgcmV0dXJuICc6JztcblxuICAgICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgcmV0dXJuIG4uY2hhckF0KDEpID09PSAneCcgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4uc3Vic3RyaW5nKDIpLCAxNikpIDogU3RyaW5nLmZyb21DaGFyQ29kZSgrbi5zdWJzdHJpbmcoMSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgY2FyZXQgPSAvKF58W15cXFtdKVxcXi9nO1xuXG4gIGZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICAgIHJlZ2V4ID0gcmVnZXguc291cmNlIHx8IHJlZ2V4O1xuICAgIG9wdCA9IG9wdCB8fCAnJztcbiAgICB2YXIgb2JqID0ge1xuICAgICAgcmVwbGFjZTogZnVuY3Rpb24gcmVwbGFjZShuYW1lLCB2YWwpIHtcbiAgICAgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKGNhcmV0LCAnJDEnKTtcbiAgICAgICAgcmVnZXggPSByZWdleC5yZXBsYWNlKG5hbWUsIHZhbCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9LFxuICAgICAgZ2V0UmVnZXg6IGZ1bmN0aW9uIGdldFJlZ2V4KCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgbm9uV29yZEFuZENvbG9uVGVzdCA9IC9bXlxcdzpdL2c7XG4gIHZhciBvcmlnaW5JbmRlcGVuZGVudFVybCA9IC9eJHxeW2Etel1bYS16MC05Ky4tXSo6fF5bPyNdL2k7XG5cbiAgZnVuY3Rpb24gY2xlYW5Vcmwoc2FuaXRpemUsIGJhc2UsIGhyZWYpIHtcbiAgICBpZiAoc2FuaXRpemUpIHtcbiAgICAgIHZhciBwcm90O1xuXG4gICAgICB0cnkge1xuICAgICAgICBwcm90ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVuZXNjYXBlKGhyZWYpKS5yZXBsYWNlKG5vbldvcmRBbmRDb2xvblRlc3QsICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3QuaW5kZXhPZignamF2YXNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ3Zic2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmFzZSAmJiAhb3JpZ2luSW5kZXBlbmRlbnRVcmwudGVzdChocmVmKSkge1xuICAgICAgaHJlZiA9IHJlc29sdmVVcmwoYmFzZSwgaHJlZik7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGhyZWYgPSBlbmNvZGVVUkkoaHJlZikucmVwbGFjZSgvJTI1L2csICclJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhyZWY7XG4gIH1cblxuICB2YXIgYmFzZVVybHMgPSB7fTtcbiAgdmFyIGp1c3REb21haW4gPSAvXlteOl0rOlxcLypbXi9dKiQvO1xuICB2YXIgcHJvdG9jb2wgPSAvXihbXjpdKzopW1xcc1xcU10qJC87XG4gIHZhciBkb21haW4gPSAvXihbXjpdKzpcXC8qW14vXSopW1xcc1xcU10qJC87XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7XG4gICAgaWYgKCFiYXNlVXJsc1snICcgKyBiYXNlXSkge1xuICAgICAgLy8gd2UgY2FuIGlnbm9yZSBldmVyeXRoaW5nIGluIGJhc2UgYWZ0ZXIgdGhlIGxhc3Qgc2xhc2ggb2YgaXRzIHBhdGggY29tcG9uZW50LFxuICAgICAgLy8gYnV0IHdlIG1pZ2h0IG5lZWQgdG8gYWRkIF90aGF0X1xuICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zXG4gICAgICBpZiAoanVzdERvbWFpbi50ZXN0KGJhc2UpKSB7XG4gICAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gYmFzZSArICcvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gcnRyaW0oYmFzZSwgJy8nLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG4gICAgdmFyIHJlbGF0aXZlQmFzZSA9IGJhc2UuaW5kZXhPZignOicpID09PSAtMTtcblxuICAgIGlmIChocmVmLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykge1xuICAgICAgaWYgKHJlbGF0aXZlQmFzZSkge1xuICAgICAgICByZXR1cm4gaHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhc2UucmVwbGFjZShwcm90b2NvbCwgJyQxJykgKyBocmVmO1xuICAgIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgICAgaWYgKHJlbGF0aXZlQmFzZSkge1xuICAgICAgICByZXR1cm4gaHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhc2UucmVwbGFjZShkb21haW4sICckMScpICsgaHJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJhc2UgKyBocmVmO1xuICAgIH1cbiAgfVxuXG4gIHZhciBub29wVGVzdCA9IHtcbiAgICBleGVjOiBmdW5jdGlvbiBub29wVGVzdCgpIHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gbWVyZ2Uob2JqKSB7XG4gICAgdmFyIGkgPSAxLFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGtleTtcblxuICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gdGFyZ2V0W2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gc3BsaXRDZWxscyh0YWJsZVJvdywgY291bnQpIHtcbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAgIC8vIGJlZm9yZSBpdCB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIGVzY2FwZWQgcGlwZVxuICAgIHZhciByb3cgPSB0YWJsZVJvdy5yZXBsYWNlKC9cXHwvZywgZnVuY3Rpb24gKG1hdGNoLCBvZmZzZXQsIHN0cikge1xuICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSxcbiAgICAgICAgICBjdXJyID0gb2Zmc2V0O1xuXG4gICAgICB3aGlsZSAoLS1jdXJyID49IDAgJiYgc3RyW2N1cnJdID09PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAvLyBvZGQgbnVtYmVyIG9mIHNsYXNoZXMgbWVhbnMgfCBpcyBlc2NhcGVkXG4gICAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IGFsb25lXG4gICAgICAgIHJldHVybiAnfCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhZGQgc3BhY2UgYmVmb3JlIHVuZXNjYXBlZCB8XG4gICAgICAgIHJldHVybiAnIHwnO1xuICAgICAgfVxuICAgIH0pLFxuICAgICAgICBjZWxscyA9IHJvdy5zcGxpdCgvIFxcfC8pO1xuICAgIHZhciBpID0gMDtcblxuICAgIGlmIChjZWxscy5sZW5ndGggPiBjb3VudCkge1xuICAgICAgY2VsbHMuc3BsaWNlKGNvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGNlbGxzLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICAgIGNlbGxzLnB1c2goJycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZSBpcyBpZ25vcmVkIHBlciB0aGUgZ2ZtIHNwZWNcbiAgICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2VsbHM7XG4gIH0gLy8gUmVtb3ZlIHRyYWlsaW5nICdjJ3MuIEVxdWl2YWxlbnQgdG8gc3RyLnJlcGxhY2UoL2MqJC8sICcnKS5cbiAgLy8gL2MqJC8gaXMgdnVsbmVyYWJsZSB0byBSRURPUy5cbiAgLy8gaW52ZXJ0OiBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuXG5cbiAgZnVuY3Rpb24gcnRyaW0oc3RyLCBjLCBpbnZlcnQpIHtcbiAgICB2YXIgbCA9IHN0ci5sZW5ndGg7XG5cbiAgICBpZiAobCA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gTGVuZ3RoIG9mIHN1ZmZpeCBtYXRjaGluZyB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cblxuXG4gICAgdmFyIHN1ZmZMZW4gPSAwOyAvLyBTdGVwIGxlZnQgdW50aWwgd2UgZmFpbCB0byBtYXRjaCB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cblxuICAgIHdoaWxlIChzdWZmTGVuIDwgbCkge1xuICAgICAgdmFyIGN1cnJDaGFyID0gc3RyLmNoYXJBdChsIC0gc3VmZkxlbiAtIDEpO1xuXG4gICAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgICBzdWZmTGVuKys7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJDaGFyICE9PSBjICYmIGludmVydCkge1xuICAgICAgICBzdWZmTGVuKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBsIC0gc3VmZkxlbik7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQ2xvc2luZ0JyYWNrZXQoc3RyLCBiKSB7XG4gICAgaWYgKHN0ci5pbmRleE9mKGJbMV0pID09PSAtMSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhciBsID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgbGV2ZWwgPSAwLFxuICAgICAgICBpID0gMDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoc3RyW2ldID09PSAnXFxcXCcpIHtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMF0pIHtcbiAgICAgICAgbGV2ZWwrKztcbiAgICAgIH0gZWxzZSBpZiAoc3RyW2ldID09PSBiWzFdKSB7XG4gICAgICAgIGxldmVsLS07XG5cbiAgICAgICAgaWYgKGxldmVsIDwgMCkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCkge1xuICAgIGlmIChvcHQgJiYgb3B0LnNhbml0aXplICYmICFvcHQuc2lsZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBzYW5pdGl6ZSBhbmQgc2FuaXRpemVyIHBhcmFtZXRlcnMgYXJlIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAwLjcuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vbWFya2VkLmpzLm9yZy8jL1VTSU5HX0FEVkFOQ0VELm1kI29wdGlvbnMnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaGVscGVycyA9IHtcbiAgICBlc2NhcGU6IGVzY2FwZSxcbiAgICB1bmVzY2FwZTogdW5lc2NhcGUsXG4gICAgZWRpdDogZWRpdCxcbiAgICBjbGVhblVybDogY2xlYW5VcmwsXG4gICAgcmVzb2x2ZVVybDogcmVzb2x2ZVVybCxcbiAgICBub29wVGVzdDogbm9vcFRlc3QsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIHNwbGl0Q2VsbHM6IHNwbGl0Q2VsbHMsXG4gICAgcnRyaW06IHJ0cmltLFxuICAgIGZpbmRDbG9zaW5nQnJhY2tldDogZmluZENsb3NpbmdCcmFja2V0LFxuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbjogY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uXG4gIH07XG5cbiAgdmFyIGRlZmF1bHRzJDEgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIHJ0cmltJDEgPSBoZWxwZXJzLnJ0cmltLFxuICAgICAgc3BsaXRDZWxscyQxID0gaGVscGVycy5zcGxpdENlbGxzLFxuICAgICAgX2VzY2FwZSA9IGhlbHBlcnMuZXNjYXBlLFxuICAgICAgZmluZENsb3NpbmdCcmFja2V0JDEgPSBoZWxwZXJzLmZpbmRDbG9zaW5nQnJhY2tldDtcblxuICBmdW5jdGlvbiBvdXRwdXRMaW5rKGNhcCwgbGluaywgcmF3KSB7XG4gICAgdmFyIGhyZWYgPSBsaW5rLmhyZWY7XG4gICAgdmFyIHRpdGxlID0gbGluay50aXRsZSA/IF9lc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXG4gICAgaWYgKGNhcFswXS5jaGFyQXQoMCkgIT09ICchJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB0ZXh0OiBjYXBbMV1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgIHJhdzogcmF3LFxuICAgICAgICB0ZXh0OiBfZXNjYXBlKGNhcFsxXSksXG4gICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbmRlbnRDb2RlQ29tcGVuc2F0aW9uKHJhdywgdGV4dCkge1xuICAgIHZhciBtYXRjaEluZGVudFRvQ29kZSA9IHJhdy5tYXRjaCgvXihcXHMrKSg/OmBgYCkvKTtcblxuICAgIGlmIChtYXRjaEluZGVudFRvQ29kZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGluZGVudFRvQ29kZSA9IG1hdGNoSW5kZW50VG9Db2RlWzFdO1xuICAgIHJldHVybiB0ZXh0LnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBtYXRjaEluZGVudEluTm9kZSA9IG5vZGUubWF0Y2goL15cXHMrLyk7XG5cbiAgICAgIGlmIChtYXRjaEluZGVudEluTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGVudEluTm9kZSA9IG1hdGNoSW5kZW50SW5Ob2RlWzBdO1xuXG4gICAgICBpZiAoaW5kZW50SW5Ob2RlLmxlbmd0aCA+PSBpbmRlbnRUb0NvZGUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBub2RlLnNsaWNlKGluZGVudFRvQ29kZS5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KS5qb2luKCdcXG4nKTtcbiAgfVxuICAvKipcbiAgICogVG9rZW5pemVyXG4gICAqL1xuXG5cbiAgdmFyIFRva2VuaXplcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2tlbml6ZXIob3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQxO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBUb2tlbml6ZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNwYWNlID0gZnVuY3Rpb24gc3BhY2Uoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5uZXdsaW5lLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICBpZiAoY2FwWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3NwYWNlJyxcbiAgICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmF3OiAnXFxuJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uY29kZSA9IGZ1bmN0aW9uIGNvZGUoc3JjLCB0b2tlbnMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmNvZGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdOyAvLyBBbiBpbmRlbnRlZCBjb2RlIGJsb2NrIGNhbm5vdCBpbnRlcnJ1cHQgYSBwYXJhZ3JhcGguXG5cbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICB0ZXh0OiBjYXBbMF0udHJpbVJpZ2h0KClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHQgPSBjYXBbMF0ucmVwbGFjZSgvXiB7NH0vZ20sICcnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgY29kZUJsb2NrU3R5bGU6ICdpbmRlbnRlZCcsXG4gICAgICAgICAgdGV4dDogIXRoaXMub3B0aW9ucy5wZWRhbnRpYyA/IHJ0cmltJDEodGV4dCwgJ1xcbicpIDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZmVuY2VzID0gZnVuY3Rpb24gZmVuY2VzKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgcmF3ID0gY2FwWzBdO1xuICAgICAgICB2YXIgdGV4dCA9IGluZGVudENvZGVDb21wZW5zYXRpb24ocmF3LCBjYXBbM10gfHwgJycpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpIDogY2FwWzJdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmhlYWRpbmcgPSBmdW5jdGlvbiBoZWFkaW5nKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaGVhZGluZy5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgICAgdGV4dDogY2FwWzJdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5ucHRhYmxlID0gZnVuY3Rpb24gbnB0YWJsZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLm5wdGFibGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzJDEoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgICBjZWxsczogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW10sXG4gICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsID0gaXRlbS5hbGlnbi5sZW5ndGg7XG4gICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsID0gaXRlbS5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtLmNlbGxzW2ldID0gc3BsaXRDZWxscyQxKGl0ZW0uY2VsbHNbaV0sIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmhyID0gZnVuY3Rpb24gaHIoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5oci5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnaHInLFxuICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5ibG9ja3F1b3RlID0gZnVuY3Rpb24gYmxvY2txdW90ZShzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmJsb2NrcXVvdGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gY2FwWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwgJycpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdibG9ja3F1b3RlJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5saXN0ID0gZnVuY3Rpb24gbGlzdChzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmxpc3QuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciByYXcgPSBjYXBbMF07XG4gICAgICAgIHZhciBidWxsID0gY2FwWzJdO1xuICAgICAgICB2YXIgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuICAgICAgICB2YXIgbGlzdCA9IHtcbiAgICAgICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICAgICAgcmF3OiByYXcsXG4gICAgICAgICAgb3JkZXJlZDogaXNvcmRlcmVkLFxuICAgICAgICAgIHN0YXJ0OiBpc29yZGVyZWQgPyArYnVsbCA6ICcnLFxuICAgICAgICAgIGxvb3NlOiBmYWxzZSxcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfTsgLy8gR2V0IGVhY2ggdG9wLWxldmVsIGl0ZW0uXG5cbiAgICAgICAgdmFyIGl0ZW1NYXRjaCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLmJsb2NrLml0ZW0pO1xuICAgICAgICB2YXIgbmV4dCA9IGZhbHNlLFxuICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgYixcbiAgICAgICAgICAgIGFkZEJhY2ssXG4gICAgICAgICAgICBsb29zZSxcbiAgICAgICAgICAgIGlzdGFzayxcbiAgICAgICAgICAgIGlzY2hlY2tlZDtcbiAgICAgICAgdmFyIGwgPSBpdGVtTWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaXRlbSA9IGl0ZW1NYXRjaFtpXTtcbiAgICAgICAgICByYXcgPSBpdGVtOyAvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSdzIGJ1bGxldFxuICAgICAgICAgIC8vIHNvIGl0IGlzIHNlZW4gYXMgdGhlIG5leHQgdG9rZW4uXG5cbiAgICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL14gKihbKistXXxcXGQrXFwuKSAqLywgJycpOyAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuICAgICAgICAgIC8vIGxpc3QgaXRlbSBjb250YWlucy4gSGFja3kuXG5cbiAgICAgICAgICBpZiAofml0ZW0uaW5kZXhPZignXFxuICcpKSB7XG4gICAgICAgICAgICBzcGFjZSAtPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICAgIGl0ZW0gPSAhdGhpcy5vcHRpb25zLnBlZGFudGljID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpIDogaXRlbS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7XG4gICAgICAgICAgfSAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBsaXN0IGl0ZW0gYmVsb25ncyBoZXJlLlxuICAgICAgICAgIC8vIEJhY2twZWRhbCBpZiBpdCBkb2VzIG5vdCBiZWxvbmcgaW4gdGhpcyBsaXN0LlxuXG5cbiAgICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICAgIGIgPSB0aGlzLnJ1bGVzLmJsb2NrLmJ1bGxldC5leGVjKGl0ZW1NYXRjaFtpICsgMV0pWzBdO1xuXG4gICAgICAgICAgICBpZiAoYnVsbC5sZW5ndGggPiAxID8gYi5sZW5ndGggPT09IDEgOiBiLmxlbmd0aCA+IDEgfHwgdGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMgJiYgYiAhPT0gYnVsbCkge1xuICAgICAgICAgICAgICBhZGRCYWNrID0gaXRlbU1hdGNoLnNsaWNlKGkgKyAxKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgbGlzdC5yYXcgPSBsaXN0LnJhdy5zdWJzdHJpbmcoMCwgbGlzdC5yYXcubGVuZ3RoIC0gYWRkQmFjay5sZW5ndGgpO1xuICAgICAgICAgICAgICBpID0gbCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtIGlzIGxvb3NlIG9yIG5vdC5cbiAgICAgICAgICAvLyBVc2U6IC8oXnxcXG4pKD8hIClbXlxcbl0rXFxuXFxuKD8hXFxzKiQpL1xuICAgICAgICAgIC8vIGZvciBkaXNjb3VudCBiZWhhdmlvci5cblxuXG4gICAgICAgICAgbG9vc2UgPSBuZXh0IHx8IC9cXG5cXG4oPyFcXHMqJCkvLnRlc3QoaXRlbSk7XG5cbiAgICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICAgIG5leHQgPSBpdGVtLmNoYXJBdChpdGVtLmxlbmd0aCAtIDEpID09PSAnXFxuJztcbiAgICAgICAgICAgIGlmICghbG9vc2UpIGxvb3NlID0gbmV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobG9vc2UpIHtcbiAgICAgICAgICAgIGxpc3QubG9vc2UgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gQ2hlY2sgZm9yIHRhc2sgbGlzdCBpdGVtc1xuXG5cbiAgICAgICAgICBpc3Rhc2sgPSAvXlxcW1sgeFhdXFxdIC8udGVzdChpdGVtKTtcbiAgICAgICAgICBpc2NoZWNrZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoaXN0YXNrKSB7XG4gICAgICAgICAgICBpc2NoZWNrZWQgPSBpdGVtWzFdICE9PSAnICc7XG4gICAgICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eXFxbWyB4WF1cXF0gKy8sICcnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0Lml0ZW1zLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbScsXG4gICAgICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgICAgIHRhc2s6IGlzdGFzayxcbiAgICAgICAgICAgIGNoZWNrZWQ6IGlzY2hlY2tlZCxcbiAgICAgICAgICAgIGxvb3NlOiBsb29zZSxcbiAgICAgICAgICAgIHRleHQ6IGl0ZW1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaHRtbCA9IGZ1bmN0aW9uIGh0bWwoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5odG1sLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICdwYXJhZ3JhcGgnIDogJ2h0bWwnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHByZTogIXRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgJiYgKGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScpLFxuICAgICAgICAgIHRleHQ6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBfZXNjYXBlKGNhcFswXSkgOiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlZiA9IGZ1bmN0aW9uIGRlZihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmRlZi5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgaWYgKGNhcFszXSkgY2FwWzNdID0gY2FwWzNdLnN1YnN0cmluZygxLCBjYXBbM10ubGVuZ3RoIC0gMSk7XG4gICAgICAgIHZhciB0YWcgPSBjYXBbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGFnOiB0YWcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICAgIHRpdGxlOiBjYXBbM11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnRhYmxlID0gZnVuY3Rpb24gdGFibGUoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50YWJsZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMkMShjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKSksXG4gICAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgICAgaXRlbS5yYXcgPSBjYXBbMF07XG4gICAgICAgICAgdmFyIGwgPSBpdGVtLmFsaWduLmxlbmd0aDtcbiAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGwgPSBpdGVtLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzJDEoaXRlbS5jZWxsc1tpXS5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJyksIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmxoZWFkaW5nID0gZnVuY3Rpb24gbGhlYWRpbmcoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgZGVwdGg6IGNhcFsyXS5jaGFyQXQoMCkgPT09ICc9JyA/IDEgOiAyLFxuICAgICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucGFyYWdyYXBoID0gZnVuY3Rpb24gcGFyYWdyYXBoKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2sucGFyYWdyYXBoLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJyA/IGNhcFsxXS5zbGljZSgwLCAtMSkgOiBjYXBbMV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnRleHQgPSBmdW5jdGlvbiB0ZXh0KHNyYywgdG9rZW5zKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAobGFzdFRva2VuICYmIGxhc3RUb2tlbi50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5lc2NhcGUgPSBmdW5jdGlvbiBlc2NhcGUoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdlc2NhcGUnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IF9lc2NhcGUoY2FwWzFdKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udGFnID0gZnVuY3Rpb24gdGFnKHNyYywgaW5MaW5rLCBpblJhd0Jsb2NrKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudGFnLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICBpZiAoIWluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgIGluTGluayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5MaW5rICYmIC9ePFxcL2E+L2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgICAgaW5MaW5rID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluUmF3QmxvY2sgJiYgL148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgIGluUmF3QmxvY2sgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGluUmF3QmxvY2sgJiYgL148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgIGluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplID8gJ3RleHQnIDogJ2h0bWwnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIGluTGluazogaW5MaW5rLFxuICAgICAgICAgIGluUmF3QmxvY2s6IGluUmF3QmxvY2ssXG4gICAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gdGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IF9lc2NhcGUoY2FwWzBdKSA6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubGluayA9IGZ1bmN0aW9uIGxpbmsoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUubGluay5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0JDEoY2FwWzJdLCAnKCknKTtcblxuICAgICAgICBpZiAobGFzdFBhcmVuSW5kZXggPiAtMSkge1xuICAgICAgICAgIHZhciBzdGFydCA9IGNhcFswXS5pbmRleE9mKCchJykgPT09IDAgPyA1IDogNDtcbiAgICAgICAgICB2YXIgbGlua0xlbiA9IHN0YXJ0ICsgY2FwWzFdLmxlbmd0aCArIGxhc3RQYXJlbkluZGV4O1xuICAgICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICAgIGNhcFswXSA9IGNhcFswXS5zdWJzdHJpbmcoMCwgbGlua0xlbikudHJpbSgpO1xuICAgICAgICAgIGNhcFszXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhyZWYgPSBjYXBbMl07XG4gICAgICAgIHZhciB0aXRsZSA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgICB2YXIgbGluayA9IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLy5leGVjKGhyZWYpO1xuXG4gICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgIGhyZWYgPSBsaW5rWzFdO1xuICAgICAgICAgICAgdGl0bGUgPSBsaW5rWzNdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aXRsZSA9IGNhcFszXSA/IGNhcFszXS5zbGljZSgxLCAtMSkgOiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGhyZWYgPSBocmVmLnRyaW0oKS5yZXBsYWNlKC9ePChbXFxzXFxTXSopPiQvLCAnJDEnKTtcbiAgICAgICAgdmFyIHRva2VuID0gb3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgICBocmVmOiBocmVmID8gaHJlZi5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLl9lc2NhcGVzLCAnJDEnKSA6IGhyZWYsXG4gICAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiB0aXRsZVxuICAgICAgICB9LCBjYXBbMF0pO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5yZWZsaW5rID0gZnVuY3Rpb24gcmVmbGluayhzcmMsIGxpbmtzKSB7XG4gICAgICB2YXIgY2FwO1xuXG4gICAgICBpZiAoKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnJlZmxpbmsuZXhlYyhzcmMpKSB8fCAoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUubm9saW5rLmV4ZWMoc3JjKSkpIHtcbiAgICAgICAgdmFyIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICBsaW5rID0gbGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoIWxpbmsgfHwgIWxpbmsuaHJlZikge1xuICAgICAgICAgIHZhciB0ZXh0ID0gY2FwWzBdLmNoYXJBdCgwKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgcmF3OiB0ZXh0LFxuICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9rZW4gPSBvdXRwdXRMaW5rKGNhcCwgbGluaywgY2FwWzBdKTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uc3Ryb25nID0gZnVuY3Rpb24gc3Ryb25nKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnN0cm9uZy5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnc3Ryb25nJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtID0gZnVuY3Rpb24gZW0oc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuZW0uZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2VtJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbNl0gfHwgY2FwWzVdIHx8IGNhcFs0XSB8fCBjYXBbM10gfHwgY2FwWzJdIHx8IGNhcFsxXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uY29kZXNwYW4gPSBmdW5jdGlvbiBjb2Rlc3BhbihzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5jb2RlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgdGV4dCA9IGNhcFsyXS5yZXBsYWNlKC9cXG4vZywgJyAnKTtcbiAgICAgICAgdmFyIGhhc05vblNwYWNlQ2hhcnMgPSAvW14gXS8udGVzdCh0ZXh0KTtcbiAgICAgICAgdmFyIGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzID0gdGV4dC5zdGFydHNXaXRoKCcgJykgJiYgdGV4dC5lbmRzV2l0aCgnICcpO1xuXG4gICAgICAgIGlmIChoYXNOb25TcGFjZUNoYXJzICYmIGhhc1NwYWNlQ2hhcnNPbkJvdGhFbmRzKSB7XG4gICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0ZXh0LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29kZXNwYW4nLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmJyID0gZnVuY3Rpb24gYnIoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYnIuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2JyJyxcbiAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGVsID0gZnVuY3Rpb24gZGVsKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmRlbC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZGVsJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbMV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmF1dG9saW5rID0gZnVuY3Rpb24gYXV0b2xpbmsoc3JjLCBtYW5nbGUpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5hdXRvbGluay5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQsIGhyZWY7XG5cbiAgICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgdGV4dCA9IF9lc2NhcGUodGhpcy5vcHRpb25zLm1hbmdsZSA/IG1hbmdsZShjYXBbMV0pIDogY2FwWzFdKTtcbiAgICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZShjYXBbMV0pO1xuICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgIHRva2VuczogW3tcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHJhdzogdGV4dCxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udXJsID0gZnVuY3Rpb24gdXJsKHNyYywgbWFuZ2xlKSB7XG4gICAgICB2YXIgY2FwO1xuXG4gICAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUudXJsLmV4ZWMoc3JjKSkge1xuICAgICAgICB2YXIgdGV4dCwgaHJlZjtcblxuICAgICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZSh0aGlzLm9wdGlvbnMubWFuZ2xlID8gbWFuZ2xlKGNhcFswXSkgOiBjYXBbMF0pO1xuICAgICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICAgIHZhciBwcmV2Q2FwWmVybztcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIHByZXZDYXBaZXJvID0gY2FwWzBdO1xuICAgICAgICAgICAgY2FwWzBdID0gdGhpcy5ydWxlcy5pbmxpbmUuX2JhY2twZWRhbC5leGVjKGNhcFswXSlbMF07XG4gICAgICAgICAgfSB3aGlsZSAocHJldkNhcFplcm8gIT09IGNhcFswXSk7XG5cbiAgICAgICAgICB0ZXh0ID0gX2VzY2FwZShjYXBbMF0pO1xuXG4gICAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgICBocmVmID0gJ2h0dHA6Ly8nICsgdGV4dDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgIHRva2VuczogW3tcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHJhdzogdGV4dCxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaW5saW5lVGV4dCA9IGZ1bmN0aW9uIGlubGluZVRleHQoc3JjLCBpblJhd0Jsb2NrLCBzbWFydHlwYW50cykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnRleHQuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciB0ZXh0O1xuXG4gICAgICAgIGlmIChpblJhd0Jsb2NrKSB7XG4gICAgICAgICAgdGV4dCA9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBfZXNjYXBlKGNhcFswXSkgOiBjYXBbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dCA9IF9lc2NhcGUodGhpcy5vcHRpb25zLnNtYXJ0eXBhbnRzID8gc21hcnR5cGFudHMoY2FwWzBdKSA6IGNhcFswXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUb2tlbml6ZXI7XG4gIH0oKTtcblxuICB2YXIgbm9vcFRlc3QkMSA9IGhlbHBlcnMubm9vcFRlc3QsXG4gICAgICBlZGl0JDEgPSBoZWxwZXJzLmVkaXQsXG4gICAgICBtZXJnZSQxID0gaGVscGVycy5tZXJnZTtcbiAgLyoqXG4gICAqIEJsb2NrLUxldmVsIEdyYW1tYXJcbiAgICovXG5cbiAgdmFyIGJsb2NrID0ge1xuICAgIG5ld2xpbmU6IC9eXFxuKy8sXG4gICAgY29kZTogL14oIHs0fVteXFxuXStcXG4qKSsvLFxuICAgIGZlbmNlczogL14gezAsM30oYHszLH0oPz1bXmBcXG5dKlxcbil8fnszLH0pKFteXFxuXSopXFxuKD86fChbXFxzXFxTXSo/KVxcbikoPzogezAsM31cXDFbfmBdKiAqKD86XFxuK3wkKXwkKS8sXG4gICAgaHI6IC9eIHswLDN9KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKS8sXG4gICAgaGVhZGluZzogL14gezAsM30oI3sxLDZ9KSArKFteXFxuXSo/KSg/OiArIyspPyAqKD86XFxuK3wkKS8sXG4gICAgYmxvY2txdW90ZTogL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLyxcbiAgICBsaXN0OiAvXiggezAsM30pKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuICAgIGh0bWw6ICdeIHswLDN9KD86JyAvLyBvcHRpb25hbCBpbmRlbnRhdGlvblxuICAgICsgJzwoc2NyaXB0fHByZXxzdHlsZSlbXFxcXHM+XVtcXFxcc1xcXFxTXSo/KD86PC9cXFxcMT5bXlxcXFxuXSpcXFxcbit8JCknIC8vICgxKVxuICAgICsgJ3xjb21tZW50W15cXFxcbl0qKFxcXFxuK3wkKScgLy8gKDIpXG4gICAgKyAnfDxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+XFxcXG4qJyAvLyAoMylcbiAgICArICd8PCFbQS1aXVtcXFxcc1xcXFxTXSo/PlxcXFxuKicgLy8gKDQpXG4gICAgKyAnfDwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPlxcXFxuKicgLy8gKDUpXG4gICAgKyAnfDwvPyh0YWcpKD86ICt8XFxcXG58Lz8+KVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNilcbiAgICArICd8PCg/IXNjcmlwdHxwcmV8c3R5bGUpKFthLXpdW1xcXFx3LV0qKSg/OmF0dHJpYnV0ZSkqPyAqLz8+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg3KSBvcGVuIHRhZ1xuICAgICsgJ3w8Lyg/IXNjcmlwdHxwcmV8c3R5bGUpW2Etel1bXFxcXHctXSpcXFxccyo+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg3KSBjbG9zaW5nIHRhZ1xuICAgICsgJyknLFxuICAgIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqXFxuPyAqPD8oW15cXHM+XSspPj8oPzooPzogK1xcbj8gKnwgKlxcbiAqKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8sXG4gICAgbnB0YWJsZTogbm9vcFRlc3QkMSxcbiAgICB0YWJsZTogbm9vcFRlc3QkMSxcbiAgICBsaGVhZGluZzogL14oW15cXG5dKylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgICAvLyByZWdleCB0ZW1wbGF0ZSwgcGxhY2Vob2xkZXJzIHdpbGwgYmUgcmVwbGFjZWQgYWNjb3JkaW5nIHRvIGRpZmZlcmVudCBwYXJhZ3JhcGhcbiAgICAvLyBpbnRlcnJ1cHRpb24gcnVsZXMgb2YgY29tbW9ubWFyayBhbmQgdGhlIG9yaWdpbmFsIG1hcmtkb3duIHNwZWM6XG4gICAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sKVteXFxuXSspKikvLFxuICAgIHRleHQ6IC9eW15cXG5dKy9cbiAgfTtcbiAgYmxvY2suX2xhYmVsID0gLyg/IVxccypcXF0pKD86XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkrLztcbiAgYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbiAgYmxvY2suZGVmID0gZWRpdCQxKGJsb2NrLmRlZikucmVwbGFjZSgnbGFiZWwnLCBibG9jay5fbGFiZWwpLnJlcGxhY2UoJ3RpdGxlJywgYmxvY2suX3RpdGxlKS5nZXRSZWdleCgpO1xuICBibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkezEsOX1cXC4pLztcbiAgYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSA/W15cXG5dKig/Olxcbig/IVxcMWJ1bGwgPylbXlxcbl0qKSovO1xuICBibG9jay5pdGVtID0gZWRpdCQxKGJsb2NrLml0ZW0sICdnbScpLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KS5nZXRSZWdleCgpO1xuICBibG9jay5saXN0ID0gZWRpdCQxKGJsb2NrLmxpc3QpLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KS5yZXBsYWNlKCdocicsICdcXFxcbisoPz1cXFxcMT8oPzooPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpKScpLnJlcGxhY2UoJ2RlZicsICdcXFxcbisoPz0nICsgYmxvY2suZGVmLnNvdXJjZSArICcpJykuZ2V0UmVnZXgoKTtcbiAgYmxvY2suX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbicgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJyArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZScgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInICsgJ3x0cmFja3x1bCc7XG4gIGJsb2NrLl9jb21tZW50ID0gLzwhLS0oPyEtPz4pW1xcc1xcU10qPy0tPi87XG4gIGJsb2NrLmh0bWwgPSBlZGl0JDEoYmxvY2suaHRtbCwgJ2knKS5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pLmdldFJlZ2V4KCk7XG4gIGJsb2NrLnBhcmFncmFwaCA9IGVkaXQkMShibG9jay5fcGFyYWdyYXBoKS5yZXBsYWNlKCdocicsIGJsb2NrLmhyKS5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKS5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXggaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JykucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8IS0tKScpLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuICBibG9jay5ibG9ja3F1b3RlID0gZWRpdCQxKGJsb2NrLmJsb2NrcXVvdGUpLnJlcGxhY2UoJ3BhcmFncmFwaCcsIGJsb2NrLnBhcmFncmFwaCkuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG4gICAqL1xuXG4gIGJsb2NrLm5vcm1hbCA9IG1lcmdlJDEoe30sIGJsb2NrKTtcbiAgLyoqXG4gICAqIEdGTSBCbG9jayBHcmFtbWFyXG4gICAqL1xuXG4gIGJsb2NrLmdmbSA9IG1lcmdlJDEoe30sIGJsb2NrLm5vcm1hbCwge1xuICAgIG5wdGFibGU6ICdeICooW158XFxcXG4gXS4qXFxcXHwuKilcXFxcbicgLy8gSGVhZGVyXG4gICAgKyAnICooWy06XSsgKlxcXFx8Wy18IDpdKiknIC8vIEFsaWduXG4gICAgKyAnKD86XFxcXG4oKD86KD8hXFxcXG58aHJ8aGVhZGluZ3xibG9ja3F1b3RlfGNvZGV8ZmVuY2VzfGxpc3R8aHRtbCkuKig/OlxcXFxufCQpKSopXFxcXG4qfCQpJyxcbiAgICAvLyBDZWxsc1xuICAgIHRhYmxlOiAnXiAqXFxcXHwoLispXFxcXG4nIC8vIEhlYWRlclxuICAgICsgJyAqXFxcXHw/KCAqWy06XStbLXwgOl0qKScgLy8gQWxpZ25cbiAgICArICcoPzpcXFxcbiAqKCg/Oig/IVxcXFxufGhyfGhlYWRpbmd8YmxvY2txdW90ZXxjb2RlfGZlbmNlc3xsaXN0fGh0bWwpLiooPzpcXFxcbnwkKSkqKVxcXFxuKnwkKScgLy8gQ2VsbHNcblxuICB9KTtcbiAgYmxvY2suZ2ZtLm5wdGFibGUgPSBlZGl0JDEoYmxvY2suZ2ZtLm5wdGFibGUpLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpLnJlcGxhY2UoJ2NvZGUnLCAnIHs0fVteXFxcXG5dJykucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8IS0tKScpLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHRhYmxlcyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG4gIGJsb2NrLmdmbS50YWJsZSA9IGVkaXQkMShibG9jay5nZm0udGFibGUpLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpLnJlcGxhY2UoJ2hlYWRpbmcnLCAnIHswLDN9I3sxLDZ9ICcpLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpLnJlcGxhY2UoJ2NvZGUnLCAnIHs0fVteXFxcXG5dJykucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcbicpLnJlcGxhY2UoJ2xpc3QnLCAnIHswLDN9KD86WyorLV18MVsuKV0pICcpIC8vIG9ubHkgbGlzdHMgc3RhcnRpbmcgZnJvbSAxIGNhbiBpbnRlcnJ1cHRcbiAgLnJlcGxhY2UoJ2h0bWwnLCAnPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8IS0tKScpLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHRhYmxlcyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG4gIC8qKlxuICAgKiBQZWRhbnRpYyBncmFtbWFyIChvcmlnaW5hbCBKb2huIEdydWJlcidzIGxvb3NlIG1hcmtkb3duIHNwZWNpZmljYXRpb24pXG4gICAqL1xuXG4gIGJsb2NrLnBlZGFudGljID0gbWVyZ2UkMSh7fSwgYmxvY2subm9ybWFsLCB7XG4gICAgaHRtbDogZWRpdCQxKCdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKScgKyAnfDwodGFnKVtcXFxcc1xcXFxTXSs/PC9cXFxcMT4gKig/OlxcXFxuezIsfXxcXFxccyokKScgLy8gY2xvc2VkIHRhZ1xuICAgICsgJ3w8dGFnKD86XCJbXlwiXSpcInxcXCdbXlxcJ10qXFwnfFxcXFxzW15cXCdcIi8+XFxcXHNdKikqPy8/PiAqKD86XFxcXG57Mix9fFxcXFxzKiQpKScpLnJlcGxhY2UoJ2NvbW1lbnQnLCBibG9jay5fY29tbWVudCkucmVwbGFjZSgvdGFnL2csICcoPyEoPzonICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJyArICdcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGInKS5nZXRSZWdleCgpLFxuICAgIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICsoW1wiKF1bXlxcbl0rW1wiKV0pKT8gKig/Olxcbit8JCkvLFxuICAgIGhlYWRpbmc6IC9eICooI3sxLDZ9KSAqKFteXFxuXSs/KSAqKD86IysgKik/KD86XFxuK3wkKS8sXG4gICAgZmVuY2VzOiBub29wVGVzdCQxLFxuICAgIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gICAgcGFyYWdyYXBoOiBlZGl0JDEoYmxvY2subm9ybWFsLl9wYXJhZ3JhcGgpLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpLnJlcGxhY2UoJ2hlYWRpbmcnLCAnICojezEsNn0gKlteXFxuXScpLnJlcGxhY2UoJ2xoZWFkaW5nJywgYmxvY2subGhlYWRpbmcpLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpLnJlcGxhY2UoJ3xmZW5jZXMnLCAnJykucmVwbGFjZSgnfGxpc3QnLCAnJykucmVwbGFjZSgnfGh0bWwnLCAnJykuZ2V0UmVnZXgoKVxuICB9KTtcbiAgLyoqXG4gICAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gICAqL1xuXG4gIHZhciBpbmxpbmUgPSB7XG4gICAgZXNjYXBlOiAvXlxcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pLyxcbiAgICBhdXRvbGluazogL148KHNjaGVtZTpbXlxcc1xceDAwLVxceDFmPD5dKnxlbWFpbCk+LyxcbiAgICB1cmw6IG5vb3BUZXN0JDEsXG4gICAgdGFnOiAnXmNvbW1lbnQnICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLFxuICAgIC8vIENEQVRBIHNlY3Rpb25cbiAgICBsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcKFxccyooaHJlZikoPzpcXHMrKHRpdGxlKSk/XFxzKlxcKS8sXG4gICAgcmVmbGluazogL14hP1xcWyhsYWJlbClcXF1cXFsoPyFcXHMqXFxdKSgoPzpcXFxcW1xcW1xcXV0/fFteXFxbXFxdXFxcXF0pKylcXF0vLFxuICAgIG5vbGluazogL14hP1xcWyg/IVxccypcXF0pKCg/OlxcW1teXFxbXFxdXSpcXF18XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkqKVxcXSg/OlxcW1xcXSk/LyxcbiAgICBzdHJvbmc6IC9eX18oW15cXHNfXSlfXyg/IV8pfF5cXCpcXCooW15cXHMqXSlcXCpcXCooPyFcXCopfF5fXyhbXlxcc11bXFxzXFxTXSo/W15cXHNdKV9fKD8hXyl8XlxcKlxcKihbXlxcc11bXFxzXFxTXSo/W15cXHNdKVxcKlxcKig/IVxcKikvLFxuICAgIGVtOiAvXl8oW15cXHNfXSlfKD8hXyl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNfXSlfKD8hX3xbXlxccyxwdW5jdHVhdGlvbl0pfF5fKFteXFxzXzxdW1xcc1xcU10qP1teXFxzXSlfKD8hX3xbXlxccyxwdW5jdHVhdGlvbl0pfF5cXCooW15cXHMqPFxcW10pXFwqKD8hXFwqKXxeXFwqKFteXFxzPFwiXVtcXHNcXFNdKj9bXlxcc1xcW1xcKl0pXFwqKD8hW1xcXWBwdW5jdHVhdGlvbl0pfF5cXCooW15cXHMqXCI8XFxbXVtcXHNcXFNdKlteXFxzXSlcXCooPyFcXCopLyxcbiAgICBjb2RlOiAvXihgKykoW15gXXxbXmBdW1xcc1xcU10qP1teYF0pXFwxKD8hYCkvLFxuICAgIGJyOiAvXiggezIsfXxcXFxcKVxcbig/IVxccyokKS8sXG4gICAgZGVsOiBub29wVGVzdCQxLFxuICAgIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl18XFxiX3wkKXxbXiBdKD89IHsyLH1cXG4pKXwoPz0gezIsfVxcbikpL1xuICB9OyAvLyBsaXN0IG9mIHB1bmN0dWF0aW9uIG1hcmtzIGZyb20gY29tbW9uIG1hcmsgc3BlY1xuICAvLyB3aXRob3V0IGAgYW5kIF0gdG8gd29ya2Fyb3VuZCBSdWxlIDE3IChpbmxpbmUgY29kZSBibG9ja3MvbGlua3MpXG4gIC8vIHdpdGhvdXQgLCB0byB3b3JrIGFyb3VuZCBleGFtcGxlIDM5M1xuXG4gIGlubGluZS5fcHVuY3R1YXRpb24gPSAnIVwiIyQlJlxcJygpKitcXFxcLS4vOjs8PT4/QFxcXFxbXl97fH1+JztcbiAgaW5saW5lLmVtID0gZWRpdCQxKGlubGluZS5lbSkucmVwbGFjZSgvcHVuY3R1YXRpb24vZywgaW5saW5lLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLl9lc2NhcGVzID0gL1xcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pL2c7XG4gIGlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuICBpbmxpbmUuX2VtYWlsID0gL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rKEApW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS87XG4gIGlubGluZS5hdXRvbGluayA9IGVkaXQkMShpbmxpbmUuYXV0b2xpbmspLnJlcGxhY2UoJ3NjaGVtZScsIGlubGluZS5fc2NoZW1lKS5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5fZW1haWwpLmdldFJlZ2V4KCk7XG4gIGlubGluZS5fYXR0cmlidXRlID0gL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vO1xuICBpbmxpbmUudGFnID0gZWRpdCQxKGlubGluZS50YWcpLnJlcGxhY2UoJ2NvbW1lbnQnLCBibG9jay5fY29tbWVudCkucmVwbGFjZSgnYXR0cmlidXRlJywgaW5saW5lLl9hdHRyaWJ1dGUpLmdldFJlZ2V4KCk7XG4gIGlubGluZS5fbGFiZWwgPSAvKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbiAgaW5saW5lLl9ocmVmID0gLzwoPzpcXFxcWzw+XT98W15cXHM8PlxcXFxdKSo+fFteXFxzXFx4MDAtXFx4MWZdKi87XG4gIGlubGluZS5fdGl0bGUgPSAvXCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8Jyg/OlxcXFwnP3xbXidcXFxcXSkqJ3xcXCgoPzpcXFxcXFwpP3xbXilcXFxcXSkqXFwpLztcbiAgaW5saW5lLmxpbmsgPSBlZGl0JDEoaW5saW5lLmxpbmspLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbCkucmVwbGFjZSgnaHJlZicsIGlubGluZS5faHJlZikucmVwbGFjZSgndGl0bGUnLCBpbmxpbmUuX3RpdGxlKS5nZXRSZWdleCgpO1xuICBpbmxpbmUucmVmbGluayA9IGVkaXQkMShpbmxpbmUucmVmbGluaykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5nZXRSZWdleCgpO1xuICAvKipcbiAgICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gICAqL1xuXG4gIGlubGluZS5ub3JtYWwgPSBtZXJnZSQxKHt9LCBpbmxpbmUpO1xuICAvKipcbiAgICogUGVkYW50aWMgSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLnBlZGFudGljID0gbWVyZ2UkMSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICAgIHN0cm9uZzogL15fXyg/PVxcUykoW1xcc1xcU10qP1xcUylfXyg/IV8pfF5cXCpcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqXFwqKD8hXFwqKS8sXG4gICAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopLyxcbiAgICBsaW5rOiBlZGl0JDEoL14hP1xcWyhsYWJlbClcXF1cXCgoLio/KVxcKS8pLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbCkuZ2V0UmVnZXgoKSxcbiAgICByZWZsaW5rOiBlZGl0JDEoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLykucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKS5nZXRSZWdleCgpXG4gIH0pO1xuICAvKipcbiAgICogR0ZNIElubGluZSBHcmFtbWFyXG4gICAqL1xuXG4gIGlubGluZS5nZm0gPSBtZXJnZSQxKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gICAgZXNjYXBlOiBlZGl0JDEoaW5saW5lLmVzY2FwZSkucmVwbGFjZSgnXSknLCAnfnxdKScpLmdldFJlZ2V4KCksXG4gICAgX2V4dGVuZGVkX2VtYWlsOiAvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvLFxuICAgIHVybDogL14oKD86ZnRwfGh0dHBzPyk6XFwvXFwvfHd3d1xcLikoPzpbYS16QS1aMC05XFwtXStcXC4/KStbXlxcczxdKnxeZW1haWwvLFxuICAgIF9iYWNrcGVkYWw6IC8oPzpbXj8hLiw6OypffigpJl0rfFxcKFteKV0qXFwpfCYoPyFbYS16QS1aMC05XSs7JCl8Wz8hLiw6OypffildKyg/ISQpKSsvLFxuICAgIGRlbDogL15+Kyg/PVxcUykoW1xcc1xcU10qP1xcUyl+Ky8sXG4gICAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl18XFxiX3xodHRwcz86XFwvXFwvfGZ0cDpcXC9cXC98d3d3XFwufCQpfFteIF0oPz0gezIsfVxcbil8W15hLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKXwoPz0gezIsfVxcbnxbYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKS9cbiAgfSk7XG4gIGlubGluZS5nZm0udXJsID0gZWRpdCQxKGlubGluZS5nZm0udXJsLCAnaScpLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLmdmbS5fZXh0ZW5kZWRfZW1haWwpLmdldFJlZ2V4KCk7XG4gIC8qKlxuICAgKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICAgKi9cblxuICBpbmxpbmUuYnJlYWtzID0gbWVyZ2UkMSh7fSwgaW5saW5lLmdmbSwge1xuICAgIGJyOiBlZGl0JDEoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICAgIHRleHQ6IGVkaXQkMShpbmxpbmUuZ2ZtLnRleHQpLnJlcGxhY2UoJ1xcXFxiXycsICdcXFxcYl98IHsyLH1cXFxcbicpLnJlcGxhY2UoL1xcezIsXFx9L2csICcqJykuZ2V0UmVnZXgoKVxuICB9KTtcbiAgdmFyIHJ1bGVzID0ge1xuICAgIGJsb2NrOiBibG9jayxcbiAgICBpbmxpbmU6IGlubGluZVxuICB9O1xuXG4gIHZhciBkZWZhdWx0cyQyID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIHZhciBibG9jayQxID0gcnVsZXMuYmxvY2ssXG4gICAgICBpbmxpbmUkMSA9IHJ1bGVzLmlubGluZTtcbiAgLyoqXG4gICAqIHNtYXJ0eXBhbnRzIHRleHQgcmVwbGFjZW1lbnRcbiAgICovXG5cbiAgZnVuY3Rpb24gc21hcnR5cGFudHModGV4dCkge1xuICAgIHJldHVybiB0ZXh0IC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgXCJcXHUyMDE0XCIpIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCBcIlxcdTIwMTNcIikgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csIFwiJDFcXHUyMDE4XCIpIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgXCJcXHUyMDE5XCIpIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCBcIiQxXFx1MjAxQ1wiKSAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgXCJcXHUyMDFEXCIpIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCBcIlxcdTIwMjZcIik7XG4gIH1cbiAgLyoqXG4gICAqIG1hbmdsZSBlbWFpbCBhZGRyZXNzZXNcbiAgICovXG5cblxuICBmdW5jdGlvbiBtYW5nbGUodGV4dCkge1xuICAgIHZhciBvdXQgPSAnJyxcbiAgICAgICAgaSxcbiAgICAgICAgY2g7XG4gICAgdmFyIGwgPSB0ZXh0Lmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNoID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICBjaCA9ICd4JyArIGNoLnRvU3RyaW5nKDE2KTtcbiAgICAgIH1cblxuICAgICAgb3V0ICs9ICcmIycgKyBjaCArICc7JztcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBMZXhlclxuICAgKi9cblxuXG4gIHZhciBMZXhlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlcihvcHRpb25zKSB7XG4gICAgICB0aGlzLnRva2VucyA9IFtdO1xuICAgICAgdGhpcy50b2tlbnMubGlua3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQyO1xuICAgICAgdGhpcy5vcHRpb25zLnRva2VuaXplciA9IHRoaXMub3B0aW9ucy50b2tlbml6ZXIgfHwgbmV3IFRva2VuaXplcl8xKCk7XG4gICAgICB0aGlzLnRva2VuaXplciA9IHRoaXMub3B0aW9ucy50b2tlbml6ZXI7XG4gICAgICB0aGlzLnRva2VuaXplci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHJ1bGVzID0ge1xuICAgICAgICBibG9jazogYmxvY2skMS5ub3JtYWwsXG4gICAgICAgIGlubGluZTogaW5saW5lJDEubm9ybWFsXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2skMS5wZWRhbnRpYztcbiAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lJDEucGVkYW50aWM7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICAgICAgcnVsZXMuYmxvY2sgPSBibG9jayQxLmdmbTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuICAgICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZSQxLmJyZWFrcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUkMS5nZm07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbml6ZXIucnVsZXMgPSBydWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhwb3NlIFJ1bGVzXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBMZXggTWV0aG9kXG4gICAgICovXG4gICAgTGV4ZXIubGV4ID0gZnVuY3Rpb24gbGV4KHNyYywgb3B0aW9ucykge1xuICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVwcm9jZXNzaW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgdmFyIF9wcm90byA9IExleGVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5sZXggPSBmdW5jdGlvbiBsZXgoc3JjKSB7XG4gICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJykucmVwbGFjZSgvXFx0L2csICcgICAgJyk7XG4gICAgICB0aGlzLmJsb2NrVG9rZW5zKHNyYywgdGhpcy50b2tlbnMsIHRydWUpO1xuICAgICAgdGhpcy5pbmxpbmUodGhpcy50b2tlbnMpO1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMZXhpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uYmxvY2tUb2tlbnMgPSBmdW5jdGlvbiBibG9ja1Rva2VucyhzcmMsIHRva2VucywgdG9wKSB7XG4gICAgICBpZiAodG9rZW5zID09PSB2b2lkIDApIHtcbiAgICAgICAgdG9rZW5zID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmICh0b3AgPT09IHZvaWQgMCkge1xuICAgICAgICB0b3AgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICAgICAgdmFyIHRva2VuLCBpLCBsLCBsYXN0VG9rZW47XG5cbiAgICAgIHdoaWxlIChzcmMpIHtcbiAgICAgICAgLy8gbmV3bGluZVxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5zcGFjZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gY29kZVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZShzcmMsIHRva2VucykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZmVuY2VzXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5mZW5jZXMoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGhlYWRpbmdcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhlYWRpbmcoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRhYmxlIG5vIGxlYWRpbmcgcGlwZSAoZ2ZtKVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubnB0YWJsZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gaHJcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmhyKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBibG9ja3F1b3RlXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5ibG9ja3F1b3RlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuYmxvY2tUb2tlbnModG9rZW4udGV4dCwgW10sIHRvcCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGxpc3RcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmxpc3Qoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgbCA9IHRva2VuLml0ZW1zLmxlbmd0aDtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuLml0ZW1zW2ldLnRva2VucyA9IHRoaXMuYmxvY2tUb2tlbnModG9rZW4uaXRlbXNbaV0udGV4dCwgW10sIGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gaHRtbFxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaHRtbChzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZGVmXG5cblxuICAgICAgICBpZiAodG9wICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlZihzcmMpKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAoIXRoaXMudG9rZW5zLmxpbmtzW3Rva2VuLnRhZ10pIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zLmxpbmtzW3Rva2VuLnRhZ10gPSB7XG4gICAgICAgICAgICAgIGhyZWY6IHRva2VuLmhyZWYsXG4gICAgICAgICAgICAgIHRpdGxlOiB0b2tlbi50aXRsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0YWJsZSAoZ2ZtKVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFibGUoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGxoZWFkaW5nXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saGVhZGluZyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuXG5cbiAgICAgICAgaWYgKHRvcCAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5wYXJhZ3JhcGgoc3JjKSkpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0ZXh0XG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci50ZXh0KHNyYywgdG9rZW5zKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGFzdFRva2VuLnJhdyArPSAnXFxuJyArIHRva2VuLnJhdztcbiAgICAgICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgdG9rZW4udGV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICB2YXIgZXJyTXNnID0gJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmlubGluZSA9IGZ1bmN0aW9uIGlubGluZSh0b2tlbnMpIHtcbiAgICAgIHZhciBpLCBqLCBrLCBsMiwgcm93LCB0b2tlbjtcbiAgICAgIHZhciBsID0gdG9rZW5zLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdwYXJhZ3JhcGgnOlxuICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgIGNhc2UgJ2hlYWRpbmcnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b2tlbi50b2tlbnMgPSBbXTtcbiAgICAgICAgICAgICAgdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgdG9rZW4udG9rZW5zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRva2VuLnRva2VucyA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXI6IFtdLFxuICAgICAgICAgICAgICAgIGNlbGxzOiBbXVxuICAgICAgICAgICAgICB9OyAvLyBoZWFkZXJcblxuICAgICAgICAgICAgICBsMiA9IHRva2VuLmhlYWRlci5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0b2tlbi50b2tlbnMuaGVhZGVyW2pdID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVUb2tlbnModG9rZW4uaGVhZGVyW2pdLCB0b2tlbi50b2tlbnMuaGVhZGVyW2pdKTtcbiAgICAgICAgICAgICAgfSAvLyBjZWxsc1xuXG5cbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICByb3cgPSB0b2tlbi5jZWxsc1tqXTtcbiAgICAgICAgICAgICAgICB0b2tlbi50b2tlbnMuY2VsbHNbal0gPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCByb3cubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgIHRva2VuLnRva2Vucy5jZWxsc1tqXVtrXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgdGhpcy5pbmxpbmVUb2tlbnMocm93W2tdLCB0b2tlbi50b2tlbnMuY2VsbHNbal1ba10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRoaXMuaW5saW5lKHRva2VuLnRva2Vucyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmxpbmUodG9rZW4uaXRlbXNbal0udG9rZW5zKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExleGluZy9Db21waWxpbmdcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8uaW5saW5lVG9rZW5zID0gZnVuY3Rpb24gaW5saW5lVG9rZW5zKHNyYywgdG9rZW5zLCBpbkxpbmssIGluUmF3QmxvY2spIHtcbiAgICAgIGlmICh0b2tlbnMgPT09IHZvaWQgMCkge1xuICAgICAgICB0b2tlbnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGluTGluayA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluTGluayA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5SYXdCbG9jayA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRva2VuO1xuXG4gICAgICB3aGlsZSAoc3JjKSB7XG4gICAgICAgIC8vIGVzY2FwZVxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5lc2NhcGUoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRhZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGFnKHNyYywgaW5MaW5rLCBpblJhd0Jsb2NrKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgaW5MaW5rID0gdG9rZW4uaW5MaW5rO1xuICAgICAgICAgIGluUmF3QmxvY2sgPSB0b2tlbi5pblJhd0Jsb2NrO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBsaW5rXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saW5rKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdsaW5rJykge1xuICAgICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIHRydWUsIGluUmF3QmxvY2spO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyByZWZsaW5rLCBub2xpbmtcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnJlZmxpbmsoc3JjLCB0aGlzLnRva2Vucy5saW5rcykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09ICdsaW5rJykge1xuICAgICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIHRydWUsIGluUmF3QmxvY2spO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBzdHJvbmdcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnN0cm9uZyhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgaW5MaW5rLCBpblJhd0Jsb2NrKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZW1cblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmVtKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCBpbkxpbmssIGluUmF3QmxvY2spO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBjb2RlXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5jb2Rlc3BhbihzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gYnJcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmJyKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBkZWwgKGdmbSlcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmRlbChzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgaW5MaW5rLCBpblJhd0Jsb2NrKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gYXV0b2xpbmtcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmF1dG9saW5rKHNyYywgbWFuZ2xlKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHVybCAoZ2ZtKVxuXG5cbiAgICAgICAgaWYgKCFpbkxpbmsgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudXJsKHNyYywgbWFuZ2xlKSkpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0ZXh0XG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5pbmxpbmVUZXh0KHNyYywgaW5SYXdCbG9jaywgc21hcnR5cGFudHMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgdmFyIGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMZXhlciwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJydWxlc1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYmxvY2s6IGJsb2NrJDEsXG4gICAgICAgICAgaW5saW5lOiBpbmxpbmUkMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMZXhlcjtcbiAgfSgpO1xuXG4gIHZhciBkZWZhdWx0cyQzID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIHZhciBjbGVhblVybCQxID0gaGVscGVycy5jbGVhblVybCxcbiAgICAgIGVzY2FwZSQxID0gaGVscGVycy5lc2NhcGU7XG4gIC8qKlxuICAgKiBSZW5kZXJlclxuICAgKi9cblxuICB2YXIgUmVuZGVyZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBSZW5kZXJlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uY29kZSA9IGZ1bmN0aW9uIGNvZGUoX2NvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgICAgIHZhciBsYW5nID0gKGluZm9zdHJpbmcgfHwgJycpLm1hdGNoKC9cXFMqLylbMF07XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KSB7XG4gICAgICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KF9jb2RlLCBsYW5nKTtcblxuICAgICAgICBpZiAob3V0ICE9IG51bGwgJiYgb3V0ICE9PSBfY29kZSkge1xuICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIF9jb2RlID0gb3V0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghbGFuZykge1xuICAgICAgICByZXR1cm4gJzxwcmU+PGNvZGU+JyArIChlc2NhcGVkID8gX2NvZGUgOiBlc2NhcGUkMShfY29kZSwgdHJ1ZSkpICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJzxwcmU+PGNvZGUgY2xhc3M9XCInICsgdGhpcy5vcHRpb25zLmxhbmdQcmVmaXggKyBlc2NhcGUkMShsYW5nLCB0cnVlKSArICdcIj4nICsgKGVzY2FwZWQgPyBfY29kZSA6IGVzY2FwZSQxKF9jb2RlLCB0cnVlKSkgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5ibG9ja3F1b3RlID0gZnVuY3Rpb24gYmxvY2txdW90ZShxdW90ZSkge1xuICAgICAgcmV0dXJuICc8YmxvY2txdW90ZT5cXG4nICsgcXVvdGUgKyAnPC9ibG9ja3F1b3RlPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5odG1sID0gZnVuY3Rpb24gaHRtbChfaHRtbCkge1xuICAgICAgcmV0dXJuIF9odG1sO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGVhZGluZyA9IGZ1bmN0aW9uIGhlYWRpbmcodGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWFkZXJJZHMpIHtcbiAgICAgICAgcmV0dXJuICc8aCcgKyBsZXZlbCArICcgaWQ9XCInICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeCArIHNsdWdnZXIuc2x1ZyhyYXcpICsgJ1wiPicgKyB0ZXh0ICsgJzwvaCcgKyBsZXZlbCArICc+XFxuJztcbiAgICAgIH0gLy8gaWdub3JlIElEc1xuXG5cbiAgICAgIHJldHVybiAnPGgnICsgbGV2ZWwgKyAnPicgKyB0ZXh0ICsgJzwvaCcgKyBsZXZlbCArICc+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhyID0gZnVuY3Rpb24gaHIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxoci8+XFxuJyA6ICc8aHI+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpc3QgPSBmdW5jdGlvbiBsaXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gICAgICB2YXIgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJyxcbiAgICAgICAgICBzdGFydGF0dCA9IG9yZGVyZWQgJiYgc3RhcnQgIT09IDEgPyAnIHN0YXJ0PVwiJyArIHN0YXJ0ICsgJ1wiJyA6ICcnO1xuICAgICAgcmV0dXJuICc8JyArIHR5cGUgKyBzdGFydGF0dCArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpc3RpdGVtID0gZnVuY3Rpb24gbGlzdGl0ZW0odGV4dCkge1xuICAgICAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY2hlY2tib3ggPSBmdW5jdGlvbiBjaGVja2JveChjaGVja2VkKSB7XG4gICAgICByZXR1cm4gJzxpbnB1dCAnICsgKGNoZWNrZWQgPyAnY2hlY2tlZD1cIlwiICcgOiAnJykgKyAnZGlzYWJsZWQ9XCJcIiB0eXBlPVwiY2hlY2tib3hcIicgKyAodGhpcy5vcHRpb25zLnhodG1sID8gJyAvJyA6ICcnKSArICc+ICc7XG4gICAgfTtcblxuICAgIF9wcm90by5wYXJhZ3JhcGggPSBmdW5jdGlvbiBwYXJhZ3JhcGgodGV4dCkge1xuICAgICAgcmV0dXJuICc8cD4nICsgdGV4dCArICc8L3A+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRhYmxlID0gZnVuY3Rpb24gdGFibGUoaGVhZGVyLCBib2R5KSB7XG4gICAgICBpZiAoYm9keSkgYm9keSA9ICc8dGJvZHk+JyArIGJvZHkgKyAnPC90Ym9keT4nO1xuICAgICAgcmV0dXJuICc8dGFibGU+XFxuJyArICc8dGhlYWQ+XFxuJyArIGhlYWRlciArICc8L3RoZWFkPlxcbicgKyBib2R5ICsgJzwvdGFibGU+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRhYmxlcm93ID0gZnVuY3Rpb24gdGFibGVyb3coY29udGVudCkge1xuICAgICAgcmV0dXJuICc8dHI+XFxuJyArIGNvbnRlbnQgKyAnPC90cj5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8udGFibGVjZWxsID0gZnVuY3Rpb24gdGFibGVjZWxsKGNvbnRlbnQsIGZsYWdzKSB7XG4gICAgICB2YXIgdHlwZSA9IGZsYWdzLmhlYWRlciA/ICd0aCcgOiAndGQnO1xuICAgICAgdmFyIHRhZyA9IGZsYWdzLmFsaWduID8gJzwnICsgdHlwZSArICcgYWxpZ249XCInICsgZmxhZ3MuYWxpZ24gKyAnXCI+JyA6ICc8JyArIHR5cGUgKyAnPic7XG4gICAgICByZXR1cm4gdGFnICsgY29udGVudCArICc8LycgKyB0eXBlICsgJz5cXG4nO1xuICAgIH0gLy8gc3BhbiBsZXZlbCByZW5kZXJlclxuICAgIDtcblxuICAgIF9wcm90by5zdHJvbmcgPSBmdW5jdGlvbiBzdHJvbmcodGV4dCkge1xuICAgICAgcmV0dXJuICc8c3Ryb25nPicgKyB0ZXh0ICsgJzwvc3Ryb25nPic7XG4gICAgfTtcblxuICAgIF9wcm90by5lbSA9IGZ1bmN0aW9uIGVtKHRleHQpIHtcbiAgICAgIHJldHVybiAnPGVtPicgKyB0ZXh0ICsgJzwvZW0+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvZGVzcGFuID0gZnVuY3Rpb24gY29kZXNwYW4odGV4dCkge1xuICAgICAgcmV0dXJuICc8Y29kZT4nICsgdGV4dCArICc8L2NvZGU+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJyID0gZnVuY3Rpb24gYnIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxici8+JyA6ICc8YnI+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlbCA9IGZ1bmN0aW9uIGRlbCh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+JztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpbmsgPSBmdW5jdGlvbiBsaW5rKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICBocmVmID0gY2xlYW5VcmwkMSh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcblxuICAgICAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXQgPSAnPGEgaHJlZj1cIicgKyBlc2NhcGUkMShocmVmKSArICdcIic7XG5cbiAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gICAgICB9XG5cbiAgICAgIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIGhyZWYgPSBjbGVhblVybCQxKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuXG4gICAgICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcblxuICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgICAgIH1cblxuICAgICAgb3V0ICs9IHRoaXMub3B0aW9ucy54aHRtbCA/ICcvPicgOiAnPic7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICBfcHJvdG8udGV4dCA9IGZ1bmN0aW9uIHRleHQoX3RleHQpIHtcbiAgICAgIHJldHVybiBfdGV4dDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlcmVyO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIFRleHRSZW5kZXJlclxuICAgKiByZXR1cm5zIG9ubHkgdGhlIHRleHR1YWwgcGFydCBvZiB0aGUgdG9rZW5cbiAgICovXG4gIHZhciBUZXh0UmVuZGVyZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dFJlbmRlcmVyKCkge31cblxuICAgIHZhciBfcHJvdG8gPSBUZXh0UmVuZGVyZXIucHJvdG90eXBlO1xuXG4gICAgLy8gbm8gbmVlZCBmb3IgYmxvY2sgbGV2ZWwgcmVuZGVyZXJzXG4gICAgX3Byb3RvLnN0cm9uZyA9IGZ1bmN0aW9uIHN0cm9uZyh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtID0gZnVuY3Rpb24gZW0odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5jb2Rlc3BhbiA9IGZ1bmN0aW9uIGNvZGVzcGFuKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGVsID0gZnVuY3Rpb24gZGVsKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uaHRtbCA9IGZ1bmN0aW9uIGh0bWwodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by50ZXh0ID0gZnVuY3Rpb24gdGV4dChfdGV4dCkge1xuICAgICAgcmV0dXJuIF90ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8ubGluayA9IGZ1bmN0aW9uIGxpbmsoaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgIHJldHVybiAnJyArIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gJycgKyB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uYnIgPSBmdW5jdGlvbiBicigpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHRSZW5kZXJlcjtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBTbHVnZ2VyIGdlbmVyYXRlcyBoZWFkZXIgaWRcbiAgICovXG4gIHZhciBTbHVnZ2VyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNsdWdnZXIoKSB7XG4gICAgICB0aGlzLnNlZW4gPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gdW5pcXVlIGlkXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBTbHVnZ2VyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zbHVnID0gZnVuY3Rpb24gc2x1Zyh2YWx1ZSkge1xuICAgICAgdmFyIHNsdWcgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSAvLyByZW1vdmUgaHRtbCB0YWdzXG4gICAgICAucmVwbGFjZSgvPFshXFwvYS16XS4qPz4vaWcsICcnKSAvLyByZW1vdmUgdW53YW50ZWQgY2hhcnNcbiAgICAgIC5yZXBsYWNlKC9bXFx1MjAwMC1cXHUyMDZGXFx1MkUwMC1cXHUyRTdGXFxcXCchXCIjJCUmKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XS9nLCAnJykucmVwbGFjZSgvXFxzL2csICctJyk7XG5cbiAgICAgIGlmICh0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkoc2x1ZykpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsU2x1ZyA9IHNsdWc7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHRoaXMuc2VlbltvcmlnaW5hbFNsdWddKys7XG4gICAgICAgICAgc2x1ZyA9IG9yaWdpbmFsU2x1ZyArICctJyArIHRoaXMuc2VlbltvcmlnaW5hbFNsdWddO1xuICAgICAgICB9IHdoaWxlICh0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkoc2x1ZykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNlZW5bc2x1Z10gPSAwO1xuICAgICAgcmV0dXJuIHNsdWc7XG4gICAgfTtcblxuICAgIHJldHVybiBTbHVnZ2VyO1xuICB9KCk7XG5cbiAgdmFyIGRlZmF1bHRzJDQgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgdmFyIHVuZXNjYXBlJDEgPSBoZWxwZXJzLnVuZXNjYXBlO1xuICAvKipcbiAgICogUGFyc2luZyAmIENvbXBpbGluZ1xuICAgKi9cblxuICB2YXIgUGFyc2VyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDQ7XG4gICAgICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyXzEoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG4gICAgICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICB0aGlzLnRleHRSZW5kZXJlciA9IG5ldyBUZXh0UmVuZGVyZXJfMSgpO1xuICAgICAgdGhpcy5zbHVnZ2VyID0gbmV3IFNsdWdnZXJfMSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgUGFyc2UgTWV0aG9kXG4gICAgICovXG5cblxuICAgIFBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKHRva2Vucywgb3B0aW9ucykge1xuICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIob3B0aW9ucyk7XG4gICAgICByZXR1cm4gcGFyc2VyLnBhcnNlKHRva2Vucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIExvb3BcbiAgICAgKi9cbiAgICA7XG5cbiAgICB2YXIgX3Byb3RvID0gUGFyc2VyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKHRva2VucywgdG9wKSB7XG4gICAgICBpZiAodG9wID09PSB2b2lkIDApIHtcbiAgICAgICAgdG9wID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dCA9ICcnLFxuICAgICAgICAgIGksXG4gICAgICAgICAgaixcbiAgICAgICAgICBrLFxuICAgICAgICAgIGwyLFxuICAgICAgICAgIGwzLFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICAgIGhlYWRlcixcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIHRva2VuLFxuICAgICAgICAgIG9yZGVyZWQsXG4gICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgbG9vc2UsXG4gICAgICAgICAgaXRlbUJvZHksXG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgIHRhc2ssXG4gICAgICAgICAgY2hlY2tib3g7XG4gICAgICB2YXIgbCA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnc3BhY2UnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2hyJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaHIoKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdoZWFkaW5nJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuaGVhZGluZyh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucyksIHRva2VuLmRlcHRoLCB1bmVzY2FwZSQxKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCB0aGlzLnRleHRSZW5kZXJlcikpLCB0aGlzLnNsdWdnZXIpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2NvZGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2RlKHRva2VuLnRleHQsIHRva2VuLmxhbmcsIHRva2VuLmVzY2FwZWQpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaGVhZGVyID0gJyc7IC8vIGhlYWRlclxuXG4gICAgICAgICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5oZWFkZXIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2Vucy5oZWFkZXJbal0pLCB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICBhbGlnbjogdG9rZW4uYWxpZ25bal1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuICAgICAgICAgICAgICBib2R5ID0gJyc7XG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gdG9rZW4udG9rZW5zLmNlbGxzW2pdO1xuICAgICAgICAgICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgICAgICAgICBsMyA9IHJvdy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbDM7IGsrKykge1xuICAgICAgICAgICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCh0aGlzLnBhcnNlSW5saW5lKHJvd1trXSksIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYWxpZ246IHRva2VuLmFsaWduW2tdXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2Jsb2NrcXVvdGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBib2R5ID0gdGhpcy5wYXJzZSh0b2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvcmRlcmVkID0gdG9rZW4ub3JkZXJlZDtcbiAgICAgICAgICAgICAgc3RhcnQgPSB0b2tlbi5zdGFydDtcbiAgICAgICAgICAgICAgbG9vc2UgPSB0b2tlbi5sb29zZTtcbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgIGJvZHkgPSAnJztcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSB0b2tlbi5pdGVtc1tqXTtcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gaXRlbS5jaGVja2VkO1xuICAgICAgICAgICAgICAgIHRhc2sgPSBpdGVtLnRhc2s7XG4gICAgICAgICAgICAgICAgaXRlbUJvZHkgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnRhc2spIHtcbiAgICAgICAgICAgICAgICAgIGNoZWNrYm94ID0gdGhpcy5yZW5kZXJlci5jaGVja2JveChjaGVja2VkKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRva2Vucy5sZW5ndGggPiAwICYmIGl0ZW0udG9rZW5zWzBdLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zWzBdLnRleHQgPSBjaGVja2JveCArICcgJyArIGl0ZW0udG9rZW5zWzBdLnRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50b2tlbnNbMF0udG9rZW5zICYmIGl0ZW0udG9rZW5zWzBdLnRva2Vucy5sZW5ndGggPiAwICYmIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zWzBdLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgaXRlbS50b2tlbnMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtQm9keSArPSBjaGVja2JveDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpdGVtQm9keSArPSB0aGlzLnBhcnNlKGl0ZW0udG9rZW5zLCBsb29zZSk7XG4gICAgICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGl0ZW1Cb2R5LCB0YXNrLCBjaGVja2VkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyBUT0RPIHBhcnNlIGlubGluZSBjb250ZW50IGlmIHBhcmFtZXRlciBtYXJrZG93bj0xXG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmh0bWwodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAncGFyYWdyYXBoJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJvZHkgPSB0b2tlbi50b2tlbnMgPyB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykgOiB0b2tlbi50ZXh0O1xuXG4gICAgICAgICAgICAgIHdoaWxlIChpICsgMSA8IGwgJiYgdG9rZW5zW2kgKyAxXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1srK2ldO1xuICAgICAgICAgICAgICAgIGJvZHkgKz0gJ1xcbicgKyAodG9rZW4udG9rZW5zID8gdGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpIDogdG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvdXQgKz0gdG9wID8gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgoYm9keSkgOiBib2R5O1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuXG4gICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIElubGluZSBUb2tlbnNcbiAgICAgKi9cbiAgICA7XG5cbiAgICBfcHJvdG8ucGFyc2VJbmxpbmUgPSBmdW5jdGlvbiBwYXJzZUlubGluZSh0b2tlbnMsIHJlbmRlcmVyKSB7XG4gICAgICByZW5kZXJlciA9IHJlbmRlcmVyIHx8IHRoaXMucmVuZGVyZXI7XG4gICAgICB2YXIgb3V0ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICB0b2tlbjtcbiAgICAgIHZhciBsID0gdG9rZW5zLmxlbmd0aDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdlc2NhcGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIudGV4dCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLmh0bWwodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnbGluayc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5saW5rKHRva2VuLmhyZWYsIHRva2VuLnRpdGxlLCB0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5pbWFnZSh0b2tlbi5ocmVmLCB0b2tlbi50aXRsZSwgdG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnc3Ryb25nJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnN0cm9uZyh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdlbSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5lbSh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgcmVuZGVyZXIpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdjb2Rlc3Bhbic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5jb2Rlc3Bhbih0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdicic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5icigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2RlbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5kZWwodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci50ZXh0KHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuXG4gICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJzZXI7XG4gIH0oKTtcblxuICB2YXIgbWVyZ2UkMiA9IGhlbHBlcnMubWVyZ2UsXG4gICAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24kMSA9IGhlbHBlcnMuY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uLFxuICAgICAgZXNjYXBlJDIgPSBoZWxwZXJzLmVzY2FwZTtcbiAgdmFyIGdldERlZmF1bHRzID0gZGVmYXVsdHMuZ2V0RGVmYXVsdHMsXG4gICAgICBjaGFuZ2VEZWZhdWx0cyA9IGRlZmF1bHRzLmNoYW5nZURlZmF1bHRzLFxuICAgICAgZGVmYXVsdHMkNSA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICAvKipcbiAgICogTWFya2VkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gJ3VuZGVmaW5lZCcgfHwgc3JjID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICcgKyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3JjKSArICcsIHN0cmluZyBleHBlY3RlZCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdDtcbiAgICAgIG9wdCA9IG51bGw7XG4gICAgfVxuXG4gICAgb3B0ID0gbWVyZ2UkMih7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbiQxKG9wdCk7XG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBoaWdobGlnaHQgPSBvcHQuaGlnaGxpZ2h0O1xuICAgICAgdmFyIHRva2VucztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdG9rZW5zID0gTGV4ZXJfMS5sZXgoc3JjLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShlcnIpIHtcbiAgICAgICAgdmFyIG91dDtcblxuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXQgPSBQYXJzZXJfMS5wYXJzZSh0b2tlbnMsIG9wdCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyID0gZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuICAgICAgICByZXR1cm4gZXJyID8gY2FsbGJhY2soZXJyKSA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoIWhpZ2hsaWdodCB8fCBoaWdobGlnaHQubGVuZ3RoIDwgMykge1xuICAgICAgICByZXR1cm4gZG9uZSgpO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgb3B0LmhpZ2hsaWdodDtcbiAgICAgIGlmICghdG9rZW5zLmxlbmd0aCkgcmV0dXJuIGRvbmUoKTtcbiAgICAgIHZhciBwZW5kaW5nID0gMDtcbiAgICAgIG1hcmtlZC53YWxrVG9rZW5zKHRva2VucywgZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnY29kZScpIHtcbiAgICAgICAgICBwZW5kaW5nKys7XG4gICAgICAgICAgaGlnaGxpZ2h0KHRva2VuLnRleHQsIHRva2VuLmxhbmcsIGZ1bmN0aW9uIChlcnIsIGNvZGUpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvZGUgIT0gbnVsbCAmJiBjb2RlICE9PSB0b2tlbi50ZXh0KSB7XG4gICAgICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgICAgICB0b2tlbi5lc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVuZGluZy0tO1xuXG4gICAgICAgICAgICBpZiAocGVuZGluZyA9PT0gMCkge1xuICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGVuZGluZyA9PT0gMCkge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIF90b2tlbnMgPSBMZXhlcl8xLmxleChzcmMsIG9wdCk7XG5cbiAgICAgIGlmIChvcHQud2Fsa1Rva2Vucykge1xuICAgICAgICBtYXJrZWQud2Fsa1Rva2VucyhfdG9rZW5zLCBvcHQud2Fsa1Rva2Vucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQYXJzZXJfMS5wYXJzZShfdG9rZW5zLCBvcHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcblxuICAgICAgaWYgKG9wdC5zaWxlbnQpIHtcbiAgICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nICsgZXNjYXBlJDIoZS5tZXNzYWdlICsgJycsIHRydWUpICsgJzwvcHJlPic7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPcHRpb25zXG4gICAqL1xuXG5cbiAgbWFya2VkLm9wdGlvbnMgPSBtYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHQpIHtcbiAgICBtZXJnZSQyKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgICBjaGFuZ2VEZWZhdWx0cyhtYXJrZWQuZGVmYXVsdHMpO1xuICAgIHJldHVybiBtYXJrZWQ7XG4gIH07XG5cbiAgbWFya2VkLmdldERlZmF1bHRzID0gZ2V0RGVmYXVsdHM7XG4gIG1hcmtlZC5kZWZhdWx0cyA9IGRlZmF1bHRzJDU7XG4gIC8qKlxuICAgKiBVc2UgRXh0ZW5zaW9uXG4gICAqL1xuXG4gIG1hcmtlZC51c2UgPSBmdW5jdGlvbiAoZXh0ZW5zaW9uKSB7XG4gICAgdmFyIG9wdHMgPSBtZXJnZSQyKHt9LCBleHRlbnNpb24pO1xuXG4gICAgaWYgKGV4dGVuc2lvbi5yZW5kZXJlcikge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gbWFya2VkLmRlZmF1bHRzLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcl8xKCk7XG5cbiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcCkge1xuICAgICAgICAgIHZhciBwcmV2UmVuZGVyZXIgPSByZW5kZXJlcltwcm9wXTtcblxuICAgICAgICAgIHJlbmRlcmVyW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXQgPSBleHRlbnNpb24ucmVuZGVyZXJbcHJvcF0uYXBwbHkocmVuZGVyZXIsIGFyZ3MpO1xuXG4gICAgICAgICAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXQgPSBwcmV2UmVuZGVyZXIuYXBwbHkocmVuZGVyZXIsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBleHRlbnNpb24ucmVuZGVyZXIpIHtcbiAgICAgICAgICBfbG9vcChwcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi50b2tlbml6ZXIpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b2tlbml6ZXIgPSBtYXJrZWQuZGVmYXVsdHMudG9rZW5pemVyIHx8IG5ldyBUb2tlbml6ZXJfMSgpO1xuXG4gICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIocHJvcCkge1xuICAgICAgICAgIHZhciBwcmV2VG9rZW5pemVyID0gdG9rZW5pemVyW3Byb3BdO1xuXG4gICAgICAgICAgdG9rZW5pemVyW3Byb3BdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJldCA9IGV4dGVuc2lvbi50b2tlbml6ZXJbcHJvcF0uYXBwbHkodG9rZW5pemVyLCBhcmdzKTtcblxuICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0ID0gcHJldlRva2VuaXplci5hcHBseSh0b2tlbml6ZXIsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBleHRlbnNpb24udG9rZW5pemVyKSB7XG4gICAgICAgICAgX2xvb3AyKHByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICB9KSgpO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24ud2Fsa1Rva2Vucykge1xuICAgICAgdmFyIHdhbGtUb2tlbnMgPSBtYXJrZWQuZGVmYXVsdHMud2Fsa1Rva2VucztcblxuICAgICAgb3B0cy53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGV4dGVuc2lvbi53YWxrVG9rZW5zKHRva2VuKTtcblxuICAgICAgICBpZiAod2Fsa1Rva2Vucykge1xuICAgICAgICAgIHdhbGtUb2tlbnModG9rZW4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIG1hcmtlZC5zZXRPcHRpb25zKG9wdHMpO1xuICB9O1xuICAvKipcbiAgICogUnVuIGNhbGxiYWNrIGZvciBldmVyeSB0b2tlblxuICAgKi9cblxuXG4gIG1hcmtlZC53YWxrVG9rZW5zID0gZnVuY3Rpb24gKHRva2VucywgY2FsbGJhY2spIHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHRva2VucyksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgdG9rZW4gPSBfc3RlcC52YWx1ZTtcbiAgICAgIGNhbGxiYWNrKHRva2VuKTtcblxuICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0b2tlbi50b2tlbnMuaGVhZGVyKSwgX3N0ZXAyOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIoKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgdmFyIGNlbGwgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICAgIG1hcmtlZC53YWxrVG9rZW5zKGNlbGwsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodG9rZW4udG9rZW5zLmNlbGxzKSwgX3N0ZXAzOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMoKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgdmFyIHJvdyA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShyb3cpLCBfc3RlcDQ7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNCgpKS5kb25lOykge1xuICAgICAgICAgICAgICAgIHZhciBfY2VsbCA9IF9zdGVwNC52YWx1ZTtcbiAgICAgICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2VucyhfY2VsbCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbi5pdGVtcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRva2VuLnRva2Vucykge1xuICAgICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbi50b2tlbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogRXhwb3NlXG4gICAqL1xuXG5cbiAgbWFya2VkLlBhcnNlciA9IFBhcnNlcl8xO1xuICBtYXJrZWQucGFyc2VyID0gUGFyc2VyXzEucGFyc2U7XG4gIG1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyXzE7XG4gIG1hcmtlZC5UZXh0UmVuZGVyZXIgPSBUZXh0UmVuZGVyZXJfMTtcbiAgbWFya2VkLkxleGVyID0gTGV4ZXJfMTtcbiAgbWFya2VkLmxleGVyID0gTGV4ZXJfMS5sZXg7XG4gIG1hcmtlZC5Ub2tlbml6ZXIgPSBUb2tlbml6ZXJfMTtcbiAgbWFya2VkLlNsdWdnZXIgPSBTbHVnZ2VyXzE7XG4gIG1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcbiAgdmFyIG1hcmtlZF8xID0gbWFya2VkO1xuXG4gIHJldHVybiBtYXJrZWRfMTtcblxufSkpKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBBR1JFRU1FTlRfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JShhZ3JlZW1lbnQpczwvYT4nXG5cbmNvbnN0IFJlZ2lzdGVyTGVnYWxGb290bm90ZSA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGVycm9ycyxcbiAgICBwcml2YWN5UG9saWN5LFxuICAgIHRlcm1zT2ZTZXJ2aWNlLFxuICAgIG9uUHJpdmFjeVBvbGljeUNoYW5nZSxcbiAgICBvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlXG4gIH0gPSBwcm9wc1xuXG4gIGNvbnN0IHRlcm1zT2ZTZXJ2aWNlSWQgPSBtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9JRFwiKVxuICBjb25zdCB0ZXJtc09mU2VydmljZVVybCA9IG1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX1VSTFwiKVxuXG4gIGNvbnN0IHByaXZhY3lQb2xpY3lJZCA9IG1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKVxuICBjb25zdCBwcml2YWN5UG9saWN5VXJsID0gbWlzYWdvLmdldChcIlBSSVZBQ1lfUE9MSUNZX1VSTFwiKVxuXG4gIGlmICghdGVybXNPZlNlcnZpY2VJZCAmJiAhcHJpdmFjeVBvbGljeUlkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxMZWdhbEFncmVlbWVudFxuICAgICAgICBhZ3JlZW1lbnQ9e2dldHRleHQoXCJ0aGUgdGVybXMgb2Ygc2VydmljZVwiKX1cbiAgICAgICAgY2hlY2tlZD17dGVybXNPZlNlcnZpY2UgIT09IG51bGx9XG4gICAgICAgIGVycm9ycz17ZXJyb3JzLnRlcm1zT2ZTZXJ2aWNlfVxuICAgICAgICB1cmw9e3Rlcm1zT2ZTZXJ2aWNlVXJsfVxuICAgICAgICB2YWx1ZT17dGVybXNPZlNlcnZpY2VJZH1cbiAgICAgICAgb25DaGFuZ2U9e29uVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPExlZ2FsQWdyZWVtZW50XG4gICAgICAgIGFncmVlbWVudD17Z2V0dGV4dChcInRoZSBwcml2YWN5IHBvbGljeVwiKX1cbiAgICAgICAgY2hlY2tlZD17cHJpdmFjeVBvbGljeSAhPT0gbnVsbH1cbiAgICAgICAgZXJyb3JzPXtlcnJvcnMucHJpdmFjeVBvbGljeX1cbiAgICAgICAgdXJsPXtwcml2YWN5UG9saWN5VXJsfVxuICAgICAgICB2YWx1ZT17cHJpdmFjeVBvbGljeUlkfVxuICAgICAgICBvbkNoYW5nZT17b25Qcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBMZWdhbEFncmVlbWVudCA9IHByb3BzID0+IHtcbiAgY29uc3QgeyBhZ3JlZW1lbnQsIGNoZWNrZWQsIGVycm9ycywgdXJsLCB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzXG5cbiAgaWYgKCF1cmwpIHJldHVybiBudWxsXG5cbiAgY29uc3QgYWdyZWVtZW50SHRtbCA9IGludGVycG9sYXRlKFxuICAgIEFHUkVFTUVOVF9VUkwsXG4gICAgeyBhZ3JlZW1lbnQ6IGVzY2FwZUh0bWwoYWdyZWVtZW50KSwgdXJsOiBlc2NhcGVIdG1sKHVybCkgfSxcbiAgICB0cnVlXG4gIClcbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiSSBoYXZlIHJlYWQgYW5kIGFjY2VwdCAlKGFncmVlbWVudClzLlwiKSxcbiAgICB7IGFncmVlbWVudDogYWdyZWVtZW50SHRtbCB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja2JveCBsZWdhbC1mb290bm90ZVwiPlxuICAgICAgPGxhYmVsPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBsYWJlbCB9fSAvPlxuICAgICAgPC9sYWJlbD5cbiAgICAgIHtlcnJvcnMgJiZcbiAgICAgICAgZXJyb3JzLm1hcCgoZXJyb3IsIGkpID0+IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCIga2V5PXtpfT5cbiAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVnaXN0ZXJMZWdhbEZvb3Rub3RlXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmNvbnN0IFN0YXJ0U29jaWFsQXV0aCA9IHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIGJ1dHRvbkNsYXNzTmFtZSxcbiAgICBidXR0b25MYWJlbCxcbiAgICBmb3JtTGFiZWwsXG4gICAgaGVhZGVyLFxuICAgIGxhYmVsQ2xhc3NOYW1lXG4gIH0gPSBwcm9wc1xuICBjb25zdCBzb2NpYWxBdXRoID0gbWlzYWdvLmdldChcIlNPQ0lBTF9BVVRIXCIpXG5cbiAgaWYgKHNvY2lhbEF1dGgubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tc29jaWFsLWF1dGhcIj5cbiAgICAgIDxGb3JtSGVhZGVyIGNsYXNzTmFtZT17bGFiZWxDbGFzc05hbWV9IHRleHQ9e2hlYWRlcn0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtzb2NpYWxBdXRoLm1hcCgoeyBpZCwgbmFtZSwgYnV0dG9uX3RleHQsIGJ1dHRvbl9jb2xvciwgdXJsIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBcImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHQgYnRuLXNvY2lhbC1cIiArIGlkXG4gICAgICAgICAgY29uc3Qgc3R5bGUgPSBidXR0b25fY29sb3IgPyB7Y29sb3I6IGJ1dHRvbl9jb2xvcn0gOiBudWxsXG4gICAgICAgICAgY29uc3QgZmluYWxCdXR0b25MYWJlbCA9IGJ1dHRvbl90ZXh0IHx8IGludGVycG9sYXRlKFxuICAgICAgICAgICAgYnV0dG9uTGFiZWwsXG4gICAgICAgICAgICB7IHNpdGU6IG5hbWUgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApXG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2J1dHRvbkNsYXNzTmFtZSB8fCBcImNvbC14cy0xMlwifSBrZXk9e2lkfT5cbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IHN0eWxlPXtzdHlsZX0gaHJlZj17dXJsfT5cbiAgICAgICAgICAgICAgICB7ZmluYWxCdXR0b25MYWJlbH1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGhyIC8+XG4gICAgICA8Rm9ybUhlYWRlciBjbGFzc05hbWU9e2xhYmVsQ2xhc3NOYW1lfSB0ZXh0PXtmb3JtTGFiZWx9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgRm9ybUhlYWRlciA9ICh7IGNsYXNzTmFtZSwgdGV4dCB9KSA9PiB7XG4gIGlmICghdGV4dCkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIDxoNSBjbGFzc05hbWU9e2NsYXNzTmFtZSB8fCBcIlwifT57dGV4dH08L2g1PlxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGFydFNvY2lhbEF1dGhcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjZXB0QWdyZWVtZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7IHN1Ym1pdGluZzogZmFsc2UgfVxuICB9XG5cbiAgaGFuZGxlRGVjbGluZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdWJtaXRpbmcpIHJldHVyblxuXG4gICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiRGVjbGluaW5nIHdpbGwgcmVzdWx0IGluIGltbWVkaWF0ZSBkZWFjdGl2YXRpb24gYW5kIGRlbGV0aW9uIG9mIHlvdXIgYWNjb3VudC4gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUuXCJcbiAgICAgIClcbiAgICApXG4gICAgaWYgKCFjb25maXJtYXRpb24pIHJldHVyblxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdGluZzogdHJ1ZSB9KVxuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCB7IGFjY2VwdDogZmFsc2UgfSkudGhlbigoKSA9PiB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQWNjZXB0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLnN1Ym1pdGluZykgcmV0dXJuXG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc3VibWl0aW5nOiB0cnVlIH0pXG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIHsgYWNjZXB0OiB0cnVlIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VibWl0aW5nfVxuICAgICAgICAgIHR5cGU9XCJidXRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVEZWNsaW5lfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJEZWNsaW5lXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VibWl0aW5nfVxuICAgICAgICAgIHR5cGU9XCJidXRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVBY2NlcHR9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFjY2VwdCBhbmQgY29udGludWVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgKiBhcyBwYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0IHsgdXBkYXRlQWNsIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogXCJcIlxuICAgIH1cbiAgfVxuXG4gIG9uVXNlcm5hbWVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInVzZXJuYW1lXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdXNlciBuYW1lLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJwYXJ0aWNpcGFudHNcIiwgdmFsdWU6IHRoaXMuc3RhdGUudXNlcm5hbWUgfSxcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiAxIH1cbiAgICBdKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIk5ldyBwYXJ0aWNpcGFudCBoYXMgYmVlbiBhZGRlZCB0byB0aHJlYWQuXCIpKVxuXG4gICAgbW9kYWwuaGlkZSgpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwIGZvcj1cImlkX3VzZXJuYW1lXCIgbGFiZWw9e2dldHRleHQoXCJVc2VyIHRvIGFkZFwiKX0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVzZXJuYW1lQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwYXJ0aWNpcGFudFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVmcmVzaCgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgfVxuXG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2lnbmVkSW4pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcbiAgICAgICAgICBcIllvdSBoYXZlIHNpZ25lZCBpbiBhcyAlKHVzZXJuYW1lKXMuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGJlZm9yZSBjb250aW51aW5nLlwiXG4gICAgICAgICksXG4gICAgICAgIHsgdXNlcm5hbWU6IHRoaXMucHJvcHMuc2lnbmVkSW4udXNlcm5hbWUgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcbiAgICAgICAgICBcIiUodXNlcm5hbWUpcywgeW91IGhhdmUgYmVlbiBzaWduZWQgb3V0LiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIlxuICAgICAgICApLFxuICAgICAgICB7IHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJhdXRoLW1lc3NhZ2VcIlxuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluIHx8IHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgc2hvd1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5yZWZyZXNofVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlbG9hZCBwYWdlXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIHtcIiBcIiArIGdldHRleHQoXCJvciBwcmVzcyBGNSBrZXkuXCIpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlcixcbiAgICBzaWduZWRJbjogc3RhdGUuYXV0aC5zaWduZWRJbixcbiAgICBzaWduZWRPdXQ6IHN0YXRlLmF1dGguc2lnbmVkT3V0XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3Qgc2l6ZSA9IHByb3BzLnNpemUgfHwgMTAwXG4gIGNvbnN0IHNpemUyeCA9IHByb3BzLnNpemUyeCB8fCBzaXplXG5cbiAgcmV0dXJuIChcbiAgICA8aW1nXG4gICAgICBhbHQ9XCJcIlxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJ1c2VyLWF2YXRhclwifVxuICAgICAgc3JjPXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZSl9XG4gICAgICBzcmNTZXQ9e2dldFNyYyhwcm9wcy51c2VyLCBzaXplMngpfVxuICAgICAgd2lkdGg9e3NpemV9XG4gICAgICBoZWlnaHQ9e3NpemV9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3JjKHVzZXIsIHNpemUpIHtcbiAgaWYgKHVzZXIgJiYgdXNlci5pZCkge1xuICAgIC8vIGp1c3QgYXZhdGFyIGhhc2gsIHNpemUgYW5kIHVzZXIgaWRcbiAgICByZXR1cm4gcmVzb2x2ZUF2YXRhckZvclNpemUodXNlci5hdmF0YXJzLCBzaXplKS51cmxcbiAgfSBlbHNlIHtcbiAgICAvLyBqdXN0IGFwcGVuZCBhdmF0YXIgc2l6ZSB0byBmaWxlIHRvIHByb2R1Y2Ugbm8tYXZhdGFyIHBsYWNlaG9sZGVyXG4gICAgcmV0dXJuIG1pc2Fnby5nZXQoXCJCTEFOS19BVkFUQVJfVVJMXCIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdmF0YXJGb3JTaXplKGF2YXRhcnMsIHNpemUpIHtcbiAgbGV0IGF2YXRhciA9IGF2YXRhcnNbMF1cbiAgYXZhdGFycy5mb3JFYWNoKGF2ID0+IHtcbiAgICBpZiAoYXYuc2l6ZSA+PSBzaXplKSB7XG4gICAgICBhdmF0YXIgPSBhdlxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGF2YXRhclxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFJlYXNvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubWVzc2FnZS5odG1sKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwibGVhZFwiXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5tZXNzYWdlLmh0bWxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2UucGxhaW59PC9wPlxuICAgIH1cbiAgfVxuXG4gIGdldEV4cGlyYXRpb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmV4cGlyZXMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmV4cGlyZXMuaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMucHJvcHMuZXhwaXJlcy5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMucHJvcHMuZXhwaXJlcy5mcm9tTm93KClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiA8YWJiciB0aXRsZT17dGl0bGV9PnttZXNzYWdlfTwvYWJicj5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaXMgcGVybWFuZW50LlwiKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtZXJyb3IgcGFnZS1lcnJvci1iYW5uZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5oaWdobGlnaHRfb2ZmPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRSZWFzb25NZXNzYWdlKCl9XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtZm9vdG5vdGVcIj57dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJidG4gXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZVxuICAgIGxldCBkaXNhYmxlZCA9IHRoaXMucHJvcHMuZGlzYWJsZWRcblxuICAgIGlmICh0aGlzLnByb3BzLmxvYWRpbmcpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBidG4tbG9hZGluZ1wiXG4gICAgICBkaXNhYmxlZCA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/IFwiYnV0dG9uXCIgOiBcInN1Ym1pdFwifVxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMucHJvcHMubG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiLFxuXG4gIHR5cGU6IFwic3VibWl0XCIsXG5cbiAgbG9hZGluZzogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcblxuICBvbkNsaWNrOiBudWxsXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiTm8gY2F0ZWdvcmllcyBleGlzdCBvciB5b3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHNlZSB0aGVtLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5IGZyb20gXCIuL2NhdGVnb3J5XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yaWVzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3JpZXMtbGlzdFwiPlxuICAgICAge2NhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgcmV0dXJuIDxDYXRlZ29yeSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGtleT17Y2F0ZWdvcnkuaWR9IC8+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSBcIi4vbGlzdC1pdGVtXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImxpc3QtZ3JvdXAgbGlzdC1ncm91cC1jYXRlZ29yeVwiXG4gIGlmIChjYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yXCJcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1jYXRlZ29yeS1cIiArIGNhdGVnb3J5LmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPExpc3RJdGVtIGNhdGVnb3J5PXtjYXRlZ29yeX0gaXNGaXJzdD17dHJ1ZX0gLz5cbiAgICAgIHtjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpc3RJdGVtIGNhdGVnb3J5PXtjYXRlZ29yeX0gaXNGaXJzdD17ZmFsc2V9IGtleT17Y2F0ZWdvcnkuaWR9IC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5kZXNjcmlwdGlvbikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgIF9faHRtbDogY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbFxuICAgICAgfX1cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZShjYXRlZ29yeSl9IHRpdGxlPXtnZXRUaXRsZShjYXRlZ29yeSl9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntnZXRJY29uKGNhdGVnb3J5KX08L3NwYW4+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBcInJlYWQtc3RhdHVzIGl0ZW0tcmVhZFwiXG4gIH1cblxuICByZXR1cm4gXCJyZWFkLXN0YXR1cyBpdGVtLW5ld1wiXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLiAoY2xvc2VkKVwiKVxuICAgIH1cblxuICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbmV3IHBvc3RzLiAoY2xvc2VkKVwiKVxuICB9XG5cbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy5cIilcbiAgfVxuXG4gIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbmV3IHBvc3RzLlwiKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiBcImxvY2tfb3V0bGluZVwiXG4gICAgfVxuXG4gICAgcmV0dXJuIFwibG9ja1wiXG4gIH1cblxuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBcImNoYXRfYnViYmxlX291dGxpbmVcIlxuICB9XG5cbiAgcmV0dXJuIFwiY2hhdF9idWJibGVcIlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTWFpbiBmcm9tIFwiLi9tYWluXCJcbmltcG9ydCBMYXN0VGhyZWFkIGZyb20gXCIuL2xhc3QtdGhyZWFkXCJcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9zdGF0c1wiXG5pbXBvcnQgU3ViY2F0ZWdvcmllcyBmcm9tIFwiLi9zdWJjYXRlZ29yaWVzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgaXNGaXJzdCB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImxpc3QtZ3JvdXAtaXRlbVwiXG5cbiAgaWYgKGNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWRlc2NyaXB0aW9uXCJcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1jYXRlZ29yeS1uby1kZXNjcmlwdGlvblwiXG4gIH1cblxuICBpZiAoaXNGaXJzdCkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWl0ZW0tZmlyc3RcIlxuICB9XG4gIGlmIChjYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yXCJcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1pdGVtLWNhdGVnb3J5LVwiICsgY2F0ZWdvcnkuY3NzX2NsYXNzXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8TWFpbiBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDxTdGF0cyBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDxMYXN0VGhyZWFkIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFN1YmNhdGVnb3JpZXMgY2F0ZWdvcnk9e2NhdGVnb3J5fSBpc0ZpcnN0PXtpc0ZpcnN0fSAvPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTQgY2F0ZWdvcnktbGFzdC10aHJlYWRcIj5cbiAgICAgIDxMYXN0VGhyZWFkIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDxFbXB0eSBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8UHJpdmF0ZSBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8UHJvdGVjdGVkIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFRocmVhZCh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkgcmV0dXJuIG51bGxcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX3NlZV9hbGxfdGhyZWFkcykgcmV0dXJuIG51bGxcbiAgaWYgKCFjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdCBoaWRkZW4teHNcIj5cbiAgICAgICAgPExhc3RQb3N0ZXJBdmF0YXIgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCJcbiAgICAgICAgICAgIGhyZWY9e2NhdGVnb3J5LnVybC5sYXN0X3RocmVhZF9uZXd9XG4gICAgICAgICAgICB0aXRsZT17Y2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1sYXN0LXRocmVhZC1wb3N0ZXJcIj5cbiAgICAgICAgICAgIDxMYXN0UG9zdGVyTmFtZSBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiPiYjODIxMjs8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1sYXN0LXRocmVhZC1kYXRlXCI+XG4gICAgICAgICAgICA8YSBocmVmPXtjYXRlZ29yeS51cmwubGFzdF9wb3N0fT5cbiAgICAgICAgICAgICAge2NhdGVnb3J5Lmxhc3RfcG9zdF9vbi5mcm9tTm93KCl9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UG9zdGVyQXZhdGFyKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkubGFzdF9wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwibGFzdC1wb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgaHJlZj17Y2F0ZWdvcnkubGFzdF9wb3N0ZXIudXJsfVxuICAgICAgICB0aXRsZT17Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgID5cbiAgICAgICAgPEF2YXRhclxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1lZGlhLW9iamVjdFwiXG4gICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgdXNlcj17Y2F0ZWdvcnkubGFzdF9wb3N0ZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJsYXN0LXBvc3Rlci1hdmF0YXJcIiB0aXRsZT17Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX0+XG4gICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cIm1lZGlhLW9iamVjdFwiIHNpemU9ezQwfSAvPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlck5hbWUoeyBjYXRlZ29yeSB9KSB7XG4gIGlmIChjYXRlZ29yeS5sYXN0X3Bvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17Y2F0ZWdvcnkubGFzdF9wb3N0ZXIudXJsfT5cbiAgICAgICAge2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX08L3NwYW4+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFbXB0eSh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkgcmV0dXJuIG51bGxcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX3NlZV9hbGxfdGhyZWFkcykgcmV0dXJuIG51bGxcbiAgaWYgKGNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VcbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXG4gICAgICAgIFwiVGhpcyBjYXRlZ29yeSBpcyBlbXB0eS4gTm8gdGhyZWFkcyB3ZXJlIHBvc3RlZCB3aXRoaW4gaXQgc28gZmFyLlwiXG4gICAgICApfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaXZhdGUoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG4gIGlmIChjYXRlZ29yeS5hY2wuY2FuX3NlZV9hbGxfdGhyZWFkcykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlXG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFxuICAgICAgICBcIlRoaXMgY2F0ZWdvcnkgaXMgcHJpdmF0ZS4gWW91IGNhbiBzZWUgb25seSB5b3VyIG93biB0aHJlYWRzIHdpdGhpbiBpdC5cIlxuICAgICAgKX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWQoeyBjYXRlZ29yeSB9KSB7XG4gIGlmIChjYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlXG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFxuICAgICAgICBcIlRoaXMgY2F0ZWdvcnkgaXMgcHJvdGVjdGVkLiBZb3UgY2FuJ3QgYnJvd3NlIGl0cyBjb250ZW50cy5cIlxuICAgICAgKX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZXNzYWdlKHsgbWVzc2FnZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYSBjYXRlZ29yeS10aHJlYWQtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICA8cD57bWVzc2FnZX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRGVzY3JpcHRpb24gZnJvbSBcIi4vZGVzY3JpcHRpb25cIlxuaW1wb3J0IEljb24gZnJvbSBcIi4vaWNvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC02IGNhdGVnb3J5LW1haW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPEljb24gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+e2NhdGVnb3J5Lm5hbWV9PC9hPlxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgPERlc2NyaXB0aW9uIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0yIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGNhdGVnb3J5LXN0YXRzXCI+XG4gICAgICAgIDxUaHJlYWRzIHRocmVhZHM9e2NhdGVnb3J5LnRocmVhZHN9IC8+XG4gICAgICAgIDxQb3N0cyBwb3N0cz17Y2F0ZWdvcnkucG9zdHN9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHsgdGhyZWFkcyB9KSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUodGhyZWFkcylzIHRocmVhZFwiLCBcIiUodGhyZWFkcylzIHRocmVhZHNcIiwgdGhyZWFkcylcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1zdGF0LXRocmVhZHNcIj5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHRocmVhZHM6IHRocmVhZHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0cyh7IHBvc3RzIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShwb3N0cylzIHBvc3RcIiwgXCIlKHBvc3RzKXMgcG9zdHNcIiwgcG9zdHMpXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktc3RhdC1wb3N0c1wiPlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgcG9zdHM6IHBvc3RzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSBcIi4vbGlzdC1pdGVtXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgaXNGaXJzdCB9KSB7XG4gIGlmIChpc0ZpcnN0KSByZXR1cm4gbnVsbFxuICBpZiAoY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzdWJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHtjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgIHJldHVybiA8TGlzdEl0ZW0gY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc20gYnRuLXN1YmNhdGVnb3J5XCJcbiAgaWYgKCFjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGJ0bi1zdWJjYXRlZ29yeS1uZXdcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtM1wiPlxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57Z2V0SWNvbihjYXRlZ29yeSl9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj57Y2F0ZWdvcnkubmFtZX08L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gXCJsb2NrX291dGxpbmVcIlxuICAgIH1cblxuICAgIHJldHVybiBcImxvY2tcIlxuICB9XG5cbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gXCJjaGF0X2J1YmJsZV9vdXRsaW5lXCJcbiAgfVxuXG4gIHJldHVybiBcImNoYXRfYnViYmxlXCJcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCbGFua3NsYXRlIGZyb20gXCIuL2JsYW5rc2xhdGVcIlxuaW1wb3J0IENhdGVnb3JpZXNMaXN0IGZyb20gXCIuL2NhdGVnb3JpZXMtbGlzdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuXG5jb25zdCBoeWRyYXRlID0gZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNhdGVnb3J5LCB7XG4gICAgbGFzdF9wb3N0X29uOiBjYXRlZ29yeS5sYXN0X3Bvc3Rfb24gPyBtb21lbnQoY2F0ZWdvcnkubGFzdF9wb3N0X29uKSA6IG51bGwsXG4gICAgc3ViY2F0ZWdvcmllczogY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoaHlkcmF0ZSlcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoXCJDQVRFR09SSUVTXCIpLm1hcChoeWRyYXRlKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKG1pc2Fnby5nZXQoXCJDQVRFR09SSUVTX0FQSVwiKSlcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcImNhdGVnb3JpZXNcIixcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiAxODAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3JpZXM6IGRhdGEubWFwKGh5ZHJhdGUpXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNhdGVnb3JpZXMgfSA9IHRoaXMuc3RhdGVcblxuICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxCbGFua3NsYXRlIC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIDxDYXRlZ29yaWVzTGlzdCBjYXRlZ29yaWVzPXtjYXRlZ29yaWVzfSAvPlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2tcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHNlbGVjdFxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJmb3JtLWNvbnRyb2xcIn1cbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgIGlkPXtwcm9wcy5pZCB8fCBudWxsfVxuICAgICAgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfVxuICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICBkaXNhYmxlZD17aXRlbS5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgICAgICAgIGtleT17aXRlbS52YWx1ZX1cbiAgICAgICAgICAgIHZhbHVlPXtpdGVtLnZhbHVlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtcIi0gLSBcIi5yZXBlYXQoaXRlbS5sZXZlbCkgKyBpdGVtLmxhYmVsfVxuICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3NlbGVjdD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZGV2aWNlUmF0aW86IDFcbiAgICB9XG4gIH1cblxuICBnZXRBdmF0YXJTaXplKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3RtcC5zaXplXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMuc2l6ZVxuICAgIH1cbiAgfVxuXG4gIGdldEltYWdlUGF0aCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGFVcmxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy51cmxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBsZXQgY3JvcGl0ID0gJChcIi5jcm9wLWZvcm1cIilcbiAgICBsZXQgY3JvcHBlcldpZHRoID0gdGhpcy5nZXRBdmF0YXJTaXplKClcblxuICAgIGNvbnN0IGluaXRpYWxXaWR0aCA9IGNyb3BpdC53aWR0aCgpXG4gICAgd2hpbGUgKGluaXRpYWxXaWR0aCA8IGNyb3BwZXJXaWR0aCkge1xuICAgICAgY3JvcHBlcldpZHRoID0gY3JvcHBlcldpZHRoIC8gMlxuICAgIH1cblxuICAgIGNvbnN0IGRldmljZVJhdGlvID0gdGhpcy5nZXRBdmF0YXJTaXplKCkgLyBjcm9wcGVyV2lkdGhcblxuICAgIGNyb3BpdC53aWR0aChjcm9wcGVyV2lkdGgpXG5cbiAgICBjcm9waXQuY3JvcGl0KHtcbiAgICAgIHdpZHRoOiBjcm9wcGVyV2lkdGgsXG4gICAgICBoZWlnaHQ6IGNyb3BwZXJXaWR0aCxcbiAgICAgIGV4cG9ydFpvb206IGRldmljZVJhdGlvLFxuICAgICAgaW1hZ2VTdGF0ZToge1xuICAgICAgICBzcmM6IHRoaXMuZ2V0SW1hZ2VQYXRoKClcbiAgICAgIH0sXG4gICAgICBvbkltYWdlTG9hZGVkOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnVwbG9hZCkge1xuICAgICAgICAgIC8vIGNlbnRlciB1cGxvYWRlZCBpbWFnZVxuICAgICAgICAgIGxldCB6b29tTGV2ZWwgPSBjcm9waXQuY3JvcGl0KFwiem9vbVwiKVxuICAgICAgICAgIGxldCBpbWFnZVNpemUgPSBjcm9waXQuY3JvcGl0KFwiaW1hZ2VTaXplXCIpXG5cbiAgICAgICAgICAvLyBpcyBpdCB3aWRlciB0aGFuIHRhbGxlcj9cbiAgICAgICAgICBpZiAoaW1hZ2VTaXplLndpZHRoID4gaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZFdpZHRoID0gaW1hZ2VTaXplLndpZHRoICogem9vbUxldmVsXG4gICAgICAgICAgICBsZXQgb2Zmc2V0WCA9IChkaXNwbGF5ZWRXaWR0aCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yXG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIiwge1xuICAgICAgICAgICAgICB4OiBvZmZzZXRYLFxuICAgICAgICAgICAgICB5OiAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VTaXplLndpZHRoIDwgaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZEhlaWdodCA9IGltYWdlU2l6ZS5oZWlnaHQgKiB6b29tTGV2ZWxcbiAgICAgICAgICAgIGxldCBvZmZzZXRZID0gKGRpc3BsYXllZEhlaWdodCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yXG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIiwge1xuICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICB5OiBvZmZzZXRZXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KFwib2Zmc2V0XCIsIHtcbiAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXNlIHByZXNlcnZlZCBjcm9wXG4gICAgICAgICAgbGV0IGNyb3AgPSB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMuY3JvcFxuXG4gICAgICAgICAgaWYgKGNyb3ApIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJ6b29tXCIsIGNyb3Auem9vbSlcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoXCJvZmZzZXRcIiwge1xuICAgICAgICAgICAgICB4OiBjcm9wLngsXG4gICAgICAgICAgICAgIHk6IGNyb3AueVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgJChcIi5jcm9wLWZvcm1cIikuY3JvcGl0KFwiZGlzYWJsZVwiKVxuICB9XG5cbiAgY3JvcEF2YXRhciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGxldCBhdmF0YXJUeXBlID0gdGhpcy5wcm9wcy51cGxvYWQgPyBcImNyb3BfdG1wXCIgOiBcImNyb3Bfc3JjXCJcbiAgICBsZXQgY3JvcGl0ID0gJChcIi5jcm9wLWZvcm1cIilcblxuICAgIGNvbnN0IGRldmljZVJhdGlvID0gY3JvcGl0LmNyb3BpdChcImV4cG9ydFpvb21cIilcbiAgICBjb25zdCBjcm9waXRPZmZzZXQgPSBjcm9waXQuY3JvcGl0KFwib2Zmc2V0XCIpXG5cbiAgICBhamF4XG4gICAgICAucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmF2YXRhciwge1xuICAgICAgICBhdmF0YXI6IGF2YXRhclR5cGUsXG4gICAgICAgIGNyb3A6IHtcbiAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgIHg6IGNyb3BpdE9mZnNldC54ICogZGV2aWNlUmF0aW8sXG4gICAgICAgICAgICB5OiBjcm9waXRPZmZzZXQueSAqIGRldmljZVJhdGlvXG4gICAgICAgICAgfSxcbiAgICAgICAgICB6b29tOiBjcm9waXQuY3JvcGl0KFwiem9vbVwiKSAqIGRldmljZVJhdGlvXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKGRhdGEpXG4gICAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhkYXRhLmRldGFpbClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1jcm9wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9wLWZvcm1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JvcGl0LXByZXZpZXdcIiAvPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIGNsYXNzTmFtZT1cImNyb3BpdC1pbWFnZS16b29tLWlucHV0XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jcm9wQXZhdGFyfVxuICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXBsb2FkXG4gICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiU2V0IGF2YXRhclwiKVxuICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIkNyb3AgaW1hZ2VcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IGJhdGNoIGZyb20gXCJtaXNhZ28vdXRpbHMvYmF0Y2hcIlxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeUl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzZWxlY3QgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3QodGhpcy5wcm9wcy5pZClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rpb24gPT09IHRoaXMucHJvcHMuaWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBcImJ0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZCBhdmF0YXItc2VsZWN0ZWRcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1hdmF0YXIgYXZhdGFyLXNlbGVjdGVkXCJcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tYXZhdGFyXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0fVxuICAgICAgPlxuICAgICAgICA8aW1nIHNyYz17dGhpcy5wcm9wcy51cmx9IC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhbGxlcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFycy1nYWxsZXJ5XCI+XG4gICAgICAgIDxoMz57dGhpcy5wcm9wcy5uYW1lfTwvaDM+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnktaW1hZ2VzXCI+XG4gICAgICAgICAge2JhdGNoKHRoaXMucHJvcHMuaW1hZ2VzLCA0LCBudWxsKS5tYXAoKHJvdywgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIiBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIHtyb3cubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHYWxsZXJ5SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnByb3BzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLml0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsYW5rLWF2YXRhclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2VsZWN0aW9uOiBudWxsLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbGVjdCA9IGltYWdlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNlbGVjdGlvbjogaW1hZ2VcbiAgICB9KVxuICB9XG5cbiAgc2F2ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGFqYXhcbiAgICAgIC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCB7XG4gICAgICAgIGF2YXRhcjogXCJnYWxsZXJpZXNcIixcbiAgICAgICAgaW1hZ2U6IHRoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlKVxuICAgICAgICAgIHRoaXMucHJvcHMuc2hvd0luZGV4KClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1nYWxsZXJ5XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5nYWxsZXJpZXMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8R2FsbGVyeVxuICAgICAgICAgICAgICAgIG5hbWU9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICBpbWFnZXM9e2l0ZW0uaW1hZ2VzfVxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5zZWxlY3R9XG4gICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2F2ZX1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgID8gZ2V0dGV4dChcIlNhdmUgY2hvaWNlXCIpXG4gICAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJTZWxlY3QgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjYWxsQXBpKGF2YXRhclR5cGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIGFqYXhcbiAgICAgIC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCB7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyVHlwZVxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKVxuICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHNldEdyYXZhdGFyID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcImdyYXZhdGFyXCIpXG4gIH1cblxuICBzZXRHZW5lcmF0ZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFwiZ2VuZXJhdGVkXCIpXG4gIH1cblxuICBnZXRHcmF2YXRhckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmdyYXZhdGFyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5zZXRHcmF2YXRhcn1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItZ3JhdmF0YXJcIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJEb3dubG9hZCBteSBHcmF2YXRhclwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0Q3JvcEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWNyb3BcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0Nyb3B9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmUtY3JvcCB1cGxvYWRlZCBpbWFnZVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci11cGxvYWRcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd1VwbG9hZH1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVcGxvYWQgbmV3IGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgZ2V0R2FsbGVyeUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMub3B0aW9ucy5nYWxsZXJpZXMpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nYWxsZXJ5XCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dHYWxsZXJ5fVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlBpY2sgYXZhdGFyIGZyb20gZ2FsbGVyeVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGdldEF2YXRhclByZXZpZXcoKSB7XG4gICAgbGV0IHVzZXJQZXZpZXcgPSB7XG4gICAgICBpZDogdGhpcy5wcm9wcy51c2VyLmlkLFxuICAgICAgYXZhdGFyczogdGhpcy5wcm9wcy5vcHRpb25zLmF2YXRhcnNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXcgcHJldmlldy1sb2FkaW5nXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMjAwXCIgdXNlcj17dXNlclBldmlld30gLz5cbiAgICAgICAgICA8TG9hZGVyIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhci1wcmV2aWV3XCI+XG4gICAgICAgIDxBdmF0YXIgc2l6ZT1cIjIwMFwiIHVzZXI9e3VzZXJQZXZpZXd9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItaW5kZXhcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+e3RoaXMuZ2V0QXZhdGFyUHJldmlldygpfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldEdyYXZhdGFyQnV0dG9uKCl9XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZXRHZW5lcmF0ZWR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItZ2VuZXJhdGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkdlbmVyYXRlIG15IGluZGl2aWR1YWwgYXZhdGFyXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIHt0aGlzLmdldENyb3BCdXR0b24oKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgICAgICAge3RoaXMuZ2V0R2FsbGVyeUJ1dHRvbigpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFySW5kZXggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvaW5kZXhcIlxuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcFwiXG5pbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3VwbG9hZFwiXG5pbXBvcnQgQXZhdGFyR2FsbGVyeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9nYWxsZXJ5XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBjbGFzcyBDaGFuZ2VBdmF0YXJFcnJvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVycm9yUmVhc29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJlYXNvbikge1xuICAgICAgcmV0dXJuIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGhpcy5wcm9wcy5yZWFzb24gfX0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZW1vdmVfY2lyY2xlX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgICB7dGhpcy5nZXRFcnJvclJlYXNvbigpfVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyKS50aGVuKFxuICAgICAgb3B0aW9ucyA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvbXBvbmVudDogQXZhdGFySW5kZXgsXG4gICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2hvd0Vycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBzaG93RXJyb3IgPSBlcnJvciA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlcnJvclxuICAgIH0pXG4gIH1cblxuICBzaG93SW5kZXggPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEF2YXRhckluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHNob3dVcGxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEF2YXRhclVwbG9hZFxuICAgIH0pXG4gIH1cblxuICBzaG93Q3JvcCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFyQ3JvcFxuICAgIH0pXG4gIH1cblxuICBzaG93R2FsbGVyeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBvbmVudDogQXZhdGFyR2FsbGVyeVxuICAgIH0pXG4gIH1cblxuICBjb21wbGV0ZUZsb3cgPSBvcHRpb25zID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBdmF0YXIodGhpcy5wcm9wcy51c2VyLCBvcHRpb25zLmF2YXRhcnMpKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEF2YXRhckluZGV4LFxuICAgICAgb3B0aW9uc1xuICAgIH0pXG4gIH1cblxuICBnZXRCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDaGFuZ2VBdmF0YXJFcnJvclxuICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvci5kZXRhaWx9XG4gICAgICAgICAgICByZWFzb249e3RoaXMuc3RhdGUuZXJyb3IucmVhc29ufVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHRoaXMuc3RhdGUuY29tcG9uZW50XG4gICAgICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICBvbkNvbXBsZXRlPXt0aGlzLmNvbXBsZXRlRmxvd31cbiAgICAgICAgICAgIHNob3dFcnJvcj17dGhpcy5zaG93RXJyb3J9XG4gICAgICAgICAgICBzaG93SW5kZXg9e3RoaXMuc2hvd0luZGV4fVxuICAgICAgICAgICAgc2hvd0Nyb3A9e3RoaXMuc2hvd0Nyb3B9XG4gICAgICAgICAgICBzaG93VXBsb2FkPXt0aGlzLnNob3dVcGxvYWR9XG4gICAgICAgICAgICBzaG93R2FsbGVyeT17dGhpcy5zaG93R2FsbGVyeX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWNoYW5nZS1hdmF0YXJcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtY2hhbmdlLWF2YXRhclwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB5b3VyIGF2YXRhclwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge3RoaXMuZ2V0Qm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUuYXV0aC51c2VyXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvY3JvcFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBmaWxlU2l6ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpbWFnZTogbnVsbCxcbiAgICAgIHByZXZpZXc6IG51bGwsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHVwbG9hZGVkOiBudWxsLFxuICAgICAgZGF0YVVybDogbnVsbFxuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlRmlsZShpbWFnZSkge1xuICAgIGlmIChpbWFnZS5zaXplID4gdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5saW1pdCkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgZmlsZSBpcyB0b28gYmlnLiAoJShmaWxlc2l6ZSlzKVwiKSxcbiAgICAgICAge1xuICAgICAgICAgIGZpbGVzaXplOiBmaWxlU2l6ZShpbWFnZS5zaXplKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgbGV0IGludmFsaWRUeXBlTXNnID0gZ2V0dGV4dChcIlNlbGVjdGVkIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLlwiKVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9taW1lX3R5cGVzLmluZGV4T2YoaW1hZ2UudHlwZSkgPT09IC0xXG4gICAgKSB7XG4gICAgICByZXR1cm4gaW52YWxpZFR5cGVNc2dcbiAgICB9XG5cbiAgICBsZXQgZXh0ZW5zaW9uRm91bmQgPSBmYWxzZVxuICAgIGxldCBsb3dlcmVkRmlsZW5hbWUgPSBpbWFnZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfZXh0ZW5zaW9ucy5tYXAoZnVuY3Rpb24oZXh0ZW5zaW9uKSB7XG4gICAgICBpZiAobG93ZXJlZEZpbGVuYW1lLnN1YnN0cihleHRlbnNpb24ubGVuZ3RoICogLTEpID09PSBleHRlbnNpb24pIHtcbiAgICAgICAgZXh0ZW5zaW9uRm91bmQgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICghZXh0ZW5zaW9uRm91bmQpIHtcbiAgICAgIHJldHVybiBpbnZhbGlkVHlwZU1zZ1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcGlja0ZpbGUgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmF0YXItaGlkZGVuLXVwbG9hZFwiKS5jbGljaygpXG4gIH1cblxuICB1cGxvYWRGaWxlID0gKCkgPT4ge1xuICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWhpZGRlbi11cGxvYWRcIikuZmlsZXNbMF1cbiAgICBpZiAoIWltYWdlKSByZXR1cm5cblxuICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB0aGlzLnZhbGlkYXRlRmlsZShpbWFnZSlcbiAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih2YWxpZGF0aW9uRXJyb3IpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGltYWdlLFxuICAgICAgcHJldmlldzogVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZSksXG4gICAgICBwcm9ncmVzczogMFxuICAgIH0pXG5cbiAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgZGF0YS5hcHBlbmQoXCJhdmF0YXJcIiwgXCJ1cGxvYWRcIilcbiAgICBkYXRhLmFwcGVuZChcImltYWdlXCIsIGltYWdlKVxuXG4gICAgYWpheFxuICAgICAgLnVwbG9hZCh0aGlzLnByb3BzLnVzZXIuYXBpLmF2YXRhciwgZGF0YSwgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IGRhdGEsXG4gICAgICAgICAgICB1cGxvYWRlZDogZGF0YS5kZXRhaWxcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuaW5mbyhcbiAgICAgICAgICAgIGdldHRleHQoXCJZb3VyIGltYWdlIGhhcyBiZWVuIHVwbG9hZGVkIGFuZCB5b3UgbWF5IG5vdyBjcm9wIGl0LlwiKVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICBpbWFnZTogbnVsbCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGdldFVwbG9hZFJlcXVpcmVtZW50cyhvcHRpb25zKSB7XG4gICAgbGV0IGV4dGVuc2lvbnMgPSBvcHRpb25zLmFsbG93ZWRfZXh0ZW5zaW9ucy5tYXAoZnVuY3Rpb24oZXh0ZW5zaW9uKSB7XG4gICAgICByZXR1cm4gZXh0ZW5zaW9uLnN1YnN0cigxKVxuICAgIH0pXG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJShmaWxlcylzIGZpbGVzIHNtYWxsZXIgdGhhbiAlKGxpbWl0KXNcIiksXG4gICAgICB7XG4gICAgICAgIGZpbGVzOiBleHRlbnNpb25zLmpvaW4oXCIsIFwiKSxcbiAgICAgICAgbGltaXQ6IGZpbGVTaXplKG9wdGlvbnMubGltaXQpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcGljay1maWxlXCIgb25DbGljaz17dGhpcy5waWNrRmlsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5wdXQ8L2Rpdj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBmaWxlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICAgIHt0aGlzLmdldFVwbG9hZFJlcXVpcmVtZW50cyh0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0VXBsb2FkUHJvZ3Jlc3NMYWJlbCgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJShwcm9ncmVzcylzICUgY29tcGxldGVcIiksXG4gICAgICB7XG4gICAgICAgIHByb2dyZXNzOiB0aGlzLnN0YXRlLnByb2dyZXNzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGdldFVwbG9hZFByb2dyZXNzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVwbG9hZC1wcm9ncmVzc1wiPlxuICAgICAgICAgIDxpbWcgc3JjPXt0aGlzLnN0YXRlLnByZXZpZXd9IC8+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVub3c9XCJ7dGhpcy5zdGF0ZS5wcm9ncmVzc31cIlxuICAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCIxMDBcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5zdGF0ZS5wcm9ncmVzcyArIFwiJVwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj57dGhpcy5nZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyVXBsb2FkKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgaWQ9XCJhdmF0YXItaGlkZGVuLXVwbG9hZFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuLWZpbGUtdXBsb2FkXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGxvYWRGaWxlfVxuICAgICAgICAvPlxuICAgICAgICB7dGhpcy5zdGF0ZS5pbWFnZSA/IHRoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3MoKSA6IHRoaXMuZ2V0VXBsb2FkQnV0dG9uKCl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshIXRoaXMuc3RhdGUuaW1hZ2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyQ3JvcCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEF2YXRhckNyb3BcbiAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIHVwbG9hZD17dGhpcy5zdGF0ZS51cGxvYWRlZH1cbiAgICAgICAgZGF0YVVybD17dGhpcy5zdGF0ZS5wcmV2aWV3fVxuICAgICAgICBvbkNvbXBsZXRlPXt0aGlzLnByb3BzLm9uQ29tcGxldGV9XG4gICAgICAgIHNob3dFcnJvcj17dGhpcy5wcm9wcy5zaG93RXJyb3J9XG4gICAgICAgIHNob3dJbmRleD17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS51cGxvYWRlZCkgcmV0dXJuIHRoaXMucmVuZGVyQ3JvcCgpXG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJVcGxvYWQoKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIG9wZW4gaGlkZGVuLW1kIGhpZGRlbi1sZ1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIGhpZGRlbi1tZCBoaWRkZW4tbGdcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZU5hdn1cbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmRyb3Bkb3duID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJ9XG4gICAgICA+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZW51PC9pPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc3BsYXkgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8UGFuZWxNZXNzYWdlXG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIk5vIHByb2ZpbGUgZGV0YWlscyBhcmUgZWRpdGFibGUgYXQgdGhpcyB0aW1lLlwiKX1cbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJUaGlzIG9wdGlvbiBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuXCIpfVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNoYW5nZSA9IGV2ID0+IHtcbiAgICBjb25zdCB7IGZpZWxkLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wc1xuICAgIG9uQ2hhbmdlKGZpZWxkLmZpZWxkbmFtZSwgZXYudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGlzYWJsZWQsIGZpZWxkLCB2YWx1ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgaW5wdXQgfSA9IGZpZWxkXG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIGNob2ljZXM9e2lucHV0LmNob2ljZXN9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlkPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBpZD17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlkPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGRJbnB1dCBmcm9tIFwiLi9maWVsZC1pbnB1dFwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNhYmxlZCwgZXJyb3JzLCBmaWVsZHMsIG5hbWUsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGZpZWxkc2V0PlxuICAgICAgPGxlZ2VuZD57bmFtZX08L2xlZ2VuZD5cbiAgICAgIHtmaWVsZHMubWFwKGZpZWxkID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBmb3I9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgICBoZWxwVGV4dD17ZmllbGQuaGVscF90ZXh0fVxuICAgICAgICAgICAga2V5PXtmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgICBsYWJlbD17ZmllbGQubGFiZWx9XG4gICAgICAgICAgICB2YWxpZGF0aW9uPXtlcnJvcnNbZmllbGQuZmllbGRuYW1lXX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmllbGRJbnB1dFxuICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICAgIGZpZWxkPXtmaWVsZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWVbZmllbGQuZmllbGRuYW1lXX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvZmllbGRzZXQ+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZpZWxkc2V0IGZyb20gXCIuL2ZpZWxkc2V0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICBjb25zdCBncm91cHMgPSBwcm9wcy5ncm91cHMubGVuZ3RoXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHM7IGkrKykge1xuICAgICAgY29uc3QgZ3JvdXAgPSBwcm9wcy5ncm91cHNbaV1cbiAgICAgIGNvbnN0IGZpZWxkcyA9IGdyb3VwLmZpZWxkcy5sZW5ndGhcbiAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmllbGRzOyBmKyspIHtcbiAgICAgICAgY29uc3QgZmllbGRuYW1lID0gZ3JvdXAuZmllbGRzW2ZdLmZpZWxkbmFtZVxuICAgICAgICBjb25zdCBpbml0aWFsID0gZ3JvdXAuZmllbGRzW2ZdLmluaXRpYWxcbiAgICAgICAgdGhpcy5zdGF0ZVtmaWVsZG5hbWVdID0gaW5pdGlhbFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUsIHtcbiAgICAgIGVycm9yczogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogbnVsbFxuICAgIH0pXG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCBkYXRhKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgdGhpcy5wcm9wcy5vblN1Y2Nlc3MoZGF0YSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JzOiByZWplY3Rpb24gfSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBbbmFtZV06IHZhbHVlXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuZ3JvdXBzLm1hcCgoZ3JvdXAsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxGaWVsZHNldFxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBlcnJvcnM9e3RoaXMuc3RhdGUuZXJyb3JzfVxuICAgICAgICAgICAgICAgIGZpZWxkcz17Z3JvdXAuZmllbGRzfVxuICAgICAgICAgICAgICAgIG5hbWU9e2dyb3VwLm5hbWV9XG4gICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgIDxDYW5jZWxCdXR0b25cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLnByb3BzLm9uQ2FuY2VsfVxuICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYW5jZWxCdXR0b24oeyBvbkNhbmNlbCwgZGlzYWJsZWQgfSkge1xuICBpZiAoIW9uQ2FuY2VsKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgPC9idXR0b24+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJsYW5rc2xhdGUgZnJvbSBcIi4vYmxhbmtzbGF0ZVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL2xvYWRlclwiXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgZ3JvdXBzOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5hcGkpLnRoZW4oXG4gICAgICBncm91cHMgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcblxuICAgICAgICAgIGdyb3Vwc1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FuY2VsKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWwoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZ3JvdXBzLCBsb2FkaW5nIH0gPSB0aGlzLnN0YXRlXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJFZGl0IGRldGFpbHNcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxMb2FkZXIgZGlzcGxheT17bG9hZGluZ30gLz5cbiAgICAgICAgPEJsYW5rc2xhdGUgZGlzcGxheT17IWxvYWRpbmcgJiYgIWdyb3Vwcy5sZW5ndGh9IC8+XG4gICAgICAgIDxGb3JtRGlzcGxheVxuICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgICAgZGlzcGxheT17IWxvYWRpbmcgJiYgZ3JvdXBzLmxlbmd0aH1cbiAgICAgICAgICBncm91cHM9e2dyb3Vwc31cbiAgICAgICAgICBvbkNhbmNlbD17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMucHJvcHMub25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtRGlzcGxheSh7IGFwaSwgZGlzcGxheSwgZ3JvdXBzLCBvbkNhbmNlbCwgb25TdWNjZXNzIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPEZvcm0gYXBpPXthcGl9IGdyb3Vwcz17Z3JvdXBzfSBvbkNhbmNlbD17b25DYW5jZWx9IG9uU3VjY2Vzcz17b25TdWNjZXNzfSAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZGlzcGxheSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgPExvYWRlciAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2ZpbGUtc2l6ZVwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25JbnNlcnQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXBsYWNlU2VsZWN0aW9uKHRoaXMuaW5zZXJ0QXR0YWNobWVudClcbiAgfVxuXG4gIGluc2VydEF0dGFjaG1lbnQgPSAoc2VsZWN0aW9uLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMucHJvcHMuaXRlbVxuXG4gICAgaWYgKGl0ZW0uaXNfaW1hZ2UpIHtcbiAgICAgIGlmIChpdGVtLnVybC50aHVtYikge1xuICAgICAgICByZXBsYWNlKFxuICAgICAgICAgIFwiWyFbXCIgK1xuICAgICAgICAgICAgaXRlbS5maWxlbmFtZSArXG4gICAgICAgICAgICBcIl0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwudGh1bWIgK1xuICAgICAgICAgICAgXCIpXShcIiArXG4gICAgICAgICAgICBpdGVtLnVybC5pbmRleCArXG4gICAgICAgICAgICBcIilcIlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBsYWNlKFxuICAgICAgICAgIFwiWyFbXCIgK1xuICAgICAgICAgICAgaXRlbS5maWxlbmFtZSArXG4gICAgICAgICAgICBcIl0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwuaW5kZXggK1xuICAgICAgICAgICAgXCIpXShcIiArXG4gICAgICAgICAgICBpdGVtLnVybC5pbmRleCArXG4gICAgICAgICAgICBcIilcIlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2UoXCJbXCIgKyBpdGVtLmZpbGVuYW1lICsgXCJdKFwiICsgaXRlbS51cmwuaW5kZXggKyBcIilcIilcbiAgICB9XG4gIH1cblxuICBvblJlbW92ZSA9ICgpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUl0ZW0oe1xuICAgICAgaXNSZW1vdmVkOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG9uVW5kbyA9ICgpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUl0ZW0oe1xuICAgICAgaXNSZW1vdmVkOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGVJdGVtID0gbmV3U3RhdGUgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0uaWQgPT09IHRoaXMucHJvcHMuaXRlbS5pZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgbmV3U3RhdGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHVwZGF0ZWRBdHRhY2htZW50cylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWNvbXBsZXRlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTlcIj5cbiAgICAgICAgICAgIDxQcmV2aWV3IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgIDxGaWxlbmFtZSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPERldGFpbHMgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtMyB4cy1tYXJnaW4tdG9wLWhhbGZcIj5cbiAgICAgICAgICAgIDxBY3Rpb25zXG4gICAgICAgICAgICAgIG9uSW5zZXJ0PXt0aGlzLm9uSW5zZXJ0fVxuICAgICAgICAgICAgICBvblJlbW92ZT17dGhpcy5vblJlbW92ZX1cbiAgICAgICAgICAgICAgb25VbmRvPXt0aGlzLm9uVW5kb31cbiAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIDxJbWFnZSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW1hZ2UocHJvcHMpIHtcbiAgY29uc3QgdGh1bWJuYWlsVXJsID0gcHJvcHMuaXRlbS51cmwudGh1bWIgfHwgcHJvcHMuaXRlbS51cmwuaW5kZXhcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaW1hZ2VcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLml0ZW0udXJsLmluZGV4ICsgXCI/c2h2YT0xXCJ9XG4gICAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJ1wiICsgdGh1bWJuYWlsVXJsICsgXCI/c2h2YT0xJylcIiB9fVxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaWNvblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluc2VydF9kcml2ZV9maWxlPC9zcGFuPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaWxlbmFtZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxoND5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIlxuICAgICAgICBocmVmPXtwcm9wcy5pdGVtLnVybC5pbmRleCArIFwiP3NodmE9MVwifVxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgPlxuICAgICAgICB7cHJvcHMuaXRlbS5maWxlbmFtZX1cbiAgICAgIDwvYT5cbiAgICA8L2g0PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZXRhaWxzKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMuaXRlbS51cmwudXBsb2FkZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZWRfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZWRfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIiUoZmlsZXR5cGUpcywgJShzaXplKXMsIHVwbG9hZGVkIGJ5ICUodXBsb2FkZXIpcyAlKHVwbG9hZGVkX29uKXMuXCJcbiAgICAgIClcbiAgICApLFxuICAgIHtcbiAgICAgIGZpbGV0eXBlOiBwcm9wcy5pdGVtLmZpbGV0eXBlLFxuICAgICAgc2l6ZTogZm9ybWF0RmlsZXNpemUocHJvcHMuaXRlbS5zaXplKSxcbiAgICAgIHVwbG9hZGVyOiB1c2VyLFxuICAgICAgdXBsb2FkZWRfb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX0gLz5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFjdGlvbnMocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWFjdGlvbnNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxJbnNlcnQgey4uLnByb3BzfSAvPlxuICAgICAgICA8UmVtb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFVuZG8gey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluc2VydChwcm9wcykge1xuICBpZiAoISFwcm9wcy5pdGVtLmlzUmVtb3ZlZCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkluc2VydH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiSW5zZXJ0XCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZShwcm9wcykge1xuICBpZiAoISFwcm9wcy5pdGVtLmlzUmVtb3ZlZCAmJiBwcm9wcy5pdGVtLmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uUmVtb3ZlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZW1vdmVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5kbyhwcm9wcykge1xuICBpZiAoIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vblVuZG99XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlVuZG8gcmVtb3ZhbFwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBTVFJPTkcgPSBcIjxzdHJvbmc+JShuYW1lKXM8L3N0cm9uZz5cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0ua2V5ICE9PSB0aGlzLnByb3BzLml0ZW0ua2V5XG4gICAgfSlcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoZmlsdGVyZWRBdHRhY2htZW50cylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGludGVycG9sYXRlKFxuICAgICAgU1RST05HLFxuICAgICAge1xuICAgICAgICBuYW1lOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJFcnJvciB1cGxvYWRpbmcgJShmaWxlbmFtZSlzXCIpLFxuICAgICAge1xuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvcHMuaXRlbS5wcm9ncmVzcyArIFwiJVwiXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3JcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPndhcm5pbmc8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDQgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aXRsZSArIFwiOlwiIH19IC8+XG4gICAgICAgICAgPHA+e3RoaXMucHJvcHMuaXRlbS5lcnJvcn08L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnRDb21wbGV0ZSBmcm9tIFwiLi9jb21wbGV0ZVwiXG5pbXBvcnQgQXR0YWNobWVudEVycm9yIGZyb20gXCIuL2Vycm9yXCJcbmltcG9ydCBBdHRhY2htZW50VXBsb2FkIGZyb20gXCIuL3VwbG9hZFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlkKSB7XG4gICAgcmV0dXJuIDxBdHRhY2htZW50Q29tcGxldGUgey4uLnByb3BzfSAvPlxuICB9XG5cbiAgaWYgKHByb3BzLml0ZW0uZXJyb3IpIHtcbiAgICByZXR1cm4gPEF0dGFjaG1lbnRFcnJvciB7Li4ucHJvcHN9IC8+XG4gIH1cblxuICByZXR1cm4gPEF0dGFjaG1lbnRVcGxvYWQgey4uLnByb3BzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgU1RST05HID0gXCI8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShcbiAgICBTVFJPTkcsXG4gICAge1xuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLmZpbGVuYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJVcGxvYWRpbmcgJShmaWxlbmFtZSlzLi4uICUocHJvZ3Jlc3Mpc1wiKSxcbiAgICB7XG4gICAgICBmaWxlbmFtZSxcbiAgICAgIHByb2dyZXNzOiBwcm9wcy5pdGVtLnByb2dyZXNzICsgXCIlXCJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXByb2dyZXNzXCJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcHJvcHMuaXRlbS5wcm9ncmVzcyArIFwiJVwiIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwXG4gICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZC1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgICAvPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3QgZnJvbSBcIi4vbGlzdFwiXG5pbXBvcnQgVXBsb2FkZXIgZnJvbSBcIi4vdXBsb2FkZXJcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFtaXNhZ28uZ2V0KFwidXNlclwiKS5hY2wubWF4X2F0dGFjaG1lbnRfc2l6ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnRzXCI+XG4gICAgICA8TGlzdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VXBsb2FkZXIgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdHRhY2htZW50IGZyb20gXCIuL2F0dGFjaG1lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGVkaXRvci1hdHRhY2htZW50cy1saXN0XCIgc3R5bGU9e3tcbiAgICAgIG92ZXJmbG93WTogXCJzY3JvbGxcIixcbiAgICAgIG1heEhlaWdodDogXCI3NXB4XCIsXG4gICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCJcbiAgICB9fT5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiA8QXR0YWNobWVudCBpdGVtPXtpdGVtfSBrZXk9e2l0ZW0uaWQgfHwgaXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdG9yLXVwbG9hZC1maWVsZFwiKS5jbGljaygpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCFtaXNhZ28uZ2V0KFwidXNlclwiKS5hY2wubWF4X2F0dGFjaG1lbnRfc2l6ZSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVXBsb2FkIGZpbGVcIil9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZmlsZV91cGxvYWQ8L3NwYW4+IFVwbG9hZCBmaWxlXG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXVxuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHVwbG9hZCA9IHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAga2V5OiBnZXRSYW5kb21LZXkoKSxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBmaWxlbmFtZTogZmlsZS5uYW1lXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKFt1cGxvYWRdLmNvbmNhdCh0aGlzLnByb3BzLmF0dGFjaG1lbnRzKSlcblxuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgIGRhdGEuYXBwZW5kKFwidXBsb2FkXCIsIGZpbGUpXG5cbiAgICBhamF4XG4gICAgICAudXBsb2FkKG1pc2Fnby5nZXQoXCJBVFRBQ0hNRU5UU19BUElcIiksIGRhdGEsIHByb2dyZXNzID0+IHtcbiAgICAgICAgdXBsb2FkLnByb2dyZXNzID0gcHJvZ3Jlc3NcbiAgICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGRhdGEudXBsb2FkZWRfb24gPSBtb21lbnQoZGF0YS51cGxvYWRlZF9vbilcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHVwbG9hZCwgZGF0YSlcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICAgICAgdXBsb2FkLmVycm9yID0gcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0IGlkPVwiZWRpdG9yLXVwbG9hZC1maWVsZFwiIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfSB0eXBlPVwiZmlsZVwiIC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21LZXkoKSB7XG4gIHJldHVybiBcInVwbGQtXCIgKyBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiXG5pbXBvcnQgVXBsb2FkIGZyb20gXCIuLi9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcylcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGltZ0hpZGRlbjogdHJ1ZSxcbiAgICAgICAgICAgIGltZ0xpc3Q6IFtdLFxuICAgICAgICAgICAgcGFyYUhpZGRlbjogdHJ1ZSxcbiAgICAgICAgICAgIHRpdGxlSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgbW9yZUhpZGRlbjogdHJ1ZSxcbiAgICAgICAgICAgIGxpc3RIaWRkZW46IHRydWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2xpY2tMZWZ0KHR5cGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrTGVmdCh0eXBlKVxuICAgIH1cbiAgICBvbkNsaWNrUmlnaHQodHlwZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2tSaWdodCh0eXBlKVxuICAgIH1cbiAgICBsaXN0TW91c2VPdmVyKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubGlzdFRpbWVyKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGxpc3RIaWRkZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGlzdE1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLmxpc3RUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGxpc3RIaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDE1MClcbiAgICB9XG5cbiAgICBwYXJhTW91c2VPdmVyKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucGFyYVRpbWVyKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHBhcmFIaWRkZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcGFyYU1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLnBhcmFUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHBhcmFIaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDE1MClcbiAgICB9XG5cbiAgICB0aXRsZU1vdXNlT3ZlcigpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpdGxlVGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdGl0bGVIaWRkZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdGl0bGVNb3VzZU91dCgpIHtcbiAgICAgICAgdGhpcy50aXRsZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdGl0bGVIaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDE1MClcbiAgICB9XG5cbiAgICBtb3JlTW91c2VPdmVyKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubW9yZVRpbWVyKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1vcmVIaWRkZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbW9yZU1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLm1vcmVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIG1vcmVIaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDE1MClcbiAgICB9XG4gICAgaW1nQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW1nSGlkZGVuOiAhdGhpcy5zdGF0ZS5pbWdIaWRkZW5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpbWdNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lcilcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdIaWRkZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaW1nTW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpbWdIaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDE1MClcbiAgICB9XG5cbiAgICBhZGRJbWdVcmwoKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGlja0xlZnQoJ2ltZycpXG4gICAgfVxuXG4gICAgYWRkSW1nRmlsZShlKSB7XG4gICAgICAgIGxldCB7IGltZ0xpc3QgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgY29uc3QgaW5kZXggPSBpbWdMaXN0Lmxlbmd0aFxuICAgICAgICBpbWdMaXN0LnB1c2goZS50YXJnZXQuZmlsZXNbMF0pXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW1nTGlzdFxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnByb3BzLmFkZEltZyhlLnRhcmdldC5maWxlc1swXSwgaW5kZXgpXG4gICAgICAgIGUudGFyZ2V0LnZhbHVlID0gJydcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgaW1nSGlkZGVuLCBwYXJhSGlkZGVuLCB0aXRsZUhpZGRlbiwgbW9yZUhpZGRlbiwgbGlzdEhpZGRlbiB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBjb25zdCB7IHByZXZpZXcsIGV4cGFuZCwgc3ViZmllbGQgfSA9IHRoaXMucHJvcHNcbiAgICAgICAgY29uc3QgcHJldmlld0FjdGl2ZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2stYWN0aXZlJzogcHJldmlld1xuICAgICAgICB9KVxuICAgICAgICBjb25zdCBleHBhbmRBY3RpdmUgPSBjbGFzc05hbWVzKHtcbiAgICAgICAgICAgICdrLWFjdGl2ZSc6IGV4cGFuZFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBzdWJmaWVsZEFjdGl2ZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2stYWN0aXZlJzogc3ViZmllbGRcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay13cmFwcGVyXCIgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1wY1wiPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgndW5kbycpfSB0aXRsZT17YHVuZG8gKGN0cmwreilgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dW5kbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgncmVkbycpfSB0aXRsZT17YHJlZG8gKGN0cmwreSlgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVkbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdmVyKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU91dD17KCkgPT4gdGhpcy50aXRsZU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy50aXRsZU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnRpdGxlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT17dGl0bGVIaWRkZW4gPyB7IGRpc3BsYXk6ICdub25lJyB9IDoge319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDEnKX0gdGl0bGU9XCJIZWFkZXIgMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gyJyl9IHRpdGxlPVwiSGVhZGVyIDJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMycpfSB0aXRsZT1cIkhlYWRlciAzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDQnKX0gdGl0bGU9XCJIZWFkZXIgNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g1Jyl9IHRpdGxlPVwiSGVhZGVyIDVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA1XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNicpfSB0aXRsZT1cIkhlYWRlciA2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiay10b29sYmFyLXBhcmFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyPXsoKSA9PiB0aGlzLnBhcmFNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnBhcmFNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnRleHRfZmllbGRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT17cGFyYUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdpdGFsaWMnKX0gdGl0bGU9XCJpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZCcpfSB0aXRsZT1cImJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2JvbGRpdGFsaWMnKX0gdGl0bGU9XCJib2xkaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdkZWxsaW5lJyl9IHRpdGxlPVwic3RyaWtlIHRocm91Z2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlrZSB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgndW5kZXJsaW5lJyl9IHRpdGxlPVwidW5kZXJsaW5lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItaW1nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17KCkgPT4gdGhpcy5pbWdNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLmltZ01vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5pbWdNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wZXJtX21lZGlhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBzdHlsZT17aW1nSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMuYWRkSW1nVXJsKCl9Pkluc2VydCBpbWFnZSBsaW5rPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZT17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3F1b3RlJyl9IHRpdGxlPVwicXVvdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ybWF0X3F1b3RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdsaW5rJyl9IHRpdGxlPVwibGlua1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5saW5rPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdjb2RlJyl9IHRpdGxlPVwiY29kZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jb2RlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdzcG9pbGVyJyl9IHRpdGxlPVwic3BvaWxlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wcmlvcml0eV9oaWdoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRvJyl9IHRpdGxlPXtgdW5kbyAoY3RybCt6KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj51bmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdyZWRvJyl9IHRpdGxlPXtgcmVkbyAoY3RybCt5KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMudGl0bGVNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt0aXRsZUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMScpfSB0aXRsZT1cIkhlYWRlciAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDInKX0gdGl0bGU9XCJIZWFkZXIgMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gzJyl9IHRpdGxlPVwiSGVhZGVyIDNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNCcpfSB0aXRsZT1cIkhlYWRlciA0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDUnKX0gdGl0bGU9XCJIZWFkZXIgNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g2Jyl9IHRpdGxlPVwiSGVhZGVyIDZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItcGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMucGFyYU1vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wYXJhTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGV4dF9maWVsZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtwYXJhSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2l0YWxpYycpfSB0aXRsZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdib2xkJyl9IHRpdGxlPVwiYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZGl0YWxpYycpfSB0aXRsZT1cImJvbGRpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRpdGFsaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2RlbGxpbmUnKX0gdGl0bGU9XCJzdHJpa2UgdGhyb3VnaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWtlIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRlcmxpbmUnKX0gdGl0bGU9XCJ1bmRlcmxpbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci1pbWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyPXsoKSA9PiB0aGlzLmltZ01vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMuaW1nTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmltZ01vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBlcm1fbWVkaWE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtpbWdIaWRkZW4gPyB7IGRpc3BsYXk6ICdub25lJyB9IDoge319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5hZGRJbWdVcmwoKX0+SW5zZXJ0IGltYWdlIGxpbms8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgncXVvdGUnKX0gdGl0bGU9XCJxdW90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3JtYXRfcXVvdGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2xpbmsnKX0gdGl0bGU9XCJsaW5rXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxpbms8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2NvZGUnKX0gdGl0bGU9XCJjb2RlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNvZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3Nwb2lsZXInKX0gdGl0bGU9XCJzcG9pbGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnByaW9yaXR5X2hpZ2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1yaWdodC1wY1wiPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2V4cGFuZEFjdGl2ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tSaWdodCgnZXhwYW5kJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2V4cGFuZEFjdGl2ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kQWN0aXZlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZnVsbHNjcmVlbl9leGl0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZnVsbHNjcmVlbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3ByZXZpZXdBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ3ByZXZpZXcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmV2aWV3QWN0aXZlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3ViZmllbGRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ3N1YmZpZWxkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3N1YmZpZWxkQWN0aXZlID8gXCJTcGxpdCBwcmV2aWV3XCIgOiBcIk1lcmdlIHNwbGl0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNocm9tZV9yZWFkZXJfbW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLXJpZ2h0LW1vYmlsZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2V4cGFuZEFjdGl2ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tSaWdodCgnZXhwYW5kJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2V4cGFuZEFjdGl2ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kQWN0aXZlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZnVsbHNjcmVlbl9leGl0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZnVsbHNjcmVlbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3ByZXZpZXdBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ3ByZXZpZXcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cInByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmV2aWV3QWN0aXZlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnRzRWRpdG9yIGZyb20gXCIuL2F0dGFjaG1lbnRzXCJcbmltcG9ydCAqIGFzIHRleHRVdGlscyBmcm9tIFwiLi90ZXh0dXRpbHNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiXG5pbXBvcnQgbWFya2VkIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbWFya2VkXCJcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL2NvbXBvbmVudHMvdG9vbGJhclwiXG5pbXBvcnQgeyBpbnNlcnRUZXh0IH0gZnJvbSBcIi4vdXRpbHMvaGVscGVyL3RleHRcIlxuaW1wb3J0IGtleWRvd25MaXN0ZW4gZnJvbSBcIi4vdXRpbHMvaGVscGVyL2tleWJvYXJkXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgZXhwYW5kOiB0cnVlXG4gIH1cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsaW5lSW5kZXg6IDEsXG4gICAgICBwcmV2aWV3OiBmYWxzZSxcbiAgICAgIGV4cGFuZDogcHJvcHMuZXhwYW5kLFxuICAgICAgc3ViZmllbGQ6IGZhbHNlLFxuICAgICAgaGlzdG9yeTogW10sXG4gICAgICBoaXN0b3J5SW5kZXg6IDAsXG4gICAgICBtb2JpbGU6IGZhbHNlLFxuICAgICAgYWxsb3dQcm9tcHQ6IHRydWUsXG4gICAgICBhcmVZb3VSZWFsbHlTdXJlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMudGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRvci10ZXh0YXJlYVwiKVxuICAgIHRoaXMuYmxvY2tFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibG9ja0VkaXRcIilcbiAgICB0aGlzLnJlSGVpZ2h0KClcbiAgICB0aGlzLmZvY3VzVGV4dCgpXG5cbiAgICB0aGlzLnRleHRhcmVhLnNjcm9sbFRvcCA9IHRoaXMudGV4dGFyZWEuc2Nyb2xsSGVpZ2h0XG4gICAgdGhpcy50ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLnRleHRhcmVhLnZhbHVlLmxlbmd0aCwgdGhpcy50ZXh0YXJlYS52YWx1ZS5sZW5ndGgpXG5cbiAgICAkKFwiI2VkaXRvci10ZXh0YXJlYVwiKS5hdHdobyh7XG4gICAgICBhdDogXCJAXCIsXG4gICAgICBkaXNwbGF5VHBsOiAnPGxpPjxpbWcgc3JjPVwiJHthdmF0YXJ9XCIgYWx0PVwiXCI+JHt1c2VybmFtZX08L2xpPicsXG4gICAgICBpbnNlcnRUcGw6IFwiQCR7dXNlcm5hbWV9XCIsXG4gICAgICBzZWFyY2hLZXk6IFwidXNlcm5hbWVcIixcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICByZW1vdGVGaWx0ZXI6IGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAkLmdldEpTT04obWlzYWdvLmdldChcIk1FTlRJT05fQVBJXCIpLCB7IHE6IHF1ZXJ5IH0sIGNhbGxiYWNrKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgICQoXCIjZWRpdG9yLXRleHRhcmVhXCIpLm9uKFwiaW5zZXJ0ZWQuYXR3aG9cIiwgKGV2ZW50LCBmbGFnLCBxdWVyeSkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShldmVudC50YXJnZXQudmFsdWUpXG4gICAgfSlcblxuICAgIHRoaXMucmVzaXplKClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemUoKVxuICAgIH0pXG4gICAgJCh3aW5kb3cpLm9uKCdiZWZvcmV1bmxvYWQnLCAoZSkgPT4gdGhpcy5fYXJlWW91U3VyZShlKSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbihcInN1Ym1pdFwiLCBcImZvcm1cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhldmVudClcbiAgICAgICQod2luZG93KS5vZmYoJ2JlZm9yZXVubG9hZCcpO1xuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJlUHJvcHMpIHtcbiAgICBjb25zdCB7IGhpc3RvcnlJbmRleCwgaGlzdG9yeSB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgdmFsdWUgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAodmFsdWUgIT09IHByZVByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnJlSGVpZ2h0KClcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSBoaXN0b3J5W2hpc3RvcnlJbmRleF0pIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5jdXJyZW50VGltZW91dClcbiAgICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkodmFsdWUpXG4gICAgICB9LCA1MDApXG4gICAgfVxuICB9XG5cbiAgX2FyZVlvdVN1cmUgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgYXJlWW91UmVhbGx5U3VyZSwgaGlzdG9yeUluZGV4IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc29sZS5sb2coZSlcbiAgICBpZiAoaGlzdG9yeUluZGV4ICE9IDApIHtcbiAgICAgIGlmICghYXJlWW91UmVhbGx5U3VyZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgYXJlWW91UmVhbGx5U3VyZTogdHJ1ZSB9KVxuICAgICAgICByZXR1cm4gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgbGVhdmUgPyBUaGUgY2hhbmdlcyB3aWxsIG5vdCBiZSBzYXZlZC5cIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbktleURvd24gPSAoZSkgPT4ge1xuICAgIGtleWRvd25MaXN0ZW4oZSwgKHR5cGUpID0+IHtcbiAgICAgIHRoaXMubGVmdFRvb2xCYXJDbGljayh0eXBlKVxuICAgIH0pXG4gIH1cblxuICByZXBsYWNlU2VsZWN0aW9uID0gb3BlcmF0aW9uID0+IHtcbiAgICBvcGVyYXRpb24odGV4dFV0aWxzLmdldFNlbGVjdGlvblRleHQoKSwgdGhpcy5fcmVwbGFjZVNlbGVjdGlvbilcbiAgfVxuXG4gIF9yZXBsYWNlU2VsZWN0aW9uID0gbmV3VmFsdWUgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGV4dFV0aWxzLnJlcGxhY2UobmV3VmFsdWUpKVxuICB9XG5cbiAgcmVzaXplID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNzY4cHgpJykubWF0Y2hlcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHByZXZpZXc6IHRydWUsXG4gICAgICAgIHN1YmZpZWxkOiB0cnVlLFxuICAgICAgICBleHBhbmQ6IHRoaXMucHJvcHMuZXhwYW5kXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcHJldmlldzogZmFsc2UsXG4gICAgICAgIHN1YmZpZWxkOiBmYWxzZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIGZvY3VzVGV4dCA9ICgpID0+IHtcbiAgICB0aGlzLnRleHRhcmVhLmZvY3VzKClcbiAgfVxuXG4gIHJlSGVpZ2h0ID0gKCkgPT4ge1xuICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gJydcbiAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodCA9IHRoaXMudGV4dGFyZWEuc2Nyb2xsSGVpZ2h0ICsgJ3B4J1xuICB9XG5cbiAgc2F2ZUhpc3RvcnkgPSAodmFsdWUpID0+IHtcbiAgICBsZXQgeyBoaXN0b3J5LCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBoaXN0b3J5LnNwbGljZShoaXN0b3J5SW5kZXggKyAxLCBoaXN0b3J5Lmxlbmd0aClcbiAgICBpZiAoaGlzdG9yeS5sZW5ndGggPj0gMjApIHtcbiAgICAgIGhpc3Rvcnkuc2hpZnQoKVxuICAgIH1cbiAgICBoaXN0b3J5SW5kZXggPSBoaXN0b3J5Lmxlbmd0aFxuICAgIGhpc3RvcnkucHVzaCh2YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhpc3RvcnksXG4gICAgICBoaXN0b3J5SW5kZXhcbiAgICB9KVxuICB9XG5cbiAgdW5kbyA9ICgpID0+IHtcbiAgICBsZXQgeyBoaXN0b3J5LCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBoaXN0b3J5SW5kZXggPSBoaXN0b3J5SW5kZXggLSAxXG4gICAgaWYgKGhpc3RvcnlJbmRleCA8IDApIHJldHVyblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaGlzdG9yeVtoaXN0b3J5SW5kZXhdKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlzdG9yeUluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlZG8gPSAoKSA9PiB7XG4gICAgbGV0IHsgaGlzdG9yeSwgaGlzdG9yeUluZGV4IH0gPSB0aGlzLnN0YXRlXG4gICAgaGlzdG9yeUluZGV4ID0gaGlzdG9yeUluZGV4ICsgMVxuICAgIGlmIChoaXN0b3J5SW5kZXggPj0gaGlzdG9yeS5sZW5ndGgpIHJldHVyblxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UoaGlzdG9yeVtoaXN0b3J5SW5kZXhdKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlzdG9yeUluZGV4XG4gICAgfSlcbiAgfVxuXG4gIGxlZnRUb29sQmFyQ2xpY2sgPSB0eXBlID0+IHtcbiAgICBjb25zdCB0eXBlT2JqID0ge1xuICAgICAgaDE6IHtcbiAgICAgICAgcHJlZml4OiAnIyAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6IFwiSGVhZGVyIDFcIlxuICAgICAgfSxcbiAgICAgIGgyOiB7XG4gICAgICAgIHByZWZpeDogJyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgMlwiXG4gICAgICB9LFxuICAgICAgaDM6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgM1wiXG4gICAgICB9LFxuICAgICAgaDQ6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjIyAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6IFwiSGVhZGVyIDRcIlxuICAgICAgfSxcbiAgICAgIGg1OiB7XG4gICAgICAgIHByZWZpeDogJyMjIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgNVwiXG4gICAgICB9LFxuICAgICAgaDY6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgNlwiXG4gICAgICB9LFxuICAgICAgcXVvdGU6IHtcbiAgICAgICAgcHJlZml4OiAnW3F1b3RlPSBAJyxcbiAgICAgICAgc3ViZml4OiAnXVxcblsvcXVvdGVdJyxcbiAgICAgICAgc3RyOiBcInVzZXJuYW1lXCJcbiAgICAgIH0sXG4gICAgICBpdGFsaWM6IHtcbiAgICAgICAgcHJlZml4OiAnXycsXG4gICAgICAgIHN1YmZpeDogJ18nLFxuICAgICAgICBzdHI6IFwiaXRhbGljXCJcbiAgICAgIH0sXG4gICAgICBib2xkOiB7XG4gICAgICAgIHByZWZpeDogJyoqJyxcbiAgICAgICAgc3ViZml4OiAnKionLFxuICAgICAgICBzdHI6IFwiYm9sZFwiXG4gICAgICB9LFxuICAgICAgYm9sZGl0YWxpYzoge1xuICAgICAgICBwcmVmaXg6ICcqKionLFxuICAgICAgICBzdWJmaXg6ICcqKionLFxuICAgICAgICBzdHI6IFwiYm9sZCBpdGFsaWNcIlxuICAgICAgfSxcbiAgICAgIGRlbGxpbmU6IHtcbiAgICAgICAgcHJlZml4OiAnfn4nLFxuICAgICAgICBzdWJmaXg6ICd+ficsXG4gICAgICAgIHN0cjogXCJkZWxldGUgbGluZVwiXG4gICAgICB9LFxuICAgICAgdW5kZXJsaW5lOiB7XG4gICAgICAgIHByZWZpeDogJzx1PicsXG4gICAgICAgIHN1YmZpeDogJzwvdT4nLFxuICAgICAgICBzdHI6IFwidW5kZXJsaW5lXCJcbiAgICAgIH0sXG4gICAgICBzdXBlcnNjcmlwdDoge1xuICAgICAgICBwcmVmaXg6ICd4PHN1cD4nLFxuICAgICAgICBzdWJmaXg6ICc8L3N1cD4nLFxuICAgICAgICBzdHI6ICd5J1xuICAgICAgfSxcbiAgICAgIHN1YnNjcmlwdDoge1xuICAgICAgICBwcmVmaXg6ICdhPHN1Yj4nLFxuICAgICAgICBzdWJmaXg6ICc8L3N1Yj4nLFxuICAgICAgICBzdHI6ICcnXG4gICAgICB9LFxuICAgICAgdGFibGU6IHtcbiAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOlxuICAgICAgICAgICd8IHRpdGxlICAgICAgfCBkZXNjcmlwdGlvbiAgICAgfFxcbnwgLS0tLS0tLS0tLSB8IC0tLS0tLS0tLS0tLS0tLSB8XFxufCBmb3ItZWRpdG9yIHwgbWFya2Rvd24gZWRpdG9yIHxcXG4nXG4gICAgICB9LFxuICAgICAgaW1nOiB7XG4gICAgICAgIHByZWZpeDogJyFbYWx0XSgnLFxuICAgICAgICBzdWJmaXg6ICcpJyxcbiAgICAgICAgc3RyOiAndXJsJ1xuICAgICAgfSxcbiAgICAgIGxpbms6IHtcbiAgICAgICAgcHJlZml4OiAnW3RpdGxlXSgnLFxuICAgICAgICBzdWJmaXg6ICcpJyxcbiAgICAgICAgc3RyOiAndXJsJ1xuICAgICAgfSxcbiAgICAgIG9yZGVybGlzdDoge1xuICAgICAgICBwcmVmaXg6ICdcXG4xLiAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6ICdpdGVtJ1xuICAgICAgfSxcbiAgICAgIGRpc29yZGVybGlzdDoge1xuICAgICAgICBwcmVmaXg6ICdcXG4tICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJ2l0ZW0nXG4gICAgICB9LFxuICAgICAgY2hlY2tsaXN0OiB7XG4gICAgICAgIHByZWZpeDogJ1xcbi0gW3hdICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJ2l0ZW0nXG4gICAgICB9LFxuICAgICAgaW5saW5lY29kZToge1xuICAgICAgICBwcmVmaXg6ICdgJyxcbiAgICAgICAgc3ViZml4OiAnYCcsXG4gICAgICAgIHN0cjogXCJpbmxpbmVjb2RlXCJcbiAgICAgIH0sXG4gICAgICBjb2RlOiB7XG4gICAgICAgIHByZWZpeDogJ2BgYCcsXG4gICAgICAgIHN1YmZpeDogJ1xcblxcbmBgYCcsXG4gICAgICAgIHN0cjogJ2xhbmd1YWdlJ1xuICAgICAgfSxcbiAgICAgIHRhYjoge1xuICAgICAgICBwcmVmaXg6ICcgICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogJydcbiAgICAgIH0sXG4gICAgICBzcG9pbGVyOiB7XG4gICAgICAgIHByZWZpeDogXCJbc3BvaWxlcl1cXG5cIixcbiAgICAgICAgc3ViZml4OiBcIlxcblsvc3BvaWxlcl1cIixcbiAgICAgICAgc3RyOiBcIlwiXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVPYmouaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5zZXJ0VGV4dCh0eXBlT2JqW3R5cGVdKVxuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSlcbiAgICB9XG4gICAgY29uc3Qgb3RoZXJMZWZ0Q2xpY2sgPSB7XG4gICAgICB1bmRvOiB0aGlzLnVuZG8sXG4gICAgICByZWRvOiB0aGlzLnJlZG8sXG4gICAgICBlc2M6IHRoaXMuZXhpdEZ1bGxTY3JlZW5cbiAgICB9XG4gICAgaWYgKG90aGVyTGVmdENsaWNrLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICBvdGhlckxlZnRDbGlja1t0eXBlXSgpXG4gICAgfVxuXG4gIH1cblxuICBleGl0RnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGV4cGFuZDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmlnaHRUb29sYmFyQ2xpY2sgPSAodHlwZSkgPT4ge1xuICAgIGNvbnN0IHRvb2xiYXJSaWdodFByZXZpZXdDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcmV2aWV3OiAhdGhpcy5zdGF0ZS5wcmV2aWV3XG4gICAgICB9KVxuICAgIH1cbiAgICBjb25zdCB0b29sYmFyUmlnaHRFeHBhbmRDbGljayA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleHBhbmQ6ICF0aGlzLnN0YXRlLmV4cGFuZFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCB0b29sYmFyUmlnaHRTdWJmaWVsZENsaWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBwcmV2aWV3LCBzdWJmaWVsZCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgIHRoaXMucmVIZWlnaHQoKVxuICAgICAgfVxuICAgICAgaWYgKHByZXZpZXcpIHtcbiAgICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzdWJmaWVsZDogZmFsc2UsXG4gICAgICAgICAgICBwcmV2aWV3OiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzdWJmaWVsZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdWJmaWVsZCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3ViZmllbGQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICBzdWJmaWVsZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmlnaHRDbGljayA9IHtcbiAgICAgIHByZXZpZXc6IHRvb2xiYXJSaWdodFByZXZpZXdDbGljayxcbiAgICAgIGV4cGFuZDogdG9vbGJhclJpZ2h0RXhwYW5kQ2xpY2ssXG4gICAgICBzdWJmaWVsZDogdG9vbGJhclJpZ2h0U3ViZmllbGRDbGlja1xuICAgIH1cbiAgICBpZiAocmlnaHRDbGljay5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgcmlnaHRDbGlja1t0eXBlXSgpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcmV2aWV3LCBleHBhbmQsIHN1YmZpZWxkIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyB2YWx1ZSwgbG9hZGluZywgaGVpZ2h0LCBmb250U2l6ZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgaW5pdCA9IFwiKipib2xkKipcXG5faXRhbGljX1xcbioqKmJvbGQgaXRhbGljKioqXFxufn5kZWxldGUgbGluZX5+XFxuW2xpbmtdKHVybClcXG4hW2ltYWdlIGJ5IGxpbmtdKHVybClcIlxuXG4gICAgY29uc3QgZnVsbHNjcmVlbiA9IGNsYXNzTmFtZXMoe1xuICAgICAgJ2stY29udGFpbmVyJzogdHJ1ZSxcbiAgICAgICdrLWZ1bGxzY3JlZW4nOiBleHBhbmRcbiAgICB9KVxuXG4gICAgY29uc3QgZWRpdG9yQ2xhc3MgPSBjbGFzc05hbWVzKHtcbiAgICAgICdrLWVkaXRvci1lZGl0JzogdHJ1ZSxcbiAgICAgICdrLXBhbmVsJzogdHJ1ZSxcbiAgICAgICdrLWFjdGl2ZSc6IHByZXZpZXcgJiYgc3ViZmllbGQsXG4gICAgICAnay1lZGl0LXByZXZpZXcnOiBwcmV2aWV3ICYmICFzdWJmaWVsZFxuICAgIH0pXG4gICAgY29uc3QgcHJldmlld0NsYXNzID0gY2xhc3NOYW1lcyh7XG4gICAgICAnay1wYW5lbCc6IHRydWUsXG4gICAgICAnay1lZGl0b3ItcHJldmlldyc6IHRydWUsXG4gICAgICAnay1hY3RpdmUnOiBwcmV2aWV3ICYmIHN1YmZpZWxkXG4gICAgfSlcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17ZnVsbHNjcmVlbn0gc3R5bGU9e3sgaGVpZ2h0IH19PlxuICAgICAgICA8VG9vbGJhclxuICAgICAgICAgIGV4cGFuZD17ZXhwYW5kfVxuICAgICAgICAgIHN1YmZpZWxkPXtzdWJmaWVsZH1cbiAgICAgICAgICBwcmV2aWV3PXtwcmV2aWV3fVxuICAgICAgICAgIG9uQ2xpY2tMZWZ0PXt0aGlzLmxlZnRUb29sQmFyQ2xpY2t9XG4gICAgICAgICAgb25DbGlja1JpZ2h0PXt0aGlzLnJpZ2h0VG9vbGJhckNsaWNrfVxuICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1lZGl0b3JcIiBzdHlsZT17eyBmb250U2l6ZSB9fT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2VkaXRvckNsYXNzfVxuICAgICAgICAgICAgaWQ9XCJibG9ja0VkaXRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5mb2N1c1RleHR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLWVkaXRvci1ibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstZWRpdG9yLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8cHJlIGlkPVwidHJ1ZS12YWx1ZVwiPnt2YWx1ZX08L3ByZT5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpbml0fVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImVkaXRvci10ZXh0YXJlYVwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLmhhbmRsZUNoYW5nZShlKX1cbiAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17cHJldmlld0NsYXNzfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgaWQ9XCJrLXByZXZpZXdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXByZXZpZXcgay1tYXJrZG93bi1wcmV2aWV3XCJcbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtYXJrZWQodmFsdWU9PT1cIlwiP2luaXQ6dmFsdWUpIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItZm9vdGVyXCIgc3R5bGU9e3sgb3ZlcmZsb3c6ICdoaWRkZW4nLCBwYWRkaW5nOiAnMTBweCcgfX0+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnN1Ym1pdExhYmVsIHx8IGdldHRleHQoXCJQb3N0XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXggdmlzaWJsZS14cy1ibG9ja1wiIC8+XG4gICAgICAgICAgPFByb3RlY3RcbiAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMucHJvcHMuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMucHJvcHMub25Qcm90ZWN0fVxuICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMucHJvcHMub25VbnByb3RlY3R9XG4gICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnByb3BzLnByb3RlY3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxBdHRhY2htZW50c0VkaXRvclxuICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnByb3BzLmF0dGFjaG1lbnRzfVxuICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5jYW5Qcm90ZWN0KSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMucHJvdGVjdCA/IGdldHRleHQoXCJQcm90ZWN0ZWRcIikgOiBnZXR0ZXh0KFwiUHJvdGVjdFwiKVxuXG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1pY29uIGJ0bi1kZWZhdWx0IGJ0bi1wcm90ZWN0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLnByb3RlY3QgPyBwcm9wcy5vblVucHJvdGVjdCA6IHByb3BzLm9uUHJvdGVjdH1cbiAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3Byb3BzLnByb3RlY3QgPyBcImxvY2tcIiA6IFwibG9ja19vdXRsaW5lXCJ9XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dCBoaWRkZW4tbWQgaGlkZGVuLWxnXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuIiwiZXhwb3J0IGNvbnN0IHRleHRhcmVhSWQgPSBcImVkaXRvci10ZXh0YXJlYVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0YXJlYSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRhcmVhSWQpLnZhbHVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKClcbiAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgIGN0cmwuZm9jdXMoKVxuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKClcbiAgICBjb25zdCBsZW5ndGggPSByYW5nZS50ZXh0Lmxlbmd0aFxuICAgIHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCAtY3RybC52YWx1ZS5sZW5ndGgpXG4gICAgcmV0dXJuIGdldFNlbGVjdGlvblJhbmdlKHJhbmdlLnRleHQubGVuZ3RoIC0gbGVuZ3RoLCByYW5nZS50ZXh0Lmxlbmd0aClcbiAgfSBlbHNlIGlmIChjdHJsLnNlbGVjdGlvblN0YXJ0IHx8IGN0cmwuc2VsZWN0aW9uU3RhcnQgPT0gXCIwXCIpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UoY3RybC5zZWxlY3Rpb25TdGFydCwgY3RybC5zZWxlY3Rpb25FbmQpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblRleHQoKSB7XG4gIGNvbnN0IHJhbmdlID0gZ2V0U2VsZWN0aW9uKClcbiAgcmV0dXJuICQudHJpbShnZXRWYWx1ZSgpLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGlvbihzZWxlY3Rpb25SYW5nZSkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKVxuICBpZiAoY3RybC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgIGN0cmwuZm9jdXMoKVxuICAgIGN0cmwuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uUmFuZ2Uuc3RhcnQsIHNlbGVjdGlvblJhbmdlLmVuZClcbiAgfSBlbHNlIGlmIChjdHJsLmNyZWF0ZVRleHRSYW5nZSkge1xuICAgIGNvbnN0IHJhbmdlID0gY3RybC5jcmVhdGVUZXh0UmFuZ2UoKVxuICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpXG4gICAgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIHNlbGVjdGlvblJhbmdlLnN0YXJ0KVxuICAgIHJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgc2VsZWN0aW9uUmFuZ2UuZW5kKVxuICAgIHJhbmdlLnNlbGVjdCgpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZXBsYWNlKG15UmFuZ2UsIHJlcGxhY2VtZW50KSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpXG4gIGNvbnN0IHRleHQgPSBjdHJsLnZhbHVlXG4gIGNvbnN0IHN0YXJ0VGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpXG4gIGN0cmwudmFsdWUgPVxuICAgIHRleHQuc3Vic3RyaW5nKDAsIG15UmFuZ2Uuc3RhcnQpICsgcmVwbGFjZW1lbnQgKyB0ZXh0LnN1YnN0cmluZyhteVJhbmdlLmVuZClcbiAgc2V0U2VsZWN0aW9uKFxuICAgIGdldFNlbGVjdGlvblJhbmdlKFxuICAgICAgc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCxcbiAgICAgIHN0YXJ0VGV4dC5sZW5ndGggKyByZXBsYWNlbWVudC5sZW5ndGhcbiAgICApXG4gIClcbiAgcmV0dXJuIGN0cmwudmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UocmVwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIF9yZXBsYWNlKGdldFNlbGVjdGlvbigpLCByZXBsYWNlbWVudClcbn1cbiIsImNvbnN0IEtFWV9DT0RFID0ge1xuICAgIEVTQzogMjcsXG4gICAgRjg6IDExOSxcbiAgICBGOTogMTIwLFxuICAgIEYxMDogMTIxLFxuICAgIEYxMTogMTIyLFxuICAgIEYxMjogMTIzLFxuICAgIEI6IDY2LFxuICAgIEk6IDczLFxuICAgIEg6IDcyLFxuICAgIFU6IDg1LFxuICAgIEQ6IDY4LFxuICAgIE06IDc3LFxuICAgIFE6IDgxLFxuICAgIE86IDc5LFxuICAgIEw6IDc2LFxuICAgIFM6IDgzLFxuICAgIFo6IDkwLFxuICAgIFk6IDg5LFxuICAgIEM6IDY3LFxuICAgIFQ6IDg0LFxuICAgIFI6IDgyLFxuICAgIERFTEVURTogOCxcbiAgICBUQUI6IDksXG4gICAgRU5URVI6IDEzLFxuICAgIE9ORTogOTcsXG4gICAgVFdPOiA5OCxcbiAgICBUSFJFRTogOTksXG4gICAgRk9VUjogMTAwLFxuICAgIEZJVkU6IDEwMSxcbiAgICBTSVg6IDEwMixcbiAgICBfT05FOiA0OSxcbiAgICBfVFdPOiA1MCxcbiAgICBfVEhSRUU6IDUxLFxuICAgIF9GT1VSOiA1MixcbiAgICBfRklWRTogNTMsXG4gICAgX1NJWDogNTRcbiAgfVxuICBcbiAgZXhwb3J0IGRlZmF1bHQgKGUsIGZ1bmMpID0+IHtcbiAgICAgIGlmICghKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmICFlLmFsdEtleSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgIGNhc2UgS0VZX0NPREUuVEFCOiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ3RhYicpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEtFWV9DT0RFLkVTQzoge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBmdW5jKCdlc2MnKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAhZS5hbHRLZXkgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgLy8gY3RybCArXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSBLRVlfQ09ERS5aOiB7XG4gICAgICAgICAgICAvLyBaXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ3VuZG8nKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBLRVlfQ09ERS5ZOiB7XG4gICAgICAgICAgICAvLyBZXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ3JlZG8nKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBLRVlfQ09ERS5COiB7XG4gICAgICAgICAgICAvLyBaXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ2JvbGQnKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBLRVlfQ09ERS5JOiB7XG4gICAgICAgICAgICAvLyBZXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGZ1bmMoJ2l0YWxpYycpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBjYXNlIEtFWV9DT0RFLlU6IHtcbiAgICAgICAgICAvLyAgIC8vIFlcbiAgICAgICAgICAvLyAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIC8vICAgZnVuYygndW5kZXJsaW5lJylcbiAgICAgICAgICAvLyAgIGJyZWFrXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gICIsImZ1bmN0aW9uIGluc2VydFRleHQocGFyYW1zKSB7XG4gICAgY29uc3QgJHZtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3ItdGV4dGFyZWFcIilcbiAgICBjb25zdCB7IHByZWZpeCwgc3RyID0gJycsIHN1YmZpeCA9ICcnIH0gPSBwYXJhbXNcbiAgICBjb25zdCB2YWx1ZSA9ICR2bS52YWx1ZVxuICAgIGlmICgkdm0uc2VsZWN0aW9uU3RhcnQgfHwgJHZtLnNlbGVjdGlvblN0YXJ0ID09PSAwKSB7XG4gICAgICBjb25zdCBzdGFydCA9ICR2bS5zZWxlY3Rpb25TdGFydFxuICAgICAgY29uc3QgZW5kID0gJHZtLnNlbGVjdGlvbkVuZFxuICBcbiAgICAgIGNvbnN0IHJlc3RvcmVUb3AgPSAkdm0uc2Nyb2xsVG9wXG4gIFxuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgJHZtLnZhbHVlID1cbiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoMCwgc3RhcnQpICtcbiAgICAgICAgICBwcmVmaXggK1xuICAgICAgICAgIHN0ciArXG4gICAgICAgICAgc3ViZml4ICtcbiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoZW5kLCB2YWx1ZS5sZW5ndGgpXG4gICAgICAgICR2bS5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0ICsgcHJlZml4Lmxlbmd0aFxuICAgICAgICAkdm0uc2VsZWN0aW9uRW5kID0gZW5kICsgcHJlZml4Lmxlbmd0aCArIHN0ci5sZW5ndGhcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR2bS52YWx1ZSA9XG4gICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0KSArXG4gICAgICAgICAgcHJlZml4ICtcbiAgICAgICAgICB2YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgK1xuICAgICAgICAgIHN1YmZpeCArXG4gICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKGVuZCwgdmFsdWUubGVuZ3RoKVxuICAgICAgICAkdm0uc2VsZWN0aW9uU3RhcnQgPSBzdGFydCArIHByZWZpeC5sZW5ndGhcbiAgICAgICAgJHZtLnNlbGVjdGlvbkVuZCA9IGVuZCArIHByZWZpeC5sZW5ndGhcbiAgICAgIH1cbiAgXG4gICAgICAkdm0uZm9jdXMoKVxuICAgICAgaWYgKHJlc3RvcmVUb3AgPj0gMCkge1xuICAgICAgICAkdm0uc2Nyb2xsVG9wID0gcmVzdG9yZVRvcFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJHZtLnZhbHVlXG4gIH1cbiAgXG4gIGV4cG9ydCB7XG4gICAgaW5zZXJ0VGV4dFxuICB9XG4gICIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzVmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWxpZGF0aW9uICE9PSBcInVuZGVmaW5lZFwiXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiZm9ybS1ncm91cFwiXG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGhhcy1mZWVkYmFja1wiXG4gICAgICBpZiAodGhpcy5wcm9wcy52YWxpZGF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSArPSBcIiBoYXMtc3VjY2Vzc1wiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc05hbWUgKz0gXCIgaGFzLWVycm9yXCJcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZVxuICB9XG5cbiAgZ2V0RmVlZGJhY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGVycm9yc1wiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24ubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxwIGtleT17dGhpcy5wcm9wcy5mb3IgKyBcIkZlZWRiYWNrSXRlbVwiICsgaX0+e2Vycm9yfTwvcD5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBpZD17dGhpcy5wcm9wcy5mb3IgKyBcIl9zdGF0dXNcIn0gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyBnZXR0ZXh0KFwiKGVycm9yKVwiKSA6IGdldHRleHQoXCIoc3VjY2VzcylcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxsYWJlbFxuICAgICAgICAgIGNsYXNzTmFtZT17XCJjb250cm9sLWxhYmVsIFwiICsgKHRoaXMucHJvcHMubGFiZWxDbGFzcyB8fCBcIlwiKX1cbiAgICAgICAgICBodG1sRm9yPXt0aGlzLnByb3BzLmZvciB8fCBcIlwifVxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMucHJvcHMubGFiZWwgKyBcIjpcIn1cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29udHJvbENsYXNzIHx8IFwiXCJ9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgIHt0aGlzLmdldEZlZWRiYWNrRGVzY3JpcHRpb24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRGZWVkYmFjaygpfVxuICAgICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAge3RoaXMucHJvcHMuZXh0cmEgfHwgbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5sZXQgdmFsaWRhdGVSZXF1aXJlZCA9IHJlcXVpcmVkKClcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICB2YWxpZGF0ZSgpIHtcbiAgICBsZXQgZXJyb3JzID0ge31cbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9yc1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3JzID0ge1xuICAgICAgcmVxdWlyZWQ6IHRoaXMuc3RhdGUudmFsaWRhdG9ycy5yZXF1aXJlZCB8fCB0aGlzLnN0YXRlLnZhbGlkYXRvcnMsXG4gICAgICBvcHRpb25hbDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLm9wdGlvbmFsIHx8IHt9XG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRlZEZpZWxkcyA9IFtdXG5cbiAgICAvLyBhZGQgcmVxdWlyZWQgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkW25hbWVdXG4gICAgICApIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgb3B0aW9uYWwgZmllbGRzIHRvIHZhbGlkYXRpb25cbiAgICBmb3IgKGxldCBuYW1lIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsaWRhdG9ycy5vcHRpb25hbC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICB2YWxpZGF0b3JzLm9wdGlvbmFsW25hbWVdXG4gICAgICApIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSBmaWVsZHMgdmFsdWVzXG4gICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0ZWRGaWVsZHMpIHtcbiAgICAgIGxldCBuYW1lID0gdmFsaWRhdGVkRmllbGRzW2ldXG4gICAgICBsZXQgZmllbGRFcnJvcnMgPSB0aGlzLnZhbGlkYXRlRmllbGQobmFtZSwgdGhpcy5zdGF0ZVtuYW1lXSlcblxuICAgICAgaWYgKGZpZWxkRXJyb3JzID09PSBudWxsKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IG51bGxcbiAgICAgIH0gZWxzZSBpZiAoZmllbGRFcnJvcnMpIHtcbiAgICAgICAgZXJyb3JzW25hbWVdID0gZmllbGRFcnJvcnNcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JzXG4gIH1cblxuICBpc1ZhbGlkKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBmb3IgKGxldCBmaWVsZCBpbiBlcnJvcnMpIHtcbiAgICAgIGlmIChlcnJvcnMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgIGlmIChlcnJvcnNbZmllbGRdICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdmFsaWRhdGVGaWVsZChuYW1lLCB2YWx1ZSkge1xuICAgIGxldCBlcnJvcnMgPSBbXVxuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzXG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5yZXF1aXJlZCB8fCB0aGlzLnN0YXRlLnZhbGlkYXRvcnMpW25hbWVdLFxuICAgICAgb3B0aW9uYWw6ICh0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge30pW25hbWVdXG4gICAgfVxuXG4gICAgbGV0IHJlcXVpcmVkRXJyb3IgPSB2YWxpZGF0ZVJlcXVpcmVkKHZhbHVlKSB8fCBmYWxzZVxuXG4gICAgaWYgKHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgIGlmIChyZXF1aXJlZEVycm9yKSB7XG4gICAgICAgIGVycm9ycyA9IFtyZXF1aXJlZEVycm9yXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICAgICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRvcnMucmVxdWlyZWRbaV0odmFsdWUpXG4gICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGxcbiAgICB9IGVsc2UgaWYgKHJlcXVpcmVkRXJyb3IgPT09IGZhbHNlICYmIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5vcHRpb25hbFtpXSh2YWx1ZSlcbiAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRpb25FcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2UgLy8gZmFsc2UgPT09IGZpZWxkIHdhc24ndCB2YWxpZGF0ZWRcbiAgfVxuXG4gIGJpbmRJbnB1dCA9IG5hbWUgPT4ge1xuICAgIHJldHVybiBldmVudCA9PiB7XG4gICAgICB0aGlzLmNoYW5nZVZhbHVlKG5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VWYWx1ZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBuZXdTdGF0ZSA9IHtcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtRXJyb3JzID0gdGhpcy5zdGF0ZS5lcnJvcnMgfHwge31cbiAgICBmb3JtRXJyb3JzW25hbWVdID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIG5ld1N0YXRlW25hbWVdKVxuICAgIG5ld1N0YXRlLmVycm9ycyA9IGZvcm1FcnJvcnNcblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSBldmVudCA9PiB7XG4gICAgLy8gd2UgZG9uJ3QgcmVsb2FkIHBhZ2Ugb24gc3VibWlzc2lvbnNcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmNsZWFuKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5zZW5kKClcblxuICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKFxuICAgICAgICAgIHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU3VjY2VzcyhzdWNjZXNzKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc0FjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0NvbnRyb2xsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmlzQWN0aXZlXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YodGhpcy5wcm9wcy5wYXRoKSA9PT0gMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICh0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwiKSArXG4gICAgICAgIFwiIFwiICtcbiAgICAgICAgKHRoaXMucHJvcHMuYWN0aXZlQ2xhc3NOYW1lIHx8IFwiYWN0aXZlXCIpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2xpPlxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibG9hZGVyXCJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXItc3Bpbm5pbmctd2hlZWxcIiAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4vYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwiLi9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgYmVzdEFuc3dlcjogXCIwXCIsXG4gICAgICBwb2xsOiBcIjBcIlxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvbGxzICYmIHRoaXMuc3RhdGUucG9sbCA9PT0gXCIwXCIpIHtcbiAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIGFsbCBwb2xscz9cIilcbiAgICAgIClcbiAgICAgIHJldHVybiBjb25maXJtYXRpb25cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5kYXRhLCB7XG4gICAgICBiZXN0X2Fuc3dlcjogdGhpcy5zdGF0ZS5iZXN0QW5zd2VyLFxuICAgICAgcG9sbDogdGhpcy5zdGF0ZS5wb2xsXG4gICAgfSlcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5hcGksIGRhdGEpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gc3VjY2VzcyA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblN1Y2Nlc3Moc3VjY2VzcylcbiAgICBtb2RhbC5oaWRlKClcbiAgfVxuXG4gIGhhbmRsZUVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRXJyb3IocmVqZWN0aW9uKVxuICB9XG5cbiAgb25CZXN0QW5zd2VyQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJiZXN0QW5zd2VyXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uUG9sbENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9sbFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxCZXN0QW5zd2VyU2VsZWN0XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcm9wcy5iZXN0QW5zd2Vyc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkJlc3RBbnN3ZXJDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYmVzdEFuc3dlcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFBvbGxTZWxlY3RcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByb3BzLnBvbGxzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9sbENoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb2xsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZXN0QW5zd2VyU2VsZWN0KHsgY2hvaWNlcywgb25DaGFuZ2UsIHZhbHVlIH0pIHtcbiAgaWYgKCFjaG9pY2VzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPEZvcm1Hcm91cFxuICAgICAgbGFiZWw9e2dldHRleHQoXCJCZXN0IGFuc3dlclwiKX1cbiAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICBcIlBsZWFzZSBzZWxlY3QgdGhlIGJlc3QgYW5zd2VyIGZvciB5b3VyIG5ld2x5IG1lcmdlZCB0aHJlYWQuIE5vIHBvc3RzIHdpbGwgYmUgZGVsZXRlZCBkdXJpbmcgdGhlIG1lcmdlLlwiXG4gICAgICApfVxuICAgICAgZm9yPVwiaWRfYmVzdF9hbnN3ZXJcIlxuICAgID5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgaWQ9XCJpZF9iZXN0X2Fuc3dlclwiXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgPlxuICAgICAgICB7Y2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y2hvaWNlWzBdfSBrZXk9e2Nob2ljZVswXX0+XG4gICAgICAgICAgICAgIHtjaG9pY2VbMV19XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9zZWxlY3Q+XG4gICAgPC9Gb3JtR3JvdXA+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxTZWxlY3QoeyBjaG9pY2VzLCBvbkNoYW5nZSwgdmFsdWUgfSkge1xuICBpZiAoIWNob2ljZXMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUdyb3VwXG4gICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGxcIil9XG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgXCJQbGVhc2Ugc2VsZWN0IHRoZSBwb2xsIGZvciB5b3VyIG5ld2x5IG1lcmdlZCB0aHJlYWQuIFJlamVjdGVkIHBvbGxzIHdpbGwgYmUgcGVybWFuZW50bHkgZGVsZXRlZCBhbmQgY2Fubm90IGJlIHJlY292ZXJlZC5cIlxuICAgICAgKX1cbiAgICAgIGZvcj1cImlkX3BvbGxcIlxuICAgID5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgaWQ9XCJpZF9wb2xsXCJcbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICA+XG4gICAgICAgIHtjaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtjaG9pY2VbMF19IGtleT17Y2hvaWNlWzBdfT5cbiAgICAgICAgICAgICAge2Nob2ljZVsxXX1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L0Zvcm1Hcm91cD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgb25lYm94IGZyb20gXCJtaXNhZ28vc2VydmljZXMvb25lLWJveFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgb25lYm94LnJlbmRlcih0aGlzLmRvY3VtZW50Tm9kZSlcbiAgICAkKHRoaXMuZG9jdW1lbnROb2RlKS5maW5kKFwiLnNwb2lsZXItcmV2ZWFsXCIpLmNsaWNrKHJldmVhbFNwb2lsZXIpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBvbmVib3gucmVuZGVyKHRoaXMuZG9jdW1lbnROb2RlKVxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLmZpbmQoXCIuc3BvaWxlci1yZXZlYWxcIikuY2xpY2socmV2ZWFsU3BvaWxlcilcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiBuZXh0UHJvcHMubWFya3VwICE9PSB0aGlzLnByb3BzLm1hcmt1cFxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YXJ0aWNsZVxuICAgICAgICBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiB0aGlzLnByb3BzLm1hcmt1cCB9fVxuICAgICAgICByZWY9e25vZGUgPT4ge1xuICAgICAgICAgIHRoaXMuZG9jdW1lbnROb2RlID0gbm9kZVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gcmV2ZWFsU3BvaWxlcihldmVudCkge1xuICB2YXIgYnRuID0gZXZlbnQudGFyZ2V0XG4gICQoYnRuKS5wYXJlbnQoKS5wYXJlbnQoKS5hZGRDbGFzcyhcInJldmVhbGVkXCIpXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWxvYWRlclwiPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUGFuZWxNZXNzYWdlIHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+e3RoaXMucHJvcHMuaGVscFRleHR9PC9wPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCBcImluZm9fb3V0bGluZVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJjb25zdCBNQVhfUkVTVUxUUyA9IDVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZGF0YSkge1xuICBjb25zdCBmaWx0ZXJlZCA9IGRhdGEuZmlsdGVyKHNlY3Rpb24gPT4ge1xuICAgIHJldHVybiBzZWN0aW9uLnJlc3VsdHMuY291bnQgPiAwXG4gIH0pXG5cbiAgcmV0dXJuIGZpbHRlcmVkLm1hcChzZWN0aW9uID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgY291bnQ6IHNlY3Rpb24ucmVzdWx0cy5jb3VudCxcbiAgICAgIHJlc3VsdHM6IHNlY3Rpb24ucmVzdWx0cy5yZXN1bHRzLnNsaWNlKDAsIE1BWF9SRVNVTFRTKVxuICAgIH0pXG4gIH0pXG59XG4iLCJleHBvcnQgY29uc3QgSEVBREVSID0gXCJIRUFERVJcIlxuZXhwb3J0IGNvbnN0IFJFU1VMVCA9IFwiUkVTVUxUXCJcbmV4cG9ydCBjb25zdCBGT09URVIgPSBcIkZPT1RFUlwiXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBJbnB1dCBmcm9tIFwiLi9pbnB1dFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2hpbGRyZW4sIG9uQ2hhbmdlLCBxdWVyeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tc2VhcmNoLXJlc3VsdHNcIiByb2xlPVwibWVudVwiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPElucHV0IHZhbHVlPXtxdWVyeX0gb25DaGFuZ2U9e29uQ2hhbmdlfSAvPlxuICAgICAgPC9saT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1tZXNzYWdlXCI+XG4gICAgICB7Z2V0dGV4dChcIlNlYXJjaCByZXR1cm5lZCBubyByZXN1bHRzLlwiKX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgeyBIRUFERVIsIFJFU1VMVCwgRk9PVEVSIH0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocmVzdWx0cykge1xuICBjb25zdCBmbGF0bGlzdCA9IFtdXG4gIGZsYXR0ZW5Qcm92aWRlcnMocmVzdWx0cywgZmxhdGxpc3QpXG4gIHJldHVybiBmbGF0bGlzdFxufVxuXG5mdW5jdGlvbiBmbGF0dGVuUHJvdmlkZXJzKHJlc3VsdHMsIGZsYXRsaXN0KSB7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gcmVzdWx0cy5sZW5ndGhcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSByZXN1bHRzW2ldXG5cbiAgICBmbGF0bGlzdC5wdXNoKHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgdHlwZTogSEVBREVSXG4gICAgfSlcblxuICAgIGZsYXR0ZW5Qcm92aWRlcihwcm92aWRlciwgZmxhdGxpc3QpXG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdHRlblByb3ZpZGVyKHByb3ZpZGVyLCBmbGF0bGlzdCkge1xuICBjb25zdCBhcnJheUxlbmd0aCA9IHByb3ZpZGVyLnJlc3VsdHMubGVuZ3RoXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHByb3ZpZGVyLnJlc3VsdHNbaV1cbiAgICBmbGF0bGlzdC5wdXNoKHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgcmVzdWx0LFxuICAgICAgdHlwZTogUkVTVUxUXG4gICAgfSlcbiAgfVxuXG4gIGZsYXRsaXN0LnB1c2goe1xuICAgIHByb3ZpZGVyLFxuICAgIHR5cGU6IEZPT1RFUlxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBSRVNVTFQgfSBmcm9tIFwiLi9jb25zdGFudHNcIlxuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tIFwiLi9kcm9wZG93bi1tZW51XCJcbmltcG9ydCBFbXB0eSBmcm9tIFwiLi9lbXB0eVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL2xvYWRlclwiXG5pbXBvcnQgUmVzdWx0IGZyb20gXCIuL3Jlc3VsdFwiXG5pbXBvcnQgZmxhdHRlblJlc3VsdHMgZnJvbSBcIi4vZmxhdHRlbi1yZXN1bHRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBpc0xvYWRpbmcsIG9uQ2hhbmdlLCByZXN1bHRzLCBxdWVyeSB9KSB7XG4gIGlmICghcXVlcnkudHJpbSgpLmxlbmd0aCkge1xuICAgIHJldHVybiA8RHJvcGRvd25NZW51IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcXVlcnk9e3F1ZXJ5fSAvPlxuICB9XG5cbiAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgY29uc3QgZmxhdFJlc3VsdHMgPSBmbGF0dGVuUmVzdWx0cyhyZXN1bHRzKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9PlxuICAgICAgICB7ZmxhdFJlc3VsdHMubWFwKHByb3BzID0+IHtcbiAgICAgICAgICBjb25zdCB7IHR5cGUsIHByb3ZpZGVyLCByZXN1bHQgfSA9IHByb3BzXG5cbiAgICAgICAgICBpZiAodHlwZSA9PT0gUkVTVUxUKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8UmVzdWx0XG4gICAgICAgICAgICAgICAga2V5PXtbcHJvdmlkZXIuaWQsIHR5cGUsIHJlc3VsdC5pZF0uam9pbihcIl9cIil9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVzdWx0XG4gICAgICAgICAgICAgIGtleT17W3Byb3ZpZGVyLmlkLCB0eXBlXS5qb2luKFwiX1wiKX1cbiAgICAgICAgICAgICAgcXVlcnk9e3F1ZXJ5fVxuICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICApXG4gIH0gZWxzZSBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9PlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9PlxuICAgICAgPEVtcHR5IC8+XG4gICAgPC9Ecm9wZG93bk1lbnU+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHZhbHVlLCBvbkNoYW5nZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGlucHV0XG4gICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tc2VhcmNoLXJlc3VsdHNcIlxuICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaFwiKX1cbiAgICAgIHJvbGU9XCJjb21ib2JveFwiXG4gICAgICB0eXBlPVwidGV4dFwiXG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IG1lc3NhZ2UgfSkge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIsIHF1ZXJ5IH0pIHtcbiAgY29uc3QgdXJsID0gcHJvdmlkZXIudXJsICsgXCI/cT1cIiArIGVuY29kZVVSSShxdWVyeSlcbiAgY29uc3QgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAnU2VlIGZ1bGwgXCIlKHByb3ZpZGVyKXNcIiByZXN1bHRzIHBhZ2Ugd2l0aCAlKGNvdW50KXMgcmVzdWx0LicsXG4gICAgJ1NlZSBmdWxsIFwiJShwcm92aWRlcilzXCIgcmVzdWx0cyBwYWdlIHdpdGggJShjb3VudClzIHJlc3VsdHMuJyxcbiAgICBwcm92aWRlci5jb3VudFxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLWZvb3RlclwiPlxuICAgICAgPGEgaHJlZj17dXJsfT5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvdW50OiBwcm92aWRlci5jb3VudCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5uYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICl9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIgfSkge1xuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1oZWFkZXJcIj57cHJvdmlkZXIubmFtZX08L2xpPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBIRUFERVIsIEZPT1RFUiB9IGZyb20gXCIuLi9jb25zdGFudHNcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi9mb290ZXJcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFJlc3VsdCBmcm9tIFwiLi9yZXN1bHRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCByZXN1bHQsIHR5cGUsIHF1ZXJ5IH0pIHtcbiAgaWYgKHR5cGUgPT09IEhFQURFUikge1xuICAgIHJldHVybiA8SGVhZGVyIHByb3ZpZGVyPXtwcm92aWRlcn0gLz5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBGT09URVIpIHtcbiAgICByZXR1cm4gPEZvb3RlciBwcm92aWRlcj17cHJvdmlkZXJ9IHF1ZXJ5PXtxdWVyeX0gLz5cbiAgfVxuXG4gIHJldHVybiA8UmVzdWx0IHByb3ZpZGVyPXtwcm92aWRlcn0gcmVzdWx0PXtyZXN1bHR9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBUaHJlYWQgZnJvbSBcIi4vdGhyZWFkXCJcbmltcG9ydCBVc2VyIGZyb20gXCIuL3VzZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCByZXN1bHQgfSkge1xuICBpZiAocHJvdmlkZXIuaWQgPT09IFwidGhyZWFkc1wiKSB7XG4gICAgcmV0dXJuIDxUaHJlYWQgcmVzdWx0PXtyZXN1bHR9IC8+XG4gIH1cblxuICByZXR1cm4gPFVzZXIgcmVzdWx0PXtyZXN1bHR9IC8+XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmVzdWx0IH0pIHtcbiAgY29uc3QgeyBwb3N0ZXIsIHRocmVhZCB9ID0gcmVzdWx0XG4gIGNvbnN0IGZvb3RlciA9IGdldHRleHQoXG4gICAgXCJQb3N0ZWQgYnkgJShwb3N0ZXIpcyBvbiAlKHBvc3RlZF9vbilzIGluICUoY2F0ZWdvcnkpcy5cIlxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtyZXN1bHQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtdGhyZWFkXCI+XG4gICAgICAgIDxoNT57dGhyZWFkLnRpdGxlfTwvaDU+XG4gICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtcG9zdC1jb250ZW50XCI+XG4gICAgICAgICAgeyQocmVzdWx0LmNvbnRlbnQpLnRleHQoKX1cbiAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1wb3N0LWZvb3RlclwiPlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIGZvb3RlcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IHJlc3VsdC5jYXRlZ29yeS5uYW1lLFxuICAgICAgICAgICAgICBwb3N0ZWRfb246IG1vbWVudChyZXN1bHQucG9zdGVkX29uKS5mb3JtYXQoXCJMTFwiKSxcbiAgICAgICAgICAgICAgcG9zdGVyOiByZXN1bHQucG9zdGVyX25hbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zbWFsbD5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJlc3VsdCB9KSB7XG4gIGNvbnN0IHsgcmFuayB9ID0gcmVzdWx0XG5cbiAgY29uc3QgZGV0YWlsID0gZ2V0dGV4dChcIiUodGl0bGUpcywgam9pbmVkIG9uICUoam9pbmVkX29uKXNcIilcbiAgY29uc3QgdGl0bGUgPSByZXN1bHQudGl0bGUgfHwgcmFuay50aXRsZSB8fCByYW5rLm5hbWVcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Jlc3VsdC51cmx9IGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC11c2VyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT17Mzh9IHVzZXI9e3Jlc3VsdH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+e3Jlc3VsdC51c2VybmFtZX08L2g1PlxuICAgICAgICAgICAgPHNtYWxsPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgZGV0YWlsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgICAgam9pbmVkX29uOiBtb21lbnQocmVzdWx0LmpvaW5lZF9vbikuZm9ybWF0KFwiTExcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgY2xlYW5SZXN1bHRzIGZyb20gXCIuL2NsZWFuLXJlc3VsdHNcIlxuaW1wb3J0IERyb3Bkb3duIGZyb20gXCIuL2Ryb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzT3BlbjogZmFsc2UsXG4gICAgICBxdWVyeTogXCJcIixcbiAgICAgIHJlc3VsdHM6IFtdXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbFxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24pXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbkVzY2FwZSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbkRvY3VtZW50TW91c2VEb3duKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25Fc2NhcGUpXG4gIH1cblxuICBvblRvZ2dsZSA9IGV2ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAoIXByZXZTdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5mb2N1cygpXG4gICAgICAgIH0sIDEwMClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgaXNPcGVuOiAhcHJldlN0YXRlLmlzT3BlbiB9XG4gICAgfSlcbiAgfVxuXG4gIG9uRG9jdW1lbnRNb3VzZURvd24gPSBldiA9PiB7XG4gICAgbGV0IGNsb3NlUmVzdWx0cyA9IHRydWVcbiAgICBsZXQgbm9kZSA9IGV2LnRhcmdldFxuXG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwgJiYgbm9kZSAhPT0gZG9jdW1lbnQpIHtcbiAgICAgIGlmIChub2RlID09PSB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICBjbG9zZVJlc3VsdHMgPSBmYWxzZVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgIH1cblxuICAgIGlmIChjbG9zZVJlc3VsdHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IGZhbHNlIH0pXG4gICAgfVxuICB9XG5cbiAgb25Fc2NhcGUgPSBldiA9PiB7XG4gICAgaWYgKGV2LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSlcbiAgICB9XG4gIH1cblxuICBvbkNoYW5nZSA9IGV2ID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGV2LnRhcmdldC52YWx1ZVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHF1ZXJ5IH0pXG4gICAgdGhpcy5sb2FkUmVzdWx0cyhxdWVyeS50cmltKCkpXG4gIH1cblxuICBsb2FkUmVzdWx0cyhxdWVyeSkge1xuICAgIGlmICghcXVlcnkubGVuZ3RoKSByZXR1cm5cblxuICAgIGNvbnN0IGRlbGF5ID0gMzAwICsgTWF0aC5yYW5kb20oKSAqIDMwMFxuXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuXG4gICAgdGhpcy5pbnRlcnZhbElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYWpheC5nZXQobWlzYWdvLmdldChcIlNFQVJDSF9BUElcIiksIHsgcTogcXVlcnkgfSkudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3VsdHM6IGNsZWFuUmVzdWx0cyhkYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sIGRlbGF5KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcIm5hdmJhci1zZWFyY2ggZHJvcGRvd25cIlxuICAgIGlmICh0aGlzLnN0YXRlLmlzT3BlbikgY2xhc3NOYW1lICs9IFwiIG9wZW5cIlxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgIHJlZj17Y29udGFpbmVyID0+ICh0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcil9XG4gICAgICA+XG4gICAgICAgIDxhXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwibmF2YmFyLWljb25cIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJTRUFSQ0hfVVJMXCIpfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25Ub2dnbGV9XG4gICAgICAgID5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2VhcmNoPC9pPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxEcm9wZG93blxuICAgICAgICAgIGlzTG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5yZXN1bHRzfVxuICAgICAgICAgIHF1ZXJ5PXt0aGlzLnN0YXRlLnF1ZXJ5fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYW5lbExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8UGFuZWxMb2FkZXIgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm5leHRfb24pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIllvdSB3aWxsIGJlIGFibGUgdG8gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShuZXh0X2NoYW5nZSlzLlwiKSxcbiAgICAgICAgeyBuZXh0X2NoYW5nZTogdGhpcy5wcm9wcy5vcHRpb25zLm5leHRfb24uZnJvbU5vdygpIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSB1c2VkIHVwIGF2YWlsYWJsZSBuYW1lIGNoYW5nZXMuXCIpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFBhbmVsTWVzc2FnZVxuICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgICAgbWVzc2FnZT17Z2V0dGV4dChcIllvdSBjYW4ndCBjaGFuZ2UgeW91ciB1c2VybmFtZSBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHVzZXJuYW1lOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKHByb3BzLm9wdGlvbnMubGVuZ3RoX21pbiksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aChwcm9wcy5vcHRpb25zLmxlbmd0aF9tYXgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBsZXQgcGhyYXNlcyA9IFtdXG5cbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdCA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZS5cIixcbiAgICAgICAgXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUoY2hhbmdlc19sZWZ0KXMgbW9yZSB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdFxuICAgICAgKVxuXG4gICAgICBwaHJhc2VzLnB1c2goXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2hhbmdlc19sZWZ0OiB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlID4gMCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJVc2VkIGNoYW5nZXMgYmVjb21lIGF2YWlsYWJsZSBhZ2FpbiBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXkuXCIsXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIGJlY29tZSBhdmFpbGFibGUgYWdhaW4gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlXG4gICAgICApXG5cbiAgICAgIHBocmFzZXMucHVzaChcbiAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lX2NoYW5nZXNfZXhwaXJlOiB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBwaHJhc2VzLmxlbmd0aCA/IHBocmFzZXMuam9pbihcIiBcIikgOiBudWxsXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgaWYgKGVycm9ycy51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnVzZXJuYW1lWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKSA9PT0gdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIG5ldyB1c2VybmFtZSBpcyBzYW1lIGFzIGN1cnJlbnQgb25lLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLnVzZXJuYW1lLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiBcIlwiXG4gICAgfSlcblxuICAgIHRoaXMucHJvcHMuY29tcGxldGUoc3VjY2Vzcy51c2VybmFtZSwgc3VjY2Vzcy5zbHVnLCBzdWNjZXNzLm9wdGlvbnMpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIk5ldyB1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybUxvYWRpbmcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZ1wiXG5pbXBvcnQgRm9ybUxvY2tlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2NrZWRcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm1cIlxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlLCBhZGROYW1lQ2hhbmdlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpb25zOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG5cbiAgICBQcm9taXNlLmFsbChbXG4gICAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLnVzZXJuYW1lKSxcbiAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJVU0VSTkFNRV9DSEFOR0VTX0FQSVwiKSwgeyB1c2VyOiB0aGlzLnByb3BzLnVzZXIuaWQgfSlcbiAgICBdKS50aGVuKGRhdGEgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhWzFdLnJlc3VsdHMpKVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjaGFuZ2VzX2xlZnQ6IGRhdGFbMF0uY2hhbmdlc19sZWZ0LFxuICAgICAgICAgIGxlbmd0aF9taW46IGRhdGFbMF0ubGVuZ3RoX21pbixcbiAgICAgICAgICBsZW5ndGhfbWF4OiBkYXRhWzBdLmxlbmd0aF9tYXgsXG4gICAgICAgICAgbmV4dF9vbjogZGF0YVswXS5uZXh0X29uID8gbW9tZW50KGRhdGFbMF0ubmV4dF9vbikgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIG9uQ29tcGxldGUgPSAodXNlcm5hbWUsIHNsdWcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGlvbnNcbiAgICB9KVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhZGROYW1lQ2hhbmdlKHsgdXNlcm5hbWUsIHNsdWcgfSwgdGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnVzZXIpXG4gICAgKVxuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJuYW1lKHRoaXMucHJvcHMudXNlciwgdXNlcm5hbWUsIHNsdWcpKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB1c2VybmFtZSBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIikpXG4gIH1cblxuICBnZXRDaGFuZ2VGb3JtKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIDxGb3JtTG9hZGluZyAvPlxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLm9wdGlvbnMuY2hhbmdlc19sZWZ0ID09PSAwKSB7XG4gICAgICByZXR1cm4gPEZvcm1Mb2NrZWQgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfSAvPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybVxuICAgICAgICBjb21wbGV0ZT17dGhpcy5vbkNvbXBsZXRlfVxuICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7dGhpcy5nZXRDaGFuZ2VGb3JtKCl9XG4gICAgICAgIDxVc2VybmFtZUhpc3RvcnlcbiAgICAgICAgICBjaGFuZ2VzPXt0aGlzLnByb3BzW1widXNlcm5hbWUtaGlzdG9yeVwiXX1cbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBwYXNzd29yZDogXCJcIlxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkRlbGV0ZSBhY2NvdW50XCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG4gIH1cblxuICBvblBhc3N3b3JkQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBwYXNzd29yZDogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSBldmVudCA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgY29uc3QgeyBpc0xvYWRpbmcsIHBhc3N3b3JkIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID09IDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKFxuICAgICAgICBnZXR0ZXh0KFwiRW50ZXIgeW91ciBwYXNzd29yZCB0byBjb25maXJtIGFjY291bnQgZGVsZXRpb24uXCIpXG4gICAgICApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pXG5cbiAgICBhamF4LnBvc3QodXNlci5hcGkuZGVsZXRlLCB7IHBhc3N3b3JkIH0pLnRoZW4oXG4gICAgICBzdWNjZXNzID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBtaXNhZ28uZ2V0KFwiTUlTQUdPX1BBVEhcIilcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICBpZiAocmVqZWN0aW9uLnBhc3N3b3JkKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kYW5nZXIgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIllvdSBhcmUgZ29pbmcgdG8gZGVsZXRlIHlvdXIgYWNjb3VudC4gVGhpcyBhY3Rpb24gaXMgbm9ucmV2ZXJzaWJsZSwgYW5kIHdpbGwgcmVzdWx0IGluIGZvbGxvd2luZyBkYXRhIGJlaW5nIGRlbGV0ZWQ6XCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIC17XCIgXCJ9XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiU3RvcmVkIElQIGFkZHJlc3NlcyBhc3NvY2lhdGVkIHdpdGggY29udGVudCB0aGF0IHlvdSBoYXZlIHBvc3RlZCB3aWxsIGJlIGRlbGV0ZWQuXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAte1wiIFwifVxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2lsbCBiZWNvbWUgYXZhaWxhYmxlIGZvciBvdGhlciB1c2VyIHRvIHJlbmFtZSB0byBvciBmb3IgbmV3IHVzZXIgdG8gcmVnaXN0ZXIgdGhlaXIgYWNjb3VudCB3aXRoLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgLXtcIiBcIn1cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJZb3VyIGUtbWFpbCB3aWxsIGJlY29tZSBhdmFpbGFibGUgZm9yIHVzZSBpbiBuZXcgYWNjb3VudCByZWdpc3RyYXRpb24uXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIkFsbCB5b3VyIHBvc3RlZCBjb250ZW50IHdpbGwgTk9UIGJlIGRlbGV0ZWQsIGJ1dCB1c2VybmFtZSBhc3NvY2lhdGVkIHdpdGggaXQgd2lsbCBiZSBjaGFuZ2VkIHRvIG9uZSBzaGFyZWQgYnkgYWxsIGRlbGV0ZWQgYWNjb3VudHMuXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1ncm91cFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmQtY29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgXCJFbnRlciB5b3VyIHBhc3N3b3JkIHRvIGNvbmZpcm0gYWNjb3VudCBkZWxldGlvbi5cIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QYXNzd29yZENoYW5nZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tZGFuZ2VyXCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJEZWxldGUgbXkgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG93bmxvYWREYXRhIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNTdWJtaXRpbmc6IGZhbHNlLFxuICAgICAgZG93bmxvYWRzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkRvd25sb2FkIHlvdXIgZGF0YVwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuXG4gICAgdGhpcy5oYW5kbGVMb2FkRG93bmxvYWRzKClcbiAgfVxuXG4gIGhhbmRsZUxvYWREb3dubG9hZHMgPSAoKSA9PiB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5kYXRhX2Rvd25sb2FkcykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGRvd25sb2FkczogZGF0YVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYW5kbGVSZXF1ZXN0RGF0YURvd25sb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGluZzogdHJ1ZSB9KVxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLnJlcXVlc3RfZGF0YV9kb3dubG9hZCkudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVMb2FkRG93bmxvYWRzKClcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhcbiAgICAgICAgICBnZXR0ZXh0KFwiWW91ciByZXF1ZXN0IGZvciBkYXRhIGRvd25sb2FkIGhhcyBiZWVuIHJlZ2lzdGVyZWQuXCIpXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzU3VibWl0aW5nOiBmYWxzZSB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlamVjdGlvbilcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IGZhbHNlIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJEb3dubG9hZCB5b3VyIGRhdGFcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAnVG8gZG93bmxvYWQgeW91ciBkYXRhIGZyb20gdGhlIHNpdGUsIGNsaWNrIHRoZSBcIlJlcXVlc3QgZGF0YSBkb3dubG9hZFwiIGJ1dHRvbi4gRGVwZW5kaW5nIG9uIGFtb3VudCBvZiBkYXRhIHRvIGJlIGFyY2hpdmVkIGFuZCBudW1iZXIgb2YgdXNlcnMgd2FudGluZyB0byBkb3dubG9hZCB0aGVpciBkYXRhIGF0IHNhbWUgdGltZSBpdCBtYXkgdGFrZSB1cCB0byBmZXcgZGF5cyBmb3IgeW91ciBkb3dubG9hZCB0byBiZSBwcmVwYXJlZC4gQW4gZS1tYWlsIHdpdGggbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudCB0byB5b3Ugd2hlbiB5b3VyIGRhdGEgaXMgcmVhZHkgdG8gYmUgZG93bmxvYWRlZC4nXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIlRoZSBkb3dubG9hZCB3aWxsIG9ubHkgYmUgYXZhaWxhYmxlIGZvciBsaW1pdGVkIGFtb3VudCBvZiB0aW1lLCBhZnRlciB3aGljaCBpdCB3aWxsIGJlIGRlbGV0ZWQgZnJvbSB0aGUgc2l0ZSBhbmQgbWFya2VkIGFzIGV4cGlyZWQuXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidGFibGVcIj5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0aD57Z2V0dGV4dChcIlJlcXVlc3RlZCBvblwiKX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJjb2wtbWQtNFwiPntnZXR0ZXh0KFwiRG93bmxvYWRcIil9PC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRvd25sb2Fkcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3Jvd1N0eWxlfT5cbiAgICAgICAgICAgICAgICAgICAgICB7bW9tZW50KGl0ZW0ucmVxdWVzdGVkX29uKS5mcm9tTm93KCl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWRCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydEZpbGU9e2l0ZW0uZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17aXRlbS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZG93bmxvYWRzLmxlbmd0aCA9PSAwID8gKFxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiMlwiPntnZXR0ZXh0KFwiWW91IGhhdmUgbm8gZGF0YSBkb3dubG9hZHMuXCIpfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNTdWJtaXRpbmd9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVJlcXVlc3REYXRhRG93bmxvYWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBkYXRhIGRvd25sb2FkXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IHJvd1N0eWxlID0ge1xuICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiXG59XG5cbmNvbnN0IFNUQVRVU19QRU5ESU5HID0gMFxuY29uc3QgU1RBVFVTX1BST0NFU1NJTkcgPSAxXG5cbmNvbnN0IERvd25sb2FkQnV0dG9uID0gKHsgZXhwb3J0RmlsZSwgc3RhdHVzIH0pID0+IHtcbiAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX1BFTkRJTkcgfHwgc3RhdHVzID09PSBTVEFUVVNfUFJPQ0VTU0lORykge1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1pbmZvIGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgaXMgYmVpbmcgcHJlcGFyZWRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICBpZiAoZXhwb3J0RmlsZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtIGJ0bi1ibG9ja1wiIGhyZWY9e2V4cG9ydEZpbGV9PlxuICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIHlvdXIgZGF0YVwiKX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIGlzIGV4cGlyZWRcIil9XG4gICAgPC9CdXR0b24+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXQtZGV0YWlsc1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJFZGl0IGRldGFpbHNcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcbiAgfVxuXG4gIG9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXCIpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybSBhcGk9e3RoaXMucHJvcHMudXNlci5hcGkuZWRpdF9kZXRhaWxzfSBvblN1Y2Nlc3M9e3RoaXMub25TdWNjZXNzfSAvPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoXCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9hdXRoXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHByb3BzLnVzZXIuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG86XG4gICAgICAgIHByb3BzLnVzZXIubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICBzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHMsXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICB0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwiaGVscF9vdXRsaW5lXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiRXZlcnlib2R5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJkb25lX2FsbFwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlVzZXJzIEkgZm9sbG93XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJoaWdobGlnaHRfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9ib2R5XCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5zdWJzY3JpYmVUb0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInN0YXJfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInN0YXJfaGFsZlwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vdGlmeVwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwic3RhclwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vdGlmeSB3aXRoIGUtbWFpbFwiKVxuICAgICAgfVxuICAgIF1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLm9wdGlvbnMsIHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZVxuICAgICAgICAubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICBzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBhdGNoKHtcbiAgICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgICAgbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG86IHRoaXMuc3RhdGVcbiAgICAgICAgICAubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXG4gICAgICB9KVxuICAgIClcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIGZvcnVtIG9wdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIlBsZWFzZSByZWxvYWQgcGFnZSBhbmQgdHJ5IGFnYWluLlwiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkZvcnVtIG9wdGlvbnNcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGZvcnVtIG9wdGlvbnNcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlByaXZhY3kgc2V0dGluZ3NcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSBteSBwcmVzZW5jZVwiKX1cbiAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGhpZGUgeW91ciBwcmVzZW5jZSwgb25seSBtZW1iZXJzIHdpdGggcGVybWlzc2lvbiB0byBzZWUgaGlkZGVuIHVzZXJzIHdpbGwgc2VlIHdoZW4geW91IGFyZSBvbmxpbmUuXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGluZ19wcmVzZW5jZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGljb25Pbj1cInZpc2liaWxpdHlfb2ZmXCJcbiAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlIGZyb20gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIlNob3cgbXkgcHJlc2VuY2UgdG8gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRpbmdfcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWQgaW52aXRhdGlvbnNcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvfVxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJBdXRvbWF0aWMgc3Vic2NyaXB0aW9uc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgc3RhcnRcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwic3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgcmVwbHkgdG9cIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwic3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgTGkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xpXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBTaWRlTmF2KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7cHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e29wdGlvbi5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wYWN0TmF2KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsXG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcImRyb3Bkb3duLW1lbnUgc3RpY2stdG8tYm90dG9tXCJ9XG4gICAgICByb2xlPVwibWVudVwiXG4gICAgPlxuICAgICAge3Byb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpXG4gICAgICAgICAgICBwYXRoPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5oaWRlTmF2fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uIGhpZGRlbi1zbVwiPntvcHRpb24uaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L0xpPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGVcIlxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL25hdnNcIlxuaW1wb3J0IERlbGV0ZUFjY291bnQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZGVsZXRlLWFjY291bnRcIlxuaW1wb3J0IEVkaXREZXRhaWxzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2VkaXQtZGV0YWlsc1wiXG5pbXBvcnQgRG93bmxvYWREYXRhIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2Rvd25sb2FkLWRhdGFcIlxuaW1wb3J0IENoYW5nZUZvcnVtT3B0aW9ucyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zXCJcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdFwiXG5pbXBvcnQgQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9yb290XCJcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3dpdGgtZHJvcGRvd25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW9wdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxoMT57Z2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIil9PC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnMgdmlzaWJsZS14cy1ibG9jayB2aXNpYmxlLXNtLWJsb2NrXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPENvbXBhY3ROYXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIlxuICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIil9XG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXttaXNhZ28uZ2V0KFwiVVNFUl9PUFRJT05TXCIpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgPFNpZGVOYXZcbiAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXttaXNhZ28uZ2V0KFwiVVNFUl9PUFRJT05TXCIpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyLFxuICAgIFwidXNlcm5hbWUtaGlzdG9yeVwiOiBzdG9yZVtcInVzZXJuYW1lLWhpc3RvcnlcIl1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IFNTT19FTkFCTEVEID0gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc29cblxuICBjb25zdCBwYXRocyA9IFtcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiZm9ydW0tb3B0aW9ucy9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZUZvcnVtT3B0aW9ucylcbiAgICB9LFxuICAgIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJlZGl0LWRldGFpbHMvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShFZGl0RGV0YWlscylcbiAgICB9XG4gIF1cblxuICBpZiAoIVNTT19FTkFCTEVEKSB7XG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiY2hhbmdlLXVzZXJuYW1lL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpXG4gICAgfSlcbiAgICBwYXRocy5wdXNoKHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJzaWduLWluLWNyZWRlbnRpYWxzL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMpXG4gICAgfSlcbiAgfVxuXG4gIGlmIChtaXNhZ28uZ2V0KFwiRU5BQkxFX0RPV05MT0FEX09XTl9EQVRBXCIpKSB7XG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiZG93bmxvYWQtZGF0YS9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKERvd25sb2FkRGF0YSlcbiAgICB9KVxuICB9XG5cbiAgaWYgKCFTU09fRU5BQkxFRCAmJiBtaXNhZ28uZ2V0KFwiRU5BQkxFX0RFTEVURV9PV05fQUNDT1VOVFwiKSkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImRlbGV0ZS1hY2NvdW50L1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRGVsZXRlQWNjb3VudClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHBhdGhzXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmNvbnN0IFVudXNhYmxlUGFzc3dvcmRNZXNzYWdlID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZW1haWwgb3IgcGFzc3dvcmRcIil9PC9oMz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLW1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBuZWVkIHRvIHNldCBhIHBhc3N3b3JkIGZvciB5b3VyIGFjY291bnQgdG8gYmUgYWJsZSB0byBjaGFuZ2UgeW91ciB1c2VybmFtZSBvciBlbWFpbC5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIkZPUkdPVFRFTl9QQVNTV09SRF9VUkxcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2V0IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19lbWFpbDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19lbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV0sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X2VtYWlsLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdXG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfZW1haWwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfZW1haWxbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuY2hhbmdlX2VtYWlsLCB7XG4gICAgICBuZXdfZW1haWw6IHRoaXMuc3RhdGUubmV3X2VtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X2VtYWlsOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9KVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19lbWFpbCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X2VtYWlsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGUtbWFpbCBhZGRyZXNzXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGUtbWFpbFwiKX0gZm9yPVwiaWRfbmV3X2VtYWlsXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX25ld19lbWFpbFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwibmV3X2VtYWlsXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19lbWFpbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIllvdXIgY3VycmVudCBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY29uZmlybV9lbWFpbFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9jb25maXJtX2VtYWlsXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBlLW1haWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV3X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBbXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdXG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfcGFzc3dvcmQpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfcGFzc3dvcmRbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQgIT09IHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkcyBhcmUgZGlmZmVyZW50LlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5jaGFuZ2VfcGFzc3dvcmQsIHtcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIlxuICAgIH0pXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgcGFzc3dvcmRcIil9IGZvcj1cImlkX25ld19wYXNzd29yZFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfbmV3X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJuZXdfcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJSZXBlYXQgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX3JlcGVhdF9wYXNzd29yZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInJlcGVhdF9wYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJZb3VyIGN1cnJlbnQgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NvbmZpcm1fcGFzc3dvcmRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY29uZmlybV9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFuZ2VFbWFpbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbFwiXG5pbXBvcnQgQ2hhbmdlUGFzc3dvcmQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IFVudXNhYmxlUGFzc3dvcmRNZXNzYWdlIGZyb20gXCIuL1VudXNhYmxlUGFzc3dvcmRNZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgZW1haWwgb3IgcGFzc3dvcmRcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci5oYXNfdXNhYmxlX3Bhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gPFVudXNhYmxlUGFzc3dvcmRNZXNzYWdlIC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxDaGFuZ2VFbWFpbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICAgIDxDaGFuZ2VQYXNzd29yZCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibWVzc2FnZS1saW5lXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPndhcm5pbmc8L3NwYW4+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIkZPUkdPVFRFTl9QQVNTV09SRF9VUkxcIil9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZm9yZ290dGVuIHBhc3N3b3JkXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBzdHJpbmdDb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3N0cmluZy1jb3VudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgaWYgKFxuICAgICAgICBzdHJpbmdDb3VudCh0aGlzLnByb3BzLmNvcHksIFwiPHBcIikgPT09IDEgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5jb3B5LmluZGV4T2YoXCI8YnJcIikgPT09IC0xXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIFwicGFnZS1sZWFkIGxlYWRcIlxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcInBhZ2UtbGVhZFwiXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMuY29weVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtYm9keS1sb2FkaW5nXCI+XG4gICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwibG9hZGVyIGxvYWRlci1zcGFjZWRcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCBcImluZm9fb3V0bGluZVwifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBZGRQYXJ0aWNpcGFudE1vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnRcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8QWRkUGFydGljaXBhbnRNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fYWRkX3BhcnRpY2lwYW50cykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tM1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBlcnNvbl9hZGQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBwYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0IHsgdXBkYXRlQWNsIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBsZWF2ZSh0aHJlYWQsIHBhcnRpY2lwYW50KSB7XG4gIGFqYXhcbiAgICAucGF0Y2godGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZW1vdmVcIiwgcGF0aDogXCJwYXJ0aWNpcGFudHNcIiwgdmFsdWU6IHBhcnRpY2lwYW50LmlkIH1cbiAgICBdKVxuICAgIC50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3UgaGF2ZSBsZWZ0IHRoaXMgdGhyZWFkLlwiKSlcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG1pc2Fnby5nZXQoXCJQUklWQVRFX1RIUkVBRFNfVVJMXCIpXG4gICAgICAgIH0sIDMgKiAxMDAwKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4XG4gICAgLnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IFwicGFydGljaXBhbnRzXCIsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZCB9LFxuICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IDEgfVxuICAgIF0pXG4gICAgLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKVxuICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpXG5cbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyB0aHJlYWQuXCIpXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXG4gICAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1c2VyOiBwYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlT3duZXIodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4XG4gICAgLnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcIm93bmVyXCIsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZCB9LFxuICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IDEgfVxuICAgIF0pXG4gICAgLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKVxuICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpXG5cbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiBtYWRlIG5ldyB0aHJlYWQgb3duZXIuXCIpXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXG4gICAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1c2VyOiBwYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTWFrZU93bmVyIGZyb20gXCIuL21ha2Utb3duZXJcIlxuaW1wb3J0IFJlbW92ZSBmcm9tIFwiLi9yZW1vdmVcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgcGFydGljaXBhbnQgPSBwcm9wcy5wYXJ0aWNpcGFudFxuXG4gIGxldCBjbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdFwiXG4gIGlmIChwYXJ0aWNpcGFudC5pc19vd25lcikge1xuICAgIGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgfVxuICBjbGFzc05hbWUgKz0gXCIgYnRuLXVzZXIgYnRuLWJsb2NrXCJcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS0zIGNvbC1tZC0yIHBhcnRpY2lwYW50LWNhcmRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMzRcIiB1c2VyPXtwYXJ0aWNpcGFudH0gLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPntwYXJ0aWNpcGFudC51c2VybmFtZX08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIj5cbiAgICAgICAgICA8VXNlclN0YXR1cyBpc093bmVyPXtwYXJ0aWNpcGFudC5pc19vd25lcn0gLz5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCIgLz5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8YSBocmVmPXtwYXJ0aWNpcGFudC51cmx9PntnZXR0ZXh0KFwiU2VlIHByb2ZpbGVcIil9PC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIHJvbGU9XCJzZXBhcmF0b3JcIiBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgICA8TWFrZU93bmVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVtb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyU3RhdHVzKHsgaXNPd25lciB9KSB7XG4gIGlmICghaXNPd25lcikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXIgZHJvcGRvd24taGVhZGVyLW93bmVyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3RhcnQ8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj57Z2V0dGV4dChcIlRocmVhZCBvd25lclwiKX08L3NwYW4+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwYXJ0aWNpcGFudHMsIHRocmVhZCwgdXNlciwgdXNlcklzT3duZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydGljaXBhbnRzLWNhcmRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7cGFydGljaXBhbnRzLm1hcChwYXJ0aWNpcGFudCA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgIGtleT17cGFydGljaXBhbnQuaWR9XG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50PXtwYXJ0aWNpcGFudH1cbiAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgIHVzZXJJc093bmVyPXt1c2VySXNPd25lcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNoYW5nZU93bmVyIH0gZnJvbSBcIi4vYWN0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuaXNVc2VyID0gcHJvcHMucGFydGljaXBhbnQuaWQgPT09IHByb3BzLnVzZXIuaWRcbiAgfVxuXG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbGV0IGNvbmZpcm1lZCA9IGZhbHNlXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHRha2Ugb3ZlciB0aGlzIHRocmVhZD9cIilcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXG4gICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNoYW5nZSB0aHJlYWQgb3duZXIgdG8gJSh1c2VyKXM/XCJcbiAgICAgIClcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKCFjb25maXJtZWQpIHJldHVyblxuXG4gICAgY2hhbmdlT3duZXIodGhpcy5wcm9wcy50aHJlYWQsIHRoaXMucHJvcHMucGFydGljaXBhbnQpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFydGljaXBhbnQuaXNfb3duZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2NoYW5nZV9vd25lcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge2dldHRleHQoXCJNYWtlIG93bmVyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHJlbW92ZSwgbGVhdmUgfSBmcm9tIFwiLi9hY3Rpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5pc1VzZXIgPSBwcm9wcy5wYXJ0aWNpcGFudC5pZCA9PT0gcHJvcHMudXNlci5pZFxuICB9XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29uZmlybWVkID0gZmFsc2VcbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyB0aHJlYWQ/XCIpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgJSh1c2VyKXMgZnJvbSB0aGlzIHRocmVhZD9cIlxuICAgICAgKVxuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgaW50ZXJwb2xhdGUoXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB0aGlzLnByb3BzLnBhcnRpY2lwYW50LnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGxlYXZlKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KVxuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUodGhpcy5wcm9wcy50aHJlYWQsIHRoaXMucHJvcHMucGFydGljaXBhbnQpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzTW9kZXJhdG9yID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fbW9kZXJhdGVfcHJpdmF0ZV90aHJlYWRzXG5cbiAgICBpZiAoISh0aGlzLnByb3BzLnVzZXJJc093bmVyIHx8IHRoaXMuaXNVc2VyIHx8IGlzTW9kZXJhdG9yKSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge3RoaXMuaXNVc2VyID8gZ2V0dGV4dChcIkxlYXZlIHRocmVhZFwiKSA6IGdldHRleHQoXCJSZW1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFkZFBhcnRpY2lwYW50IGZyb20gXCIuL2FkZC1wYXJ0aWNpcGFudFwiXG5pbXBvcnQgQ2FyZHNMaXN0IGZyb20gXCIuL2NhcmRzLWxpc3RcIlxuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4vdXRpbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnBhcnRpY2lwYW50cy5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcGFydGljaXBhbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPENhcmRzTGlzdFxuICAgICAgICAgIHVzZXJJc093bmVyPXtnZXRVc2VySXNPd25lcihwcm9wcy51c2VyLCBwcm9wcy5wYXJ0aWNpcGFudHMpfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8QWRkUGFydGljaXBhbnQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTlcIj5cbiAgICAgICAgICAgIDxwPnt1dGlscy5nZXRQYXJ0aWNpcGFudHNDb3B5KHByb3BzLnBhcnRpY2lwYW50cyl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VySXNPd25lcih1c2VyLCBwYXJ0aWNpcGFudHMpIHtcbiAgcmV0dXJuIHBhcnRpY2lwYW50c1swXS5pZCA9PT0gdXNlci5pZFxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnRpY2lwYW50c0NvcHkocGFydGljaXBhbnRzKSB7XG4gIGNvbnN0IGNvdW50ID0gcGFydGljaXBhbnRzLmxlbmd0aFxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJUaGlzIHRocmVhZCBoYXMgJSh1c2VycylzIHBhcnRpY2lwYW50LlwiLFxuICAgIFwiVGhpcyB0aHJlYWQgaGFzICUodXNlcnMpcyBwYXJ0aWNpcGFudHMuXCIsXG4gICAgY291bnRcbiAgKVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHVzZXJzOiBjb3VudFxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB6eGN2Ym4gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy96eGN2Ym5cIlxuXG5leHBvcnQgY29uc3QgU1RZTEVTID0gW1xuICBcInByb2dyZXNzLWJhci1kYW5nZXJcIixcbiAgXCJwcm9ncmVzcy1iYXItd2FybmluZ1wiLFxuICBcInByb2dyZXNzLWJhci13YXJuaW5nXCIsXG4gIFwicHJvZ3Jlc3MtYmFyLXByaW1hcnlcIixcbiAgXCJwcm9ncmVzcy1iYXItc3VjY2Vzc1wiXG5dXG5cbmV4cG9ydCBjb25zdCBMQUJFTFMgPSBbXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgd2Vhay5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyBhdmVyYWdlLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgc3Ryb25nLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgdmVyeSBzdHJvbmcuXCIpXG5dXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuX3Njb3JlID0gMFxuICAgIHRoaXMuX3Bhc3N3b3JkID0gbnVsbFxuICAgIHRoaXMuX2lucHV0cyA9IFtdXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHp4Y3Zibi5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkOiB0cnVlIH0pXG4gICAgfSlcbiAgfVxuXG4gIGdldFNjb3JlKHBhc3N3b3JkLCBpbnB1dHMpIHtcbiAgICBsZXQgY2FjaGVTdGFsZSA9IGZhbHNlXG5cbiAgICBpZiAocGFzc3dvcmQgIT09IHRoaXMuX3Bhc3N3b3JkKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChpbnB1dHMubGVuZ3RoICE9PSB0aGlzLl9pbnB1dHMubGVuZ3RoKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dHMubWFwKCh2YWx1ZSwgaSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUudHJpbSgpICE9PSB0aGlzLl9pbnB1dHNbaV0pIHtcbiAgICAgICAgICBjYWNoZVN0YWxlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChjYWNoZVN0YWxlKSB7XG4gICAgICB0aGlzLl9zY29yZSA9IHp4Y3Zibi5zY29yZVBhc3N3b3JkKHBhc3N3b3JkLCBpbnB1dHMpXG4gICAgICB0aGlzLl9wYXNzd29yZCA9IHBhc3N3b3JkXG4gICAgICB0aGlzLl9pbnB1dHMgPSBpbnB1dHMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50cmltKClcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3Njb3JlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmxvYWRlZCkgcmV0dXJuIG51bGxcblxuICAgIGxldCBzY29yZSA9IHRoaXMuZ2V0U2NvcmUodGhpcy5wcm9wcy5wYXNzd29yZCwgdGhpcy5wcm9wcy5pbnB1dHMpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIHBhc3N3b3JkLXN0cmVuZ3RoXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e1wicHJvZ3Jlc3MtYmFyIFwiICsgU1RZTEVTW3Njb3JlXX1cbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAyMCArIDIwICogc2NvcmUgKyBcIiVcIiB9fVxuICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbm93PXtzY29yZX1cbiAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCI0XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+e0xBQkVMU1tzY29yZV19PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbWFsbFwiPntMQUJFTFNbc2NvcmVdfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25BZGQgPSAoKSA9PiB7XG4gICAgbGV0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMuc2xpY2UoKVxuICAgIGNob2ljZXMucHVzaCh7XG4gICAgICBoYXNoOiBnZW5lcmF0ZVJhbmRvbUhhc2goKSxcbiAgICAgIGxhYmVsOiBcIlwiXG4gICAgfSlcblxuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKVxuICB9XG5cbiAgb25DaGFuZ2UgPSAoaGFzaCwgbGFiZWwpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzID0gdGhpcy5wcm9wcy5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgaWYgKGNob2ljZS5oYXNoID09PSBoYXNoKSB7XG4gICAgICAgIGNob2ljZS5sYWJlbCA9IGxhYmVsXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaG9pY2VcbiAgICB9KVxuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKVxuICB9XG5cbiAgb25EZWxldGUgPSBoYXNoID0+IHtcbiAgICBjb25zdCBjaG9pY2VzID0gdGhpcy5wcm9wcy5jaG9pY2VzLmZpbHRlcihjaG9pY2UgPT4ge1xuICAgICAgcmV0dXJuIGNob2ljZS5oYXNoICE9PSBoYXNoXG4gICAgfSlcbiAgICB0aGlzLnByb3BzLnNldENob2ljZXMoY2hvaWNlcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb2xsLWNob2ljZXMtY29udHJvbFwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8UG9sbENob2ljZVxuICAgICAgICAgICAgICAgIGNhbkRlbGV0ZT17dGhpcy5wcm9wcy5jaG9pY2VzLmxlbmd0aCA+IDJ9XG4gICAgICAgICAgICAgICAgY2hvaWNlPXtjaG9pY2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25BZGR9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBjaG9pY2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2xsQ2hvaWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkRlbGV0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBkZWxldGVJdGVtID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY2hvaWNlP1wiKVxuICAgIClcbiAgICBpZiAoZGVsZXRlSXRlbSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkRlbGV0ZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICBkaXNhYmxlZD17IXRoaXMucHJvcHMuY2FuRGVsZXRlIHx8IHRoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkRlbGV0ZSB0aGlzIGNob2ljZVwiKX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbG9zZTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG1heExlbmd0aD1cIjI1NVwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJjaG9pY2UgbGFiZWxcIil9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmNob2ljZS5sYWJlbH1cbiAgICAgICAgLz5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUhhc2goKSB7XG4gIGxldCByYW5kb21IYXNoID0gXCJcIlxuICB3aGlsZSAocmFuZG9tSGFzaC5sZW5ndGggIT0gMTIpIHtcbiAgICByYW5kb21IYXNoID0gTWF0aC5yYW5kb20oKVxuICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XSsvZywgXCJcIilcbiAgICAgIC5zdWJzdHIoMSwgMTIpXG4gIH1cbiAgcmV0dXJuIHJhbmRvbUhhc2hcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENob2ljZXNDb250cm9sIGZyb20gXCIuL2Nob2ljZXMtY29udHJvbFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0ICogYXMgcG9sbCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBjb25zdCBwb2xsID0gcHJvcHMucG9sbCB8fCB7XG4gICAgICBxdWVzdGlvbjogXCJcIixcbiAgICAgIGNob2ljZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGhhc2g6IFwiY2hvaWNlLTEwMDAwXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGhhc2g6IFwiY2hvaWNlLTIwMDAwXCIsXG4gICAgICAgICAgbGFiZWw6IFwiXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGxlbmd0aDogMCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogMSxcbiAgICAgIGFsbG93X3Jldm90ZXM6IDAsXG4gICAgICBpc19wdWJsaWM6IDBcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRWRpdDogISFwb2xsLnF1ZXN0aW9uLFxuXG4gICAgICBxdWVzdGlvbjogcG9sbC5xdWVzdGlvbixcbiAgICAgIGNob2ljZXM6IHBvbGwuY2hvaWNlcyxcbiAgICAgIGxlbmd0aDogcG9sbC5sZW5ndGgsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IHBvbGwuYWxsb3dlZF9jaG9pY2VzLFxuICAgICAgYWxsb3dfcmV2b3RlczogcG9sbC5hbGxvd19yZXZvdGVzLFxuICAgICAgaXNfcHVibGljOiBwb2xsLmlzX3B1YmxpYyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBxdWVzdGlvbjogW10sXG4gICAgICAgIGNob2ljZXM6IFtdLFxuICAgICAgICBsZW5ndGg6IFtdLFxuICAgICAgICBhbGxvd2VkX2Nob2ljZXM6IFtdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgc2V0Q2hvaWNlcyA9IGNob2ljZXMgPT4ge1xuICAgIGNvbnN0IGVycm9ycyA9IE9iamVjdC5hc3NpZ24oe30sIGVycm9ycywgeyBjaG9pY2VzOiBudWxsIH0pXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob2ljZXMsXG4gICAgICBlcnJvcnNcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcG9sbD9cIikpXG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcXVlc3Rpb246IHRoaXMuc3RhdGUucXVlc3Rpb24sXG4gICAgICBjaG9pY2VzOiB0aGlzLnN0YXRlLmNob2ljZXMsXG4gICAgICBsZW5ndGg6IHRoaXMuc3RhdGUubGVuZ3RoLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiB0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlcyxcbiAgICAgIGFsbG93X3Jldm90ZXM6IHRoaXMuc3RhdGUuYWxsb3dfcmV2b3RlcyxcbiAgICAgIGlzX3B1YmxpYzogdGhpcy5zdGF0ZS5pc19wdWJsaWNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHJldHVybiBhamF4LnB1dCh0aGlzLnByb3BzLnBvbGwuYXBpLmluZGV4LCBkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb2xsLCBkYXRhKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSlcblxuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdCkge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9sbCBoYXMgYmVlbiBlZGl0ZWQuXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb2xsIGhhcyBiZWVuIHBvc3RlZC5cIikpXG4gICAgfVxuXG4gICAgcG9zdGluZy5jbG9zZSgpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMpIHtcbiAgICAgICAgcmVqZWN0aW9uLmFsbG93ZWRfY2hvaWNlcyA9IHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHJlamVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJRdWVzdGlvbiBhbmQgY2hvaWNlc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGwgcXVlc3Rpb25cIil9XG4gICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3F1ZXN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3F1ZXN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicXVlc3Rpb25cIil9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD1cIjI1NVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkF2YWlsYWJsZSBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q2hvaWNlc0NvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIHNldENob2ljZXM9e3RoaXMuc2V0Q2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiVm90aW5nXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbCBsZW5ndGhcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFbnRlciBudW1iZXIgb2YgZGF5cyBmb3Igd2hpY2ggdm90aW5nIGluIHRoaXMgcG9sbCBzaG91bGQgYmUgcG9zc2libGUgb3IgemVybyB0byBydW4gdGhpcyBwb2xsIGluZGVmaW5pdGVseS5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2xlbmd0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJsZW5ndGhcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJBbGxvd2VkIGNob2ljZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd2VkX2Nob2ljZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuYWxsb3dlZF9jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiYWxsb3dlZF9jaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aD1cIjI1NVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxQb2xsUHVibGljU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgYmluZElucHV0PXt0aGlzLmJpbmRJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgaXNFZGl0PXt0aGlzLnN0YXRlLmlzRWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19wdWJsaWN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJBbGxvdyB2b3RlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uT249XCJjaGVja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBbGxvdyBwYXJ0aWNpcGFudHMgdG8gY2hhbmdlIHRoZWlyIHZvdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkRvbid0IGFsbG93IHBhcnRpY2lwYW50cyB0byBjaGFuZ2UgdGhlaXIgdm90ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImFsbG93X3Jldm90ZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFsbG93X3Jldm90ZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlciB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzRWRpdFxuICAgICAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJTYXZlIGNoYW5nZXNcIilcbiAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiUG9zdCBwb2xsXCIpfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxQdWJsaWNTd2l0Y2gocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzRWRpdCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCI+XG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTWFrZSB2b3RpbmcgcHVibGljXCIpfVxuICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICBcIk1ha2luZyB2b3RpbmcgcHVibGljIHdpbGwgYWxsb3cgZXZlcnlvbmUgdG8gYWNjZXNzIGRldGFpbGVkIGxpc3Qgb2Ygdm90ZXMsIHNob3dpbmcgd2hpY2ggdXNlcnMgdm90ZWQgZm9yIHdoaWNoIGNob2ljZXMgYW5kIGF0IHdoaWNoIHRpbWVzLiBUaGlzIG9wdGlvbiBjYW4ndCBiZSBjaGFuZ2VkIGFmdGVyIHBvbGwncyBjcmVhdGlvbi4gTW9kZXJhdG9ycyBtYXkgc2VlIHZvdGluZyBkZXRhaWxzIGZvciBhbGwgcG9sbHMuXCJcbiAgICAgICAgKX1cbiAgICAgICAgZm9yPVwiaWRfaXNfcHVibGljXCJcbiAgICAgID5cbiAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgaWQ9XCJpZF9pc19wdWJsaWNcIlxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBpY29uT249XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICBpY29uT2ZmPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJWb3RlcyBhcmUgcHVibGljXCIpfVxuICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiVm90ZXMgYXJlIGhpZGRlblwiKX1cbiAgICAgICAgICBvbkNoYW5nZT17cHJvcHMuYmluZElucHV0KFwiaXNfcHVibGljXCIpfVxuICAgICAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZX1cbiAgICAgICAgLz5cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUG9sbCBmcm9tIFwiLi9wb2xsXCJcbmltcG9ydCBQb2xsRm9ybSBmcm9tIFwiLi9mb3JtXCJcblxuZXhwb3J0IHsgUG9sbCB9XG5leHBvcnQgeyBQb2xsRm9ybSB9XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtZGV0YWlsc1wiPlxuICAgICAgPFBvbGxWb3RlcyB2b3Rlcz17cHJvcHMucG9sbC52b3Rlc30gLz5cbiAgICAgIDxQb2xsTGVuZ3RoIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICA8UG9sbElzUHVibGljIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICA8UG9sbENyZWF0aW9uIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENyZWF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJQb3N0ZWQgYnkgJShwb3N0ZXIpcyAlKHBvc3RlZF9vbilzLlwiKSksXG4gICAge1xuICAgICAgcG9zdGVyOiBnZXRQb3N0ZXIocHJvcHMucG9sbCksXG4gICAgICBwb3N0ZWRfb246IGdldFBvc3RlZE9uKHByb3BzLnBvbGwpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwicG9sbC1pbmZvLWNyZWF0aW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3Rlcihwb2xsKSB7XG4gIGlmIChwb2xsLnVybC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHBvbGwudXJsLnBvc3RlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIFVTRVJfU1BBTixcbiAgICB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVyX25hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RlZE9uKHBvbGwpIHtcbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwb2xsLnBvc3RlZF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsTGVuZ3RoKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9sbC5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIlZvdGluZyBlbmRzICUoZW5kc19vbilzLlwiKSksXG4gICAge1xuICAgICAgZW5kc19vbjogZ2V0RW5kc09uKHByb3BzLnBvbGwpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwicG9sbC1pbmZvLWVuZHMtb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kc09uKHBvbGwpIHtcbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwb2xsLmVuZHNPbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5lbmRzT24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsVm90ZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJSh2b3RlcylzIHZvdGUuXCIsIFwiJSh2b3RlcylzIHZvdGVzLlwiLCBwcm9wcy52b3RlcylcbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHZvdGVzOiBwcm9wcy52b3Rlc1xuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwb2xsLWluZm8tdm90ZXNcIj57bGFiZWx9PC9saT5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxJc1B1YmxpYyhwcm9wcykge1xuICBpZiAoIXByb3BzLnBvbGwuaXNfcHVibGljKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1pbmZvLXB1YmxpY1wiPntnZXR0ZXh0KFwiVm90ZXMgYXJlIHB1YmxpYy5cIil9PC9saT5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZXN1bHRzIGZyb20gXCIuL3Jlc3VsdHNcIlxuaW1wb3J0IFZvdGluZyBmcm9tIFwiLi92b3RpbmdcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBsZXQgc2hvd1Jlc3VsdHMgPSB0cnVlXG4gICAgaWYgKHByb3BzLnVzZXIuaWQgJiYgIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzKSB7XG4gICAgICBzaG93UmVzdWx0cyA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dSZXN1bHRzXG4gICAgfVxuICB9XG5cbiAgc2hvd1Jlc3VsdHMgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UmVzdWx0czogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBzaG93Vm90aW5nID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1Jlc3VsdHM6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLnBvbGwpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBpc1BvbGxPdmVyID0gZ2V0SXNQb2xsT3Zlcih0aGlzLnByb3BzLnBvbGwpXG5cbiAgICBpZiAoXG4gICAgICAhaXNQb2xsT3ZlciAmJlxuICAgICAgdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fdm90ZSAmJlxuICAgICAgIXRoaXMuc3RhdGUuc2hvd1Jlc3VsdHNcbiAgICApIHtcbiAgICAgIHJldHVybiA8Vm90aW5nIHNob3dSZXN1bHRzPXt0aGlzLnNob3dSZXN1bHRzfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlc3VsdHNcbiAgICAgICAgICBpc1BvbGxPdmVyPXtpc1BvbGxPdmVyfVxuICAgICAgICAgIHNob3dWb3Rpbmc9e3RoaXMuc2hvd1ZvdGluZ31cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldElzUG9sbE92ZXIocG9sbCkge1xuICBpZiAocG9sbC5sZW5ndGgpIHtcbiAgICByZXR1cm4gbW9tZW50KCkuaXNBZnRlcihwb2xsLmVuZHNPbilcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jaG9pY2VzLWJhcnNcIj5cbiAgICAgIHtwcm9wcy5wb2xsLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFBvbGxDaG9pY2UgY2hvaWNlPXtjaG9pY2V9IGtleT17Y2hvaWNlLmhhc2h9IHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQ2hvaWNlKHByb3BzKSB7XG4gIGxldCBwcm9jID0gMFxuICBpZiAocHJvcHMuY2hvaWNlLnZvdGVzICYmIHByb3BzLnBvbGwudm90ZXMpIHtcbiAgICBwcm9jID0gTWF0aC5jZWlsKChwcm9wcy5jaG9pY2Uudm90ZXMgKiAxMDApIC8gcHJvcHMucG9sbC52b3RlcylcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRsIGNsYXNzTmFtZT1cImRsLWhvcml6b250YWxcIj5cbiAgICAgIDxkdD57cHJvcHMuY2hvaWNlLmxhYmVsfTwvZHQ+XG4gICAgICA8ZGQ+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgIGFyaWEtdmFsdWVub3c9e3Byb2N9XG4gICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiMTAwXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBwcm9jICsgXCIlXCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtY2hhcnRcIj5cbiAgICAgICAgICA8Q2hvaWNlVm90ZXMgcHJvYz17cHJvY30gdm90ZXM9e3Byb3BzLmNob2ljZS52b3Rlc30gLz5cbiAgICAgICAgICA8VXNlckNob2ljZSBzZWxlY3RlZD17cHJvcHMuY2hvaWNlLnNlbGVjdGVkfSAvPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kZD5cbiAgICA8L2RsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VWb3Rlcyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWNoYXJ0LXZvdGVzXCI+XG4gICAgICB7Z2V0Vm90ZXNMYWJlbChwcm9wcy52b3RlcywgcHJvcHMucHJvYyl9XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm90ZXNMYWJlbCh2b3RlcywgcHJvYykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHZvdGVzKXMgdm90ZSwgJShwcm9jKXMlIG9mIHRvdGFsLlwiLFxuICAgIFwiJSh2b3RlcylzIHZvdGVzLCAlKHByb2MpcyUgb2YgdG90YWwuXCIsXG4gICAgdm90ZXNcbiAgKVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHZvdGVzOiB2b3RlcyxcbiAgICAgIHByb2M6IHByb2NcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlckNob2ljZShwcm9wcykge1xuICBpZiAoIXByb3BzLnNlbGVjdGVkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtc2VsZWN0ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIllvdXIgY2hvaWNlLlwiKX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFydCBmcm9tIFwiLi9jaGFydFwiXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwiLi9vcHRpb25zXCJcbmltcG9ydCBQb2xsSW5mbyBmcm9tIFwiLi4vaW5mb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8aDI+e3Byb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIDxDaGFydCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgIGlzUG9sbE92ZXI9e3Byb3BzLmlzUG9sbE92ZXJ9XG4gICAgICAgICAgcG9sbD17cHJvcHMucG9sbH1cbiAgICAgICAgICBzaG93Vm90aW5nPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBkYXRhOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucG9sbC5hcGkudm90ZXMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgY29uc3QgaHlkcmF0ZWREYXRhID0gZGF0YS5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgICAgICB2b3RlcnM6IGNob2ljZS52b3RlcnMubWFwKHZvdGVyID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHZvdGVyLCB7XG4gICAgICAgICAgICAgICAgdm90ZWRfb246IG1vbWVudCh2b3Rlci52b3RlZF9vbilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGRhdGE6IGh5ZHJhdGVkRGF0YVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICBcIm1vZGFsLWRpYWxvZ1wiICsgKHRoaXMuc3RhdGUuZXJyb3IgPyBcIiBtb2RhbC1tZXNzYWdlXCIgOiBcIiBtb2RhbC1zbVwiKVxuICAgICAgICB9XG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlBvbGwgdm90ZXNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxNb2RhbEJvZHlcbiAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICAgIGVycm9yPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxCb2R5KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gPExvYWRlciAvPlxuICB9IGVsc2UgaWYgKHByb3BzLmVycm9yKSB7XG4gICAgcmV0dXJuIDxNZXNzYWdlIGljb249XCJlcnJvcl9vdXRsaW5lXCIgbWVzc2FnZT17cHJvcHMuZXJyb3J9IC8+XG4gIH1cblxuICByZXR1cm4gPENob2ljZXNMaXN0IGRhdGE9e3Byb3BzLmRhdGF9IC8+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VzTGlzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1wb2xsLXZvdGVzXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCB2b3Rlcy1kZXRhaWxzXCI+XG4gICAgICAgIHtwcm9wcy5kYXRhLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hvaWNlRGV0YWlscyBrZXk9e2Nob2ljZS5oYXNofSB7Li4uY2hvaWNlfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZURldGFpbHMocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8aDQ+e3Byb3BzLmxhYmVsfTwvaDQ+XG4gICAgICA8Vm90ZXNDb3VudCB2b3Rlcz17cHJvcHMudm90ZXN9IC8+XG4gICAgICA8Vm90ZXNMaXN0IHZvdGVycz17cHJvcHMudm90ZXJzfSAvPlxuICAgICAgPGhyIC8+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXNDb3VudChwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHZvdGVzKXMgdXNlciBoYXMgdm90ZWQgZm9yIHRoaXMgY2hvaWNlLlwiLFxuICAgIFwiJSh2b3RlcylzIHVzZXJzIGhhdmUgdm90ZWQgZm9yIHRoaXMgY2hvaWNlLlwiLFxuICAgIHByb3BzLnZvdGVzXG4gIClcblxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdm90ZXM6IHByb3BzLnZvdGVzXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPHA+e2xhYmVsfTwvcD5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVzTGlzdChwcm9wcykge1xuICBpZiAoIXByb3BzLnZvdGVycy5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAge3Byb3BzLnZvdGVycy5tYXAodXNlciA9PiB7XG4gICAgICAgIHJldHVybiA8Vm90ZXIga2V5PXt1c2VyLnVzZXJuYW1lfSB7Li4udXNlcn0gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVyKHByb3BzKSB7XG4gIGlmIChwcm9wcy51cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cHJvcHMudXJsfT5cbiAgICAgICAgICB7cHJvcHMudXNlcm5hbWV9XG4gICAgICAgIDwvYT57XCIgXCJ9XG4gICAgICAgIDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPHN0cm9uZz57cHJvcHMudXNlcm5hbWV9PC9zdHJvbmc+IDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZURhdGUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YWJiciBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgdGl0bGU9e3Byb3BzLnZvdGVkX29uLmZvcm1hdChcIkxMTFwiKX0+XG4gICAgICB7cHJvcHMudm90ZWRfb24uZnJvbU5vdygpfVxuICAgIDwvYWJicj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTW9kYWwgZnJvbSBcIi4vbW9kYWxcIlxuaW1wb3J0ICogYXMgcG9sbCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7IGlzUG9sbE92ZXIsIHBvbGwsIHNob3dWb3RpbmcsIHRocmVhZCB9ID0gcHJvcHNcblxuICBpZiAoIWlzVmlzaWJsZShpc1BvbGxPdmVyLCBwb2xsLmFjbCwgcG9sbCkpIHJldHVybiBudWxsXG5cbiAgY29uc3QgY29udHJvbHMgPSBbXVxuXG4gIGNvbnN0IGNhblZvdGUgPSBwb2xsLmFjbC5jYW5fdm90ZVxuICBjb25zdCBjYW5DaGFuZ2VWb3RlID0gIXBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHBvbGwuYWxsb3dfcmV2b3Rlc1xuXG4gIGlmIChjYW5Wb3RlICYmIGNhbkNoYW5nZVZvdGUpIGNvbnRyb2xzLnB1c2goMClcbiAgaWYgKHBvbGwuaXNfcHVibGljIHx8IHBvbGwuYWNsLmNhbl9zZWVfdm90ZXMpIGNvbnRyb2xzLnB1c2goMSlcbiAgaWYgKHBvbGwuYWNsLmNhbl9lZGl0KSBjb250cm9scy5wdXNoKDIpXG4gIGlmIChwb2xsLmFjbC5jYW5fZGVsZXRlKSBjb250cm9scy5wdXNoKDMpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBwb2xsLW9wdGlvbnNcIj5cbiAgICAgIDxDaGFuZ2VWb3RlXG4gICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgcG9sbD17cG9sbH1cbiAgICAgICAgc2hvd1ZvdGluZz17c2hvd1ZvdGluZ31cbiAgICAgIC8+XG4gICAgICA8U2VlVm90ZXMgY29udHJvbHM9e2NvbnRyb2xzfSBwb2xsPXtwb2xsfSAvPlxuICAgICAgPEVkaXQgY29udHJvbHM9e2NvbnRyb2xzfSBwb2xsPXtwb2xsfSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxEZWxldGUgY29udHJvbHM9e2NvbnRyb2xzfSBwb2xsPXtwb2xsfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoaXNQb2xsT3ZlciwgYWNsLCBwb2xsKSB7XG4gIHJldHVybiAoXG4gICAgcG9sbC5pc19wdWJsaWMgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fZWRpdCB8fFxuICAgIGFjbC5jYW5fc2VlX3ZvdGVzIHx8XG4gICAgKGFjbC5jYW5fdm90ZSAmJlxuICAgICAgIWlzUG9sbE92ZXIgJiZcbiAgICAgICghcG9sbC5oYXNTZWxlY3RlZENob2ljZXMgfHwgcG9sbC5hbGxvd19yZXZvdGVzKSlcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCBjb250cm9sKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy02XCJcblxuICBpZiAoY29udHJvbHMubGVuZ3RoID09PSAxKSB7XG4gICAgY2xhc3NOYW1lID0gXCJjb2wteHMtMTJcIlxuICB9XG5cbiAgaWYgKGNvbnRyb2xzLmxlbmd0aCA9PT0gMyAmJiBjb250cm9sc1swXSA9PT0gY29udHJvbCkge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIHJldHVybiBjbGFzc05hbWUgKyBcIiBjb2wtc20tMyBjb2wtbWQtMlwiXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VWb3RlKHByb3BzKSB7XG4gIGNvbnN0IGNhblZvdGUgPSBwcm9wcy5wb2xsLmFjbC5jYW5fdm90ZVxuICBjb25zdCBjYW5DaGFuZ2VWb3RlID1cbiAgICAhcHJvcHMucG9sbC5oYXNTZWxlY3RlZENob2ljZXMgfHwgcHJvcHMucG9sbC5hbGxvd19yZXZvdGVzXG5cbiAgaWYgKCEoY2FuVm90ZSAmJiBjYW5DaGFuZ2VWb3RlKSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUocHJvcHMuY29udHJvbHMsIDApfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNob3dWb3Rpbmd9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlZvdGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgU2VlVm90ZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1vZGFsIHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VlVm90ZXMgPVxuICAgICAgdGhpcy5wcm9wcy5wb2xsLmlzX3B1YmxpYyB8fCB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9zZWVfdm90ZXNcbiAgICBpZiAoIXNlZVZvdGVzKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMSl9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHZvdGVzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCxcblxuICAgICAgdGhyZWFkOiB0aGlzLnByb3BzLnRocmVhZCxcbiAgICAgIHBvbGw6IHRoaXMucHJvcHMucG9sbCxcblxuICAgICAgbW9kZTogXCJQT0xMXCJcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuY29udHJvbHMsIDIpfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZVBvbGwgPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcG9sbD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUuXCJcbiAgICAgIClcbiAgICApXG4gICAgaWYgKCFkZWxldGVQb2xsKSByZXR1cm4gZmFsc2VcblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwuYnVzeSgpKVxuXG4gICAgYWpheFxuICAgICAgLmRlbGV0ZSh0aGlzLnByb3BzLnBvbGwuYXBpLmluZGV4KVxuICAgICAgLnRoZW4odGhpcy5oYW5kbGVTdWNjZXNzLCB0aGlzLmhhbmRsZUVycm9yKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyA9IG5ld1RocmVhZEFjbCA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIlBvbGwgaGFzIGJlZW4gZGVsZXRlZFwiKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVtb3ZlKCkpXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZUFjbChuZXdUaHJlYWRBY2wpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlbGVhc2UoKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuY29udHJvbHMsIDMpfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1oZWxwXCI+XG4gICAgICA8UG9sbENob2ljZXNMZWZ0IGNob2ljZXNMZWZ0PXtwcm9wcy5jaG9pY2VzTGVmdH0gLz5cbiAgICAgIDxQb2xsQWxsb3dSZXZvdGUgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsQ2hvaWNlc0xlZnQoeyBjaG9pY2VzTGVmdCB9KSB7XG4gIGlmIChjaG9pY2VzTGVmdCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLWNob2ljZXMtbGVmdFwiPlxuICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBzZWxlY3QgYW55IG1vcmUgY2hvaWNlcy5cIil9XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIllvdSBjYW4gc2VsZWN0ICUoY2hvaWNlcylzIG1vcmUgY2hvaWNlLlwiLFxuICAgIFwiWW91IGNhbiBzZWxlY3QgJShjaG9pY2VzKXMgbW9yZSBjaG9pY2VzLlwiLFxuICAgIGNob2ljZXNMZWZ0XG4gIClcblxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgY2hvaWNlczogY2hvaWNlc0xlZnRcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLWNob2ljZXMtbGVmdFwiPntsYWJlbH08L2xpPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbEFsbG93UmV2b3RlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb2xsLmFsbG93X3Jldm90ZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1hbGxvdy1yZXZvdGVzXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbiBjaGFuZ2UgeW91ciB2b3RlIGxhdGVyLlwiKX1cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtbm8tcmV2b3Rlc1wiPntnZXR0ZXh0KFwiVm90ZXMgYXJlIGZpbmFsLlwiKX08L2xpPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hvaWNlc0hlbHAgZnJvbSBcIi4vaGVscFwiXG5pbXBvcnQgQ2hvaWNlc1NlbGVjdCBmcm9tIFwiLi9zZWxlY3RcIlxuaW1wb3J0IHsgZ2V0Q2hvaWNlc0xlZnQsIGdldENob2ljZUZyb21IYXNoIH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IFBvbGxJbmZvIGZyb20gXCIuLi9pbmZvXCJcbmltcG9ydCB7IERlbGV0ZSwgRWRpdCwgZ2V0Q2xhc3NOYW1lIH0gZnJvbSBcIi4uL3Jlc3VsdHMvb3B0aW9uc1wiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0ICogYXMgcG9sbCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBjaG9pY2VzOiBwcm9wcy5wb2xsLmNob2ljZXMsXG4gICAgICBjaG9pY2VzTGVmdDogZ2V0Q2hvaWNlc0xlZnQocHJvcHMucG9sbCwgcHJvcHMucG9sbC5jaG9pY2VzKVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUNob2ljZSA9IGhhc2ggPT4ge1xuICAgIGNvbnN0IGNob2ljZSA9IGdldENob2ljZUZyb21IYXNoKHRoaXMuc3RhdGUuY2hvaWNlcywgaGFzaClcblxuICAgIGxldCBjaG9pY2VzID0gbnVsbFxuICAgIGlmICghY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBjaG9pY2VzID0gdGhpcy5zZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjaG9pY2VzID0gdGhpcy5kZXNlbGVjdENob2ljZShjaG9pY2UsIGhhc2gpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaG9pY2VzLFxuICAgICAgY2hvaWNlc0xlZnQ6IGdldENob2ljZXNMZWZ0KHRoaXMucHJvcHMucG9sbCwgY2hvaWNlcylcbiAgICB9KVxuICB9XG5cbiAgc2VsZWN0Q2hvaWNlID0gKGNob2ljZSwgaGFzaCkgPT4ge1xuICAgIGNvbnN0IGNob2ljZXNMZWZ0ID0gZ2V0Q2hvaWNlc0xlZnQodGhpcy5wcm9wcy5wb2xsLCB0aGlzLnN0YXRlLmNob2ljZXMpXG5cbiAgICBpZiAoIWNob2ljZXNMZWZ0KSB7XG4gICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZS5jaG9pY2VzLnNsaWNlKCkpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3RhdGUuY2hvaWNlc1tpXVxuICAgICAgICBpZiAoaXRlbS5zZWxlY3RlZCAmJiBpdGVtLmhhc2ggIT0gaGFzaCkge1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNob2ljZSwge1xuICAgICAgICBzZWxlY3RlZDogY2hvaWNlLmhhc2ggPT0gaGFzaCA/IHRydWUgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGRlc2VsZWN0Q2hvaWNlID0gKGNob2ljZSwgaGFzaCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PSBoYXNoID8gZmFsc2UgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNob2ljZXNMZWZ0ID09PSB0aGlzLnByb3BzLnBvbGwuYWxsb3dlZF9jaG9pY2VzKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IG5lZWQgdG8gc2VsZWN0IGF0IGxlYXN0IG9uZSBjaG9pY2VcIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBsZXQgZGF0YSA9IFtdXG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldXG4gICAgICBpZiAoaXRlbS5zZWxlY3RlZCkge1xuICAgICAgICBkYXRhLnB1c2goaXRlbS5oYXNoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wb2xsLmFwaS52b3RlcywgZGF0YSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSlcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHZvdGUgaGFzIGJlZW4gc2F2ZWQuXCIpKVxuXG4gICAgdGhpcy5wcm9wcy5zaG93UmVzdWx0cygpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xzID0gW11cblxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlKSBjb250cm9scy5wdXNoKDApXG4gICAgaWYgKHRoaXMucHJvcHMucG9sbC5pc19wdWJsaWMgfHwgdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fc2VlX3ZvdGVzKVxuICAgICAgY29udHJvbHMucHVzaCgxKVxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9lZGl0KSBjb250cm9scy5wdXNoKDIpXG4gICAgaWYgKHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2RlbGV0ZSkgY29udHJvbHMucHVzaCgzKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb2xsXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8aDI+e3RoaXMucHJvcHMucG9sbC5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICAgICAgICAgIDxDaG9pY2VzU2VsZWN0XG4gICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2hvaWNlc31cbiAgICAgICAgICAgICAgdG9nZ2xlQ2hvaWNlPXt0aGlzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8Q2hvaWNlc0hlbHBcbiAgICAgICAgICAgICAgY2hvaWNlc0xlZnQ9e3RoaXMuc3RhdGUuY2hvaWNlc0xlZnR9XG4gICAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY29udHJvbHMsIDApfT5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSB5b3VyIHZvdGVcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCAxKX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93UmVzdWx0c31cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHJlc3VsdHNcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8RWRpdFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPERlbGV0ZSBjb250cm9scz17Y29udHJvbHN9IHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIHBvbGwtc2VsZWN0LWNob2ljZXNcIj5cbiAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDaG9pY2VTZWxlY3RcbiAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxuICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgIHRvZ2dsZUNob2ljZT17cHJvcHMudG9nZ2xlQ2hvaWNlfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVDaG9pY2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtc2VsZWN0LWNob2ljZVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNob2ljZS5zZWxlY3RlZCA/IFwiYnRuIGJ0bi1zZWxlY3RlZFwiIDogXCJidG5cIn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2Uuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyBcImNoZWNrX2JveFwiXG4gICAgICAgICAgICAgIDogXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLmNob2ljZS5sYWJlbH08L3N0cm9uZz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldENob2ljZUZyb21IYXNoKGNob2ljZXMsIGhhc2gpIHtcbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldXG4gICAgaWYgKGNob2ljZS5oYXNoID09PSBoYXNoKSB7XG4gICAgICByZXR1cm4gY2hvaWNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENob2ljZXNMZWZ0KHBvbGwsIGNob2ljZXMpIHtcbiAgbGV0IHNlbGVjdGlvbiA9IFtdXG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXVxuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5wdXNoKGNob2ljZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcG9sbC5hbGxvd2VkX2Nob2ljZXMgLSBzZWxlY3Rpb24ubGVuZ3RoXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgcG9zdC1jaGFuZ2Vsb2ctZGlmZlwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAge3Byb3BzLmRpZmYubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxEaWZmSXRlbSBpdGVtPXtpdGVtfSBrZXk9e2l9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGlmZkl0ZW0ocHJvcHMpIHtcbiAgaWYgKHByb3BzLml0ZW1bMF0gPT09IFwiP1wiKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Z2V0SXRlbUNsYXNzTmFtZShwcm9wcy5pdGVtKX0+e2NsZWFuSXRlbShwcm9wcy5pdGVtKX08L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtQ2xhc3NOYW1lKGl0ZW0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiZGlmZi1pdGVtXCJcbiAgaWYgKGl0ZW1bMF0gPT09IFwiLVwiKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGRpZmYtaXRlbS1zdWJcIlxuICB9IGVsc2UgaWYgKGl0ZW1bMF0gPT09IFwiK1wiKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGRpZmYtaXRlbS1hZGRcIlxuICB9XG4gIHJldHVybiBjbGFzc05hbWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuSXRlbShpdGVtKSB7XG4gIHJldHVybiBpdGVtLnN1YnN0cigyKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXZlcnRFZGl0KHRoaXMucHJvcHMuZWRpdC5pZClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuY2FuUmV2ZXJ0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIlJldmVydCBwb3N0IHRvIHN0YXRlIGZyb20gYmVmb3JlIHRoaXMgZWRpdC5cIil9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJldmVydFwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERpZmYgZnJvbSBcIi4vZGlmZlwiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuL2Zvb3RlclwiXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwiLi90b29sYmFyXCJcbmltcG9ydCB7IGh5ZHJhdGVFZGl0IH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgY2FuUmV2ZXJ0OiBwcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBlZGl0OiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5nb1RvRWRpdCgpXG4gIH1cblxuICBnb1RvRWRpdCA9IChlZGl0ID0gbnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRzXG4gICAgaWYgKGVkaXQgIT09IG51bGwpIHtcbiAgICAgIHVybCArPSBcIj9lZGl0PVwiICsgZWRpdFxuICAgIH1cblxuICAgIGFqYXguZ2V0KHVybCkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgICAgZWRpdDogaHlkcmF0ZUVkaXQoZGF0YSlcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZXZlcnRFZGl0ID0gZWRpdCA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNCdXN5KSByZXR1cm5cblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2l0aCB0byByZXZlcnQgdGhpcyBwb3N0IHRvIHRoZSBzdGF0ZSBmcm9tIGJlZm9yZSB0aGlzIGVkaXQ/XCJcbiAgICAgIClcbiAgICApXG4gICAgaWYgKCFjb25maXJtYXRpb24pIHJldHVyblxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgY29uc3QgdXJsID0gdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0cyArIFwiP2VkaXQ9XCIgKyBlZGl0XG4gICAgYWpheC5wb3N0KHVybCkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBjb25zdCBoeWRyYXRlZFBvc3QgPSBwb3N0Lmh5ZHJhdGUoZGF0YSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBoeWRyYXRlZFBvc3QpKVxuXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvc3QgaGFzIGJlZW4gcmV2ZXJ0ZWQgdG8gcHJldmlvdXMgc3RhdGUuXCIpKVxuICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nPlxuICAgICAgICAgIDxUb29sYmFyXG4gICAgICAgICAgICBjYW5SZXZlcnQ9e3RoaXMuc3RhdGUuY2FuUmV2ZXJ0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgICAgZWRpdD17dGhpcy5zdGF0ZS5lZGl0fVxuICAgICAgICAgICAgZ29Ub0VkaXQ9e3RoaXMuZ29Ub0VkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8RGlmZiBkaWZmPXt0aGlzLnN0YXRlLmVkaXQuZGlmZn0gLz5cbiAgICAgICAgICA8Rm9vdGVyXG4gICAgICAgICAgICBjYW5SZXZlcnQ9e3RoaXMuc3RhdGUuY2FuUmV2ZXJ0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgICAgZWRpdD17dGhpcy5zdGF0ZS5lZGl0fVxuICAgICAgICAgICAgcmV2ZXJ0RWRpdD17dGhpcy5yZXZlcnRFZGl0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcIm1vZGFsLWRpYWxvZ1wifSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb3N0IGVkaXRzIGhpc3RvcnlcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnb0xhc3QgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCgpXG4gIH1cblxuICBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQubmV4dClcbiAgfVxuXG4gIGdvQmFjayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmdvVG9FZGl0KHRoaXMucHJvcHMuZWRpdC5wcmV2aW91cylcbiAgfVxuXG4gIHJldmVydEVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5yZXZlcnRFZGl0KHRoaXMucHJvcHMuZWRpdC5pZClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC10b29sYmFyIHBvc3QtY2hhbmdlbG9nLXRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0JhY2tCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0JhY2t9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29Gb3J3YXJkQnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29Gb3J3YXJkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvTGFzdEJ0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvTGFzdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS01IHhzLW1hcmdpbi10b3AtaGFsZiBwb3N0LWNoYW5nZS1sYWJlbFwiPlxuICAgICAgICAgICAgPExhYmVsIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8UmV2ZXJ0QnRuXG4gICAgICAgICAgICBjYW5SZXZlcnQ9e3RoaXMucHJvcHMuY2FuUmV2ZXJ0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFja0J0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0LnByZXZpb3VzfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0ZvcndhcmRCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIG5leHQgY2hhbmdlXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0xhc3RCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXZlcnRCdG4ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5jYW5SZXZlcnQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIGhpZGRlbi14c1wiPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIlJldmVydCBwb3N0IHRvIHN0YXRlIGZyb20gYmVmb3JlIHRoaXMgZWRpdC5cIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmV2ZXJ0XCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhYmVsKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMuZWRpdC51cmwuZWRpdG9yKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5lZGl0LnVybC5lZGl0b3IpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdG9yX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRlZF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIkJ5ICUoZWRpdGVkX2J5KXMgJShlZGl0ZWRfb24pcy5cIikpLFxuICAgIHtcbiAgICAgIGVkaXRlZF9ieTogdXNlcixcbiAgICAgIGVkaXRlZF9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxwIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fSAvPlxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVFZGl0KGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBlZGl0ZWRfb246IG1vbWVudChqc29uLmVkaXRlZF9vbilcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBvc3QgZnJvbSBcIi4vcG9zdFwiXG5pbXBvcnQgUHJldmlldyBmcm9tIFwiLi9wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBpc1JlYWR5LCBwb3N0cywgcG9zdGVyIH0pIHtcbiAgaWYgKCFpc1JlYWR5KSB7XG4gICAgcmV0dXJuIDxQcmV2aWV3IC8+XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHBvc3QtZmVlZCB1aS1yZWFkeVwiPlxuICAgICAge3Bvc3RzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIDxQb3N0IGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXBcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmNvbnRlbnQpIHtcbiAgICByZXR1cm4gPERlZmF1bHQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCI+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVGhpcyBwb3N0J3MgY29udGVudHMgY2Fubm90IGJlIGRpc3BsYXllZC5cIil9XG4gICAgICA8L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVGhpcyBlcnJvciBpcyBjYXVzZWQgYnkgaW52YWxpZCBwb3N0IGNvbnRlbnQgbWFuaXB1bGF0aW9uLlwiKX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIGNvbnN0IHsgY2F0ZWdvcnksIHRocmVhZCB9ID0gcG9zdFxuXG4gIGNvbnN0IHRvb2x0aXAgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwicG9zdGVkICUocG9zdGVkX29uKXNcIiksXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBpdGVtLXRpdGxlXCIgaHJlZj17dGhyZWFkLnVybH0+XG4gICAgICAgIHt0aHJlYWQudGl0bGV9XG4gICAgICA8L2E+XG4gICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdC1jYXRlZ29yeVwiIGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+XG4gICAgICAgIHtjYXRlZ29yeS5uYW1lfVxuICAgICAgPC9hPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cG9zdC51cmwuaW5kZXh9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0ZWQtb25cIlxuICAgICAgICB0aXRsZT17dG9vbHRpcH1cbiAgICAgID5cbiAgICAgICAge3Bvc3QucG9zdGVkX29uLmZyb21Ob3coKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQm9keSBmcm9tIFwiLi9ib2R5XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBQb3N0U2lkZSBmcm9tIFwiLi9wb3N0LXNpZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHBvc3RlciB9KSB7XG4gIGNvbnN0IHVzZXIgPSBwb3N0ZXIgfHwgcG9zdC5wb3N0ZXJcblxuICBsZXQgY2xhc3NOYW1lID0gXCJwb3N0XCJcbiAgaWYgKHVzZXIgJiYgdXNlci5yYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBwb3N0LVwiICsgdXNlci5yYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGlkPXtcInBvc3QtXCIgKyBwb3N0LmlkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIDxQb3N0U2lkZSBwb3N0PXtwb3N0fSBwb3N0ZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgPEhlYWRlciBwb3N0PXtwb3N0fSAvPlxuICAgICAgICAgIDxCb2R5IHBvc3Q9e3Bvc3R9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IEdvVG9CdXR0b24gZnJvbSBcIi4vYnV0dG9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezUwfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPntwb3N0LnBvc3Rlcl9uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZWQgdXNlclwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBwdWxsLXJpZ2h0XCIgaHJlZj17cG9zdC51cmwuaW5kZXh9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQtbGVmdCBoaWRkZW4teHNcIj57Z2V0dGV4dChcIlNlZSBwb3N0XCIpfTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQW5vbnltb3VzIGZyb20gXCIuL2Fub255bW91c1wiXG5pbXBvcnQgUmVnaXN0ZXJlZCBmcm9tIFwiLi9yZWdpc3RlcmVkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICBpZiAocG9zdGVyLmlkKSB7XG4gICAgcmV0dXJuIDxSZWdpc3RlcmVkIHBvc3Q9e3Bvc3R9IHBvc3Rlcj17cG9zdGVyfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxBbm9ueW1vdXMgcG9zdD17cG9zdH0gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBHb1RvQnV0dG9uIGZyb20gXCIuL2J1dHRvblwiXG5pbXBvcnQgVXNlclRpdGxlIGZyb20gXCIuL3VzZXItdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHBvc3RlciB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLXJlZ2lzdGVyZWRcIj5cbiAgICAgIDxHb1RvQnV0dG9uIHBvc3Q9e3Bvc3R9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxhIGhyZWY9e3Bvc3Rlci51cmx9PlxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17NTB9IHVzZXI9e3Bvc3Rlcn0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIiBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgICAge3Bvc3Rlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8VXNlclRpdGxlIHRpdGxlPXtwb3N0ZXIudGl0bGV9IHJhbms9e3Bvc3Rlci5yYW5rfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByYW5rLCB0aXRsZSB9KSB7XG4gIGxldCB1c2VyVGl0bGUgPSB0aXRsZSB8fCByYW5rLnRpdGxlIHx8IHJhbmsubmFtZVxuXG4gIGxldCBjbGFzc05hbWUgPSBcInVzZXItdGl0bGVcIlxuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdXNlci10aXRsZS1cIiArIHJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICBpZiAocmFuay5pc190YWIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3JhbmsudXJsfT5cbiAgICAgICAge3VzZXJUaXRsZX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9Pnt1c2VyVGl0bGV9PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgcG9zdC1mZWVkIHVpLXByZXZpZXdcIj5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXs1MH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG5cbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgbGlrZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wb3N0LmFwaS5saWtlcykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGxpa2VzOiBkYXRhLm1hcChoeWRyYXRlTGlrZSlcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmxpa2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1zbVwiIGxpa2VzPXt0aGlzLnN0YXRlLmxpa2VzfT5cbiAgICAgICAgICAgIDxMaWtlc0xpc3QgbGlrZXM9e3RoaXMuc3RhdGUubGlrZXN9IC8+XG4gICAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e2dldHRleHQoXCJObyB1c2VycyBoYXZlIGxpa2VkIHRoaXMgcG9zdC5cIil9IC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1zbVwiPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L01vZGFsRGlhbG9nPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUxpa2UoZGF0YSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgIGxpa2VkX29uOiBtb21lbnQoZGF0YS5saWtlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgbGlrZXMgfSkge1xuICBsZXQgdGl0bGUgPSBnZXR0ZXh0KFwiUG9zdCBMaWtlc1wiKVxuICBpZiAobGlrZXMpIHtcbiAgICBjb25zdCBsaWtlc0NvdW50ID0gbGlrZXMubGVuZ3RoXG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShsaWtlcylzIGxpa2VcIiwgXCIlKGxpa2VzKXMgbGlrZXNcIiwgbGlrZXNDb3VudClcblxuICAgIHRpdGxlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeyBsaWtlczogbGlrZXNDb3VudCB9LCB0cnVlKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17XCJtb2RhbC1kaWFsb2cgXCIgKyAoY2xhc3NOYW1lIHx8IFwiXCIpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e3RpdGxlfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZXNMaXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLXBvc3QtbGlrZXJzXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibWVkaWEtbGlzdFwiPlxuICAgICAgICB7cHJvcHMubGlrZXMubWFwKGxpa2UgPT4ge1xuICAgICAgICAgIHJldHVybiA8TGlrZURldGFpbHMga2V5PXtsaWtlLmlkfSB7Li4ubGlrZX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGV0YWlscyhwcm9wcykge1xuICBpZiAocHJvcHMudXJsKSB7XG4gICAgY29uc3QgdXNlciA9IHtcbiAgICAgIGlkOiBwcm9wcy5saWtlcl9pZCxcbiAgICAgIGF2YXRhcnM6IHByb3BzLmF2YXRhcnNcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCIgaHJlZj17cHJvcHMudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cHJvcHMudXJsfT5cbiAgICAgICAgICAgIHtwcm9wcy51c2VybmFtZX1cbiAgICAgICAgICA8L2E+e1wiIFwifVxuICAgICAgICAgIDxMaWtlRGF0ZSBsaWtlZE9uPXtwcm9wcy5saWtlZF9vbn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPiA8TGlrZURhdGUgbGlrZWRPbj17cHJvcHMubGlrZWRfb259IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGF0ZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIiB0aXRsZT17cHJvcHMubGlrZWRPbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge3Byb3BzLmxpa2VkT24uZnJvbU5vdygpfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRWRpdG9yIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0b3JcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi91dGlscy9sb2FkZXJcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vdXRpbHMvbWVzc2FnZVwiXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tIFwiLi91dGlscy9hdHRhY2htZW50c1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogXCJcIixcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICAgIHByb3RlY3Q6IGZhbHNlLFxuXG4gICAgICBjYW5Qcm90ZWN0OiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKVxuICB9XG5cbiAgbG9hZFN1Y2Nlc3MgPSBkYXRhID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVhZHk6IHRydWUsXG5cbiAgICAgIHBvc3Q6IGRhdGEucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5oeWRyYXRlKGRhdGEuYXR0YWNobWVudHMpLFxuICAgICAgcHJvdGVjdDogZGF0YS5pc19wcm90ZWN0ZWQsXG5cbiAgICAgIGNhblByb3RlY3Q6IGRhdGEuY2FuX3Byb3RlY3RcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCBjaGFuZ2VzP1wiKSlcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvblByb3RlY3QgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwcm90ZWN0OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIG9uVW5wcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgb25Qb3N0Q2hhbmdlID0gdmFsdWUgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwb3N0XCIsIHZhbHVlKVxuICB9XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IGF0dGFjaG1lbnRzID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucHV0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiB0aGlzLnN0YXRlLnByb3RlY3RcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUmVwbHkgaGFzIGJlZW4gZWRpdGVkLlwiKSlcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleFxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uY2F0ZWdvcnkgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICBjYW5Qcm90ZWN0PXt0aGlzLnN0YXRlLmNhblByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25Qcm90ZWN0PXt0aGlzLm9uUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIG9uVW5wcm90ZWN0PXt0aGlzLm9uVW5wcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgcHJvdGVjdD17dGhpcy5zdGF0ZS5wcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJFZGl0IHJlcGx5XCIpfVxuICAgICAgICAgICAgICAgICAgZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFN0YXJ0IGZyb20gXCIuL3N0YXJ0XCJcbmltcG9ydCBTdGFydFByaXZhdGUgZnJvbSBcIi4vc3RhcnQtcHJpdmF0ZVwiXG5pbXBvcnQgUmVwbHkgZnJvbSBcIi4vcmVwbHlcIlxuaW1wb3J0IEVkaXQgZnJvbSBcIi4vZWRpdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5tb2RlID09PSBcIlNUQVJUXCIpIHtcbiAgICByZXR1cm4gPFN0YXJ0IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBcIlNUQVJUX1BSSVZBVEVcIikge1xuICAgIHJldHVybiA8U3RhcnRQcml2YXRlIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBcIlJFUExZXCIpIHtcbiAgICByZXR1cm4gPFJlcGx5IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSBcIkVESVRcIikge1xuICAgIHJldHVybiA8RWRpdCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRWRpdG9yIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0b3JcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi91dGlscy9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi91dGlscy9sb2FkZXJcIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vdXRpbHMvbWVzc2FnZVwiXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tIFwiLi91dGlscy9hdHRhY2htZW50c1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogXCJcIixcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXhcbiAgICAgIC5nZXQodGhpcy5wcm9wcy5jb25maWcsIHRoaXMucHJvcHMuY29udGV4dCB8fCBudWxsKVxuICAgICAgLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpXG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnByb3BzLmNvbnRleHRcbiAgICBjb25zdCBuZXdDb250ZXh0ID0gbmV4dFByb3BzLmNvbnRleHRcblxuICAgIGlmIChjb250ZXh0ICYmIG5ld0NvbnRleHQgJiYgY29udGV4dC5yZXBseSA9PT0gbmV3Q29udGV4dC5yZXBseSkgcmV0dXJuXG5cbiAgICBhamF4XG4gICAgICAuZ2V0KG5leHRQcm9wcy5jb25maWcsIG5leHRQcm9wcy5jb250ZXh0IHx8IG51bGwpXG4gICAgICAudGhlbih0aGlzLmFwcGVuZERhdGEsIHNuYWNrYmFyLmFwaUVycm9yKVxuICB9XG5cbiAgbG9hZFN1Y2Nlc3MgPSBkYXRhID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVhZHk6IHRydWUsXG5cbiAgICAgIHBvc3Q6IGRhdGEucG9zdGVyXG4gICAgICAgID8gJ0AnICsgZGF0YS5wb3N0ZXIgKyAnXFxuJ1xuICAgICAgICA6IFwiXCJcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBhcHBlbmREYXRhID0gZGF0YSA9PiB7XG4gICAgY29uc3QgbmV3UG9zdCA9IGRhdGEucG9zdFxuICAgICAgPyAnQCcgKyBkYXRhLnBvc3RlciArICdcXG4nXG4gICAgICA6IFwiXCJcblxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGlmIChwcmV2U3RhdGUucG9zdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zdDogcHJldlN0YXRlLnBvc3QgKyBcIlxcblxcblwiICsgbmV3UG9zdFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc3Q6IG5ld1Bvc3RcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB5b3VyIHJlcGx5P1wiKVxuICAgIClcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvblBvc3RDaGFuZ2UgPSB2YWx1ZSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBvc3RcIiwgdmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cylcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciByZXBseSBoYXMgYmVlbiBwb3N0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgIClcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgICBleHBhbmQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yZWR9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFZGl0b3IgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXRvclwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL3V0aWxzL2NvbnRhaW5lclwiXG4vLyBpbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi91dGlscy9tZXNzYWdlXCJcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gXCIuL3V0aWxzL2F0dGFjaG1lbnRzXCJcbmltcG9ydCBjbGVhblVzZXJuYW1lcyBmcm9tIFwiLi91dGlscy91c2VybmFtZXNcIlxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMsIGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBjb25zdCB0byA9IChwcm9wcy50byB8fCBbXSkubWFwKHVzZXIgPT4gdXNlci51c2VybmFtZSkuam9pbihcIiwgXCIpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdG86IHRvLFxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBwb3N0OiBcIlwiLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAkKFwiI3VzZXJuYW1lc1wiKS5hdHdobyh7XG4gICAgICBhdDogXCJAXCIsXG4gICAgICBkaXNwbGF5VHBsOiAnPGxpPjxpbWcgc3JjPVwiJHthdmF0YXJ9XCIgYWx0PVwiXCI+JHt1c2VybmFtZX08L2xpPicsXG4gICAgICBpbnNlcnRUcGw6IFwiJHt1c2VybmFtZX0sIFwiLFxuICAgICAgc2VhcmNoS2V5OiBcInVzZXJuYW1lXCIsXG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgcmVtb3RlRmlsdGVyOiBmdW5jdGlvbiAocXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgJC5nZXRKU09OKG1pc2Fnby5nZXQoXCJNRU5USU9OX0FQSVwiKSwgeyBxOiBxdWVyeSB9LCBjYWxsYmFjaylcbiAgICAgICAgfVxuICAgICAgfX0pXG5cbiAgICAgICQoXCIjdXNlcm5hbWVzXCIpLm9uKFwiaW5zZXJ0ZWQuYXR3aG9cIiwgKGV2ZW50LCBmbGFnLCBxdWVyeSkgPT4ge1xuICAgICAgICB0aGlzLm9uVG9DaGFuZ2UoZXZlbnQpXG4gICAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCBwcml2YXRlIHRocmVhZD9cIilcbiAgICApXG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgb25Ub0NoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidG9cIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25UaXRsZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidGl0bGVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25Qb3N0Q2hhbmdlID0gdmFsdWUgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwb3N0XCIsIHZhbHVlKVxuICB9XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IGF0dGFjaG1lbnRzID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghY2xlYW5Vc2VybmFtZXModGhpcy5zdGF0ZS50bykubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYXQgbGVhc3Qgb25lIHJlY2lwaWVudC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHRvOiBjbGVhblVzZXJuYW1lcyh0aGlzLnN0YXRlLnRvKSxcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpXG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmxcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRvIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udGl0bGUgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgIClcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGlkPVwidXNlcm5hbWVzXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Ub0NoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiQ29tbWEgc2VwYXJhdGVkLCB1c2UgQCB0byBzaG93IHRoZSBkcm9wZG93biBvZiB1c2VyIGVnLjogRGFubnksIExpc2FcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRvfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgZXhwYW5kPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vdXRpbHMvbG9hZGVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIi4vdXRpbHMvb3B0aW9uc1wiXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tIFwiLi91dGlscy9hdHRhY2htZW50c1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBzaG93T3B0aW9uczogZmFsc2UsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IG51bGwsXG5cbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgY2F0ZWdvcnk6IHByb3BzLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBjbG9zZTogZmFsc2UsXG4gICAgICBoaWRlOiBmYWxzZSxcbiAgICAgIHBpbjogMCxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKCksXG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpXG4gIH1cblxuICBsb2FkU3VjY2VzcyA9IGRhdGEgPT4ge1xuICAgIGxldCBjYXRlZ29yeSA9IG51bGxcbiAgICBsZXQgc2hvd09wdGlvbnMgPSBmYWxzZVxuICAgIGxldCBjYXRlZ29yeU9wdGlvbnMgPSBudWxsXG5cbiAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbS5wb3N0ICE9PSBmYWxzZSAmJlxuICAgICAgICAoIWNhdGVnb3J5IHx8IGl0ZW0uaWQgPT0gdGhpcy5zdGF0ZS5jYXRlZ29yeSlcbiAgICAgICkge1xuICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWRcbiAgICAgICAgY2F0ZWdvcnlPcHRpb25zID0gaXRlbS5wb3N0XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnBvc3QgJiYgKGl0ZW0ucG9zdC5jbG9zZSB8fCBpdGVtLnBvc3QuaGlkZSB8fCBpdGVtLnBvc3QucGluKSkge1xuICAgICAgICBzaG93T3B0aW9ucyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICB9KVxuICB9XG5cbiAgbG9hZEVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB0aHJlYWQ/XCIpKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uVGl0bGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRpdGxlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnN0YXRlLmNhdGVnb3JpZXMuZmluZChpdGVtID0+IHtcbiAgICAgIHJldHVybiBldmVudC50YXJnZXQudmFsdWUgPT0gaXRlbS52YWx1ZVxuICAgIH0pXG5cbiAgICAvLyBpZiBzZWxlY3RlZCBwaW4gaXMgZ3JlYXRlciB0aGFuIGFsbG93ZWQsIHJlZHVjZSBpdFxuICAgIGxldCBwaW4gPSB0aGlzLnN0YXRlLnBpblxuICAgIGlmIChjYXRlZ29yeS5wb3N0LnBpbiAmJiBjYXRlZ29yeS5wb3N0LnBpbiA8IHBpbikge1xuICAgICAgcGluID0gY2F0ZWdvcnkucG9zdC5waW5cbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5pZCxcbiAgICAgIGNhdGVnb3J5T3B0aW9uczogY2F0ZWdvcnkucG9zdCxcblxuICAgICAgcGluXG4gICAgfSlcbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IHZhbHVlID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCB2YWx1ZSlcbiAgfVxuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSBhdHRhY2ggPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHM6YXR0YWNoXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNsb3NlXCIsIHRydWUpXG4gIH1cblxuICBvbk9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNsb3NlXCIsIGZhbHNlKVxuICB9XG5cbiAgb25QaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicGluXCIsIDIpXG4gIH1cblxuICBvblBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAxKVxuICB9XG5cbiAgb25VbnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicGluXCIsIDApXG4gIH1cblxuICBvbkhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImhpZGVcIiwgdHJ1ZSlcbiAgfVxuXG4gIG9uVW5oaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJoaWRlXCIsIGZhbHNlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgICAgY2xvc2U6IHRoaXMuc3RhdGUuY2xvc2UsXG4gICAgICBoaWRlOiB0aGlzLnN0YXRlLmhpZGUsXG4gICAgICBwaW46IHRoaXMuc3RhdGUucGluXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpXG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmxcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmNhdGVnb3J5IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udGl0bGUgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgIClcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgcmV0dXJuIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cblxuICAgIGxldCBjb2x1bW5zID0gMFxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5jbG9zZSkgY29sdW1ucyArPSAxXG4gICAgaWYgKHRoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zLmhpZGUpIGNvbHVtbnMgKz0gMVxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5waW4pIGNvbHVtbnMgKz0gMVxuXG4gICAgbGV0IHRpdGxlU3R5bGUgPSBudWxsXG5cbiAgICBpZiAoY29sdW1ucyA9PT0gMSkge1xuICAgICAgdGl0bGVTdHlsZSA9IFwiY29sLXNtLTZcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVN0eWxlID0gXCJjb2wtc20tOFwiXG4gICAgfVxuXG4gICAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTZcIlxuICAgIH0gZWxzZSBpZiAoY29sdW1ucykge1xuICAgICAgdGl0bGVTdHlsZSArPSBcIiBjb2wtbWQtN1wiXG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTlcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGl0bGVTdHlsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtMyB4cy1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgY2xvc2U9e3RoaXMuc3RhdGUuY2xvc2V9XG4gICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgaGlkZT17dGhpcy5zdGF0ZS5oaWRlfVxuICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uQ2xvc2V9XG4gICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5vbkhpZGV9XG4gICAgICAgICAgICAgIG9uT3Blbj17dGhpcy5vbk9wZW59XG4gICAgICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3RoaXMub25QaW5HbG9iYWxseX1cbiAgICAgICAgICAgICAgb25QaW5Mb2NhbGx5PXt0aGlzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICAgICAgb25VbmhpZGU9e3RoaXMub25VbmhpZGV9XG4gICAgICAgICAgICAgIG9uVW5waW49e3RoaXMub25VbnBpbn1cbiAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnN9XG4gICAgICAgICAgICAgIHBpbj17dGhpcy5zdGF0ZS5waW59XG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXt0aGlzLnN0YXRlLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIGV4cGFuZD17ZmFsc2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW4oYXR0YWNobWVudHMpIHtcbiAgY29uc3QgY29tcGxldGVkQXR0YWNobWVudHMgPSBhdHRhY2htZW50cy5maWx0ZXIoYXR0YWNobWVudCA9PiB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnQuaWQgJiYgIWF0dGFjaG1lbnQuaXNSZW1vdmVkXG4gIH0pXG5cbiAgcmV0dXJuIGNvbXBsZXRlZEF0dGFjaG1lbnRzLm1hcChhID0+IHtcbiAgICByZXR1cm4gYS5pZFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShhdHRhY2htZW50cykge1xuICByZXR1cm4gYXR0YWNobWVudHMubWFwKGF0dGFjaG1lbnQgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhdHRhY2htZW50LCB7XG4gICAgICB1cGxvYWRlZF9vbjogbW9tZW50KGF0dGFjaG1lbnQudXBsb2FkZWRfb24pXG4gICAgfSlcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj57cHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9jb250YWluZXJcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9Db250YWluZXI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9jb250YWluZXJcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVycm9yX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgb25DbGljaz17cG9zdGluZy5jbG9zZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGlzbWlzc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvd09wdGlvbnMpIHJldHVybiBudWxsXG5cbiAgY29uc3QgeyBjb2x1bW5zIH0gPSBwcm9wc1xuXG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy0xMiB4cy1tYXJnaW4tdG9wXCJcblxuICBpZiAoY29sdW1ucyA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtc20tMlwiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHNtLW1hcmdpbi10b3BcIlxuICB9XG5cbiAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgY29sLW1kLTNcIlxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtbWQtMlwiXG4gIH1cbiAgY2xhc3NOYW1lICs9IFwiIHBvc3Rpbmctb3B0aW9uc1wiXG5cbiAgY29uc3QgY29sdW1uQ2xhc3NOYW1lID0gXCJjb2wteHMtXCIgKyAxMiAvIGNvbHVtbnNcblxuICBsZXQgdGV4dENsYXNzTmFtZSA9IFwiYnRuLXRleHRcIlxuICBpZiAoY29sdW1ucyA9PT0gMykge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgdmlzaWJsZS1zbS1pbmxpbmUtYmxvY2tcIlxuICB9IGVsc2UgaWYgKGNvbHVtbnMgPT09IDIpIHtcbiAgICB0ZXh0Q2xhc3NOYW1lICs9IFwiIGhpZGRlbi1tZCBoaWRkZW4tbGdcIlxuICB9IGVsc2Uge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8UGluT3B0aW9uc1xuICAgICAgICAgIGNsYXNzTmFtZT17Y29sdW1uQ2xhc3NOYW1lfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvblBpbkdsb2JhbGx5PXtwcm9wcy5vblBpbkdsb2JhbGx5fVxuICAgICAgICAgIG9uUGluTG9jYWxseT17cHJvcHMub25QaW5Mb2NhbGx5fVxuICAgICAgICAgIG9uVW5waW49e3Byb3BzLm9uVW5waW59XG4gICAgICAgICAgcGluPXtwcm9wcy5waW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5waW59XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGVPcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGhpZGU9e3Byb3BzLmhpZGV9XG4gICAgICAgICAgb25IaWRlPXtwcm9wcy5vbkhpZGV9XG4gICAgICAgICAgb25VbmhpZGU9e3Byb3BzLm9uVW5oaWRlfVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuaGlkZX1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgICA8Q2xvc2VPcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgY2xvc2U9e3Byb3BzLmNsb3NlfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsb3NlPXtwcm9wcy5vbkNsb3NlfVxuICAgICAgICAgIG9uT3Blbj17cHJvcHMub25PcGVufVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuY2xvc2V9XG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMuY2xvc2UgPyBnZXR0ZXh0KFwiQ2xvc2VkXCIpIDogZ2V0dGV4dChcIk9wZW5cIilcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5jbG9zZSA/IHByb3BzLm9uT3BlbiA6IHByb3BzLm9uQ2xvc2V9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuY2xvc2UgPyBcImxvY2tcIiA6IFwibG9ja19vdXRsaW5lXCJ9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT57bGFiZWx9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGVPcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvdykgcmV0dXJuIG51bGxcblxuICBjb25zdCBsYWJlbCA9IHByb3BzLmhpZGUgPyBnZXR0ZXh0KFwiSGlkZGVuXCIpIDogZ2V0dGV4dChcIk5vdCBoaWRkZW5cIilcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5oaWRlID8gcHJvcHMub25VbmhpZGUgOiBwcm9wcy5vbkhpZGV9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuaGlkZSA/IFwidmlzaWJpbGl0eV9vZmZcIiA6IFwidmlzaWJpbGl0eVwifVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMudGV4dENsYXNzTmFtZX0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQaW5PcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2hvdykgcmV0dXJuIG51bGxcblxuICBsZXQgaWNvbiA9IG51bGxcbiAgbGV0IG9uQ2xpY2sgPSBudWxsXG4gIGxldCBsYWJlbCA9IG51bGxcblxuICBzd2l0Y2ggKHByb3BzLnBpbikge1xuICAgIGNhc2UgMDpcbiAgICAgIGljb24gPSBcInJhZGlvX2J1dHRvbl91bmNoZWNrZWRcIlxuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluTG9jYWxseVxuICAgICAgbGFiZWwgPSBnZXR0ZXh0KFwiVW5waW5uZWRcIilcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIDE6XG4gICAgICBpY29uID0gXCJib29rbWFya19vdXRsaW5lXCJcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkdsb2JhbGx5XG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKVxuXG4gICAgICBpZiAocHJvcHMuc2hvdyA9PSAyKSB7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkdsb2JhbGx5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25VbnBpblxuICAgICAgfVxuXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAyOlxuICAgICAgaWNvbiA9IFwiYm9va21hcmtcIlxuICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW5cbiAgICAgIGxhYmVsID0gZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17cHJvcHMudGV4dENsYXNzTmFtZX0+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih1c2VybmFtZXMpIHtcbiAgY29uc3Qgbm9ybWFsaXNlZE5hbWVzID0gdXNlcm5hbWVzLnNwbGl0KFwiLFwiKS5tYXAoaSA9PiBpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKVxuICBjb25zdCByZW1vdmVkQmxhbmtzID0gbm9ybWFsaXNlZE5hbWVzLmZpbHRlcihpID0+IGkubGVuZ3RoID4gMClcbiAgY29uc3QgcmVtb3ZlZER1cGxpY2F0ZXMgPSByZW1vdmVkQmxhbmtzLmZpbHRlcigobmFtZSwgcG9zKSA9PiB7XG4gICAgcmV0dXJuIHJlbW92ZWRCbGFua3MuaW5kZXhPZihuYW1lKSA9PSBwb3NcbiAgfSlcblxuICByZXR1cm4gcmVtb3ZlZER1cGxpY2F0ZXNcbn1cbiIsImltcG9ydCB7IG1heExlbmd0aCwgbWluTGVuZ3RoIH0gZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZVZhbGlkYXRvcnMoKSB7XG4gIHJldHVybiBbZ2V0VGl0bGVMZW5ndGhNaW4oKSwgZ2V0VGl0bGVMZW5ndGhNYXgoKV1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RWYWxpZGF0b3JzKCkge1xuICBpZiAobWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnBvc3RfbGVuZ3RoX21heCkge1xuICAgIHJldHVybiBbdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCksIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpXVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBbdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCldXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWluKCkge1xuICByZXR1cm4gbWluTGVuZ3RoKFxuICAgIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS50aHJlYWRfdGl0bGVfbGVuZ3RoX21pbixcbiAgICAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiVGhyZWFkIHRpdGxlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIFwiVGhyZWFkIHRpdGxlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBsaW1pdFZhbHVlXG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikudGhyZWFkX3RpdGxlX2xlbmd0aF9tYXgsXG4gICAgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgXCJUaHJlYWQgdGl0bGUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBsaW1pdFZhbHVlXG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSB7XG4gIHJldHVybiBtaW5MZW5ndGgoXG4gICAgbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnBvc3RfbGVuZ3RoX21pbixcbiAgICAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKFxuICAgIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5wb3N0X2xlbmd0aF9tYXggfHwgMTAwMDAwMCxcbiAgICAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiUG9zdGVkIG1lc3NhZ2UgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIFwiUG9zdGVkIG1lc3NhZ2UgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBsaW1pdFZhbHVlXG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtY29udHJvbHNcIj5cbiAgICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiBhY2wuY2FuX2hpZGVcbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgICBoaWRkZW5fYnlfbmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgICB1cmw6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5wb3N0LnVybCwge1xuICAgICAgICAgIGhpZGRlbl9ieTogdGhpcy5wcm9wcy51c2VyLnVybFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICApXG5cbiAgICBjb25zdCBvcCA9IHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogdHJ1ZSB9XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oXG4gICAgICBwYXRjaCA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgY29uc3Qgb3AgPSB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IGZhbHNlIH1cblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbihcbiAgICAgIHBhdGNoID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHBhdGNoKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNfaGlkZGVuOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlY2lzaW9uID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIGRlbGV0ZSB0aGlzIGV2ZW50PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIlxuICAgICAgKVxuICAgIClcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgIHRoaXMuZGVsZXRlKClcbiAgICB9XG4gIH1cblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCkudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiRXZlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIikpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmNvbnN0IElDT04gPSB7XG4gIGNoYW5nZWRfdGl0bGU6IFwiZWRpdFwiLFxuXG4gIHBpbm5lZF9nbG9iYWxseTogXCJib29rbWFya1wiLFxuICBwaW5uZWRfbG9jYWxseTogXCJib29rbWFya19ib3JkZXJcIixcbiAgdW5waW5uZWQ6IFwicGFub3JhbWFfZmlzaF9leWVcIixcblxuICBtb3ZlZDogXCJhcnJvd19mb3J3YXJkXCIsXG4gIG1lcmdlZDogXCJjYWxsX21lcmdlXCIsXG5cbiAgYXBwcm92ZWQ6IFwiZG9uZVwiLFxuXG4gIG9wZW5lZDogXCJsb2NrX29wZW5cIixcbiAgY2xvc2VkOiBcImxvY2tfb3V0bGluZVwiLFxuXG4gIHVuaGlkOiBcInZpc2liaWxpdHlcIixcbiAgaGlkOiBcInZpc2liaWxpdHlfb2ZmXCIsXG5cbiAgY2hhbmdlZF9vd25lcjogXCJncmFkZVwiLFxuICB0b29rb3ZlcjogXCJncmFkZVwiLFxuXG4gIGFkZGVkX3BhcnRpY2lwYW50OiBcInBlcnNvbl9hZGRcIixcblxuICBvd25lcl9sZWZ0OiBcInBlcnNvbl9vdXRsaW5lXCIsXG4gIHBhcnRpY2lwYW50X2xlZnQ6IFwicGVyc29uX291dGxpbmVcIixcbiAgcmVtb3ZlZF9wYXJ0aWNpcGFudDogXCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57SUNPTltwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgSWNvbiBmcm9tIFwiLi9pY29uXCJcbmltcG9ydCBJbmZvIGZyb20gXCIuL2luZm9cIlxuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4vbWVzc2FnZVwiXG5pbXBvcnQgVW5yZWFkTGFiZWwgZnJvbSBcIi4vdW5yZWFkLWxhYmVsXCJcbmltcG9ydCBXYXlwb2ludCBmcm9tIFwiLi4vd2F5cG9pbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gXCJldmVudFwiXG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9IFwiaGlkZVwiXG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcImV2ZW50IHBvc3QtaGlkZGVuXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGlkPXtcInBvc3QtXCIgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8VW5yZWFkTGFiZWwgcG9zdD17cHJvcHMucG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTIgY29sLXNtLTMgdGV4dC1yaWdodFwiPlxuICAgICAgICAgIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEwIGNvbC1zbS05IHRleHQtbGVmdFwiPlxuICAgICAgICAgIDxXYXlwb2ludCBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgICAgICAgIDxNZXNzYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxJbmZvIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L1dheXBvaW50PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIi4vY29udHJvbHNcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgREFURV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lIGV2ZW50LWluZm9cIj5cbiAgICAgIDxIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBsZXQgdXNlciA9IG51bGxcbiAgICBpZiAocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSB7XG4gICAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIFVTRVJfVVJMLFxuICAgICAgICB7XG4gICAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgVVNFUl9TUEFOLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgICAgREFURV9BQkJSLFxuICAgICAge1xuICAgICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mcm9tTm93KCkpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIkhpZGRlbiBieSAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzLlwiKSksXG4gICAgICB7XG4gICAgICAgIGV2ZW50X2J5OiB1c2VyLFxuICAgICAgICBldmVudF9vbjogZGF0ZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpXG4gICAgICAgIGNsYXNzTmFtZT1cImV2ZW50LWhpZGRlbi1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgICAvPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXIocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXIudXJsKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX1VSTCxcbiAgICB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaW5kZXgpLFxuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJCeSAlKGV2ZW50X2J5KXMgJShldmVudF9vbilzLlwiKSksXG4gICAge1xuICAgICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgICBldmVudF9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LXBvc3RlcnNcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgTUVTU0FHRSA9IHtcbiAgcGlubmVkX2dsb2JhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBnbG9iYWxseS5cIiksXG4gIHBpbm5lZF9sb2NhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKSxcbiAgdW5waW5uZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gdW5waW5uZWQuXCIpLFxuXG4gIGFwcHJvdmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKSxcblxuICBvcGVuZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gb3BlbmVkLlwiKSxcbiAgY2xvc2VkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIiksXG5cbiAgdW5oaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcmV2ZWFsZWQuXCIpLFxuICBoaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpLFxuXG4gIHRvb2tvdmVyOiBnZXR0ZXh0KFwiVG9vayB0aHJlYWQgb3Zlci5cIiksXG5cbiAgb3duZXJfbGVmdDogZ2V0dGV4dChcIk93bmVyIGhhcyBsZWZ0IHRocmVhZC4gVGhpcyB0aHJlYWQgaXMgbm93IGNsb3NlZC5cIiksXG4gIHBhcnRpY2lwYW50X2xlZnQ6IGdldHRleHQoXCJQYXJ0aWNpcGFudCBoYXMgbGVmdCB0aHJlYWQuXCIpXG59XG5cbmNvbnN0IElURU1fTElOSyA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUobmFtZSlzPC9hPidcbmNvbnN0IElURU1fU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG5hbWUpczwvc3Bhbj4nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChNRVNTQUdFW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV0pIHtcbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiPntNRVNTQUdFW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV19PC9wPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJjaGFuZ2VkX3RpdGxlXCIpIHtcbiAgICByZXR1cm4gPENoYW5nZWRUaXRsZSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcIm1vdmVkXCIpIHtcbiAgICByZXR1cm4gPE1vdmVkIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwibWVyZ2VkXCIpIHtcbiAgICByZXR1cm4gPE1lcmdlZCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcImNoYW5nZWRfb3duZXJcIikge1xuICAgIHJldHVybiA8Q2hhbmdlZE93bmVyIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwiYWRkZWRfcGFydGljaXBhbnRcIikge1xuICAgIHJldHVybiA8QWRkZWRQYXJ0aWNpcGFudCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcInJlbW92ZWRfcGFydGljaXBhbnRcIikge1xuICAgIHJldHVybiA8UmVtb3ZlZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VkVGl0bGUocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChcbiAgICBnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSAlKG9sZF90aXRsZSlzLlwiKVxuICApXG4gIGNvbnN0IG9sZFRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9TUEFOLFxuICAgIHtcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm9sZF90aXRsZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIG9sZF90aXRsZTogb2xkVGl0bGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW92ZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChcbiAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1vdmVkIGZyb20gJShmcm9tX2NhdGVnb3J5KXMuXCIpXG4gIClcbiAgY29uc3QgZnJvbUNhdGVnb3J5ID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS5uYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICBmcm9tX2NhdGVnb3J5OiBmcm9tQ2F0ZWdvcnlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVyZ2VkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoXG4gICAgZ2V0dGV4dChcIlRoZSAlKG1lcmdlZF90aHJlYWQpcyB0aHJlYWQgaGFzIGJlZW4gbWVyZ2VkIGludG8gdGhpcyB0aHJlYWQuXCIpXG4gIClcbiAgY29uc3QgbWVyZ2VkVGhyZWFkID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9TUEFOLFxuICAgIHtcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm1lcmdlZF90aHJlYWQpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIG1lcmdlZF90aHJlYWQ6IG1lcmdlZFRocmVhZFxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VkT3duZXIocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiQ2hhbmdlZCB0aHJlYWQgb3duZXIgdG8gJSh1c2VyKXMuXCIpKVxuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKFxuICAgIElURU1fTElOSyxcbiAgICB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIHVzZXI6IG5ld093bmVyXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFkZGVkUGFydGljaXBhbnQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiQWRkZWQgJSh1c2VyKXMgdG8gdGhyZWFkLlwiKSlcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX0xJTkssXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICB1c2VyOiBuZXdPd25lclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVkUGFydGljaXBhbnQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiUmVtb3ZlZCAlKHVzZXIpcyBmcm9tIHRocmVhZC5cIikpXG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgdXNlcjogbmV3T3duZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIGlmIChwb3N0LmlzX3JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTAgY29sLXhzLW9mZnNldC0yIGNvbC1zbS05IGNvbC1zbS1vZmZzZXQtMyB0ZXh0LWxlZnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJldmVudC1sYWJlbFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZFwiPntnZXR0ZXh0KFwiTmV3IGV2ZW50XCIpfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vZXZlbnRcIlxuaW1wb3J0IFBvc3QgZnJvbSBcIi4vcG9zdFwiXG5pbXBvcnQgUG9zdFByZXZpZXcgZnJvbSBcIi4vcG9zdC9wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICAgIDxQb3N0UHJldmlldyAvPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICB7cHJvcHMucG9zdHMucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiA8TGlzdEl0ZW0ga2V5PXtwb3N0LmlkfSBwb3N0PXtwb3N0fSB7Li4ucHJvcHN9IC8+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0SXRlbShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19ldmVudCkge1xuICAgIHJldHVybiA8RXZlbnQgey4uLnByb3BzfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxQb3N0IHsuLi5wcm9wc30gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuaW1wb3J0IGZvcm1hdEZpbGVzaXplIGZyb20gXCJtaXNhZ28vdXRpbHMvZmlsZS1zaXplXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtNlwiPlxuICAgICAgPEF0dGFjaG1lbnRQcmV2aWV3IHsuLi5wcm9wc30gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50XCI+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYXR0YWNobWVudC1uYW1lIGl0ZW0tdGl0bGVcIlxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLmF0dGFjaG1lbnQuZmlsZW5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgICAgPEF0dGFjaG1lbnREZXRhaWxzIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50UHJldmlldyhwcm9wcykge1xuICBpZiAocHJvcHMuYXR0YWNobWVudC5pc19pbWFnZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1wcmV2aWV3XCI+XG4gICAgICAgIDxBdHRhY2htZW50VGh1bWJuYWlsIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudEljb24gey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50SWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudFRodW1ibmFpbChwcm9wcykge1xuICBjb25zdCB1cmwgPSBwcm9wcy5hdHRhY2htZW50LnVybC50aHVtYiB8fCBwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleFxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJwb3N0LXRodW1ibmFpbFwiXG4gICAgICBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH1cbiAgICAgIHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogJ3VybChcIicgKyBlc2NhcGVIdG1sKHVybCkgKyAnXCIpJyB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnREZXRhaWxzKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMuYXR0YWNobWVudC51cmwudXBsb2FkZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXJsLnVwbG9hZGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgREFURV9BQkJSLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIiUoZmlsZXR5cGUpcywgJShzaXplKXMsIHVwbG9hZGVkIGJ5ICUodXBsb2FkZXIpcyAlKHVwbG9hZGVkX29uKXMuXCJcbiAgICAgIClcbiAgICApLFxuICAgIHtcbiAgICAgIGZpbGV0eXBlOiBwcm9wcy5hdHRhY2htZW50LmZpbGV0eXBlLFxuICAgICAgc2l6ZTogZm9ybWF0RmlsZXNpemUocHJvcHMuYXR0YWNobWVudC5zaXplKSxcbiAgICAgIHVwbG9hZGVyOiB1c2VyLFxuICAgICAgdXBsb2FkZWRfb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBiYXRjaCBmcm9tIFwibWlzYWdvL3V0aWxzL2JhdGNoXCJcbmltcG9ydCBBdHRhY2htZW50IGZyb20gXCIuL2F0dGFjaG1lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIWlzVmlzaWJsZShwcm9wcy5wb3N0KSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50c1wiPlxuICAgICAge2JhdGNoKHByb3BzLnBvc3QuYXR0YWNobWVudHMsIDIpLm1hcChyb3cgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSByb3dcbiAgICAgICAgICAubWFwKGEgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEgPyBhLmlkIDogMFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oXCJfXCIpXG4gICAgICAgIHJldHVybiA8Um93IGtleT17a2V5fSByb3c9e3Jvd30gLz5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiYgcG9zdC5hdHRhY2htZW50c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUm93KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIHtwcm9wcy5yb3cubWFwKGF0dGFjaG1lbnQgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxBdHRhY2htZW50XG4gICAgICAgICAgICBhdHRhY2htZW50PXthdHRhY2htZW50fVxuICAgICAgICAgICAga2V5PXthdHRhY2htZW50ID8gYXR0YWNobWVudC5pZCA6IDB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFdheXBvaW50IGZyb20gXCIuLi93YXlwb2ludFwiXG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBISURERU5fQllfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuY29uc3QgSElEREVOX0JZX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgSElEREVOX09OID1cbiAgJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuICYmICFwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikge1xuICAgIHJldHVybiA8SGlkZGVuIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmNvbnRlbnQpIHtcbiAgICByZXR1cm4gPERlZmF1bHQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8TWlzYWdvTWFya3VwIG1hcmt1cD17cHJvcHMucG9zdC5jb250ZW50fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbihwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLnBvc3QuaGlkZGVuX2J5KSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgSElEREVOX0JZX1VSTCxcbiAgICAgIHtcbiAgICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIEhJRERFTl9CWV9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBISURERU5fT04sXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJIaWRkZW4gYnkgJShoaWRkZW5fYnkpcyAlKGhpZGRlbl9vbilzLlwiKSksXG4gICAge1xuICAgICAgaGlkZGVuX2J5OiB1c2VyLFxuICAgICAgaGlkZGVuX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWhpZGRlblwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBoaWRkZW4uIFlvdSBjYW5ub3Qgc2VlIGl0cyBjb250ZW50cy5cIil9XG4gICAgICA8L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG4gICAgPC9XYXlwb2ludD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSW52YWxpZChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWludmFsaWRcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX1cbiAgICAgIDwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfVxuICAgICAgPC9wPlxuICAgIDwvV2F5cG9pbnQ+XG4gIClcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3VuYXBwcm92ZWQ6IHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IHRydWVcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHByb3BzLnBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW4sXG4gICAgaGlkZGVuX29uOiBwcm9wcy5wb3N0LmhpZGRlbl9vbixcbiAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICB1cmw6IHByb3BzLnBvc3QudXJsXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5oaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlblxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpa2UocHJvcHMpIHtcbiAgY29uc3QgbGFzdExpa2VzID0gcHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdXG4gIGNvbnN0IGNvbmNhdGVkTGlrZXMgPSBbcHJvcHMudXNlcl0uY29uY2F0KGxhc3RMaWtlcylcbiAgY29uc3QgZmluYWxMaWtlcyA9XG4gICAgY29uY2F0ZWRMaWtlcy5sZW5ndGggPiAzID8gY29uY2F0ZWRMaWtlcy5zbGljZSgwLCAtMSkgOiBjb25jYXRlZExpa2VzXG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19saWtlZDogdHJ1ZSxcbiAgICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzICsgMSxcbiAgICAgIGxhc3RfbGlrZXM6IGZpbmFsTGlrZXNcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWxpa2VkXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19saWtlZDogcHJvcHMucG9zdC5pc19saWtlZCxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXNcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxpa2UocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19saWtlZDogZmFsc2UsXG4gICAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyAtIDEsXG4gICAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXMuZmlsdGVyKHVzZXIgPT4ge1xuICAgICAgICByZXR1cm4gIXVzZXIuaWQgfHwgdXNlci5pZCAhPT0gcHJvcHMudXNlci5pZFxuICAgICAgfSlcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWxpa2VkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfbGlrZWQ6IHByb3BzLnBvc3QuaXNfbGlrZWQsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnBvc3QuYXBpLmluZGV4LCBvcHMpLnRoZW4oXG4gICAgbmV3U3RhdGUgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBuZXdTdGF0ZSkpXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHByZXZpb3VzU3RhdGUpKVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgIGdldHRleHQoXG4gICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwb3N0PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIlxuICAgIClcbiAgKVxuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KVxuICApXG5cbiAgYWpheC5kZWxldGUocHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oXG4gICAgKCkgPT4ge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9zdCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrQXNCZXN0QW5zd2VyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdCwgdXNlciB9ID0gcHJvcHNcblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICB0aHJlYWQudXBkYXRlKHtcbiAgICAgIGJlc3RfYW5zd2VyOiBwb3N0LmlkLFxuICAgICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogbW9tZW50KCksXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHVzZXIuaWQsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnOiB1c2VyLnNsdWdcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImJlc3QtYW5zd2VyXCIsIHZhbHVlOiBwb3N0LmlkIH0sXG4gICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfVxuICBdXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBiZXN0X2Fuc3dlcjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyLFxuICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfb24sXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5OiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5LFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWUsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWc6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1Z1xuICB9XG5cbiAgcGF0Y2hUaHJlYWQocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubWFya0Jlc3RBbnN3ZXIocHJvcHMpIHtcbiAgY29uc3QgeyBwb3N0IH0gPSBwcm9wc1xuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHRocmVhZC51cGRhdGUoe1xuICAgICAgYmVzdF9hbnN3ZXI6IG51bGwsXG4gICAgICBiZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQ6IGZhbHNlLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5OiBudWxsLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IG51bGwsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogbnVsbFxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeyBvcDogXCJyZW1vdmVcIiwgcGF0aDogXCJiZXN0LWFuc3dlclwiLCB2YWx1ZTogcG9zdC5pZCB9LFxuICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH1cbiAgXVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgYmVzdF9hbnN3ZXI6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcixcbiAgICBiZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQ6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWdcbiAgfVxuXG4gIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaFRocmVhZChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKSB7XG4gIGFqYXgucGF0Y2gocHJvcHMudGhyZWFkLmFwaS5pbmRleCwgb3BzKS50aGVuKFxuICAgIG5ld1N0YXRlID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5iZXN0X2Fuc3dlcl9tYXJrZWRfb24pIHtcbiAgICAgICAgbmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uID0gbW9tZW50KG5ld1N0YXRlLmJlc3RfYW5zd2VyX21hcmtlZF9vbilcbiAgICAgIH1cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUobmV3U3RhdGUpKVxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShwcmV2aW91c1N0YXRlKSlcbiAgICB9XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCAqIGFzIG1vZGVyYXRpb24gZnJvbSBcIi4vYWN0aW9uc1wiXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gXCIuL21vdmVcIlxuaW1wb3J0IFBvc3RDaGFuZ2Vsb2cgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nXCJcbmltcG9ydCBTcGxpdE1vZGFsIGZyb20gXCIuL3NwbGl0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgPFBlcm1hbGluayB7Li4ucHJvcHN9IC8+XG4gICAgICA8RWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5tYXJrTWFya0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0cyB7Li4ucHJvcHN9IC8+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8U3BsaXQgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVucHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFBlcm1hbGluayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbGV0IHBlcm1hVXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiXG4gICAgcGVybWFVcmwgKz0gd2luZG93LmxvY2F0aW9uLmhvc3RcbiAgICBwZXJtYVVybCArPSB0aGlzLnByb3BzLnBvc3QudXJsLmluZGV4XG5cbiAgICBwcm9tcHQoZ2V0dGV4dChcIlBlcm1hbWVudCBsaW5rIHRvIHRoaXMgcG9zdDpcIiksIHBlcm1hVXJsKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxpbms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQZXJtYW1lbnQgbGlua1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiRURJVFwiLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lZGl0PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tYXJrQXNCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9tYXJrX2FzX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHRocmVhZC5iZXN0X2Fuc3dlciAmJiAhdGhyZWFkLmFjbC5jYW5fY2hhbmdlX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWFyayBhcyBiZXN0IGFuc3dlclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5tYXJrTWFya0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5tYXJrQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAocG9zdC5pZCAhPT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fdW5tYXJrX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbm1hcmsgYmVzdCBhbnN3ZXJcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID1cbiAgICAgIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW5cbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwXG4gICAgaWYgKGlzSGlkZGVuIHx8IGlzVW5lZGl0ZWQpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lLlwiLFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZXMuXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApXG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgZWRpdHM6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lZGl0PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlcyBoaXN0b3J5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2FwcHJvdmUpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbW92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9zcGxpdDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnByb3RlY3QodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QpIHJldHVybiBudWxsXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5wcm90ZWN0KHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0KSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3Blbjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZSBwcm90ZWN0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9oaWRlKSByZXR1cm4gbnVsbFxuICAgIGlmIChwb3N0LmlzX2hpZGRlbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9kZWxldGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRHJvcGRvd24gZnJvbSBcIi4vZHJvcGRvd25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBkcm9wZG93blwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmV4cGFuZF9tb3JlPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1vdmUsIHtcbiAgICAgIG5ld190aHJlYWQ6IHRoaXMuc3RhdGUudXJsLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInVybFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1vdmUgcG9zdCB0b1wiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFt2YWxpZGF0b3JzLnJlcXVpcmVkKCldXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eV9vZmZcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICBpY29uOiBcImxvY2tfb3V0bGluZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgaWNvbjogXCJsb2NrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5hY2wgPSB7fVxuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiBbdGhpcy5wcm9wcy5wb3N0LmlkXVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0IHdhcyBzcGxpdCBpbnRvIG5ldyB0aHJlYWQuXCIpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pXG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IGV2ID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH1cblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInJlbW92ZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrX2JvcmRlclwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJib29rbWFya1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlc1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwid2VpZ2h0XCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRkZW5cIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfY2xvc2VkXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICA8L01vZGFsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgdGhpcyBwb3N0IGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPntwcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0IGludG8gbmV3IHRocmVhZFwiKX1cbiAgICAgICAgICA8L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ0Jlc3RBbnN3ZXIoeyBwb3N0LCB0aHJlYWQsIHVzZXIgfSkge1xuICBpZiAoIShpc1Zpc2libGUocG9zdCkgJiYgcG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKHVzZXIuaWQgJiYgdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieSA9PT0gdXNlci5pZCkge1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJNYXJrZWQgYXMgYmVzdCBhbnN3ZXIgYnkgeW91ICUobWFya2VkX29uKXMuXCIpLFxuICAgICAge1xuICAgICAgICBtYXJrZWRfb246IHRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfb24uZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiTWFya2VkIGFzIGJlc3QgYW5zd2VyIGJ5ICUobWFya2VkX2J5KXMgJShtYXJrZWRfb24pcy5cIiksXG4gICAgICB7XG4gICAgICAgIG1hcmtlZF9ieTogdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgICAgICBtYXJrZWRfb246IHRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfb24uZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLWJlc3QtYW5zd2VyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgPHA+e21lc3NhZ2V9PC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnSGlkZGVuKHByb3BzKSB7XG4gIGlmICghKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX2hpZGRlbikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICA8cD5cbiAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiBtYXkgc2VlIGl0cyBjb250ZW50cy5cIlxuICAgICAgICApfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgPHA+XG4gICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgIFwiVGhpcyBwb3N0IGlzIHVuYXBwcm92ZWQuIE9ubHkgdXNlcnMgd2l0aCBwZXJtaXNzaW9uIHRvIGFwcHJvdmUgcG9zdHMgYW5kIGl0cyBhdXRob3IgbWF5IHNlZSBpdHMgY29udGVudHMuXCJcbiAgICAgICAgKX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmxhZ1Byb3RlY3RlZChwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLXByb3RlY3RlZCB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgcHJvdGVjdGVkLiBPbmx5IG1vZGVyYXRvcnMgbWF5IGNoYW5nZSBpdC5cIil9PC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSBcIi4vY29udHJvbHMvYWN0aW9uc1wiXG5pbXBvcnQgTGlrZXNNb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1saWtlc1wiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIWlzVmlzaWJsZShwcm9wcy5wb3N0KSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1mb290ZXJcIj5cbiAgICAgIDxNYXJrQXNCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNYXJrQXNCZXN0QW5zd2VyQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8TGlrZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TGlrZXNcbiAgICAgICAgbGFzdExpa2VzPXtwcm9wcy5wb3N0Lmxhc3RfbGlrZXN9XG4gICAgICAgIGxpa2VzPXtwcm9wcy5wb3N0Lmxpa2VzfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICAgPExpa2VzQ29tcGFjdCBsaWtlcz17cHJvcHMucG9zdC5saWtlc30gey4uLnByb3BzfSAvPlxuICAgICAgPFJlcGx5IHsuLi5wcm9wc30gLz5cbiAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuIChcbiAgICAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJlxuICAgIChwb3N0LmFjbC5jYW5fcmVwbHkgfHxcbiAgICAgIHBvc3QuYWNsLmNhbl9lZGl0IHx8XG4gICAgICAocG9zdC5hY2wuY2FuX3NlZV9saWtlcyAmJiAocG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGgpIHx8XG4gICAgICBwb3N0LmFjbC5jYW5fbGlrZSlcbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgYWN0aW9ucy5tYXJrQXNCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9tYXJrX2FzX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aHJlYWQuYmVzdF9hbnN3ZXIgJiYgIXRocmVhZC5hY2wuY2FuX2NoYW5nZV9iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi14cyBidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5IHx8IHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgICAge2dldHRleHQoXCJCZXN0IGFuc3dlclwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlckNvbXBhY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGFjdGlvbnMubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5IHx8IHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19saWtlZCkge1xuICAgICAgYWN0aW9ucy51bmxpa2UodGhpcy5wcm9wcylcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9ucy5saWtlKHRoaXMucHJvcHMpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbGlrZSkgcmV0dXJuIG51bGxcblxuICAgIGxldCBjbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkKSB7XG4gICAgICBjbGFzc05hbWUgPSBcImJ0biBidG4tc3VjY2VzcyBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9zdC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQgPyBnZXR0ZXh0KFwiTGlrZWRcIikgOiBnZXR0ZXh0KFwiTGlrZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPExpa2VzTW9kYWwgcG9zdD17dGhpcy5wcm9wcy5wb3N0fSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBoYXNMaWtlcyA9ICh0aGlzLnByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXSkubGVuZ3RoID4gMFxuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGxcblxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgPT09IDIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgYnRuLXNtIHB1bGwtbGVmdCBoaWRkZW4teHNcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXRMaWtlc01lc3NhZ2UodGhpcy5wcm9wcy5saWtlcywgdGhpcy5wcm9wcy5sYXN0TGlrZXMpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwicHVsbC1sZWZ0IGhpZGRlbi14c1wiPlxuICAgICAgICB7Z2V0TGlrZXNNZXNzYWdlKHRoaXMucHJvcHMubGlrZXMsIHRoaXMucHJvcHMubGFzdExpa2VzKX1cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2VzQ29tcGFjdCBleHRlbmRzIExpa2VzIHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc0xpa2VzID0gKHRoaXMucHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGggPiAwXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgfHwgIWhhc0xpa2VzKSByZXR1cm4gbnVsbFxuXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyA9PT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc20gbGlrZXMtY29tcGFjdCBwdWxsLWxlZnQgdmlzaWJsZS14cy1ibG9ja1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZhdm9yaXRlPC9zcGFuPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmxpa2VzfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGlrZXMtY29tcGFjdCBwdWxsLWxlZnQgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZmF2b3JpdGU8L3NwYW4+XG4gICAgICAgIHt0aGlzLnByb3BzLmxpa2VzfVxuICAgICAgPC9wPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlrZXNNZXNzYWdlKGxpa2VzLCB1c2Vycykge1xuICBjb25zdCB1c2VybmFtZXMgPSB1c2Vycy5zbGljZSgwLCAzKS5tYXAodSA9PiB1LnVzZXJuYW1lKVxuXG4gIGlmICh1c2VybmFtZXMubGVuZ3RoID09IDEpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VyKXMgbGlrZXMgdGhpcy5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXI6IHVzZXJuYW1lc1swXVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBoaWRkZW5MaWtlcyA9IGxpa2VzIC0gdXNlcm5hbWVzLmxlbmd0aFxuXG4gIGNvbnN0IG90aGVyVXNlcnMgPSB1c2VybmFtZXMuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKVxuICBjb25zdCBsYXN0VXNlciA9IHVzZXJuYW1lcy5zbGljZSgtMSlbMF1cblxuICBjb25zdCB1c2VybmFtZXNMaXN0ID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIiUodXNlcnMpcyBhbmQgJShsYXN0X3VzZXIpc1wiKSxcbiAgICB7XG4gICAgICB1c2Vyczogb3RoZXJVc2VycyxcbiAgICAgIGxhc3RfdXNlcjogbGFzdFVzZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGlmIChoaWRkZW5MaWtlcyA9PT0gMCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJzKXMgbGlrZSB0aGlzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcnM6IHVzZXJuYW1lc0xpc3RcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh1c2VycylzIGFuZCAlKGxpa2VzKXMgb3RoZXIgdXNlciBsaWtlIHRoaXMuXCIsXG4gICAgXCIlKHVzZXJzKXMgYW5kICUobGlrZXMpcyBvdGhlciB1c2VycyBsaWtlIHRoaXMuXCIsXG4gICAgaGlkZGVuTGlrZXNcbiAgKVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHVzZXJzOiB1c2VybmFtZXMuam9pbihcIiwgXCIpLFxuICAgICAgbGlrZXM6IGhpZGRlbkxpa2VzXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFJlcGx5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJSRVBMWVwiLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcblxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXBseTogdGhpcy5wcm9wcy5wb3N0LmlkXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcmVwbHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVwbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiRURJVFwiLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi14cyBidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDb250cm9scyBmcm9tIFwiLi9jb250cm9sc1wiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCIuL3NlbGVjdFwiXG5pbXBvcnQge1xuICBTdGF0dXNJY29uLFxuICBnZXRTdGF0dXNDbGFzc05hbWUsXG4gIGdldFN0YXR1c0Rlc2NyaXB0aW9uXG59IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5pbXBvcnQgUG9zdENoYW5nZWxvZyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2dcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1oZWFkaW5nXCI+XG4gICAgICA8VW5yZWFkTGFiZWwgey4uLnByb3BzfSAvPlxuICAgICAgPFVucmVhZENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlZE9uIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbkNvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0cyB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdEVkaXRzQ29tcGFjdHMgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3RlZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTZWxlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPENvbnRyb2xzIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5yZWFkTGFiZWwocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCBoaWRkZW4teHNcIj57Z2V0dGV4dChcIk5ldyBwb3N0XCIpfTwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5yZWFkQ29tcGFjdChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtdW5yZWFkIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCI+XG4gICAgICB7Z2V0dGV4dChcIk5ld1wiKX1cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlZE9uKHByb3BzKSB7XG4gIGNvbnN0IHRvb2x0aXAgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwicG9zdGVkICUocG9zdGVkX29uKXNcIiksXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fVxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3RlZC1vbiBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgPlxuICAgICAge3Byb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlZE9uQ29tcGFjdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBocmVmPXtwcm9wcy5wb3N0LnVybC5pbmRleH1cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0ZWQtb24gdmlzaWJsZS14cy1pbmxpbmUtYmxvY2tcIlxuICAgID5cbiAgICAgIHtwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxQb3N0Q2hhbmdlbG9nIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPVxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDBcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IHRvb2x0aXAgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWUuXCIsXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lcy5cIixcbiAgICAgIHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgIClcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICB0b29sdGlwLFxuICAgICAge1xuICAgICAgICBlZGl0czogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcImVkaXRlZCAlKGVkaXRzKXMgdGltZVwiLFxuICAgICAgXCJlZGl0ZWQgJShlZGl0cylzIHRpbWVzXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgYnRuLXNlZS1lZGl0cyBoaWRkZW4teHNcIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZGl0czogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICl9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0c0NvbXBhY3RzIGV4dGVuZHMgUG9zdEVkaXRzIHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID1cbiAgICAgIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW5cbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwXG4gICAgaWYgKGlzSGlkZGVuIHx8IGlzVW5lZGl0ZWQpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKGVkaXRzKXMgZWRpdFwiLFxuICAgICAgXCIlKGVkaXRzKXMgZWRpdHNcIixcbiAgICAgIHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkTGFiZWwocHJvcHMpIHtcbiAgY29uc3QgcG9zdEF1dGhvciA9IHByb3BzLnBvc3QucG9zdGVyICYmIHByb3BzLnBvc3QucG9zdGVyLmlkID09PSBwcm9wcy51c2VyLmlkXG4gIGNvbnN0IGhhc0FjbCA9IHByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0XG4gIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgcHJvcHMudXNlci5pZCAmJiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCAmJiAocG9zdEF1dGhvciB8fCBoYXNBY2wpXG5cbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtcHJvdGVjdGVkIGhpZGRlbi14c1wiXG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBwcm90ZWN0ZWQgYW5kIG1heSBub3QgYmUgZWRpdGVkLlwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJwcm90ZWN0ZWRcIil9XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdHRhY2htZW50cyBmcm9tIFwiLi9hdHRhY2htZW50c1wiXG5pbXBvcnQgQm9keSBmcm9tIFwiLi9ib2R5XCJcbmltcG9ydCB7XG4gIEZsYWdCZXN0QW5zd2VyLFxuICBGbGFnSGlkZGVuLFxuICBGbGFnVW5hcHByb3ZlZCxcbiAgRmxhZ1Byb3RlY3RlZFxufSBmcm9tIFwiLi9mbGFnc1wiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuL2Zvb3RlclwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgUG9zdFNpZGUgZnJvbSBcIi4vcG9zdC1zaWRlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwicG9zdFwiXG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9IFwiaGlkZVwiXG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJwb3N0IHBvc3QtaGlkZGVuXCJcbiAgfVxuXG4gIGlmIChwcm9wcy5wb3N0LnBvc3RlciAmJiBwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBwb3N0LVwiICsgcHJvcHMucG9zdC5wb3N0ZXIucmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIGlmICghcHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHBvc3QtbmV3XCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGlkPXtcInBvc3QtXCIgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPFBvc3RTaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC05XCI+XG4gICAgICAgICAgICAgIDxIZWFkZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8RmxhZ0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8RmxhZ1VuYXBwcm92ZWQgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8RmxhZ1Byb3RlY3RlZCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnSGlkZGVuIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEJvZHkgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8QXR0YWNobWVudHMgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8Rm9vdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBDb250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9zZWxlY3RcIlxuaW1wb3J0IFVzZXJTdGF0dXMsIHtcbiAgU3RhdHVzSWNvbixcbiAgU3RhdHVzTGFiZWxcbn0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBVc2VyUG9zdGNvdW50IGZyb20gXCIuL3VzZXItcG9zdGNvdW50XCJcbmltcG9ydCBVc2VyVGl0bGUgZnJvbSBcIi4vdXNlci10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMyBwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgPFNlbGVjdCBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxDb250cm9scyBwb3N0PXtwb3N0fSB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXsxMDB9IC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZyBpdGVtLXRpdGxlXCI+e3Bvc3QucG9zdGVyX25hbWV9PC9zcGFuPlxuXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZW1vdmVkIHVzZXJcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHRpdGxlLCByYW5rIH0pIHtcbiAgcmV0dXJuIHJhbmsuaXNfdGFiIHx8ICEhdGl0bGUgfHwgISFyYW5rLnRpdGxlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBbm9ueW1vdXMgZnJvbSBcIi4vYW5vbnltb3VzXCJcbmltcG9ydCBSZWdpc3RlcmVkIGZyb20gXCIuL3JlZ2lzdGVyZWRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gPFJlZ2lzdGVyZWQgey4uLnByb3BzfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxBbm9ueW1vdXMgey4uLnByb3BzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdFwiXG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNJY29uIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBVc2VyUG9zdGNvdW50IGZyb20gXCIuL3VzZXItcG9zdGNvdW50XCJcbmltcG9ydCBVc2VyU3RhdHVzTGFiZWwgZnJvbSBcIi4vdXNlci1zdGF0dXNcIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCB0aHJlYWQgfSkge1xuICBjb25zdCB7IHBvc3RlciB9ID0gcG9zdFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTMgcG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8U2VsZWN0IHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENvbnRyb2xzIHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezEwMH0gdXNlcj17cG9zdGVyfSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Bvc3Rlci51cmx9PlxuICAgICAgICAgICAgICB7cG9zdGVyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfT5cbiAgICAgICAgICAgICAgPFN0YXR1c0ljb24gc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfSAvPlxuICAgICAgICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPFVzZXJUaXRsZSByYW5rPXtwb3N0ZXIucmFua30gdGl0bGU9e3Bvc3Rlci50aXRsZX0gLz5cblxuICAgICAgICAgIDxVc2VyU3RhdHVzTGFiZWwgcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gICAgICAgICAgPFVzZXJQb3N0Y291bnQgcG9zdGVyPXtwb3N0ZXJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGhhc1Zpc2libGVUaXRsZSBmcm9tIFwiLi9oYXMtdmlzaWJsZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShwb3N0cylzIHBvc3RcIiwgXCIlKHBvc3RzKXMgcG9zdHNcIiwgcG9zdGVyLnBvc3RzKVxuXG4gIGxldCBjbGFzc05hbWUgPSBcInVzZXItcG9zdGNvdW50XCJcbiAgaWYgKGhhc1Zpc2libGVUaXRsZShwb3N0ZXIpKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBwb3N0czogcG9zdGVyLnBvc3RzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0xhYmVsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBoYXNWaXNpYmxlVGl0bGUgZnJvbSBcIi4vaGFzLXZpc2libGUtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3RlciB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImhpZGRlbi14c1wiXG4gIGlmIChoYXNWaXNpYmxlVGl0bGUocG9zdGVyKSkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4tc21cIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8VXNlclN0YXR1cyBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9PlxuICAgICAgICA8U3RhdHVzTGFiZWwgc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfSB1c2VyPXtwb3N0ZXJ9IC8+XG4gICAgICA8L1VzZXJTdGF0dXM+XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByYW5rLCB0aXRsZSB9KSB7XG4gIGxldCB1c2VyVGl0bGUgPSB0aXRsZSB8fCByYW5rLnRpdGxlXG4gIGlmICghdXNlclRpdGxlICYmIHJhbmsuaXNfdGFiKSB7XG4gICAgdXNlclRpdGxlID0gcmFuay5uYW1lXG4gIH1cblxuICBpZiAoIXVzZXJUaXRsZSkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ1c2VyLXRpdGxlXCJcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHVzZXItdGl0bGUtXCIgKyByYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgaWYgKHJhbmsuaXNfdGFiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8YSBocmVmPXtyYW5rLnVybH0+e3VzZXJUaXRsZX08L2E+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+e3VzZXJUaXRsZX08L2Rpdj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib3JkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmcgcG9zdC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc1NlbGVjdGVkKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5zZWxlY3QodGhpcy5wcm9wcy5wb3N0KSlcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKFxuICAgICAgISh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlX3Bvc3RzIHx8IGlzVmlzaWJsZSh0aGlzLnByb3BzLnBvc3QuYWNsKSlcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBoaWRkZW4teHNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc1NlbGVjdGVkXG4gICAgICAgICAgICAgID8gXCJjaGVja19ib3hcIlxuICAgICAgICAgICAgICA6IFwiY2hlY2tfYm94X291dGxpbmVfYmxhbmtcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiAoXG4gICAgYWNsLmNhbl9hcHByb3ZlIHx8XG4gICAgYWNsLmNhbl9oaWRlIHx8XG4gICAgYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgYWNsLmNhbl91bmhpZGUgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fbW92ZVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qXG4gIFN1cGVyIG5haXZlIGFuZCBkZS1mYWN0byBwbGFjZWhvbGRlciBpbXBsZW1lbnRhdGlvbiBmb3IgcmVhZGluZyBwb3N0cyBvbiBzY3JvbGxcbiAgKi9cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gLy8gZG9uJ3QgcmVnaXN0ZXIgcmVhZCB0cmFja2VyXG5cbiAgICAkKHRoaXMuZG9jdW1lbnROb2RlKS53YXlwb2ludCh7XG4gICAgICBoYW5kbGVyOiBkaXJlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSBcImRvd25cIiB8fCB0aGlzLnByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuXG5cbiAgICAgICAgLy8gYWZ0ZXIgMTUwMG1zIHJ1biBmbGFnIHBvc3QgYXMgcmVhZCBsb2dpY1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgcG9zdCdzIGJvdHRvbSBlZGdlIGlzIHN0aWxsIGluIHZpZXdwb3J0XG4gICAgICAgICAgY29uc3QgYm91bmRpbmdDbGllbnRSZWN0ID0gdGhpcy5kb2N1bWVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICBjb25zdCBvZmZzZXRCb3R0b20gPVxuICAgICAgICAgICAgYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCArIGJvdW5kaW5nQ2xpZW50UmVjdC50b3BcbiAgICAgICAgICBjb25zdCBjbGllbnRIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cbiAgICAgICAgICBpZiAob2Zmc2V0Qm90dG9tIDwgNSkgcmV0dXJuIC8vIHNjcm9sbGVkIHBhc3QgdGhlIHBvc3RcbiAgICAgICAgICBpZiAob2Zmc2V0Qm90dG9tID4gY2xpZW50SGVpZ2h0KSByZXR1cm4gLy8gc2Nyb2xsZWQgYmFjayB1cFxuXG4gICAgICAgICAgLy8gbWFyayBwb3N0IGFzIHJlYWRcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgICAgICAgIGlzX3JlYWQ6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgLy8gY2FsbCBBUEkgdG8gbGV0IGl0IGtub3cgd2UgaGF2ZSB1bnJlYWQgcG9zdFxuICAgICAgICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvc3QuYXBpLnJlYWQpLnRoZW4oXG4gICAgICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgdGhyZWFkLnVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZDogZGF0YS50aHJlYWRfaXNfcmVhZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9LCAxMDAwKVxuICAgICAgfSxcbiAgICAgIG9mZnNldDogXCJib3R0b20taW4tdmlld1wiXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICByZWY9e25vZGUgPT4ge1xuICAgICAgICAgIHRoaXMuZG9jdW1lbnROb2RlID0gbm9kZVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1sb2FkZXJcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRV9CQU5cIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoXCJQUk9GSUxFX0JBTlwiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnByb2ZpbGUuYXBpLmJhbilcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShiYW4pIHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGJhblxuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiYmFuLWRldGFpbHNcIixcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgZXJyb3I6IHRoaXMuZXJyb3JcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gYmFuID0+IHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgYmFuXG4gICAgfSlcbiAgfVxuXG4gIGVycm9yID0gZXJyb3IgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogZXJyb3IuZGV0YWlsLFxuICAgICAgYmFuOiBudWxsXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcChcImJhbi1kZXRhaWxzXCIpXG4gIH1cblxuICBnZXRVc2VyTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXVzZXItbWVzc2FnZVwiPlxuICAgICAgICAgIDxoND57Z2V0dGV4dChcIlVzZXItc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsZWFkXCJcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0U3RhZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXN0YWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8aDQ+e2dldHRleHQoXCJUZWFtLXNob3duIGJhbiBtZXNzYWdlXCIpfTwvaDQ+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGVhZFwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICBfX2h0bWw6IHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UuaHRtbFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzICUoZXhwaXJlc19vbilzLlwiKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzX29uOiB0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmZyb21Ob3coKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+e21lc3NhZ2V9PC9hYmJyPlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBoYXMgZXhwaXJlZC5cIilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYmFuIGlzIHBlcm1hbmVudC5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRQYW5lbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zdGF0ZS5iYW4pLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5nZXRVc2VyTWVzc2FnZSgpfVxuICAgICAgICAgICAge3RoaXMuZ2V0U3RhZmZNZXNzYWdlKCl9XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tZXhwaXJlc1wiPlxuICAgICAgICAgICAgICA8aDQ+e2dldHRleHQoXCJCYW4gZXhwaXJhdGlvblwiKX08L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPFBhbmVsTWVzc2FnZVxuICAgICAgICAgICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiTm8gYmFuIGlzIGFjdGl2ZSBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFBhbmVsTWVzc2FnZSBpY29uPVwiZXJyb3Jfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxQYW5lbExvYWRlciAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1iYW4tZGV0YWlsc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQmFuIGRldGFpbHNcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHt0aGlzLmdldFBhbmVsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgaXNBdXRoZW50aWNhdGVkLCBwcm9maWxlIH0pIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIllvdSBhcmUgbm90IHNoYXJpbmcgYW55IGRldGFpbHMgd2l0aCBvdGhlcnMuXCIpXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBub3Qgc2hhcmluZyBhbnkgZGV0YWlscyB3aXRoIG90aGVycy5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgdGV4dC1jZW50ZXIgbGVhZFwiPnttZXNzYWdlfTwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBodG1sLCB0ZXh0LCB1cmwgfSkge1xuICBpZiAoaHRtbCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbC1zdGF0aWMgY29sLW1kLTlcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGh0bWwgfX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbC1zdGF0aWMgY29sLW1kLTlcIj5cbiAgICAgIDxTYWZlVmFsdWUgdGV4dD17dGV4dH0gdXJsPXt1cmx9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNhZmVWYWx1ZSh7IHRleHQsIHVybCB9KSB7XG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9e3VybH0gdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9mb2xsb3dcIj5cbiAgICAgICAgICB7dGV4dCB8fCB1cmx9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cblxuICBpZiAodGV4dCkge1xuICAgIHJldHVybiA8cD57dGV4dH08L3A+XG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGRWYWx1ZSBmcm9tIFwiLi9maWVsZC12YWx1ZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWwgY29sLW1kLTNcIj57cHJvcHMubmFtZX06PC9zdHJvbmc+XG4gICAgICA8RmllbGRWYWx1ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXQtZGV0YWlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgYXBpLCBkaXNwbGF5LCBvbkNhbmNlbCwgb25TdWNjZXNzIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8Rm9ybSBhcGk9e2FwaX0gb25DYW5jZWw9e29uQ2FuY2VsfSBvblN1Y2Nlc3M9e29uU3VjY2Vzc30gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZpZWxkIGZyb20gXCIuL2ZpZWxkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBmaWVsZHMsIG5hbWUgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wcm9maWxlLWRldGFpbHMtZ3JvdXBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57bmFtZX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgICAgICB7ZmllbGRzLm1hcCgoeyBmaWVsZG5hbWUsIGh0bWwsIG5hbWUsIHRleHQsIHVybCB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RmllbGRcbiAgICAgICAgICAgICAgICBrZXk9e2ZpZWxkbmFtZX1cbiAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgIGh0bWw9e2h0bWx9XG4gICAgICAgICAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgICAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRW1wdHlNZXNzYWdlIGZyb20gXCIuL2VtcHR5LW1lc3NhZ2VcIlxuaW1wb3J0IEdyb3VwIGZyb20gXCIuL2dyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHtcbiAgZGlzcGxheSxcbiAgZ3JvdXBzLFxuICBpc0F1dGhlbnRpY2F0ZWQsXG4gIGxvYWRpbmcsXG4gIHByb2ZpbGVcbn0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgfVxuXG4gIGlmICghZ3JvdXBzLmxlbmd0aCkge1xuICAgIHJldHVybiA8RW1wdHlNZXNzYWdlIGlzQXV0aGVudGljYXRlZD17aXNBdXRoZW50aWNhdGVkfSBwcm9maWxlPXtwcm9maWxlfSAvPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAge2dyb3Vwcy5tYXAoKGdyb3VwLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiA8R3JvdXAgZmllbGRzPXtncm91cC5maWVsZHN9IGtleT17aX0gbmFtZT17Z3JvdXAubmFtZX0gLz5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBvbkVkaXQsIHNob3dFZGl0QnV0dG9uIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtbWQtMTBcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtZC1tYXJnaW4tdG9wLW5vXCI+e2dldHRleHQoXCJEZXRhaWxzXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEVkaXRCdXR0b24gb25FZGl0PXtvbkVkaXR9IHNob3dFZGl0QnV0dG9uPXtzaG93RWRpdEJ1dHRvbn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25hdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRWRpdEJ1dHRvbih7IG9uRWRpdCwgc2hvd0VkaXRCdXR0b24gfSkge1xuICBpZiAoIXNob3dFZGl0QnV0dG9uKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBjb2wtbWQtMlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17b25FZGl0fVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgR3JvdXBzTGlzdCBmcm9tIFwiLi9ncm91cHMtbGlzdFwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgUHJvZmlsZURldGFpbHNEYXRhIGZyb20gXCJtaXNhZ28vZGF0YS9wcm9maWxlLWRldGFpbHNcIlxuaW1wb3J0IHsgbG9hZCBhcyBsb2FkRGV0YWlscyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZWRpdGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJEZXRhaWxzXCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IGZhbHNlIH0pXG4gIH1cblxuICBvbkVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IHRydWUgfSlcbiAgfVxuXG4gIG9uU3VjY2VzcyA9IG5ld0RldGFpbHMgPT4ge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGlzQXV0aGVudGljYXRlZCwgcHJvZmlsZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCkge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3VyIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIHNuYWNrYmFyLmluZm8obWVzc2FnZSlcbiAgICBkaXNwYXRjaChsb2FkRGV0YWlscyhuZXdEZXRhaWxzKSlcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpc0F1dGhlbnRpY2F0ZWQsIHByb2ZpbGUsIHByb2ZpbGVEZXRhaWxzIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbG9hZGluZyA9IHByb2ZpbGVEZXRhaWxzLmlkICE9PSBwcm9maWxlLmlkXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFByb2ZpbGVEZXRhaWxzRGF0YVxuICAgICAgICBkYXRhPXtwcm9maWxlRGV0YWlsc31cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICB1c2VyPXtwcm9maWxlfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZGV0YWlsc1wiPlxuICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgIG9uRWRpdD17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICBzaG93RWRpdEJ1dHRvbj17ISFwcm9maWxlRGV0YWlscy5lZGl0ICYmICF0aGlzLnN0YXRlLmVkaXRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8R3JvdXBzTGlzdFxuICAgICAgICAgICAgZGlzcGxheT17IXRoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIGdyb3Vwcz17cHJvZmlsZURldGFpbHMuZ3JvdXBzfVxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9XG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgcHJvZmlsZT17cHJvZmlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBhcGk9e3Byb2ZpbGUuYXBpLmVkaXRfZGV0YWlsc31cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGRpc3BsYXk9e3RoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgb25TdWNjZXNzPXt0aGlzLm9uU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUHJvZmlsZURldGFpbHNEYXRhPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUm91dGUgZnJvbSBcIi4vcm91dGVcIlxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkcyhwcm9wcykge1xuICBsZXQgZW1wdHlNZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMudXNlci5pZCA9PT0gcHJvcHMucHJvZmlsZS5pZCkge1xuICAgIGVtcHR5TWVzc2FnZSA9IGdldHRleHQoXCJZb3UgaGF2ZSBubyBzdGFydGVkIHRocmVhZHMuXCIpXG4gIH0gZWxzZSB7XG4gICAgZW1wdHlNZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHN0YXJ0ZWQgbm8gdGhyZWFkcy5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGxldCBoZWFkZXIgPSBudWxsXG4gIGlmICghcHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICBoZWFkZXIgPSBnZXR0ZXh0KFwiTG9hZGluZy4uLlwiKVxuICB9IGVsc2UgaWYgKHByb3BzLnByb2ZpbGUuaWQgPT09IHByb3BzLnVzZXIuaWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIllvdSBoYXZlIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkLlwiLFxuICAgICAgXCJZb3UgaGF2ZSBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZHMuXCIsXG4gICAgICBwcm9wcy5wcm9maWxlLnRocmVhZHNcbiAgICApXG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHRocmVhZHM6IHByb3BzLnByb2ZpbGUudGhyZWFkc1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkLlwiLFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkcy5cIixcbiAgICAgIHByb3BzLnByb2ZpbGUudGhyZWFkc1xuICAgIClcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgIHRocmVhZHM6IHByb3BzLnByb2ZpbGUudGhyZWFkc1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgYXBpPXtwcm9wcy5wcm9maWxlLmFwaS50aHJlYWRzfVxuICAgICAgZW1wdHlNZXNzYWdlPXtlbXB0eU1lc3NhZ2V9XG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhyZWFkc1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0cyhwcm9wcykge1xuICBsZXQgZW1wdHlNZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMudXNlci5pZCA9PT0gcHJvcHMucHJvZmlsZS5pZCkge1xuICAgIGVtcHR5TWVzc2FnZSA9IGdldHRleHQoXCJZb3UgaGF2ZSBwb3N0ZWQgbm8gbWVzc2FnZXMuXCIpXG4gIH0gZWxzZSB7XG4gICAgZW1wdHlNZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHBvc3RlZCBubyBtZXNzYWdlcy5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGxldCBoZWFkZXIgPSBudWxsXG4gIGlmICghcHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICBoZWFkZXIgPSBnZXR0ZXh0KFwiTG9hZGluZy4uLlwiKVxuICB9IGVsc2UgaWYgKHByb3BzLnByb2ZpbGUuaWQgPT09IHByb3BzLnVzZXIuaWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIllvdSBoYXZlIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZS5cIixcbiAgICAgIFwiWW91IGhhdmUgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlcy5cIixcbiAgICAgIHByb3BzLnByb2ZpbGUucG9zdHNcbiAgICApXG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHBvc3RzOiBwcm9wcy5wcm9maWxlLnBvc3RzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlLlwiLFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZXMuXCIsXG4gICAgICBwcm9wcy5wcm9maWxlLnBvc3RzXG4gICAgKVxuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgcG9zdHM6IHByb3BzLnByb2ZpbGUucG9zdHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGkucG9zdHN9XG4gICAgICBlbXB0eU1lc3NhZ2U9e2VtcHR5TWVzc2FnZX1cbiAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJQb3N0c1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQb3N0RmVlZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBsb2FkSXRlbXMoc3RhcnQgPSAwKSB7XG4gICAgYWpheFxuICAgICAgLmdldCh0aGlzLnByb3BzLmFwaSwge1xuICAgICAgICBzdGFydDogc3RhcnQgfHwgMFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoc3RhcnQgPT09IDApIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YSkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmFwcGVuZChkYXRhKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZEl0ZW1zKHRoaXMucHJvcHMucG9zdHMubmV4dClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcblxuICAgIHRoaXMubG9hZEl0ZW1zKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWZlZWRcIj5cbiAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPnt0aGlzLnByb3BzLmhlYWRlcn08L2gzPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPEZlZWRcbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGxvYWRNb3JlPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGZWVkKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdHMucmVzdWx0cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPntwcm9wcy5lbXB0eU1lc3NhZ2V9PC9wPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RGZWVkXG4gICAgICAgIGlzUmVhZHk9e3Byb3BzLnBvc3RzLmlzTG9hZGVkfVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHMucmVzdWx0c31cbiAgICAgICAgcG9zdGVyPXtwcm9wcy5wcm9maWxlfVxuICAgICAgLz5cbiAgICAgIDxMb2FkTW9yZUJ1dHRvblxuICAgICAgICBpc0xvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgbG9hZE1vcmU9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgICBuZXh0PXtwcm9wcy5wb3N0cy5uZXh0fVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZE1vcmVCdXR0b24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5uZXh0KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgIGxvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17cHJvcHMubG9hZE1vcmV9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBvbGRlciBhY3Rpdml0eVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyBcIiBidG4tZGVmYXVsdCBidG4tZm9sbG93aW5nXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgXCIgYnRuLWRlZmF1bHQgYnRuLWZvbGxvd1wiXG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gXCJmYXZvcml0ZVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImZhdm9yaXRlX2JvcmRlclwiXG4gICAgfVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dpbmdcIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dcIilcbiAgICB9XG4gIH1cblxuICBhY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBhdGNoKHtcbiAgICAgICAgICBpc19mb2xsb3dlZDogZmFsc2UsXG4gICAgICAgICAgZm9sbG93ZXJzOiB0aGlzLnByb3BzLnByb2ZpbGUuZm9sbG93ZXJzIC0gMVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcGF0Y2goe1xuICAgICAgICAgIGlzX2ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyArIDFcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5mb2xsb3cpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICB9KVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5hY3Rpb259XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2hcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc2V0U3BlY2lhbFByb3BzKClcblxuICAgIGlmIChtaXNhZ28uaGFzKHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG4gIH1cblxuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSBcIlBST0ZJTEVfRk9MTE9XRVJTXCJcbiAgICB0aGlzLlRJVExFID0gZ2V0dGV4dChcIkZvbGxvd2Vyc1wiKVxuICAgIHRoaXMuQVBJX0ZJTFRFUiA9IFwiZm9sbG93ZXJzXCJcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogXCJcIixcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9XG5cbiAgICB0aGlzLmxvYWRVc2VycygpXG4gIH1cblxuICBsb2FkVXNlcnMocGFnZSA9IDEsIHNlYXJjaCA9IG51bGwpIHtcbiAgICBjb25zdCBhcGlVcmwgPSB0aGlzLnByb3BzLnByb2ZpbGUuYXBpW3RoaXMuQVBJX0ZJTFRFUl1cblxuICAgIGFqYXhcbiAgICAgIC5nZXQoXG4gICAgICAgIGFwaVVybCxcbiAgICAgICAge1xuICAgICAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgICAgICB9LFxuICAgICAgICBcInVzZXItXCIgKyB0aGlzLkFQSV9GSUxURVJcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5USVRMRSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZFVzZXJzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKVxuICB9XG5cbiAgc2VhcmNoID0gZXYgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuXG4gICAgICBzZWFyY2g6IGV2LnRhcmdldC52YWx1ZSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkVXNlcnMoMSwgZXYudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkxvYWRpbmcuLi5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgaGF2ZSAlKHVzZXJzKXMgZm9sbG93ZXIuXCIsXG4gICAgICAgIFwiWW91IGhhdmUgJSh1c2VycylzIGZvbGxvd2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBoYXZlIG5vIGZvbGxvd2Vycy5cIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGhhcyBubyBmb2xsb3dlcnMuXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubW9yZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIGdldHRleHQoXCJTaG93IG1vcmUgKCUobW9yZSlzKVwiKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbW9yZTogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0TGlzdEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQgJiYgdGhpcy5zdGF0ZS5jb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX08L3A+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxVc2Vyc0xpc3RcbiAgICAgICAgICBjb2xzPXszfVxuICAgICAgICAgIGlzUmVhZHk9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgIC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiBcInByb2ZpbGUtXCIgKyB0aGlzLkFQSV9GSUxURVJcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+e3RoaXMuZ2V0TGFiZWwoKX08L2gzPlxuXG4gICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZWFyY2h9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaCB1c2Vycy4uLlwiKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L25hdj5cblxuICAgICAgICB7dGhpcy5nZXRMaXN0Qm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb2xsb3dlcnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb2xsb3dlcnMge1xuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSBcIlBST0ZJTEVfRk9MTE9XU1wiXG4gICAgdGhpcy5USVRMRSA9IGdldHRleHQoXCJGb2xsb3dzXCIpXG4gICAgdGhpcy5BUElfRklMVEVSID0gXCJmb2xsb3dzXCJcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJMb2FkaW5nLi4uXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiWW91IGFyZSBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaXMgZm9sbG93aW5nICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBpcyBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIllvdSBhcmUgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBub3QgZm9sbG93aW5nIGFueSB1c2Vycy5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlXCJcbmltcG9ydCBGb2xsb3dCdXR0b24gZnJvbSBcIi4vZm9sbG93LWJ1dHRvblwiXG5pbXBvcnQgTWVzc2FnZUJ1dHRvbiBmcm9tIFwiLi9tZXNzYWdlLWJ1dHRvblwiXG5pbXBvcnQgTW9kZXJhdGlvbk5hdiBmcm9tIFwiLi9tb2RlcmF0aW9uL25hdlwiXG5pbXBvcnQgeyBDb21wYWN0TmF2IH0gZnJvbSBcIi4vbmF2c1wiXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVc2VyU3RhdHVzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0dXMtZGlzcGxheVwiPlxuICAgICAgICA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfT5cbiAgICAgICAgICA8U3RhdHVzSWNvblxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFN0YXR1c0xhYmVsXG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWxcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3RhdHVzPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRVc2VyUmFuaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuaXNfdGFiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1yYW5rXCI+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9PC9zcGFuPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnRpdGxlKSB7XG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnRpdGxlfTwvbGk+XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay50aXRsZSkge1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlfTwvbGk+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0Sm9pbmVkT24oKSB7XG4gICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiSm9pbmVkIG9uICUoam9pbmVkX29uKXNcIiksXG4gICAgICB7XG4gICAgICAgIGpvaW5lZF9vbjogdGhpcy5wcm9wcy5wcm9maWxlLmpvaW5lZF9vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgbGV0IGFnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIkpvaW5lZCAlKGpvaW5lZF9vbilzXCIpLFxuICAgICAge1xuICAgICAgICBqb2luZWRfb246IHRoaXMucHJvcHMucHJvZmlsZS5qb2luZWRfb24uZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1qb2luZWQtb25cIj5cbiAgICAgICAgPGFiYnIgdGl0bGU9e3RpdGxlfT57YWdlfTwvYWJicj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0RW1haWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZW1haWxcIj5cbiAgICAgICAgICA8YSBocmVmPXtcIm1haWx0bzpcIiArIHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5lbWFpbH1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9sbG93QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3cpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb2xsb3dCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW1vZGVyYXRlIGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dG9uYWxpdHk8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPE1vZGVyYXRpb25OYXYgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2FuRm9sbG93ID0gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93XG4gICAgY29uc3QgY2FuTW9kZXJhdGUgPSB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZVxuXG4gICAgY29uc3QgaXNQcm9maWxlT3duZXIgPSB0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZFxuICAgIGNvbnN0IGNhbk1lc3NhZ2UgPVxuICAgICAgIWlzUHJvZmlsZU93bmVyICYmIHRoaXMucHJvcHMudXNlci5hY2wuY2FuX3N0YXJ0X3ByaXZhdGVfdGhyZWFkc1xuXG4gICAgbGV0IGNvbHMgPSAwXG4gICAgaWYgKGNhbkZvbGxvdykgY29scyArPSAxXG4gICAgaWYgKGNhbk1vZGVyYXRlKSBjb2xzICs9IDFcbiAgICBpZiAoY2FuTWVzc2FnZSkgY29scyArPSAxXG5cbiAgICBjb25zdCBjb2xzV2lkdGggPSBjb2xzID8gMiAqIGNvbHMgKyAxIDogMFxuXG4gICAgbGV0IGhlYWRlckNsYXNzTmFtZSA9IFwicGFnZS1oZWFkZXJcIlxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIGhlYWRlckNsYXNzTmFtZSArPVxuICAgICAgICBcIiBwYWdlLWhlYWRlci1yYW5rLVwiICsgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2hlYWRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxJc0Rpc2FibGVkTWVzc2FnZVxuICAgICAgICAgICAgICBpc0FjdGl2ZT17dGhpcy5wcm9wcy5wcm9maWxlLmlzX2FjdGl2ZX1cbiAgICAgICAgICAgICAgaXNEZWxldGluZ0FjY291bnQ9e3RoaXMucHJvcHMucHJvZmlsZS5pc19kZWxldGluZ19hY2NvdW50fVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOSBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiY29sLXNtLVwiICsgKDEyIC0gY29sc1dpZHRoKX0+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhciB1c2VyLWF2YXRhci1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemUyeD1cIjIwMFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lfTwvaDE+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHshIWNvbHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJjb2wtc20tXCIgKyBjb2xzV2lkdGh9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3Agc20tbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAwKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbkZvbGxvdyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDb2xTdHlsZShjb2xzLCAxKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Rm9sbG93QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbk1vZGVyYXRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDIpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyUmFuaygpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyVGl0bGUoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0Sm9pbmVkT24oKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0RW1haWwoKX1cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8Q29tcGFjdE5hdlxuICAgICAgICAgICAgYmFzZVVybD17dGhpcy5wcm9wcy5iYXNlVXJsfVxuICAgICAgICAgICAgcGFnZXM9e3RoaXMucHJvcHMucGFnZXN9XG4gICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzRGlzYWJsZWRNZXNzYWdlKHsgaXNBY3RpdmUsIGlzRGVsZXRpbmdBY2NvdW50IH0pIHtcbiAgaWYgKGlzQWN0aXZlICE9PSBmYWxzZSAmJiBpc0RlbGV0aW5nQWNjb3VudCAhPT0gdHJ1ZSkgcmV0dXJuIG51bGxcblxuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKGlzRGVsZXRpbmdBY2NvdW50KSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGlzIHVzZXIgaXMgZGVsZXRpbmcgdGhlaXIgYWNjb3VudC5cIilcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoaXMgdXNlcidzIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYWRtaW5pc3RyYXRvci5cIilcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAgICAgIDxwPnttZXNzYWdlfTwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sU3R5bGUoY29scywgY29sKSB7XG4gIGxldCBjb2xTdHlsZSA9IFwiXCJcblxuICBpZiAoY29scyA9PSAxKSB7XG4gICAgY29sU3R5bGUgPSBcImNvbC14cy0xMlwiXG4gIH1cblxuICBpZiAoY29scyA9PSAyKSB7XG4gICAgY29sU3R5bGUgPSBcImNvbC14cy02IGNvbC1zbS02XCJcbiAgfVxuXG4gIGlmIChjb2xzID09IDMpIHtcbiAgICBpZiAoY29sID09IDIpIHtcbiAgICAgIGNvbFN0eWxlID0gXCJjb2wteHMtMTIgY29sLXNtLTQgeHMtbWFyZ2luLXRvcFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbFN0eWxlICs9IFwiY29sLXhzLTYgY29sLXNtLTRcIlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb2xTdHlsZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlNUQVJUX1BSSVZBVEVcIixcbiAgICAgIHN1Ym1pdDogbWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19BUElcIiksXG5cbiAgICAgIHRvOiBbdGhpcy5wcm9wcy5wcm9maWxlXVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2FuTWVzc2FnZSA9IHRoaXMucHJvcHMudXNlci5hY2wuY2FuX3N0YXJ0X3ByaXZhdGVfdGhyZWFkc1xuICAgIGNvbnN0IGlzUHJvZmlsZU93bmVyID0gdGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWRcblxuICAgIGlmICghY2FuTWVzc2FnZSB8fCBpc1Byb2ZpbGVPd25lcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jb21tZW50PC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIk1lc3NhZ2VcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IFwiXCIsXG4gICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IFwiXCIsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiBcIlwiXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV9hdmF0YXIpLnRoZW4oXG4gICAgICBvcHRpb25zID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgICAgICBpc19hdmF0YXJfbG9ja2VkOiBvcHRpb25zLmlzX2F2YXRhcl9sb2NrZWQsXG4gICAgICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSB8fCBcIlwiLFxuICAgICAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IG9wdGlvbnMuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZSB8fCBcIlwiXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX2F2YXRhciwge1xuICAgICAgaXNfYXZhdGFyX2xvY2tlZDogdGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSxcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UuYXZhdGFyX2hhc2gpKVxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIkF2YXRhciBjb250cm9scyBoYXZlIGJlZW4gY2hhbmdlZC5cIikpXG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMb2NrIGF2YXRhclwiKX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIkxvY2tpbmcgdXNlciBhdmF0YXIgd2lsbCBwcm9oaWJpdCB1c2VyIGZyb20gY2hhbmdpbmcgaGlzIGF2YXRhciBhbmQgd2lsbCByZXNldCBoaXMvaGVyIGF2YXRhciB0byBkZWZhdWx0IG9uZS5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGZvcj1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICBpZD1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGljb25Pbj1cImxvY2tfb3V0bGluZVwiXG4gICAgICAgICAgICAgIGljb25PZmY9XCJsb2NrX29wZW5cIlxuICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGlzYWxsb3cgdXNlciBmcm9tIGNoYW5naW5nIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJBbGxvdyB1c2VyIHRvIGNoYW5nZSBhdmF0YXJcIil9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2F2YXRhcl9sb2NrZWRcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2F2YXRhcl9sb2NrZWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJVc2VyIG1lc3NhZ2VcIil9XG4gICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJPcHRpb25hbCBtZXNzYWdlIGZvciB1c2VyIGV4cGxhaW5pbmcgd2h5IGhlL3NoZSBpcyBwcm9oaWJpdGVkIGZvcm0gY2hhbmdpbmcgYXZhdGFyLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgaWQ9XCJpZF9hdmF0YXJfbG9ja191c2VyX21lc3NhZ2VcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJTdGFmZiBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgIFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgZm9ydW0gdGVhbSBtZW1iZXJzIGV4cGxhaW5pbmcgd2h5IHVzZXIgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBpZD1cImlkX2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIiBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWF2YXRhci1jb250cm9sc1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkF2YXRhciBjb250cm9sc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgeyBhZGROYW1lQ2hhbmdlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCB7IHVwZGF0ZVVzZXJuYW1lIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKV1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX3VzZXJuYW1lKS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV91c2VybmFtZSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXNlcm5hbWU6IFwiXCJcbiAgICB9KVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhZGROYW1lQ2hhbmdlKGFwaVJlc3BvbnNlLCB0aGlzLnByb3BzLnByb2ZpbGUsIHRoaXMucHJvcHMudXNlcilcbiAgICApXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVVc2VybmFtZSh0aGlzLnByb3BzLnByb2ZpbGUsIGFwaVJlc3BvbnNlLnVzZXJuYW1lLCBhcGlSZXNwb25zZS5zbHVnKVxuICAgIClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQuXCIpKVxuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZW5hbWUtdXNlclwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1yZW5hbWUtdXNlclwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IE1vZGFsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2hcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgY291bnRkb3duOiA1LFxuICAgICAgY29uZmlybTogZmFsc2UsXG5cbiAgICAgIHdpdGhfY29udGVudDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLmRlbGV0ZSkudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmNvdW50ZG93bigpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjb3VudGRvd24gPSAoKSA9PiB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnRkb3duID4gMSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb3VudGRvd246IHRoaXMuc3RhdGUuY291bnRkb3duIC0gMVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvdW50ZG93bigpXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY29uZmlybTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIDEwMDApXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5kZWxldGUsIHtcbiAgICAgIHdpdGhfY29udGVudDogdGhpcy5zdGF0ZS53aXRoX2NvbnRlbnRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBwb2xscy5zdG9wKFwidXNlci1wcm9maWxlXCIpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS53aXRoX2NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXG4gICAgICAgICAgICBcIiUodXNlcm5hbWUpcydzIGFjY291bnQsIHRocmVhZHMsIHBvc3RzIGFuZCBvdGhlciBjb250ZW50IGhhcyBiZWVuIGRlbGV0ZWQuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRGVsZXRlZDogaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcbiAgICAgICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCBoYXMgYmVlbiBkZWxldGVkIGFuZCBvdGhlciBjb250ZW50IGhhcyBiZWVuIGhpZGRlbi5cIlxuICAgICAgICAgICksXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGdldEJ1dHRvbkxhYmVsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIkRlbGV0ZSAlKHVzZXJuYW1lKXNcIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiUGxlYXNlIHdhaXQuLi4gKCUoY291bnRkb3duKXNzKVwiKSxcbiAgICAgICAge1xuICAgICAgICAgIGNvdW50ZG93bjogdGhpcy5zdGF0ZS5jb3VudGRvd25cbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VyIGNvbnRlbnRcIil9IGZvcj1cImlkX3dpdGhfY29udGVudFwiPlxuICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGVsZXRlIHRvZ2V0aGVyIHdpdGggdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiSGlkZSBhZnRlciBkZWxldGluZyB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwid2l0aF9jb250ZW50XCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53aXRoX2NvbnRlbnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGFuZ2VyXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmNvbmZpcm19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMuZ2V0QnV0dG9uTGFiZWwoKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgZ2V0RGVsZXRlZEJvZHkoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5zdGF0ZS5pc0RlbGV0ZWR9PC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gdXNlcnMgbGlzdFwiKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIiBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERlbGV0ZWRCb2R5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZvcm0oKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvciB8fCB0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtZGVsZXRlLWFjY291bnRcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtZGVsZXRlLWFjY291bnRcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgdXNlciBhY2NvdW50XCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEF2YXRhckNvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vYXZhdGFyLWNvbnRyb2xzXCJcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2NoYW5nZS11c2VybmFtZVwiXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dBdmF0YXJEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQXZhdGFyQ29udHJvbHMpKVxuICB9XG5cbiAgZ2V0QXZhdGFyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZV9hdmF0YXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dBdmF0YXJEaWFsb2d9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgc2hvd1JlbmFtZURpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VVc2VybmFtZSkpXG4gIH1cblxuICBnZXRSZW5hbWVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX3JlbmFtZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlbmFtZURpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y3JlZGl0X2NhcmQ8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBzaG93RGVsZXRlRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKERlbGV0ZUFjY291bnQpKVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9kZWxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dEZWxldGVEaWFsb2d9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5nZXRBdmF0YXJCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0UmVuYW1lQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5pbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b25cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGNsYXNzIFNpZGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5wYWdlcy5tYXAocGFnZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgICBrZXk9e3BhZ2UuY29tcG9uZW50fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3BhZ2UuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgIHtwYWdlLm5hbWV9XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICB7cHJvcHMucGFnZXMubWFwKHBhZ2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExpXG4gICAgICAgICAgICAgICAgcGF0aD17cHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtwcm9wcy5oaWRlTmF2fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57cGFnZS5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtwYWdlLm5hbWV9XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICA8L0xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgQmFuRGV0YWlscyBmcm9tIFwiLi9iYW4tZGV0YWlsc1wiXG5pbXBvcnQgRGV0YWlscyBmcm9tIFwiLi9kZXRhaWxzXCJcbmltcG9ydCB7IFBvc3RzLCBUaHJlYWRzIH0gZnJvbSBcIi4vZmVlZFwiXG5pbXBvcnQgRm9sbG93ZXJzIGZyb20gXCIuL2ZvbGxvd2Vyc1wiXG5pbXBvcnQgRm9sbG93cyBmcm9tIFwiLi9mb2xsb3dzXCJcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSBcIi4vdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgTW9kZXJhdGlvbk5hdiBmcm9tIFwiLi9tb2RlcmF0aW9uL25hdlwiXG5pbXBvcnQgeyBTaWRlTmF2LCBDb21wYWN0TmF2IH0gZnJvbSBcIi4vbmF2c1wiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93blwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZVwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnByb2ZpbGUuYXBpLmluZGV4KVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwidXNlci1wcm9maWxlXCIsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGJhc2VVcmwgPSBtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKS51cmxcbiAgICBjb25zdCBwYWdlcyA9IG1pc2Fnby5nZXQoXCJQUk9GSUxFX1BBR0VTXCIpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtdXNlci1wcm9maWxlXCI+XG4gICAgICAgIDxIZWFkZXJcbiAgICAgICAgICBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgIHBhZ2VzPXtwYWdlc31cbiAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICB0b2dnbGVNb2RlcmF0aW9uPXt0aGlzLnRvZ2dsZU1vZGVyYXRpb259XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXNpZGUtYXZhdGFyXCI+XG4gICAgICAgICAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9IHNpemU9XCI0MDBcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8U2lkZU5hdlxuICAgICAgICAgICAgICAgIGJhc2VVcmw9e2Jhc2VVcmx9XG4gICAgICAgICAgICAgICAgcGFnZXM9e3BhZ2VzfVxuICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgaXNBdXRoZW50aWNhdGVkOiBzdG9yZS5hdXRoLnVzZXIuaWQgPT09IHN0b3JlLnByb2ZpbGUuaWQsXG5cbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyLFxuICAgIHVzZXJzOiBzdG9yZS51c2VycyxcbiAgICBwb3N0czogc3RvcmUucG9zdHMsXG4gICAgcHJvZmlsZTogc3RvcmUucHJvZmlsZSxcbiAgICBwcm9maWxlRGV0YWlsczogc3RvcmVbXCJwcm9maWxlLWRldGFpbHNcIl0sXG4gICAgXCJ1c2VybmFtZS1oaXN0b3J5XCI6IHN0b3JlW1widXNlcm5hbWUtaGlzdG9yeVwiXVxuICB9XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSB7XG4gIHBvc3RzOiBQb3N0cyxcbiAgdGhyZWFkczogVGhyZWFkcyxcbiAgZm9sbG93ZXJzOiBGb2xsb3dlcnMsXG4gIGZvbGxvd3M6IEZvbGxvd3MsXG4gIGRldGFpbHM6IERldGFpbHMsXG4gIFwidXNlcm5hbWUtaGlzdG9yeVwiOiBVc2VybmFtZUhpc3RvcnksXG4gIFwiYmFuLWRldGFpbHNcIjogQmFuRGV0YWlsc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdXG4gIG1pc2Fnby5nZXQoXCJQUk9GSUxFX1BBR0VTXCIpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHBhdGhzLnB1c2goXG4gICAgICBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJQUk9GSUxFXCIpLnVybCArIGl0ZW0uY29tcG9uZW50ICsgXCIvXCIsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENPTVBPTkVOVFNbaXRlbS5jb21wb25lbnRdKVxuICAgICAgfSlcbiAgICApXG4gIH0pXG5cbiAgcmV0dXJuIHBhdGhzXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgU2VhcmNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2hcIlxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlLCBhcHBlbmQgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlBST0ZJTEVfTkFNRV9ISVNUT1JZXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKFwiUFJPRklMRV9OQU1FX0hJU1RPUllcIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogXCJcIixcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfVxuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygpXG4gIH1cblxuICBsb2FkQ2hhbmdlcyhwYWdlID0gMSwgc2VhcmNoID0gbnVsbCkge1xuICAgIGFqYXhcbiAgICAgIC5nZXQoXG4gICAgICAgIG1pc2Fnby5nZXQoXCJVU0VSTkFNRV9DSEFOR0VTX0FQSVwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXI6IHRoaXMucHJvcHMucHJvZmlsZS5pZCxcbiAgICAgICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWFyY2gtdXNlcm5hbWUtaGlzdG9yeVwiXG4gICAgICApXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJVc2VybmFtZSBoaXN0b3J5XCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaClcbiAgfVxuXG4gIHNlYXJjaCA9IGV2ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSlcblxuICAgIHRoaXMubG9hZENoYW5nZXMoMSwgZXYudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkxvYWRpbmcuLi5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZS5cIixcbiAgICAgICAgXCJGb3VuZCAlKGNoYW5nZXMpcyB1c2VybmFtZSBjaGFuZ2VzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGNoYW5nZXM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91ciB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgY2hhbmdlczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZS5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAgIGNoYW5nZXM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIlNlYXJjaCByZXR1cm5lZCBubyB1c2VybmFtZSBjaGFuZ2VzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTm8gbmFtZSBjaGFuZ2VzIGhhdmUgYmVlbiByZWNvcmRlZCBmb3IgeW91ciBhY2NvdW50LlwiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgbmV2ZXIgY2hhbmdlZC5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb3JlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgZ2V0dGV4dChcIlNob3cgb2xkZXIgKCUobW9yZSlzKVwiKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbW9yZTogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtdXNlcm5hbWUtaGlzdG9yeVwiPlxuICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+e3RoaXMuZ2V0TGFiZWwoKX08L2gzPlxuXG4gICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZWFyY2h9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaCBoaXN0b3J5Li4uXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbmF2PlxuXG4gICAgICAgIDxVc2VybmFtZUhpc3RvcnlcbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1tcInVzZXJuYW1lLWhpc3RvcnlcIl19XG4gICAgICAgIC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaCBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImZvcm0tc2VhcmNoXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgZ2V0dGV4dChcIlNlYXJjaC4uLlwiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlYXJjaDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXIuanNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBjYXB0Y2hhIGZyb20gXCJtaXNhZ28vc2VydmljZXMvY2FwdGNoYVwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuXG4gICAgICBjcml0ZXJpYTogbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNob3dSZWdpc3RlckZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5hY2NvdW50X2FjdGl2YXRpb24gPT09IFwiY2xvc2VkXCIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIk5ldyByZWdpc3RyYXRpb25zIGFyZSBjdXJyZW50bHkgZGlzYWJsZWQuXCIpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgbW9kYWwuc2hvdyg8UmVnaXN0ZXJGb3JtIGNyaXRlcmlhPXt0aGlzLnN0YXRlLmNyaXRlcmlhfSAvPilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuXG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGNhcHRjaGEubG9hZCgpLFxuICAgICAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiQVVUSF9DUklURVJJQV9BUElcIikpXG4gICAgICBdKS50aGVuKFxuICAgICAgICByZXN1bHQgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgY3JpdGVyaWE6IHJlc3VsdFsxXVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBtb2RhbC5zaG93KDxSZWdpc3RlckZvcm0gY3JpdGVyaWE9e3Jlc3VsdFsxXX0gLz4pXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuXG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IoXG4gICAgICAgICAgICBnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZSBkdWUgdG8gYW4gZXJyb3IuXCIpXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICh0aGlzLnN0YXRlLmlzTG9hZGluZyA/IFwiIGJ0bi1sb2FkaW5nXCIgOiBcIlwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17XCJidG4gXCIgKyB0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlZ2lzdGVyRm9ybX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTWFrZSBBY2NvdW50XCIpfVxuICAgICAgICB7dGhpcy5zdGF0ZS5pc0xvYWRpbmcgPyA8TG9hZGVyIC8+IDogbnVsbH1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgUGFzc3dvcmRTdHJlbmd0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGhcIlxuaW1wb3J0IFJlZ2lzdGVyTGVnYWxGb290bm90ZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvUmVnaXN0ZXJMZWdhbEZvb3Rub3RlXCJcbmltcG9ydCBTdGFydFNvY2lhbEF1dGggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL1N0YXJ0U29jaWFsQXV0aFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBhdXRoIGZyb20gXCJtaXNhZ28vc2VydmljZXMvYXV0aFwiXG5pbXBvcnQgY2FwdGNoYSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2NhcHRjaGFcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgY2xhc3MgUmVnaXN0ZXJGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gdGhpcy5wcm9wcy5jcml0ZXJpYVxuXG4gICAgbGV0IHBhc3N3b3JkTWluTGVuZ3RoID0gMFxuICAgIHBhc3N3b3JkLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5uYW1lID09PSBcIk1pbmltdW1MZW5ndGhWYWxpZGF0b3JcIikge1xuICAgICAgICBwYXNzd29yZE1pbkxlbmd0aCA9IGl0ZW0ubWluX2xlbmd0aFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHtcbiAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCksXG4gICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgodXNlcm5hbWUubWluX2xlbmd0aCksXG4gICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgodXNlcm5hbWUubWF4X2xlbmd0aClcbiAgICAgIF0sXG4gICAgICBlbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV0sXG4gICAgICBwYXNzd29yZDogW3ZhbGlkYXRvcnMucGFzc3dvcmRNaW5MZW5ndGgocGFzc3dvcmRNaW5MZW5ndGgpXSxcbiAgICAgIGNhcHRjaGE6IGNhcHRjaGEudmFsaWRhdG9yKClcbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9JRFwiKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2UgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFRlcm1zT2ZTZXJ2aWNlKCldXG4gICAgfVxuXG4gICAgaWYgKCEhbWlzYWdvLmdldChcIlBSSVZBQ1lfUE9MSUNZX0lEXCIpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy5wcml2YWN5UG9saWN5ID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRQcml2YWN5UG9saWN5KCldXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiBcIlwiLFxuICAgICAgZW1haWw6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcbiAgICAgIGNhcHRjaGE6IFwiXCIsXG5cbiAgICAgIHRlcm1zT2ZTZXJ2aWNlOiBudWxsLFxuICAgICAgcHJpdmFjeVBvbGljeTogbnVsbCxcblxuICAgICAgdmFsaWRhdG9yczogZm9ybVZhbGlkYXRvcnMsXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJVU0VSU19BUElcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICAgIGNhcHRjaGE6IHRoaXMuc3RhdGUuY2FwdGNoYSxcbiAgICAgIHRlcm1zX29mX3NlcnZpY2U6IHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UsXG4gICAgICBwcml2YWN5X3BvbGljeTogdGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIGlmIChyZWplY3Rpb24uX19hbGxfXyAmJiByZWplY3Rpb24uX19hbGxfXy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5fX2FsbF9fWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgICAgbW9kYWwuaGlkZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJwcml2YWN5UG9saWN5XCIsIHZhbHVlKVxuICB9XG5cbiAgaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUFncmVlbWVudChcInRlcm1zT2ZTZXJ2aWNlXCIsIHZhbHVlKVxuICB9XG5cbiAgaGFuZGxlVG9nZ2xlQWdyZWVtZW50ID0gKGFncmVlbWVudCwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlW2FncmVlbWVudF0gPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0geyAuLi5wcmV2U3RhdGUuZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9XG4gICAgICAgIHJldHVybiB7IGVycm9ycywgW2FncmVlbWVudF06IHZhbHVlIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5zdGF0ZS52YWxpZGF0b3JzW2FncmVlbWVudF1bMF1cbiAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IFt2YWxpZGF0b3IobnVsbCldIH1cbiAgICAgIHJldHVybiB7IGVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXJlZ2lzdGVyXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8U3RhcnRTb2NpYWxBdXRoXG4gICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02XCJcbiAgICAgICAgICAgICAgICBidXR0b25MYWJlbD17Z2V0dGV4dChcIkpvaW4gd2l0aCAlKHNpdGUpc1wiKX1cbiAgICAgICAgICAgICAgICBmb3JtTGFiZWw9e2dldHRleHQoXCJPciBjcmVhdGUgZm9ydW0gYWNjb3VudDpcIil9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfdXNlcm5hbWVfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiRS1tYWlsXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5lbWFpbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9lbWFpbFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX2VtYWlsX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICA8UGFzc3dvcmRTdHJlbmd0aFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzPXtbdGhpcy5zdGF0ZS51c2VybmFtZSwgdGhpcy5zdGF0ZS5lbWFpbF19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9wYXNzd29yZF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICB7Y2FwdGNoYS5jb21wb25lbnQoe1xuICAgICAgICAgICAgICAgIGZvcm06IHRoaXNcbiAgICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgICAgPFJlZ2lzdGVyTGVnYWxGb290bm90ZVxuICAgICAgICAgICAgICAgIGVycm9ycz17dGhpcy5zdGF0ZS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgcHJpdmFjeVBvbGljeT17dGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5fVxuICAgICAgICAgICAgICAgIHRlcm1zT2ZTZXJ2aWNlPXt0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlfVxuICAgICAgICAgICAgICAgIG9uUHJpdmFjeVBvbGljeUNoYW5nZT17dGhpcy5oYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uVGVybXNPZlNlcnZpY2VDaGFuZ2U9e3RoaXMuaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RlciBhY2NvdW50XCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyQ29tcGxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMZWFkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwidXNlclwiKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCB5b3UgbmVlZCB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwiYWRtaW5cIikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgYm9hcmQgYWRtaW5pc3RyYXRvciB3aWxsIGhhdmUgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldFN1YnNjcmlwdCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcInVzZXJcIikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiV2UgaGF2ZSBzZW50IGFuIGUtbWFpbCB0byAlKGVtYWlsKXMgd2l0aCBsaW5rIHRoYXQgeW91IGhhdmUgdG8gY2xpY2sgdG8gYWN0aXZhdGUgeW91ciBhY2NvdW50LlwiXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwiYWRtaW5cIikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiV2Ugd2lsbCBzZW5kIGFuIGUtbWFpbCB0byAlKGVtYWlsKXMgd2hlbiB0aGlzIHRha2VzIHBsYWNlLlwiXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLXJlZ2lzdGVyXCJcbiAgICAgICAgcm9sZT1cImRvY3VtZW50XCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGNvbXBsZXRlXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMZWFkKCksXG4gICAgICAgICAgICAgICAgICB7IHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXJuYW1lIH0sXG4gICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgICB0aGlzLmdldFN1YnNjcmlwdCgpLFxuICAgICAgICAgICAgICAgICAgeyBlbWFpbDogdGhpcy5wcm9wcy5lbWFpbCB9LFxuICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlUmVnaXN0cmF0aW9uID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIGlmIChhcGlSZXNwb25zZS5hY3RpdmF0aW9uID09PSBcImFjdGl2ZVwiKSB7XG4gICAgICBtb2RhbC5oaWRlKClcbiAgICAgIGF1dGguc2lnbkluKGFwaVJlc3BvbnNlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlZ2lzdGVyQ29tcGxldGVcbiAgICAgICAgICBhY3RpdmF0aW9uPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmFjdGl2YXRpb259XG4gICAgICAgICAgZW1haWw9e3RoaXMuc3RhdGUuY29tcGxldGUuZW1haWx9XG4gICAgICAgICAgdXNlcm5hbWU9e3RoaXMuc3RhdGUuY29tcGxldGUudXNlcm5hbWV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIDxSZWdpc3RlckZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGVSZWdpc3RyYXRpb259IHsuLi50aGlzLnByb3BzfSAvPlxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RMaW5rRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGVtYWlsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIlNFTkRfQUNUSVZBVElPTl9BUElcIiksIHtcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFtcImFscmVhZHlfYWN0aXZlXCIsIFwiaW5hY3RpdmVfYWRtaW5cIl0uaW5kZXhPZihyZWplY3Rpb24uY29kZSkgPiAtMSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtYWN0aXZhdGlvbi1saW5rXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJZb3VyIGUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiQWN0aXZhdGlvbiBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSxcbiAgICAgIHtcbiAgICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtYWN0aXZhdGlvbi1saW5rIHdlbGwtZG9uZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2s8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGFub3RoZXIgbGlua1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSlcbiAgfVxuXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSBjYWxsYmFjaz17dGhpcy5yZXNldH0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxSZXF1ZXN0TGlua0Zvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9IC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RSZXNldEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBlbWFpbDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBlbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJTRU5EX1BBU1NXT1JEX1JFU0VUX0FQSVwiKSwge1xuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAoW1wiaW5hY3RpdmVfdXNlclwiLCBcImluYWN0aXZlX2FkbWluXCJdLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0luYWN0aXZlUGFnZShyZWplY3Rpb24pXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1wYXNzd29yZC1yZXNldFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiWW91ciBlLW1haWwgYWRkcmVzc1wiKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiZW1haWxcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbmQgbGlua1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIlJlc2V0IHBhc3N3b3JkIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLFxuICAgICAge1xuICAgICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1wYXNzd29yZC1yZXNldCB3ZWxsLWRvbmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cD57dGhpcy5nZXRNZXNzYWdlKCl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY2NvdW50SW5hY3RpdmVQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0QWN0aXZhdGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJpbmFjdGl2ZV91c2VyXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJSRVFVRVNUX0FDVElWQVRJT05fVVJMXCIpfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQWN0aXZhdGUgeW91ciBhY2NvdW50LlwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLWluZm8gcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtaW5hY3RpdmVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntnZXR0ZXh0KFwiWW91ciBhY2NvdW50IGlzIGluYWN0aXZlLlwiKX08L3A+XG4gICAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0ZUJ1dHRvbigpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pXG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBzaG93SW5hY3RpdmVQYWdlKGFwaVJlc3BvbnNlKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPEFjY291bnRJbmFjdGl2ZVBhZ2VcbiAgICAgICAgYWN0aXZhdGlvbj17YXBpUmVzcG9uc2UuY29kZX1cbiAgICAgICAgbWVzc2FnZT17YXBpUmVzcG9uc2UuZGV0YWlsfVxuICAgICAgLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgY2FsbGJhY2s9e3RoaXMucmVzZXR9IHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9IC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXF1ZXN0UmVzZXRGb3JtXG4gICAgICAgIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfVxuICAgICAgICBzaG93SW5hY3RpdmVQYWdlPXt0aGlzLnNob3dJbmFjdGl2ZVBhZ2V9XG4gICAgICAvPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGF1dGggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hdXRoXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgbmV3IHBhc3N3b3JkLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiQ0hBTkdFX1BBU1NXT1JEX0FQSVwiKSwge1xuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlc2V0LXBhc3N3b3JkXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiRW50ZXIgbmV3IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkQ2hhbmdlZFBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMsIHlvdXIgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZCBzdWNjZXNzZnVsbHkuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHNob3dTaWduSW4oKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtbWVzc2FnZSBwYWdlLW1lc3NhZ2Utc3VjY2VzcyBwYWdlLWZvcmdvdHRlbi1wYXNzd29yZC1jaGFuZ2VkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2s8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgXCJZb3Ugd2lsbCBoYXZlIHRvIHNpZ24gaW4gdXNpbmcgbmV3IHBhc3N3b3JkIGJlZm9yZSBjb250aW51aW5nLlwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW59XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wbGV0ZSA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICBhdXRoLnNvZnRTaWduT3V0KClcblxuICAgIC8vIG51a2UgXCJyZWRpcmVjdF90b1wiIGZpZWxkIHNvIHdlIGRvbid0IGVuZFxuICAgIC8vIGNvbWluZyBiYWNrIHRvIGVycm9yIHBhZ2UgYWZ0ZXIgc2lnbiBpblxuICAgICQoJyNoaWRkZW4tbG9naW4tZm9ybSBpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS5yZW1vdmUoKVxuXG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPFBhc3N3b3JkQ2hhbmdlZFBhZ2UgdXNlcj17YXBpUmVzcG9uc2V9IC8+LFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWdlLW1vdW50XCIpXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8UmVzZXRQYXNzd29yZEZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9IC8+XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCB7IGxvYWQgYXMgdXBkYXRlUG9zdHMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCB7IHVwZGF0ZSBhcyB1cGRhdGVTZWFyY2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlYXJjaFwiXG5pbXBvcnQgeyBoeWRyYXRlIGFzIHVwZGF0ZVVzZXJzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHF1ZXJ5OiBwcm9wcy5zZWFyY2gucXVlcnlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5xdWVyeS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KClcbiAgICB9XG4gIH1cblxuICBvblF1ZXJ5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJxdWVyeVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucXVlcnkudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHNlYXJjaCBxdWVyeS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVNlYXJjaCh7XG4gICAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICByZXR1cm4gYWpheC5nZXQobWlzYWdvLmdldChcIlNFQVJDSF9BUElcIiksIHtcbiAgICAgIHE6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocHJvdmlkZXJzKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVTZWFyY2goe1xuICAgICAgICBxdWVyeTogdGhpcy5zdGF0ZS5xdWVyeS50cmltKCksXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIHByb3ZpZGVyc1xuICAgICAgfSlcbiAgICApXG5cbiAgICBwcm92aWRlcnMuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICBpZiAocHJvdmlkZXIuaWQgPT09IFwidXNlcnNcIikge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVVc2Vycyhwcm92aWRlci5yZXN1bHRzLnJlc3VsdHMpKVxuICAgICAgfSBlbHNlIGlmIChwcm92aWRlci5pZCA9PT0gXCJ0aHJlYWRzXCIpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUG9zdHMocHJvdmlkZXIucmVzdWx0cykpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlU2VhcmNoKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlciBwYWdlLXNlYXJjaC1mb3JtXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxoMT57Z2V0dGV4dChcIlNlYXJjaFwiKX08L2gxPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC05XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHNtLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWFyY2guaXNMb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNMb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25RdWVyeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNCBjb2wtbWQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlYXJjaC5pc0xvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc0xvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNlYXJjaFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBTZWFyY2hUaHJlYWRzIGZyb20gXCIuL3RocmVhZHNcIlxuaW1wb3J0IFNlYXJjaFVzZXJzIGZyb20gXCIuL3VzZXJzXCJcblxuY29uc3QgY29tcG9uZW50cyA9IHtcbiAgdGhyZWFkczogU2VhcmNoVGhyZWFkcyxcbiAgdXNlcnM6IFNlYXJjaFVzZXJzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBwb3N0czogc3RvcmUucG9zdHMsXG4gICAgc2VhcmNoOiBzdG9yZS5zZWFyY2gsXG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICB1c2Vyczogc3RvcmUudXNlcnNcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm92aWRlcnMpIHtcbiAgcmV0dXJuIHByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiBwcm92aWRlci51cmwsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShjb21wb25lbnRzW3Byb3ZpZGVyLmlkXSksXG4gICAgICBwcm92aWRlcjogcHJvdmlkZXJcbiAgICB9XG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTZWFyY2hGb3JtIGZyb20gXCIuL2Zvcm1cIlxuaW1wb3J0IFNpZGVOYXYgZnJvbSBcIi4vc2lkZW5hdlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utc2VhcmNoXCI+XG4gICAgICA8U2VhcmNoRm9ybSBwcm92aWRlcj17cHJvcHMucHJvdmlkZXJ9IHNlYXJjaD17cHJvcHMuc2VhcmNofSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zXCI+XG4gICAgICAgICAgICA8U2lkZU5hdiBwcm92aWRlcnM9e3Byb3BzLnNlYXJjaC5wcm92aWRlcnN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuICAgICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPFNlYXJjaFRpbWUgcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfSBzZWFyY2g9e3Byb3BzLnNlYXJjaH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU2VhcmNoVGltZShwcm9wcykge1xuICBsZXQgdGltZSA9IG51bGxcbiAgcHJvcHMuc2VhcmNoLnByb3ZpZGVycy5mb3JFYWNoKHAgPT4ge1xuICAgIGlmIChwLmlkID09PSBwcm9wcy5wcm92aWRlci5pZCkge1xuICAgICAgdGltZSA9IHAudGltZVxuICAgIH1cbiAgfSlcblxuICBpZiAodGltZSA9PT0gbnVsbCkgcmV0dXJuIG51bGxcblxuICBjb25zdCBjb3B5ID0gZ2V0dGV4dChcIlNlYXJjaCB0b29rICUodGltZSlzIHMgdG8gY29tcGxldGVcIilcblxuICByZXR1cm4gKFxuICAgIDxmb290ZXIgY2xhc3NOYW1lPVwic2VhcmNoLWZvb3RlclwiPlxuICAgICAgPHA+e2ludGVycG9sYXRlKGNvcHksIHsgdGltZSB9LCB0cnVlKX08L3A+XG4gICAgPC9mb290ZXI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLnByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgIGtleT17cHJvdmlkZXIuaWR9XG4gICAgICAgICAgICB0bz17cHJvdmlkZXIudXJsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57cHJvdmlkZXIuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICB7cHJvdmlkZXIubmFtZX1cbiAgICAgICAgICAgIDxCYWRnZSByZXN1bHRzPXtwcm92aWRlci5yZXN1bHRzfSAvPlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJhZGdlKHByb3BzKSB7XG4gIGlmICghcHJvcHMucmVzdWx0cykgcmV0dXJuIG51bGxcblxuICBsZXQgY291bnQgPSBwcm9wcy5yZXN1bHRzLmNvdW50XG4gIGlmIChjb3VudCA+IDEwMDAwMDApIHtcbiAgICBjb3VudCA9IE1hdGguY2VpbChjb3VudCAvIDEwMDAwMDApICsgXCJLS1wiXG4gIH0gZWxzZSBpZiAoY291bnQgPiAxMDAwKSB7XG4gICAgY291bnQgPSBNYXRoLmNlaWwoY291bnQgLyAxMDAwKSArIFwiS1wiXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj57Y291bnR9PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VhcmNoUGFnZSBmcm9tIFwiLi4vcGFnZVwiXG5pbXBvcnQgUmVzdWx0cyBmcm9tIFwiLi9yZXN1bHRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZSBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9IHNlYXJjaD17cHJvcHMuc2VhcmNofT5cbiAgICAgIDxCbGFua3NsYXRlIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9IHBvc3RzPXtwcm9wcy5wb3N0c30+XG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgICAgIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9XG4gICAgICAgICAgey4uLnByb3BzLnBvc3RzfVxuICAgICAgICAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMgJiYgcHJvcHMucG9zdHMuY291bnQpIHJldHVybiBwcm9wcy5jaGlsZHJlblxuXG4gIGlmIChwcm9wcy5xdWVyeS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIk5vIHRocmVhZHMgbWF0Y2hpbmcgc2VhcmNoIHF1ZXJ5IGhhdmUgYmVlbiBmb3VuZC5cIil9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICB7Z2V0dGV4dChcIkVudGVyIGF0IGxlYXN0IHR3byBjaGFyYWN0ZXJzIHRvIHNlYXJjaCB0aHJlYWRzLlwiKX1cbiAgICA8L3A+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBvc3RGZWVkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWZlZWRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXBcIlxuaW1wb3J0IHtcbiAgdXBkYXRlIGFzIHVwZGF0ZVBvc3RzLFxuICBhcHBlbmQgYXMgYXBwZW5kUG9zdHNcbn0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgeyB1cGRhdGVQcm92aWRlciB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VhcmNoXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxQb3N0RmVlZCBpc1JlYWR5PXt0cnVlfSBwb3N0cz17cHJvcHMucmVzdWx0c30gLz5cbiAgICAgIDxMb2FkTW9yZSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIExvYWRNb3JlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgaXNCdXN5OiB0cnVlXG4gICAgICB9KVxuICAgIClcblxuICAgIGFqYXhcbiAgICAgIC5nZXQodGhpcy5wcm9wcy5wcm92aWRlci5hcGksIHtcbiAgICAgICAgcTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgICAgcGFnZTogdGhpcy5wcm9wcy5uZXh0XG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIHByb3ZpZGVycyA9PiB7XG4gICAgICAgICAgcHJvdmlkZXJzLmZvckVhY2gocHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLmlkICE9PSBcInRocmVhZHNcIikgcmV0dXJuXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmRQb3N0cyhwcm92aWRlci5yZXN1bHRzKSlcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVByb3ZpZGVyKHByb3ZpZGVyKSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVQb3N0cyh7XG4gICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgdXBkYXRlUG9zdHMoe1xuICAgICAgICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb3JlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnByb3BzLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSBcIi4uL3BhZ2VcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFNlYXJjaFBhZ2UgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfSBzZWFyY2g9e3Byb3BzLnNlYXJjaH0+XG4gICAgICA8QmxhbmtzbGF0ZSBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fSB1c2Vycz17cHJvcHMudXNlcnN9PlxuICAgICAgICA8VXNlcnNMaXN0IGNvbHM9ezN9IGlzUmVhZHk9e3RydWV9IHVzZXJzPXtwcm9wcy51c2Vyc30gLz5cbiAgICAgIDwvQmxhbmtzbGF0ZT5cbiAgICA8L1NlYXJjaFBhZ2U+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJsYW5rc2xhdGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVzZXJzLmxlbmd0aCkgcmV0dXJuIHByb3BzLmNoaWxkcmVuXG5cbiAgaWYgKHByb3BzLnF1ZXJ5Lmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdXNlcnMgbWF0Y2hpbmcgc2VhcmNoIHF1ZXJ5IGhhdmUgYmVlbiBmb3VuZC5cIil9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICB7Z2V0dGV4dChcIkVudGVyIGF0IGxlYXN0IHR3byBjaGFyYWN0ZXJzIHRvIHNlYXJjaCB1c2Vycy5cIil9XG4gICAgPC9wPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDaG9pY2UoKSB7XG4gICAgbGV0IGNob2ljZSA9IG51bGxcbiAgICB0aGlzLnByb3BzLmNob2ljZXMubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IHRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgY2hvaWNlID0gaXRlbVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGNob2ljZVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaG9pY2UoKS5pY29uXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaG9pY2UoKS5sYWJlbFxuICB9XG5cbiAgY2hhbmdlID0gdmFsdWUgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tc2VsZWN0LWdyb3VwXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlbGVjdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IG51bGx9XG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy5wcm9wc1tcImFyaWEtZGVzY3JpYmVkYnlcIl0gfHwgbnVsbH1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIGljb249e3RoaXMuZ2V0SWNvbigpfSAvPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtpfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlKGl0ZW0udmFsdWUpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e2l0ZW0uaWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJY29uKHsgaWNvbiB9KSB7XG4gIGlmICghaWNvbikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgU3RhcnRTb2NpYWxBdXRoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9TdGFydFNvY2lhbEF1dGhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgc2hvd0FjdGl2YXRpb246IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXSxcbiAgICAgICAgcGFzc3dvcmQ6IFtdXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGJvdGggZmllbGRzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiQVVUSF9BUElcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBsZXQgZm9ybSA9ICQoXCIjaGlkZGVuLWxvZ2luLWZvcm1cIilcblxuICAgIGZvcm0uYXBwZW5kKCc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlcm5hbWVcIiAvPicpXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiAvPicpXG5cbiAgICAvLyBmaWxsIG91dCBmb3JtIHdpdGggdXNlciBjcmVkZW50aWFscyBhbmQgc3VibWl0IGl0LCB0aGlzIHdpbGwgdGVsbFxuICAgIC8vIE1pc2FnbyB0byByZWRpcmVjdCB1c2VyIGJhY2sgdG8gcmlnaHQgcGFnZSwgYW5kIHdpbGwgdHJpZ2dlciBicm93c2VyJ3NcbiAgICAvLyBrZXkgcmluZyBmZWF0dXJlXG4gICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJykudmFsKGFqYXguZ2V0Q3NyZlRva2VuKCkpXG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS52YWwod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKHRoaXMuc3RhdGUudXNlcm5hbWUpXG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKS52YWwodGhpcy5zdGF0ZS5wYXNzd29yZClcbiAgICBmb3JtLnN1Ym1pdCgpXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uY29kZSA9PT0gXCJpbmFjdGl2ZV9hZG1pblwiKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmNvZGUgPT09IFwiaW5hY3RpdmVfdXNlclwiKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2hvd0FjdGl2YXRpb246IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmNvZGUgPT09IFwiYmFubmVkXCIpIHtcbiAgICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgbW9kYWwuaGlkZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pXG4gICAgICBtb2RhbC5oaWRlKClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGdldEFjdGl2YXRpb25CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnNob3dBY3RpdmF0aW9uKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4tYmxvY2tcIlxuICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTFwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJBY3RpdmF0ZSBhY2NvdW50XCIpfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc20gbW9kYWwtc2lnbi1pblwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJTaWduIGluXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8U3RhcnRTb2NpYWxBdXRoXG4gICAgICAgICAgICAgICAgYnV0dG9uTGFiZWw9e2dldHRleHQoXCJTaWduIGluIHdpdGggJShzaXRlKXNcIil9XG4gICAgICAgICAgICAgICAgZm9ybUxhYmVsPXtnZXR0ZXh0KFwiT3IgdXNlIHlvdXIgZm9ydW0gYWNjb3VudDpcIil9XG4gICAgICAgICAgICAgICAgbGFiZWxDbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiXG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVXNlcm5hbWUgb3IgZS1tYWlsXCIpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGlucHV0LWxnXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiUGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldEFjdGl2YXRpb25CdXR0b24oKX1cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJGT1JHT1RURU5fUEFTU1dPUkRfVVJMXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJGb3Jnb3QgcGFzc3dvcmQ/XCIpfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY29uc3QgVFlQRVNfQ0xBU1NFUyA9IHtcbiAgaW5mbzogXCJhbGVydC1pbmZvXCIsXG4gIHN1Y2Nlc3M6IFwiYWxlcnQtc3VjY2Vzc1wiLFxuICB3YXJuaW5nOiBcImFsZXJ0LXdhcm5pbmdcIixcbiAgZXJyb3I6IFwiYWxlcnQtZGFuZ2VyXCJcbn1cblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0U25hY2tiYXJDbGFzcygpIHtcbiAgICBsZXQgc25hY2tiYXJDbGFzcyA9IFwiYWxlcnRzLXNuYWNrYmFyXCJcbiAgICBpZiAodGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcbiAgICAgIHNuYWNrYmFyQ2xhc3MgKz0gXCIgaW5cIlxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9IFwiIG91dFwiXG4gICAgfVxuICAgIHJldHVybiBzbmFja2JhckNsYXNzXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldFNuYWNrYmFyQ2xhc3MoKX0+XG4gICAgICAgIDxwIGNsYXNzTmFtZT17XCJhbGVydCBcIiArIFRZUEVTX0NMQVNTRVNbdGhpcy5wcm9wcy50eXBlXX0+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnNuYWNrYmFyXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmNvbnN0IENvbXBsZXRlID0gKHsgYWN0aXZhdGlvbiwgYmFja2VuZF9uYW1lLCB1c2VybmFtZSB9KSA9PiB7XG4gIGxldCBpY29uID0gXCJcIlxuICBsZXQgbWVzc2FnZSA9IFwiXCJcbiAgaWYgKGFjdGl2YXRpb24gPT09IFwidXNlclwiKSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IHlvdSBuZWVkIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCJcbiAgICApXG4gIH0gZWxzZSBpZiAoYWN0aXZhdGlvbiA9PT0gXCJhZG1pblwiKSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJvYXJkIGFkbWluaXN0cmF0b3Igd2lsbCBoYXZlIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCJcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIHlvdSBoYXZlIGJlZW4gc2lnbmVkIGluIHRvIGl0LlwiXG4gICAgKVxuICB9XG5cbiAgaWYgKGFjdGl2YXRpb24gPT09IFwiYWN0aXZlXCIpIHtcbiAgICBpY29uID0gXCJjaGVja1wiXG4gIH0gZWxzZSB7XG4gICAgaWNvbiA9IFwiaW5mb19vdXRsaW5lXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utc29jaWFsLWF1dGggcGFnZS1zb2NpYWwtc2F1dGgtcmVnaXN0ZXJcIj5cbiAgICAgIDxIZWFkZXIgYmFja2VuZE5hbWU9e2JhY2tlbmRfbmFtZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RyYXRpb24gY29tcGxldGVkIVwiKX1cbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLW1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7IHVzZXJuYW1lIH0sIHRydWUpfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIk1JU0FHT19QQVRIXCIpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gZm9ydW0gaW5kZXhcIil9XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wbGV0ZVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmNvbnN0IEhlYWRlciA9ICh7IGJhY2tlbmROYW1lIH0pID0+IHtcbiAgY29uc3QgcGFnZVRpdGxlVHBsID0gZ2V0dGV4dChcIlNpZ24gaW4gd2l0aCAlKGJhY2tlbmQpc1wiKVxuICBjb25zdCBwYWdlVGl0bGUgPSBpbnRlcnBvbGF0ZShwYWdlVGl0bGVUcGwsIHsgYmFja2VuZDogYmFja2VuZE5hbWUgfSwgdHJ1ZSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3BhZ2VUaXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVnaXN0ZXIgZnJvbSBcIi4vcmVnaXN0ZXJcIlxuaW1wb3J0IENvbXBsZXRlIGZyb20gXCIuL2NvbXBsZXRlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29jaWFsQXV0aCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc3RlcDogcHJvcHMuc3RlcCxcblxuICAgICAgYWN0aXZhdGlvbjogcHJvcHMuYWN0aXZhdGlvbiB8fCBcIlwiLFxuICAgICAgZW1haWw6IHByb3BzLmVtYWlsIHx8IFwiXCIsXG4gICAgICB1c2VybmFtZTogcHJvcHMudXNlcm5hbWUgfHwgXCJcIlxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVJlZ2lzdHJhdGlvbkNvbXBsZXRlID0gKHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBiYWNrZW5kX25hbWUsIHVybCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoc3RlcCA9PT0gXCJyZWdpc3RlclwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVnaXN0ZXJcbiAgICAgICAgICBiYWNrZW5kX25hbWU9e2JhY2tlbmRfbmFtZX1cbiAgICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGU9e3RoaXMuaGFuZGxlUmVnaXN0cmF0aW9uQ29tcGxldGV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wbGV0ZVxuICAgICAgICBhY3RpdmF0aW9uPXthY3RpdmF0aW9ufVxuICAgICAgICBiYWNrZW5kX25hbWU9e2JhY2tlbmRfbmFtZX1cbiAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZVwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RlciBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7XG4gICAgICBlbWFpbDogW3ZhbGlkYXRvcnMuZW1haWwoKV0sXG4gICAgICB1c2VybmFtZTogW3ZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCldXG4gICAgfVxuXG4gICAgaWYgKCEhbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnRlcm1zT2ZTZXJ2aWNlID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRUZXJtc09mU2VydmljZSgpXVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMucHJpdmFjeVBvbGljeSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkUHJpdmFjeVBvbGljeSgpXVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBlbWFpbDogcHJvcHMuZW1haWwgfHwgXCJcIixcbiAgICAgIGVtYWlsUHJvdGVjdGVkOiAhIXByb3BzLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHByb3BzLnVzZXJuYW1lIHx8IFwiXCIsXG5cbiAgICAgIHRlcm1zT2ZTZXJ2aWNlOiBudWxsLFxuICAgICAgcHJpdmFjeVBvbGljeTogbnVsbCxcblxuICAgICAgdmFsaWRhdG9yczogZm9ybVZhbGlkYXRvcnMsXG4gICAgICBlcnJvcnM6IHt9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5lbWFpbC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkubGVuZ3RoXG4gICAgXVxuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHsgdmFsaWRhdG9ycyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgY29uc3QgY2hlY2tUZXJtc09mU2VydmljZSA9ICEhbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIilcbiAgICBpZiAoY2hlY2tUZXJtc09mU2VydmljZSAmJiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlID09PSBudWxsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih2YWxpZGF0b3JzLnRlcm1zT2ZTZXJ2aWNlWzBdKG51bGwpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tQcml2YWN5UG9saWN5ID0gISFtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIilcbiAgICBpZiAoY2hlY2tQcml2YWN5UG9saWN5ICYmIHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeSA9PT0gbnVsbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdG9ycy5wcml2YWN5UG9saWN5WzBdKG51bGwpKVxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBuZWVkIHRvIGFjY2VwdCB0aGUgcHJpdmFjeSBwb2xpY3kuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVybCwge1xuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgIHRlcm1zX29mX3NlcnZpY2U6IHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UsXG4gICAgICBwcml2YWN5X3BvbGljeTogdGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICBjb25zdCB7IG9uUmVnaXN0cmF0aW9uQ29tcGxldGUgfSA9IHRoaXMucHJvcHNcbiAgICBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgLy8gV2UndmUgZW50ZXJlZCBcImVycm9yZWRcIiBzdGF0ZSBiZWNhdXNlIHJlc3BvbnNlIGlzIEhUTUwgaW5zdGVhZCBvZiBleHB0ZWN0ZWQgSlNPTlxuICAgICAgY29uc3QgeyBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlIH0gPSB0aGlzLnByb3BzXG4gICAgICBjb25zdCB7IHVzZXJuYW1lIH0gPSB0aGlzLnN0YXRlXG4gICAgICBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlKHsgYWN0aXZhdGlvbjogXCJhY3RpdmVcIiwgc3RlcDogXCJkb25lXCIsIHVzZXJuYW1lIH0pXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IHN0YXRlVXBkYXRlID0geyBlcnJvcnM6IHJlamVjdGlvbiB9XG4gICAgICBpZiAocmVqZWN0aW9uLmVtYWlsKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLmVtYWlsUHJvdGVjdGVkID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGVVcGRhdGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoXCJwcml2YWN5UG9saWN5XCIsIHZhbHVlKVxuICB9XG5cbiAgaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUFncmVlbWVudChcInRlcm1zT2ZTZXJ2aWNlXCIsIHZhbHVlKVxuICB9XG5cbiAgaGFuZGxlVG9nZ2xlQWdyZWVtZW50ID0gKGFncmVlbWVudCwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlW2FncmVlbWVudF0gPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0geyAuLi5wcmV2U3RhdGUuZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9XG4gICAgICAgIHJldHVybiB7IGVycm9ycywgW2FncmVlbWVudF06IHZhbHVlIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5zdGF0ZS52YWxpZGF0b3JzW2FncmVlbWVudF1bMF1cbiAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IFt2YWxpZGF0b3IobnVsbCldIH1cbiAgICAgIHJldHVybiB7IGVycm9ycywgW2FncmVlbWVudF06IG51bGwgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBiYWNrZW5kX25hbWUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGVtYWlsLCBlbWFpbFByb3RlY3RlZCwgdXNlcm5hbWUsIGlzTG9hZGluZyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgbGV0IGVtYWlsSGVscFRleHQgPSBudWxsXG4gICAgaWYgKGVtYWlsUHJvdGVjdGVkKSB7XG4gICAgICBjb25zdCBlbWFpbEhlbHBUZXh0VHBsID0gZ2V0dGV4dChcbiAgICAgICAgXCJZb3VyIGUtbWFpbCBhZGRyZXNzIGhhcyBiZWVuIHZlcmlmaWVkIGJ5ICUoYmFja2VuZClzLlwiXG4gICAgICApXG4gICAgICBlbWFpbEhlbHBUZXh0ID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIGVtYWlsSGVscFRleHRUcGwsXG4gICAgICAgIHsgYmFja2VuZDogYmFja2VuZF9uYW1lIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2Utc29jaWFsLWF1dGggcGFnZS1zb2NpYWwtc2F1dGgtcmVnaXN0ZXJcIj5cbiAgICAgICAgPEhlYWRlciBiYWNrZW5kTmFtZT17YmFja2VuZF9uYW1lfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDb21wbGV0ZSB5b3VyIGRldGFpbHNcIil9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtlbWFpbEhlbHBUZXh0fVxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxQcm90ZWN0ZWQgPyBudWxsIDogdGhpcy5zdGF0ZS5lcnJvcnMuZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGVtYWlsUHJvdGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiZW1haWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDxSZWdpc3RlckxlZ2FsRm9vdG5vdGVcbiAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM9e3RoaXMuc3RhdGUuZXJyb3JzfVxuICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lQb2xpY3k9e3RoaXMuc3RhdGUucHJpdmFjeVBvbGljeX1cbiAgICAgICAgICAgICAgICAgICAgICB0ZXJtc09mU2VydmljZT17dGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZX1cbiAgICAgICAgICAgICAgICAgICAgICBvblByaXZhY3lQb2xpY3lDaGFuZ2U9e3RoaXMuaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICBvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlPXt0aGlzLmhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1icmVhZGNydW1ic1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPG9sIGNsYXNzTmFtZT1cImJyZWFkY3J1bWIgaGlkZGVuLXhzXCI+XG4gICAgICAgICAge3Byb3BzLnBhdGgubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxCcmVhZGNydW1iIGtleT17aXRlbS5pZH0gbm9kZT17aXRlbX0gLz5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9vbD5cbiAgICAgICAgPEdvQmFjayB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQnJlYWRjcnVtYihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLm5vZGUudXJsLmluZGV4fT57cHJvcHMubm9kZS5uYW1lfTwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0JhY2socHJvcHMpIHtcbiAgY29uc3QgbGFzdEl0ZW0gPSBwcm9wcy5wYXRoW3Byb3BzLnBhdGgubGVuZ3RoIC0gMV1cblxuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e2xhc3RJdGVtLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiZ28tYmFjay1zbSB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAge2xhc3RJdGVtLm5hbWV9XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCcmVhZGNydW1icyBmcm9tIFwiLi9icmVhZGNydW1ic1wiXG5pbXBvcnQgeyBpc01vZGVyYXRpb25WaXNpYmxlLCBNb2RlcmF0aW9uQ29udHJvbHMgfSBmcm9tIFwiLi4vbW9kZXJhdGlvbi90aHJlYWRcIlxuaW1wb3J0IFN0YXRzIGZyb20gXCIuL3N0YXRzXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCB7IGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBwcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ0aXRsZVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0VkaXRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnRpdGxlLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciB0aHJlYWQgdGl0bGUuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcInRpdGxlXCIsIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlIH1cbiAgICBdKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFZGl0aW5nOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdGhyZWFkLCB1c2VyIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgc2hvd01vZGVyYXRpb24gPSAhIXVzZXIuaWQgJiYgaXNNb2RlcmF0aW9uVmlzaWJsZSh0aHJlYWQpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AgdGl0bGUtZWRpdC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNiBjb2wtbWQtNlwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wLWhhbGYgc20tbWFyZ2luLXRvcC1ubyBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiQ2hhbmdlIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh1c2VyLmlkICYmIHRocmVhZC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgc2hvd01vZGVyYXRpb24gPyBcImNvbC1zbS05IGNvbC1tZC04XCIgOiBcImNvbC1zbS0xMCBjb2wtbWQtMTBcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoMT57dGhyZWFkLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgIHNob3dNb2RlcmF0aW9uID8gXCJjb2wtc20tMyBjb2wtbWQtNFwiIDogXCJjb2wtc20tMyBjb2wtbWQtMlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c2hvd01vZGVyYXRpb24gPyBcImNvbC14cy02XCIgOiBcImNvbC14cy0xMlwifT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0fVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiRWRpdCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5lZGl0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi1zbVwiPntnZXR0ZXh0KFwiRWRpdFwiKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7c2hvd01vZGVyYXRpb24gJiYgPE1vZGVyYXRpb24gey4uLnRoaXMucHJvcHN9IC8+fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmIChzaG93TW9kZXJhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOSBjb2wtbWQtMTBcIj5cbiAgICAgICAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMyBjb2wtbWQtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AgbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgPE1vZGVyYXRpb24gaXNTaW5nbGU9e3RydWV9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMT57dGhyZWFkLnRpdGxlfTwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8U3RhdHMgdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGVyYXRpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuaXNTaW5nbGUgPyBcImNvbC14cy0xMlwiIDogXCJjb2wteHMtNlwifT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy5pc1NpbmdsZSA/IFwiXCIgOiBcImhpZGRlbi1zbVwifT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxNb2RlcmF0aW9uQ29udHJvbHNcbiAgICAgICAgICAgIHBvc3RzPXtwcm9wcy5wb3N0c31cbiAgICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgdXNlcj17cHJvcHMudXNlcn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBMQVNUX1BPU1RFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9hPidcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBMQVNUX1JFUExZID1cbiAgJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcblxuZXhwb3J0IGZ1bmN0aW9uIFdlaWdodChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLndlaWdodCA9PSAyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWdsb2JhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFyazwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtbG9jYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcmtfYm9yZGVyPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZW1vdmVfY2lyY2xlPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIGlmIChwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZW1vdmVfY2lyY2xlX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJVbmFwcHJvdmVkIHBvc3RzXCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIkhpZGRlblwiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0Nsb3NlZChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLWNsb3NlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiQ2xvc2VkXCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGxpZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJShyZXBsaWVzKXMgcmVwbHlcIixcbiAgICBcIiUocmVwbGllcylzIHJlcGxpZXNcIixcbiAgICBwcm9wcy50aHJlYWQucmVwbGllc1xuICApXG4gIGNvbnN0IGxlZ2VuZCA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgcmVwbGllczogcHJvcHMudGhyZWFkLnJlcGxpZXMgfSwgdHJ1ZSlcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcmVwbGllc1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcnVtPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57bGVnZW5kfTwvc3Bhbj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UmVwbHkocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgTEFTVF9QT1NURVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3RlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBMQVNUX1BPU1RFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgTEFTVF9SRVBMWSxcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJsYXN0IHJlcGx5IGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSxcbiAgICB7XG4gICAgICBkYXRlLFxuICAgICAgdXNlclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1zdGF0c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPFdlaWdodCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8VW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPElzQ2xvc2VkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxSZXBsaWVzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IEVycm9yc0xpc3QgZnJvbSBcIi4vZXJyb3JzLWxpc3RcIlxuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfdW5hcHByb3ZlZDogZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfdW5hcHByb3ZlZDogcG9zdC5pc191bmFwcHJvdmVkXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtcHJvdGVjdGVkXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogdHJ1ZVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IHBvc3QuaXNfcHJvdGVjdGVkXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1wcm90ZWN0ZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24ocG9zdC51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLnVybFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBwb3N0LmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogcG9zdC5oaWRkZW5fb24sXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICAgIHVybDogcG9zdC51cmxcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBmYWxzZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihwb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIudXJsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHBvc3QuaXNfaGlkZGVuLFxuICAgICAgaGlkZGVuX29uOiBwb3N0LmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgICAgdXJsOiBwb3N0LnVybFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uLCB0aHJlYWQgfSA9IHByb3BzXG5cbiAgLy8gcGF0Y2ggc2VsZWN0ZWQgaXRlbXNcbiAgbmV3U3RhdGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICBwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pXG4gIH0pXG5cbiAgLy8gZGVzZWxlY3QgYWxsIHRoZSB0aGluZ3NcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSlcblxuICAvLyBjYWxsIGFqYXhcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBvcHMsXG5cbiAgICBpZHM6IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5pZFxuICAgIH0pXG4gIH1cblxuICBhamF4LnBhdGNoKHRocmVhZC5hcGkucG9zdHMuaW5kZXgsIGRhdGEpLnRoZW4oXG4gICAgZGF0YSA9PiB7XG4gICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpXG4gICAgICB9KVxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzICE9PSA0MDApIHtcbiAgICAgICAgLy8gcm9sbGJhY2sgYWxsXG4gICAgICAgIHByZXZpb3VzU3RhdGUuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBsZXQgZXJyb3JzID0gW11cbiAgICAgIGxldCByb2xsYmFjayA9IFtdXG5cbiAgICAgIHJlamVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS5kZXRhaWwpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChpdGVtKVxuICAgICAgICAgIHJvbGxiYWNrLnB1c2goaXRlbS5pZClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNTdGF0ZS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIGlmIChyb2xsYmFjay5pbmRleE9mKGl0ZW0pICE9PSAtMSkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBsZXQgcG9zdHMgPSB7fVxuICAgICAgc2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHBvc3RzW2l0ZW0uaWRdID0gaXRlbVxuICAgICAgfSlcblxuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTGlzdCBlcnJvcnM9e2Vycm9yc30gcG9zdHM9e3Bvc3RzfSAvPilcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgIGdldHRleHQoXG4gICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBtZXJnZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCJcbiAgICApXG4gIClcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHByb3BzLnNlbGVjdGlvbi5zbGljZSgxKS5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG4gIH0pXG5cbiAgYWpheFxuICAgIC5wb3N0KHByb3BzLnRocmVhZC5hcGkucG9zdHMubWVyZ2UsIHtcbiAgICAgIHBvc3RzOiBwcm9wcy5zZWxlY3Rpb24ubWFwKHBvc3QgPT4gcG9zdC5pZClcbiAgICB9KVxuICAgIC50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgcG9zdC5oeWRyYXRlKGRhdGEpKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKHNlbGVjdGlvbiA9PiB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShcbiAgICBnZXR0ZXh0KFxuICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlbGVjdGVkIHBvc3RzPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIlxuICAgIClcbiAgKVxuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLm1hcChzZWxlY3Rpb24gPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBjb25zdCBpZHMgPSBwcm9wcy5zZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiBwb3N0LmlkXG4gIH0pXG5cbiAgYWpheC5kZWxldGUocHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwgaWRzKS50aGVuKFxuICAgICgpID0+IHtcbiAgICAgIHJldHVyblxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cblxuICAgICAgcHJvcHMuc2VsZWN0aW9uLm1hcChzZWxlY3Rpb24gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICApXG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0ICogYXMgbW9kZXJhdGlvbiBmcm9tIFwiLi9hY3Rpb25zXCJcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSBcIi4vbW92ZVwiXG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tIFwiLi9zcGxpdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgIDxBcHByb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNZXJnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8U3BsaXQgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVucHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxIaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIEFwcHJvdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uYXBwcm92ZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2FwcHJvdmUgJiYgcG9zdC5pc191bmFwcHJvdmVkXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lcmdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLm1lcmdlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aCA+IDEgJiZcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fbWVyZ2VcbiAgICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfbWVyZ2U8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9zcGxpdDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnByb3RlY3QodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuICFwb3N0LmlzX3Byb3RlY3RlZCAmJiBwb3N0LmFjbC5jYW5fcHJvdGVjdFxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuaXNfcHJvdGVjdGVkICYmIHBvc3QuYWNsLmNhbl9wcm90ZWN0XG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vcGVuPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5wcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9oaWRlICYmICFwb3N0LmlzX2hpZGRlblxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVuaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX3VuaGlkZSAmJiBwb3N0LmlzX2hpZGRlblxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKHBvc3QgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9kZWxldGVcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZXJyb3JzLCBwb3N0cyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9uZSBvciBtb3JlIHBvc3RzIGNvdWxkIG5vdCBiZSBjaGFuZ2VkOlwiKX1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgIHtlcnJvcnMubWFwKHBvc3QgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxQb3N0RXJyb3JzXG4gICAgICAgICAgICAgICAgICBlcnJvcnM9e3Bvc3QuZGV0YWlsfVxuICAgICAgICAgICAgICAgICAga2V5PXtwb3N0LmlkfVxuICAgICAgICAgICAgICAgICAgcG9zdD17cG9zdHNbcG9zdC5pZF19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdEVycm9ycyh7IGVycm9ycywgcG9zdCB9KSB7XG4gIGNvbnN0IGhlYWRpbmcgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIG9uICUocG9zdGVkX29uKXNcIiksXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTCwgTFRcIiksXG4gICAgICB1c2VybmFtZTogcG9zdC5wb3N0ZXJfbmFtZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8aDU+e2hlYWRpbmd9OjwvaDU+XG4gICAgICB7ZXJyb3JzLm1hcCgoZXJyb3IsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxwIGtleT17aX0+e2Vycm9yfTwvcD5cbiAgICAgIH0pfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERyb3Bkb3duIGZyb20gXCIuL2Ryb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkIHx8ICFpc1Zpc2libGUocHJvcHMudGhyZWFkLCBwcm9wcy5wb3N0cy5yZXN1bHRzKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBzZWxlY3Rpb24gPSBwcm9wcy5wb3N0cy5yZXN1bHRzLmZpbHRlcihwb3N0ID0+IHtcbiAgICByZXR1cm4gcG9zdC5pc1NlbGVjdGVkXG4gIH0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3B1cFwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgZGlzYWJsZWQ9eyFzZWxlY3Rpb24ubGVuZ3RofVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJQb3N0cyBvcHRpb25zXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gc2VsZWN0aW9uPXtzZWxlY3Rpb259IHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHRocmVhZCwgcG9zdHMpIHtcbiAgaWYgKHRocmVhZC5hY2wuY2FuX21lcmdlX3Bvc3RzICYmIHBvc3RzLmxlbmd0aCA+IDEpIHtcbiAgICAvLyBmYXN0IHRlc3Q6IHNob3cgbW9kZXJhdGlvbiBtZW51IGlmIHdlIGNhbiBtZXJnZSBwb3N0c1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyBzbG93IHRlc3Q6IHNob3cgbW9kZXJhdGlvbiBpZiBhbnkgb2YgcG9zdHMgaGFzIG1vZGVyYXRpb24gb3B0aW9uc1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlXG4gIHBvc3RzLmZvckVhY2gocG9zdCA9PiB7XG4gICAgaWYgKCFwb3N0LmlzX2V2ZW50KSB7XG4gICAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9XG4gICAgICAgIChwb3N0LmFjbC5jYW5fYXBwcm92ZSAmJiBwb3N0LmlzX3VuYXBwcm92ZWQpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9kZWxldGUgfHxcbiAgICAgICAgKCFwb3N0LmlzX2hpZGRlbiAmJiBwb3N0LmFjbC5jYW5faGlkZSkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX21vdmUgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX21lcmdlIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgICAgIChwb3N0LmlzX2hpZGRlbiAmJiBwb3N0LmFjbC5jYW5fdW5oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fdW5wcm90ZWN0XG5cbiAgICAgIGlmIChzaG93TW9kZXJhdGlvbikge1xuICAgICAgICB2aXNpYmxlID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHZpc2libGVcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgbmV3X3RocmVhZDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKHBvc3QgPT4gcG9zdC5pZClcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaChzZWxlY3Rpb24gPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidXJsXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0cyB0b1wiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgcG9zdHNcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIDxQb3N0aW5nQ29uZmlnIHsuLi5wcm9wc30gRm9ybT17TW9kZXJhdGlvbkZvcm19IC8+XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0aW5nQ29uZmlnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiVEhSRUFEX0VESVRPUl9BUElcIikpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgICBwb3N0OiBpdGVtLnBvc3RcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGNhdGVnb3JpZXNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiA8RXJyb3IgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW3ZhbGlkYXRvcnMucmVxdWlyZWQoKV1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5X29mZlwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIGljb246IFwibG9ja19vdXRsaW5lXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IHRoaXMucHJvcHMuc2VsZWN0aW9uLm1hcChwb3N0ID0+IHBvc3QuaWQpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0cyB3ZXJlIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwicmVtb3ZlXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzXG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3ZWlnaHRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2hpZGRlblwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19jbG9zZWRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0c1wiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSBzZWxlY3RlZCBwb3N0cyBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD57cHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdHMgaW50byBuZXcgdGhyZWFkXCIpfVxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTWVyZ2VNb2RhbCBmcm9tIFwiLi9tZXJnZVwiXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gXCIuL21vdmVcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSlcblxuICAgIC8vIGJ5IHRoZSBjaGFuY2UgdXBkYXRlIHRocmVhZCBhY2wgdG9vXG4gICAgb3BzLnB1c2goeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfSlcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBvcHMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgZ2xvYmFsbHkuXCIpXG4gICAgKVxuICB9XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgbG9jYWxseS5cIilcbiAgICApXG4gIH1cblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIilcbiAgICApXG4gIH1cblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1jbG9zZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gb3BlbmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIilcbiAgICApXG4gIH1cblxuICB1bmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgdmlzaWJsZS5cIilcbiAgICApXG4gIH1cblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWhpZGRlblwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgaGlkZGVuLlwiKVxuICAgIClcbiAgfVxuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWwgcG9zdHM9e3RoaXMucHJvcHMucG9zdHN9IHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgKVxuICB9XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TWVyZ2VNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPilcbiAgfVxuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBpZiAoIWNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB0aHJlYWQ/XCIpKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSlcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gZGVsZXRlZC5cIikpXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LnVybC5pbmRleFxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAyKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkdsb2JhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0UGluTG9jYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAxKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcmtfYm9yZGVyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGxvY2FsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRVbnBpbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAwKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5waW59IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGFub3JhbWFfZmlzaF9leWU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnBpblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21vdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubW92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1lcmdlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5tZXJnZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX21lcmdlPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRBcHByb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5hcHByb3ZlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0T3BlbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub3Blbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJPcGVuXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2Nsb3NlZCkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuY2xvc2V9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRVbmhpZGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4pIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3VuaGlkZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bmhpZGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5faGlkZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5oaWRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmRlbGV0ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIj5cbiAgICAgICAge3RoaXMuZ2V0UGluR2xvYmFsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0UGluTG9jYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbnBpbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1lcmdlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEFwcHJvdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0T3BlbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRDbG9zZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbmhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0SGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgTW9kZXJhdGlvbkNvbnRyb2xzIGZyb20gXCIuL2NvbnRyb2xzXCJcbmltcG9ydCBpc01vZGVyYXRpb25WaXNpYmxlIGZyb20gXCIuL2lzLXZpc2libGVcIlxuXG5leHBvcnQgeyBNb2RlcmF0aW9uQ29udHJvbHMsIGlzTW9kZXJhdGlvblZpc2libGUgfVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGhyZWFkKSB7XG4gIHJldHVybiAhIShcbiAgICAodGhyZWFkLmFjbC5jYW5fYXBwcm92ZSAmJiB0aHJlYWQuaXNfdW5hcHByb3ZlZCkgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9jbG9zZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2hpZGUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9tb3ZlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fbWVyZ2UgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9waW4gfHxcbiAgICAodGhyZWFkLmFjbC5jYW5fcGluX2dsb2JhbGx5ICYmIHRocmVhZC53ZWlnaHQgIT09IDIpIHx8XG4gICAgKHRocmVhZC5hY2wuY2FuX3VuaGlkZSAmJiB0aHJlYWQuaXNfaGlkZGVuKVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IE1lcmdlQ29uZmxpY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21lcmdlLWNvbmZsaWN0XCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSlcblxuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLm1lcmdlLCB7XG4gICAgICBvdGhlcl90aHJlYWQ6IHRoaXMuc3RhdGUudXJsXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MgPSBzdWNjZXNzID0+IHtcbiAgICB0aGlzLmhhbmRsZVN1Y2Nlc3NVbm1vdW50ZWQoc3VjY2VzcylcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2Vzc1VubW91bnRlZCA9IHN1Y2Nlc3MgPT4ge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtZXJnZWQgd2l0aCBvdGhlciBvbmUuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcblxuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXJzIHx8IHJlamVjdGlvbi5wb2xscykge1xuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxNZXJnZUNvbmZsaWN0XG4gICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZX1cbiAgICAgICAgICAgIGJlc3RBbnN3ZXJzPXtyZWplY3Rpb24uYmVzdF9hbnN3ZXJzfVxuICAgICAgICAgICAgZGF0YT17eyBvdGhlcl90aHJlYWQ6IHRoaXMuc3RhdGUudXJsIH19XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmJlc3RfYW5zd2VyKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5iZXN0X2Fuc3dlclswXSlcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvbGwpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvbGxbMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInVybFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1lcmdlIHdpdGhcIil9XG4gICAgICAgICAgICAgICAgaGVscF90ZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgXCJNZXJnZSB3aWxsIGRlbGV0ZSBjdXJyZW50IHRocmVhZCBhbmQgbW92ZSBpdHMgY29udGVudHMgdG8gdGhlIHRocmVhZCBzcGVjaWZpZWQgaGVyZS5cIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBsZXQgY2F0ZWdvcnkgPSBudWxsXG5cbiAgICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgLy8gcGljayBmaXJzdCBjYXRlZ29yeSB0aGF0IGFsbG93cyBwb3N0aW5nIGFuZCBpZiBpdCBtYXksIG92ZXJyaWRlIGl0IHdpdGggaW5pdGlhbCBvbmVcbiAgICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gaXRlbS5pZFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBzZW5kKCkge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJjYXRlZ29yeVwiLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeSB9XG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgLy8gcmVmcmVzaCB0aHJlYWQgYW5kIGRpc3BsYXllZCBwb3N0c1xuICAgIGFqYXhcbiAgICAgIC5nZXQodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LCB7IHBhZ2U6IHRoaXMucHJvcHMucG9zdHMucGFnZSB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZXBsYWNlKGRhdGEpKVxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YS5wb3N0X3NldCkpXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcblxuICAgICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtb3ZlZC5cIikpXG4gICAgICAgICAgbW9kYWwuaGlkZSgpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJjYXRlZ29yeVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwIGZvcj1cImlkX2NhdGVnb3J5XCIgbGFiZWw9e2dldHRleHQoXCJOZXcgY2F0ZWdvcnlcIil9PlxuICAgICAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TW9kYWxMb2FkaW5nIC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsTG9hZGluZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsTWVzc2FnZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgdGhyZWFkIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD57cHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwibWlzYWdvLXBhZ2luYXRpb24gcHVsbC1sZWZ0XCI+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICA8L25hdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFnZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctcGFnaW5hdG9yXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxQcmV2aW91c1BhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxOZXh0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaXJzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLmZpcnN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJldmlvdXNQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5wYWdlID4gMSkge1xuICAgIGxldCBwcmV2aW91c1VybCA9IFwiXCJcbiAgICBpZiAocHJvcHMucG9zdHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucG9zdHMucHJldmlvdXMgKyBcIi9cIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBwcmV2aW91c1VybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5leHRQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5tb3JlKSB7XG4gICAgbGV0IG5leHRVcmwgPSBcIlwiXG4gICAgaWYgKHByb3BzLnBvc3RzLm5leHQpIHtcbiAgICAgIG5leHRVcmwgPSBwcm9wcy5wb3N0cy5uZXh0ICsgXCIvXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgbmV4dFVybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5sYXN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByb3BzLnBvc3RzLmxhc3QgKyBcIi9cIn1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3JlKHByb3BzKSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAocHJvcHMubW9yZSkge1xuICAgIG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhlcmUgaXMgJShtb3JlKXMgbW9yZSBwb3N0IGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgXCJUaGVyZSBhcmUgJShtb3JlKXMgbW9yZSBwb3N0cyBpbiB0aGlzIHRocmVhZC5cIixcbiAgICAgIHByb3BzLm1vcmVcbiAgICApXG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgbW9yZTogcHJvcHMubW9yZSB9LCB0cnVlKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIG1vcmUgcG9zdHMgaW4gdGhpcyB0aHJlYWQuXCIpXG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJidG4gYnRuLXByaW1hcnkgYnRuLW91dGxpbmVcIn1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hhdDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiUmVwbHlcIil9XG4gICAgPC9idXR0b24+XG4gIClcbn1cbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IFJvdXRlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm91dGVcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHBhcnRpY2lwYW50czogc3RvcmUucGFydGljaXBhbnRzLFxuICAgIHBvbGw6IHN0b3JlLnBvbGwsXG4gICAgcG9zdHM6IHN0b3JlLnBvc3RzLFxuICAgIHRocmVhZDogc3RvcmUudGhyZWFkLFxuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXJcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IHRocmVhZCA9IG1pc2Fnby5nZXQoXCJUSFJFQURcIilcbiAgY29uc3QgYmFzZVBhdGggPSB0aHJlYWQudXJsLmluZGV4LnJlcGxhY2UoXG4gICAgdGhyZWFkLnNsdWcgKyBcIi1cIiArIHRocmVhZC5wayxcbiAgICBcIjpzbHVnXCJcbiAgKVxuXG4gIHJldHVybiBbXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGgsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSb3V0ZSlcbiAgICB9LFxuICAgIHtcbiAgICAgIHBhdGg6IGJhc2VQYXRoICsgXCI6cGFnZS9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH1cbiAgXVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFydGljaXBhbnRzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0IHsgUG9sbCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb2xsXCJcbmltcG9ydCBQb3N0c0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3RcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IFRvb2xiYXJUb3AgZnJvbSBcIi4vdG9vbGJhci10b3BcIlxuaW1wb3J0IFRvb2xiYXJCb3R0b20gZnJvbSBcIi4vdG9vbGJhci1ib3R0b21cIlxuaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkRmV0Y2hEYXRhKCkpIHtcbiAgICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKClcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpXG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkRmV0Y2hEYXRhKCkpIHtcbiAgICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nQXBpKClcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0b3BQb2xsaW5nQXBpKClcbiAgfVxuXG4gIHNob3VsZEZldGNoRGF0YSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgICAgY29uc3QgcGFnZSA9ICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDEpICogMVxuICAgICAgcmV0dXJuIHBhZ2UgIT0gdGhpcy5wcm9wcy5wb3N0cy5wYWdlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGZldGNoRGF0YSgpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy51bmxvYWQoKSlcblxuICAgIGFqYXhcbiAgICAgIC5nZXQoXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcbiAgICAgICAge1xuICAgICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgICB9LFxuICAgICAgICBcInBvc3RzXCJcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZShkYXRhKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwidGhyZWFkLXBvc3RzXCIsXG5cbiAgICAgIHVybDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuICAgICAgZGF0YToge1xuICAgICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IDFcbiAgICAgIH0sXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuXG4gICAgICBmcmVxdWVuY3k6IDEyMCAqIDEwMDAsXG4gICAgICBkZWxheWVkOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIHN0b3BQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0b3AoXCJ0aHJlYWQtcG9zdHNcIilcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMudGhyZWFkLnRpdGxlLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS5uYW1lLFxuICAgICAgcGFnZTogKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZXBsYWNlKGRhdGEpKVxuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmxvYWQoZGF0YS5wb3N0X3NldCkpXG5cbiAgICBpZiAoZGF0YS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSlcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5wb2xsKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlcGxhY2UoZGF0YS5wb2xsKSlcbiAgICB9XG5cbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpXG4gIH1cblxuICBvcGVuUmVwbHlGb3JtID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlJFUExZXCIsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy50aHJlYWQuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJwYWdlIHBhZ2UtdGhyZWFkXCJcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgcGFnZS10aHJlYWQtXCIgKyB0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS5jc3NfY2xhc3NcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgICA8SGVhZGVyIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8VG9vbGJhclRvcCBvcGVuUmVwbHlGb3JtPXt0aGlzLm9wZW5SZXBseUZvcm19IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxQb2xsXG4gICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFBhcnRpY2lwYW50c1xuICAgICAgICAgICAgcGFydGljaXBhbnRzPXt0aGlzLnByb3BzLnBhcnRpY2lwYW50c31cbiAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8UG9zdHNMaXN0IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxUb29sYmFyQm90dG9tIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtnZXRJY29uKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXRMYWJlbChwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNvbihzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBcInN0YXJcIlxuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gXCJzdGFyX2hhbGZcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBcInN0YXJfYm9yZGVyXCJcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWwoc3Vic2NyaXB0aW9uKSB7XG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkUtbWFpbFwiKVxuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkVuYWJsZWRcIilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkRpc2FibGVkXCIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERyb3Bkb3duKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT17cHJvcHMuZHJvcGRvd25DbGFzc05hbWUgfHwgXCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwifT5cbiAgICAgIDxEaXNhYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbmFibGUgey4uLnByb3BzfSAvPlxuICAgICAgPEVtYWlsIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBEaXNhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIG51bGwsIFwidW5zdWJzY3JpYmVcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJfYm9yZGVyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5zdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVuYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgZmFsc2UsIFwibm90aWZ5XCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2hhbGY8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtYWlsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIHRydWUsIFwiZW1haWxcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmUgd2l0aCBlLW1haWxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSh0aHJlYWQsIG5ld1N0YXRlLCB2YWx1ZSkge1xuICBjb25zdCBvbGRTdGF0ZSA9IHtcbiAgICBzdWJzY3JpcHRpb246IHRocmVhZC5zdWJzY3JpcHRpb25cbiAgfVxuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIGFjdGlvbnMudXBkYXRlKHtcbiAgICAgIHN1YnNjcmlwdGlvbjogbmV3U3RhdGVcbiAgICB9KVxuICApXG5cbiAgYWpheFxuICAgIC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJzdWJzY3JpcHRpb25cIiwgdmFsdWU6IHZhbHVlIH1cbiAgICBdKVxuICAgIC50aGVuKFxuICAgICAgZmluYWxTdGF0ZSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKGZpbmFsU3RhdGUpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKG9sZFN0YXRlKSlcbiAgICAgIH1cbiAgICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFBhZ2VyLCBNb3JlIH0gZnJvbSBcIi4vcGFnaW5hdG9yXCJcbmltcG9ydCBQb3N0c01vZGVyYXRpb24gZnJvbSBcIi4vbW9kZXJhdGlvbi9wb3N0c1wiXG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSBcIi4vcmVwbHktYnV0dG9uXCJcbmltcG9ydCBTdWJzY3JpcHRpb25Td2l0Y2ggZnJvbSBcIi4vc3Vic2NyaXB0aW9uXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgdGV4dC1jZW50ZXIgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTVcIj5cbiAgICAgICAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtbWQtNyBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8T3B0aW9ucyB2aXNpYmxlPXshIXByb3BzLnVzZXIuaWR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyIGhpZGRlbi1tZCBoaWRkZW4tbGdcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxTcGFjZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxNb2RlcmF0aW9uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IG9uQ2xpY2s9e3Byb3BzLm9wZW5SZXBseUZvcm19IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9PcHRpb25zPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zKHByb3BzKSB7XG4gIGlmICghcHJvcHMudmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNVwiPntwcm9wcy5jaGlsZHJlbn08L2Rpdj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGVyYXRpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgIDxQb3N0c01vZGVyYXRpb24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdWJzY3JpcHRpb24ocHJvcHMpIHtcbiAgbGV0IHhzQ2xhc3MgPSBcImNvbC14cy02XCJcbiAgaWYgKCFwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkge1xuICAgIHhzQ2xhc3MgPSBcImNvbC14cy0xMlwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXt4c0NsYXNzICsgXCIgY29sLXNtLTRcIn0+XG4gICAgICA8U3Vic2NyaXB0aW9uU3dpdGNoXG4gICAgICAgIGJ0bkNsYXNzTmFtZT1cImJ0bi1ibG9ja1wiXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3B1cFwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGx5KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02IGNvbC1zbS00XCI+XG4gICAgICA8UmVwbHlCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTcGFjZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc20gY29sLXNtLTRcIiAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSBcIi4vcmVwbHktYnV0dG9uXCJcbmltcG9ydCBTdWJzY3JpcHRpb24gZnJvbSBcIi4vc3Vic2NyaXB0aW9uXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IGhpZGRlblNwZWNpYWxPcHRpb24gPVxuICAgICFwcm9wcy50aHJlYWQuYWNsLmNhbl9zdGFydF9wb2xsIHx8IHByb3BzLnRocmVhZC5wb2xsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhciByb3ctdG9vbGJhci1ib3R0b20tbWFyZ2luXCI+XG4gICAgICA8R290b01lbnUgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOSBjb2wtbWQtNSBjb2wtbWQtb2Zmc2V0LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHZpc2libGU9eyFwcm9wcy51c2VyLmlkfSAvPlxuICAgICAgICAgIDxTcGFjZXIgdmlzaWJsZT17aGlkZGVuU3BlY2lhbE9wdGlvbn0gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uTWVudSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN0YXJ0UG9sbCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b01lbnUocHJvcHMpIHtcbiAgY29uc3QgeyB1c2VyIH0gPSBwcm9wc1xuXG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy0zIGNvbC1zbS0zIGNvbC1tZC01XCJcbiAgaWYgKHVzZXIuaXNfYW5vbnltb3VzKSB7XG4gICAgY2xhc3NOYW1lID0gXCJjb2wteHMtMTIgY29sLXNtLTMgY29sLW1kLTVcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgPEdvdG9MYXN0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b05ldyB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9CZXN0QW5zd2VyIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b1VuYXBwcm92ZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxDb21wYWN0T3B0aW9ucyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9OZXcocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaXNfbmV3KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgbmV3IHBvc3RcIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvQmVzdEFuc3dlcihwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGJlc3QgYW5zd2VyXCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkJlc3QgYW5zd2VyXCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyB8fCAhcHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCB1bmFwcHJvdmVkIHBvc3RcIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0xhc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwb3N0XCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkxhc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3RPcHRpb25zKHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHNcbiAgaWYgKHVzZXIuaXNfYW5vbnltb3VzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1ibG9jayB2aXNpYmxlLXNtLWJsb2NrXCI+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkxhc3QgcG9zdFwiKX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duIHZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5leHBhbmRfbW9yZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLXhzXCI+e2dldHRleHQoXCJPcHRpb25zXCIpfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgPFN0YXJ0UG9sbENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b05ld0NvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b1VuYXBwcm92ZWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9MYXN0Q29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3Q29tcGFjdChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5pc19uZXcpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBmaXJzdCBuZXcgcG9zdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvVW5hcHByb3ZlZENvbXBhY3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgfHwgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLnVuYXBwcm92ZWRfcG9zdH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0Q29tcGFjdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBsYXN0IHBvc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbHkocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICA8UmVwbHlCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9wZW5SZXBseUZvcm19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdWJzY3JpcHRpb25NZW51KHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00XCI+XG4gICAgICA8U3Vic2NyaXB0aW9uXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duXCJcbiAgICAgICAgZHJvcGRvd25DbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCJcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJQT0xMXCIsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb2xsLFxuXG4gICAgICB0aHJlYWQ6IHRoaXMucHJvcHMudGhyZWFkLFxuICAgICAgcG9sbDogbnVsbFxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3N0YXJ0X3BvbGwgfHwgdGhpcy5wcm9wcy50aHJlYWQucG9sbCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wb2xsPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBvbGxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFydFBvbGxDb21wYWN0IGV4dGVuZHMgU3RhcnRQb2xsIHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9zdGFydF9wb2xsIHx8IHRoaXMucHJvcHMudGhyZWFkLnBvbGwpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwb2xsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTcGFjZXIocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52aXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiIC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0RW1wdHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5XCJcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5XCJcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuaXNMb2FkZWQpIHtcbiAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+XG4gIH1cblxuICBpZiAocHJvcHMudGhyZWFkcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpc3RFbXB0eSBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9IGFwcGx5RGlmZj17cHJvcHMuYXBwbHlEaWZmfT5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9MaXN0RW1wdHk+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGlzdFJlYWR5XG4gICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuY2F0ZWdvcnl9XG4gICAgICBjYXRlZ29yaWVzPXtwcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgbGlzdD17cHJvcHMubGlzdH1cbiAgICAgIHRocmVhZHM9e3Byb3BzLnRocmVhZHN9XG4gICAgICBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9XG4gICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgIHNob3dPcHRpb25zPXtwcm9wcy5zaG93T3B0aW9uc31cbiAgICAgIHNlbGVjdGlvbj17cHJvcHMuc2VsZWN0aW9ufVxuICAgICAgYnVzeVRocmVhZHM9e3Byb3BzLmJ1c3lUaHJlYWRzfVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7IGFwcGx5RGlmZiwgZGlmZlNpemUgfSA9IHByb3BzXG4gIGlmIChkaWZmU2l6ZSA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkcy1kaWZmLW1lc3NhZ2VcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICBvbkNsaWNrPXthcHBseURpZmZ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWNoZWQ8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpZmYtbWVzc2FnZVwiPntnZXRNZXNzYWdlKGRpZmZTaXplKX08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlKGRpZmZTaXplKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIlRoZXJlIGlzICUodGhyZWFkcylzIG5ldyBvciB1cGRhdGVkIHRocmVhZC4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgaXQuXCIsXG4gICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkcy4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgdGhlbS5cIixcbiAgICBkaWZmU2l6ZVxuICApXG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdGhyZWFkczogZGlmZlNpemVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRGlmZk1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RGlmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlmZlNpemUgPT09IDApIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPERpZmZNZXNzYWdlXG4gICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9XG4gICAgICAgIGRpZmZTaXplPXt0aGlzLnByb3BzLmRpZmZTaXplfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAge3RoaXMuZ2V0RGlmZk1lc3NhZ2UoKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVGhyZWFkUHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkcy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICA8VGhyZWFkUHJldmlldyAvPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlXCJcbmltcG9ydCBUaHJlYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcmVhZHlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICA8RGlmZk1lc3NhZ2UgZGlmZlNpemU9e3Byb3BzLmRpZmZTaXplfSBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn0gLz5cbiAgICAgICAge3Byb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxUaHJlYWRcbiAgICAgICAgICAgICAgYWN0aXZlQ2F0ZWdvcnk9e3Byb3BzLmFjdGl2ZUNhdGVnb3J5fVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzPXtwcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBsaXN0PXtwcm9wcy5saXN0fVxuICAgICAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3Byb3BzLnNob3dPcHRpb25zfVxuICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtwcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgIGlzQnVzeT17cHJvcHMuYnVzeVRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgIGtleT17dGhyZWFkLmlkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSBcIi4vY2F0ZWdvcnlcIlxuaW1wb3J0IHsgT3B0aW9uc1hzIH0gZnJvbSBcIi4uL29wdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0J1c3ksIHNob3dPcHRpb25zLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtMTIgY29sLXNtLTEyXCJcbiAgaWYgKHNob3dPcHRpb25zKSB7XG4gICAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lID0gXCJjb2wteHMtNiBjb2wtc20tMTJcIlxuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgPSBcImNvbC14cy05IGNvbC1zbS0xMlwiXG4gICAgfVxuICB9XG5cbiAgbGV0IHN0YXR1c0ZsYWdzID0gMFxuICBpZiAodGhyZWFkLmlzX2hpZGRlbikgc3RhdHVzRmxhZ3MgKz0gMVxuICBpZiAodGhyZWFkLmlzX2Nsb3NlZCkgc3RhdHVzRmxhZ3MgKz0gMVxuICBpZiAodGhyZWFkLmhhc19wb2xsKSBzdGF0dXNGbGFncyArPSAxXG5cbiAgbGV0IGFsbEZsYWdzVmlzaWJsZSA9IHNob3dPcHRpb25zICYmIHN0YXR1c0ZsYWdzID09PSAzXG5cbiAgbGV0IHRleHRDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0IGhpZGRlbi14c1wiXG4gIGlmIChhbGxGbGFnc1Zpc2libGUpIHtcbiAgICB0ZXh0Q2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1kZXRhaWxzLWJvdHRvbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxDYXRlZ29yeVxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSBoaWRkZW4teHNcIlxuICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGRlbkxhYmVsIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9IGRpc3BsYXk9e3RocmVhZC5pc19oaWRkZW59IC8+XG4gICAgICAgIDxDbG9zZWRMYWJlbCB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfSBkaXNwbGF5PXt0aHJlYWQuaXNfY2xvc2VkfSAvPlxuICAgICAgICA8UG9sbExhYmVsIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9IGRpc3BsYXk9e3RocmVhZC5oYXNfcG9sbH0gLz5cbiAgICAgICAgPEJlc3RBbnN3ZXJMYWJlbCB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPFJlcGxpZXNMYWJlbFxuICAgICAgICAgIGZvcmNlRnVsbFRleHQ9eyFzaG93T3B0aW9ucyB8fCBzdGF0dXNGbGFncyA8IDJ9XG4gICAgICAgICAgcmVwbGllcz17dGhyZWFkLnJlcGxpZXN9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UmVwbHlMYWJlbFxuICAgICAgICAgIGRhdGV0aW1lPXt0aHJlYWQubGFzdF9wb3N0X29ufVxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UG9zdGVyXG4gICAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8T3B0aW9uc1hzXG4gICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgIGRpc3BsYXk9e3Nob3dPcHRpb25zfVxuICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbkxhYmVsKHsgZGlzcGxheSwgdGV4dENsYXNzTmFtZSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PntnZXR0ZXh0KFwiSGlkZGVuXCIpfTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb3NlZExhYmVsKHsgZGlzcGxheSwgdGV4dENsYXNzTmFtZSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfT57Z2V0dGV4dChcIkNsb3NlZFwiKX08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1wb2xsXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXNzZXNzbWVudDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+e2dldHRleHQoXCJQb2xsXCIpfTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJMYWJlbCh7IHRocmVhZCB9KSB7XG4gIGlmICghdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtYW5zd2VyZWRcIlxuICAgICAgaHJlZj17dGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllc0xhYmVsKHsgcmVwbGllcywgZm9yY2VGdWxsVGV4dCB9KSB7XG4gIGNvbnN0IHRleHQgPSBuZ2V0dGV4dChcIiUocmVwbGllcylzIHJlcGx5XCIsIFwiJShyZXBsaWVzKXMgcmVwbGllc1wiLCByZXBsaWVzKVxuXG4gIGxldCBjb21wYWN0Q2xhc3NOYW1lID0gXCJcIlxuICBsZXQgZnVsbENsYXNzTmFtZSA9IFwiXCJcblxuICBpZiAoZm9yY2VGdWxsVGV4dCkge1xuICAgIGNvbXBhY3RDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0IGhpZGVcIlxuICAgIGZ1bGxDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0XCJcbiAgfSBlbHNlIHtcbiAgICBjb21wYWN0Q2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dCB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgZnVsbENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgaGlkZGVuLXhzXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1yZXBsaWVzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ydW08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2NvbXBhY3RDbGFzc05hbWV9PntyZXBsaWVzfTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17ZnVsbENsYXNzTmFtZX0+XG4gICAgICAgIHtpbnRlcnBvbGF0ZSh0ZXh0LCB7IHJlcGxpZXMgfSwgdHJ1ZSl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UmVwbHlMYWJlbCh7IGRhdGV0aW1lLCB1cmwgfSkge1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXNtLWlubGluZS1ibG9jayB0aHJlYWQtZGV0YWlsLWxhc3QtcmVwbHlcIlxuICAgICAgaHJlZj17dXJsfVxuICAgICAgdGl0bGU9e2RhdGV0aW1lLmZvcm1hdChcIkxMTFwiKX1cbiAgICA+XG4gICAgICB7ZGF0ZXRpbWUuZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQb3N0ZXIocHJvcHMpIHtcbiAgY29uc3QgeyBwb3N0ZXJOYW1lLCB1cmwgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzTmFtZSA9IFwidmlzaWJsZS1zbS1pbmxpbmUtYmxvY2sgaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIlxuXG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3VybH0+XG4gICAgICAgIHtwb3N0ZXJOYW1lfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+e3Bvc3Rlck5hbWV9PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGNsYXNzTmFtZSB9KSB7XG4gIGlmICghY2F0ZWdvcnkpIHJldHVybiBudWxsXG5cbiAgaWYgKGNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5LVwiICsgY2F0ZWdvcnkuY3NzX2NsYXNzXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9PlxuICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgQm90dG9tRGV0YWlscyBmcm9tIFwiLi9ib3R0b21cIlxuaW1wb3J0IFRvcERldGFpbHMgZnJvbSBcIi4vdG9wXCJcblxuZXhwb3J0IHsgQm90dG9tRGV0YWlscyB9XG5leHBvcnQgeyBUb3BEZXRhaWxzIH1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhdGVnb3J5IGZyb20gXCIuL2NhdGVnb3J5XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLXRvcFwiPlxuICAgICAgPE5ld0xhYmVsIGlzUmVhZD17dGhyZWFkLmlzX3JlYWR9IHVybD17dGhyZWFkLnVybC5uZXdfcG9zdH0gLz5cbiAgICAgIDxQaW5uZWRMYWJlbCB3ZWlnaHQ9e3RocmVhZC53ZWlnaHR9IC8+XG4gICAgICA8VW5hcHByb3ZlZExhYmVsXG4gICAgICAgIHRocmVhZD17dGhyZWFkLmlzX3VuYXBwcm92ZWR9XG4gICAgICAgIHBvc3RzPXt0aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHN9XG4gICAgICAvPlxuICAgICAgPEJlc3RBbnN3ZXJMYWJlbCB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDxDYXRlZ29yeVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC1kZXRhaWwtY2F0ZWdvcnkgdmlzaWJsZS14cy1pbmxpbmUtYmxvY2tcIlxuICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAvPlxuICAgICAgPExhc3RSZXBseUxhYmVsXG4gICAgICAgIGRhdGV0aW1lPXt0aHJlYWQubGFzdF9wb3N0X29ufVxuICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgLz5cbiAgICAgIDxMYXN0UG9zdGVyXG4gICAgICAgIHBvc3Rlck5hbWU9e3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXdMYWJlbCh7IGlzUmVhZCwgdXJsIH0pIHtcbiAgaWYgKGlzUmVhZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtbmV3XCIgaHJlZj17dXJsfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jb21tZW50PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj57Z2V0dGV4dChcIk5ldyBwb3N0c1wiKX08L3NwYW4+XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQaW5uZWRMYWJlbCh7IHdlaWdodCB9KSB7XG4gIGlmICh3ZWlnaHQgPT09IDApIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidGhyZWFkLWRldGFpbC1waW5uZWQtZ2xvYmFsbHlcIlxuICBsZXQgaWNvbiA9IFwiYm9va21hcmtcIlxuICBsZXQgdGV4dCA9IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIilcblxuICBpZiAod2VpZ2h0ID09PSAxKSB7XG4gICAgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXBpbm5lZC1sb2NhbGx5XCJcbiAgICBpY29uID0gXCJib29rbWFya19ib3JkZXJcIlxuICAgIHRleHQgPSBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIilcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e3RleHR9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZExhYmVsKHsgcG9zdHMsIHRocmVhZCB9KSB7XG4gIGlmICghcG9zdHMgJiYgIXRocmVhZCkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXVuYXBwcm92ZWQtcG9zdHNcIlxuICBsZXQgaWNvbiA9IFwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgbGV0IHRleHQgPSBnZXR0ZXh0KFwiVW5hcHByb3ZlZCBwb3N0c1wiKVxuXG4gIGlmICh0aHJlYWQpIHtcbiAgICBjbGFzc05hbWUgPSBcInRocmVhZC1kZXRhaWwtdW5hcHByb3ZlZFwiXG4gICAgaWNvbiA9IFwicmVtb3ZlX2NpcmNsZVwiXG4gICAgdGV4dCA9IGdldHRleHQoXCJVbmFwcHJvdmVkXCIpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPnt0ZXh0fTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJMYWJlbCh7IHRocmVhZCB9KSB7XG4gIGlmICghdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi14cyB0aHJlYWQtZGV0YWlsLWFuc3dlcmVkXCJcbiAgICAgIGhyZWY9e3RocmVhZC51cmwuYmVzdF9hbnN3ZXJ9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e2dldHRleHQoXCJBbnN3ZXJlZFwiKX08L3NwYW4+XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UmVwbHlMYWJlbCh7IGRhdGV0aW1lLCB1cmwgfSkge1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayB0aHJlYWQtZGV0YWlsLWxhc3QtcmVwbHlcIlxuICAgICAgaHJlZj17dXJsfVxuICAgICAgdGl0bGU9e2RhdGV0aW1lLmZvcm1hdChcIkxMTFwiKX1cbiAgICA+XG4gICAgICB7ZGF0ZXRpbWUuZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQb3N0ZXIocHJvcHMpIHtcbiAgY29uc3QgeyBwb3N0ZXJOYW1lLCB1cmwgfSA9IHByb3BzXG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgIGhyZWY9e3VybH1cbiAgICAgID5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiPlxuICAgICAge3Bvc3Rlck5hbWV9XG4gICAgPC9zcGFuPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgVXNlclVybCBmcm9tIFwiLi91c2VyLXVybFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1wb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICB0aXRsZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWVkaWEtb2JqZWN0XCJcbiAgICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAgICAgdXNlcj17dGhyZWFkLmxhc3RfcG9zdGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVXNlclVybD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxVc2VyVXJsXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIlxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgPlxuICAgICAgICAgIHt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgICA8VGltZXN0YW1wIGRhdGV0aW1lPXt0aHJlYWQubGFzdF9wb3N0X29ufSB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0fSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVzdGFtcCh7IGRhdGV0aW1lLCB1cmwgfSkge1xuICByZXR1cm4gKFxuICAgIDxhIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCIgaHJlZj17dXJsfSB0aXRsZT17ZGF0ZXRpbWUuZm9ybWF0KFwiTExMXCIpfT5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uQ29tcGFjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdFwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uRnVsbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbFwiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9ucyh7IGRpc3BsYXksIGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiY29sLXNtLTIgY29sLW1kLTIgaGlkZGVuLXhzXCJcbiAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXNtLTMgY29sLW1kLTIgaGlkZGVuLXhzXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtb3B0aW9uc1wiPlxuICAgICAgICA8U3Vic2NyaXB0aW9uRnVsbCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8Q2hlY2tib3ggdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gaXNTZWxlY3RlZD17aXNTZWxlY3RlZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zWHMoeyBkaXNwbGF5LCBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcIlwiXG4gIGlmICh0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtNlwiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiY29sLXhzLTNcIlxuICB9XG4gIGNsYXNzTmFtZSArPSBcIiB2aXNpYmxlLXhzLWJsb2NrIHRocmVhZC1vcHRpb25zLXhzXCJcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLW9wdGlvbnNcIj5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkZ1bGwgdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkNvbXBhY3QgdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gLz5cbiAgICAgICAgPENoZWNrYm94IHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICB0b2dnbGVTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lml0ZW0odGhpcy5wcm9wcy50aHJlYWQuaWQpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGlzYWJsZWQsIGlzU2VsZWN0ZWQsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKCF0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3Rpb259XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge2lzU2VsZWN0ZWQgPyBcImNoZWNrX2JveFwiIDogXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkLXByZXZpZXdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy10b3AgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dCBoaWRkZW4teHNcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dCBoaWRkZW4teHNcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLWJvdHRvbVwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCB7IEJvdHRvbURldGFpbHMsIFRvcERldGFpbHMgfSBmcm9tIFwiLi9kZXRhaWxzXCJcbmltcG9ydCBMYXN0QWN0aW9uIGZyb20gXCIuL2xhc3QtYWN0aW9uXCJcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tIFwiLi9vcHRpb25zXCJcbmltcG9ydCBVc2VyVXJsIGZyb20gXCIuL3VzZXItdXJsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUNhdGVnb3J5LFxuICAgIGNhdGVnb3JpZXMsXG4gICAgbGlzdCxcbiAgICB0aHJlYWQsXG5cbiAgICBpc0J1c3ksXG4gICAgaXNTZWxlY3RlZCxcbiAgICBzaG93T3B0aW9uc1xuICB9ID0gcHJvcHNcblxuICBsZXQgY2F0ZWdvcnkgPSBudWxsXG4gIGlmIChhY3RpdmVDYXRlZ29yeS5pZCAhPT0gdGhyZWFkLmNhdGVnb3J5KSB7XG4gICAgY2F0ZWdvcnkgPSBjYXRlZ29yaWVzW3RocmVhZC5jYXRlZ29yeV1cbiAgfVxuXG4gIGNvbnN0IGZsYXZvciA9IGNhdGVnb3J5IHx8IGFjdGl2ZUNhdGVnb3J5XG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidGhyZWFkLW1haW4gY29sLXhzLTEyXCJcbiAgaWYgKHNob3dPcHRpb25zKSB7XG4gICAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGNvbC1zbS05IGNvbC1tZC03XCJcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIGNvbC1zbS0xMCBjb2wtbWQtN1wiXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtc20tMTIgY29sLW1kLTlcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhyZWFkLmlzX3JlYWQsIGlzQnVzeSwgaXNTZWxlY3RlZCwgZmxhdm9yKX0+XG4gICAgICA8VG9wRGV0YWlscyBjYXRlZ29yeT17Y2F0ZWdvcnl9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLXJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgICAgIDxVc2VyVXJsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGhyZWFkLXN0YXJ0ZXItYXZhdGFyXCJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhyZWFkLnN0YXJ0ZXJfbmFtZX1cbiAgICAgICAgICAgICAgICB1cmw9e3RocmVhZC51cmwuc3RhcnRlcn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT17NDB9IHVzZXI9e3RocmVhZC5zdGFydGVyfSAvPlxuICAgICAgICAgICAgICA8L1VzZXJVcmw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt0aHJlYWQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgICAgICAgIHt0aHJlYWQudGl0bGV9XG4gICAgICAgICAgICAgIDwvYT5cblxuICAgICAgICAgICAgICA8Qm90dG9tRGV0YWlsc1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNCdXN5fVxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3Nob3dPcHRpb25zfVxuICAgICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc20gdGhyZWFkLWxhc3QtYWN0aW9uXCI+XG4gICAgICAgICAgPExhc3RBY3Rpb24gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgICAgZGlzcGxheT17c2hvd09wdGlvbnN9XG4gICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShpc1JlYWQsIGlzQnVzeSwgaXNTZWxlY3RlZCwgZmxhdm9yKSB7XG4gIGxldCBzdHlsZXMgPSBbXCJsaXN0LWdyb3VwLWl0ZW1cIl1cblxuICBpZiAoZmxhdm9yICYmIGZsYXZvci5jc3NfY2xhc3MpIHtcbiAgICBzdHlsZXMucHVzaChcImxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWZsYXZvclwiKVxuICAgIHN0eWxlcy5wdXNoKFwibGlzdC1ncm91cC1pdGVtLWNhdGVnb3J5LVwiICsgZmxhdm9yLmNzc19jbGFzcylcbiAgfVxuXG4gIGlmIChpc1JlYWQpIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1yZWFkXCIpXG4gIH0gZWxzZSB7XG4gICAgc3R5bGVzLnB1c2goXCJ0aHJlYWQtbmV3XCIpXG4gIH1cblxuICBpZiAoaXNCdXN5KSB7XG4gICAgc3R5bGVzLnB1c2goXCJ0aHJlYWQtYnVzeVwiKVxuICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1zZWxlY3RlZFwiKVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcy5qb2luKFwiIFwiKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uRnVsbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbFwiXG5pbXBvcnQgT3B0aW9uc01vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgU3Vic2NyaXB0aW9uRnVsbCB7XG4gIHNob3dPcHRpb25zID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE9wdGlvbnNNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG1vZGVyYXRpb24gfSA9IHRoaXMucHJvcHMudGhyZWFkXG5cbiAgICBsZXQgY2xhc3NOYW1lID0gXCJcIlxuICAgIGlmIChtb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiY29sLXhzLTZcIlxuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtMTJcIlxuICAgIH1cbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5zaG93T3B0aW9uc31cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgT3B0aW9ucyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gXCJzdGFyXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBcInN0YXJfaGFsZlwiXG4gICAgfVxuXG4gICAgcmV0dXJuIFwic3Rhcl9ib3JkZXJcIlxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2sgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWZ1bGwgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2sgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWhhbGYgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrIGJ0bi1zdWJzY3JpYmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG1vZGVyYXRpb24sIHN1YnNjcmlwdGlvbiB9ID0gdGhpcy5wcm9wcy50aHJlYWRcbiAgICBjb25zdCBmdWxsd2lkdGggPSAhbW9kZXJhdGlvbi5sZW5ndGhcblxuICAgIGxldCBjbGFzc05hbWUgPSBmdWxsd2lkdGggPyBcImNvbC14cy0xMlwiIDogXCJjb2wteHMtNlwiXG4gICAgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57dGhpcy5nZXRJY29uKCl9PC9zcGFuPlxuICAgICAgICAgICAgICA8TGFiZWwgbW9kZXJhdGlvbj17bW9kZXJhdGlvbn0gc3Vic2NyaXB0aW9uPXtzdWJzY3JpcHRpb259IC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYWJlbCh7IG1vZGVyYXRpb24sIHN1YnNjcmlwdGlvbiB9KSB7XG4gIGlmIChtb2RlcmF0aW9uLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICBsZXQgdGV4dCA9IGdldHRleHQoXCJEaXNhYmxlZFwiKVxuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgdGV4dCA9IGdldHRleHQoXCJFLW1haWxcIilcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgdGV4dCA9IGdldHRleHQoXCJFbmFibGVkXCIpXG4gIH1cblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj57dGV4dH08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBzdWJzY3JpcHRpb25cIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxPcHRpb25zIGNsYXNzTmFtZT1cIm1vZGFsLW1lbnVcIiB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZHNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3QgU1RBVEVfVVBEQVRFUyA9IHtcbiAgdW5zdWJzY3JpYmU6IG51bGwsXG4gIG5vdGlmeTogZmFsc2UsXG4gIGVtYWlsOiB0cnVlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2V0U3Vic2NyaXB0aW9uID0gbmV3U3RhdGUgPT4ge1xuICAgIG1vZGFsLmhpZGUoKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgbGV0IG9sZFN0YXRlID0gdGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tuZXdTdGF0ZV1cbiAgICAgIH0pXG4gICAgKVxuXG4gICAgYWpheFxuICAgICAgLnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJzdWJzY3JpcHRpb25cIiwgdmFsdWU6IG5ld1N0YXRlIH1cbiAgICAgIF0pXG4gICAgICAudGhlbihcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tvbGRTdGF0ZV1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oXCJ1bnN1YnNjcmliZVwiKVxuICB9XG5cbiAgbm90aWZ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKFwibm90aWZ5XCIpXG4gIH1cblxuICBlbWFpbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihcImVtYWlsXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuc3Vic2NyaWJlfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zdGFyX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiVW5zdWJzY3JpYmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5ub3RpZnl9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJfaGFsZjwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuZW1haWx9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXI8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCB0aXRsZSwgdXJsIH0pIHtcbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfSB0aXRsZT17dGl0bGV9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gdGl0bGU9e3RpdGxlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuXG5leHBvcnQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVcmwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdFBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LnVybC5pbmRleCArIHRoaXMucHJvcHMubGlzdFBhdGhcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkudXJsLmluZGV4XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93biBjYXRlZ29yeS1waWNrZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYWJlbF9vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14c1wiPntnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgc3RpY2stdG8tYm90dG9tIGNhdGVnb3JpZXMtbWVudVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKGlkID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdKSB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFN1YmNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yaWVzW2lkXX1cbiAgICAgICAgICAgICAgICAgIGxpc3RQYXRoPXt0aGlzLnByb3BzLmxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICAgIGtleT17aWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKSB7XG4gIGlmIChhLmxhc3RfcG9zdCA+IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIC0xXG4gIH0gZWxzZSBpZiAoYS5sYXN0X3Bvc3QgPCBiLmxhc3RfcG9zdCkge1xuICAgIHJldHVybiAxXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDBcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUdsb2JhbFdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xXG4gIH0gZWxzZSBpZiAoYi53ZWlnaHQgPT09IDIgJiYgYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTFcbiAgfSBlbHNlIGlmIChhLndlaWdodCA8IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhZ2VMZWFkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYWdlLWxlYWRcIlxuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdG9vbGJhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlTGVhZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1sZWFkXCI+XG4gICAgICAgICAgICA8cD57dGhpcy5wcm9wcy5wYWdlTGVhZH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxQYWdlTGVhZCBjb3B5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWx9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldERpc2FibGVUb29sYmFyKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5wcm9wcy5pc0xvYWRlZCB8fCB0aGlzLnByb3BzLmlzQnVzeSB8fCB0aGlzLnByb3BzLmJ1c3lUaHJlYWRzLmxlbmd0aFxuICAgIClcbiAgfVxuXG4gIGdldFRvb2xiYXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCB8fCB0aGlzLnByb3BzLnVzZXIuaWRcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxUb29sYmFyXG4gICAgICAgIHN1YmNhdGVnb3JpZXM9e3RoaXMucHJvcHMuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzfVxuICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgIHNlbGVjdEFsbFRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0QWxsVGhyZWFkc31cbiAgICAgICAgc2VsZWN0Tm9uZVRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0Tm9uZVRocmVhZHN9XG4gICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgZnJlZXplVGhyZWFkPXt0aGlzLnByb3BzLmZyZWV6ZVRocmVhZH1cbiAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLnByb3BzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnByb3BzLnVwZGF0ZVRocmVhZH1cbiAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLmdldERpc2FibGVUb29sYmFyKCl9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7dGhpcy5nZXRDYXRlZ29yeURlc2NyaXB0aW9uKCl9XG4gICAgICAgIHt0aGlzLmdldFRvb2xiYXIoKX1cblxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGVcIlxuaW1wb3J0IE5hdiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9uYXZcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0VGhyZWFkID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3BlbihcbiAgICAgIHRoaXMucHJvcHMuc3RhcnRUaHJlYWQgfHwge1xuICAgICAgICBtb2RlOiBcIlNUQVJUXCIsXG5cbiAgICAgICAgY29uZmlnOiBtaXNhZ28uZ2V0KFwiVEhSRUFEX0VESVRPUl9BUElcIiksXG4gICAgICAgIHN1Ym1pdDogbWlzYWdvLmdldChcIlRIUkVBRFNfQVBJXCIpLFxuXG4gICAgICAgIGNhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgaGFzR29CYWNrQnV0dG9uKCkge1xuICAgIHJldHVybiAhIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50XG4gIH1cblxuICBnZXRHb0JhY2tCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudF1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbi14cyBjb2wtc20tMiBjb2wtbGctMVwiPlxuICAgICAgICA8TGlua1xuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYWxpZ25lZCBidG4tZ28tYmFjayBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIHRvPXtwYXJlbnQudXJsLmluZGV4ICsgdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnBhdGh9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+a2V5Ym9hcmRfYXJyb3dfbGVmdDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0U3RhcnRUaHJlYWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLnN0YXJ0VGhyZWFkfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoYXQ8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiU3RhcnQgdGhyZWFkXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBoZWFkZXJDbGFzc05hbWUgPSBcImNvbC14cy0xMlwiXG4gICAgaWYgKHRoaXMuaGFzR29CYWNrQnV0dG9uKCkpIHtcbiAgICAgIGhlYWRlckNsYXNzTmFtZSArPSBcIiBjb2wtc20tMTAgY29sLWxnLTExIHNtLWFsaWduLXJvdy1idXR0b25zXCJcbiAgICB9XG5cbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAhIXRoaXMucHJvcHMudXNlci5pZFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpc0F1dGhlbnRpY2F0ZWQgPyBcImNvbC1zbS05IGNvbC1tZC0xMFwiIDogXCJjb2wteHMtMTJcIn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRHb0JhY2tCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtoZWFkZXJDbGFzc05hbWV9PlxuICAgICAgICAgICAgICAgICAgICA8UGFyZW50Q2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8aDE+e3RoaXMucHJvcHMudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2lzQXV0aGVudGljYXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMyBjb2wtbWQtMiB4cy1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRTdGFydFRocmVhZEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8TmF2XG4gICAgICAgICAgICBiYXNlVXJsPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnVybC5pbmRleH1cbiAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIGxpc3RzPXt0aGlzLnByb3BzLnJvdXRlLmxpc3RzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYXJlbnRDYXRlZ29yeSh7IGNhdGVnb3JpZXMsIGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeSkgcmV0dXJuIG51bGxcblxuICBjb25zdCBwYXJlbnQgPSBjYXRlZ29yaWVzW2NhdGVnb3J5XVxuXG4gIHJldHVybiAoXG4gICAgPExpbmsgY2xhc3NOYW1lPVwiZ28tYmFjay1zbSB2aXNpYmxlLXhzLWJsb2NrXCIgdG89e3BhcmVudC51cmwuaW5kZXh9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIHtwYXJlbnQucGFyZW50ID8gcGFyZW50Lm5hbWUgOiBnZXR0ZXh0KFwiVGhyZWFkc1wiKX1cbiAgICA8L0xpbms+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saXN0LnR5cGUgPT09IFwiYWxsXCIpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX08L3A+XG4gICAgICAgICAgICA8cD57Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX08L3A+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlXG4gICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHRocmVhZHMgb24gdGhpcyBmb3J1bS4uLiB5ZXQhXCIpXG4gICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHRocmVhZHMgaW4gdGhpcyBjYXRlZ29yeS5cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD57Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX08L3A+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk5vIHRocmVhZHMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhIHdlcmUgZm91bmQuXCIpfVxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdFwiXG5pbXBvcnQgTWVyZ2VUaHJlYWRzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbWVyZ2VcIlxuaW1wb3J0IE1vdmVUaHJlYWRzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vbW92ZVwiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBDb3VudGRvd24gZnJvbSBcIm1pc2Fnby91dGlscy9jb3VudGRvd25cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSwgb25TdWNjZXNzID0gbnVsbCkgPT4ge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICB9KVxuXG4gICAgLy8gbGlzdCBpZHNcbiAgICBjb25zdCBpZHMgPSB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICByZXR1cm4gdGhyZWFkLmlkXG4gICAgfSlcblxuICAgIC8vIGFsd2F5cyByZXR1cm4gY3VycmVudCBhY2xcbiAgICBvcHMucHVzaCh7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9KVxuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLmFwaSwgeyBpZHMsIG9wcyB9KS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIC8vIHVuZnJlZXplXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aHJlYWRzXG4gICAgICAgIGRhdGEuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMudXBkYXRlVGhyZWFkKHRocmVhZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzaG93IHN1Y2Nlc3MgbWVzc2FnZSBhbmQgY2FsbCBjYWxsYmFja1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKVxuICAgICAgICBpZiAob25TdWNjZXNzKSB7XG4gICAgICAgICAgb25TdWNjZXNzKClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIC8vIHVuZnJlZXplXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGVzY2FwZSBvbiBub24tNDAwIGVycm9yXG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzICE9PSA0MDApIHtcbiAgICAgICAgICByZXR1cm4gc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnVpbGQgZXJyb3JzIGxpc3RcbiAgICAgICAgbGV0IGVycm9ycyA9IFtdXG4gICAgICAgIGxldCB0aHJlYWRzTWFwID0ge31cblxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRocmVhZHNNYXBbdGhyZWFkLmlkXSA9IHRocmVhZFxuICAgICAgICB9KVxuXG4gICAgICAgIHJlamVjdGlvbi5mb3JFYWNoKCh7IGlkLCBkZXRhaWwgfSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhyZWFkc01hcFtpZF0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBkZXRhaWwsXG4gICAgICAgICAgICAgIHRocmVhZDogdGhyZWFkc01hcFtpZF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPilcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBwaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBwaW5uZWQgZ2xvYmFsbHkuXCIpXG4gICAgKVxuICB9XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBwaW5uZWQgbG9jYWxseS5cIilcbiAgICApXG4gIH1cblxuICB1bnBpbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJ3ZWlnaHRcIixcbiAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bnBpbm5lZC5cIilcbiAgICApXG4gIH1cblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLXVuYXBwcm92ZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgYXBwcm92ZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1jbG9zZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgb3BlbmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGNsb3NlZC5cIilcbiAgICApXG4gIH1cblxuICB1bmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVuaGlkZGVuLlwiKVxuICAgIClcbiAgfVxuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgaGlkZGVuLlwiKVxuICAgIClcbiAgfVxuXG4gIG1vdmUgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlVGhyZWFkc1xuICAgICAgICBjYWxsQXBpPXt0aGlzLmNhbGxBcGl9XG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBbXVxuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21lcmdlKSB7XG4gICAgICAgIGVycm9ycy5hcHBlbmQoe1xuICAgICAgICAgIGlkOiB0aHJlYWQuaWQsXG4gICAgICAgICAgdGl0bGU6IHRocmVhZC50aXRsZSxcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgIGdldHRleHQoXG4gICAgICAgICAgICAgIFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBtZXJnZSB0aGlzIHRocmVhZCB3aXRoIG90aGVycy5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIF1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGggPCAyKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKFxuICAgICAgICBnZXR0ZXh0KFwiWW91IGhhdmUgdG8gc2VsZWN0IGF0IGxlYXN0IHR3byB0aHJlYWRzIHRvIG1lcmdlLlwiKVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KVxuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGFsLnNob3coPE1lcmdlVGhyZWFkcyB7Li4udGhpcy5wcm9wc30gLz4pXG4gICAgfVxuICB9XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHNlbGVjdGVkIHRocmVhZHM/XCIpKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgIH0pXG5cbiAgICBjb25zdCBpZHMgPSB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICByZXR1cm4gdGhyZWFkLmlkXG4gICAgfSlcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMuYXBpLCBpZHMpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKVxuICAgICAgICB9KVxuXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBkZWxldGVkLlwiKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgY29uc3QgZmFpbGVkVGhyZWFkcyA9IHJlamVjdGlvbi5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgICAgICAgICAgaWYgKGZhaWxlZFRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZVRocmVhZCh0aHJlYWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluX2dsb2JhbGx5KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFyazwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiB0aHJlYWRzIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0UGluTG9jYWxseUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5Mb2NhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrX2JvcmRlcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiB0aHJlYWRzIGxvY2FsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRVbnBpbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVucGlufSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBhbm9yYW1hX2Zpc2hfZXllPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21vdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubW92ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0TWVyZ2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21lcmdlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1lcmdlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfbWVyZ2U8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0QXBwcm92ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fYXBwcm92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5hcHByb3ZlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmRvbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vcGVufSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3Blbjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9wZW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5jbG9zZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl91bmhpZGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5oaWRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGlkZX0gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmRlbGV0ZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jbGVhcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5waW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRBcHByb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0VW5oaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJUaHJlYWRzIG1vZGVyYXRpb25cIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJPbmUgb3IgbW9yZSB0aHJlYWRzIGNvdWxkIG5vdCBiZSBkZWxldGVkOlwiKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1lcnJvcmVkLWl0ZW1zXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmVycm9ycy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxUaHJlYWRFcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzPXtpdGVtLmVycm9yc31cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLnRocmVhZC5pZH1cbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXtpdGVtLnRocmVhZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRFcnJvcnMoeyBlcnJvcnMsIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg1Pnt0aHJlYWQudGl0bGV9PC9oNT5cbiAgICAgIHtlcnJvcnMubWFwKChtZXNzYWdlLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiA8cD57bWVzc2FnZX08L3A+XG4gICAgICB9KX1cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlbGVjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgZmlsdGVyVGhyZWFkcyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IEVycm9yc01vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3RcIlxuaW1wb3J0IE1lcmdlQ29uZmxpY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21lcmdlLWNvbmZsaWN0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFt2YWxpZGF0b3JzLnJlcXVpcmVkKCldXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5hY2wgPSB7fVxuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXVxuICAgICAgdGhpcy5hY2xbYWNsLmlkXSA9IGFjbFxuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW11cbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSB0aGlzLmFjbFtjYXRlZ29yeS5pZF1cbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPVxuICAgICAgICAgICFhY2wuY2FuX3N0YXJ0X3RocmVhZHMgfHxcbiAgICAgICAgICAoY2F0ZWdvcnkuaXNfY2xvc2VkICYmICFhY2wuY2FuX2Nsb3NlX3RocmVhZHMpXG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5XCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIGljb246IFwibG9ja1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiTUVSR0VfVEhSRUFEU19BUElcIiksIHRoaXMuZ2V0Rm9ybWRhdGEoKSlcbiAgfVxuXG4gIGdldEZvcm1kYXRhID0gKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRzOiB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB0aHJlYWQuaWQpLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZFxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MgPSBhcGlSZXNwb25zZSA9PiB7XG4gICAgLy8gdW5mcmVlemUgYW5kIHJlbW92ZSBtZXJnZWQgdGhyZWFkc1xuICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgICB0aGlzLnByb3BzLmRlbGV0ZVRocmVhZCh0aHJlYWQpXG4gICAgfSlcblxuICAgIC8vIGRlc2VsZWN0IGFsbCB0aHJlYWRzXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSlcblxuICAgIC8vIGFwcGVuZCBtZXJnZWQgdGhyZWFkLCBmaWx0ZXIgdGhyZWFkc1xuICAgIHRoaXMucHJvcHMuYWRkVGhyZWFkcyhbYXBpUmVzcG9uc2VdKVxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApXG4gICAgKVxuXG4gICAgLy8gaGlkZSBtb2RhbFxuICAgIG1vZGFsLmhpZGUoKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXJzIHx8IHJlamVjdGlvbi5wb2xscykge1xuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxNZXJnZUNvbmZsaWN0XG4gICAgICAgICAgICBhcGk9e21pc2Fnby5nZXQoXCJNRVJHRV9USFJFQURTX0FQSVwiKX1cbiAgICAgICAgICAgIGJlc3RBbnN3ZXJzPXtyZWplY3Rpb24uYmVzdF9hbnN3ZXJzfVxuICAgICAgICAgICAgZGF0YT17dGhpcy5nZXRGb3JtZGF0YSgpfVxuICAgICAgICAgICAgcG9sbHM9e3JlamVjdGlvbi5wb2xsc31cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMuaGFuZGxlU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICAgIH0pXG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXIpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5iZXN0X2Fuc3dlclswXSlcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb2xsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9sbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKVxuICB9XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJyZW1vdmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJib29rbWFya19ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKVxuICAgICAgfVxuICAgIF1cblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiYm9va21hcmtcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXNcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfSBmb3I9XCJpZF93ZWlnaHRcIj5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3ZWlnaHRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfSBmb3I9XCJpZF9pc19oaWRkZW5cIj5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19oaWRkZW5cIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9IGZvcj1cImlkX2lzX2Nsb3NlZFwiPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInRpdGxlXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgIGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5jYXRlZ29yeUNob2ljZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICByZW5kZXJDYW50TWVyZ2VNZXNzYWdlKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtZXJnZSB0aHJlYWRzIHRvIGl0LlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZ1wiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeVxuICAgICAgICAgICAgPyB0aGlzLnJlbmRlckZvcm0oKVxuICAgICAgICAgICAgOiB0aGlzLnJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHsgZmlsdGVyVGhyZWFkcyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBhY2xzID0ge31cbiAgICBmb3IgKGNvbnN0IGkgaW4gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcykge1xuICAgICAgaWYgKCFwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV1cbiAgICAgIGFjbHNbYWNsLmlkXSA9IGFjbFxuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW11cbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSBhY2xzW2NhdGVnb3J5LmlkXVxuICAgICAgICBjb25zdCBkaXNhYmxlZCA9XG4gICAgICAgICAgIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fFxuICAgICAgICAgIChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcylcblxuICAgICAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGxldmVsOiBjYXRlZ29yeS5sZXZlbCAtIDEsXG4gICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VibWl0ID0gZXZlbnQgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBjb25zdCBvblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApXG4gICAgICApXG5cbiAgICAgIC8vIGRlc2VsZWN0IHRocmVhZHMgbW92ZWQgb3V0c2lkZSBvZiB2aXNpYmxlIHNjb3BlXG4gICAgICBjb25zdCBzdG9yZVN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKVxuICAgICAgY29uc3QgbGVmdFRocmVhZHMgPSBzdG9yZVN0YXRlLnRocmVhZHMubWFwKHRocmVhZCA9PiB0aHJlYWQuaWQpXG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgc2VsZWN0LmFsbChcbiAgICAgICAgICBzdG9yZVN0YXRlLnNlbGVjdGlvbi5maWx0ZXIodGhyZWFkID0+IHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0VGhyZWFkcy5pbmRleE9mKHRocmVhZCkgIT09IC0xXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMucHJvcHMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiY2F0ZWdvcnlcIiwgdmFsdWU6IHRoaXMuc3RhdGUuY2F0ZWdvcnkgfSxcbiAgICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiZmxhdHRlbi1jYXRlZ29yaWVzXCIsIHZhbHVlOiBudWxsIH0sXG4gICAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG1vdmVkLlwiKSxcbiAgICAgIG9uU3VjY2Vzc1xuICAgIClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGNhdGVnb3J5XCIpfSBmb3I9XCJpZF9uZXdfY2F0ZWdvcnlcIj5cbiAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICBpZD1cImlkX25ld19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5jYXRlZ29yeUNob2ljZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX08L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyQ2FudE1vdmVNZXNzYWdlKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtb3ZlIHRocmVhZHMgdG8gaXQuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeVxuICAgICAgICAgICAgPyB0aGlzLnJlbmRlckZvcm0oKVxuICAgICAgICAgICAgOiB0aGlzLnJlbmRlckNhbnRNb3ZlTWVzc2FnZSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNlbGVjdEFsbCA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHNlbGVjdC5hbGwoXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAoZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgICAgICAgcmV0dXJuIHRocmVhZC5pZFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIHNlbGVjdE5vbmUgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3RBbGx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGFsbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0Tm9uZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBub25lXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgYmFzZVVybCwgbGlzdCwgbGlzdHMgfSkge1xuICBpZiAobGlzdHMubGVuZ3RoIDwgMikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAgICAgIHtsaXN0cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlcbiAgICAgICAgICAgICAgICBpc0NvbnRyb2xsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgaXNBY3RpdmU9e2l0ZW0ucGF0aCA9PT0gbGlzdC5wYXRofVxuICAgICAgICAgICAgICAgIGtleT17YmFzZVVybCArIGl0ZW0ucGF0aH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtiYXNlVXJsICsgaXRlbS5wYXRofT57aXRlbS5uYW1lfTwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBSb3V0ZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb3V0ZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0KG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBzZWxlY3Rpb246IHN0b3JlLnNlbGVjdGlvbixcbiAgICAgIHRocmVhZHM6IHN0b3JlLnRocmVhZHMsXG4gICAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXJcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RzKHVzZXIpIHtcbiAgbGV0IGxpc3RzID0gW1xuICAgIHtcbiAgICAgIHR5cGU6IFwiYWxsXCIsXG4gICAgICBwYXRoOiBcIlwiLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIkFsbFwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiQWxsIHRocmVhZHNcIilcbiAgICB9XG4gIF1cblxuICBpZiAodXNlci5pZCkge1xuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogXCJteVwiLFxuICAgICAgcGF0aDogXCJteS9cIixcbiAgICAgIG5hbWU6IGdldHRleHQoXCJNeVwiKSxcbiAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiTXkgdGhyZWFkc1wiKVxuICAgIH0pXG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcIm5ld1wiLFxuICAgICAgcGF0aDogXCJuZXcvXCIsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiTmV3XCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJOZXcgdGhyZWFkc1wiKVxuICAgIH0pXG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcInVucmVhZFwiLFxuICAgICAgcGF0aDogXCJ1bnJlYWQvXCIsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiVW5yZWFkXCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJVbnJlYWQgdGhyZWFkc1wiKVxuICAgIH0pXG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcInN1YnNjcmliZWRcIixcbiAgICAgIHBhdGg6IFwic3Vic2NyaWJlZC9cIixcbiAgICAgIG5hbWU6IGdldHRleHQoXCJTdWJzY3JpYmVkXCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJTdWJzY3JpYmVkIHRocmVhZHNcIilcbiAgICB9KVxuXG4gICAgaWYgKHVzZXIuYWNsLmNhbl9zZWVfdW5hcHByb3ZlZF9jb250ZW50X2xpc3RzKSB7XG4gICAgICBsaXN0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ1bmFwcHJvdmVkXCIsXG4gICAgICAgIHBhdGg6IFwidW5hcHByb3ZlZC9cIixcbiAgICAgICAgbmFtZTogZ2V0dGV4dChcIlVuYXBwcm92ZWRcIiksXG4gICAgICAgIGxvbmdOYW1lOiBnZXR0ZXh0KFwiVW5hcHByb3ZlZCBjb250ZW50XCIpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHModXNlciwgbW9kZSkge1xuICBsZXQgbGlzdHMgPSBnZXRMaXN0cyh1c2VyKVxuICBsZXQgcm91dGVzID0gW11cbiAgbGV0IGNhdGVnb3JpZXNNYXAgPSB7fVxuXG4gIG1pc2Fnby5nZXQoXCJDQVRFR09SSUVTXCIpLmZvckVhY2goZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgICBsaXN0cy5mb3JFYWNoKGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgIGNhdGVnb3JpZXNNYXBbY2F0ZWdvcnkuaWRdID0gY2F0ZWdvcnlcblxuICAgICAgcm91dGVzLnB1c2goe1xuICAgICAgICBwYXRoOiBjYXRlZ29yeS51cmwuaW5kZXggKyBsaXN0LnBhdGgsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChnZXRTZWxlY3QobW9kZSkpKFJvdXRlKSxcblxuICAgICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KFwiQ0FURUdPUklFU1wiKSxcbiAgICAgICAgY2F0ZWdvcmllc01hcCxcbiAgICAgICAgY2F0ZWdvcnksXG5cbiAgICAgICAgbGlzdHMsXG4gICAgICAgIGxpc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICByZXR1cm4gcm91dGVzXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQge1xuICBjb21wYXJlR2xvYmFsV2VpZ2h0LFxuICBjb21wYXJlV2VpZ2h0XG59IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmVcIlxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXJcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9oZWFkZXJcIlxuaW1wb3J0IHtcbiAgZGlmZlRocmVhZHMsXG4gIGdldE1vZGVyYXRpb25BY3Rpb25zLFxuICBnZXRQYWdlVGl0bGUsXG4gIGdldFRpdGxlXG59IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3V0aWxzXCJcbmltcG9ydCBUaHJlYWRzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0XCJcbmltcG9ydCBUaHJlYWRzTGlzdEVtcHR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2xpc3QtZW1wdHlcIlxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93blwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uXCJcbmltcG9ydCB7IGFwcGVuZCwgZGVsZXRlVGhyZWFkLCBoeWRyYXRlLCBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgKiBhcyBzZXRzIGZyb20gXCJtaXNhZ28vdXRpbHMvc2V0c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc01vdW50ZWQ6IHRydWUsXG5cbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH0sXG5cbiAgICAgIG1vZGVyYXRpb246IFtdLFxuICAgICAgYnVzeVRocmVhZHM6IFtdLFxuXG4gICAgICBkcm9wZG93bjogZmFsc2UsXG4gICAgICBzdWJjYXRlZ29yaWVzOiBbXSxcbiAgICAgIFxuICAgICAgbmV4dDogMCxcbiAgICB9XG5cbiAgICBsZXQgY2F0ZWdvcnkgPSB0aGlzLmdldENhdGVnb3J5KClcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEU1wiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIG1pc2Fnby5nZXQoXCJUSFJFQURTXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSlcbiAgICB9XG4gIH1cblxuICBnZXRDYXRlZ29yeSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5pZFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShjYXRlZ29yeSwgZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKGRhdGEucmVzdWx0cyksXG4gICAgICBzdWJjYXRlZ29yaWVzOiBkYXRhLnN1YmNhdGVnb3JpZXMsXG4gICAgICBuZXh0OiBkYXRhLm5leHRcbiAgICB9KVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoY2F0ZWdvcnkpXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpIHtcbiAgICB0aGlzLmxvYWRUaHJlYWRzKGNhdGVnb3J5KVxuICB9XG5cbiAgbG9hZFRocmVhZHMoY2F0ZWdvcnksIG5leHQgPSAwKSB7XG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmFwaSxcbiAgICAgICAge1xuICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZSxcbiAgICAgICAgICBzdGFydDogbmV4dCB8fCAwXG4gICAgICAgIH0sXG4gICAgICAgIFwidGhyZWFkc1wiXG4gICAgICApXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgLy8gdXNlciBjaGFuZ2VkIHJvdXRlIGJlZm9yZSBsb2FkaW5nIGNvbXBsZXRpb25cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZXh0ID09PSAwKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMsIHRoaXMuZ2V0U29ydGluZygpKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuXG4gICAgICAgICAgICBuZXh0OiBkYXRhLm5leHQsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGNhdGVnb3J5KSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJ0aHJlYWRzXCIsXG4gICAgICB1cmw6IHRoaXMucHJvcHMub3B0aW9ucy5hcGksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGVcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDEyMCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMucG9sbFJlc3BvbnNlXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0UGFnZVRpdGxlKClcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEU1wiKSkge1xuICAgICAgLy8gdW5saWtlIGluIG90aGVyIGNvbXBvbmVudHMsIHJvdXRlcyBhcmUgcm9vdCBjb21wb25lbnRzIGZvciB0aHJlYWRzXG4gICAgICAvLyBzbyB3ZSBjYW4ndCBkaXNwYXRjaCBzdG9yZSBhY3Rpb24gZnJvbSBjb25zdHJ1Y3RvclxuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShtaXNhZ28ucG9wKFwiVEhSRUFEU1wiKS5yZXN1bHRzKSlcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0YXRlLmlzTW91bnRlZCA9IGZhbHNlXG4gICAgcG9sbHMuc3RvcChcInRocmVhZHNcIilcbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudGl0bGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMudGl0bGVcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0VGl0bGUodGhpcy5wcm9wcy5yb3V0ZSlcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldChcIlRIUkVBRFNfT05fSU5ERVhcIikpIHtcbiAgICAgIHRpdGxlLnNldChnZXRQYWdlVGl0bGUodGhpcy5wcm9wcy5yb3V0ZSkpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudGl0bGUpIHtcbiAgICAgIHRpdGxlLnNldCh0aGlzLnByb3BzLm9wdGlvbnMudGl0bGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuaW5kZXhfdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuaW5kZXhfdGl0bGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX25hbWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRTb3J0aW5nKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgICByZXR1cm4gY29tcGFyZVdlaWdodFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29tcGFyZUdsb2JhbFdlaWdodFxuICAgIH1cbiAgfVxuXG4gIC8vIEFKQVhcblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRUaHJlYWRzKHRoaXMuZ2V0Q2F0ZWdvcnkoKSwgdGhpcy5zdGF0ZS5uZXh0KVxuICB9XG5cbiAgcG9sbFJlc3BvbnNlID0gZGF0YSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkaWZmOiBPYmplY3QuYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgICAgIHJlc3VsdHM6IGRpZmZUaHJlYWRzKHRoaXMucHJvcHMudGhyZWFkcywgZGF0YS5yZXN1bHRzKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgYWRkVGhyZWFkcyA9IHRocmVhZHMgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZCh0aHJlYWRzLCB0aGlzLmdldFNvcnRpbmcoKSkpXG4gIH1cblxuICBhcHBseURpZmYgPSAoKSA9PiB7XG4gICAgdGhpcy5hZGRUaHJlYWRzKHRoaXMuc3RhdGUuZGlmZi5yZXN1bHRzKVxuXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZGlmZiwge1xuICAgICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhzdG9yZS5nZXRTdGF0ZSgpLnRocmVhZHMpLFxuXG4gICAgICAgIGRpZmY6IHtcbiAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIC8vIFRocmVhZCBzdGF0ZSB1dGlsc1xuXG4gIGZyZWV6ZVRocmVhZCA9IHRocmVhZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbihjdXJyZW50U3RhdGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1c3lUaHJlYWRzOiBzZXRzLnRvZ2dsZShjdXJyZW50U3RhdGUuYnVzeVRocmVhZHMsIHRocmVhZClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlVGhyZWFkID0gdGhyZWFkID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aHJlYWQsIHRocmVhZCwgdGhpcy5nZXRTb3J0aW5nKCkpKVxuICB9XG5cbiAgZGVsZXRlVGhyZWFkID0gdGhyZWFkID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChkZWxldGVUaHJlYWQodGhyZWFkKSlcbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm5leHQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5IHx8IHRoaXMuc3RhdGUuYnVzeVRocmVhZHMubGVuZ3RofVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwicGFnZSBwYWdlLXRocmVhZHNcIlxuICAgIGNsYXNzTmFtZSArPSBcIiBwYWdlLXRocmVhZHMtXCIgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZVxuICAgIGlmIChpc0luZGV4KHRoaXMucHJvcHMpKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgcGFnZS10aHJlYWRzLWluZGV4XCJcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgcGFnZS10aHJlYWRzLVwiICsgdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5jc3NfY2xhc3NcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxIZWFkZXJcbiAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIHN0YXJ0VGhyZWFkPXt0aGlzLnByb3BzLm9wdGlvbnMuc3RhcnRUaHJlYWR9XG4gICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgIHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9XG4gICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPENvbnRhaW5lclxuICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy5vcHRpb25zLmFwaX1cbiAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICBzdWJjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgIHBhZ2VMZWFkPXt0aGlzLnByb3BzLm9wdGlvbnMucGFnZUxlYWR9XG4gICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgIHRocmVhZHNDb3VudD17dGhpcy5zdGF0ZS5jb3VudH1cbiAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnN0YXRlLm1vZGVyYXRpb259XG4gICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICBhZGRUaHJlYWRzPXt0aGlzLmFkZFRocmVhZHN9XG4gICAgICAgICAgZnJlZXplVGhyZWFkPXt0aGlzLmZyZWV6ZVRocmVhZH1cbiAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy51cGRhdGVUaHJlYWR9XG4gICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgaXNCdXN5PXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgPlxuICAgICAgICAgIDxUaHJlYWRzTGlzdFxuICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgZGlmZlNpemU9e3RoaXMuc3RhdGUuZGlmZi5yZXN1bHRzLmxlbmd0aH1cbiAgICAgICAgICAgIGFwcGx5RGlmZj17dGhpcy5hcHBseURpZmZ9XG4gICAgICAgICAgICBzaG93T3B0aW9ucz17ISF0aGlzLnByb3BzLnVzZXIuaWR9XG4gICAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxUaHJlYWRzTGlzdEVtcHR5XG4gICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5lbXB0eU1lc3NhZ2V9XG4gICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9UaHJlYWRzTGlzdD5cblxuICAgICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNJbmRleChwcm9wcykge1xuICBpZiAocHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwgfHwgIW1pc2Fnby5nZXQoXCJUSFJFQURTX09OX0lOREVYXCIpKSByZXR1cm4gZmFsc2VcbiAgaWYgKHByb3BzLm9wdGlvbnMudGl0bGUpIHJldHVybiBmYWxzZVxuXG4gIHJldHVybiB0cnVlXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnlQaWNrZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyXCJcbmltcG9ydCBNb2RlcmF0aW9uQ29udHJvbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9sc1wiXG5pbXBvcnQgU2VsZWN0aW9uQ29udHJvbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9zZWxlY3Rpb25cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENhdGVnb3J5UGlja2VyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8Q2F0ZWdvcnlQaWNrZXJcbiAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICBjaG9pY2VzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgIGxpc3Q9e3RoaXMucHJvcHMubGlzdH1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgc2hvd01vZGVyYXRpb25PcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZXIuaWQgJiYgdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmFsbG93XG4gIH1cblxuICBnZXRTZWxlY3RlZFRocmVhZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkcy5maWx0ZXIodGhyZWFkID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnNlbGVjdGlvbi5pbmRleE9mKHRocmVhZC5pZCkgPj0gMFxuICAgIH0pXG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zaG93TW9kZXJhdGlvbk9wdGlvbnMoKSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02IGNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlbGVjdGlvbi5sZW5ndGh9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJPcHRpb25zXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxNb2RlcmF0aW9uQ29udHJvbHNcbiAgICAgICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiXG4gICAgICAgICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5wcm9wcy5kZWxldGVUaHJlYWR9XG4gICAgICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMucHJvcHMubW9kZXJhdGlvbn1cbiAgICAgICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMuZ2V0U2VsZWN0ZWRUaHJlYWRzKCl9XG4gICAgICAgICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy5wcm9wcy51cGRhdGVUaHJlYWR9XG4gICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0U2VsZWN0aW9uQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zaG93TW9kZXJhdGlvbk9wdGlvbnMoKSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIGNvbC1zbS0yIGNvbC1tZC0xXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2VsZWN0X2FsbDwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8U2VsZWN0aW9uQ29udHJvbHNcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiXG4gICAgICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhciByb3ctdG9vbGJhci1ib3R0b20tbWFyZ2luXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTIgZHJvcGRvd25cIj5cbiAgICAgICAgICB7dGhpcy5nZXRDYXRlZ29yeVBpY2tlcigpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgY29sLXNtLTQgY29sLW1kLTdcIiAvPlxuICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFNlbGVjdGlvbkJ1dHRvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVRpdGxlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lLFxuICAgICAgICBwYXJlbnQ6IHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldChcIlRIUkVBRFNfT05fSU5ERVhcIikpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZSxcbiAgICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgIHJldHVybiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gIH0gZWxzZSBpZiAobWlzYWdvLmdldChcIlRIUkVBRFNfT05fSU5ERVhcIikpIHtcbiAgICBpZiAobWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X2hlYWRlcikge1xuICAgICAgcmV0dXJuIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5pbmRleF9oZWFkZXJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5mb3J1bV9uYW1lXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RocmVhZENoYW5nZWQoY3VycmVudCwgZnJvbURiKSB7XG4gIHJldHVybiAoXG4gICAgW1xuICAgICAgY3VycmVudC50aXRsZSA9PT0gZnJvbURiLnRpdGxlLFxuICAgICAgY3VycmVudC53ZWlnaHQgPT09IGZyb21EYi53ZWlnaHQsXG4gICAgICBjdXJyZW50LmNhdGVnb3J5ID09PSBmcm9tRGIuY2F0ZWdvcnksXG4gICAgICBjdXJyZW50Lmxhc3RfcG9zdCA9PT0gZnJvbURiLmxhc3RfcG9zdCxcbiAgICAgIGN1cnJlbnQubGFzdF9wb3N0ZXJfbmFtZSA9PT0gZnJvbURiLmxhc3RfcG9zdGVyX25hbWVcbiAgICBdLmluZGV4T2YoZmFsc2UpID49IDBcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlmZlRocmVhZHMoY3VycmVudCwgZnJvbURiKSB7XG4gIGxldCBjdXJyZW50TWFwID0ge31cbiAgY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGN1cnJlbnRNYXBbdGhyZWFkLmlkXSA9IHRocmVhZFxuICB9KVxuXG4gIHJldHVybiBmcm9tRGIuZmlsdGVyKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmIChjdXJyZW50TWFwW3RocmVhZC5pZF0pIHtcbiAgICAgIHJldHVybiBpc1RocmVhZENoYW5nZWQoY3VycmVudE1hcFt0aHJlYWQuaWRdLCB0aHJlYWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZXJhdGlvbkFjdGlvbnModGhyZWFkcykge1xuICBsZXQgbW9kZXJhdGlvbiA9IHtcbiAgICBhbGxvdzogZmFsc2UsXG5cbiAgICBjYW5fYXBwcm92ZTogMCxcbiAgICBjYW5fY2xvc2U6IDAsXG4gICAgY2FuX2RlbGV0ZTogMCxcbiAgICBjYW5faGlkZTogMCxcbiAgICBjYW5fbWVyZ2U6IDAsXG4gICAgY2FuX21vdmU6IDAsXG4gICAgY2FuX3BpbjogMCxcbiAgICBjYW5fcGluX2dsb2JhbGx5OiAwLFxuICAgIGNhbl91bmhpZGU6IDBcbiAgfVxuXG4gIHRocmVhZHMuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAoXG4gICAgICB0aHJlYWQuaXNfdW5hcHByb3ZlZCAmJlxuICAgICAgdGhyZWFkLmFjbC5jYW5fYXBwcm92ZSA+IG1vZGVyYXRpb24uY2FuX2FwcHJvdmVcbiAgICApIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2FwcHJvdmUgPSB0aHJlYWQuYWNsLmNhbl9hcHByb3ZlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2Nsb3NlID4gbW9kZXJhdGlvbi5jYW5fY2xvc2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2Nsb3NlID0gdGhyZWFkLmFjbC5jYW5fY2xvc2VcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fZGVsZXRlID4gbW9kZXJhdGlvbi5jYW5fZGVsZXRlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9kZWxldGUgPSB0aHJlYWQuYWNsLmNhbl9kZWxldGVcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5faGlkZSA+IG1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2hpZGUgPSB0aHJlYWQuYWNsLmNhbl9oaWRlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21lcmdlID4gbW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX21lcmdlID0gdGhyZWFkLmFjbC5jYW5fbWVyZ2VcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fbW92ZSA+IG1vZGVyYXRpb24uY2FuX21vdmUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX21vdmUgPSB0aHJlYWQuYWNsLmNhbl9tb3ZlXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX3BpbiA+IG1vZGVyYXRpb24uY2FuX3Bpbikge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluID0gdGhyZWFkLmFjbC5jYW5fcGluXG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseSA+IG1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluX2dsb2JhbGx5ID0gdGhyZWFkLmFjbC5jYW5fcGluX2dsb2JhbGx5XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5pc19oaWRkZW4gJiYgdGhyZWFkLmFjbC5jYW5fdW5oaWRlID4gbW9kZXJhdGlvbi5jYW5fdW5oaWRlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl91bmhpZGUgPSB0aHJlYWQuYWNsLmNhbl91bmhpZGVcbiAgICB9XG5cbiAgICBtb2RlcmF0aW9uLmFsbG93ID1cbiAgICAgIG1vZGVyYXRpb24uY2FuX2FwcHJvdmUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX2Nsb3NlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9kZWxldGUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX2hpZGUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX21lcmdlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW4gfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fdW5oaWRlXG4gIH0pXG5cbiAgcmV0dXJuIG1vZGVyYXRpb25cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBOYXZiYXJTZWFyY2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL25hdmJhci1zZWFyY2hcIlxuaW1wb3J0IFJlZ2lzdGVyQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZWdpc3Rlci1idXR0b25cIlxuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZHJvcGRvd24gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGNsYXNzIEd1ZXN0TWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dTaWduSW5Nb2RhbCgpIHtcbiAgICBtb2RhbC5zaG93KFNpZ25Jbk1vZGFsKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJndWVzdC1wcmV2aWV3XCI+XG4gICAgICAgICAgPGg0PntnZXR0ZXh0KFwiWW91IGFyZSBicm93c2luZyBhcyBndWVzdC5cIil9PC9oND5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIlNpZ24gaW4gb3IgcmVnaXN0ZXIgdG8gc3RhcnQgYW5kIHBhcnRpY2lwYXRlIGluIGRpc2N1c3Npb25zLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAge21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuU1NPX0xPR0lOX1VSTH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNpZ24taW4gYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbk1vZGFsfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IW1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgICAgIDxSZWdpc3RlckJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXIgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICAgICAgICAgIDwvUmVnaXN0ZXJCdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE5hdiBleHRlbmRzIEd1ZXN0TWVudSB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYXYgbmF2LWd1ZXN0XCI+XG4gICAgICAgIHttaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZW5hYmxlX3NzbyA/IChcbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyXCJcbiAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5TU09fTE9HSU5fVVJMfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIG5hdmJhci1idG4gYnRuLWRlZmF1bHQgYnRuLXNpZ24taW5cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbkluTW9kYWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIHshbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc28gJiYgKFxuICAgICAgICAgIDxSZWdpc3RlckJ1dHRvbiBjbGFzc05hbWU9XCJuYXZiYXItYnRuIGJ0bi1wcmltYXJ5IGJ0bi1yZWdpc3RlclwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdmJhci1sZWZ0XCI+XG4gICAgICAgICAgPE5hdmJhclNlYXJjaCAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdEd1ZXN0TmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd0d1ZXN0TWVudSgpIHtcbiAgICBkcm9wZG93bi5zaG93KEd1ZXN0TWVudSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93R3Vlc3RNZW51fT5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiNjRcIiAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IEd1ZXN0TmF2LCBDb21wYWN0R3Vlc3ROYXYgfSBmcm9tIFwiLi9ndWVzdC1uYXZcIlxuaW1wb3J0IHsgVXNlck5hdiwgQ29tcGFjdFVzZXJOYXYgfSBmcm9tIFwiLi91c2VyLW5hdlwiXG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiA8VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8R3Vlc3ROYXYgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiA8Q29tcGFjdFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPENvbXBhY3RHdWVzdE5hdiAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5hdXRoXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBDaGFuZ2VBdmF0YXJNb2RhbCwgeyBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290XCJcbmltcG9ydCBOYXZiYXJTZWFyY2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL25hdmJhci1zZWFyY2hcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBkcm9wZG93biBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd25cIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBsb2dvdXQoKSB7XG4gICAgbGV0IGRlY2lzaW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNpZ24gb3V0P1wiKSlcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgICQoXCIjaGlkZGVuLWxvZ291dC1mb3JtXCIpLnN1Ym1pdCgpXG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQXZhdGFyKCkge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKENoYW5nZUF2YXRhck1vZGFsKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVzZXIgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIj5cbiAgICAgICAgICA8c3Ryb25nPnt1c2VyLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHVzZXItc3RhdHNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lc3NhZ2U8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLnBvc3RzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3J1bTwvc3Bhbj5cbiAgICAgICAgICAgICAge3VzZXIudGhyZWFkc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZmF2b3JpdGU8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLmZvbGxvd2Vyc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZmF2b3JpdGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICAgICAge3VzZXIuZm9sbG93aW5nfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hY2NvdW50X2NpcmNsZTwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHlvdXIgcHJvZmlsZVwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZV9hbGw8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICB7ISF1c2VyLmFjbC5jYW5fdXNlX3ByaXZhdGVfdGhyZWFkcyAmJiAoXG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlBSSVZBVEVfVEhSRUFEU19VUkxcIil9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bWVzc2FnZTwvc3Bhbj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIil9XG4gICAgICAgICAgICAgIDxQcml2YXRlVGhyZWFkc0JhZGdlIHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKX1cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2dvdXR9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkxvZyBvdXRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJpdmF0ZVRocmVhZHNCYWRnZSh7IHVzZXIgfSkge1xuICBpZiAoIXVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj57dXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzfTwvc3Bhbj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJOYXYoeyB1c2VyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwidWwgbmF2IG5hdmJhci1uYXYgbmF2LXVzZXJcIj5cbiAgICAgIDxsaT5cbiAgICAgICAgPE5hdmJhclNlYXJjaCAvPlxuICAgICAgPC9saT5cbiAgICAgIDxVc2VyUHJpdmF0ZVRocmVhZHNMaW5rIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGhyZWY9e3VzZXIudXJsfVxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyfSBzaXplPVwiNjRcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxVc2VyTWVudSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyUHJpdmF0ZVRocmVhZHNMaW5rKHsgdXNlciB9KSB7XG4gIGlmICghdXNlci5hY2wuY2FuX3VzZV9wcml2YXRlX3RocmVhZHMpIHJldHVybiBudWxsXG5cbiAgbGV0IHRpdGxlID0gbnVsbFxuICBpZiAodXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzKSB7XG4gICAgdGl0bGUgPSBnZXR0ZXh0KFwiWW91IGhhdmUgdW5yZWFkIHByaXZhdGUgdGhyZWFkcyFcIilcbiAgfSBlbHNlIHtcbiAgICB0aXRsZSA9IGdldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIilcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwibmF2YmFyLWljb25cIlxuICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX1VSTFwiKX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bWVzc2FnZTwvc3Bhbj5cbiAgICAgICAge3VzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcyA+IDAgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhZGdlXCI+e3VzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkc308L3NwYW4+XG4gICAgICAgICl9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VXNlck1lbnUoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXJcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93VXNlck1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvd0Nvbm5lY3RlZChcInVzZXItbWVudVwiLCBjb25uZWN0KHNlbGVjdFVzZXJNZW51KShVc2VyTWVudSkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd1VzZXJNZW51fT5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHNpemU9XCI1MFwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzKCkge1xuICAgIHJldHVybiBnZXRTdGF0dXNDbGFzc05hbWUodGhpcy5wcm9wcy5zdGF0dXMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzcygpfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXR1c0ljb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICAgIHJldHVybiBcInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcImhlbHBfb3V0bGluZVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gXCJsYWJlbFwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIFwibGFiZWxfb3V0bGluZVwiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiBcImxlbnNcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuIFwicGFub3JhbWFfZmlzaF9leWVcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBzdGF0dXMtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXR1c0xhYmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscCgpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzRGVzY3JpcHRpb24odGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnN0YXR1cylcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiQmFubmVkXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiSGlkZGVuXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZSAoaGlkZGVuKVwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT2ZmbGluZSAoaGlkZGVuKVwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZVwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lXCIpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwic3RhdHVzLWxhYmVsXCJ9XG4gICAgICAgIHRpdGxlPXt0aGlzLmdldEhlbHAoKX1cbiAgICAgID5cbiAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c0NsYXNzTmFtZShzdGF0dXMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiXCJcbiAgaWYgKHN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICBjbGFzc05hbWUgPSBcImJhbm5lZFwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwib2ZmbGluZVwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcIm9ubGluZVwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvZmZsaW5lXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvbmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvZmZsaW5lXCJcbiAgfVxuXG4gIHJldHVybiBcInVzZXItc3RhdHVzIHVzZXItXCIgKyBjbGFzc05hbWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHVzZXIsIHN0YXR1cykge1xuICBpZiAoc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgIGlmIChzdGF0dXMuYmFubmVkX3VudGlsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgYmFubmVkIHVudGlsICUoYmFuX2V4cGlyZXMpc1wiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgIGJhbl9leHBpcmVzOiBzdGF0dXMuYmFubmVkX3VudGlsLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWRcIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGhpZGluZyBwcmVzZW5jZVwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBvbmxpbmUgKGhpZGRlbilcIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXMgKGhpZGRlbilcIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljay5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZVwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuT25Nb2JpbGUpIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbSBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdXRob3JcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtZGF0ZVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoODAsIDE0MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXJVc2VyQXZhdGFyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXJsfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5fSBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9hPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhci13cmFwcGVyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlclVzZXJuYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5LnVybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5LnVzZXJuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieV91c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiIGtleT17dGhpcy5wcm9wcy5jaGFuZ2UuaWR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj57dGhpcy5yZW5kZXJVc2VyQXZhdGFyKCl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPnt0aGlzLnJlbmRlclVzZXJuYW1lKCl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib2xkLXVzZXJuYW1lXCI+e3RoaXMucHJvcHMuY2hhbmdlLm9sZF91c2VybmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmV3LXVzZXJuYW1lXCI+e3RoaXMucHJvcHMuY2hhbmdlLm5ld191c2VybmFtZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgICAgPGFiYnIgdGl0bGU9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfb24uZm9ybWF0KFwiTExMXCIpfT5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZyb21Ob3coKX1cbiAgICAgICAgICA8L2FiYnI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmVtcHR5TWVzc2FnZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhbmdlUHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxDaGFuZ2VQcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFuZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZXMubWFwKGNoYW5nZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPENoYW5nZSBjaGFuZ2U9e2NoYW5nZX0ga2V5PXtjaGFuZ2UuaWR9IC8+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5XCJcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1yZWFkeVwiXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiA8TGlzdFJlYWR5IGNoYW5nZXM9e3RoaXMucHJvcHMuY2hhbmdlc30gLz5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8TGlzdEVtcHR5IGVtcHR5TWVzc2FnZT17dGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2V9IC8+XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBTdGF0cyBmcm9tIFwiLi9zdGF0c1wiXG5pbXBvcnQgVXNlclRpdGxlIGZyb20gXCIuL3VzZXItdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHNob3dTdGF0dXMsIHVzZXIgfSkge1xuICBjb25zdCB7IHJhbmsgfSA9IHVzZXJcblxuICBsZXQgY2xhc3NOYW1lID0gXCJwYW5lbCB1c2VyLWNhcmRcIlxuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdXNlci1jYXJkLVwiICsgcmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIHVzZXItY2FyZC1sZWZ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zbWFsbC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgc2l6ZTJ4PVwiODBcIiB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1zbS0xMiB1c2VyLWNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxNTBcIiBzaXplMng9XCIyMDBcIiB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdXNlcm5hbWVcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9Pnt1c2VyLnVzZXJuYW1lfTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgPFVzZXJUaXRsZSByYW5rPXtyYW5rfSB0aXRsZT17dXNlci50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zdGF0c1wiPlxuICAgICAgICAgICAgICA8U3RhdHMgc2hvd1N0YXR1cz17c2hvd1N0YXR1c30gdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0xhYmVsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBzaG93U3RhdHVzLCB1c2VyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgPFN0YXR1cyBzaG93U3RhdHVzPXtzaG93U3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPEpvaW5EYXRlIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LWRpdmlkZXJcIiAvPlxuICAgICAgPFBvc3RzIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8VGhyZWFkcyB1c2VyPXt1c2VyfSAvPlxuICAgICAgPEZvbGxvd2VycyB1c2VyPXt1c2VyfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN0YXR1cyh7IHNob3dTdGF0dXMsIHVzZXIgfSkge1xuICBpZiAoIXNob3dTdGF0dXMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LXN0YXR1c1wiPlxuICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXt1c2VyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbCBzdGF0dXM9e3VzZXIuc3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEpvaW5EYXRlKHsgdXNlciB9KSB7XG4gIGNvbnN0IHsgam9pbmVkX29uIH0gPSB1c2VyXG5cbiAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIkpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpLFxuICAgIHtcbiAgICAgIGpvaW5lZF9vbjogam9pbmVkX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiSm9pbmVkICUoam9pbmVkX29uKXNcIiksXG4gICAge1xuICAgICAgam9pbmVkX29uOiBqb2luZWRfb24uZnJvbU5vdygpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXQtam9pbi1kYXRlXCI+XG4gICAgICA8YWJiciB0aXRsZT17dGl0bGV9PnttZXNzYWdlfTwvYWJicj5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0cyh7IHVzZXIgfSkge1xuICBjb25zdCBjbGFzc05hbWUgPSBnZXRTdGF0Q2xhc3NOYW1lKFwidXNlci1zdGF0LXBvc3RzXCIsIHVzZXIucG9zdHMpXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUocG9zdHMpcyBwb3N0XCIsIFwiJShwb3N0cylzIHBvc3RzXCIsIHVzZXIucG9zdHMpXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgcG9zdHM6IHVzZXIucG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtdGhyZWFkc1wiLCB1c2VyLnRocmVhZHMpXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodGhyZWFkcylzIHRocmVhZFwiLFxuICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLFxuICAgIHVzZXIudGhyZWFkc1xuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdGhyZWFkczogdXNlci50aHJlYWRzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRm9sbG93ZXJzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtZm9sbG93ZXJzXCIsIHVzZXIuZm9sbG93ZXJzKVxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKGZvbGxvd2VycylzIGZvbGxvd2VyXCIsXG4gICAgXCIlKGZvbGxvd2VycylzIGZvbGxvd2Vyc1wiLFxuICAgIHVzZXIuZm9sbG93ZXJzXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBmb2xsb3dlcnM6IHVzZXIuZm9sbG93ZXJzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdENsYXNzTmFtZShjbGFzc05hbWUsIHN0YXQpIHtcbiAgaWYgKHN0YXQgPT09IDApIHtcbiAgICByZXR1cm4gY2xhc3NOYW1lICsgXCIgdXNlci1zdGF0LWVtcHR5XCJcbiAgfVxuICByZXR1cm4gY2xhc3NOYW1lXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmRcIlxuaW1wb3J0IFByZXZpZXcgZnJvbSBcIi4vcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY29scywgaXNSZWFkeSwgc2hvd1N0YXR1cywgdXNlcnMgfSkge1xuICBsZXQgY29sQ2xhc3NOYW1lID0gXCJjb2wteHMtMTIgY29sLXNtLTRcIlxuICBpZiAoY29scyA9PT0gNCkge1xuICAgIGNvbENsYXNzTmFtZSArPSBcIiBjb2wtbWQtM1wiXG4gIH1cblxuICBpZiAoIWlzUmVhZHkpIHtcbiAgICByZXR1cm4gPFByZXZpZXcgY29sQ2xhc3NOYW1lPXtjb2xDbGFzc05hbWV9IGNvbHM9e2NvbHN9IC8+XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcnMtY2FyZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3VzZXJzLm1hcCh1c2VyID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbENsYXNzTmFtZX0ga2V5PXt1c2VyLmlkfT5cbiAgICAgICAgICAgICAgPENhcmQgc2hvd1N0YXR1cz17c2hvd1N0YXR1c30gdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgdXNlci1jYXJkIHVzZXItY2FyZC1wcmV2aWV3XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIHVzZXItY2FyZC1sZWZ0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXNtYWxsLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiBzaXplMng9XCI4MFwiIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOSBjb2wtc20tMTIgdXNlci1jYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYXZhdGFyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxNTBcIiBzaXplMng9XCIyMDBcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdXNlcm5hbWVcIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDYwLCAxNTApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDYwLCAxNTApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zdGF0c1wiPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1kaXZpZGVyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY29sQ2xhc3NOYW1lLCBjb2xzIH0pIHtcbiAgY29uc3QgbGlzdCA9IEFycmF5LmFwcGx5KG51bGwsIHsgbGVuZ3RoOiBjb2xzIH0pLm1hcChOdW1iZXIuY2FsbCwgTnVtYmVyKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ1c2Vycy1jYXJkcy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtsaXN0Lm1hcChpID0+IHtcbiAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gY29sQ2xhc3NOYW1lXG4gICAgICAgICAgaWYgKGkgIT09IDApIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4teHNcIlxuICAgICAgICAgIGlmIChpID09PSAzKSBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBrZXk9e2l9PlxuICAgICAgICAgICAgICA8Q2FyZCAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFbXB0eU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCJObyB1c2VycyBoYXZlIHBvc3RlZCBhbnkgbmV3IG1lc3NhZ2VzIGR1cmluZyBsYXN0ICUoZGF5cylzIGRheXMuXCJcbiAgICAgICksXG4gICAgICB7IGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZCB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNvbXBhY3Qtc3RhdHMgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1yYW5rLVwiICsgdGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfSAvPlxuICAgICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU3RhdHVzPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj4mbmJzcDs8L3NwYW4+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwiIH19XG4gICAgICAgID5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yYW5rLmlzX3RhYikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5yYW5rLm5hbWV9PC9zcGFuPlxuICAgICAgKVxuICAgIH1cblxuICAgIGxldCByYW5rVXJsID0gbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgdGhpcy5wcm9wcy5yYW5rLnNsdWcgKyBcIi9cIlxuICAgIHJldHVybiAoXG4gICAgICA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci50aXRsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAge3RoaXMucHJvcHMudXNlci50aXRsZX1cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPXs1MH0gc2l6ZTJ4PXs2NH0gLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAge3RoaXMuZ2V0UmFua05hbWUoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jb21wYWN0LXN0YXRzIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb24gaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWwgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLnBvc3RzfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEl0ZW1QcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0tcHJldmlld1wiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZCB1aS1wcmV2aWV3XCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMjIwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIHtbMCwgMSwgMl0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiA8SXRlbVByZXZpZXcgaGlkZGVuT25Nb2JpbGU9e2kgPiAwfSBrZXk9e2l9IC8+XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RJdGVtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW1cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWRNZXNzYWdlKCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUocG9zdGVycylzIHRvcCBwb3N0ZXIgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICBcIiUocG9zdGVycylzIHRvcCBwb3N0ZXJzIGZyb20gbGFzdCAlKGRheXMpcyBkYXlzLlwiLFxuICAgICAgdGhpcy5wcm9wcy5jb3VudFxuICAgIClcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHBvc3RlcnM6IHRoaXMucHJvcHMuY291bnQsXG4gICAgICAgIGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRMZWFkTWVzc2FnZSgpfTwvcD5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcmVhZHlcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXJzLm1hcCgodXNlciwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgcmFuaz17dXNlci5yYW5rfVxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyPXtpICsgMX1cbiAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eVwiXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcHJldmlld1wiXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJVU0VSU1wiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlVTRVJTXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgIHRyYWNrZWRQZXJpb2Q6IGRhdGEudHJhY2tlZF9wZXJpb2QsXG4gICAgICBjb3VudDogZGF0YS5jb3VudFxuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6IFwiYWN0aXZlLXBvc3RlcnNcIixcbiAgICAgIHVybDogbWlzYWdvLmdldChcIlVTRVJTX0FQSVwiKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGlzdDogXCJhY3RpdmVcIlxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLmV4dHJhLm5hbWUsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKFwiYWN0aXZlLXBvc3RlcnNcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpc3RSZWFkeVxuICAgICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9XG4gICAgICAgICAgICBjb3VudD17dGhpcy5zdGF0ZS5jb3VudH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9IC8+XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGJhc2VVcmwsIGxpc3RzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAge2xpc3RzLm1hcChsaXN0ID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbGlzdFVybChiYXNlVXJsLCBsaXN0KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaSBwYXRoPXt1cmx9IGtleT17dXJsfT5cbiAgICAgICAgICAgIDxMaW5rIHRvPXt1cmx9PntsaXN0Lm5hbWV9PC9MaW5rPlxuICAgICAgICAgIDwvTGk+XG4gICAgICAgIClcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuY29uc3QgbGlzdFVybCA9IGZ1bmN0aW9uKGJhc2VVcmwsIGxpc3QpIHtcbiAgbGV0IHVybCA9IGJhc2VVcmxcbiAgaWYgKGxpc3QuY29tcG9uZW50ID09PSBcInJhbmtcIikge1xuICAgIHVybCArPSBsaXN0LnNsdWdcbiAgfSBlbHNlIHtcbiAgICB1cmwgKz0gbGlzdC5jb21wb25lbnRcbiAgfVxuICByZXR1cm4gdXJsICsgXCIvXCJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFVzZXJzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8VXNlcnNMaXN0IGNvbHM9ezR9IGlzUmVhZHk9e2ZhbHNlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYWdlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlclwiXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdFxuICAgICAgICBjb2xzPXs0fVxuICAgICAgICBpc1JlYWR5PXt0cnVlfVxuICAgICAgICBzaG93U3RhdHVzPXt0cnVlfVxuICAgICAgICB1c2Vycz17cHJvcHMudXNlcnN9XG4gICAgICAvPlxuICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgcmVzZXRTY3JvbGwgZnJvbSBcIm1pc2Fnby91dGlscy9yZXNldC1zY3JvbGxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucGFnZXMgPT09IDEpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgdGV4dC1jZW50ZXIgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5tb3JlfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTVcIj5cbiAgICAgICAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtbWQtNyBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLm1vcmV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5maXJzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aW91c1BhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLnBhZ2UgPiAxKSB7XG4gICAgbGV0IHByZXZpb3VzVXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5wcmV2aW91cykge1xuICAgICAgcHJldmlvdXNVcmwgPSBwcm9wcy5wcmV2aW91cyArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwcmV2aW91c1VybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5leHRQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5tb3JlKSB7XG4gICAgbGV0IG5leHRVcmwgPSBcIlwiXG4gICAgaWYgKHByb3BzLm5leHQpIHtcbiAgICAgIG5leHRVcmwgPSBwcm9wcy5uZXh0ICsgXCIvXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG5leHRVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgcHJvcHMubGFzdCArIFwiL1wifVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmUgZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vcmUocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIG1lbWJlciB3aXRoIHRoaXMgcm9sZS5cIixcbiAgICAgIFwiVGhlcmUgYXJlICUobW9yZSlzIG1vcmUgbWVtYmVycyB3aXRoIHRoaXMgcm9sZS5cIixcbiAgICAgIHByb3BzLm1vcmVcbiAgICApXG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgbW9yZTogcHJvcHMubW9yZSB9LCB0cnVlKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIG1vcmUgbWVtYmVycyB3aXRoIHRoaXMgcm9sZS5cIilcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYWdlTGVhZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFnZS1sZWFkXCJcbmltcG9ydCBMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3RcIlxuaW1wb3J0IExpc3RMb2FkaW5nIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZ1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiVVNFUlNcIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoXCJVU0VSU1wiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnBhcmFtcy5wYWdlIHx8IDEpXG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfSlcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhwYWdlKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJyYW5rLXVzZXJzXCIsXG4gICAgICB1cmw6IG1pc2Fnby5nZXQoXCJVU0VSU19BUElcIiksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJhbms6IHRoaXMucHJvcHMucm91dGUucmFuay5pZCxcbiAgICAgICAgcGFnZTogcGFnZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBkYXRhID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG5cbiAgICBkYXRhLmlzTG9hZGVkID0gdHJ1ZVxuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICBwYWdlOiB0aGlzLnByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKFwicmFuay11c2Vyc1wiKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSAhPT0gbmV4dFByb3BzLnBhcmFtcy5wYWdlKSB7XG4gICAgICB0aXRsZS5zZXQoe1xuICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLm5hbWUsXG4gICAgICAgIHBhZ2U6IG5leHRQcm9wcy5wYXJhbXMucGFnZSB8fCBudWxsLFxuICAgICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgICAgfSlcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgfSlcblxuICAgICAgcG9sbHMuc3RvcChcInJhbmstdXNlcnNcIilcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKG5leHRQcm9wcy5wYXJhbXMucGFnZSlcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiBcInJhbmstdXNlcnMtbGlzdCByYW5rLXVzZXJzLVwiICsgdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzc1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJyYW5rLXVzZXJzLWxpc3RcIlxuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmRlc2NyaXB0aW9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8UGFnZUxlYWQgY29weT17dGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmRlc2NyaXB0aW9uLmh0bWx9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldENvbXBvbmVudCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIGxldCBiYXNlVXJsID1cbiAgICAgICAgICBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuc2x1ZyArIFwiL1wiXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpc3QgYmFzZVVybD17YmFzZVVybH0gdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9IHsuLi50aGlzLnN0YXRlfSAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHVzZXJzIHdpdGggdGhpcyByYW5rIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExpc3RMb2FkaW5nIC8+XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAge3RoaXMuZ2V0UmFua0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgICAge3RoaXMuZ2V0Q29tcG9uZW50KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGVcIlxuaW1wb3J0IE5hdiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvbmF2XCJcbmltcG9ydCBBY3RpdmVQb3N0ZXJzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9yb290XCJcbmltcG9ydCBSYW5rIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3RcIlxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93blwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtdXNlcnMtbGlzdHNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxoMT57Z2V0dGV4dChcIlVzZXJzXCIpfTwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPE5hdlxuICAgICAgICAgICAgICAgICAgbGlzdHM9e21pc2Fnby5nZXQoXCJVU0VSU19MSVNUU1wiKX1cbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICB1c2Vyczogc3RvcmUudXNlcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdXG5cbiAgbWlzYWdvLmdldChcIlVTRVJTX0xJU1RTXCIpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gXCJyYW5rXCIpIHtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyBpdGVtLnNsdWcgKyBcIi86cGFnZS9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pXG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgaXRlbS5zbHVnICsgXCIvXCIsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJhbmspLFxuICAgICAgICByYW5rOiBpdGVtXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoaXRlbS5jb21wb25lbnQgPT09IFwiYWN0aXZlLXBvc3RlcnNcIikge1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIGl0ZW0uY29tcG9uZW50ICsgXCIvXCIsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKEFjdGl2ZVBvc3RlcnMpLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gcGF0aHNcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246ICF0aGlzLnN0YXRlLmRyb3Bkb3duXG4gICAgfSlcbiAgfVxuXG4gIGhpZGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgZ2V0Q29tcGFjdE5hdkNsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcm9wZG93bikge1xuICAgICAgcmV0dXJuIFwiY29tcGFjdC1uYXYgb3BlblwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImNvbXBhY3QtbmF2XCJcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vblwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb2ZmXCJcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICghIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PbiB8fCBcImNoZWNrX2JveFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PZmYgfHwgXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wiXG4gICAgfVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCEhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPbiB8fCBnZXR0ZXh0KFwieWVzXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmxhYmVsT2ZmIHx8IGdldHRleHQoXCJub1wiKVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICB2YWx1ZTogIXRoaXMucHJvcHMudmFsdWVcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzW1wiYXJpYS1kZXNjcmliZWRieVwiXSB8fCBudWxsfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0XCI+e3RoaXMuZ2V0TGFiZWwoKX08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgbG9hZCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBkaXNwYXRjaCwgdXNlciB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChkYXRhICYmIGRhdGEuaWQgPT09IHVzZXIuaWQpIHJldHVyblxuXG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5kZXRhaWxzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKGxvYWQoZGF0YSkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlblxuICB9XG59XG4iLCJpbXBvcnQgT3JkZXJlZExpc3QgZnJvbSBcIm1pc2Fnby91dGlscy9vcmRlcmVkLWxpc3RcIlxuXG5leHBvcnQgY2xhc3MgTWlzYWdvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gW11cbiAgICB0aGlzLl9jb250ZXh0ID0ge31cbiAgfVxuXG4gIGFkZEluaXRpYWxpemVyKGluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzLnB1c2goe1xuICAgICAga2V5OiBpbml0aWFsaXplci5uYW1lLFxuXG4gICAgICBpdGVtOiBpbml0aWFsaXplci5pbml0aWFsaXplcixcblxuICAgICAgYWZ0ZXI6IGluaXRpYWxpemVyLmFmdGVyLFxuICAgICAgYmVmb3JlOiBpbml0aWFsaXplci5iZWZvcmVcbiAgICB9KVxuICB9XG5cbiAgaW5pdChjb250ZXh0KSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcblxuICAgIHZhciBpbml0T3JkZXIgPSBuZXcgT3JkZXJlZExpc3QodGhpcy5faW5pdGlhbGl6ZXJzKS5vcmRlcmVkVmFsdWVzKClcbiAgICBpbml0T3JkZXIuZm9yRWFjaChpbml0aWFsaXplciA9PiB7XG4gICAgICBpbml0aWFsaXplcih0aGlzKVxuICAgIH0pXG4gIH1cblxuICAvLyBjb250ZXh0IGFjY2Vzc29yc1xuICBoYXMoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY29udGV4dFtrZXldXG4gIH1cblxuICBnZXQoa2V5LCBmYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGV4dFtrZXldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxsYmFjayB8fCB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBwb3Aoa2V5KSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2NvbnRleHRba2V5XVxuICAgICAgdGhpcy5fY29udGV4dFtrZXldID0gbnVsbFxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn1cblxuLy8gY3JlYXRlICBzaW5nbGV0b25cbnZhciBtaXNhZ28gPSBuZXcgTWlzYWdvKClcblxuLy8gZXhwb3NlIGl0IGdsb2JhbGx5XG5nbG9iYWwubWlzYWdvID0gbWlzYWdvXG5cbi8vIGFuZCBleHBvcnQgaXQgZm9yIHRlc3RzIGFuZCBzdHVmZlxuZXhwb3J0IGRlZmF1bHQgbWlzYWdvXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGFqYXguaW5pdChtaXNhZ28uZ2V0KFwiQ1NSRl9DT09LSUVfTkFNRVwiKSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJhamF4XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5jb25zdCBBVVRIX1NZTkNfUkFURSA9IDQ1IC8vIHN5bmMgdXNlciB3aXRoIGJhY2tlbmQgZXZlcnkgNDUgc2Vjb25kc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSkge1xuICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGFqYXguZ2V0KGNvbnRleHQuZ2V0KFwiQVVUSF9BUElcIikpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwYXRjaChkYXRhKSlcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfSwgQVVUSF9TWU5DX1JBVEUgKiAxMDAwKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiYXV0aC1zeW5jXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwiYXV0aFwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhdXRoIGZyb20gXCJtaXNhZ28vc2VydmljZXMvYXV0aFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYXV0aC5pbml0KHN0b3JlLCBzdG9yYWdlLCBtb2RhbClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJhdXRoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGNhcHRjaGEgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhXCJcbmltcG9ydCBpbmNsdWRlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvaW5jbHVkZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgY2FwdGNoYS5pbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNhcHRjaGFcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEFjY2VwdEFncmVlbWVudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYWNjZXB0LWFncmVlbWVudFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlcXVpcmVkLWFncmVlbWVudC1tb3VudFwiKSkge1xuICAgIG1vdW50KFxuICAgICAgPEFjY2VwdEFncmVlbWVudCBhcGk9e2NvbnRleHQuZ2V0KFwiUkVRVUlSRURfQUdSRUVNRU5UX0FQSVwiKX0gLz4sXG4gICAgICBcInJlcXVpcmVkLWFncmVlbWVudC1tb3VudFwiLFxuICAgICAgZmFsc2VcbiAgICApXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6YWNjZXB0LWFncmVlbWVudFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQXV0aE1lc3NhZ2UsIHsgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZVwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKEF1dGhNZXNzYWdlKSwgXCJhdXRoLW1lc3NhZ2UtbW91bnRcIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6YXV0aC1tZXNzYWdlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiQkFOX01FU1NBR0VcIikpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldChcIkJBTl9NRVNTQUdFXCIpLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpiYW5tZWQtcGFnZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBDYXRlZ29yaWVzLCB7IHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcmllcy1tb3VudFwiKSkge1xuICAgIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDYXRlZ29yaWVzKSwgXCJjYXRlZ29yaWVzLW1vdW50XCIpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6Y2F0ZWdvcmllc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgT3B0aW9ucywgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlVTRVJfT1BUSU9OU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpLFxuICAgICAgY29tcG9uZW50OiBPcHRpb25zLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50Om9wdGlvbnNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgUHJvZmlsZSwgeyBwYXRocywgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiUFJPRklMRVwiKSAmJiBjb250ZXh0LmhhcyhcIlBST0ZJTEVfUEFHRVNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKS51cmwsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShQcm9maWxlKSxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpwcm9maWxlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwicmVkdWNlcjpwcm9maWxlLWh5ZHJhdGVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgUmVxdWVzdEFjdGl2YXRpb25MaW5rIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnRcIikpIHtcbiAgICBtb3VudChSZXF1ZXN0QWN0aXZhdGlvbkxpbmssIFwicmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnRcIiwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cmVxdWVzdC1hY3RpdmF0aW9uLWxpbmtcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBSZXF1ZXN0UGFzc3dvcmRSZXNldCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudFwiKSkge1xuICAgIG1vdW50KFJlcXVlc3RQYXNzd29yZFJlc2V0LCBcInJlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnRcIiwgZmFsc2UpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6cmVxdWVzdC1wYXNzd29yZC1yZXNldFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IFJlc2V0UGFzc3dvcmRGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50XCIpKSB7XG4gICAgbW91bnQoUmVzZXRQYXNzd29yZEZvcm0sIFwicmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudFwiLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpyZXNldC1wYXNzd29yZC1mb3JtXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBwYXRocyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VhcmNoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoXCJDVVJSRU5UX0xJTktcIikgPT09IFwibWlzYWdvOnNlYXJjaFwiKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKG1pc2Fnby5nZXQoXCJTRUFSQ0hfUFJPVklERVJTXCIpKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c2VhcmNoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IFNuYWNrYmFyLCBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc25hY2tiYXJcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShTbmFja2JhciksIFwic25hY2tiYXItbW91bnRcIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c25hY2tiYXJcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzbmFja2JhclwiXG59KVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc29jaWFsLWF1dGhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KFwiQ1VSUkVOVF9MSU5LXCIpID09PSBcIm1pc2Fnbzpzb2NpYWwtY29tcGxldGVcIikge1xuICAgIGNvbnN0IHByb3BzID0gY29udGV4dC5nZXQoXCJTT0NJQUxfQVVUSF9GT1JNXCIpXG4gICAgbW91bnQoPFNvY2lhbEF1dGggey4uLnByb3BzfSAvPiwgXCJwYWdlLW1vdW50XCIpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6c29jaWFsLWF1dGhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcyhcIlRIUkVBRFwiKSAmJiBjb250ZXh0LmhhcyhcIlBPU1RTXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnRocmVhZFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5jb25zdCBQUklWQVRFX1RIUkVBRFNfTElTVCA9IFwibWlzYWdvOnByaXZhdGUtdGhyZWFkc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVEhSRUFEU1wiKSAmJiBjb250ZXh0LmhhcyhcIkNBVEVHT1JJRVNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoY29udGV4dC5nZXQoXCJ1c2VyXCIpLCBnZXRMaXN0T3B0aW9ucyhjb250ZXh0KSlcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXN0T3B0aW9ucyhjb250ZXh0KSB7XG4gIGNvbnN0IGN1cnJlbnRMaW5rID0gY29udGV4dC5nZXQoXCJDVVJSRU5UX0xJTktcIilcbiAgaWYgKFxuICAgIGN1cnJlbnRMaW5rLnN1YnN0cigwLCBQUklWQVRFX1RIUkVBRFNfTElTVC5sZW5ndGgpID09PSBQUklWQVRFX1RIUkVBRFNfTElTVFxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpOiBjb250ZXh0LmdldChcIlBSSVZBVEVfVEhSRUFEU19BUElcIiksXG4gICAgICBzdGFydFRocmVhZDoge1xuICAgICAgICBtb2RlOiBcIlNUQVJUX1BSSVZBVEVcIixcbiAgICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX0FQSVwiKVxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpLFxuICAgICAgcGFnZUxlYWQ6IGdldHRleHQoXG4gICAgICAgIFwiUHJpdmF0ZSB0aHJlYWRzIGFyZSB0aHJlYWRzIHdoaWNoIG9ubHkgdGhvc2UgdGhhdCBzdGFydGVkIHRoZW0gYW5kIHRob3NlIHRoZXkgaGF2ZSBpbnZpdGVkIG1heSBzZWUgYW5kIHBhcnRpY2lwYXRlIGluLlwiXG4gICAgICApLFxuICAgICAgZW1wdHlNZXNzYWdlOiBnZXR0ZXh0KFwiWW91IGFyZW4ndCBwYXJ0aWNpcGF0aW5nIGluIGFueSBwcml2YXRlIHRocmVhZHMuXCIpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcGk6IGNvbnRleHQuZ2V0KFwiVEhSRUFEU19BUElcIilcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDp0aHJlYWRzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7XG4gIFVzZXJNZW51LFxuICBDb21wYWN0VXNlck1lbnUsXG4gIHNlbGVjdFxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1tZW51L3Jvb3RcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShVc2VyTWVudSksIFwidXNlci1tZW51LW1vdW50XCIpXG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShDb21wYWN0VXNlck1lbnUpLCBcInVzZXItbWVudS1jb21wYWN0LW1vdW50XCIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnVzZXItbWVudVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgVXNlcnMsIHsgcGF0aHMgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVVNFUlNfTElTVFNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIiksXG4gICAgICBjb21wb25lbnQ6IFVzZXJzLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnVzZXJzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgaW5jbHVkZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2luY2x1ZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGluY2x1ZGUuaW5pdChjb250ZXh0LmdldChcIlNUQVRJQ19VUkxcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiaW5jbHVkZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHN0b3JhZ2UgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9sb2NhbC1zdG9yYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JhZ2UuaW5pdChcIm1pc2Fnb19cIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJsb2NhbC1zdG9yYWdlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgZHJvcGRvd24gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtbmF2YmFyLWRyb3Bkb3duLW1vdW50XCIpXG4gIGlmIChlbGVtZW50KSB7XG4gICAgZHJvcGRvd24uaW5pdChlbGVtZW50KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiZHJvcGRvd25cIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtbW91bnRcIilcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBtb2RhbC5pbml0KGVsZW1lbnQpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJtb2RhbFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb21lbnQubG9jYWxlKCQoXCJodG1sXCIpLmF0dHIoXCJsYW5nXCIpKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcIm1vbWVudFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgdGl0bGUuaW5pdChcbiAgICBjb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX2luZGV4X3RpdGxlLFxuICAgIGNvbnRleHQuZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICApXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicGFnZS10aXRsZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvbGxzLmluaXQoYWpheCwgc25hY2tiYXIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicG9sbHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9zdGluZy5pbml0KGFqYXgsIHNuYWNrYmFyLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3RpbmctcGxhY2Vob2xkZXJcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicG9zdGluZ1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9hdXRoXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFxuICAgIFwiYXV0aFwiLFxuICAgIHJlZHVjZXIsXG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSxcbiAgICAgICAgaXNBbm9ueW1vdXM6ICFjb250ZXh0LmdldChcImlzQXV0aGVudGljYXRlZFwiKSxcblxuICAgICAgICB1c2VyOiBjb250ZXh0LmdldChcInVzZXJcIilcbiAgICAgIH0sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApXG4gIClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOmF1dGhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFwiKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IG1pc2Fnby5nZXQoXCJUSFJFQURcIikucGFydGljaXBhbnRzXG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwicGFydGljaXBhbnRzXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSB8fCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnBhcnRpY2lwYW50c1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURcIikgJiYgbWlzYWdvLmdldChcIlRIUkVBRFwiKS5wb2xsKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpLnBvbGwpXG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwb2xsXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnBvbGxcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlBPU1RTXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiUE9TVFNcIikpXG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwb3N0c1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwb3N0c1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRV9ERVRBSUxTXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gbWlzYWdvLmdldChcIlBST0ZJTEVfREVUQUlMU1wiKVxuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInByb2ZpbGUtZGV0YWlsc1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUgfHwge30pXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwcm9maWxlLWRldGFpbHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRVwiKSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLmdldChcIlBST0ZJTEVcIikpKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpwcm9maWxlLWh5ZHJhdGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZVwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwicHJvZmlsZVwiLCByZWR1Y2VyLCB7fSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnByb2ZpbGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlYXJjaFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFxuICAgIFwic2VhcmNoXCIsXG4gICAgcmVkdWNlcixcbiAgICBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIHtcbiAgICAgIHByb3ZpZGVyczogbWlzYWdvLmdldChcIlNFQVJDSF9QUk9WSURFUlNcIikgfHwgW10sXG4gICAgICBxdWVyeTogbWlzYWdvLmdldChcIlNFQVJDSF9RVUVSWVwiKSB8fCBcIlwiXG4gICAgfSlcbiAgKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6c2VhcmNoXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInNlbGVjdGlvblwiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnNlbGVjdGlvblwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInNuYWNrYmFyXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnNuYWNrYmFyXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpKVxuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwidGhyZWFkXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnRocmVhZFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidGhyZWFkc1wiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnRocmVhZHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RpY2tcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInRpY2tcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dGlja1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidXNlcm5hbWUtaGlzdG9yeVwiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnVzZXJuYW1lLWhpc3RvcnlcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ1c2Vyc1wiLCByZWR1Y2VyLCBbXSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnVzZXJzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc25hY2tiYXIuaW5pdChzdG9yZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJzbmFja2JhclwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuaW5pdCgpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwic3RvcmVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwiX2VuZFwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGRvVGljayB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGlja1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IFRJQ0tfUEVSSU9EID0gNTAgKiAxMDAwIC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpXG4gIH0sIFRJQ0tfUEVSSU9EKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInRpY2stc3RhcnRcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBpbmNsdWRlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvaW5jbHVkZVwiXG5pbXBvcnQgenhjdmJuIGZyb20gXCJtaXNhZ28vc2VydmljZXMvenhjdmJuXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHp4Y3Zibi5pbml0KGluY2x1ZGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwienhjdmJuXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuXG5leHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgc2lnbmVkSW46IGZhbHNlLFxuICBzaWduZWRPdXQ6IGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9VU0VSID0gXCJQQVRDSF9VU0VSXCJcbmV4cG9ydCBjb25zdCBTSUdOX0lOID0gXCJTSUdOX0lOXCJcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9IFwiU0lHTl9PVVRcIlxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9VU0VSLFxuICAgIHBhdGNoXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25PdXQoc29mdCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9PVVQsXG4gICAgc29mdFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUEFUQ0hfVVNFUjpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKVxuICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIGFjdGlvbi5wYXRjaClcbiAgICAgIHJldHVybiBuZXdTdGF0ZVxuXG4gICAgY2FzZSBTSUdOX0lOOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHNpZ25lZEluOiBhY3Rpb24udXNlclxuICAgICAgfSlcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKVxuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSlcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1BBUlRJQ0lQQU5UUyA9IFwiUkVQTEFDRV9QQVJUSUNJUEFOVFNcIlxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUEFSVElDSVBBTlRTLFxuICAgIHN0YXRlOiBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfUEFSVElDSVBBTlRTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuXG5leHBvcnQgY29uc3QgQlVTWV9QT0xMID0gXCJCVVNZX1BPTExcIlxuZXhwb3J0IGNvbnN0IFJFTEVBU0VfUE9MTCA9IFwiUkVMRUFTRV9QT0xMXCJcbmV4cG9ydCBjb25zdCBSRU1PVkVfUE9MTCA9IFwiUkVNT1ZFX1BPTExcIlxuZXhwb3J0IGNvbnN0IFJFUExBQ0VfUE9MTCA9IFwiUkVQTEFDRV9QT0xMXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9MTCA9IFwiVVBEQVRFX1BPTExcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIGxldCBoYXNTZWxlY3RlZENob2ljZXMgPSBmYWxzZVxuICBmb3IgKGNvbnN0IGkgaW4ganNvbi5jaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0ganNvbi5jaG9pY2VzW2ldXG4gICAgaWYgKGNob2ljZS5zZWxlY3RlZCkge1xuICAgICAgaGFzU2VsZWN0ZWRDaG9pY2VzID0gdHJ1ZVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcblxuICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyxcbiAgICBlbmRzT246IGpzb24ubGVuZ3RoXG4gICAgICA/IG1vbWVudChqc29uLnBvc3RlZF9vbikuYWRkKGpzb24ubGVuZ3RoLCBcImRheXNcIilcbiAgICAgIDogbnVsbCxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1BPTEwsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9QT0xMLFxuICAgIGRhdGFcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTU9WRV9QT0xMXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEJVU1lfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IHRydWUgfSlcblxuICAgIGNhc2UgUkVMRUFTRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGlzQnVzeTogZmFsc2UgfSlcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHsgaHlkcmF0ZVVzZXIgfSBmcm9tIFwiLi91c2Vyc1wiXG5cbmV4cG9ydCBjb25zdCBQQVRDSF9QT1NUID0gXCJQQVRDSF9QT1NUXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcbiAgICB1cGRhdGVkX29uOiBtb21lbnQoanNvbi51cGRhdGVkX29uKSxcbiAgICBoaWRkZW5fb246IG1vbWVudChqc29uLmhpZGRlbl9vbiksXG5cbiAgICBhdHRhY2htZW50czoganNvbi5hdHRhY2htZW50c1xuICAgICAgPyBqc29uLmF0dGFjaG1lbnRzLm1hcChoeWRyYXRlQXR0YWNobWVudClcbiAgICAgIDogbnVsbCxcbiAgICBwb3N0ZXI6IGpzb24ucG9zdGVyID8gaHlkcmF0ZVVzZXIoanNvbi5wb3N0ZXIpIDogbnVsbCxcblxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNEZWxldGVkOiBmYWxzZVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUF0dGFjaG1lbnQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHVwbG9hZGVkX29uOiBtb21lbnQoanNvbi51cGxvYWRlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBvc3QsIHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUE9TVCxcbiAgICBwb3N0LFxuICAgIHBhdGNoXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBpZiAoc3RhdGUuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IHBvc3RSZWR1Y2VyLCB7XG4gIFBBVENIX1BPU1QsXG4gIGh5ZHJhdGUgYXMgaHlkcmF0ZVBvc3Rcbn0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9QT1NUUyA9IFwiQVBQRU5EX1BPU1RTXCJcbmV4cG9ydCBjb25zdCBTRUxFQ1RfUE9TVCA9IFwiU0VMRUNUX1BPU1RcIlxuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1QgPSBcIkRFU0VMRUNUX1BPU1RcIlxuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1RTID0gXCJERVNFTEVDVF9QT1NUU1wiXG5leHBvcnQgY29uc3QgTE9BRF9QT1NUUyA9IFwiTE9BRF9QT1NUU1wiXG5leHBvcnQgY29uc3QgVU5MT0FEX1BPU1RTID0gXCJVTkxPQURfUE9TVFNcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9QT1NUUyA9IFwiVVBEQVRFX1BPU1RTXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX1BPU1QsXG4gICAgcG9zdFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0QWxsKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1RTXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHJlc3VsdHM6IGpzb24ucmVzdWx0cy5tYXAoaHlkcmF0ZVBvc3QpLFxuICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0FEX1BPU1RTLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1BPU1RTLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5sb2FkKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVOTE9BRF9QT1NUU1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9TVFMsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvc3RzKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX1BPU1Q6XG4gICAgICBjb25zdCBzZWxlY3RlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBzZWxlY3RlZFBvc3RzXG4gICAgICB9KVxuXG4gICAgY2FzZSBERVNFTEVDVF9QT1NUOlxuICAgICAgY29uc3QgZGVzZWxldGVkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRQb3N0c1xuICAgICAgfSlcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVFM6XG4gICAgICBjb25zdCBkZXNlbGV0ZWRBbGxQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogZGVzZWxldGVkQWxsUG9zdHNcbiAgICAgIH0pXG5cbiAgICBjYXNlIEFQUEVORF9QT1NUUzpcbiAgICAgIGxldCByZXN1bHRzID0gc3RhdGUucmVzdWx0cy5zbGljZSgpXG4gICAgICBjb25zdCByZXN1bHRzSWRzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0LmlkXG4gICAgICB9KVxuXG4gICAgICBhY3Rpb24uc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzSWRzLmluZGV4T2YocG9zdC5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBvc3QpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0c1xuICAgICAgfSlcblxuICAgIGNhc2UgTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVU5MT0FEX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgfSlcblxuICAgIGNhc2UgVVBEQVRFX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKVxuXG4gICAgY2FzZSBQQVRDSF9QT1NUOlxuICAgICAgY29uc3QgcmVkdWNlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0UmVkdWNlcihwb3N0LCBhY3Rpb24pXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogcmVkdWNlZFBvc3RzXG4gICAgICB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgTE9BRF9ERVRBSUxTID0gXCJMT0FEX0RFVEFJTFNcIlxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IExPQURfREVUQUlMUyxcblxuICAgIG5ld1N0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGV0YWlscyhzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIExPQURfREVUQUlMUzpcbiAgICAgIHJldHVybiBhY3Rpb24ubmV3U3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCB7XG4gIFVQREFURV9BVkFUQVIsXG4gIFVQREFURV9VU0VSTkFNRSxcbiAgaHlkcmF0ZVN0YXR1c1xufSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcblxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfUFJPRklMRSA9IFwiSFlEUkFURV9QUk9GSUxFXCJcbmV4cG9ydCBjb25zdCBQQVRDSF9QUk9GSUxFID0gXCJQQVRDSF9QUk9GSUxFXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUocHJvZmlsZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfUFJPRklMRSxcbiAgICBwcm9maWxlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUFJPRklMRSxcbiAgICBwYXRjaFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBIWURSQVRFX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLnByb2ZpbGUsIHtcbiAgICAgICAgam9pbmVkX29uOiBtb21lbnQoYWN0aW9uLnByb2ZpbGUuam9pbmVkX29uKSxcbiAgICAgICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKGFjdGlvbi5wcm9maWxlLnN0YXR1cylcbiAgICAgIH0pXG5cbiAgICBjYXNlIFBBVENIX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5wYXRjaClcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFJFUExBQ0VfU0VBUkNIID0gXCJSRVBMQUNFX1NFQVJDSFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSCA9IFwiVVBEQVRFX1NFQVJDSFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSF9QUk9WSURFUiA9IFwiVVBEQVRFX1NFQVJDSF9QUk9WSURFUlwiXG5cbmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIHF1ZXJ5OiBcIlwiLFxuICBwcm92aWRlcnM6IFtdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9TRUFSQ0gsXG4gICAgc3RhdGU6IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBwcm92aWRlcnM6IG5ld1N0YXRlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfU0VBUkNILFxuICAgIHVwZGF0ZTogbmV3U3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfU0VBUkNIX1BST1ZJREVSLFxuICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfU0VBUkNIOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKVxuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIX1BST1ZJREVSOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHByb3ZpZGVyczogc3RhdGUucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBhY3Rpb24ucHJvdmlkZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ucHJvdmlkZXJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSBcIm1pc2Fnby91dGlscy9zZXRzXCJcblxuZXhwb3J0IGNvbnN0IFNFTEVDVF9BTEwgPSBcIlNFTEVDVF9BTExcIlxuZXhwb3J0IGNvbnN0IFNFTEVDVF9OT05FID0gXCJTRUxFQ1RfTk9ORVwiXG5leHBvcnQgY29uc3QgU0VMRUNUX0lURU0gPSBcIlNFTEVDVF9JVEVNXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFsbChpdGVtc0lkcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9BTEwsXG4gICAgaXRlbXM6IGl0ZW1zSWRzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX05PTkVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXRlbShpdGVtSWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfSVRFTSxcbiAgICBpdGVtOiBpdGVtSWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWxlY3Rpb24oc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRUxFQ1RfQUxMOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtc1xuXG4gICAgY2FzZSBTRUxFQ1RfTk9ORTpcbiAgICAgIHJldHVybiBbXVxuXG4gICAgY2FzZSBTRUxFQ1RfSVRFTTpcbiAgICAgIHJldHVybiB0b2dnbGUoc3RhdGUsIGFjdGlvbi5pdGVtKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdHlwZTogXCJpbmZvXCIsXG4gIG1lc3NhZ2U6IFwiXCIsXG4gIGlzVmlzaWJsZTogZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IFNIT1dfU05BQ0tCQVIgPSBcIlNIT1dfU05BQ0tCQVJcIlxuZXhwb3J0IGNvbnN0IEhJREVfU05BQ0tCQVIgPSBcIkhJREVfU05BQ0tCQVJcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NuYWNrYmFyKG1lc3NhZ2UsIHR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSE9XX1NOQUNLQkFSLFxuICAgIG1lc3NhZ2UsXG4gICAgbWVzc2FnZVR5cGU6IHR5cGVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVNuYWNrYmFyKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhJREVfU05BQ0tCQVJcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbmFja2JhcihzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uID0gbnVsbCkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNIT1dfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogYWN0aW9uLm1lc3NhZ2VUeXBlLFxuICAgICAgbWVzc2FnZTogYWN0aW9uLm1lc3NhZ2UsXG4gICAgICBpc1Zpc2libGU6IHRydWVcbiAgICB9XG4gIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IEhJREVfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHsgUkVNT1ZFX1BPTEwsIFJFUExBQ0VfUE9MTCB9IGZyb20gXCIuL3BvbGxcIlxuXG5leHBvcnQgY29uc3QgQlVTWV9USFJFQUQgPSBcIkJVU1lfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1RIUkVBRCA9IFwiUkVMRUFTRV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFJFUExBQ0VfVEhSRUFEID0gXCJSRVBMQUNFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRCA9IFwiVVBEQVRFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRF9BQ0wgPSBcIlVQREFURV9USFJFQURfQUNMXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudChqc29uLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KGpzb24ubGFzdF9wb3N0X29uKSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IGpzb24uYmVzdF9hbnN3ZXJfbWFya2VkX29uXG4gICAgICA/IG1vbWVudChqc29uLmJlc3RfYW5zd2VyX21hcmtlZF9vbilcbiAgICAgIDogbnVsbCxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9USFJFQURcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRUxFQVNFX1RIUkVBRFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZCA9IGZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9USFJFQUQsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQUQsXG4gICAgZGF0YVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBY2woZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQURfQUNMLFxuICAgIGRhdGFcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJlYWQoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IHRydWUgfSlcblxuICAgIGNhc2UgUkVMRUFTRV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaXNCdXN5OiBmYWxzZSB9KVxuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBwb2xsOiBudWxsIH0pXG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBwb2xsOiBhY3Rpb24uc3RhdGUgfSlcblxuICAgIGNhc2UgUkVQTEFDRV9USFJFQUQ6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKVxuXG4gICAgY2FzZSBVUERBVEVfVEhSRUFEX0FDTDpcbiAgICAgIGNvbnN0IGFjbCA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmFjbCwgYWN0aW9uLmRhdGEpXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgYWNsIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gXCJtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZVwiXG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVEhSRUFEUyA9IFwiQVBQRU5EX1RIUkVBRFNcIlxuZXhwb3J0IGNvbnN0IERFTEVURV9USFJFQUQgPSBcIkRFTEVURV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IEZJTFRFUl9USFJFQURTID0gXCJGSUxURVJfVEhSRUFEU1wiXG5leHBvcnQgY29uc3QgSFlEUkFURV9USFJFQURTID0gXCJIWURSQVRFX1RIUkVBRFNcIlxuZXhwb3J0IGNvbnN0IFBBVENIX1RIUkVBRCA9IFwiUEFUQ0hfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBTT1JUX1RIUkVBRFMgPSBcIlNPUlRfVEhSRUFEU1wiXG5cbmV4cG9ydCBjb25zdCBNT0RFUkFUSU9OX1BFUk1JU1NJT05TID0gW1xuICBcImNhbl9hbm5vdW5jZVwiLFxuICBcImNhbl9hcHByb3ZlXCIsXG4gIFwiY2FuX2Nsb3NlXCIsXG4gIFwiY2FuX2hpZGVcIixcbiAgXCJjYW5fbW92ZVwiLFxuICBcImNhbl9tZXJnZVwiLFxuICBcImNhbl9waW5cIixcbiAgXCJjYW5fcmV2aWV3XCJcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcywgc29ydGluZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9USFJFQURTLFxuICAgIGl0ZW1zLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFTEVURV9USFJFQUQsXG4gICAgdGhyZWFkXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclRocmVhZHMoY2F0ZWdvcnksIGNhdGVnb3JpZXNNYXApIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBGSUxURVJfVEhSRUFEUyxcbiAgICBjYXRlZ29yeSxcbiAgICBjYXRlZ29yaWVzTWFwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1RIUkVBRFMsXG4gICAgaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2godGhyZWFkLCBwYXRjaCwgc29ydGluZyA9IG51bGwpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9USFJFQUQsXG4gICAgdGhyZWFkLFxuICAgIHBhdGNoLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydChzb3J0aW5nKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU09SVF9USFJFQURTLFxuICAgIHNvcnRpbmdcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGhyZWFkTW9kZXJhdGlvbk9wdGlvbnModGhyZWFkX2FjbCkge1xuICBsZXQgb3B0aW9ucyA9IFtdXG4gIE1PREVSQVRJT05fUEVSTUlTU0lPTlMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XG4gICAgaWYgKHRocmVhZF9hY2xbcGVybV0pIHtcbiAgICAgIG9wdGlvbnMucHVzaChwZXJtKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aHJlYWQsIHtcbiAgICBzdGFydGVkX29uOiBtb21lbnQodGhyZWFkLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KHRocmVhZC5sYXN0X3Bvc3Rfb24pLFxuICAgIG1vZGVyYXRpb246IGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZC5hY2wpXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocmVhZChzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFQUEVORF9USFJFQURTOlxuICAgICAgY29uc3QgbWVyZ2VkU3RhdGUgPSBjb25jYXRVbmlxdWUoYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKSwgc3RhdGUpXG4gICAgICByZXR1cm4gbWVyZ2VkU3RhdGUuc29ydChhY3Rpb24uc29ydGluZylcblxuICAgIGNhc2UgREVMRVRFX1RIUkVBRDpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gYWN0aW9uLnRocmVhZC5pZFxuICAgICAgfSlcblxuICAgIGNhc2UgRklMVEVSX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgaXRlbUNhdGVnb3J5ID0gYWN0aW9uLmNhdGVnb3JpZXNNYXBbaXRlbS5jYXRlZ29yeV1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJlxuICAgICAgICAgIGl0ZW1DYXRlZ29yeS5yZ2h0IDw9IGFjdGlvbi5jYXRlZ29yeS5yZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHNhbWUgb3Igc3ViIGNhdGVnb3J5XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLndlaWdodCA9PSAyKSB7XG4gICAgICAgICAgLy8gZ2xvYmFsbHkgcGlubmVkXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0aHJlYWQgbW92ZWQgb3V0c2lkZSBkaXNwbGF5ZWQgc2NvcGUsIGhpZGUgaXRcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgIGNhc2UgSFlEUkFURV9USFJFQURTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZClcblxuICAgIGNhc2UgUEFUQ0hfVEhSRUFEOlxuICAgICAgY29uc3QgcGF0Y2hlZFN0YXRlID0gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi50aHJlYWQuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgYWN0aW9uLnBhdGNoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVtXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmIChhY3Rpb24uc29ydGluZykge1xuICAgICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpXG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlXG5cbiAgICBjYXNlIFNPUlRfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdGljazogMFxufVxuXG5leHBvcnQgY29uc3QgVElDSyA9IFwiVElDS1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RpY2soKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVElDS1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRpY2soc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbiA9IG51bGwpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBUSUNLKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICB0aWNrOiBzdGF0ZS50aWNrICsgMVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSBcIm1pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlXCJcblxuZXhwb3J0IGNvbnN0IEFERF9OQU1FX0NIQU5HRSA9IFwiQUREX05BTUVfQ0hBTkdFXCJcbmV4cG9ydCBjb25zdCBBUFBFTkRfSElTVE9SWSA9IFwiQVBQRU5EX0hJU1RPUllcIlxuZXhwb3J0IGNvbnN0IEhZRFJBVEVfSElTVE9SWSA9IFwiSFlEUkFURV9ISVNUT1JZXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5hbWVDaGFuZ2UoY2hhbmdlLCB1c2VyLCBjaGFuZ2VkQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBRERfTkFNRV9DSEFOR0UsXG4gICAgY2hhbmdlLFxuICAgIHVzZXIsXG4gICAgY2hhbmdlZEJ5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9ISVNUT1JZLFxuICAgIGl0ZW1zOiBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTmFtZWNoYW5nZShuYW1lY2hhbmdlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBuYW1lY2hhbmdlLCB7XG4gICAgY2hhbmdlZF9vbjogbW9tZW50KG5hbWVjaGFuZ2UuY2hhbmdlZF9vbilcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcm5hbWUoc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfTkFNRV9DSEFOR0U6XG4gICAgICBsZXQgbmV3U3RhdGUgPSBzdGF0ZS5zbGljZSgpXG4gICAgICBuZXdTdGF0ZS51bnNoaWZ0KHtcbiAgICAgICAgaWQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyBqdXN0IHNtYWxsIGhheCBmb3IgZ2V0dGluZyBpZFxuICAgICAgICBjaGFuZ2VkX2J5OiBhY3Rpb24uY2hhbmdlZEJ5LFxuICAgICAgICBjaGFuZ2VkX2J5X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlZEJ5LnVzZXJuYW1lLFxuICAgICAgICBjaGFuZ2VkX29uOiBtb21lbnQoKSxcbiAgICAgICAgbmV3X3VzZXJuYW1lOiBhY3Rpb24uY2hhbmdlLnVzZXJuYW1lLFxuICAgICAgICBvbGRfdXNlcm5hbWU6IGFjdGlvbi51c2VyLnVzZXJuYW1lXG4gICAgICB9KVxuICAgICAgcmV0dXJuIG5ld1N0YXRlXG5cbiAgICBjYXNlIEFQUEVORF9ISVNUT1JZOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSkpXG5cbiAgICBjYXNlIEhZRFJBVEVfSElTVE9SWTpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKVxuICAgICAgICBpZiAoaXRlbS5jaGFuZ2VkX2J5ICYmIGl0ZW0uY2hhbmdlZF9ieS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uY2hhbmdlZF9ieSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uY2hhbmdlZF9ieSwge1xuICAgICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH0pXG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uY2hhbmdlZF9ieSAmJiBpdGVtLmNoYW5nZWRfYnkuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmNoYW5nZWRfYnkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtLmNoYW5nZWRfYnksIHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gXCJtaXNhZ28vdXRpbHMvY29uY2F0LXVuaXF1ZVwiXG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfVVNFUlMgPSBcIkFQUEVORF9VU0VSU1wiXG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9IFwiSFlEUkFURV9VU0VSU1wiXG5leHBvcnQgY29uc3QgVVBEQVRFX0FWQVRBUiA9IFwiVVBEQVRFX0FWQVRBUlwiXG5leHBvcnQgY29uc3QgVVBEQVRFX1VTRVJOQU1FID0gXCJVUERBVEVfVVNFUk5BTUVcIlxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVTdGF0dXMoc3RhdHVzKSB7XG4gIGlmIChzdGF0dXMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdHVzLCB7XG4gICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljayA/IG1vbWVudChzdGF0dXMubGFzdF9jbGljaykgOiBudWxsLFxuICAgICAgYmFubmVkX3VudGlsOiBzdGF0dXMuYmFubmVkX3VudGlsID8gbW9tZW50KHN0YXR1cy5iYW5uZWRfdW50aWwpIDogbnVsbFxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVVzZXIodXNlcikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdXNlciwge1xuICAgIGpvaW5lZF9vbjogbW9tZW50KHVzZXIuam9pbmVkX29uKSxcbiAgICBzdGF0dXM6IGh5ZHJhdGVTdGF0dXModXNlci5zdGF0dXMpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBdmF0YXIodXNlciwgYXZhdGFycykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9BVkFUQVIsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIGF2YXRhcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcikpXG5cbiAgICBjYXNlIEhZRFJBVEVfVVNFUlM6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcilcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcnMgPSBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBamF4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IG51bGxcbiAgICB0aGlzLl9jc3JmVG9rZW4gPSBudWxsXG4gICAgdGhpcy5fbG9ja3MgPSB7fVxuICB9XG5cbiAgaW5pdChjb29raWVOYW1lKSB7XG4gICAgdGhpcy5fY29va2llTmFtZSA9IGNvb2tpZU5hbWVcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyBcIj0oW147XSopXCIpXG4gICAgICBsZXQgY29va2llID0gZG9jdW1lbnQuY29va2llLm1hdGNoKGNvb2tpZVJlZ2V4KVswXVxuICAgICAgcmV0dXJuIGNvb2tpZSA/IGNvb2tpZS5zcGxpdChcIj1cIilbMV0gOiBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdChtZXRob2QsIHVybCwgZGF0YSkge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiWC1DU1JGVG9rZW5cIjogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IG51bGwsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSKSB7XG4gICAgICAgICAgbGV0IHJlamVjdGlvbiA9IGpxWEhSLnJlc3BvbnNlSlNPTiB8fCB7fVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1c1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgaWYgKCFyZWplY3Rpb24uZGV0YWlsIHx8IHJlamVjdGlvbi5kZXRhaWwgPT09IFwiTk9UIEZPVU5EXCIpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzVGV4dCA9IGpxWEhSLnN0YXR1c1RleHRcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJC5hamF4KHhocilcbiAgICB9KVxuICB9XG5cbiAgZ2V0KHVybCwgcGFyYW1zLCBsb2NrKSB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgdXJsICs9IFwiP1wiICsgJC5wYXJhbShwYXJhbXMpXG4gICAgfVxuXG4gICAgaWYgKGxvY2spIHtcbiAgICAgIGxldCBzZWxmID0gdGhpc1xuXG4gICAgICAvLyB1cGRhdGUgdXJsIGluIGV4aXN0aW5nIGxvY2s/XG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10pIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10udXJsID0gdXJsXG4gICAgICB9XG5cbiAgICAgIC8vIGltbWVkaWF0ZWx5IGRlcmVmZXJlbmNlIHByb21pc2UgaGFuZGxlcnMgd2l0aG91dCBkb2luZyBhbnl0aGluZ1xuICAgICAgLy8gd2UgYXJlIGFscmVhZHkgd2FpdGluZyBmb3IgZXhpc3RpbmcgcmVzcG9uc2UgdG8gcmVzb2x2ZVxuICAgICAgaWYgKHRoaXMuX2xvY2tzW2xvY2tdICYmIHRoaXMuX2xvY2tzW2xvY2tdLndhaXRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIHByb21pc2UgdGhhdCB3aWxsIGJlZ2luIHdoZW4gb3JpZ2luYWwgb25lIHJlc29sdmVzXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2xvY2tzW2xvY2tdICYmIHRoaXMuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBsZXQgd2FpdCA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgLy8ga2VlcCB3YWl0aW5nIG9uIHByb21pc2VcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHdhaXQodXJsKVxuICAgICAgICAgICAgICB9LCAzMDApXG5cbiAgICAgICAgICAgICAgLy8gcG9sbCBmb3IgbmV3IHVybFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgIT09IHVybCkge1xuICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybClcblxuICAgICAgICAgICAgICAvLyBhamF4IGJhY2tlbmQgZm9yIHJlc3BvbnNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSBmYWxzZVxuICAgICAgICAgICAgICBzZWxmLnJlcXVlc3QoXCJHRVRcIiwgc2VsZi5fbG9ja3NbbG9ja10udXJsKS50aGVuKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlamVjdGlvbilcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KHVybClcbiAgICAgICAgICB9LCAzMDApXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gc2V0dXAgbmV3IGxvY2sgd2l0aG91dCB3YWl0ZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdID0ge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICB3YWl0OiB0cnVlLFxuICAgICAgICAgIHdhaXRlcjogZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLnJlcXVlc3QoXCJHRVRcIiwgdXJsKS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2VcbiAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZVxuICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiR0VUXCIsIHVybClcbiAgICB9XG4gIH1cblxuICBwb3N0KHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJQT1NUXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIHBhdGNoKHVybCwgZGF0YSkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJQQVRDSFwiLCB1cmwsIGRhdGEpXG4gIH1cblxuICBwdXQodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIlBVVFwiLCB1cmwsIGRhdGEpXG4gIH1cblxuICBkZWxldGUodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIkRFTEVURVwiLCB1cmwsIGRhdGEpXG4gIH1cblxuICB1cGxvYWQodXJsLCBkYXRhLCBwcm9ncmVzcykge1xuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJYLUNTUkZUb2tlblwiOiBzZWxmLmdldENzcmZUb2tlbigpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG5cbiAgICAgICAgeGhyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZXQgeGhyID0gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJwcm9ncmVzc1wiLFxuICAgICAgICAgICAgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzKE1hdGgucm91bmQoKGV2dC5sb2FkZWQgLyBldnQudG90YWwpICogMTAwKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgKVxuICAgICAgICAgIHJldHVybiB4aHJcbiAgICAgICAgfSxcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSKSB7XG4gICAgICAgICAgbGV0IHJlamVjdGlvbiA9IGpxWEhSLnJlc3BvbnNlSlNPTiB8fCB7fVxuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1c1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMyAmJiAhcmVqZWN0aW9uLmRldGFpbCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXG4gICAgICAgICAgICAgIFwiVXBsb2FkIHdhcyByZWplY3RlZCBieSBzZXJ2ZXIgYXMgdG9vIGxhcmdlLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgaWYgKCFyZWplY3Rpb24uZGV0YWlsIHx8IHJlamVjdGlvbi5kZXRhaWwgPT09IFwiTk9UIEZPVU5EXCIpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA1MDAgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzVGV4dCA9IGpxWEhSLnN0YXR1c1RleHRcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJC5hamF4KHhocilcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBBamF4KClcbiIsImltcG9ydCB7IHNpZ25Jbiwgc2lnbk91dCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5cbmV4cG9ydCBjbGFzcyBBdXRoIHtcbiAgaW5pdChzdG9yZSwgbG9jYWwsIG1vZGFsKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZVxuICAgIHRoaXMuX2xvY2FsID0gbG9jYWxcbiAgICB0aGlzLl9tb2RhbCA9IG1vZGFsXG5cbiAgICAvLyB0ZWxsIG90aGVyIHRhYnMgd2hhdCBhdXRoIHN0YXRlIGlzIGJlY2F1c2Ugd2UgYXJlIG1vc3QgY3VycmVudCB3aXRoIGl0XG4gICAgdGhpcy5zeW5jU2Vzc2lvbigpXG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKVxuICB9XG5cbiAgc3luY1Nlc3Npb24oKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpLmF1dGhcbiAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlci51c2VybmFtZVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgd2F0Y2hTdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aFxuICAgIHRoaXMuX2xvY2FsLndhdGNoKFwiYXV0aFwiLCBuZXdTdGF0ZSA9PiB7XG4gICAgICBpZiAobmV3U3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHNpZ25Jbih7XG4gICAgICAgICAgICB1c2VybmFtZTogbmV3U3RhdGUudXNlcm5hbWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgYXV0aGVudGljYXRlZCBpbiB0aGlzIHRhYlxuICAgICAgICAvLyBiZWNhdXNlIHNvbWUgYnJvd3NlciBwbHVnaW5zIHBydW5lIGxvY2FsIHN0b3JlXG4gICAgICAgIC8vIGFnZ3Jlc3NpdmVseSwgZm9yY2luZyBlcnJvbmVvdXMgbWVzc2FnZSB0byBkaXNwbGF5IGhlcmVcbiAgICAgICAgLy8gdHJhY2tpbmcgYnVnICM5NTVcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSlcbiAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgfSlcbiAgICB0aGlzLl9tb2RhbC5oaWRlKClcbiAgfVxuXG4gIHNpZ25PdXQoKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKVxuICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cblxuICBzb2Z0U2lnbk91dCgpIHtcbiAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduT3V0KHRydWUpKVxuICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pXG4gICAgdGhpcy5fbW9kYWwuaGlkZSgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKVxuIiwiLyogZ2xvYmFsIGdyZWNhcHRjaGEgKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5cbmV4cG9ydCBjbGFzcyBCYXNlQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dFxuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGVcbiAgICB0aGlzLl9zbmFja2JhciA9IHNuYWNrYmFyXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUUFDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9hamF4LmdldChzZWxmLl9jb250ZXh0LmdldChcIkNBUFRDSEFfQVBJXCIpKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgc2VsZi5xdWVzdGlvbiA9IGRhdGEucXVlc3Rpb25cbiAgICAgICAgICBzZWxmLmhlbHBUZXh0ID0gZGF0YS5oZWxwX3RleHRcbiAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZhaWxlZCB0byBsb2FkIENBUFRDSEEuXCIpKVxuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9KVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXt0aGlzLnF1ZXN0aW9ufVxuICAgICAgICBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIHZhbGlkYXRpb249e2t3YXJncy5mb3JtLnN0YXRlLmVycm9ycy5jYXB0Y2hhfVxuICAgICAgICBoZWxwVGV4dD17dGhpcy5oZWxwVGV4dCB8fCBudWxsfVxuICAgICAgPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfY2FwdGNoYV9zdGF0dXNcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2t3YXJncy5mb3JtLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICBpZD1cImlkX2NhcHRjaGFcIlxuICAgICAgICAgIG9uQ2hhbmdlPXtrd2FyZ3MuZm9ybS5iaW5kSW5wdXQoXCJjYXB0Y2hhXCIpfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17a3dhcmdzLmZvcm0uc3RhdGUuY2FwdGNoYX1cbiAgICAgICAgLz5cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgZ3JlY2FwdGNoYS5yZW5kZXIoXCJyZWNhcHRjaGFcIiwge1xuICAgICAgc2l0ZWtleTogdGhpcy5wcm9wcy5zaXRlS2V5LFxuICAgICAgY2FsbGJhY2s6IHJlc3BvbnNlID0+IHtcbiAgICAgICAgLy8gZmlyZSBmYWtleSBldmVudCB0byBiaW5kaW5nXG4gICAgICAgIHRoaXMucHJvcHMuYmluZGluZyh7XG4gICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBpZD1cInJlY2FwdGNoYVwiIC8+XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoXCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanNcIiwgdHJ1ZSlcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICB2YXIgd2FpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodHlwZW9mIGdyZWNhcHRjaGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQoKVxuICAgICAgICAgIH0sIDIwMClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2FpdCgpXG4gICAgfSlcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBsZWFzZSBzb2x2ZSB0aGUgcXVpY2sgdGVzdFwiKX1cbiAgICAgICAgZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgIGxhYmVsQ2xhc3M9e2t3YXJncy5sYWJlbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcIlwifVxuICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgXCJUaGlzIHRlc3QgaGVscHMgdXMgcHJldmVudCBhdXRvbWF0ZWQgc3BhbSByZWdpc3RyYXRpb25zIG9uIG91ciBzaXRlLlwiXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIDxSZUNhcHRjaGFDb21wb25lbnRcbiAgICAgICAgICBiaW5kaW5nPXtrd2FyZ3MuZm9ybS5iaW5kSW5wdXQoXCJjYXB0Y2hhXCIpfVxuICAgICAgICAgIHNpdGVLZXk9e3RoaXMuX2NvbnRleHQuZ2V0KFwiU0VUVElOR1NcIikucmVjYXB0Y2hhX3NpdGVfa2V5fVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHN3aXRjaCAoY29udGV4dC5nZXQoXCJTRVRUSU5HU1wiKS5jYXB0Y2hhX3R5cGUpIHtcbiAgICAgIGNhc2UgXCJub1wiOlxuICAgICAgICB0aGlzLl9jYXB0Y2hhID0gbmV3IE5vQ2FwdGNoYSgpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgXCJxYVwiOlxuICAgICAgICB0aGlzLl9jYXB0Y2hhID0gbmV3IFFBQ2FwdGNoYSgpXG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGNhc2UgXCJyZVwiOlxuICAgICAgICB0aGlzLl9jYXB0Y2hhID0gbmV3IFJlQ2FwdGNoYSgpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdGhpcy5fY2FwdGNoYS5pbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKVxuICB9XG5cbiAgLy8gYWNjZXNzb3JzIGZvciB1bmRlcmx5aW5nIHN0cmF0ZWd5XG5cbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5sb2FkKClcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS52YWxpZGF0b3IoKVxuICB9XG5cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmNvbXBvbmVudChrd2FyZ3MpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IENhcHRjaGEoKVxuIiwiZXhwb3J0IGNsYXNzIEluY2x1ZGUge1xuICBpbml0KHN0YXRpY1VybCkge1xuICAgIHRoaXMuX3N0YXRpY1VybCA9IHN0YXRpY1VybFxuICAgIHRoaXMuX2luY2x1ZGVkID0gW11cbiAgfVxuXG4gIGluY2x1ZGUoc2NyaXB0LCByZW1vdGUgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLl9pbmNsdWRlZC5pbmRleE9mKHNjcmlwdCkgPT09IC0xKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlZC5wdXNoKHNjcmlwdClcbiAgICAgIHRoaXMuX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpXG4gICAgfVxuICB9XG5cbiAgX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAoIXJlbW90ZSA/IHRoaXMuX3N0YXRpY1VybCA6IFwiXCIpICsgc2NyaXB0LFxuICAgICAgY2FjaGU6IHRydWUsXG4gICAgICBkYXRhVHlwZTogXCJzY3JpcHRcIlxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEluY2x1ZGUoKVxuIiwibGV0IHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlXG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICBpbml0KHByZWZpeCkge1xuICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeFxuICAgIHRoaXMuX3dhdGNoZXJzID0gW11cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBlID0+IHtcbiAgICAgIGxldCBuZXdWYWx1ZUpzb24gPSBKU09OLnBhcnNlKGUubmV3VmFsdWUpXG4gICAgICB0aGlzLl93YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdhdGNoZXIpIHtcbiAgICAgICAgaWYgKHdhdGNoZXIua2V5ID09PSBlLmtleSAmJiBlLm9sZFZhbHVlICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2F0Y2hlci5jYWxsYmFjayhuZXdWYWx1ZUpzb24pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIGxldCBpdGVtU3RyaW5nID0gc3RvcmFnZS5nZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSlcbiAgICBpZiAoaXRlbVN0cmluZykge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoaXRlbVN0cmluZylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICB3YXRjaChrZXksIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5fd2F0Y2hlcnMucHVzaCh7XG4gICAgICBrZXk6IHRoaXMuX3ByZWZpeCArIGtleSxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IExvY2FsU3RvcmFnZSgpXG4iLCJpbXBvcnQgbWFya2VkIGZyb20gJ21hcmtlZCdcbmltcG9ydCB7IHBhcnNlWW91dHViZVVybCB9IGZyb20gXCJtaXNhZ28vc2VydmljZXMvb25lLWJveFwiXG5cbmNvbnN0IG1hcmRrZWRSZW5kZXJlciA9IChjb250ZW50KSA9PiB7XG4gICAgbWFya2VkLnNldE9wdGlvbnMoe1xuICAgICAgICByZW5kZXJlcjogbmV3IG1hcmtlZC5SZW5kZXJlcigpLFxuICAgICAgICBnZm06IHRydWUsXG4gICAgICAgIHRhYmxlczogZmFsc2UsXG4gICAgICAgIGJyZWFrczogdHJ1ZSxcbiAgICAgICAgcGVkYW50aWM6IGZhbHNlLFxuICAgICAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgICAgIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICAgICAgICBzbWFydHlwYW50czogZmFsc2VcbiAgICB9KVxuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgbWFya2VkLlJlbmRlcmVyKClcblxuICAgIGNvbnN0IGhlYWRpbmdQYXJzZSA9ICh0ZXh0LCBsZXZlbCkgPT4ge1xuICAgICAgICByZXR1cm4gYDxoJHtsZXZlbH0+XG4gICAgPHNwYW4gY2xhc3M9XCJrLWhlYWRpbmdcIj4ke3RleHR9PC9zcGFuPlxuICA8L2gke2xldmVsfT5gXG4gICAgfVxuXG4gICAgY29uc3QgbGlua1BhcnNlID0gKGhyZWYsIHRpdGxlLCB0ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHl0UmVnRXhwID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIFwiXi4qKD86KD86eW91dHUuYmUvfHYvfHZpL3x1L3cvfGVtYmVkLyl8KD86KD86d2F0Y2gpPz92KD86aSk/PXwmdig/OmkpPz0pKShbXiMmP10qKS4qXCJcbiAgICAgICAgKVxuICAgICAgICBpZiAoeXRSZWdFeHAudGVzdChocmVmKSkge1xuICAgICAgICAgICAgY29uc3QgeW91dHViZU1vdmllID0gcGFyc2VZb3V0dWJlVXJsKGhyZWYpXG4gICAgICAgICAgICBpZiAoISF5b3V0dWJlTW92aWUgJiYgeW91dHViZU1vdmllLmRhdGEgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCJcbiAgICAgICAgICAgICAgICB1cmwgKz0geW91dHViZU1vdmllLnZpZGVvXG4gICAgICAgICAgICAgICAgdXJsICs9IFwiP3JlbD0wXCJcbiAgICAgICAgICAgICAgICBpZiAoeW91dHViZU1vdmllLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSBcIiZzdGFydD1cIiArIHlvdXR1YmVNb3ZpZS5zdGFydFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSAnPGlmcmFtZSBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUtaXRlbVwiIHNyYz1cIicgK1xuICAgICAgICAgICAgICAgICAgICB1cmwgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPidcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlIGVtYmVkLXJlc3BvbnNpdmUtMTZieTlcIj4ke3BsYXllcn08L2Rpdj5gXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYDxhIGhyZWY9JHtocmVmfVxuICAgICAgdGl0bGU9JHt0aXRsZSB8fCBocmVmfVxuICAgICAgdGFyZ2V0PSdfYmxhbmsnXG4gICAgICB9PiR7dGV4dH08L2E+YFxuICAgIH1cblxuICAgIHJlbmRlcmVyLmxpbmsgPSBsaW5rUGFyc2VcbiAgICByZW5kZXJlci5oZWFkaW5nID0gaGVhZGluZ1BhcnNlXG5cbiAgICByZXR1cm4gbWFya2VkKGNvbnRlbnQsIHsgcmVuZGVyZXIgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFyZGtlZFJlbmRlcmVyXG4iLCJpbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGxcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnRcbiAgICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZClcbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoXCJvcGVuXCIpXG4gICAgfVxuICB9XG5cbiAgc2hvd0Nvbm5lY3RlZChuYW1lLCBjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBuYW1lKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBuYW1lXG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKFwib3BlblwiKVxuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhcIm9wZW5cIilcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKClcbiIsImltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBjbGFzcyBNb2RhbCB7XG4gIGluaXQoZWxlbWVudCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoeyBzaG93OiBmYWxzZSB9KVxuXG4gICAgdGhpcy5fbW9kYWwub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KVxuICAgIH0pXG4gIH1cblxuICBzaG93KGNvbXBvbmVudCkge1xuICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZClcbiAgICB0aGlzLl9tb2RhbC5tb2RhbChcInNob3dcIilcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5fbW9kYWwubW9kYWwoXCJoaWRlXCIpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vZGFsKClcbiIsImNvbnN0IHl0UmVnRXhwID0gbmV3IFJlZ0V4cChcbiAgXCJeLiooPzooPzp5b3V0dS5iZS98di98dmkvfHUvdy98ZW1iZWQvKXwoPzooPzp3YXRjaCk/P3YoPzppKT89fCZ2KD86aSk/PSkpKFteIyY/XSopLipcIlxuKVxuXG5leHBvcnQgY2xhc3MgT25lQm94IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5feW91dHViZSA9IHt9XG4gIH1cblxuICByZW5kZXIgPSBkb21ub2RlID0+IHtcbiAgICBpZiAoIWRvbW5vZGUpIHJldHVyblxuICAgIHRoaXMuaGlnaGxpZ2h0Q29kZShkb21ub2RlKVxuICAgIHRoaXMuZW1iZWRZb3V0dWJlUGxheWVycyhkb21ub2RlKVxuICB9XG5cbiAgaGlnaGxpZ2h0Q29kZShkb21ub2RlKSB7XG4gICAgY29uc3QgY29kZWJsb2NrcyA9IGRvbW5vZGUucXVlcnlTZWxlY3RvckFsbChcInByZT5jb2RlXCIpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjb2RlID0gY29kZWJsb2Nrc1tpXVxuICAgICAgaGxqcy5oaWdobGlnaHRCbG9jayhjb2RlKVxuICAgIH1cbiAgfVxuXG4gIGVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBkb21ub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwPmFcIilcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuY2hvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSBhbmNob3JzW2ldXG4gICAgICBjb25zdCBwID0gYS5wYXJlbnROb2RlXG4gICAgICBjb25zdCBvbmx5Q2hpbGQgPSBwLmNoaWxkTm9kZXMubGVuZ3RoID09PSAxXG5cbiAgICAgIGlmICghdGhpcy5feW91dHViZVthLmhyZWZdKSB7XG4gICAgICAgIHRoaXMuX3lvdXR1YmVbYS5ocmVmXSA9IHBhcnNlWW91dHViZVVybChhLmhyZWYpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHlvdXR1YmVNb3ZpZSA9IHRoaXMuX3lvdXR1YmVbYS5ocmVmXVxuICAgICAgaWYgKG9ubHlDaGlsZCAmJiAhIXlvdXR1YmVNb3ZpZSAmJiB5b3V0dWJlTW92aWUuZGF0YSAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5zd2FwWW91dHViZVBsYXllcihhLCB5b3V0dWJlTW92aWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3dhcFlvdXR1YmVQbGF5ZXIoZWxlbWVudCwgeW91dHViZSkge1xuICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiXG4gICAgdXJsICs9IHlvdXR1YmUudmlkZW9cbiAgICB1cmwgKz0gXCI/cmVsPTBcIlxuICAgIGlmICh5b3V0dWJlLnN0YXJ0KSB7XG4gICAgICB1cmwgKz0gXCImc3RhcnQ9XCIgKyB5b3V0dWJlLnN0YXJ0XG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gJChcbiAgICAgICc8aWZyYW1lIGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZS1pdGVtXCIgc3JjPVwiJyArXG4gICAgICAgIHVybCArXG4gICAgICAgICdcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+J1xuICAgIClcbiAgICAkKGVsZW1lbnQpLnJlcGxhY2VXaXRoKHBsYXllcilcbiAgICBwbGF5ZXIud3JhcCgnPGRpdiBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUgZW1iZWQtcmVzcG9uc2l2ZS0xNmJ5OVwiPjwvZGl2PicpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9uZUJveCgpXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVlvdXR1YmVVcmwodXJsKSB7XG4gIGNvbnN0IGNsZWFuZWRVcmwgPSBjbGVhblVybCh1cmwpXG4gIGNvbnN0IHZpZGVvID0gZ2V0VmlkZW9JZEZyb21VcmwoY2xlYW5lZFVybClcblxuICBpZiAoIXZpZGVvKSByZXR1cm4gbnVsbFxuXG4gIGxldCBzdGFydCA9IDBcbiAgaWYgKGNsZWFuZWRVcmwuaW5kZXhPZihcIj9cIikgPiAwKSB7XG4gICAgY29uc3QgcXVlcnkgPSBjbGVhbmVkVXJsLnN1YnN0cihjbGVhbmVkVXJsLmluZGV4T2YoXCI/XCIpICsgMSlcbiAgICBjb25zdCB0aW1lYml0ID0gcXVlcnkuc3BsaXQoXCImXCIpLmZpbHRlcihpID0+IHtcbiAgICAgIHJldHVybiBpLnN1YnN0cigwLCAyKSA9PT0gXCJ0PVwiXG4gICAgfSlbMF1cblxuICAgIGlmICh0aW1lYml0KSB7XG4gICAgICBjb25zdCBiaXRzID0gdGltZWJpdC5zdWJzdHIoMikuc3BsaXQoXCJtXCIpXG4gICAgICBpZiAoYml0c1swXS5zdWJzdHIoLTEpID09PSBcInNcIikge1xuICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzBdLnN1YnN0cigwLCBiaXRzWzBdLmxlbmd0aCAtIDEpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgKz0gcGFyc2VJbnQoYml0c1swXSkgKiA2MFxuICAgICAgICBpZiAoISFiaXRzWzFdICYmIGJpdHNbMV0uc3Vic3RyKC0xKSA9PT0gXCJzXCIpIHtcbiAgICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzFdLnN1YnN0cigwLCBiaXRzWzFdLmxlbmd0aCAtIDEpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICB2aWRlb1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblVybCh1cmwpIHtcbiAgbGV0IGNsZWFuID0gdXJsXG5cbiAgaWYgKHVybC5zdWJzdHIoMCwgOCkgPT09IFwiaHR0cHM6Ly9cIikge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDgpXG4gIH0gZWxzZSBpZiAodXJsLnN1YnN0cigwLCA3KSA9PT0gXCJodHRwOi8vXCIpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig3KVxuICB9XG5cbiAgaWYgKGNsZWFuLnN1YnN0cigwLCA0KSA9PT0gXCJ3d3cuXCIpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig0KVxuICB9XG5cbiAgcmV0dXJuIGNsZWFuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWRlb0lkRnJvbVVybCh1cmwpIHtcbiAgaWYgKHVybC5pbmRleE9mKFwieW91dHVcIikgPT09IC0xKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IHZpZGVvID0gdXJsLm1hdGNoKHl0UmVnRXhwKVxuICBpZiAodmlkZW8pIHtcbiAgICByZXR1cm4gdmlkZW9bMV1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuIiwiZXhwb3J0IGNsYXNzIFBhZ2VUaXRsZSB7XG4gIGluaXQoaW5kZXhUaXRsZSwgZm9ydW1OYW1lKSB7XG4gICAgdGhpcy5faW5kZXhUaXRsZSA9IGluZGV4VGl0bGVcbiAgICB0aGlzLl9mb3J1bU5hbWUgPSBmb3J1bU5hbWVcbiAgfVxuXG4gIHNldCh0aXRsZSkge1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5faW5kZXhUaXRsZSB8fCB0aGlzLl9mb3J1bU5hbWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGl0bGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRpdGxlID0geyB0aXRsZTogdGl0bGUgfVxuICAgIH1cblxuICAgIGxldCBmaW5hbFRpdGxlID0gdGl0bGUudGl0bGVcblxuICAgIGlmICh0aXRsZS5wYWdlID4gMSkge1xuICAgICAgY29uc3QgcGFnZUxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJwYWdlOiAlKHBhZ2Upc1wiKSxcbiAgICAgICAge1xuICAgICAgICAgIHBhZ2U6IHRpdGxlLnBhZ2VcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuXG4gICAgICBmaW5hbFRpdGxlICs9IFwiIChcIiArIHBhZ2VMYWJlbCArIFwiKVwiXG4gICAgfVxuXG4gICAgaWYgKHRpdGxlLnBhcmVudCkge1xuICAgICAgZmluYWxUaXRsZSArPSBcIiB8IFwiICsgdGl0bGUucGFyZW50XG4gICAgfVxuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBmaW5hbFRpdGxlICsgXCIgfCBcIiArIHRoaXMuX2ZvcnVtTmFtZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQYWdlVGl0bGUoKVxuIiwiZXhwb3J0IGNsYXNzIFBvbGxzIHtcbiAgaW5pdChhamF4LCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhclxuXG4gICAgdGhpcy5fcG9sbHMgPSB7fVxuICB9XG5cbiAgc3RhcnQoa3dhcmdzKSB7XG4gICAgdGhpcy5zdG9wKGt3YXJncy5wb2xsKVxuXG4gICAgY29uc3QgcG9vbFNlcnZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXSA9IGt3YXJnc1xuXG4gICAgICB0aGlzLl9hamF4LmdldChrd2FyZ3MudXJsLCBrd2FyZ3MuZGF0YSB8fCBudWxsKS50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgICAga3dhcmdzLnVwZGF0ZShkYXRhKVxuXG4gICAgICAgICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0udGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICBwb29sU2VydmVyLFxuICAgICAgICAgICAgICBrd2FyZ3MuZnJlcXVlbmN5XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLl9zdG9wcGVkKSB7XG4gICAgICAgICAgICBpZiAoa3dhcmdzLmVycm9yKSB7XG4gICAgICAgICAgICAgIGt3YXJncy5lcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLl9zbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKGt3YXJncy5kZWxheWVkKSB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSB7XG4gICAgICAgIHRpbWVvdXQ6IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvb2xTZXJ2ZXIoKVxuICAgIH1cbiAgfVxuXG4gIHN0b3AocG9sbElkKSB7XG4gICAgaWYgKHRoaXMuX3BvbGxzW3BvbGxJZF0pIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcG9sbHNbcG9sbElkXS50aW1lb3V0KVxuICAgICAgdGhpcy5fcG9sbHNbcG9sbElkXS5fc3RvcHBlZCA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBvbGxzKClcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUG9sbEZvcm0gfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9sbFwiXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdGluZ1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXhcbiAgICB0aGlzLl9zbmFja2JhciA9IHNuYWNrYmFyXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIgPSAkKHBsYWNlaG9sZGVyKVxuXG4gICAgdGhpcy5fbW9kZSA9IG51bGxcblxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlXG4gICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2VcbiAgfVxuXG4gIG9wZW4ocHJvcHMpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fbW9kZSA9IHByb3BzLm1vZGVcbiAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdFxuICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc09wZW4gIT09IHByb3BzLnN1Ym1pdCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICBcIllvdSBhcmUgYWxyZWFkeSB3b3JraW5nIG9uIG90aGVyIG1lc3NhZ2UuIERvIHlvdSB3YW50IHRvIGRpc2NhcmQgaXQ/XCJcbiAgICAgIClcbiAgICAgIGlmICh0aGlzLl9tb2RlID09IFwiUE9MTFwiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICAgIFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gYSBwb2xsLiBEbyB5b3Ugd2FudCB0byBkaXNjYXJkIGl0P1wiXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hhbmdlRm9ybSA9IGNvbmZpcm0obWVzc2FnZSlcbiAgICAgIGlmIChjaGFuZ2VGb3JtKSB7XG4gICAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdFxuICAgICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21vZGUgPT0gXCJSRVBMWVwiICYmIHByb3BzLm1vZGUgPT0gXCJSRVBMWVwiKSB7XG4gICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICB9XG4gIH1cblxuICBfcmVhbE9wZW4ocHJvcHMpIHtcbiAgICBpZiAocHJvcHMubW9kZSA9PSBcIlBPTExcIikge1xuICAgICAgbW91bnQoPFBvbGxGb3JtIHsuLi5wcm9wc30gLz4sIFwicG9zdGluZy1tb3VudFwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudCg8UG9zdGluZ0NvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCBcInBvc3RpbmctbW91bnRcIilcbiAgICB9XG5cbiAgICB0aGlzLl9wbGFjZWhvbGRlci5hZGRDbGFzcyhcInNsaWRlLWluXCIpXG5cbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgICAgfSxcbiAgICAgIDEwMDBcbiAgICApXG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc0Nsb3NpbmcpIHtcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWVcbiAgICAgIHRoaXMuX3BsYWNlaG9sZGVyLnJlbW92ZUNsYXNzKFwic2xpZGUtaW5cIilcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdGluZy1tb3VudFwiKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlXG4gICAgICB9LCAzMDApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKClcbiIsImltcG9ydCB7IHNob3dTbmFja2JhciwgaGlkZVNuYWNrYmFyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zbmFja2JhclwiXG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMFxuY29uc3QgTUVTU0FHRV9TSE9XX0xFTkdUSCA9IDUwMDBcblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIHtcbiAgaW5pdChzdG9yZSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmVcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbFxuICB9XG5cbiAgYWxlcnQobWVzc2FnZSwgdHlwZSkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgICAgdGhpcy5hbGVydChtZXNzYWdlLCB0eXBlKVxuICAgICAgfSwgSElERV9BTklNQVRJT05fTEVOR1RIKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpXG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpXG4gICAgfVxuICB9XG5cbiAgLy8gc2hvcnRoYW5kcyBmb3IgbWVzc2FnZSB0eXBlc1xuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgXCJpbmZvXCIpXG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwic3VjY2Vzc1wiKVxuICB9XG5cbiAgd2FybmluZyhtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCBcIndhcm5pbmdcIilcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwiZXJyb3JcIilcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbFxuXG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIG1lc3NhZ2UgPT09IFwiUGVybWlzc2lvbiBkZW5pZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uXCIpXG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcihtZXNzYWdlKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTbmFja2JhcigpXG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSBcInJlZHV4XCJcblxuZXhwb3J0IGNsYXNzIFN0b3JlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N0b3JlID0gbnVsbFxuICAgIHRoaXMuX3JlZHVjZXJzID0ge31cbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB7fVxuICB9XG5cbiAgYWRkUmVkdWNlcihuYW1lLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgICB0aGlzLl9yZWR1Y2Vyc1tuYW1lXSA9IHJlZHVjZXJcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGVcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIGNvbWJpbmVSZWR1Y2Vycyh0aGlzLl9yZWR1Y2VycyksXG4gICAgICB0aGlzLl9pbml0aWFsU3RhdGVcbiAgICApXG4gIH1cblxuICBnZXRTdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmVcbiAgfVxuXG4gIC8vIFN0b3JlIEFQSVxuXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZVdyYXBwZXIoKVxuIiwiLyogZ2xvYmFsIHp4Y3ZibiAqL1xuZXhwb3J0IGNsYXNzIFp4Y3ZibiB7XG4gIGluaXQoaW5jbHVkZSkge1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlXG4gICAgdGhpcy5faXNMb2FkZWQgPSBmYWxzZVxuICB9XG5cbiAgc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgLy8gMC00IHNjb3JlLCB0aGUgbW9yZSB0aGUgc3Ryb25nZXIgcGFzc3dvcmRcbiAgICBpZiAodGhpcy5faXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB6eGN2Ym4ocGFzc3dvcmQsIGlucHV0cykuc2NvcmVcbiAgICB9XG5cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoXCJtaXNhZ28vanMvenhjdmJuLmpzXCIpXG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGluZ1Byb21pc2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpXG4gICAgfVxuICB9XG5cbiAgX2xvYWRpbmdQcm9taXNlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgd2FpdCA9IGZ1bmN0aW9uKHRyaWVzID0gMCkge1xuICAgICAgICB0cmllcyArPSAxXG4gICAgICAgIGlmICh0cmllcyA+IDIwMCkge1xuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHp4Y3ZibiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh0cmllcylcbiAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5faXNMb2FkZWQgPSB0cnVlXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdhaXQoKVxuICAgIH0pXG4gIH1cblxuICBfbG9hZGVkUHJvbWlzZSgpIHtcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHp4Y3Zibi5qcywgcmVzb2x2ZSBhd2F5IVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBaeGN2Ym4oKVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEJhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Jhbm5lZC1wYWdlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGlja1xufVxuXG5sZXQgUmVkcmF3ZWRCYW5uZWRQYWdlID0gY29ubmVjdChzZWxlY3QpKEJhbm5lZFBhZ2UpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJhbiwgY2hhbmdlU3RhdGUpIHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8UmVkcmF3ZWRCYW5uZWRQYWdlXG4gICAgICAgIG1lc3NhZ2U9e2Jhbi5tZXNzYWdlfVxuICAgICAgICBleHBpcmVzPXtiYW4uZXhwaXJlc19vbiA/IG1vbWVudChiYW4uZXhwaXJlc19vbikgOiBudWxsfVxuICAgICAgLz5cbiAgICA8L1Byb3ZpZGVyPixcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZS1tb3VudFwiKVxuICApXG5cbiAgaWYgKHR5cGVvZiBjaGFuZ2VTdGF0ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBjaGFuZ2VTdGF0ZSkge1xuICAgIGxldCBmb3J1bU5hbWUgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0dGV4dChcIllvdSBhcmUgYmFubmVkXCIpICsgXCIgfCBcIiArIGZvcnVtTmFtZVxuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbWlzYWdvLmdldChcIkJBTk5FRF9VUkxcIikpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxpc3QsIHJvd1dpZHRoLCBwYWRkaW5nID0gZmFsc2UpIHtcbiAgbGV0IHJvd3MgPSBbXVxuICBsZXQgcm93ID0gW11cblxuICBsaXN0LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJvdy5wdXNoKGVsZW1lbnQpXG4gICAgaWYgKHJvdy5sZW5ndGggPT09IHJvd1dpZHRoKSB7XG4gICAgICByb3dzLnB1c2gocm93KVxuICAgICAgcm93ID0gW11cbiAgICB9XG4gIH0pXG5cbiAgLy8gcGFkIHJvdyB0byByZXF1aXJlZCBsZW5ndGg/XG4gIGlmIChwYWRkaW5nICE9PSBmYWxzZSAmJiByb3cubGVuZ3RoID4gMCAmJiByb3cubGVuZ3RoIDwgcm93V2lkdGgpIHtcbiAgICBmb3IgKGxldCBpID0gcm93Lmxlbmd0aDsgaSA8IHJvd1dpZHRoOyBpKyspIHtcbiAgICAgIHJvdy5wdXNoKHBhZGRpbmcpXG4gICAgfVxuICB9XG5cbiAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICByb3dzLnB1c2gocm93KVxuICB9XG5cbiAgcmV0dXJuIHJvd3Ncbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgbGV0IGlkcyA9IFtdXG4gIHJldHVybiBhLmNvbmNhdChiKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpZHMuaW5kZXhPZihpdGVtLmlkKSA9PT0gLTEpIHtcbiAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb3VudCkge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB0aGlzLl9jb3VudCA9IGNvdW50XG4gIH1cblxuICBjb3VudCgpIHtcbiAgICB0aGlzLl9jb3VudCAtPSAxXG4gICAgaWYgKHRoaXMuX2NvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpXG4gICAgfVxuICB9XG59XG4iLCJjb25zdCBtYXAgPSB7XG4gIFwiJlwiOiBcIiZhbXA7XCIsXG4gIFwiPFwiOiBcIiZsdDtcIixcbiAgXCI+XCI6IFwiJmd0O1wiLFxuICAnXCInOiBcIiZxdW90O1wiLFxuICBcIidcIjogXCImIzAzOTtcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHtcbiAgICByZXR1cm4gbWFwW21dXG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihieXRlcykge1xuICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpICsgXCIgR0JcIlxuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkgKyBcIiBNQlwiXG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvIDEwMjQpICsgXCIgS0JcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMpICsgXCIgQlwiXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kU2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKENvbXBvbmVudCwgcm9vdEVsZW1lbnRJZCwgY29ubmVjdGVkID0gdHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKVxuXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz5cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+e2ZpbmFsQ29tcG9uZW50fTwvUHJvdmlkZXI+LFxuXG4gICAgICAgIHJvb3RFbGVtZW50XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpXG4gICAgfVxuICB9XG59XG4iLCJjbGFzcyBPcmRlcmVkTGlzdCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZVxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW11cbiAgfVxuXG4gIGFkZChrZXksIGl0ZW0sIG9yZGVyKSB7XG4gICAgdGhpcy5faXRlbXMucHVzaCh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGl0ZW06IGl0ZW0sXG5cbiAgICAgIGFmdGVyOiBvcmRlciA/IG9yZGVyLmFmdGVyIHx8IG51bGwgOiBudWxsLFxuICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgIH0pXG4gIH1cblxuICBnZXQoa2V5LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9pdGVtc1tpXS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbaV0uaXRlbVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWRcbiAgfVxuXG4gIHZhbHVlcygpIHtcbiAgICB2YXIgdmFsdWVzID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzXG4gIH1cblxuICBvcmRlcih2YWx1ZXNfb25seSkge1xuICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5fb3JkZXIodGhpcy5faXRlbXMpXG4gICAgICB0aGlzLmlzT3JkZXJlZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAodmFsdWVzX29ubHkgfHwgdHlwZW9mIHZhbHVlc19vbmx5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXNcbiAgICB9XG4gIH1cblxuICBvcmRlcmVkVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpXG4gIH1cblxuICBfb3JkZXIodW5vcmRlcmVkKSB7XG4gICAgLy8gSW5kZXggb2YgdW5vcmRlcmVkIGl0ZW1zXG4gICAgdmFyIGluZGV4ID0gW11cbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KVxuICAgIH0pXG5cbiAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgdmFyIG9yZGVyZWQgPSBbXVxuICAgIHZhciBvcmRlcmluZyA9IFtdXG5cbiAgICAvLyBGaXJzdCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3BlY2lmeSB0aGVpciBvcmRlclxuICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgb3JkZXJlZC5wdXNoKGl0ZW0pXG4gICAgICAgIG9yZGVyaW5nLnB1c2goaXRlbS5rZXkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFNlY29uZCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5iZWZvcmUgPT09IFwiX2VuZFwiKSB7XG4gICAgICAgIG9yZGVyZWQucHVzaChpdGVtKVxuICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgIC8vIHVudGlsIHdlIGhpdCBpdGVyYXRpb25zIGxpbWl0IG9yIGZpbmlzaFxuICAgIC8vIG9yZGVyaW5nIGxpc3RcbiAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgIHZhciBpbnNlcnRBdCA9IC0xXG4gICAgICBpZiAob3JkZXJpbmcuaW5kZXhPZihpdGVtLmtleSkgPT09IC0xKSB7XG4gICAgICAgIGlmIChpdGVtLmFmdGVyKSB7XG4gICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgaW5zZXJ0QXQgKz0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmJlZm9yZSkge1xuICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnNlcnRBdCAhPT0gLTEpIHtcbiAgICAgICAgICBvcmRlcmVkLnNwbGljZShpbnNlcnRBdCwgMCwgaXRlbSlcbiAgICAgICAgICBvcmRlcmluZy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0ua2V5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAyMDBcbiAgICB3aGlsZSAoaXRlcmF0aW9ucyA+IDAgJiYgaW5kZXgubGVuZ3RoICE9PSBvcmRlcmluZy5sZW5ndGgpIHtcbiAgICAgIGl0ZXJhdGlvbnMgLT0gMVxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSlcbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXJlZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0XG4iLCJleHBvcnQgZnVuY3Rpb24gaW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShtaW4sIG1heCkge1xuICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoaW50KG1pbiwgbWF4KSlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gaVxuICB9XG5cbiAgcmV0dXJuIGFycmF5XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7IFJvdXRlciwgYnJvd3Nlckhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9ucykge1xuICBsZXQgcm91dGVzID0ge1xuICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbCxcbiAgICBjaGlsZFJvdXRlczogW11cbiAgfVxuXG4gIGlmIChvcHRpb25zLnJvb3QpIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdGg6IG9wdGlvbnMucm9vdCxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24obmV4dFN0YXRlLCByZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgICByZXBsYWNlU3RhdGUobnVsbCwgb3B0aW9ucy5wYXRoc1swXS5wYXRoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocylcbiAgfSBlbHNlIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBvcHRpb25zLnBhdGhzXG4gIH1cblxuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgIDxSb3V0ZXIgcm91dGVzPXtyb3V0ZXN9IGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fSAvPlxuICAgIDwvUHJvdmlkZXI+LFxuICAgIHJvb3RFbGVtZW50XG4gIClcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpXG4gICAgY29weS5wdXNoKHZhbHVlKVxuICAgIHJldHVybiBjb3B5XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKVxuICAgIGNvcHkucHVzaCh2YWx1ZSlcbiAgICByZXR1cm4gY29weVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGkgIT09IHZhbHVlXG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcpIHtcbiAgc3RyaW5nID0gKHN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcbiAgc3ViU3RyaW5nID0gKHN1YlN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMFxuXG4gIGxldCBuID0gMFxuICBsZXQgcG9zID0gMFxuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGhcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKHN1YlN0cmluZywgcG9zKVxuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgbiArPSAxXG4gICAgICBwb3MgKz0gc3RlcFxuICAgIH0gZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuXG59XG4iLCJjb25zdCBFTUFJTCA9IC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaVxuY29uc3QgVVNFUk5BTUUgPSBuZXcgUmVnRXhwKFwiXlswLTlhLXpdKyRcIiwgXCJpXCIpXG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IGdldHRleHQoXCJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLlwiKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWRUZXJtc09mU2VydmljZShtZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gZ2V0dGV4dChcIllvdSBoYXZlIHRvIGFjY2VwdCB0aGUgdGVybXMgb2Ygc2VydmljZS5cIilcbiAgcmV0dXJuIHJlcXVpcmVkKG1lc3NhZ2UgfHwgZXJyb3IpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZFByaXZhY3lQb2xpY3kobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IGdldHRleHQoXCJZb3UgaGF2ZSB0byBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5LlwiKVxuICByZXR1cm4gcmVxdWlyZWQobWVzc2FnZSB8fCBlcnJvcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYWlsKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFFTUFJTC50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2UgfHwgZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkxlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gXCJcIlxuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIGxpbWl0VmFsdWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICByZXR1cm5NZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gXCJcIlxuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA+IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBtb3N0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbW9zdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBsaW1pdFZhbHVlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgcmV0dXJuTWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1pbkxlbmd0aChsZW5ndGhNaW4pIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNaW4pIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICBsZW5ndGhNaW5cbiAgICApXG4gIH1cbiAgcmV0dXJuIG1pbkxlbmd0aChsZW5ndGhNaW4sIG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1heExlbmd0aChsZW5ndGhNYXgpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNYXgpIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyLlwiLFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMuXCIsXG4gICAgICBsZW5ndGhNYXhcbiAgICApXG4gIH1cbiAgcmV0dXJuIG1heExlbmd0aChsZW5ndGhNYXgsIG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZUNvbnRlbnQoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghVVNFUk5BTUUudGVzdCgkLnRyaW0odmFsdWUpKSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBsYXRpbiBhbHBoYWJldCBsZXR0ZXJzIGFuZCBkaWdpdHMuXCJcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkTWluTGVuZ3RoKGxpbWl0VmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdmFsdWUubGVuZ3RoXG5cbiAgICBpZiAobGVuZ3RoIDwgbGltaXRWYWx1ZSkge1xuICAgICAgY29uc3QgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIHJldHVybk1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl19
