(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if (typeof module !== 'undefined' && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {
		// register as 'classnames', consistent with npm package name
		define('classnames', [], function () {
			return classNames;
		});
	} else {
		window.classNames = classNames;
	}
}());

},{}],2:[function(require,module,exports){
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.marked = factory());
}(this, (function () { 'use strict';

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _unsupportedIterableToArray(o, minLen) {
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray(o, minLen);
    var n = Object.prototype.toString.call(o).slice(8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return Array.from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
  }

  function _arrayLikeToArray(arr, len) {
    if (len == null || len > arr.length) len = arr.length;

    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];

    return arr2;
  }

  function _createForOfIteratorHelperLoose(o) {
    var i = 0;

    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }

    i = o[Symbol.iterator]();
    return i.next.bind(i);
  }

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var defaults = createCommonjsModule(function (module) {
    function getDefaults() {
      return {
        baseUrl: null,
        breaks: false,
        gfm: true,
        headerIds: true,
        headerPrefix: '',
        highlight: null,
        langPrefix: 'language-',
        mangle: true,
        pedantic: false,
        renderer: null,
        sanitize: false,
        sanitizer: null,
        silent: false,
        smartLists: false,
        smartypants: false,
        tokenizer: null,
        walkTokens: null,
        xhtml: false
      };
    }

    function changeDefaults(newDefaults) {
      module.exports.defaults = newDefaults;
    }

    module.exports = {
      defaults: getDefaults(),
      getDefaults: getDefaults,
      changeDefaults: changeDefaults
    };
  });
  var defaults_1 = defaults.defaults;
  var defaults_2 = defaults.getDefaults;
  var defaults_3 = defaults.changeDefaults;

  /**
   * Helpers
   */
  var escapeTest = /[&<>"']/;
  var escapeReplace = /[&<>"']/g;
  var escapeTestNoEncode = /[<>"']|&(?!#?\w+;)/;
  var escapeReplaceNoEncode = /[<>"']|&(?!#?\w+;)/g;
  var escapeReplacements = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#39;'
  };

  var getEscapeReplacement = function getEscapeReplacement(ch) {
    return escapeReplacements[ch];
  };

  function escape(html, encode) {
    if (encode) {
      if (escapeTest.test(html)) {
        return html.replace(escapeReplace, getEscapeReplacement);
      }
    } else {
      if (escapeTestNoEncode.test(html)) {
        return html.replace(escapeReplaceNoEncode, getEscapeReplacement);
      }
    }

    return html;
  }

  var unescapeTest = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;

  function unescape(html) {
    // explicitly match decimal, hex, and named HTML entities
    return html.replace(unescapeTest, function (_, n) {
      n = n.toLowerCase();
      if (n === 'colon') return ':';

      if (n.charAt(0) === '#') {
        return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));
      }

      return '';
    });
  }

  var caret = /(^|[^\[])\^/g;

  function edit(regex, opt) {
    regex = regex.source || regex;
    opt = opt || '';
    var obj = {
      replace: function replace(name, val) {
        val = val.source || val;
        val = val.replace(caret, '$1');
        regex = regex.replace(name, val);
        return obj;
      },
      getRegex: function getRegex() {
        return new RegExp(regex, opt);
      }
    };
    return obj;
  }

  var nonWordAndColonTest = /[^\w:]/g;
  var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;

  function cleanUrl(sanitize, base, href) {
    if (sanitize) {
      var prot;

      try {
        prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();
      } catch (e) {
        return null;
      }

      if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {
        return null;
      }
    }

    if (base && !originIndependentUrl.test(href)) {
      href = resolveUrl(base, href);
    }

    try {
      href = encodeURI(href).replace(/%25/g, '%');
    } catch (e) {
      return null;
    }

    return href;
  }

  var baseUrls = {};
  var justDomain = /^[^:]+:\/*[^/]*$/;
  var protocol = /^([^:]+:)[\s\S]*$/;
  var domain = /^([^:]+:\/*[^/]*)[\s\S]*$/;

  function resolveUrl(base, href) {
    if (!baseUrls[' ' + base]) {
      // we can ignore everything in base after the last slash of its path component,
      // but we might need to add _that_
      // https://tools.ietf.org/html/rfc3986#section-3
      if (justDomain.test(base)) {
        baseUrls[' ' + base] = base + '/';
      } else {
        baseUrls[' ' + base] = rtrim(base, '/', true);
      }
    }

    base = baseUrls[' ' + base];
    var relativeBase = base.indexOf(':') === -1;

    if (href.substring(0, 2) === '//') {
      if (relativeBase) {
        return href;
      }

      return base.replace(protocol, '$1') + href;
    } else if (href.charAt(0) === '/') {
      if (relativeBase) {
        return href;
      }

      return base.replace(domain, '$1') + href;
    } else {
      return base + href;
    }
  }

  var noopTest = {
    exec: function noopTest() {}
  };

  function merge(obj) {
    var i = 1,
        target,
        key;

    for (; i < arguments.length; i++) {
      target = arguments[i];

      for (key in target) {
        if (Object.prototype.hasOwnProperty.call(target, key)) {
          obj[key] = target[key];
        }
      }
    }

    return obj;
  }

  function splitCells(tableRow, count) {
    // ensure that every cell-delimiting pipe has a space
    // before it to distinguish it from an escaped pipe
    var row = tableRow.replace(/\|/g, function (match, offset, str) {
      var escaped = false,
          curr = offset;

      while (--curr >= 0 && str[curr] === '\\') {
        escaped = !escaped;
      }

      if (escaped) {
        // odd number of slashes means | is escaped
        // so we leave it alone
        return '|';
      } else {
        // add space before unescaped |
        return ' |';
      }
    }),
        cells = row.split(/ \|/);
    var i = 0;

    if (cells.length > count) {
      cells.splice(count);
    } else {
      while (cells.length < count) {
        cells.push('');
      }
    }

    for (; i < cells.length; i++) {
      // leading or trailing whitespace is ignored per the gfm spec
      cells[i] = cells[i].trim().replace(/\\\|/g, '|');
    }

    return cells;
  } // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').
  // /c*$/ is vulnerable to REDOS.
  // invert: Remove suffix of non-c chars instead. Default falsey.


  function rtrim(str, c, invert) {
    var l = str.length;

    if (l === 0) {
      return '';
    } // Length of suffix matching the invert condition.


    var suffLen = 0; // Step left until we fail to match the invert condition.

    while (suffLen < l) {
      var currChar = str.charAt(l - suffLen - 1);

      if (currChar === c && !invert) {
        suffLen++;
      } else if (currChar !== c && invert) {
        suffLen++;
      } else {
        break;
      }
    }

    return str.substr(0, l - suffLen);
  }

  function findClosingBracket(str, b) {
    if (str.indexOf(b[1]) === -1) {
      return -1;
    }

    var l = str.length;
    var level = 0,
        i = 0;

    for (; i < l; i++) {
      if (str[i] === '\\') {
        i++;
      } else if (str[i] === b[0]) {
        level++;
      } else if (str[i] === b[1]) {
        level--;

        if (level < 0) {
          return i;
        }
      }
    }

    return -1;
  }

  function checkSanitizeDeprecation(opt) {
    if (opt && opt.sanitize && !opt.silent) {
      console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');
    }
  }

  var helpers = {
    escape: escape,
    unescape: unescape,
    edit: edit,
    cleanUrl: cleanUrl,
    resolveUrl: resolveUrl,
    noopTest: noopTest,
    merge: merge,
    splitCells: splitCells,
    rtrim: rtrim,
    findClosingBracket: findClosingBracket,
    checkSanitizeDeprecation: checkSanitizeDeprecation
  };

  var defaults$1 = defaults.defaults;
  var rtrim$1 = helpers.rtrim,
      splitCells$1 = helpers.splitCells,
      _escape = helpers.escape,
      findClosingBracket$1 = helpers.findClosingBracket;

  function outputLink(cap, link, raw) {
    var href = link.href;
    var title = link.title ? _escape(link.title) : null;

    if (cap[0].charAt(0) !== '!') {
      return {
        type: 'link',
        raw: raw,
        href: href,
        title: title,
        text: cap[1]
      };
    } else {
      return {
        type: 'image',
        raw: raw,
        text: _escape(cap[1]),
        href: href,
        title: title
      };
    }
  }

  function indentCodeCompensation(raw, text) {
    var matchIndentToCode = raw.match(/^(\s+)(?:```)/);

    if (matchIndentToCode === null) {
      return text;
    }

    var indentToCode = matchIndentToCode[1];
    return text.split('\n').map(function (node) {
      var matchIndentInNode = node.match(/^\s+/);

      if (matchIndentInNode === null) {
        return node;
      }

      var indentInNode = matchIndentInNode[0];

      if (indentInNode.length >= indentToCode.length) {
        return node.slice(indentToCode.length);
      }

      return node;
    }).join('\n');
  }
  /**
   * Tokenizer
   */


  var Tokenizer_1 = /*#__PURE__*/function () {
    function Tokenizer(options) {
      this.options = options || defaults$1;
    }

    var _proto = Tokenizer.prototype;

    _proto.space = function space(src) {
      var cap = this.rules.block.newline.exec(src);

      if (cap) {
        if (cap[0].length > 1) {
          return {
            type: 'space',
            raw: cap[0]
          };
        }

        return {
          raw: '\n'
        };
      }
    };

    _proto.code = function code(src, tokens) {
      var cap = this.rules.block.code.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.

        if (lastToken && lastToken.type === 'paragraph') {
          return {
            raw: cap[0],
            text: cap[0].trimRight()
          };
        }

        var text = cap[0].replace(/^ {4}/gm, '');
        return {
          type: 'code',
          raw: cap[0],
          codeBlockStyle: 'indented',
          text: !this.options.pedantic ? rtrim$1(text, '\n') : text
        };
      }
    };

    _proto.fences = function fences(src) {
      var cap = this.rules.block.fences.exec(src);

      if (cap) {
        var raw = cap[0];
        var text = indentCodeCompensation(raw, cap[3] || '');
        return {
          type: 'code',
          raw: raw,
          lang: cap[2] ? cap[2].trim() : cap[2],
          text: text
        };
      }
    };

    _proto.heading = function heading(src) {
      var cap = this.rules.block.heading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[1].length,
          text: cap[2]
        };
      }
    };

    _proto.nptable = function nptable(src) {
      var cap = this.rules.block.nptable.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : [],
          raw: cap[0]
        };

        if (item.header.length === item.align.length) {
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i], item.header.length);
          }

          return item;
        }
      }
    };

    _proto.hr = function hr(src) {
      var cap = this.rules.block.hr.exec(src);

      if (cap) {
        return {
          type: 'hr',
          raw: cap[0]
        };
      }
    };

    _proto.blockquote = function blockquote(src) {
      var cap = this.rules.block.blockquote.exec(src);

      if (cap) {
        var text = cap[0].replace(/^ *> ?/gm, '');
        return {
          type: 'blockquote',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.list = function list(src) {
      var cap = this.rules.block.list.exec(src);

      if (cap) {
        var raw = cap[0];
        var bull = cap[2];
        var isordered = bull.length > 1;
        var list = {
          type: 'list',
          raw: raw,
          ordered: isordered,
          start: isordered ? +bull : '',
          loose: false,
          items: []
        }; // Get each top-level item.

        var itemMatch = cap[0].match(this.rules.block.item);
        var next = false,
            item,
            space,
            b,
            addBack,
            loose,
            istask,
            ischecked;
        var l = itemMatch.length;

        for (var i = 0; i < l; i++) {
          item = itemMatch[i];
          raw = item; // Remove the list item's bullet
          // so it is seen as the next token.

          space = item.length;
          item = item.replace(/^ *([*+-]|\d+\.) */, ''); // Outdent whatever the
          // list item contains. Hacky.

          if (~item.indexOf('\n ')) {
            space -= item.length;
            item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
          } // Determine whether the next list item belongs here.
          // Backpedal if it does not belong in this list.


          if (i !== l - 1) {
            b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];

            if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {
              addBack = itemMatch.slice(i + 1).join('\n');
              list.raw = list.raw.substring(0, list.raw.length - addBack.length);
              i = l - 1;
            }
          } // Determine whether item is loose or not.
          // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
          // for discount behavior.


          loose = next || /\n\n(?!\s*$)/.test(item);

          if (i !== l - 1) {
            next = item.charAt(item.length - 1) === '\n';
            if (!loose) loose = next;
          }

          if (loose) {
            list.loose = true;
          } // Check for task list items


          istask = /^\[[ xX]\] /.test(item);
          ischecked = undefined;

          if (istask) {
            ischecked = item[1] !== ' ';
            item = item.replace(/^\[[ xX]\] +/, '');
          }

          list.items.push({
            type: 'list_item',
            raw: raw,
            task: istask,
            checked: ischecked,
            loose: loose,
            text: item
          });
        }

        return list;
      }
    };

    _proto.html = function html(src) {
      var cap = this.rules.block.html.exec(src);

      if (cap) {
        return {
          type: this.options.sanitize ? 'paragraph' : 'html',
          raw: cap[0],
          pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.def = function def(src) {
      var cap = this.rules.block.def.exec(src);

      if (cap) {
        if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);
        var tag = cap[1].toLowerCase().replace(/\s+/g, ' ');
        return {
          tag: tag,
          raw: cap[0],
          href: cap[2],
          title: cap[3]
        };
      }
    };

    _proto.table = function table(src) {
      var cap = this.rules.block.table.exec(src);

      if (cap) {
        var item = {
          type: 'table',
          header: splitCells$1(cap[1].replace(/^ *| *\| *$/g, '')),
          align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
          cells: cap[3] ? cap[3].replace(/\n$/, '').split('\n') : []
        };

        if (item.header.length === item.align.length) {
          item.raw = cap[0];
          var l = item.align.length;
          var i;

          for (i = 0; i < l; i++) {
            if (/^ *-+: *$/.test(item.align[i])) {
              item.align[i] = 'right';
            } else if (/^ *:-+: *$/.test(item.align[i])) {
              item.align[i] = 'center';
            } else if (/^ *:-+ *$/.test(item.align[i])) {
              item.align[i] = 'left';
            } else {
              item.align[i] = null;
            }
          }

          l = item.cells.length;

          for (i = 0; i < l; i++) {
            item.cells[i] = splitCells$1(item.cells[i].replace(/^ *\| *| *\| *$/g, ''), item.header.length);
          }

          return item;
        }
      }
    };

    _proto.lheading = function lheading(src) {
      var cap = this.rules.block.lheading.exec(src);

      if (cap) {
        return {
          type: 'heading',
          raw: cap[0],
          depth: cap[2].charAt(0) === '=' ? 1 : 2,
          text: cap[1]
        };
      }
    };

    _proto.paragraph = function paragraph(src) {
      var cap = this.rules.block.paragraph.exec(src);

      if (cap) {
        return {
          type: 'paragraph',
          raw: cap[0],
          text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
        };
      }
    };

    _proto.text = function text(src, tokens) {
      var cap = this.rules.block.text.exec(src);

      if (cap) {
        var lastToken = tokens[tokens.length - 1];

        if (lastToken && lastToken.type === 'text') {
          return {
            raw: cap[0],
            text: cap[0]
          };
        }

        return {
          type: 'text',
          raw: cap[0],
          text: cap[0]
        };
      }
    };

    _proto.escape = function escape(src) {
      var cap = this.rules.inline.escape.exec(src);

      if (cap) {
        return {
          type: 'escape',
          raw: cap[0],
          text: _escape(cap[1])
        };
      }
    };

    _proto.tag = function tag(src, inLink, inRawBlock) {
      var cap = this.rules.inline.tag.exec(src);

      if (cap) {
        if (!inLink && /^<a /i.test(cap[0])) {
          inLink = true;
        } else if (inLink && /^<\/a>/i.test(cap[0])) {
          inLink = false;
        }

        if (!inRawBlock && /^<(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = true;
        } else if (inRawBlock && /^<\/(pre|code|kbd|script)(\s|>)/i.test(cap[0])) {
          inRawBlock = false;
        }

        return {
          type: this.options.sanitize ? 'text' : 'html',
          raw: cap[0],
          inLink: inLink,
          inRawBlock: inRawBlock,
          text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0]
        };
      }
    };

    _proto.link = function link(src) {
      var cap = this.rules.inline.link.exec(src);

      if (cap) {
        var lastParenIndex = findClosingBracket$1(cap[2], '()');

        if (lastParenIndex > -1) {
          var start = cap[0].indexOf('!') === 0 ? 5 : 4;
          var linkLen = start + cap[1].length + lastParenIndex;
          cap[2] = cap[2].substring(0, lastParenIndex);
          cap[0] = cap[0].substring(0, linkLen).trim();
          cap[3] = '';
        }

        var href = cap[2];
        var title = '';

        if (this.options.pedantic) {
          var link = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(href);

          if (link) {
            href = link[1];
            title = link[3];
          } else {
            title = '';
          }
        } else {
          title = cap[3] ? cap[3].slice(1, -1) : '';
        }

        href = href.trim().replace(/^<([\s\S]*)>$/, '$1');
        var token = outputLink(cap, {
          href: href ? href.replace(this.rules.inline._escapes, '$1') : href,
          title: title ? title.replace(this.rules.inline._escapes, '$1') : title
        }, cap[0]);
        return token;
      }
    };

    _proto.reflink = function reflink(src, links) {
      var cap;

      if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {
        var link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
        link = links[link.toLowerCase()];

        if (!link || !link.href) {
          var text = cap[0].charAt(0);
          return {
            type: 'text',
            raw: text,
            text: text
          };
        }

        var token = outputLink(cap, link, cap[0]);
        return token;
      }
    };

    _proto.strong = function strong(src) {
      var cap = this.rules.inline.strong.exec(src);

      if (cap) {
        return {
          type: 'strong',
          raw: cap[0],
          text: cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.em = function em(src) {
      var cap = this.rules.inline.em.exec(src);

      if (cap) {
        return {
          type: 'em',
          raw: cap[0],
          text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]
        };
      }
    };

    _proto.codespan = function codespan(src) {
      var cap = this.rules.inline.code.exec(src);

      if (cap) {
        var text = cap[2].replace(/\n/g, ' ');
        var hasNonSpaceChars = /[^ ]/.test(text);
        var hasSpaceCharsOnBothEnds = text.startsWith(' ') && text.endsWith(' ');

        if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {
          text = text.substring(1, text.length - 1);
        }

        text = _escape(text, true);
        return {
          type: 'codespan',
          raw: cap[0],
          text: text
        };
      }
    };

    _proto.br = function br(src) {
      var cap = this.rules.inline.br.exec(src);

      if (cap) {
        return {
          type: 'br',
          raw: cap[0]
        };
      }
    };

    _proto.del = function del(src) {
      var cap = this.rules.inline.del.exec(src);

      if (cap) {
        return {
          type: 'del',
          raw: cap[0],
          text: cap[1]
        };
      }
    };

    _proto.autolink = function autolink(src, mangle) {
      var cap = this.rules.inline.autolink.exec(src);

      if (cap) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[1]) : cap[1]);
          href = 'mailto:' + text;
        } else {
          text = _escape(cap[1]);
          href = text;
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.url = function url(src, mangle) {
      var cap;

      if (cap = this.rules.inline.url.exec(src)) {
        var text, href;

        if (cap[2] === '@') {
          text = _escape(this.options.mangle ? mangle(cap[0]) : cap[0]);
          href = 'mailto:' + text;
        } else {
          // do extended autolink path validation
          var prevCapZero;

          do {
            prevCapZero = cap[0];
            cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];
          } while (prevCapZero !== cap[0]);

          text = _escape(cap[0]);

          if (cap[1] === 'www.') {
            href = 'http://' + text;
          } else {
            href = text;
          }
        }

        return {
          type: 'link',
          raw: cap[0],
          text: text,
          href: href,
          tokens: [{
            type: 'text',
            raw: text,
            text: text
          }]
        };
      }
    };

    _proto.inlineText = function inlineText(src, inRawBlock, smartypants) {
      var cap = this.rules.inline.text.exec(src);

      if (cap) {
        var text;

        if (inRawBlock) {
          text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : _escape(cap[0]) : cap[0];
        } else {
          text = _escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);
        }

        return {
          type: 'text',
          raw: cap[0],
          text: text
        };
      }
    };

    return Tokenizer;
  }();

  var noopTest$1 = helpers.noopTest,
      edit$1 = helpers.edit,
      merge$1 = helpers.merge;
  /**
   * Block-Level Grammar
   */

  var block = {
    newline: /^\n+/,
    code: /^( {4}[^\n]+\n*)+/,
    fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
    hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
    heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
    blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
    list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
    html: '^ {0,3}(?:' // optional indentation
    + '<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)' // (1)
    + '|comment[^\\n]*(\\n+|$)' // (2)
    + '|<\\?[\\s\\S]*?\\?>\\n*' // (3)
    + '|<![A-Z][\\s\\S]*?>\\n*' // (4)
    + '|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*' // (5)
    + '|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)' // (6)
    + '|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) open tag
    + '|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)' // (7) closing tag
    + ')',
    def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
    nptable: noopTest$1,
    table: noopTest$1,
    lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
    // regex template, placeholders will be replaced according to different paragraph
    // interruption rules of commonmark and the original markdown spec:
    _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
    text: /^[^\n]+/
  };
  block._label = /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;
  block._title = /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;
  block.def = edit$1(block.def).replace('label', block._label).replace('title', block._title).getRegex();
  block.bullet = /(?:[*+-]|\d{1,9}\.)/;
  block.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/;
  block.item = edit$1(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();
  block.list = edit$1(block.list).replace(/bull/g, block.bullet).replace('hr', '\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))').replace('def', '\\n+(?=' + block.def.source + ')').getRegex();
  block._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';
  block._comment = /<!--(?!-?>)[\s\S]*?-->/;
  block.html = edit$1(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();
  block.paragraph = edit$1(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs
  .replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks
  .getRegex();
  block.blockquote = edit$1(block.blockquote).replace('paragraph', block.paragraph).getRegex();
  /**
   * Normal Block Grammar
   */

  block.normal = merge$1({}, block);
  /**
   * GFM Block Grammar
   */

  block.gfm = merge$1({}, block.normal, {
    nptable: '^ *([^|\\n ].*\\|.*)\\n' // Header
    + ' *([-:]+ *\\|[-| :]*)' // Align
    + '(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)',
    // Cells
    table: '^ *\\|(.+)\\n' // Header
    + ' *\\|?( *[-:]+[-| :]*)' // Align
    + '(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)' // Cells

  });
  block.gfm.nptable = edit$1(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  block.gfm.table = edit$1(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt
  .replace('html', '</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks
  .getRegex();
  /**
   * Pedantic grammar (original John Gruber's loose markdown specification)
   */

  block.pedantic = merge$1({}, block.normal, {
    html: edit$1('^ *(?:comment *(?:\\n|\\s*$)' + '|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)' // closed tag
    + '|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\b)\\w+(?!:|[^\\w\\s@]*@)\\b').getRegex(),
    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
    heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
    fences: noopTest$1,
    // fences not supported
    paragraph: edit$1(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()
  });
  /**
   * Inline-Level Grammar
   */

  var inline = {
    escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
    url: noopTest$1,
    tag: '^comment' + '|^</[a-zA-Z][\\w:-]*\\s*>' // self-closing tag
    + '|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>' // open tag
    + '|^<\\?[\\s\\S]*?\\?>' // processing instruction, e.g. <?php ?>
    + '|^<![a-zA-Z]+\\s[\\s\\S]*?>' // declaration, e.g. <!DOCTYPE html>
    + '|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>',
    // CDATA section
    link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
    reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
    nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
    strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
    em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,
    code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
    br: /^( {2,}|\\)\n(?!\s*$)/,
    del: noopTest$1,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/
  }; // list of punctuation marks from common mark spec
  // without ` and ] to workaround Rule 17 (inline code blocks/links)
  // without , to work around example 393

  inline._punctuation = '!"#$%&\'()*+\\-./:;<=>?@\\[^_{|}~';
  inline.em = edit$1(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();
  inline._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;
  inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;
  inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
  inline.autolink = edit$1(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();
  inline._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;
  inline.tag = edit$1(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();
  inline._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
  inline._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/;
  inline._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;
  inline.link = edit$1(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();
  inline.reflink = edit$1(inline.reflink).replace('label', inline._label).getRegex();
  /**
   * Normal Inline Grammar
   */

  inline.normal = merge$1({}, inline);
  /**
   * Pedantic Inline Grammar
   */

  inline.pedantic = merge$1({}, inline.normal, {
    strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
    em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
    link: edit$1(/^!?\[(label)\]\((.*?)\)/).replace('label', inline._label).getRegex(),
    reflink: edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace('label', inline._label).getRegex()
  });
  /**
   * GFM Inline Grammar
   */

  inline.gfm = merge$1({}, inline.normal, {
    escape: edit$1(inline.escape).replace('])', '~|])').getRegex(),
    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
    del: /^~+(?=\S)([\s\S]*?\S)~+/,
    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
  });
  inline.gfm.url = edit$1(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();
  /**
   * GFM + Line Breaks Inline Grammar
   */

  inline.breaks = merge$1({}, inline.gfm, {
    br: edit$1(inline.br).replace('{2,}', '*').getRegex(),
    text: edit$1(inline.gfm.text).replace('\\b_', '\\b_| {2,}\\n').replace(/\{2,\}/g, '*').getRegex()
  });
  var rules = {
    block: block,
    inline: inline
  };

  var defaults$2 = defaults.defaults;
  var block$1 = rules.block,
      inline$1 = rules.inline;
  /**
   * smartypants text replacement
   */

  function smartypants(text) {
    return text // em-dashes
    .replace(/---/g, "\u2014") // en-dashes
    .replace(/--/g, "\u2013") // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018") // closing singles & apostrophes
    .replace(/'/g, "\u2019") // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201C") // closing doubles
    .replace(/"/g, "\u201D") // ellipses
    .replace(/\.{3}/g, "\u2026");
  }
  /**
   * mangle email addresses
   */


  function mangle(text) {
    var out = '',
        i,
        ch;
    var l = text.length;

    for (i = 0; i < l; i++) {
      ch = text.charCodeAt(i);

      if (Math.random() > 0.5) {
        ch = 'x' + ch.toString(16);
      }

      out += '&#' + ch + ';';
    }

    return out;
  }
  /**
   * Block Lexer
   */


  var Lexer_1 = /*#__PURE__*/function () {
    function Lexer(options) {
      this.tokens = [];
      this.tokens.links = Object.create(null);
      this.options = options || defaults$2;
      this.options.tokenizer = this.options.tokenizer || new Tokenizer_1();
      this.tokenizer = this.options.tokenizer;
      this.tokenizer.options = this.options;
      var rules = {
        block: block$1.normal,
        inline: inline$1.normal
      };

      if (this.options.pedantic) {
        rules.block = block$1.pedantic;
        rules.inline = inline$1.pedantic;
      } else if (this.options.gfm) {
        rules.block = block$1.gfm;

        if (this.options.breaks) {
          rules.inline = inline$1.breaks;
        } else {
          rules.inline = inline$1.gfm;
        }
      }

      this.tokenizer.rules = rules;
    }
    /**
     * Expose Rules
     */


    /**
     * Static Lex Method
     */
    Lexer.lex = function lex(src, options) {
      var lexer = new Lexer(options);
      return lexer.lex(src);
    }
    /**
     * Preprocessing
     */
    ;

    var _proto = Lexer.prototype;

    _proto.lex = function lex(src) {
      src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ');
      this.blockTokens(src, this.tokens, true);
      this.inline(this.tokens);
      return this.tokens;
    }
    /**
     * Lexing
     */
    ;

    _proto.blockTokens = function blockTokens(src, tokens, top) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (top === void 0) {
        top = true;
      }

      src = src.replace(/^ +$/gm, '');
      var token, i, l, lastToken;

      while (src) {
        // newline
        if (token = this.tokenizer.space(src)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          }

          continue;
        } // code


        if (token = this.tokenizer.code(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        } // fences


        if (token = this.tokenizer.fences(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // heading


        if (token = this.tokenizer.heading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // table no leading pipe (gfm)


        if (token = this.tokenizer.nptable(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // hr


        if (token = this.tokenizer.hr(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // blockquote


        if (token = this.tokenizer.blockquote(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.blockTokens(token.text, [], top);
          tokens.push(token);
          continue;
        } // list


        if (token = this.tokenizer.list(src)) {
          src = src.substring(token.raw.length);
          l = token.items.length;

          for (i = 0; i < l; i++) {
            token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);
          }

          tokens.push(token);
          continue;
        } // html


        if (token = this.tokenizer.html(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // def


        if (top && (token = this.tokenizer.def(src))) {
          src = src.substring(token.raw.length);

          if (!this.tokens.links[token.tag]) {
            this.tokens.links[token.tag] = {
              href: token.href,
              title: token.title
            };
          }

          continue;
        } // table (gfm)


        if (token = this.tokenizer.table(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // lheading


        if (token = this.tokenizer.lheading(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // top-level paragraph


        if (top && (token = this.tokenizer.paragraph(src))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.text(src, tokens)) {
          src = src.substring(token.raw.length);

          if (token.type) {
            tokens.push(token);
          } else {
            lastToken = tokens[tokens.length - 1];
            lastToken.raw += '\n' + token.raw;
            lastToken.text += '\n' + token.text;
          }

          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _proto.inline = function inline(tokens) {
      var i, j, k, l2, row, token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'paragraph':
          case 'text':
          case 'heading':
            {
              token.tokens = [];
              this.inlineTokens(token.text, token.tokens);
              break;
            }

          case 'table':
            {
              token.tokens = {
                header: [],
                cells: []
              }; // header

              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                token.tokens.header[j] = [];
                this.inlineTokens(token.header[j], token.tokens.header[j]);
              } // cells


              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.cells[j];
                token.tokens.cells[j] = [];

                for (k = 0; k < row.length; k++) {
                  token.tokens.cells[j][k] = [];
                  this.inlineTokens(row[k], token.tokens.cells[j][k]);
                }
              }

              break;
            }

          case 'blockquote':
            {
              this.inline(token.tokens);
              break;
            }

          case 'list':
            {
              l2 = token.items.length;

              for (j = 0; j < l2; j++) {
                this.inline(token.items[j].tokens);
              }

              break;
            }
        }
      }

      return tokens;
    }
    /**
     * Lexing/Compiling
     */
    ;

    _proto.inlineTokens = function inlineTokens(src, tokens, inLink, inRawBlock) {
      if (tokens === void 0) {
        tokens = [];
      }

      if (inLink === void 0) {
        inLink = false;
      }

      if (inRawBlock === void 0) {
        inRawBlock = false;
      }

      var token;

      while (src) {
        // escape
        if (token = this.tokenizer.escape(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // tag


        if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {
          src = src.substring(token.raw.length);
          inLink = token.inLink;
          inRawBlock = token.inRawBlock;
          tokens.push(token);
          continue;
        } // link


        if (token = this.tokenizer.link(src)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // reflink, nolink


        if (token = this.tokenizer.reflink(src, this.tokens.links)) {
          src = src.substring(token.raw.length);

          if (token.type === 'link') {
            token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);
          }

          tokens.push(token);
          continue;
        } // strong


        if (token = this.tokenizer.strong(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // em


        if (token = this.tokenizer.em(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // code


        if (token = this.tokenizer.codespan(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // br


        if (token = this.tokenizer.br(src)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // del (gfm)


        if (token = this.tokenizer.del(src)) {
          src = src.substring(token.raw.length);
          token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);
          tokens.push(token);
          continue;
        } // autolink


        if (token = this.tokenizer.autolink(src, mangle)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // url (gfm)


        if (!inLink && (token = this.tokenizer.url(src, mangle))) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        } // text


        if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {
          src = src.substring(token.raw.length);
          tokens.push(token);
          continue;
        }

        if (src) {
          var errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);

          if (this.options.silent) {
            console.error(errMsg);
            break;
          } else {
            throw new Error(errMsg);
          }
        }
      }

      return tokens;
    };

    _createClass(Lexer, null, [{
      key: "rules",
      get: function get() {
        return {
          block: block$1,
          inline: inline$1
        };
      }
    }]);

    return Lexer;
  }();

  var defaults$3 = defaults.defaults;
  var cleanUrl$1 = helpers.cleanUrl,
      escape$1 = helpers.escape;
  /**
   * Renderer
   */

  var Renderer_1 = /*#__PURE__*/function () {
    function Renderer(options) {
      this.options = options || defaults$3;
    }

    var _proto = Renderer.prototype;

    _proto.code = function code(_code, infostring, escaped) {
      var lang = (infostring || '').match(/\S*/)[0];

      if (this.options.highlight) {
        var out = this.options.highlight(_code, lang);

        if (out != null && out !== _code) {
          escaped = true;
          _code = out;
        }
      }

      if (!lang) {
        return '<pre><code>' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
      }

      return '<pre><code class="' + this.options.langPrefix + escape$1(lang, true) + '">' + (escaped ? _code : escape$1(_code, true)) + '</code></pre>\n';
    };

    _proto.blockquote = function blockquote(quote) {
      return '<blockquote>\n' + quote + '</blockquote>\n';
    };

    _proto.html = function html(_html) {
      return _html;
    };

    _proto.heading = function heading(text, level, raw, slugger) {
      if (this.options.headerIds) {
        return '<h' + level + ' id="' + this.options.headerPrefix + slugger.slug(raw) + '">' + text + '</h' + level + '>\n';
      } // ignore IDs


      return '<h' + level + '>' + text + '</h' + level + '>\n';
    };

    _proto.hr = function hr() {
      return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
    };

    _proto.list = function list(body, ordered, start) {
      var type = ordered ? 'ol' : 'ul',
          startatt = ordered && start !== 1 ? ' start="' + start + '"' : '';
      return '<' + type + startatt + '>\n' + body + '</' + type + '>\n';
    };

    _proto.listitem = function listitem(text) {
      return '<li>' + text + '</li>\n';
    };

    _proto.checkbox = function checkbox(checked) {
      return '<input ' + (checked ? 'checked="" ' : '') + 'disabled="" type="checkbox"' + (this.options.xhtml ? ' /' : '') + '> ';
    };

    _proto.paragraph = function paragraph(text) {
      return '<p>' + text + '</p>\n';
    };

    _proto.table = function table(header, body) {
      if (body) body = '<tbody>' + body + '</tbody>';
      return '<table>\n' + '<thead>\n' + header + '</thead>\n' + body + '</table>\n';
    };

    _proto.tablerow = function tablerow(content) {
      return '<tr>\n' + content + '</tr>\n';
    };

    _proto.tablecell = function tablecell(content, flags) {
      var type = flags.header ? 'th' : 'td';
      var tag = flags.align ? '<' + type + ' align="' + flags.align + '">' : '<' + type + '>';
      return tag + content + '</' + type + '>\n';
    } // span level renderer
    ;

    _proto.strong = function strong(text) {
      return '<strong>' + text + '</strong>';
    };

    _proto.em = function em(text) {
      return '<em>' + text + '</em>';
    };

    _proto.codespan = function codespan(text) {
      return '<code>' + text + '</code>';
    };

    _proto.br = function br() {
      return this.options.xhtml ? '<br/>' : '<br>';
    };

    _proto.del = function del(text) {
      return '<del>' + text + '</del>';
    };

    _proto.link = function link(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<a href="' + escape$1(href) + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += '>' + text + '</a>';
      return out;
    };

    _proto.image = function image(href, title, text) {
      href = cleanUrl$1(this.options.sanitize, this.options.baseUrl, href);

      if (href === null) {
        return text;
      }

      var out = '<img src="' + href + '" alt="' + text + '"';

      if (title) {
        out += ' title="' + title + '"';
      }

      out += this.options.xhtml ? '/>' : '>';
      return out;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    return Renderer;
  }();

  /**
   * TextRenderer
   * returns only the textual part of the token
   */
  var TextRenderer_1 = /*#__PURE__*/function () {
    function TextRenderer() {}

    var _proto = TextRenderer.prototype;

    // no need for block level renderers
    _proto.strong = function strong(text) {
      return text;
    };

    _proto.em = function em(text) {
      return text;
    };

    _proto.codespan = function codespan(text) {
      return text;
    };

    _proto.del = function del(text) {
      return text;
    };

    _proto.html = function html(text) {
      return text;
    };

    _proto.text = function text(_text) {
      return _text;
    };

    _proto.link = function link(href, title, text) {
      return '' + text;
    };

    _proto.image = function image(href, title, text) {
      return '' + text;
    };

    _proto.br = function br() {
      return '';
    };

    return TextRenderer;
  }();

  /**
   * Slugger generates header id
   */
  var Slugger_1 = /*#__PURE__*/function () {
    function Slugger() {
      this.seen = {};
    }
    /**
     * Convert string to unique id
     */


    var _proto = Slugger.prototype;

    _proto.slug = function slug(value) {
      var slug = value.toLowerCase().trim() // remove html tags
      .replace(/<[!\/a-z].*?>/ig, '') // remove unwanted chars
      .replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, '').replace(/\s/g, '-');

      if (this.seen.hasOwnProperty(slug)) {
        var originalSlug = slug;

        do {
          this.seen[originalSlug]++;
          slug = originalSlug + '-' + this.seen[originalSlug];
        } while (this.seen.hasOwnProperty(slug));
      }

      this.seen[slug] = 0;
      return slug;
    };

    return Slugger;
  }();

  var defaults$4 = defaults.defaults;
  var unescape$1 = helpers.unescape;
  /**
   * Parsing & Compiling
   */

  var Parser_1 = /*#__PURE__*/function () {
    function Parser(options) {
      this.options = options || defaults$4;
      this.options.renderer = this.options.renderer || new Renderer_1();
      this.renderer = this.options.renderer;
      this.renderer.options = this.options;
      this.textRenderer = new TextRenderer_1();
      this.slugger = new Slugger_1();
    }
    /**
     * Static Parse Method
     */


    Parser.parse = function parse(tokens, options) {
      var parser = new Parser(options);
      return parser.parse(tokens);
    }
    /**
     * Parse Loop
     */
    ;

    var _proto = Parser.prototype;

    _proto.parse = function parse(tokens, top) {
      if (top === void 0) {
        top = true;
      }

      var out = '',
          i,
          j,
          k,
          l2,
          l3,
          row,
          cell,
          header,
          body,
          token,
          ordered,
          start,
          loose,
          itemBody,
          item,
          checked,
          task,
          checkbox;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'space':
            {
              continue;
            }

          case 'hr':
            {
              out += this.renderer.hr();
              continue;
            }

          case 'heading':
            {
              out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape$1(this.parseInline(token.tokens, this.textRenderer)), this.slugger);
              continue;
            }

          case 'code':
            {
              out += this.renderer.code(token.text, token.lang, token.escaped);
              continue;
            }

          case 'table':
            {
              header = ''; // header

              cell = '';
              l2 = token.header.length;

              for (j = 0; j < l2; j++) {
                cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {
                  header: true,
                  align: token.align[j]
                });
              }

              header += this.renderer.tablerow(cell);
              body = '';
              l2 = token.cells.length;

              for (j = 0; j < l2; j++) {
                row = token.tokens.cells[j];
                cell = '';
                l3 = row.length;

                for (k = 0; k < l3; k++) {
                  cell += this.renderer.tablecell(this.parseInline(row[k]), {
                    header: false,
                    align: token.align[k]
                  });
                }

                body += this.renderer.tablerow(cell);
              }

              out += this.renderer.table(header, body);
              continue;
            }

          case 'blockquote':
            {
              body = this.parse(token.tokens);
              out += this.renderer.blockquote(body);
              continue;
            }

          case 'list':
            {
              ordered = token.ordered;
              start = token.start;
              loose = token.loose;
              l2 = token.items.length;
              body = '';

              for (j = 0; j < l2; j++) {
                item = token.items[j];
                checked = item.checked;
                task = item.task;
                itemBody = '';

                if (item.task) {
                  checkbox = this.renderer.checkbox(checked);

                  if (loose) {
                    if (item.tokens.length > 0 && item.tokens[0].type === 'text') {
                      item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;

                      if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {
                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;
                      }
                    } else {
                      item.tokens.unshift({
                        type: 'text',
                        text: checkbox
                      });
                    }
                  } else {
                    itemBody += checkbox;
                  }
                }

                itemBody += this.parse(item.tokens, loose);
                body += this.renderer.listitem(itemBody, task, checked);
              }

              out += this.renderer.list(body, ordered, start);
              continue;
            }

          case 'html':
            {
              // TODO parse inline content if parameter markdown=1
              out += this.renderer.html(token.text);
              continue;
            }

          case 'paragraph':
            {
              out += this.renderer.paragraph(this.parseInline(token.tokens));
              continue;
            }

          case 'text':
            {
              body = token.tokens ? this.parseInline(token.tokens) : token.text;

              while (i + 1 < l && tokens[i + 1].type === 'text') {
                token = tokens[++i];
                body += '\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);
              }

              out += top ? this.renderer.paragraph(body) : body;
              continue;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    }
    /**
     * Parse Inline Tokens
     */
    ;

    _proto.parseInline = function parseInline(tokens, renderer) {
      renderer = renderer || this.renderer;
      var out = '',
          i,
          token;
      var l = tokens.length;

      for (i = 0; i < l; i++) {
        token = tokens[i];

        switch (token.type) {
          case 'escape':
            {
              out += renderer.text(token.text);
              break;
            }

          case 'html':
            {
              out += renderer.html(token.text);
              break;
            }

          case 'link':
            {
              out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));
              break;
            }

          case 'image':
            {
              out += renderer.image(token.href, token.title, token.text);
              break;
            }

          case 'strong':
            {
              out += renderer.strong(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'em':
            {
              out += renderer.em(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'codespan':
            {
              out += renderer.codespan(token.text);
              break;
            }

          case 'br':
            {
              out += renderer.br();
              break;
            }

          case 'del':
            {
              out += renderer.del(this.parseInline(token.tokens, renderer));
              break;
            }

          case 'text':
            {
              out += renderer.text(token.text);
              break;
            }

          default:
            {
              var errMsg = 'Token with "' + token.type + '" type was not found.';

              if (this.options.silent) {
                console.error(errMsg);
                return;
              } else {
                throw new Error(errMsg);
              }
            }
        }
      }

      return out;
    };

    return Parser;
  }();

  var merge$2 = helpers.merge,
      checkSanitizeDeprecation$1 = helpers.checkSanitizeDeprecation,
      escape$2 = helpers.escape;
  var getDefaults = defaults.getDefaults,
      changeDefaults = defaults.changeDefaults,
      defaults$5 = defaults.defaults;
  /**
   * Marked
   */

  function marked(src, opt, callback) {
    // throw error in case of non string input
    if (typeof src === 'undefined' || src === null) {
      throw new Error('marked(): input parameter is undefined or null');
    }

    if (typeof src !== 'string') {
      throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');
    }

    if (typeof opt === 'function') {
      callback = opt;
      opt = null;
    }

    opt = merge$2({}, marked.defaults, opt || {});
    checkSanitizeDeprecation$1(opt);

    if (callback) {
      var highlight = opt.highlight;
      var tokens;

      try {
        tokens = Lexer_1.lex(src, opt);
      } catch (e) {
        return callback(e);
      }

      var done = function done(err) {
        var out;

        if (!err) {
          try {
            out = Parser_1.parse(tokens, opt);
          } catch (e) {
            err = e;
          }
        }

        opt.highlight = highlight;
        return err ? callback(err) : callback(null, out);
      };

      if (!highlight || highlight.length < 3) {
        return done();
      }

      delete opt.highlight;
      if (!tokens.length) return done();
      var pending = 0;
      marked.walkTokens(tokens, function (token) {
        if (token.type === 'code') {
          pending++;
          highlight(token.text, token.lang, function (err, code) {
            if (err) {
              return done(err);
            }

            if (code != null && code !== token.text) {
              token.text = code;
              token.escaped = true;
            }

            pending--;

            if (pending === 0) {
              done();
            }
          });
        }
      });

      if (pending === 0) {
        done();
      }

      return;
    }

    try {
      var _tokens = Lexer_1.lex(src, opt);

      if (opt.walkTokens) {
        marked.walkTokens(_tokens, opt.walkTokens);
      }

      return Parser_1.parse(_tokens, opt);
    } catch (e) {
      e.message += '\nPlease report this to https://github.com/markedjs/marked.';

      if (opt.silent) {
        return '<p>An error occurred:</p><pre>' + escape$2(e.message + '', true) + '</pre>';
      }

      throw e;
    }
  }
  /**
   * Options
   */


  marked.options = marked.setOptions = function (opt) {
    merge$2(marked.defaults, opt);
    changeDefaults(marked.defaults);
    return marked;
  };

  marked.getDefaults = getDefaults;
  marked.defaults = defaults$5;
  /**
   * Use Extension
   */

  marked.use = function (extension) {
    var opts = merge$2({}, extension);

    if (extension.renderer) {
      (function () {
        var renderer = marked.defaults.renderer || new Renderer_1();

        var _loop = function _loop(prop) {
          var prevRenderer = renderer[prop];

          renderer[prop] = function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            var ret = extension.renderer[prop].apply(renderer, args);

            if (ret === false) {
              ret = prevRenderer.apply(renderer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.renderer) {
          _loop(prop);
        }

        opts.renderer = renderer;
      })();
    }

    if (extension.tokenizer) {
      (function () {
        var tokenizer = marked.defaults.tokenizer || new Tokenizer_1();

        var _loop2 = function _loop2(prop) {
          var prevTokenizer = tokenizer[prop];

          tokenizer[prop] = function () {
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }

            var ret = extension.tokenizer[prop].apply(tokenizer, args);

            if (ret === false) {
              ret = prevTokenizer.apply(tokenizer, args);
            }

            return ret;
          };
        };

        for (var prop in extension.tokenizer) {
          _loop2(prop);
        }

        opts.tokenizer = tokenizer;
      })();
    }

    if (extension.walkTokens) {
      var walkTokens = marked.defaults.walkTokens;

      opts.walkTokens = function (token) {
        extension.walkTokens(token);

        if (walkTokens) {
          walkTokens(token);
        }
      };
    }

    marked.setOptions(opts);
  };
  /**
   * Run callback for every token
   */


  marked.walkTokens = function (tokens, callback) {
    for (var _iterator = _createForOfIteratorHelperLoose(tokens), _step; !(_step = _iterator()).done;) {
      var token = _step.value;
      callback(token);

      switch (token.type) {
        case 'table':
          {
            for (var _iterator2 = _createForOfIteratorHelperLoose(token.tokens.header), _step2; !(_step2 = _iterator2()).done;) {
              var cell = _step2.value;
              marked.walkTokens(cell, callback);
            }

            for (var _iterator3 = _createForOfIteratorHelperLoose(token.tokens.cells), _step3; !(_step3 = _iterator3()).done;) {
              var row = _step3.value;

              for (var _iterator4 = _createForOfIteratorHelperLoose(row), _step4; !(_step4 = _iterator4()).done;) {
                var _cell = _step4.value;
                marked.walkTokens(_cell, callback);
              }
            }

            break;
          }

        case 'list':
          {
            marked.walkTokens(token.items, callback);
            break;
          }

        default:
          {
            if (token.tokens) {
              marked.walkTokens(token.tokens, callback);
            }
          }
      }
    }
  };
  /**
   * Expose
   */


  marked.Parser = Parser_1;
  marked.parser = Parser_1.parse;
  marked.Renderer = Renderer_1;
  marked.TextRenderer = TextRenderer_1;
  marked.Lexer = Lexer_1;
  marked.lexer = Lexer_1.lex;
  marked.Tokenizer = Tokenizer_1;
  marked.Slugger = Slugger_1;
  marked.parse = marked;
  var marked_1 = marked;

  return marked_1;

})));

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _escapeHtml = _interopRequireDefault(require("../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>';

var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
      privacyPolicy = props.privacyPolicy,
      termsOfService = props.termsOfService,
      onPrivacyPolicyChange = props.onPrivacyPolicyChange,
      onTermsOfServiceChange = props.onTermsOfServiceChange;

  var termsOfServiceId = _.default.get("TERMS_OF_SERVICE_ID");

  var termsOfServiceUrl = _.default.get("TERMS_OF_SERVICE_URL");

  var privacyPolicyId = _.default.get("PRIVACY_POLICY_ID");

  var privacyPolicyUrl = _.default.get("PRIVACY_POLICY_URL");

  if (!termsOfServiceId && !privacyPolicyId) return null;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the terms of service"),
    checked: termsOfService !== null,
    errors: errors.termsOfService,
    url: termsOfServiceUrl,
    value: termsOfServiceId,
    onChange: onTermsOfServiceChange
  }), /*#__PURE__*/_react.default.createElement(LegalAgreement, {
    agreement: gettext("the privacy policy"),
    checked: privacyPolicy !== null,
    errors: errors.privacyPolicy,
    url: privacyPolicyUrl,
    value: privacyPolicyId,
    onChange: onPrivacyPolicyChange
  }));
};

var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
      checked = props.checked,
      errors = props.errors,
      url = props.url,
      value = props.value,
      onChange = props.onChange;
  if (!url) return null;
  var agreementHtml = interpolate(AGREEMENT_URL, {
    agreement: (0, _escapeHtml.default)(agreement),
    url: (0, _escapeHtml.default)(url)
  }, true);
  var label = interpolate(gettext("I have read and accept %(agreement)s."), {
    agreement: agreementHtml
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "checkbox legal-footnote"
  }, /*#__PURE__*/_react.default.createElement("label", null, /*#__PURE__*/_react.default.createElement("input", {
    checked: checked,
    type: "checkbox",
    value: value,
    onChange: onChange
  }), /*#__PURE__*/_react.default.createElement("span", {
    dangerouslySetInnerHTML: {
      __html: label
    }
  })), errors && errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "help-block errors",
      key: i
    }, error);
  }));
};

var _default = RegisterLegalFootnote;
exports.default = _default;

},{"../utils/escape-html":380,"./..":298,"react":"react"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
      buttonLabel = props.buttonLabel,
      formLabel = props.formLabel,
      header = props.header,
      labelClassName = props.labelClassName;

  var socialAuth = _.default.get("SOCIAL_AUTH");

  if (socialAuth.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group form-social-auth"
  }, /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: header
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, socialAuth.map(function (_ref) {
    var id = _ref.id,
        name = _ref.name,
        button_text = _ref.button_text,
        button_color = _ref.button_color,
        url = _ref.url;
    var className = "btn btn-block btn-default btn-social-" + id;
    var style = button_color ? {
      color: button_color
    } : null;
    var finalButtonLabel = button_text || interpolate(buttonLabel, {
      site: name
    }, true);
    return /*#__PURE__*/_react.default.createElement("div", {
      className: buttonClassName || "col-xs-12",
      key: id
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      style: style,
      href: url
    }, finalButtonLabel));
  })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(FormHeader, {
    className: labelClassName,
    text: formLabel
  }));
};

var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
      text = _ref2.text;
  if (!text) return null;
  return /*#__PURE__*/_react.default.createElement("h5", {
    className: className || ""
  }, text);
};

var _default = StartSocialAuth;
exports.default = _default;

},{"./..":298,"react":"react"}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var AcceptAgreement = /*#__PURE__*/function (_React$Component) {
  _inherits(AcceptAgreement, _React$Component);

  var _super = _createSuper(AcceptAgreement);

  function AcceptAgreement(props) {
    var _this;

    _classCallCheck(this, AcceptAgreement);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleDecline", function () {
      if (_this.state.submiting) return;
      var confirmation = confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: false
      }).then(function () {
        location.reload(true);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleAccept", function () {
      if (_this.state.submiting) return;

      _this.setState({
        submiting: true
      });

      _ajax.default.post(_this.props.api, {
        accept: true
      }).then(function () {
        location.reload(true);
      });
    });

    _this.state = {
      submiting: false
    };
    return _this;
  }

  _createClass(AcceptAgreement, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleDecline
      }, gettext("Decline")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        disabled: this.state.submiting,
        type: "buton",
        onClick: this.handleAccept
      }, gettext("Accept and continue")));
    }
  }]);

  return AcceptAgreement;
}(_react.default.Component);

exports.default = AcceptAgreement;

},{"../services/ajax":361,"react":"react"}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var participants = _interopRequireWildcard(require("../reducers/participants"));

var _thread = require("../reducers/thread");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUsernameChange", function (event) {
      _this.changeValue("username", event.target.value);
    });

    _this.state = {
      isLoading: false,
      username: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar.default.error(gettext("You have to enter user name."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "add",
        path: "participants",
        value: this.state.username
      }, {
        op: "add",
        path: "acl",
        value: 1
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch((0, _thread.updateAcl)(data));

      _store.default.dispatch(participants.replace(data.participants));

      _snackbar.default.success(gettext("New participant has been added to thread."));

      _modal.default.hide();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("User to add")
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onUsernameChange,
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-primary",
        disabled: this.state.isLoading
      }, gettext("Add participant")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-block btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Add participant")));
}

},{"../reducers/participants":347,"../reducers/thread":356,"../services/ajax":361,"../services/modal":368,"../services/snackbar":373,"../services/store":374,"./form":52,"./form-group":51,"react":"react"}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), {
          username: this.props.signedIn.username
        }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), {
          username: this.props.user.username
        }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var className = "auth-message";

      if (this.props.signedIn || this.props.signedOut) {
        className += " show";
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        type: "button",
        onClick: this.refresh
      }, gettext("Reload page")), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs hidden-sm"
      }, " " + gettext("or press F5 key.")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;
  return /*#__PURE__*/_react.default.createElement("img", {
    alt: "",
    className: props.className || "user-avatar",
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
}

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _.default.get("BLANK_AVATAR_URL");
  }
}

function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"./..":298,"react":"react"}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getReasonMessage",
    value: function getReasonMessage() {
      if (this.props.message.html) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.props.message.html
          }
        });
      } else {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.props.message.plain);
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment.default)())) {
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.props.expires.format("LL, LT")
          }, true);
          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.props.expires.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-error page-error-banned"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "highlight_off")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, this.getReasonMessage(), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-footnote"
      }, this.getExpirationMessage())))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"moment":"moment","react":"react"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Button = /*#__PURE__*/function (_React$Component) {
  _inherits(Button, _React$Component);

  var _super = _createSuper(Button);

  function Button() {
    _classCallCheck(this, Button);

    return _super.apply(this, arguments);
  }

  _createClass(Button, [{
    key: "render",
    value: function render() {
      var className = "btn " + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += " btn-loading";
        disabled = true;
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: disabled,
        onClick: this.props.onClick,
        type: this.props.onClick ? "button" : "submit"
      }, this.props.children, this.props.loading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return Button;
}(_react.default.Component);

exports.default = Button;
Button.defaultProps = {
  className: "btn-default",
  type: "submit",
  loading: false,
  disabled: false,
  onClick: null
};

},{"./loader":54,"react":"react"}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item empty-message"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("No categories exist or you don't have permission to see them.")))));
}

},{"react":"react"}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var categories = _ref.categories;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "categories-list"
  }, categories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_category.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./category":13,"react":"react"}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "list-group list-group-category";

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_listItem.default, {
    category: category,
    isFirst: true
  }), category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      isFirst: false,
      key: category.id
    });
  }));
}

},{"./list-item":16,"react":"react"}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  if (!category.description) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
}

},{"react":"react"}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;
exports.getTitle = getTitle;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(category),
    title: getTitle(category)
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)));
}

function getClassName(category) {
  if (category.is_read) {
    return "read-status item-read";
  }

  return "read-status item-new";
}

function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }

    return gettext("This category has new posts. (closed)");
  }

  if (category.is_read) {
    return gettext("This category has no new posts.");
  }

  return gettext("This category has new posts.");
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _main = _interopRequireDefault(require("./main"));

var _lastThread = _interopRequireDefault(require("./last-thread"));

var _stats = _interopRequireDefault(require("./stats"));

var _subcategories = _interopRequireDefault(require("./subcategories"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  var className = "list-group-item";

  if (category.description) {
    className += " list-group-category-has-description";
  } else {
    className += " list-group-category-no-description";
  }

  if (isFirst) {
    className += " list-group-item-first";
  }

  if (category.css_class) {
    className += " list-group-category-has-flavor";
    className += " list-group-item-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_main.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_stats.default, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(_lastThread.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement(_subcategories.default, {
    category: category,
    isFirst: isFirst
  }));
}

},{"./last-thread":17,"./main":18,"./stats":19,"./subcategories":20,"react":"react"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LastThread = LastThread;
exports.LastPosterAvatar = LastPosterAvatar;
exports.LastPosterName = LastPosterName;
exports.Empty = Empty;
exports.Private = Private;
exports.Protected = Protected;
exports.Message = Message;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-4 category-last-thread"
  }, /*#__PURE__*/_react.default.createElement(LastThread, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Empty, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Private, {
    category: category
  }), /*#__PURE__*/_react.default.createElement(Protected, {
    category: category
  }));
}

function LastThread(_ref2) {
  var category = _ref2.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(LastPosterAvatar, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title thread-title",
    href: category.url.last_thread_new,
    title: category.last_thread_title
  }, category.last_thread_title)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-poster"
  }, /*#__PURE__*/_react.default.createElement(LastPosterName, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("li", {
    className: "divider"
  }, "\u2014"), /*#__PURE__*/_react.default.createElement("li", {
    className: "category-last-thread-date"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.last_post
  }, category.last_post_on.fromNow())))));
}

function LastPosterAvatar(_ref3) {
  var category = _ref3.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "last-poster-avatar",
      href: category.last_poster.url,
      title: category.last_poster_name
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      className: "media-object",
      size: 40,
      user: category.last_poster
    }));
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "last-poster-avatar",
    title: category.last_poster_name
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40
  }));
}

function LastPosterName(_ref4) {
  var category = _ref4.category;

  if (category.last_poster) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: category.last_poster.url
    }, category.last_poster_name);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, category.last_poster_name);
}

function Empty(_ref5) {
  var category = _ref5.category;
  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is empty. No threads were posted within it so far.")
  });
}

function Private(_ref6) {
  var category = _ref6.category;
  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}

function Protected(_ref7) {
  var category = _ref7.category;
  if (category.acl.can_browse) return null;
  return /*#__PURE__*/_react.default.createElement(Message, {
    message: gettext("This category is protected. You can't browse its contents.")
  });
}

function Message(_ref8) {
  var message = _ref8.message;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media category-thread-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, message)));
}

},{"../../../avatar":8,"react":"react"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _description = _interopRequireDefault(require("./description"));

var _icon = _interopRequireDefault(require("./icon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6 col-md-6 category-main"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, {
    category: category
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h4", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: category.url.index
  }, category.name)), /*#__PURE__*/_react.default.createElement(_description.default, {
    category: category
  }))));
}

},{"./description":14,"./icon":15,"react":"react"}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-2 hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled category-stats"
  }, /*#__PURE__*/_react.default.createElement(Threads, {
    threads: category.threads
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    posts: category.posts
  })));
}

function Threads(_ref2) {
  var threads = _ref2.threads;
  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-threads"
  }, interpolate(message, {
    threads: threads
  }, true));
}

function Posts(_ref3) {
  var posts = _ref3.posts;
  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "category-stat-posts"
  }, interpolate(message, {
    posts: posts
  }, true));
}

},{"../../../avatar":8,"react":"react"}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;
  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row subcategories-list"
  }, category.subcategories.map(function (category) {
    return /*#__PURE__*/_react.default.createElement(_listItem.default, {
      category: category,
      key: category.id
    });
  }));
}

},{"./list-item":21,"react":"react"}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category;
  var className = "btn btn-default btn-block btn-sm btn-subcategory";

  if (!category.is_read) {
    className += " btn-subcategory-new";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4 col-md-3"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(category)), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, category.name)));
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return "lock_outline";
    }

    return "lock";
  }

  if (category.is_read) {
    return "chat_bubble_outline";
  }

  return "chat_bubble";
}

},{"react":"react"}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _categoriesList = _interopRequireDefault(require("./categories-list"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    });

    _this.state = {
      categories: _.default.get("CATEGORIES").map(hydrate)
    };

    _this.startPolling(_.default.get("CATEGORIES_API"));

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "categories",
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var categories = this.state.categories;

      if (categories.length === 0) {
        return /*#__PURE__*/_react.default.createElement(_blankslate.default, null);
      }

      return /*#__PURE__*/_react.default.createElement(_categoriesList.default, {
        categories: categories
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick
  };
}

},{"../..":298,"../../services/polls":371,"./blankslate":11,"./categories-list":12,"moment":"moment","react":"react"}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("select", {
    className: props.className || "form-control",
    disabled: props.disabled || false,
    id: props.id || null,
    onChange: props.onChange,
    value: props.value
  }, props.choices.map(function (item) {
    return /*#__PURE__*/_react.default.createElement("option", {
      disabled: item.disabled || false,
      key: item.value,
      value: item.value
    }, "- - ".repeat(item.level) + item.label);
  }));
}

},{"react":"react"}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "cropAvatar", function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        isLoading: true
      });

      var avatarType = _this.props.upload ? "crop_tmp" : "crop_src";
      var cropit = $(".crop-form");
      var deviceRatio = cropit.cropit("exportZoom");
      var cropitOffset = cropit.cropit("offset");

      _ajax.default.post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit("zoom") * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);

        _snackbar.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarSize",
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: "getImagePath",
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $(".crop-form");
      var cropperWidth = this.getAvatarSize();
      var initialWidth = cropit.width();

      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;
      cropit.width(cropperWidth);
      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit("zoom");
            var imageSize = cropit.cropit("imageSize"); // is it wider than taller?

            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;
              cropit.cropit("offset", {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit("offset", {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit("zoom", crop.zoom);
              cropit.cropit("offset", {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      $(".crop-form").cropit("disable");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-crop"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "crop-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "cropit-preview"
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "range",
        className: "cropit-image-zoom-input"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.cropAvatar,
        loading: this.state.isLoading,
        className: "btn-primary btn-block"
      }, this.props.upload ? gettext("Set avatar") : gettext("Crop image")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":361,"../../services/snackbar":373,"../avatar":8,"../button":10,"react":"react"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Gallery = exports.GalleryItem = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _batch = _interopRequireDefault(require("../../utils/batch"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var GalleryItem = /*#__PURE__*/function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  var _super = _createSuper(GalleryItem);

  function GalleryItem() {
    var _this;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "select", function () {
      _this.props.select(_this.props.id);
    });

    return _this;
  }

  _createClass(GalleryItem, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return "btn btn-avatar btn-disabled avatar-selected";
        } else {
          return "btn btn-avatar avatar-selected";
        }
      } else if (this.props.disabled) {
        return "btn btn-avatar btn-disabled";
      } else {
        return "btn btn-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.select
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.props.url
      }));
    }
  }]);

  return GalleryItem;
}(_react.default.Component);

exports.GalleryItem = GalleryItem;

var Gallery = /*#__PURE__*/function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  var _super2 = _createSuper(Gallery);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _super2.apply(this, arguments);
  }

  _createClass(Gallery, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery"
      }, /*#__PURE__*/_react.default.createElement("h3", null, this.props.name), /*#__PURE__*/_react.default.createElement("div", {
        className: "avatars-gallery-images"
      }, (0, _batch.default)(this.props.images, 4, null).map(function (row, i) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "row",
          key: i
        }, row.map(function (item, i) {
          return /*#__PURE__*/_react.default.createElement("div", {
            className: "col-xs-3",
            key: i
          }, item ? /*#__PURE__*/_react.default.createElement(GalleryItem, _extends({
            disabled: _this2.props.disabled,
            select: _this2.props.select,
            selection: _this2.props.selection
          }, item)) : /*#__PURE__*/_react.default.createElement("div", {
            className: "blank-avatar"
          }));
        }));
      })));
    }
  }]);

  return Gallery;
}(_react.default.Component);

exports.Gallery = Gallery;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this3;

    _classCallCheck(this, _default);

    _this3 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "select", function (image) {
      _this3.setState({
        selection: image
      });
    });

    _defineProperty(_assertThisInitialized(_this3), "save", function () {
      if (_this3.state.isLoading) {
        return false;
      }

      _this3.setState({
        isLoading: true
      });

      _ajax.default.post(_this3.props.user.api.avatar, {
        avatar: "galleries",
        image: _this3.state.selection
      }).then(function (response) {
        _this3.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this3.props.onComplete(response);

        _this3.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this3.setState({
            isLoading: false
          });
        } else {
          _this3.props.showError(rejection);
        }
      });
    });

    _this3.state = {
      selection: null,
      isLoading: false
    };
    return _this3;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this4 = this;

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-gallery"
      }, this.props.options.galleries.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement(Gallery, {
          name: item.name,
          images: item.images,
          selection: _this4.state.selection,
          disabled: _this4.state.isLoading,
          select: _this4.select,
          key: i
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.save,
        loading: this.state.isLoading,
        disabled: !this.state.selection,
        className: "btn-primary btn-block"
      }, this.state.selection ? gettext("Save choice") : gettext("Select avatar")), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: this.state.isLoading,
        className: "btn-default btn-block"
      }, gettext("Cancel"))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../services/ajax":361,"../../services/snackbar":373,"../../utils/batch":377,"../avatar":8,"../button":10,"react":"react"}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _button = _interopRequireDefault(require("../button"));

var _loader = _interopRequireDefault(require("../loader"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setGravatar", function () {
      _this.callApi("gravatar");
    });

    _defineProperty(_assertThisInitialized(_this), "setGenerated", function () {
      _this.callApi("generated");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "callApi",
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        isLoading: true
      });

      _ajax.default.post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.success(response.detail);

        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail);

          _this2.setState({
            isLoading: false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }
  }, {
    key: "getGravatarButton",
    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        return /*#__PURE__*/_react.default.createElement(_button.default, {
          onClick: this.setGravatar,
          disabled: this.state.isLoading,
          className: "btn-default btn-block btn-avatar-gravatar"
        }, gettext("Download my Gravatar"));
      } else {
        return null;
      }
    }
  }, {
    key: "getCropButton",
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-crop",
        disabled: this.state.isLoading,
        onClick: this.props.showCrop
      }, gettext("Re-crop uploaded image"));
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-upload",
        disabled: this.state.isLoading,
        onClick: this.props.showUpload
      }, gettext("Upload new image"));
    }
  }, {
    key: "getGalleryButton",
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-block btn-avatar-gallery",
        disabled: this.state.isLoading,
        onClick: this.props.showGallery
      }, gettext("Pick avatar from gallery"));
    }
  }, {
    key: "getAvatarPreview",
    value: function getAvatarPreview() {
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };

      if (this.state.isLoading) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "avatar-preview preview-loading"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "200",
          user: userPeview
        }), /*#__PURE__*/_react.default.createElement(_loader.default, null));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "avatar-preview"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "200",
        user: userPeview
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-index"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-5"
      }, this.getAvatarPreview()), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-7"
      }, this.getGravatarButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.setGenerated,
        disabled: this.state.isLoading,
        className: "btn-default btn-block btn-avatar-generate"
      }, gettext("Generate my individual avatar")), this.getCropButton(), this.getUploadButton(), this.getGalleryButton())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":361,"../../services/snackbar":373,"../avatar":8,"../button":10,"../loader":54,"react":"react"}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = exports.ChangeAvatarError = void 0;

var _react = _interopRequireDefault(require("react"));

var _index = _interopRequireDefault(require("./index"));

var _crop = _interopRequireDefault(require("./crop"));

var _upload = _interopRequireDefault(require("./upload"));

var _gallery = _interopRequireDefault(require("./gallery"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ChangeAvatarError = /*#__PURE__*/function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  var _super = _createSuper(ChangeAvatarError);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _super.apply(this, arguments);
  }

  _createClass(ChangeAvatarError, [{
    key: "getErrorReason",
    value: function getErrorReason() {
      if (this.props.reason) {
        return /*#__PURE__*/_react.default.createElement("p", {
          dangerouslySetInnerHTML: {
            __html: this.props.reason
          }
        });
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "remove_circle_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getErrorReason(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return ChangeAvatarError;
}(_react.default.Component);

exports.ChangeAvatarError = ChangeAvatarError;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showError", function (error) {
      _this.setState({
        error: error
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showIndex", function () {
      _this.setState({
        component: _index.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showUpload", function () {
      _this.setState({
        component: _upload.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showCrop", function () {
      _this.setState({
        component: _crop.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showGallery", function () {
      _this.setState({
        component: _gallery.default
      });
    });

    _defineProperty(_assertThisInitialized(_this), "completeFlow", function (options) {
      _store.default.dispatch((0, _users.updateAvatar)(_this.props.user, options.avatars));

      _this.setState({
        component: _index.default,
        options: options
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.user.api.avatar).then(function (options) {
        _this2.setState({
          component: _index.default,
          options: options,
          error: null
        });
      }, function (rejection) {
        _this2.showError(rejection);
      });
    }
  }, {
    key: "getBody",
    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          return /*#__PURE__*/_react.default.createElement(ChangeAvatarError, {
            message: this.state.error.detail,
            reason: this.state.error.reason
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(this.state.component, {
            options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change your avatar"))), this.getBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function select(state) {
  return {
    user: state.auth.user
  };
}

},{"../../reducers/users":360,"../../services/ajax":361,"../../services/store":374,"../modal-loader":57,"./crop":24,"./gallery":25,"./index":26,"./upload":28,"react":"react"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _crop = _interopRequireDefault(require("./crop"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _fileSize = _interopRequireDefault(require("../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "pickFile", function () {
      document.getElementById("avatar-hidden-upload").click();
    });

    _defineProperty(_assertThisInitialized(_this), "uploadFile", function () {
      var image = document.getElementById("avatar-hidden-upload").files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);

      if (validationError) {
        _snackbar.default.error(validationError);

        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append("avatar", "upload");
      data.append("image", image);

      _ajax.default.upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar.default.error(rejection.detail);

          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    });

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "validateFile",
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          filesize: (0, _fileSize.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");

      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }
  }, {
    key: "getUploadRequirements",
    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });
      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        files: extensions.join(", "),
        limit: (0, _fileSize.default)(options.limit)
      }, true);
    }
  }, {
    key: "getUploadButton",
    value: function getUploadButton() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-pick-file",
        onClick: this.pickFile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "material-icon"
      }, "input"), gettext("Select file")), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-muted"
      }, this.getUploadRequirements(this.props.options.upload)));
    }
  }, {
    key: "getUploadProgressLabel",
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        progress: this.state.progress
      }, true);
    }
  }, {
    key: "getUploadProgress",
    value: function getUploadProgress() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-avatar-upload"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "upload-progress"
      }, /*#__PURE__*/_react.default.createElement("img", {
        src: this.state.preview
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar",
        role: "progressbar",
        "aria-valuenow": "{this.state.progress}",
        "aria-valuemin": "0",
        "aria-valuemax": "100",
        style: {
          width: this.state.progress + "%"
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, this.getUploadProgressLabel())))));
    }
  }, {
    key: "renderUpload",
    value: function renderUpload() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("input", {
        type: "file",
        id: "avatar-hidden-upload",
        className: "hidden-file-upload",
        onChange: this.uploadFile
      }), this.state.image ? this.getUploadProgress() : this.getUploadButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        onClick: this.props.showIndex,
        disabled: !!this.state.image,
        className: "btn-default btn-block"
      }, gettext("Cancel")))));
    }
  }, {
    key: "renderCrop",
    value: function renderCrop() {
      return /*#__PURE__*/_react.default.createElement(_crop.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.uploaded) return this.renderCrop();
      return this.renderUpload();
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/ajax":361,"../../services/snackbar":373,"../../utils/file-size":381,"../button":10,"./crop":24,"react":"react"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.getClassName(),
        type: "button",
        onClick: this.props.toggleNav,
        "aria-haspopup": "true",
        "aria-expanded": this.props.dropdown ? "true" : "false"
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "menu"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
}

},{"../panel-message":90,"react":"react"}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _select = _interopRequireDefault(require("../select"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var _this$props = _this.props,
          field = _this$props.field,
          onChange = _this$props.onChange;
      onChange(field.fieldname, ev.target.value);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          disabled = _this$props2.disabled,
          field = _this$props2.field,
          value = _this$props2.value;
      var input = field.input;

      if (input.type === "select") {
        return /*#__PURE__*/_react.default.createElement(_select.default, {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }

      if (input.type === "textarea") {
        return /*#__PURE__*/_react.default.createElement("textarea", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: "4",
          type: "text",
          value: value
        });
      }

      if (input.type === "text") {
        return /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: "text",
          value: value
        });
      }

      return null;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../select":206,"react":"react"}],32:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldInput = _interopRequireDefault(require("./field-input"));

var _formGroup = _interopRequireDefault(require("../form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var disabled = _ref.disabled,
      errors = _ref.errors,
      fields = _ref.fields,
      name = _ref.name,
      onChange = _ref.onChange,
      value = _ref.value;
  return /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, name), fields.map(function (field) {
    return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
      for: "id_" + field.fieldname,
      helpText: field.help_text,
      key: field.fieldname,
      label: field.label,
      validation: errors[field.fieldname]
    }, /*#__PURE__*/_react.default.createElement(_fieldInput.default, {
      disabled: disabled,
      field: field,
      onChange: onChange,
      value: value[field.fieldname]
    }));
  }));
}

},{"../form-group":51,"./field-input":31,"react":"react"}],33:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CancelButton = CancelButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _fieldset = _interopRequireDefault(require("./fieldset"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (name, value) {
      _this.setState(_defineProperty({}, name, value));
    });

    _this.state = {
      isLoading: false,
      errors: {}
    };
    var groups = props.groups.length;

    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;

      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }

    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: rejection
        });
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, this.props.groups.map(function (group, i) {
        return /*#__PURE__*/_react.default.createElement(_fieldset.default, {
          disabled: _this2.state.isLoading,
          errors: _this2.state.errors,
          fields: group.fields,
          name: group.name,
          key: i,
          onChange: _this2.onChange,
          value: _this2.state
        });
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(CancelButton, {
        disabled: this.state.isLoading,
        onCancel: this.props.onCancel
      }), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
      disabled = _ref.disabled;
  if (!onCancel) return null;
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    disabled: disabled,
    onClick: onCancel,
    type: "button"
  }, gettext("Cancel"));
}

},{"../../services/ajax":361,"../../services/snackbar":373,"../button":10,"../form":52,"./fieldset":32,"react":"react"}],34:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FormDisplay = FormDisplay;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _blankslate = _interopRequireDefault(require("./blankslate"));

var _loader = _interopRequireDefault(require("./loader"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,
          groups: groups
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          groups = _this$state.groups,
          loading = _this$state.loading;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Edit details"))), /*#__PURE__*/_react.default.createElement(_loader.default, {
        display: loading
      }), /*#__PURE__*/_react.default.createElement(_blankslate.default, {
        display: !loading && !groups.length
      }), /*#__PURE__*/_react.default.createElement(FormDisplay, {
        api: this.props.api,
        display: !loading && groups.length,
        groups: groups,
        onCancel: this.props.onCancel,
        onSuccess: this.props.onSuccess
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function FormDisplay(_ref) {
  var api = _ref.api,
      display = _ref.display,
      groups = _ref.groups,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_form.default, {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../services/ajax":361,"../../services/snackbar":373,"./blankslate":30,"./form":33,"./loader":35,"react":"react"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../loader":54,"react":"react"}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.replaceSelection(_this.props.execAction);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-icon " + this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: this.props.title,
        type: "button"
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.insertQuote = insertQuote;

var _react = _interopRequireDefault(require("react"));

var _action = _interopRequireDefault(require("./action"));

var _isUrl = _interopRequireDefault(require("../../../utils/is-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_action.default, _extends({
    execAction: insertQuote,
    title: gettext("Insert quote")
  }, props), /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "format_quote"));
}

function insertQuote(selection, replace) {
  var title = $.trim(prompt(gettext("Enter quote autor, prefix usernames with @") + ":", title));

  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + "\n[/quote]\n\n");
  } else {
    replace("\n\n[quote]\n" + selection + "\n[/quote]\n\n");
  }
}

},{"../../../utils/is-url":382,"./action":36,"react":"react"}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.insertSpoiler = insertSpoiler;

var _react = _interopRequireDefault(require("react"));

var _action = _interopRequireDefault(require("./action"));

var _isUrl = _interopRequireDefault(require("../../../utils/is-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_action.default, _extends({
    execAction: insertSpoiler,
    title: gettext("Insert spoiler")
  }, props), /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "not_interested"));
}

function insertSpoiler(selection, replace) {
  replace("\n\n[spoiler]\n" + selection + "\n[/spoiler]\n\n");
}

},{"../../../utils/is-url":382,"./action":36,"react":"react"}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onInsert", function () {
      _this.props.replaceSelection(_this.insertAttachment);
    });

    _defineProperty(_assertThisInitialized(_this), "insertAttachment", function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace("[![" + item.filename + "](" + item.url.thumb + ")](" + item.url.index + ")");
        } else {
          replace("[![" + item.filename + "](" + item.url.index + ")](" + item.url.index + ")");
        }
      } else {
        replace("[" + item.filename + "](" + item.url.index + ")");
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onRemove", function () {
      _this.updateItem({
        isRemoved: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUndo", function () {
      _this.updateItem({
        isRemoved: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateItem", function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });

      _this.props.onAttachmentsChange(updatedAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-complete"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement(Preview, this.props), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-details"
      }, /*#__PURE__*/_react.default.createElement(Filename, this.props), /*#__PURE__*/_react.default.createElement(Details, this.props))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top-half"
      }, /*#__PURE__*/_react.default.createElement(Actions, _extends({
        onInsert: this.onInsert,
        onRemove: this.onRemove,
        onUndo: this.onUndo
      }, this.props)))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Preview(props) {
  if (props.item.is_image) {
    return /*#__PURE__*/_react.default.createElement(Image, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-image"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.item.url.index + "?shva=1",
    style: {
      backgroundImage: "url('" + thumbnailUrl + "?shva=1')"
    },
    target: "_blank"
  }));
}

function Icon(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "insert_drive_file"));
}

function Filename(props) {
  return /*#__PURE__*/_react.default.createElement("h4", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: props.item.url.index + "?shva=1",
    target: "_blank"
  }, props.item.filename));
}

function Details(props) {
  var user = null;

  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.item.url.uploader),
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.item.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.item.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Actions(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-actions"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Insert, props), /*#__PURE__*/_react.default.createElement(Remove, props), /*#__PURE__*/_react.default.createElement(Undo, props)));
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onInsert,
    type: "button"
  }, gettext("Insert")));
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onRemove,
    type: "button"
  }, gettext("Remove")));
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-sm btn-block",
    onClick: props.onUndo,
    type: "button"
  }, gettext("Undo removal")));
}

},{"../../../..":298,"../../../../utils/escape-html":380,"../../../../utils/file-size":381,"react":"react"}],40:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STRONG = "<strong>%(name)s</strong>";

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });

      _this.props.onAttachmentsChange(filteredAttachments);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml.default)(this.props.item.filename)
      }, true);
      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + "%"
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "editor-attachment-error"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning")), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-attachment-error-message"
      }, /*#__PURE__*/_react.default.createElement("h4", {
        dangerouslySetInnerHTML: {
          __html: title + ":"
        }
      }), /*#__PURE__*/_react.default.createElement("p", null, this.props.item.error), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        onClick: this.onClick,
        type: "button"
      }, gettext("Dismiss"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../utils/escape-html":380,"react":"react"}],41:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _complete = _interopRequireDefault(require("./complete"));

var _error = _interopRequireDefault(require("./error"));

var _upload = _interopRequireDefault(require("./upload"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.item.id) {
    return /*#__PURE__*/_react.default.createElement(_complete.default, props);
  }

  if (props.item.error) {
    return /*#__PURE__*/_react.default.createElement(_error.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_upload.default, props);
}

},{"../../../..":298,"../../../../utils/escape-html":380,"./complete":39,"./error":40,"./upload":42,"react":"react"}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var STRONG = "<strong>%(name)s</strong>";

function _default(props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml.default)(props.item.filename)
  }, true);
  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + "%"
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "editor-attachment-upload"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress-bar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachment-progress",
    style: {
      width: props.item.progress + "%"
    }
  })), /*#__PURE__*/_react.default.createElement("p", {
    className: "editor-attachment-upload-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

},{"../../../../utils/escape-html":380,"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _list = _interopRequireDefault(require("./list"));

var _uploader = _interopRequireDefault(require("./uploader"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!_.default.get("user").acl.max_attachment_size) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "editor-attachments"
  }, /*#__PURE__*/_react.default.createElement(_list.default, props), /*#__PURE__*/_react.default.createElement(_uploader.default, props));
}

},{"../../..":298,"./list":44,"./uploader":46,"react":"react"}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled editor-attachments-list"
  }, props.attachments.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, _extends({
      item: item,
      key: item.id || item.key
    }, props));
  }));
}

},{"./attachment":41,"react":"react"}],45:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      document.getElementById("editor-upload-field").click();
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!_.default.get("user").acl.max_attachment_size) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.props.className,
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Upload file"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "file_upload"), " Upload file");
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"react":"react"}],46:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getRandomKey = getRandomKey;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      var file = event.target.files[0];

      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append("upload", file);

      _ajax.default.upload(_.default.get("ATTACHMENTS_API"), data, function (progress) {
        upload.progress = progress;

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment.default)(data.uploaded_on);
        Object.assign(upload, data);

        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;

          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("input", {
        id: "editor-upload-field",
        onChange: this.onChange,
        type: "file"
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getRandomKey() {
  return "upld-" + Math.round(new Date().getTime());
}

},{"../../..":298,"../../../services/ajax":361,"../../../services/snackbar":373,"moment":"moment","react":"react"}],47:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _classnames = _interopRequireDefault(require("classnames"));

var _uploadButton = _interopRequireDefault(require("../attachments/upload-button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      imgHidden: true,
      imgList: [],
      paraHidden: true,
      titleHidden: true,
      moreHidden: true,
      listHidden: true
    };
    return _this;
  }

  _createClass(_default, [{
    key: "onClickLeft",
    value: function onClickLeft(type) {
      this.props.onClickLeft(type);
    }
  }, {
    key: "onClickRight",
    value: function onClickRight(type) {
      this.props.onClickRight(type);
    }
  }, {
    key: "listMouseOver",
    value: function listMouseOver() {
      window.clearTimeout(this.listTimer);
      this.setState({
        listHidden: false
      });
    }
  }, {
    key: "listMouseOut",
    value: function listMouseOut() {
      var _this2 = this;

      this.listTimer = window.setTimeout(function () {
        _this2.setState({
          listHidden: true
        });
      }, 150);
    }
  }, {
    key: "paraMouseOver",
    value: function paraMouseOver() {
      window.clearTimeout(this.paraTimer);
      this.setState({
        paraHidden: false
      });
    }
  }, {
    key: "paraMouseOut",
    value: function paraMouseOut() {
      var _this3 = this;

      this.paraTimer = window.setTimeout(function () {
        _this3.setState({
          paraHidden: true
        });
      }, 150);
    }
  }, {
    key: "titleMouseOver",
    value: function titleMouseOver() {
      window.clearTimeout(this.titleTimer);
      this.setState({
        titleHidden: false
      });
    }
  }, {
    key: "titleMouseOut",
    value: function titleMouseOut() {
      var _this4 = this;

      this.titleTimer = window.setTimeout(function () {
        _this4.setState({
          titleHidden: true
        });
      }, 150);
    }
  }, {
    key: "moreMouseOver",
    value: function moreMouseOver() {
      window.clearTimeout(this.moreTimer);
      this.setState({
        moreHidden: false
      });
    }
  }, {
    key: "moreMouseOut",
    value: function moreMouseOut() {
      var _this5 = this;

      this.moreTimer = window.setTimeout(function () {
        _this5.setState({
          moreHidden: true
        });
      }, 150);
    }
  }, {
    key: "imgClick",
    value: function imgClick() {
      this.setState({
        imgHidden: !this.state.imgHidden
      });
    }
  }, {
    key: "imgMouseOver",
    value: function imgMouseOver() {
      window.clearTimeout(this.timer);
      this.setState({
        imgHidden: false
      });
    }
  }, {
    key: "imgMouseOut",
    value: function imgMouseOut() {
      var _this6 = this;

      this.timer = window.setTimeout(function () {
        _this6.setState({
          imgHidden: true
        });
      }, 150);
    }
  }, {
    key: "addImgUrl",
    value: function addImgUrl() {
      this.props.onClickLeft('img');
    }
  }, {
    key: "addImgFile",
    value: function addImgFile(e) {
      var imgList = this.state.imgList;
      var index = imgList.length;
      imgList.push(e.target.files[0]);
      this.setState({
        imgList: imgList
      });
      this.props.addImg(e.target.files[0], index);
      e.target.value = '';
    }
  }, {
    key: "render",
    value: function render() {
      var _this7 = this;

      var _this$state = this.state,
          imgHidden = _this$state.imgHidden,
          paraHidden = _this$state.paraHidden,
          titleHidden = _this$state.titleHidden,
          moreHidden = _this$state.moreHidden,
          listHidden = _this$state.listHidden;
      var _this$props = this.props,
          preview = _this$props.preview,
          expand = _this$props.expand,
          subfield = _this$props.subfield;
      var previewActive = (0, _classnames.default)({
        'k-active': preview
      });
      var expandActive = (0, _classnames.default)({
        'k-active': expand
      });
      var subfieldActive = (0, _classnames.default)({
        'k-active': subfield
      });
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "k-wrapper"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('underline');
        },
        title: "underline"
      }, "underline"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('superscript');
        },
        title: "superscript"
      }, "superscript"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('subscript');
        },
        title: "substrit"
      }, "subscript"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('undo');
        },
        title: "undo (ctrl+z)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "undo")), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('redo');
        },
        title: "redo (ctrl+y)"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "redo")), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-title",
        onMouseOver: function onMouseOver() {
          return _this7.titleMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.titleMouseOut();
        },
        onClick: function onClick() {
          return _this7.titleMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "title"), /*#__PURE__*/_react.default.createElement("ul", {
        style: titleHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h1');
        },
        title: "Header 1"
      }, "Header 1"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h2');
        },
        title: "Header 2"
      }, "Header 2"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h3');
        },
        title: "Header 3"
      }, "Header 3"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h4');
        },
        title: "Header 4"
      }, "Header 4"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h5');
        },
        title: "Header 5"
      }, "Header 5"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('h6');
        },
        title: "Header 6"
      }, "Header 6"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-para",
        onMouseOver: function onMouseOver() {
          return _this7.paraMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.paraMouseOut();
        },
        onClick: function onClick() {
          return _this7.paraMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "text_fields"), /*#__PURE__*/_react.default.createElement("ul", {
        style: paraHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('italic');
        },
        title: "italic"
      }, "italic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bold');
        },
        title: "bold"
      }, "bold"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('bolditalic');
        },
        title: "bolditalic"
      }, "bolditalic"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('delline');
        },
        title: "strike through"
      }, "strike through"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('underline');
        },
        title: "underline"
      }, "underline"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('superscript');
        },
        title: "superscript"
      }, "superscript"), /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.onClickLeft('subscript');
        },
        title: "substrit"
      }, "subscript"))), /*#__PURE__*/_react.default.createElement("li", {
        className: "k-toolbar-img",
        onMouseOver: function onMouseOver() {
          return _this7.imgMouseOver();
        },
        onMouseOut: function onMouseOut() {
          return _this7.imgMouseOut();
        },
        onClick: function onClick() {
          return _this7.imgMouseOut();
        }
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "perm_media"), /*#__PURE__*/_react.default.createElement("ul", {
        style: imgHidden ? {
          display: 'none'
        } : {}
      }, /*#__PURE__*/_react.default.createElement("li", {
        onClick: function onClick() {
          return _this7.addImgUrl();
        }
      }, "Insert image link"), /*#__PURE__*/_react.default.createElement(_uploadButton.default, {
        disable: this.props.loading
      }))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-pc"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")), /*#__PURE__*/_react.default.createElement("li", {
        className: subfieldActive,
        onClick: function onClick() {
          return _this7.onClickRight('subfield');
        },
        title: subfieldActive ? "Split preview" : "Merge split"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chrome_reader_mode")))), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-right-mobile"
      }, /*#__PURE__*/_react.default.createElement("ul", null, /*#__PURE__*/_react.default.createElement("li", {
        className: expandActive,
        onClick: function onClick() {
          return _this7.onClickRight('expand');
        },
        title: expandActive
      }, expandActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen_exit") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "fullscreen")), /*#__PURE__*/_react.default.createElement("li", {
        className: previewActive,
        onClick: function onClick() {
          return _this7.onClickRight('preview');
        },
        title: "preview"
      }, previewActive ? /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility") : /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off")))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../attachments/upload-button":45,"classnames":1,"react":"react"}],48:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Protect = Protect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _spoiler = _interopRequireDefault(require("./actions/spoiler"));

var _quote = _interopRequireDefault(require("./actions/quote"));

var _attachments = _interopRequireDefault(require("./attachments"));

var _uploadButton = _interopRequireDefault(require("./attachments/upload-button"));

var textUtils = _interopRequireWildcard(require("./textutils"));

var _button = _interopRequireDefault(require("../button"));

var _ = _interopRequireDefault(require("../.."));

var _classnames = _interopRequireDefault(require("classnames"));

var _marked = _interopRequireDefault(require("../../services/marked"));

var _toolbar = _interopRequireDefault(require("./components/toolbar"));

var _text = require("./utils/helper/text");

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "replaceSelection", function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    });

    _defineProperty(_assertThisInitialized(_this), "_replaceSelection", function (newValue) {
      _this.props.onChange(textUtils.replace(newValue));
    });

    _defineProperty(_assertThisInitialized(_this), "focusText", function () {
      _this.textarea.focus();
    });

    _defineProperty(_assertThisInitialized(_this), "reHeight", function () {
      _this.textarea.style.height = '';
      _this.textarea.style.height = _this.textarea.scrollHeight + 'px';

      _this.reLineNum();
    });

    _defineProperty(_assertThisInitialized(_this), "handleScoll", function (e) {
      var radio = _this.blockEdit.scrollTop / (_this.scrollEdit.scrollHeight - e.currentTarget.offsetHeight);
      _this.blockEdit.scrollTop = (_this.scrollEdit.scrollHeight - _this.blockEdit.offsetHeight) * radio;
    });

    _defineProperty(_assertThisInitialized(_this), "saveHistory", function (value) {
      var _this$state = _this.state,
          history = _this$state.history,
          historyIndex = _this$state.historyIndex;
      history.splice(historyIndex + 1, history.length);

      if (history.length >= 20) {
        history.shift();
      }

      historyIndex = history.length;
      history.push(value);

      _this.setState({
        history: history,
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "undo", function () {
      var _this$state2 = _this.state,
          history = _this$state2.history,
          historyIndex = _this$state2.historyIndex;
      historyIndex = historyIndex - 1;
      if (historyIndex < 0) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "redo", function () {
      var _this$state3 = _this.state,
          history = _this$state3.history,
          historyIndex = _this$state3.historyIndex;
      historyIndex = historyIndex + 1;
      if (historyIndex >= history.length) return;

      _this.props.onChange(history[historyIndex]);

      _this.setState({
        historyIndex: historyIndex
      });
    });

    _defineProperty(_assertThisInitialized(_this), "leftToolBarClick", function (type) {
      var typeObj = {
        h1: {
          prefix: '# ',
          subfix: '',
          str: "Header 1"
        },
        h2: {
          prefix: '## ',
          subfix: '',
          str: "Header 2"
        },
        h3: {
          prefix: '### ',
          subfix: '',
          str: "Header 3"
        },
        h4: {
          prefix: '#### ',
          subfix: '',
          str: "Header 4"
        },
        h5: {
          prefix: '##### ',
          subfix: '',
          str: "Header 5"
        },
        h6: {
          prefix: '###### ',
          subfix: '',
          str: "Header 6"
        },
        quote: {
          prefix: '> ',
          subfix: '',
          str: "Quote"
        },
        italic: {
          prefix: '_',
          subfix: '_',
          str: "italic"
        },
        bold: {
          prefix: '**',
          subfix: '**',
          str: "bold"
        },
        bolditalic: {
          prefix: '***',
          subfix: '***',
          str: "bold italic"
        },
        delline: {
          prefix: '~~',
          subfix: '~~',
          str: "delete line"
        },
        underline: {
          prefix: '<u>',
          subfix: '</u>',
          str: "underline"
        },
        superscript: {
          prefix: 'x<sup>',
          subfix: '</sup>',
          str: 'y'
        },
        subscript: {
          prefix: 'a<sub>',
          subfix: '</sub>',
          str: ''
        },
        table: {
          prefix: '',
          subfix: '',
          str: '| title      | description     |\n| ---------- | --------------- |\n| for-editor | markdown editor |\n'
        },
        img: {
          prefix: '![alt](',
          subfix: ')',
          str: 'url'
        },
        link: {
          prefix: '[title](',
          subfix: ')',
          str: 'url'
        },
        orderlist: {
          prefix: '\n1. ',
          subfix: '',
          str: 'item'
        },
        disorderlist: {
          prefix: '\n- ',
          subfix: '',
          str: 'item'
        },
        checklist: {
          prefix: '\n- [x] ',
          subfix: '',
          str: 'item'
        },
        inlinecode: {
          prefix: '`',
          subfix: '`',
          str: "inlinecode"
        },
        code: {
          prefix: '```',
          subfix: '\n\n```',
          str: 'language'
        },
        tab: {
          prefix: '  ',
          subfix: '',
          str: ''
        },
        spoiler: {
          prefix: "\n\n[spoiler]\n",
          subfix: "\n[/spoiler]\n\n"
        }
      };

      if (typeObj.hasOwnProperty(type)) {
        var value = (0, _text.insertText)(typeObj[type]);

        _this.props.onChange(value);
      }

      var otherLeftClick = {
        undo: _this.undo,
        redo: _this.redo
      };

      if (otherLeftClick.hasOwnProperty(type)) {
        otherLeftClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "rightToolbarClick", function (type) {
      var toolbarRightPreviewClick = function toolbarRightPreviewClick() {
        _this.setState({
          preview: !_this.state.preview
        });
      };

      var toolbarRightExpandClick = function toolbarRightExpandClick() {
        _this.setState({
          expand: !_this.state.expand
        });
      };

      var toolbarRightSubfieldClick = function toolbarRightSubfieldClick() {
        var _this$state4 = _this.state,
            preview = _this$state4.preview,
            subfield = _this$state4.subfield;

        if (subfield) {
          _this.reHeight();
        }

        if (preview) {
          if (subfield) {
            _this.setState({
              subfield: false,
              preview: false
            });
          } else {
            _this.setState({
              subfield: true
            });
          }
        } else {
          if (subfield) {
            _this.setState({
              subfield: false
            });
          } else {
            _this.setState({
              preview: true,
              subfield: true
            });
          }
        }
      };

      var rightClick = {
        preview: toolbarRightPreviewClick,
        expand: toolbarRightExpandClick,
        subfield: toolbarRightSubfieldClick
      };

      if (rightClick.hasOwnProperty(type)) {
        rightClick[type]();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (e) {
      var value = e.target.value;

      _this.props.onChange(value);
    });

    _this.state = {
      lineIndex: 1,
      preview: false,
      expand: false,
      subfield: false,
      history: [],
      historyIndex: 0,
      mobile: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      this.textarea = document.getElementById("editor-textarea");
      this.scrollEdit = document.getElementById("scrollEdit");
      this.blockEdit = document.getElementById("blockEdit");
      this.reHeight();
      $("#editor-textarea").atwho({
        at: "@",
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: "@${username}",
        searchKey: "username",
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(_.default.get("MENTION_API"), {
              q: query
            }, callback);
          }
        }
      });
      $("#editor-textarea").on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event.target.value);
      });
      this.resize();
      window.addEventListener('resize', function () {
        _this2.resize();
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(preProps) {
      var _this3 = this;

      var _this$state5 = this.state,
          historyIndex = _this$state5.historyIndex,
          history = _this$state5.history;
      var value = this.props.value;

      if (value !== preProps.value) {
        this.reHeight();
      }

      if (value !== history[historyIndex]) {
        window.clearTimeout(this.currentTimeout);
        this.currentTimeout = window.setTimeout(function () {
          _this3.saveHistory(value);
        }, 500);
      }
    }
  }, {
    key: "resize",
    value: function resize() {
      if (window.matchMedia('(min-width: 768px)').matches) {
        this.setState({
          preview: true,
          subfield: true
        });
      } else {
        this.setState({
          preview: false,
          subfield: false
        });
      }
    }
  }, {
    key: "reLineNum",
    value: function reLineNum() {
      var fontSize = this.props.fontSize;
      var editHeight = parseFloat(this.textarea.getBoundingClientRect().height.toFixed(1));
      var lineHeight = parseFloat(fontSize.replace('px', '')) * 1.6;
      var baseHeight = parseInt(((editHeight - 16.0) / lineHeight).toFixed());
      this.setState({
        lineIndex: baseHeight
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var _this$state6 = this.state,
          preview = _this$state6.preview,
          expand = _this$state6.expand,
          subfield = _this$state6.subfield,
          lineIndex = _this$state6.lineIndex;
      var _this$props = this.props,
          value = _this$props.value,
          loading = _this$props.loading,
          height = _this$props.height;
      var fullscreen = (0, _classnames.default)({
        'k-container': true,
        'k-fullscreen': expand
      });
      var editorClass = (0, _classnames.default)({
        'k-editor-edit': true,
        'k-panel': true,
        'k-active': preview && subfield,
        'k-edit-preview': preview && !subfield
      });
      var previewClass = (0, _classnames.default)({
        'k-panel': true,
        'k-editor-preview': true,
        'k-active': preview && subfield
      });

      var lineNum = function lineNum() {
        var list = [];

        for (var i = 0; i < lineIndex; i++) {
          list.push( /*#__PURE__*/_react.default.createElement("li", {
            key: i + 1
          }, i + 1));
        }

        return /*#__PURE__*/_react.default.createElement("ul", {
          className: "k-line-num"
        }, list);
      };

      return /*#__PURE__*/_react.default.createElement("div", {
        className: fullscreen,
        style: {
          height: height
        }
      }, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        expand: expand,
        subfield: subfield,
        preview: preview,
        onClickLeft: this.leftToolBarClick,
        onClickRight: this.rightToolbarClick,
        loading: loading
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: editorClass,
        id: "blockEdit",
        onClick: this.focusText,
        onScroll: this.handleScoll
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-block",
        id: "scrollEdit"
      }, lineNum(), /*#__PURE__*/_react.default.createElement("div", {
        className: "k-editor-content"
      }, /*#__PURE__*/_react.default.createElement("pre", {
        id: "true-value"
      }, value), /*#__PURE__*/_react.default.createElement("textarea", {
        value: value,
        disabled: loading,
        id: "editor-textarea",
        onChange: function onChange(e) {
          return _this4.handleChange(e);
        } // onKeyDown={this.onKeyDown}
        ,
        placeholder: "Write Some"
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: previewClass
      }, /*#__PURE__*/_react.default.createElement("div", {
        id: "k-preview",
        className: "k-preview k-markdown-preview",
        dangerouslySetInnerHTML: {
          __html: (0, _marked.default)(value)
        }
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "editor-footer",
        style: {
          overflow: 'hidden',
          padding: '10px'
        }
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-sm pull-right",
        loading: this.props.loading
      }, this.props.submitLabel || gettext("Post")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm pull-right",
        disabled: this.props.loading,
        onClick: this.props.onCancel,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix visible-xs-block"
      }), /*#__PURE__*/_react.default.createElement(Protect, {
        canProtect: this.props.canProtect,
        disabled: this.props.loading,
        onProtect: this.props.onProtect,
        onUnprotect: this.props.onUnprotect,
        protect: this.props.protect
      })), /*#__PURE__*/_react.default.createElement(_attachments.default, {
        attachments: this.props.attachments,
        onAttachmentsChange: this.props.onAttachmentsChange,
        placeholder: this.props.placeholder,
        replaceSelection: this.replaceSelection
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

_defineProperty(_default, "defaultProps", {
  fontSize: '14px'
});

function Protect(props) {
  if (!props.canProtect) return null;
  var label = props.protect ? gettext("Protected") : gettext("Protect");
  return /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-icon btn-default btn-protect btn-sm pull-right",
    disabled: props.disabled,
    onClick: props.protect ? props.onUnprotect : props.onProtect,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.protect ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-md hidden-lg"
  }, label));
}

},{"../..":298,"../../services/marked":366,"../button":10,"./actions/quote":37,"./actions/spoiler":38,"./attachments":43,"./attachments/upload-button":45,"./components/toolbar":47,"./textutils":49,"./utils/helper/text":50,"classnames":1,"react":"react"}],49:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
exports.textareaId = void 0;
var textareaId = "editor-textarea";
exports.textareaId = textareaId;

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();

  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart("character", -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == "0") {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();

  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart("character", selectionRange.start);
    range.moveEnd("character", selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],50:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.insertText = insertText;

function insertText(params) {
  var $vm = document.getElementById("editor-textarea");
  var prefix = params.prefix,
      _params$str = params.str,
      str = _params$str === void 0 ? '' : _params$str,
      _params$subfix = params.subfix,
      subfix = _params$subfix === void 0 ? '' : _params$subfix;
  var value = $vm.value;

  if ($vm.selectionStart || $vm.selectionStart === 0) {
    var start = $vm.selectionStart;
    var end = $vm.selectionEnd;
    var restoreTop = $vm.scrollTop;

    if (start === end) {
      $vm.value = value.substring(0, start) + prefix + str + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length + str.length;
    } else {
      $vm.value = value.substring(0, start) + prefix + value.substring(start, end) + subfix + value.substring(end, value.length);
      $vm.selectionStart = start + prefix.length;
      $vm.selectionEnd = end + prefix.length;
    }

    $vm.focus();

    if (restoreTop >= 0) {
      $vm.scrollTop = restoreTop;
    }
  }

  return $vm.value;
}

},{}],51:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isValidated",
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "form-group";

      if (this.isValidated()) {
        className += " has-feedback";

        if (this.props.validation === null) {
          className += " has-success";
        } else {
          className += " has-error";
        }
      }

      return className;
    }
  }, {
    key: "getFeedback",
    value: function getFeedback() {
      var _this = this;

      if (this.props.validation) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "help-block errors"
        }, this.props.validation.map(function (error, i) {
          return /*#__PURE__*/_react.default.createElement("p", {
            key: _this.props.for + "FeedbackItem" + i
          }, error);
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getFeedbackDescription",
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        return /*#__PURE__*/_react.default.createElement("span", {
          id: this.props.for + "_status",
          className: "sr-only"
        }, this.props.validation ? gettext("(error)") : gettext("(success)"));
      } else {
        return null;
      }
    }
  }, {
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("label", {
        className: "control-label " + (this.props.labelClass || ""),
        htmlFor: this.props.for || ""
      }, this.props.label + ":"), /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.controlClass || ""
      }, this.props.children, this.getFeedbackDescription(), this.getFeedback(), this.getHelpText(), this.props.extra || null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],52:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _validators = require("../utils/validators");

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var validateRequired = (0, _validators.required)();

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "bindInput", function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    });

    _defineProperty(_assertThisInitialized(_this), "changeValue", function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }

      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({
          isLoading: true
        });

        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({
              isLoading: false
            });

            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({
              isLoading: false
            });

            _this.handleError(rejection);
          });
        } else {
          _this.setState({
            isLoading: false
          });
        }
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "validate",
    value: function validate() {
      var errors = {};

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };
      var validatedFields = []; // add required fields to validation

      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      } // add optional fields to validation


      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      } // validate fields values


      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var errors = this.validate();

      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: "validateField",
    value: function validateField(name, value) {
      var errors = [];

      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };
      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);

            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);

          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }
  }, {
    key: "clean",
    value: function clean() {
      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return null;
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/snackbar":373,"../utils/validators":390,"react":"react"}],53:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "isActive",
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || "") + " " + (this.props.activeClassName || "active");
      } else {
        return this.props.className || "";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],54:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "loader"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "loader-spinning-wheel"
  }));
}

},{"react":"react"}],55:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BestAnswerSelect = BestAnswerSelect;
exports.PollSelect = PollSelect;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.props.onSuccess(success);

      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _this.props.onError(rejection);
    });

    _defineProperty(_assertThisInitialized(_this), "onBestAnswerChange", function (event) {
      _this.changeValue("bestAnswer", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPollChange", function (event) {
      _this.changeValue("poll", event.target.value);
    });

    _this.state = {
      isLoading: false,
      bestAnswer: "0",
      poll: "0"
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.props.polls && this.state.poll === "0") {
        var confirmation = confirm(gettext("Are you sure you want to delete all polls?"));
        return confirmation;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });
      return _ajax.default.post(this.props.api, data);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(BestAnswerSelect, {
        choices: this.props.bestAnswers,
        onChange: this.onBestAnswerChange,
        value: this.state.bestAnswer
      }), /*#__PURE__*/_react.default.createElement(PollSelect, {
        choices: this.props.polls,
        onChange: this.onPollChange,
        value: this.state.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
      onChange = _ref.onChange,
      value = _ref.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Best answer"),
    helpText: gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),
    for: "id_best_answer"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_best_answer",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

function PollSelect(_ref2) {
  var choices = _ref2.choices,
      onChange = _ref2.onChange,
      value = _ref2.value;
  if (!choices) return null;
  return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Poll"),
    helpText: gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
    for: "id_poll"
  }, /*#__PURE__*/_react.default.createElement("select", {
    className: "form-control",
    id: "id_poll",
    onChange: onChange,
    value: value
  }, choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement("option", {
      value: choice[0],
      key: choice[0]
    }, choice[1]);
  })));
}

},{"../services/ajax":361,"../services/modal":368,"./button":10,"./form":52,"./form-group":51,"react":"react"}],56:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _oneBox = _interopRequireDefault(require("../services/one-box"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox.default.render(this.documentNode);

      $(this.documentNode).find(".spoiler-reveal").click(revealSpoiler);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("article", {
        className: "misago-markup",
        dangerouslySetInnerHTML: {
          __html: this.props.markup
        },
        ref: function ref(node) {
          _this.documentNode = node;
        }
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function revealSpoiler(event) {
  var btn = event.target;
  $(btn).parent().parent().addClass("revealed");
}

},{"../services/one-box":369,"react":"react"}],57:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body modal-loader"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":54,"react":"react"}],58:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("./panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_PanelMessage) {
  _inherits(_default, _PanelMessage);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText(), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }]);

  return _default;
}(_panelMessage.default);

exports.default = _default;

},{"./panel-message":90,"react":"react"}],59:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var MAX_RESULTS = 5;

function _default(data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });
  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
}

},{}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FOOTER = exports.RESULT = exports.HEADER = void 0;
var HEADER = "HEADER";
exports.HEADER = HEADER;
var RESULT = "RESULT";
exports.RESULT = RESULT;
var FOOTER = "FOOTER";
exports.FOOTER = FOOTER;

},{}],61:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _input = _interopRequireDefault(require("./input"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      onChange = _ref.onChange,
      query = _ref.query;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-search-results",
    role: "menu"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement(_input.default, {
    value: query,
    onChange: onChange
  })), children);
}

},{"./input":65,"react":"react"}],62:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-message"
  }, gettext("Search returned no results."));
}

},{"react":"react"}],63:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _constants = require("./constants");

function _default(results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
}

function flattenProviders(results, flatlist) {
  var arrayLength = results.length;

  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];
    flatlist.push({
      provider: provider,
      type: _constants.HEADER
    });
    flattenProvider(provider, flatlist);
  }
}

function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;

  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants.RESULT
    });
  }

  flatlist.push({
    provider: provider,
    type: _constants.FOOTER
  });
}

},{"./constants":60}],64:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("./constants");

var _dropdownMenu = _interopRequireDefault(require("./dropdown-menu"));

var _empty = _interopRequireDefault(require("./empty"));

var _loader = _interopRequireDefault(require("./loader"));

var _result = _interopRequireDefault(require("./result"));

var _flattenResults = _interopRequireDefault(require("./flatten-results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(_ref) {
  var isLoading = _ref.isLoading,
      onChange = _ref.onChange,
      results = _ref.results,
      query = _ref.query;

  if (!query.trim().length) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    });
  }

  if (results.length) {
    var flatResults = (0, _flattenResults.default)(results);
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, flatResults.map(function (props) {
      var type = props.type,
          provider = props.provider,
          result = props.result;

      if (type === _constants.RESULT) {
        return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
          key: [provider.id, type, result.id].join("_")
        }, props));
      }

      return /*#__PURE__*/_react.default.createElement(_result.default, _extends({
        key: [provider.id, type].join("_"),
        query: query
      }, props));
    }));
  } else if (isLoading) {
    return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
      onChange: onChange,
      query: query
    }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
  }

  return /*#__PURE__*/_react.default.createElement(_dropdownMenu.default, {
    onChange: onChange,
    query: query
  }, /*#__PURE__*/_react.default.createElement(_empty.default, null));
}

},{"./constants":60,"./dropdown-menu":61,"./empty":62,"./flatten-results":63,"./loader":66,"./result":69,"react":"react"}],65:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var value = _ref.value,
      onChange = _ref.onChange;
  return /*#__PURE__*/_react.default.createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    "aria-controls": "dropdown-menu dropdown-search-results",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: gettext("Search"),
    role: "combobox",
    type: "text"
  });
}

},{"react":"react"}],66:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var message = _ref.message;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":54,"react":"react"}],67:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      query = _ref.query;
  var url = provider.url + "?q=" + encodeURI(query);
  var label = ngettext('See full "%(provider)s" results page with %(count)s result.', 'See full "%(provider)s" results page with %(count)s results.', provider.count);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-footer"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: url
  }, interpolate(label, {
    count: provider.count,
    provider: provider.name
  }, true)));
}

},{"react":"react"}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-search-header"
  }, provider.name);
}

},{"react":"react"}],69:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _constants = require("../constants");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _result = _interopRequireDefault(require("./result"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result,
      type = _ref.type,
      query = _ref.query;

  if (type === _constants.HEADER) {
    return /*#__PURE__*/_react.default.createElement(_header.default, {
      provider: provider
    });
  } else if (type === _constants.FOOTER) {
    return /*#__PURE__*/_react.default.createElement(_footer.default, {
      provider: provider,
      query: query
    });
  }

  return /*#__PURE__*/_react.default.createElement(_result.default, {
    provider: provider,
    result: result
  });
}

},{"../constants":60,"./footer":67,"./header":68,"./result":70,"react":"react"}],70:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _thread = _interopRequireDefault(require("./thread"));

var _user = _interopRequireDefault(require("./user"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var provider = _ref.provider,
      result = _ref.result;

  if (provider.id === "threads") {
    return /*#__PURE__*/_react.default.createElement(_thread.default, {
      result: result
    });
  }

  return /*#__PURE__*/_react.default.createElement(_user.default, {
    result: result
  });
}

},{"./thread":71,"./user":72,"react":"react"}],71:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var poster = result.poster,
      thread = result.thread;
  var footer = gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url.index,
    className: "dropdown-search-thread"
  }, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-content"
  }, $(result.content).text()), /*#__PURE__*/_react.default.createElement("small", {
    className: "dropdown-search-post-footer"
  }, interpolate(footer, {
    category: result.category.name,
    posted_on: (0, _moment.default)(result.posted_on).format("LL"),
    poster: result.poster_name
  }, true))));
}

},{"moment":"moment","react":"react"}],72:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var result = _ref.result;
  var rank = result.rank;
  var detail = gettext("%(title)s, joined on %(joined_on)s");
  var title = result.title || rank.title || rank.name;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: result.url,
    className: "dropdown-search-user"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 38,
    user: result
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("h5", {
    className: "media-heading"
  }, result.username), /*#__PURE__*/_react.default.createElement("small", null, interpolate(detail, {
    title: title,
    joined_on: (0, _moment.default)(result.joined_on).format("LL")
  }, true))))));
}

},{"../../../avatar":8,"moment":"moment","react":"react"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _ = _interopRequireDefault(require("../.."));

var _cleanResults = _interopRequireDefault(require("./clean-results"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this);

    _defineProperty(_assertThisInitialized(_this), "onToggle", function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector("input").focus();
          }, 100);
        }

        return {
          isOpen: !prevState.isOpen
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDocumentMouseDown", function (ev) {
      var closeResults = true;
      var node = ev.target;

      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }

        node = node.parentNode;
      }

      if (closeResults) {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onEscape", function (ev) {
      if (ev.key === "Escape") {
        _this.setState({
          isOpen: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (ev) {
      var query = ev.target.value;

      _this.setState({
        query: query
      });

      _this.loadResults(query.trim());
    });

    _this.state = {
      isLoading: false,
      isOpen: false,
      query: "",
      results: []
    };
    _this.intervalId = null;
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener("mousedown", this.onDocumentMouseDown);
      document.addEventListener("keydown", this.onEscape);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener("mousedown", this.onDocumentMouseDown);
      document.removeEventListener("keydown", this.onEscape);
    }
  }, {
    key: "loadResults",
    value: function loadResults(query) {
      var _this2 = this;

      if (!query.length) return;
      var delay = 300 + Math.random() * 300;

      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }

      this.setState({
        isLoading: true
      });
      this.intervalId = window.setTimeout(function () {
        _ajax.default.get(_.default.get("SEARCH_API"), {
          q: query
        }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0, _cleanResults.default)(data)
          });
        }, function (rejection) {
          _snackbar.default.apiError(rejection);

          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className,
        ref: function ref(container) {
          return _this3.container = container;
        }
      }, /*#__PURE__*/_react.default.createElement("a", {
        "aria-haspopup": "true",
        "aria-expanded": "false",
        className: "navbar-icon",
        "data-toggle": "dropdown",
        href: _.default.get("SEARCH_URL"),
        onClick: this.onToggle
      }, /*#__PURE__*/_react.default.createElement("i", {
        className: "material-icon"
      }, "search")), /*#__PURE__*/_react.default.createElement(_dropdown.default, {
        isLoading: this.state.isLoading,
        onChange: this.onChange,
        results: this.state.results,
        query: this.state.query
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../services/ajax":361,"../../services/snackbar":373,"./clean-results":59,"./dropdown":64,"react":"react"}],74:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../../panel-loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
}

},{"../../panel-loader":89,"react":"react"}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _panelMessage = _interopRequireDefault(require("../../panel-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), {
          next_change: this.props.options.next_on.fromNow()
        }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
        helpText: this.getHelpText(),
        message: gettext("You can't change your username at the moment.")
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../panel-message":90,"react":"react"}],76:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      username: "",
      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);
        phrases.push(interpolate(message, {
          changes_left: this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes become available again after %(name_changes_expire)s day.", "Used changes become available again after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          name_changes_expire: this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(" ") : null;
    }
  }, {
    key: "clean",
    value: function clean() {
      var errors = this.validate();

      if (errors.username) {
        _snackbar.default.error(errors.username[0]);

        return false;
      }

      if (this.state.username.trim() === this.props.user.username) {
        _snackbar.default.info(gettext("Your new username is same as current one."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.setState({
        username: ""
      });
      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change username"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username",
        helpText: this.getHelpText()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":361,"../../../services/snackbar":373,"../../../utils/validators":390,"../../button":10,"../../form":52,"../../form-group":51,"react":"react"}],77:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _formLoading = _interopRequireDefault(require("./form-loading"));

var _formLocked = _interopRequireDefault(require("./form-locked"));

var _form = _interopRequireDefault(require("./form"));

var _root = _interopRequireDefault(require("../../username-history/root"));

var _ = _interopRequireDefault(require("../../.."));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onComplete", function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)({
        username: username,
        slug: slug
      }, _this.props.user, _this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar.default.success(gettext("Your username has been changed successfully."));
    });

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax.default.get(this.props.user.api.username), _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.user.id
      })]).then(function (data) {
        _store.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment.default)(data[0].next_on) : null
          }
        });
      });
    }
  }, {
    key: "getChangeForm",
    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(_formLoading.default, null);
      }

      if (this.state.options.changes_left === 0) {
        return /*#__PURE__*/_react.default.createElement(_formLocked.default, {
          options: this.state.options
        });
      }

      return /*#__PURE__*/_react.default.createElement(_form.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, this.getChangeForm(), /*#__PURE__*/_react.default.createElement(_root.default, {
        changes: this.props["username-history"],
        isLoaded: this.state.isLoaded
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"../../../reducers/username-history":359,"../../../reducers/users":360,"../../../services/ajax":361,"../../../services/page-title":370,"../../../services/snackbar":373,"../../../services/store":374,"../../username-history/root":276,"./form":76,"./form-loading":74,"./form-locked":75,"moment":"moment","react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onPasswordChange", function (event) {
      _this.setState({
        password: event.target.value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      event.preventDefault();
      var _this$state = _this.state,
          isLoading = _this$state.isLoading,
          password = _this$state.password;
      var user = _this.props.user;

      if (password.length == 0) {
        _snackbar.default.error(gettext("Enter your password to confirm account deletion."));

        return false;
      }

      if (isLoading) return false;

      _this.setState({
        isLoading: true
      });

      _ajax.default.post(user.api.delete, {
        password: password
      }).then(function (success) {
        window.location.href = _.default.get("MISAGO_PATH");
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        if (rejection.password) {
          _snackbar.default.error(rejection.password[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Delete account"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-danger panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Delete account"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Stored IP addresses associated with content that you have posted will be deleted.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your username will become available for other user to rename to or for new user to register their account with.")), /*#__PURE__*/_react.default.createElement("p", null, "-", " ", gettext("Your e-mail will become available for use in new account registration.")), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement("p", null, gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts."))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "input-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        name: "password-confirmation",
        type: "password",
        placeholder: gettext("Enter your password to confirm account deletion."),
        value: this.state.password,
        onChange: this.onPasswordChange
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "input-group-btn"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading
      }, gettext("Delete my account")))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../services/ajax":361,"../../services/page-title":370,"../../services/snackbar":373,"../../services/store":374,"../button":10,"react":"react"}],79:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _button = _interopRequireDefault(require("../button"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DownloadData = /*#__PURE__*/function (_React$Component) {
  _inherits(DownloadData, _React$Component);

  var _super = _createSuper(DownloadData);

  function DownloadData(props) {
    var _this;

    _classCallCheck(this, DownloadData);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleLoadDownloads", function () {
      _ajax.default.get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleRequestDataDownload", function () {
      _this.setState({
        isSubmiting: true
      });

      _ajax.default.post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();

        _snackbar.default.success(gettext("Your request for data download has been registered."));

        _this.setState({
          isSubmiting: false
        });
      }, function (rejection) {
        console.log(rejection);

        _snackbar.default.apiError(rejection);

        _this.setState({
          isSubmiting: false
        });
      });
    });

    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }

  _createClass(DownloadData, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Download your data"),
        parent: gettext("Change your options")
      });

      this.handleLoadDownloads();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Download your data"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, gettext('To download your data from the site, click the "Request data download" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.')), /*#__PURE__*/_react.default.createElement("p", null, gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired."))), /*#__PURE__*/_react.default.createElement("table", {
        className: "table"
      }, /*#__PURE__*/_react.default.createElement("thead", null, /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("th", null, gettext("Requested on")), /*#__PURE__*/_react.default.createElement("th", {
        className: "col-md-4"
      }, gettext("Download")))), /*#__PURE__*/_react.default.createElement("tbody", null, this.state.downloads.map(function (item) {
        return /*#__PURE__*/_react.default.createElement("tr", {
          key: item.id
        }, /*#__PURE__*/_react.default.createElement("td", {
          style: rowStyle
        }, (0, _moment.default)(item.requested_on).fromNow()), /*#__PURE__*/_react.default.createElement("td", null, /*#__PURE__*/_react.default.createElement(DownloadButton, {
          exportFile: item.file,
          status: item.status
        })));
      }), this.state.downloads.length == 0 ? /*#__PURE__*/_react.default.createElement("tr", null, /*#__PURE__*/_react.default.createElement("td", {
        colSpan: "2"
      }, gettext("You have no data downloads."))) : null)), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isSubmiting,
        type: "button",
        onClick: this.handleRequestDataDownload
      }, gettext("Request data download")))));
    }
  }]);

  return DownloadData;
}(_react.default.Component);

exports.default = DownloadData;
var rowStyle = {
  verticalAlign: "middle"
};
var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;

var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
      status = _ref.status;

  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return /*#__PURE__*/_react.default.createElement(_button.default, {
      className: "btn-info btn-sm btn-block",
      disabled: true,
      type: "button"
    }, gettext("Download is being prepared"));
  }

  if (exportFile) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "btn btn-success btn-sm btn-block",
      href: exportFile
    }, gettext("Download your data"));
  }

  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: true,
    type: "button"
  }, gettext("Download is expired"));
};

},{"../../services/ajax":361,"../../services/page-title":370,"../../services/snackbar":373,"../button":10,"moment":"moment","react":"react"}],80:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../edit-details"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function () {
      _snackbar.default.info(gettext("Your details have been updated."));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Edit details"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
        api: this.props.user.api.edit_details,
        onSuccess: this.onSuccess
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/page-title":370,"../../services/snackbar":373,"../edit-details":34,"react":"react"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _select = _interopRequireDefault(require("../select"));

var _yesNoSwitch = _interopRequireDefault(require("../yes-no-switch"));

var _auth = require("../../reducers/auth");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      is_hiding_presence: props.user.is_hiding_presence,
      limits_private_thread_invites_to: props.user.limits_private_thread_invites_to,
      subscribe_to_started_threads: props.user.subscribe_to_started_threads,
      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,
      errors: {}
    };
    _this.privateThreadInvitesChoices = [{
      value: 0,
      icon: "help_outline",
      label: gettext("Everybody")
    }, {
      value: 1,
      icon: "done_all",
      label: gettext("Users I follow")
    }, {
      value: 2,
      icon: "highlight_off",
      label: gettext("Nobody")
    }];
    _this.subscribeToChoices = [{
      value: 0,
      icon: "star_border",
      label: gettext("No")
    }, {
      value: 1,
      icon: "star_half",
      label: gettext("Notify")
    }, {
      value: 2,
      icon: "star",
      label: gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _store.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));

      _snackbar.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change forum options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Privacy settings")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Hide my presence"),
        helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
        for: "id_is_hiding_presence"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_hiding_presence",
        disabled: this.state.isLoading,
        iconOn: "visibility_off",
        iconOff: "visibility",
        labelOn: gettext("Hide my presence from other users"),
        labelOff: gettext("Show my presence to other users"),
        onChange: this.bindInput("is_hiding_presence"),
        value: this.state.is_hiding_presence
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Private thread invitations"),
        for: "id_limits_private_thread_invites_to"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_limits_private_thread_invites_to",
        disabled: this.state.isLoading,
        onChange: this.bindInput("limits_private_thread_invites_to"),
        value: this.state.limits_private_thread_invites_to,
        choices: this.privateThreadInvitesChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Automatic subscriptions")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I start"),
        for: "id_subscribe_to_started_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_started_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_started_threads"),
        value: this.state.subscribe_to_started_threads,
        choices: this.subscribeToChoices
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Threads I reply to"),
        for: "id_subscribe_to_replied_threads"
      }, /*#__PURE__*/_react.default.createElement(_select.default, {
        id: "id_subscribe_to_replied_threads",
        disabled: this.state.isLoading,
        onChange: this.bindInput("subscribe_to_replied_threads"),
        value: this.state.subscribe_to_replied_threads,
        choices: this.subscribeToChoices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../reducers/auth":346,"../../services/ajax":361,"../../services/page-title":370,"../../services/snackbar":373,"../../services/store":374,"../button":10,"../form":52,"../form-group":51,"../select":206,"../yes-no-switch":296,"react":"react"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function SideNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      className: "list-group-item",
      activeClassName: "active",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, option.icon), option.name);
  }));
}

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.className || "dropdown-menu stick-to-bottom",
    role: "menu"
  }, props.options.map(function (option) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + option.component + "/",
      key: option.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + option.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon hidden-sm"
    }, option.icon), option.name));
  }));
}

},{"../..":298,"../li":53,"react":"react","react-router":"react-router"}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _navs = require("./navs");

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _editDetails = _interopRequireDefault(require("./edit-details"));

var _downloadData = _interopRequireDefault(require("./download-data"));

var _forumOptions = _interopRequireDefault(require("./forum-options"));

var _root = _interopRequireDefault(require("./change-username/root"));

var _root2 = _interopRequireDefault(require("./sign-in-credentials/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-options"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Change your options"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs visible-xs-block visible-sm-block"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        className: "nav nav-pills",
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      }))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: _.default.get("USERCP_URL"),
        options: _.default.get("USER_OPTIONS")
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    "username-history": store["username-history"]
  };
}

function paths() {
  var SSO_ENABLED = _.default.get("SETTINGS").enable_sso;

  var paths = [{
    path: _.default.get("USERCP_URL") + "forum-options/",
    component: (0, _reactRedux.connect)(select)(_forumOptions.default)
  }, {
    path: _.default.get("USERCP_URL") + "edit-details/",
    component: (0, _reactRedux.connect)(select)(_editDetails.default)
  }];

  if (!SSO_ENABLED) {
    paths.push({
      path: _.default.get("USERCP_URL") + "change-username/",
      component: (0, _reactRedux.connect)(select)(_root.default)
    });
    paths.push({
      path: _.default.get("USERCP_URL") + "sign-in-credentials/",
      component: (0, _reactRedux.connect)(select)(_root2.default)
    });
  }

  if (_.default.get("ENABLE_DOWNLOAD_OWN_DATA")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "download-data/",
      component: (0, _reactRedux.connect)(select)(_downloadData.default)
    });
  }

  if (!SSO_ENABLED && _.default.get("ENABLE_DELETE_OWN_ACCOUNT")) {
    paths.push({
      path: _.default.get("USERCP_URL") + "delete-account/",
      component: (0, _reactRedux.connect)(select)(_deleteAccount.default)
    });
  }

  return paths;
}

},{"../..":298,"../dropdown-toggle":29,"../with-dropdown":295,"./change-username/root":77,"./delete-account":78,"./download-data":79,"./edit-details":80,"./forum-options":81,"./navs":82,"./sign-in-credentials/root":87,"react":"react","react-redux":"react-redux"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Change email or password"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You need to set a password for your account to be able to change your username or email.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-primary",
    href: _.default.get("FORGOTTEN_PASSWORD_URL")
  }, gettext("Set password"))))));
};

var _default = UnusablePasswordMessage;
exports.default = _default;

},{"../../..":298,"react":"react"}],85:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_email: "",
      password: "",
      validators: {
        new_email: [validators.email()],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_email) {
        _snackbar.default.error(errors.new_email[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_email: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar.default.error(rejection.new_email);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change e-mail address"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New e-mail"),
        for: "id_new_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_new_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_email"),
        value: this.state.new_email
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_email"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_email",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change e-mail")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":361,"../../../services/snackbar":373,"../../../utils/validators":390,"../../button":10,"../../form":52,"../../form-group":51,"react":"react"}],86:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      new_password: "",
      repeat_password: "",
      password: "",
      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      if (errors.new_password) {
        _snackbar.default.error(errors.new_password[0]);

        return false;
      }

      if (this.state.new_password !== this.state.repeat_password) {
        _snackbar.default.error(gettext("New passwords are different."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      this.setState({
        new_password: "",
        repeat_password: "",
        password: ""
      });

      _snackbar.default.success(response.detail);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar.default.error(rejection.new_password);
        } else {
          _snackbar.default.error(rejection.password);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Change password"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New password"),
        for: "id_new_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_new_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("new_password"),
        value: this.state.new_password
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Repeat password"),
        for: "id_repeat_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_repeat_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("repeat_password"),
        value: this.state.repeat_password
      })), /*#__PURE__*/_react.default.createElement("hr", null), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Your current password"),
        for: "id_confirm_password"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_confirm_password",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change password")))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../services/ajax":361,"../../../services/snackbar":373,"../../button":10,"../../form":52,"../../form-group":51,"react":"react"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changeEmail = _interopRequireDefault(require("./change-email"));

var _changePassword = _interopRequireDefault(require("./change-password"));

var _ = _interopRequireDefault(require("../../.."));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _UnusablePasswordMessage = _interopRequireDefault(require("./UnusablePasswordMessage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return /*#__PURE__*/_react.default.createElement(_UnusablePasswordMessage.default, null);
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_changeEmail.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_changePassword.default, {
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("p", {
        className: "message-line"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "warning"), /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Change forgotten password"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"../../../services/page-title":370,"./UnusablePasswordMessage":84,"./change-email":85,"./change-password":86,"react":"react"}],88:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _stringCount = _interopRequireDefault(require("../utils/string-count"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount.default)(this.props.copy, "<p") === 1 && this.props.copy.indexOf("<br") === -1) {
          return "page-lead lead";
        }
      }

      return "page-lead";
    }
  }, {
    key: "render",
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: this.getClassName(),
          dangerouslySetInnerHTML: {
            __html: this.props.copy
          }
        });
      } else {
        return null;
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../utils/string-count":389,"react":"react"}],89:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-body-loading"
      }, /*#__PURE__*/_react.default.createElement(_loader.default, {
        className: "loader loader-spaced"
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./loader":54,"react":"react"}],90:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "help-block"
        }, this.props.helpText);
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body panel-message-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.icon || "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.props.message), this.getHelpText()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],91:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("../add-participant"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "person_add"), gettext("Add participant")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../services/modal":368,"../add-participant":6,"react":"react"}],92:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var participants = _interopRequireWildcard(require("../../../reducers/participants"));

var _thread = require("../../../reducers/thread");

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function leave(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }]).then(function () {
    _snackbar.default.success(gettext("You have left this thread."));

    window.setTimeout(function () {
      window.location = _.default.get("PRIVATE_THREADS_URL");
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "remove",
    path: "participants",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "owner",
    value: participant.id
  }, {
    op: "add",
    path: "acl",
    value: 1
  }]).then(function (data) {
    _store.default.dispatch((0, _thread.updateAcl)(data));

    _store.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");

    _snackbar.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar.default.apiError(rejection);
  });
}

},{"../../..":298,"../../../reducers/participants":347,"../../../reducers/thread":356,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374}],93:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UserStatus = UserStatus;

var _react = _interopRequireDefault(require("react"));

var _makeOwner = _interopRequireDefault(require("./make-owner"));

var _remove = _interopRequireDefault(require("./remove"));

var _avatar = _interopRequireDefault(require("../../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var participant = props.participant;
  var className = "btn btn-default";

  if (participant.is_owner) {
    className = "btn btn-primary";
  }

  className += " btn-user btn-block";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-3 col-md-2 participant-card"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: className,
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "34",
    user: participant
  }), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, participant.username)), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(UserStatus, {
    isOwner: participant.is_owner
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header"
  }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: participant.url
  }, gettext("See profile"))), /*#__PURE__*/_react.default.createElement("li", {
    role: "separator",
    className: "divider"
  }), /*#__PURE__*/_react.default.createElement(_makeOwner.default, props), /*#__PURE__*/_react.default.createElement(_remove.default, props))));
}

function UserStatus(_ref) {
  var isOwner = _ref.isOwner;
  if (!isOwner) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown-header dropdown-header-owner"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "start"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-text"
  }, gettext("Thread owner")));
}

},{"../../avatar":8,"./make-owner":95,"./remove":96,"react":"react"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var participants = _ref.participants,
      thread = _ref.thread,
      user = _ref.user,
      userIsOwner = _ref.userIsOwner;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "participants-cards"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, participants.map(function (participant) {
    return /*#__PURE__*/_react.default.createElement(_card.default, {
      key: participant.id,
      participant: participant,
      thread: thread,
      user: user,
      userIsOwner: userIsOwner
    });
  })));
}

},{"./card":93,"react":"react"}],95:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;
      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Make owner")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":92,"react":"react"}],96:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _actions = require("./actions");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var confirmed = false;

      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    });

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;
      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, this.isUser ? gettext("Leave thread") : gettext("Remove")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./actions":92,"react":"react"}],97:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getUserIsOwner = getUserIsOwner;

var _react = _interopRequireDefault(require("react"));

var _addParticipant = _interopRequireDefault(require("./add-participant"));

var _cardsList = _interopRequireDefault(require("./cards-list"));

var utils = _interopRequireWildcard(require("./utils"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.participants.length) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-participants"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_cardsList.default, _extends({
    userIsOwner: getUserIsOwner(props.user, props.participants)
  }, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_addParticipant.default, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-9"
  }, /*#__PURE__*/_react.default.createElement("p", null, utils.getParticipantsCopy(props.participants))))));
}

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./add-participant":91,"./cards-list":94,"./utils":98,"react":"react"}],98:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;

function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);
  return interpolate(message, {
    users: count
  }, true);
}

},{}],99:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LABELS = exports.STYLES = void 0;

var _react = _interopRequireDefault(require("react"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var STYLES = ["progress-bar-danger", "progress-bar-warning", "progress-bar-warning", "progress-bar-primary", "progress-bar-success"];
exports.STYLES = STYLES;
var LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];
exports.LABELS = LABELS;

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this._score = 0;
    _this._password = null;
    _this._inputs = [];
    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn.default.load().then(function () {
        _this2.setState({
          loaded: true
        });
      });
    }
  }, {
    key: "getScore",
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn.default.scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.state.loaded) return null;
      var score = this.getScore(this.props.password, this.props.inputs);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "help-block password-strength"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "progress-bar " + STYLES[score],
        style: {
          width: 20 + 20 * score + "%"
        },
        role: "progress-bar",
        "aria-valuenow": score,
        "aria-valuemin": "0",
        "aria-valuemax": "4"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "sr-only"
      }, LABELS[score]))), /*#__PURE__*/_react.default.createElement("p", {
        className: "text-small"
      }, LABELS[score]));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/zxcvbn":375,"react":"react"}],100:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateRandomHash = generateRandomHash;
exports.PollChoice = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onAdd", function () {
      var choices = _this.props.choices.slice();

      choices.push({
        hash: generateRandomHash(),
        label: ""
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onChange", function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });

      _this.props.setChoices(choices);
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });

      _this.props.setChoices(choices);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-choices-control"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.choices.map(function (choice) {
        return /*#__PURE__*/_react.default.createElement(PollChoice, {
          canDelete: _this2.props.choices.length > 2,
          choice: choice,
          disabled: _this2.props.disabled,
          key: choice.hash,
          onChange: _this2.onChange,
          onDelete: _this2.onDelete
        });
      })), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sm",
        disabled: this.props.disabled,
        onClick: this.onAdd,
        type: "button"
      }, gettext("Add choice")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var PollChoice = /*#__PURE__*/function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  var _super2 = _createSuper(PollChoice);

  function PollChoice() {
    var _this3;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onChange", function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this3), "onDelete", function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));

      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    });

    return _this3;
  }

  _createClass(PollChoice, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn",
        disabled: !this.props.canDelete || this.props.disabled,
        onClick: this.onDelete,
        title: gettext("Delete this choice"),
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "close")), /*#__PURE__*/_react.default.createElement("input", {
        disabled: this.props.disabled,
        maxLength: "255",
        placeholder: gettext("choice label"),
        type: "text",
        onChange: this.onChange,
        value: this.props.choice.label
      }));
    }
  }]);

  return PollChoice;
}(_react.default.Component);

exports.PollChoice = PollChoice;

function generateRandomHash() {
  var randomHash = "";

  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, "").substr(1, 12);
  }

  return randomHash;
}

},{"react":"react"}],101:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollPublicSwitch = PollPublicSwitch;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _choicesControl = _interopRequireDefault(require("./choices-control"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setChoices", function (choices) {
      var errors = Object.assign({}, errors, {
        choices: null
      });

      _this.setState({
        choices: choices,
        errors: errors
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    var poll = props.poll || {
      question: "",
      choices: [{
        hash: "choice-10000",
        label: ""
      }, {
        hash: "choice-20000",
        label: ""
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };
    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,
      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,
      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "send",
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar.default.success(gettext("Poll has been posted."));
      }

      _posting.default.close();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          errors: Object.assign({}, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "poll-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Question and choices")), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll question"),
        for: "id_questions",
        validation: this.state.errors.question
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_questions",
        onChange: this.bindInput("question"),
        type: "text",
        maxLength: "255",
        value: this.state.question
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Available choices"),
        validation: this.state.errors.choices
      }, /*#__PURE__*/_react.default.createElement(_choicesControl.default, {
        choices: this.state.choices,
        disabled: this.state.isLoading,
        setChoices: this.setChoices
      }))), /*#__PURE__*/_react.default.createElement("fieldset", null, /*#__PURE__*/_react.default.createElement("legend", null, gettext("Voting")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Poll length"),
        helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
        for: "id_length",
        validation: this.state.errors.length
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_length",
        onChange: this.bindInput("length"),
        type: "text",
        value: this.state.length
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allowed choices"),
        for: "id_allowed_choices",
        validation: this.state.errors.allowed_choices
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_allowed_choices",
        onChange: this.bindInput("allowed_choices"),
        type: "text",
        maxLength: "255",
        value: this.state.allowed_choices
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement(PollPublicSwitch, {
        bindInput: this.bindInput,
        disabled: this.state.isLoading,
        isEdit: this.state.isEdit,
        value: this.state.is_public
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-6"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Allow vote changes"),
        for: "id_allow_revotes"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_allow_revotes",
        disabled: this.state.isLoading,
        iconOn: "check",
        iconOff: "close",
        labelOn: gettext("Allow participants to change their vote"),
        labelOff: gettext("Don't allow participants to change their vote"),
        onChange: this.bindInput("allow_revotes"),
        value: this.state.allow_revotes
      })))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer text-right"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        disabled: this.state.isLoading,
        onClick: this.onCancel,
        type: "button"
      }, gettext("Cancel")), " ", /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, this.state.isEdit ? gettext("Save changes") : gettext("Post poll")))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function PollPublicSwitch(props) {
  if (props.isEdit) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-6"
  }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
    label: gettext("Make voting public"),
    helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
    for: "id_is_public"
  }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
    id: "id_is_public",
    disabled: props.disabled,
    iconOn: "visibility",
    iconOff: "visibility_off",
    labelOn: gettext("Votes are public"),
    labelOff: gettext("Votes are hidden"),
    onChange: props.bindInput("is_public"),
    value: props.value
  })));
}

},{"../../../reducers/poll":348,"../../../services/ajax":361,"../../../services/posting":372,"../../../services/snackbar":373,"../../../services/store":374,"../../button":10,"../../form":52,"../../form-group":51,"../../yes-no-switch":296,"./choices-control":100,"react":"react"}],102:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "Poll", {
  enumerable: true,
  get: function get() {
    return _poll.default;
  }
});
Object.defineProperty(exports, "PollForm", {
  enumerable: true,
  get: function get() {
    return _form.default;
  }
});

var _poll = _interopRequireDefault(require("./poll"));

var _form = _interopRequireDefault(require("./form"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./form":101,"./poll":104}],103:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-details"
  }, /*#__PURE__*/_react.default.createElement(PollVotes, {
    votes: props.poll.votes
  }), /*#__PURE__*/_react.default.createElement(PollLength, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollIsPublic, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(PollCreation, {
    poll: props.poll
  }));
}

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-creation",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(poll.url.poster),
      user: (0, _escapeHtml.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-ends-on",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(poll.endsOn.format("LLL")),
    relative: (0, _escapeHtml.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-votes"
  }, label);
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-info-public"
  }, gettext("Votes are public."));
}

},{"../../utils/escape-html":380,"react":"react"}],104:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getIsPollOver = getIsPollOver;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _results = _interopRequireDefault(require("./results"));

var _voting = _interopRequireDefault(require("./voting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showResults", function () {
      _this.setState({
        showResults: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "showVoting", function () {
      _this.setState({
        showResults: false
      });
    });

    var showResults = true;

    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.poll) return null;
      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return /*#__PURE__*/_react.default.createElement(_voting.default, _extends({
          showResults: this.showResults
        }, this.props));
      } else {
        return /*#__PURE__*/_react.default.createElement(_results.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment.default)().isAfter(poll.endsOn);
  }

  return false;
}

},{"./results":106,"./voting":110,"moment":"moment","react":"react"}],105:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "poll-choices-bars"
  }, props.poll.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(PollChoice, {
      choice: choice,
      key: choice.hash,
      poll: props.poll
    });
  }));
}

function PollChoice(props) {
  var proc = 0;

  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return /*#__PURE__*/_react.default.createElement("dl", {
    className: "dl-horizontal"
  }, /*#__PURE__*/_react.default.createElement("dt", null, props.choice.label), /*#__PURE__*/_react.default.createElement("dd", null, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "progress-bar",
    role: "progressbar",
    "aria-valuenow": proc,
    "aria-valuemin": "0",
    "aria-valuemax": "100",
    style: {
      width: proc + "%"
    }
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "sr-only"
  }, getVotesLabel(props.votes, props.proc)))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-chart"
  }, /*#__PURE__*/_react.default.createElement(ChoiceVotes, {
    proc: proc,
    votes: props.choice.votes
  }), /*#__PURE__*/_react.default.createElement(UserChoice, {
    selected: props.choice.selected
  }))));
}

function ChoiceVotes(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-votes"
  }, getVotesLabel(props.votes, props.proc));
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);
  return interpolate(message, {
    votes: votes,
    proc: proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-chart-selected"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), gettext("Your choice."));
}

},{"react":"react"}],106:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _chart = _interopRequireDefault(require("./chart"));

var _options = _interopRequireDefault(require("./options"));

var _info = _interopRequireDefault(require("../info"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-poll"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("h2", null, props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_chart.default, {
    poll: props.poll
  }), /*#__PURE__*/_react.default.createElement(_options.default, {
    isPollOver: props.isPollOver,
    poll: props.poll,
    showVoting: props.showVoting,
    thread: props.thread
  })));
}

},{"../info":103,"./chart":105,"./options":108,"react":"react"}],107:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog" + (this.state.error ? " modal-message" : " modal-sm"),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Poll votes"))), /*#__PURE__*/_react.default.createElement(ModalBody, {
        data: this.state.data,
        error: this.state.error,
        isLoading: this.state.isLoading
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalBody(props) {
  if (props.isLoading) {
    return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
  } else if (props.error) {
    return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
      icon: "error_outline",
      message: props.error
    });
  }

  return /*#__PURE__*/_react.default.createElement(ChoicesList, {
    data: props.data
  });
}

function ChoicesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-poll-votes"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled votes-details"
  }, props.data.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceDetails, _extends({
      key: choice.hash
    }, choice));
  })));
}

function ChoiceDetails(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h4", null, props.label), /*#__PURE__*/_react.default.createElement(VotesCount, {
    votes: props.votes
  }), /*#__PURE__*/_react.default.createElement(VotesList, {
    voters: props.voters
  }), /*#__PURE__*/_react.default.createElement("hr", null));
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);
  var label = interpolate(message, {
    votes: props.votes
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", null, label);
}

function VotesList(props) {
  if (!props.voters.length) return null;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.voters.map(function (user) {
    return /*#__PURE__*/_react.default.createElement(Voter, _extends({
      key: user.username
    }, user));
  }));
}

function Voter(props) {
  if (props.url) {
    return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
      voted_on: props.voted_on
    }));
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(VoteDate, {
    voted_on: props.voted_on
  }));
}

function VoteDate(props) {
  return /*#__PURE__*/_react.default.createElement("abbr", {
    className: "text-muted",
    title: props.voted_on.format("LLL")
  }, props.voted_on.fromNow());
}

},{"../../../services/ajax":361,"../../modal-loader":57,"../../modal-message":58,"moment":"moment","react":"react"}],108:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;
exports.Delete = exports.Edit = exports.SeeVotes = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("./modal"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal2 = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;
  if (!isVisible(isPollOver, poll.acl, poll)) return null;
  var controls = [];
  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;
  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row poll-options"
  }, /*#__PURE__*/_react.default.createElement(ChangeVote, {
    controls: controls,
    isPollOver: isPollOver,
    poll: poll,
    showVoting: showVoting
  }), /*#__PURE__*/_react.default.createElement(SeeVotes, {
    controls: controls,
    poll: poll
  }), /*#__PURE__*/_react.default.createElement(Edit, {
    controls: controls,
    poll: poll,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(Delete, {
    controls: controls,
    poll: poll
  }));
}

function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = "col-xs-6";

  if (controls.length === 1) {
    className = "col-xs-12";
  }

  if (controls.length === 3 && controls[0] === control) {
    className = "col-xs-12";
  }

  return className + " col-sm-3 col-md-2";
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;
  if (!(canVote && canChangeVote)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: getClassName(props.controls, 0)
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block btn-sm",
    disabled: props.poll.isBusy,
    onClick: props.showVoting,
    type: "button"
  }, gettext("Vote")));
}

var SeeVotes = /*#__PURE__*/function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  var _super = _createSuper(SeeVotes);

  function SeeVotes() {
    var _this;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        poll: _this.props.poll
      }));
    });

    return _this;
  }

  _createClass(SeeVotes, [{
    key: "render",
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("See votes")));
    }
  }]);

  return SeeVotes;
}(_react.default.Component);

exports.SeeVotes = SeeVotes;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        submit: _this2.props.poll.api.index,
        thread: _this2.props.thread,
        poll: _this2.props.poll,
        mode: "POLL"
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 2)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;

      _store.default.dispatch(poll.busy());

      _ajax.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    });

    _defineProperty(_assertThisInitialized(_this3), "handleSuccess", function (newThreadAcl) {
      _snackbar.default.success("Poll has been deleted");

      _store.default.dispatch(poll.remove());

      _store.default.dispatch(thread.updateAcl(newThreadAcl));
    });

    _defineProperty(_assertThisInitialized(_this3), "handleError", function (rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch(poll.release());
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: getClassName(this.props.controls, 3)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.props.poll.isBusy,
        onClick: this.onClick,
        type: "button"
      }, gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/poll":348,"../../../reducers/thread":356,"../../../services/ajax":361,"../../../services/modal":368,"../../../services/posting":372,"../../../services/snackbar":373,"../../../services/store":374,"./modal":107,"react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-inline poll-help"
  }, /*#__PURE__*/_react.default.createElement(PollChoicesLeft, {
    choicesLeft: props.choicesLeft
  }), /*#__PURE__*/_react.default.createElement(PollAllowRevote, {
    poll: props.poll
  }));
}

function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;

  if (choicesLeft === 0) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-choices-left"
    }, gettext("You can't select any more choices."));
  }

  var message = ngettext("You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);
  var label = interpolate(message, {
    choices: choicesLeft
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-choices-left"
  }, label);
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "poll-help-allow-revotes"
    }, gettext("You can change your vote later."));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "poll-help-no-revotes"
  }, gettext("Votes are final."));
}

},{"../../../utils/escape-html":380,"react":"react"}],110:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _help = _interopRequireDefault(require("./help"));

var _select = _interopRequireDefault(require("./select"));

var _utils = require("./utils");

var _info = _interopRequireDefault(require("../info"));

var _options = require("../results/options");

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var poll = _interopRequireWildcard(require("../../../reducers/poll"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleChoice", function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);
      var choices = null;

      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    });

    _defineProperty(_assertThisInitialized(_this), "selectChoice", function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];

          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "deselectChoice", function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    });

    _this.state = {
      isLoading: false,
      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar.default.error(gettext("You need to select at least one choice"));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      var data = [];

      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];

        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(poll.replace(data));

      _snackbar.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var controls = [];
      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-poll"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("h2", null, this.props.poll.question), /*#__PURE__*/_react.default.createElement(_info.default, {
        poll: this.props.poll
      }), /*#__PURE__*/_react.default.createElement(_select.default, {
        choices: this.state.choices,
        toggleChoice: this.toggleChoice
      }), /*#__PURE__*/_react.default.createElement(_help.default, {
        choicesLeft: this.state.choicesLeft,
        poll: this.props.poll
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 0)
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-sm",
        loading: this.state.isLoading
      }, gettext("Save your vote"))), /*#__PURE__*/_react.default.createElement("div", {
        className: (0, _options.getClassName)(controls, 1)
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-sm",
        disabled: this.state.isLoading,
        onClick: this.props.showResults,
        type: "button"
      }, gettext("See results"))), /*#__PURE__*/_react.default.createElement(_options.Edit, {
        controls: controls,
        poll: this.props.poll,
        thread: this.props.thread
      }), /*#__PURE__*/_react.default.createElement(_options.Delete, {
        controls: controls,
        poll: this.props.poll
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/poll":348,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"../../button":10,"../../form":52,"../info":103,"../results/options":108,"./help":109,"./select":111,"./utils":112,"react":"react"}],111:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChoiceSelect = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled poll-select-choices"
  }, props.choices.map(function (choice) {
    return /*#__PURE__*/_react.default.createElement(ChoiceSelect, {
      choice: choice,
      key: choice.hash,
      toggleChoice: props.toggleChoice
    });
  }));
}

var ChoiceSelect = /*#__PURE__*/function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  var _super = _createSuper(ChoiceSelect);

  function ChoiceSelect() {
    var _this;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    });

    return _this;
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "poll-select-choice"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.choice.selected ? "btn btn-selected" : "btn",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.choice.selected ? "check_box" : "check_box_outline_blank"), /*#__PURE__*/_react.default.createElement("strong", null, this.props.choice.label)));
    }
  }]);

  return ChoiceSelect;
}(_react.default.Component);

exports.ChoiceSelect = ChoiceSelect;

},{"react":"react"}],112:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;

function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];

    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];

  for (var i in choices) {
    var choice = choices[i];

    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],113:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body post-changelog-diff"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, props.diff.map(function (item, i) {
    return /*#__PURE__*/_react.default.createElement(DiffItem, {
      item: item,
      key: i
    });
  })));
}

function DiffItem(props) {
  if (props.item[0] === "?") return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: getItemClassName(props.item)
  }, cleanItem(props.item));
}

function getItemClassName(item) {
  var className = "diff-item";

  if (item[0] === "-") {
    className += " diff-item-sub";
  } else if (item[0] === "+") {
    className += " diff-item-add";
  }

  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],114:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!this.props.canRevert) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-default btn-sm btn-block",
        disabled: this.props.disabled,
        onClick: this.onClick,
        title: gettext("Revert post to state from before this edit.")
      }, gettext("Revert")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../button":10,"react":"react"}],115:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalDialog = ModalDialog;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diff = _interopRequireDefault(require("./diff"));

var _footer = _interopRequireDefault(require("./footer"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

var _utils = require("./utils");

var _modalMessage = _interopRequireDefault(require("../modal-message"));

var _modalLoader = _interopRequireDefault(require("../modal-loader"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _modal = _interopRequireDefault(require("../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "goToEdit", function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;

      if (edit !== null) {
        url += "?edit=" + edit;
      }

      _ajax.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function (edit) {
      if (_this.state.isBusy) return;
      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + "?edit=" + edit;

      _ajax.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);

        _store.default.dispatch(post.patch(data, hydratedPost));

        _snackbar.default.success(gettext("Post has been reverted to previous state."));

        _modal.default.hide();
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    });

    _this.state = {
      isReady: false,
      isBusy: true,
      canRevert: props.post.acl.can_edit,
      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-dialog modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_toolbar.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          goToEdit: this.goToEdit,
          revertEdit: this.revertEdit
        }), /*#__PURE__*/_react.default.createElement(_diff.default, {
          diff: this.state.edit.diff
        }), /*#__PURE__*/_react.default.createElement(_footer.default, {
          canRevert: this.state.canRevert,
          disabled: this.state.isBusy,
          edit: this.state.edit,
          revertEdit: this.revertEdit
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, null, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ModalDialog(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className || "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Post edits history"))), props.children));
}

},{"../../reducers/post":349,"../../services/ajax":361,"../../services/modal":368,"../../services/snackbar":373,"../../services/store":374,"../modal-loader":57,"../modal-message":58,"./diff":113,"./footer":114,"./toolbar":116,"./utils":117,"react":"react"}],116:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _escapeHtml = _interopRequireDefault(require("../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "goLast", function () {
      _this.props.goToEdit();
    });

    _defineProperty(_assertThisInitialized(_this), "goForward", function () {
      _this.props.goToEdit(_this.props.edit.next);
    });

    _defineProperty(_assertThisInitialized(_this), "goBack", function () {
      _this.props.goToEdit(_this.props.edit.previous);
    });

    _defineProperty(_assertThisInitialized(_this), "revertEdit", function () {
      _this.props.revertEdit(_this.props.edit.id);
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-toolbar post-changelog-toolbar"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoBackBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goBack
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoForwardBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goForward
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-4"
      }, /*#__PURE__*/_react.default.createElement(GoLastBtn, {
        disabled: this.props.disabled,
        edit: this.props.edit,
        onClick: this.goLast
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-5 xs-margin-top-half post-change-label"
      }, /*#__PURE__*/_react.default.createElement(Label, {
        edit: this.props.edit
      })), /*#__PURE__*/_react.default.createElement(RevertBtn, {
        canRevert: this.props.canRevert,
        disabled: this.props.disabled,
        onClick: this.revertEdit
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function GoBackBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.previous,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"));
}

function GoForwardBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See next change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

function GoLastBtn(props) {
  return /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-block btn-icon btn-sm",
    disabled: props.disabled || !props.edit.next,
    onClick: props.onClick,
    title: gettext("See previous change")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "last_page"));
}

function RevertBtn(props) {
  if (!props.canRevert) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-3 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn-default btn-sm btn-block",
    disabled: props.disabled,
    onClick: props.onClick,
    title: gettext("Revert post to state from before this edit.")
  }, gettext("Revert")));
}

function Label(props) {
  var user = null;

  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.edit.url.editor),
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.edit.edited_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.edit.edited_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../utils/escape-html":380,"../button":10,"react":"react"}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment.default)(json.edited_on)
  });
}

},{"moment":"moment"}],118:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-ready"
  }, posts.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(_post.default, {
      key: post.id,
      post: post,
      poster: poster
    });
  }));
}

},{"./post":121,"./preview":127,"react":"react"}],119:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body post-body-invalid"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":380,"../../misago-markup":56,"react":"react"}],120:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link item-title",
    href: thread.url
  }, thread.title), /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-link post-category",
    href: category.url.index
  }, category.name), /*#__PURE__*/_react.default.createElement("a", {
    href: post.url.index,
    className: "btn btn-link posted-on",
    title: tooltip
  }, post.posted_on.fromNow()));
}

},{"react":"react"}],121:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _body = _interopRequireDefault(require("./body"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  var user = poster || post.poster;
  var className = "post";

  if (user && user.rank.css_class) {
    className += " post-" + user.rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: className,
    id: "post-" + post.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, {
    post: post,
    poster: user
  }), /*#__PURE__*/_react.default.createElement(_header.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement(_body.default, {
    post: post
  }))));
}

},{"./body":119,"./header":120,"./post-side":124,"react":"react"}],122:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, post.poster_name)), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"./button":123,"react":"react"}],123:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default btn-icon pull-right",
    href: post.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text-left hidden-xs"
  }, gettext("See post")), /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_right"));
}

},{"react":"react"}],124:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, {
      post: post,
      poster: poster
    });
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, {
    post: post
  });
}

},{"./anonymous":122,"./registered":125,"react":"react"}],125:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _button = _interopRequireDefault(require("./button"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      poster = _ref.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    post: post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username)), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    title: poster.title,
    rank: poster.rank
  }))));
}

},{"../../../avatar":8,"./button":123,"./user-title":126,"react":"react"}],126:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title || rank.name;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: rank.url
    }, userTitle);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, userTitle);
}

},{"react":"react"}],127:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default() {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list post-feed ui-preview"
  }, /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 50
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "item-title"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"), "\xA0", /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 200) + "px"
    }
  }, "\xA0"))))))));
}

},{"../../utils/random":385,"../avatar":8,"react":"react"}],128:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var _avatar = _interopRequireDefault(require("./avatar"));

var _modalMessage = _interopRequireDefault(require("./modal-message"));

var _modalLoader = _interopRequireDefault(require("./modal-loader"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isReady: false,
      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: this.state.error
        }));
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return /*#__PURE__*/_react.default.createElement(ModalDialog, {
            className: "modal-sm",
            likes: this.state.likes
          }, /*#__PURE__*/_react.default.createElement(LikesList, {
            likes: this.state.likes
          }));
        }

        return /*#__PURE__*/_react.default.createElement(ModalDialog, {
          className: "modal-message"
        }, /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          message: gettext("No users have liked this post.")
        }));
      }

      return /*#__PURE__*/_react.default.createElement(ModalDialog, {
        className: "modal-sm"
      }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;
  var title = gettext("Post Likes");

  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);
    title = interpolate(message, {
      likes: likesCount
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog " + (className || ""),
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, title)), children));
}

function LikesList(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body modal-post-likers"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "media-list"
  }, props.likes.map(function (like) {
    return /*#__PURE__*/_react.default.createElement(LikeDetails, _extends({
      key: like.id
    }, like));
  })));
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "media"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "media-left"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "user-avatar",
      href: props.url
    }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
      size: "50",
      user: user
    }))), /*#__PURE__*/_react.default.createElement("div", {
      className: "media-body"
    }, /*#__PURE__*/_react.default.createElement("a", {
      className: "item-title",
      href: props.url
    }, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
      likedOn: props.liked_on
    })));
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "user-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50"
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("strong", null, props.username), " ", /*#__PURE__*/_react.default.createElement(LikeDate, {
    likedOn: props.liked_on
  })));
}

function LikeDate(props) {
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "text-muted",
    title: props.likedOn.format("LLL")
  }, props.likedOn.fromNow());
}

},{"../services/ajax":361,"./avatar":8,"./modal-loader":57,"./modal-message":58,"moment":"moment","react":"react"}],129:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,
        canProtect: data.can_protect
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onProtect", function () {
      _this.setState({
        protect: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onUnprotect", function () {
      _this.setState({
        protect: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      protect: false,
      canProtect: false,
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Reply has been edited."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          canProtect: this.state.canProtect,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          onProtect: this.onProtect,
          onUnprotect: this.onUnprotect,
          protect: this.state.protect,
          submitLabel: gettext("Edit reply"),
          value: this.state.post
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":361,"../../services/posting":372,"../../services/snackbar":373,"../editor":48,"../form":52,"./utils/attachments":134,"./utils/container":135,"./utils/loader":136,"./utils/message":137,"./utils/validators":140,"react":"react"}],130:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _start = _interopRequireDefault(require("./start"));

var _startPrivate = _interopRequireDefault(require("./start-private"));

var _reply = _interopRequireDefault(require("./reply"));

var _edit = _interopRequireDefault(require("./edit"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.mode === "START") {
    return /*#__PURE__*/_react.default.createElement(_start.default, props);
  } else if (props.mode === "START_PRIVATE") {
    return /*#__PURE__*/_react.default.createElement(_startPrivate.default, props);
  } else if (props.mode === "REPLY") {
    return /*#__PURE__*/_react.default.createElement(_reply.default, props);
  } else if (props.mode === "EDIT") {
    return /*#__PURE__*/_react.default.createElement(_edit.default, props);
  } else {
    return null;
  }
}

},{"./edit":129,"./reply":131,"./start":133,"./start-private":132,"react":"react"}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      _this.setState({
        isReady: true,
        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]" : ""
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "appendData", function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + "\n[/quote]\n\n" : "";

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + "\n\n" + newPost
          };
        }

        return {
          post: newPost
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      post: "",
      attachments: [],
      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;
      if (context && newContext && context.reply === newContext.reply) return;

      _ajax.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar.default.apiError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your reply has been posted."));

      window.location = success.url.index; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_container.default, {
          className: "posting-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit,
          method: "POST"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-md-12"
        }, /*#__PURE__*/_react.default.createElement(_editor.default, {
          attachments: this.state.attachments,
          loading: this.state.isLoading,
          onAttachmentsChange: this.onAttachmentsChange,
          onCancel: this.onCancel,
          onChange: this.onPostChange,
          submitLabel: gettext("Post reply"),
          value: this.state.post
        })))));
      } else if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":361,"../../services/posting":372,"../../services/snackbar":373,"../editor":48,"../form":52,"./utils/attachments":134,"./utils/container":135,"./utils/loader":136,"./utils/message":137,"./utils/validators":140,"react":"react"}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _message = _interopRequireDefault(require("./utils/message"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _usernames = _interopRequireDefault(require("./utils/usernames"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onToChange", function (event) {
      _this.changeValue("to", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (event) {
      _this.changeValue("post", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attachments) {
      _this.setState({
        attachments: attachments
      });
    });

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(", ");
    _this.state = {
      isLoading: false,
      to: to,
      title: "",
      post: "",
      attachments: [],
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!(0, _usernames.default)(this.state.to).length) {
        _snackbar.default.error(gettext("You have to enter at least one recipient."));

        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        to: (0, _usernames.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onToChange,
        placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
        type: "text",
        value: this.state.to
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":361,"../../services/posting":372,"../../services/snackbar":373,"../editor":48,"../form":52,"./utils/attachments":134,"./utils/container":135,"./utils/message":137,"./utils/usernames":139,"./utils/validators":140,"react":"react"}],133:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categorySelect = _interopRequireDefault(require("../category-select"));

var _editor = _interopRequireDefault(require("../editor"));

var _form = _interopRequireDefault(require("../form"));

var _container = _interopRequireDefault(require("./utils/container"));

var _loader = _interopRequireDefault(require("./utils/loader"));

var _message = _interopRequireDefault(require("./utils/message"));

var _options = _interopRequireDefault(require("./utils/options"));

var attachments = _interopRequireWildcard(require("./utils/attachments"));

var _validators = require("./utils/validators");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadSuccess", function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null; // hydrate categories, extract posting options

      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,
        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    });

    _defineProperty(_assertThisInitialized(_this), "loadError", function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));

      if (cancel) {
        _posting.default.close();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onTitleChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      }); // if selected pin is greater than allowed, reduce it


      var pin = _this.state.pin;

      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,
        pin: pin
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onPostChange", function (value) {
      _this.changeValue("post", value);
    });

    _defineProperty(_assertThisInitialized(_this), "onAttachmentsChange", function (attach) {
      _this.setState({
        attachments: attach
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onClose", function () {
      _this.changeValue("close", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onOpen", function () {
      _this.changeValue("close", false);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinGlobally", function () {
      _this.changeValue("pin", 2);
    });

    _defineProperty(_assertThisInitialized(_this), "onPinLocally", function () {
      _this.changeValue("pin", 1);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnpin", function () {
      _this.changeValue("pin", 0);
    });

    _defineProperty(_assertThisInitialized(_this), "onHide", function () {
      _this.changeValue("hide", true);
    });

    _defineProperty(_assertThisInitialized(_this), "onUnhide", function () {
      _this.changeValue("hide", false);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,
      showOptions: false,
      categoryOptions: null,
      title: "",
      category: props.category || null,
      categories: [],
      post: "",
      attachments: [],
      close: false,
      hide: false,
      pin: 0,
      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _ajax.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar.default.error(gettext("You have to enter a message."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      if (errors.post) {
        _snackbar.default.error(errors.post[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _snackbar.default.success(gettext("Your thread has been posted."));

      window.location = success.url; // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar.default.error(errors[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isErrored) {
        return /*#__PURE__*/_react.default.createElement(_message.default, {
          message: this.state.isErrored
        });
      }

      if (!this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement(_loader.default, null);
      }

      var columns = 0;
      if (this.state.categoryOptions.close) columns += 1;
      if (this.state.categoryOptions.hide) columns += 1;
      if (this.state.categoryOptions.pin) columns += 1;
      var titleStyle = null;

      if (columns === 1) {
        titleStyle = "col-sm-6";
      } else {
        titleStyle = "col-sm-8";
      }

      if (columns === 3) {
        titleStyle += " col-md-6";
      } else if (columns) {
        titleStyle += " col-md-7";
      } else {
        titleStyle += " col-md-9";
      }

      return /*#__PURE__*/_react.default.createElement(_container.default, {
        className: "posting-form",
        withFirstRow: true
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row first-row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: titleStyle
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.onTitleChange,
        placeholder: gettext("Thread title"),
        type: "text",
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3 xs-margin-top"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        choices: this.state.categories,
        disabled: this.state.isLoading,
        onChange: this.onCategoryChange,
        value: this.state.category
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        close: this.state.close,
        columns: columns,
        disabled: this.state.isLoading,
        hide: this.state.hide,
        onClose: this.onClose,
        onHide: this.onHide,
        onOpen: this.onOpen,
        onPinGlobally: this.onPinGlobally,
        onPinLocally: this.onPinLocally,
        onUnhide: this.onUnhide,
        onUnpin: this.onUnpin,
        options: this.state.categoryOptions,
        pin: this.state.pin,
        showOptions: this.state.showOptions
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-12"
      }, /*#__PURE__*/_react.default.createElement(_editor.default, {
        attachments: this.state.attachments,
        loading: this.state.isLoading,
        onAttachmentsChange: this.onAttachmentsChange,
        onCancel: this.onCancel,
        onChange: this.onPostChange,
        submitLabel: gettext("Post thread"),
        value: this.state.post
      })))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../services/ajax":361,"../../services/posting":372,"../../services/snackbar":373,"../category-select":23,"../editor":48,"../form":52,"./utils/attachments":134,"./utils/container":135,"./utils/loader":136,"./utils/message":137,"./utils/options":138,"./utils/validators":140,"react":"react"}],134:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });
  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],135:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, props.children));
}

},{"react":"react"}],136:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-loader"
  }, /*#__PURE__*/_react.default.createElement(_loader.default, null));
}

},{"../../loader":54,"./container":135,"react":"react"}],137:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _container = _interopRequireDefault(require("./container"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_container.default, {
    className: "posting-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "error_outline"), props.message), /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-default",
    onClick: _posting.default.close
  }, gettext("Dismiss"))));
}

},{"../../../services/posting":372,"./container":135,"react":"react"}],138:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.showOptions) return null;
  var columns = props.columns;
  var className = "col-xs-12 xs-margin-top";

  if (columns === 1) {
    className += " col-sm-2";
  } else {
    className += " sm-margin-top";
  }

  if (columns === 3) {
    className += " col-md-3";
  } else {
    className += " col-md-2";
  }

  className += " posting-options";
  var columnClassName = "col-xs-" + 12 / columns;
  var textClassName = "btn-text";

  if (columns === 3) {
    textClassName += " visible-sm-inline-block";
  } else if (columns === 2) {
    textClassName += " hidden-md hidden-lg";
  } else {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(PinOptions, {
    className: columnClassName,
    disabled: props.disabled,
    onPinGlobally: props.onPinGlobally,
    onPinLocally: props.onPinLocally,
    onUnpin: props.onUnpin,
    pin: props.pin,
    show: props.options.pin,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(HideOptions, {
    className: columnClassName,
    disabled: props.disabled,
    hide: props.hide,
    onHide: props.onHide,
    onUnhide: props.onUnhide,
    show: props.options.hide,
    textClassName: textClassName
  }), /*#__PURE__*/_react.default.createElement(CloseOptions, {
    className: columnClassName,
    close: props.close,
    disabled: props.disabled,
    onClose: props.onClose,
    onOpen: props.onOpen,
    show: props.options.close,
    textClassName: textClassName
  })));
}

function CloseOptions(props) {
  if (!props.show) return null;
  var label = props.close ? gettext("Closed") : gettext("Open");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.close ? props.onOpen : props.onClose,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.close ? "lock" : "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function HideOptions(props) {
  if (!props.show) return null;
  var label = props.hide ? gettext("Hidden") : gettext("Not hidden");
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: props.hide ? props.onUnhide : props.onHide,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, props.hide ? "visibility_off" : "visibility"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

function PinOptions(props) {
  if (!props.show) return null;
  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    case 0:
      icon = "radio_button_unchecked";
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;

    case 1:
      icon = "bookmark_outline";
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");

      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = "bookmark";
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-block",
    disabled: props.disabled,
    onClick: onClick,
    title: label,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: props.textClassName
  }, label)));
}

},{"react":"react"}],139:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(usernames) {
  var normalisedNames = usernames.split(",").map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });
  return removedDuplicates;
}

},{}],140:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require("../../../utils/validators");

var _ = _interopRequireDefault(require("../../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_.default.get("SETTINGS").post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_.default.get("SETTINGS").post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_.default.get("SETTINGS").post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);
    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":298,"../../../utils/validators":390}],141:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Delete = exports.Unhide = exports.Hide = void 0;

var _react = _interopRequireDefault(require("react"));

var _moment = _interopRequireDefault(require("moment"));

var post = _interopRequireWildcard(require("../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (isVisible(props.post.acl)) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-controls"
    }, /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
  } else {
    return null;
  }
}

function isVisible(acl) {
  return acl.can_hide;
}

var Hide = /*#__PURE__*/function (_React$Component) {
  _inherits(Hide, _React$Component);

  var _super = _createSuper(Hide);

  function Hide() {
    var _this;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: true
      };

      _ajax.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    });

    return _this;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Hide"));
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  var _super2 = _createSuper(Unhide);

  function Unhide() {
    var _this2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _store.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = {
        op: "replace",
        path: "is-hidden",
        value: false
      };

      _ajax.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    });

    return _this2;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (this.props.post.is_hidden) {
        return /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.onClick
        }, gettext("Unhide"));
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  var _super3 = _createSuper(Delete);

  function Delete() {
    var _this3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));

      if (decision) {
        _this3.delete();
      }
    });

    _defineProperty(_assertThisInitialized(_this3), "delete", function () {
      _store.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }

        _store.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    });

    return _this3;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, gettext("Delete"));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../reducers/post":349,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"moment":"moment","react":"react"}],142:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: "edit",
  pinned_globally: "bookmark",
  pinned_locally: "bookmark_border",
  unpinned: "panorama_fish_eye",
  moved: "arrow_forward",
  merged: "call_merge",
  approved: "done",
  opened: "lock_open",
  closed: "lock_outline",
  unhid: "visibility",
  hid: "visibility_off",
  changed_owner: "grade",
  tookover: "grade",
  added_participant: "person_add",
  owner_left: "person_outline",
  participant_left: "person_outline",
  removed_participant: "remove_circle_outline"
};

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, ICON[props.post.event_type]));
}

},{"react":"react"}],143:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _icon = _interopRequireDefault(require("./icon"));

var _info = _interopRequireDefault(require("./info"));

var _message = _interopRequireDefault(require("./message"));

var _unreadLabel = _interopRequireDefault(require("./unread-label"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "event";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden) {
    className = "event post-hidden";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement(_unreadLabel.default, {
    post: props.post
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-2 col-sm-3 text-right"
  }, /*#__PURE__*/_react.default.createElement(_icon.default, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-sm-9 text-left"
  }, /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_message.default, props), /*#__PURE__*/_react.default.createElement(_info.default, props)))));
}

},{"../waypoint":169,"./icon":142,"./info":144,"./message":145,"./unread-label":146,"react":"react"}],144:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Hidden = Hidden;
exports.Poster = Poster;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

var _controls = _interopRequireDefault(require("./controls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline event-info"
  }, /*#__PURE__*/_react.default.createElement(Hidden, props), /*#__PURE__*/_react.default.createElement(Poster, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;

    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
      relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
    }, true);
    var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "event-hidden-message",
      dangerouslySetInnerHTML: {
        __html: message
      }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;

  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.post.poster.url),
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml.default)(props.post.url.index),
    absolute: (0, _escapeHtml.default)(props.post.posted_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.posted_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "event-posters",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":380,"./controls":141,"react":"react"}],145:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),
  approved: gettext("Thread has been approved."),
  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),
  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),
  tookover: gettext("Took thread over."),
  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};
var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function _default(props) {
  if (MESSAGE[props.post.event_type]) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "event-message"
    }, MESSAGE[props.post.event_type]);
  } else if (props.post.event_type === "changed_title") {
    return /*#__PURE__*/_react.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === "moved") {
    return /*#__PURE__*/_react.default.createElement(Moved, props);
  } else if (props.post.event_type === "merged") {
    return /*#__PURE__*/_react.default.createElement(Merged, props);
  } else if (props.post.event_type === "changed_owner") {
    return /*#__PURE__*/_react.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === "added_participant") {
    return /*#__PURE__*/_react.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === "removed_participant") {
    return /*#__PURE__*/_react.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
}

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml.default)(props.post.event_context.from_category.name)
  }, true);
  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml.default)(props.post.event_context.merged_thread)
  }, true);
  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml.default)(props.post.event_context.user.username)
  }, true);
  var message = interpolate(msgstring, {
    user: newOwner
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "event-message",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../utils/escape-html":380,"react":"react"}],146:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post;
  if (post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "event-label"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread"
  }, gettext("New event")))));
}

},{"react":"react"}],147:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.ListItem = ListItem;

var _react = _interopRequireDefault(require("react"));

var _event = _interopRequireDefault(require("./event"));

var _post = _interopRequireDefault(require("./post"));

var _preview = _interopRequireDefault(require("./post/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.posts.isLoaded) {
    return /*#__PURE__*/_react.default.createElement("ul", {
      className: "posts-list ui-preview"
    }, /*#__PURE__*/_react.default.createElement(_preview.default, null));
  }

  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "posts-list ui-ready"
  }, props.posts.results.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(ListItem, _extends({
      key: post.id,
      post: post
    }, props));
  }));
}

function ListItem(props) {
  if (props.post.is_event) {
    return /*#__PURE__*/_react.default.createElement(_event.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_post.default, props);
}

},{"./event":143,"./post":159,"./post/preview":167,"react":"react"}],148:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../../../.."));

var _escapeHtml = _interopRequireDefault(require("../../../../utils/escape-html"));

var _fileSize = _interopRequireDefault(require("../../../../utils/file-size"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-6"
  }, /*#__PURE__*/_react.default.createElement(AttachmentPreview, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachment"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "attachment-name item-title"
  }, props.attachment.filename), /*#__PURE__*/_react.default.createElement(AttachmentDetails, props)));
}

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentThumbnail, props));
  } else {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "post-attachment-preview"
    }, /*#__PURE__*/_react.default.createElement(AttachmentIcon, props));
  }
}

function AttachmentIcon(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.attachment.url.index,
    className: "material-icon"
  }, "insert_drive_file");
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "post-thumbnail",
    href: props.attachment.url.index,
    style: {
      backgroundImage: 'url("' + (0, _escapeHtml.default)(url) + '")'
    }
  });
}

function AttachmentDetails(props) {
  var user = null;

  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml.default)(props.attachment.uploaded_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.attachment.uploaded_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement("p", {
    className: "post-attachment-description",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

},{"../../../..":298,"../../../../utils/escape-html":380,"../../../../utils/file-size":381,"react":"react"}],149:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.Row = Row;

var _react = _interopRequireDefault(require("react"));

var _batch = _interopRequireDefault(require("../../../../utils/batch"));

var _attachment = _interopRequireDefault(require("./attachment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-attachments"
  }, (0, _batch.default)(props.post.attachments, 2).map(function (row) {
    var key = row.map(function (a) {
      return a ? a.id : 0;
    }).join("_");
    return /*#__PURE__*/_react.default.createElement(Row, {
      key: key,
      row: row
    });
  }));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, props.row.map(function (attachment) {
    return /*#__PURE__*/_react.default.createElement(_attachment.default, {
      attachment: attachment,
      key: attachment ? attachment.id : 0
    });
  }));
}

},{"../../../../utils/batch":377,"./attachment":148,"react":"react"}],150:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = _interopRequireDefault(require("react"));

var _waypoint = _interopRequireDefault(require("../waypoint"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function _default(props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return /*#__PURE__*/_react.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return /*#__PURE__*/_react.default.createElement(Default, props);
  } else {
    return /*#__PURE__*/_react.default.createElement(Invalid, props);
  }
}

function Default(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement(_misagoMarkup.default, {
    markup: props.post.content
  }));
}

function Hidden(props) {
  var user = null;

  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml.default)(props.post.hidden_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.post.hidden_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-hidden",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post is hidden. You cannot see its contents.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted",
    dangerouslySetInnerHTML: {
      __html: message
    }
  }));
}

function Invalid(props) {
  return /*#__PURE__*/_react.default.createElement(_waypoint.default, {
    className: "post-body post-body-invalid",
    post: props.post
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("This post's contents cannot be displayed.")), /*#__PURE__*/_react.default.createElement("p", {
    className: "text-muted"
  }, gettext("This error is caused by invalid post content manipulation.")));
}

},{"../../../utils/escape-html":380,"../../misago-markup":56,"../waypoint":169,"react":"react"}],151:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;
exports.markAsBestAnswer = markAsBestAnswer;
exports.unmarkBestAnswer = unmarkBestAnswer;
exports.patchThread = patchThread;

var _moment = _interopRequireDefault(require("moment"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var previousState = {
    is_unapproved: props.post.is_unapproved
  };
  patch(props, ops, previousState);
}

function protect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function unprotect(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var previousState = {
    is_protected: props.post.is_protected
  };
  patch(props, ops, previousState);
}

function hide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };
  patch(props, ops, previousState);
}

function unhide(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var previousState = {
    is_hidden: props.post.is_hidden
  };
  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: true
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function unlike(props) {
  _store.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{
    op: "replace",
    path: "is-liked",
    value: false
  }];
  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };
  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax.default.patch(props.post.api.index, ops).then(function (newState) {
    _store.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  _store.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax.default.delete(props.post.api.index).then(function () {
    _snackbar.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

function markAsBestAnswer(props) {
  var post = props.post,
      user = props.user;

  _store.default.dispatch(thread.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: (0, _moment.default)(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));

  var ops = [{
    op: "replace",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function unmarkBestAnswer(props) {
  var post = props.post;

  _store.default.dispatch(thread.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));

  var ops = [{
    op: "remove",
    path: "best-answer",
    value: post.id
  }, {
    op: "add",
    path: "acl",
    value: true
  }];
  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };
  patchThread(props, ops, previousState);
}

function patchThread(props, ops, previousState) {
  _ajax.default.patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = (0, _moment.default)(newState.best_answer_marked_on);
    }

    _store.default.dispatch(thread.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(thread.update(previousState));
  });
}

},{"../../../../reducers/post":349,"../../../../reducers/thread":356,"../../../../services/ajax":361,"../../../../services/snackbar":373,"../../../../services/store":374,"moment":"moment"}],152:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../../services/posting"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _postChangelog = _interopRequireDefault(require("../../../post-changelog"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Permalink, props), /*#__PURE__*/_react.default.createElement(Edit, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(UnmarkMarkBestAnswer, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Permalink = /*#__PURE__*/function (_React$Component) {
  _inherits(Permalink, _React$Component);

  var _super = _createSuper(Permalink);

  function Permalink() {
    var _this;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      var permaUrl = window.location.protocol + "//";
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;
      prompt(gettext("Permament link to this post:"), permaUrl);
    });

    return _this;
  }

  _createClass(Permalink, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "link"), gettext("Permament link")));
    }
  }]);

  return Permalink;
}(_react.default.Component);

exports.Permalink = Permalink;

var Edit = /*#__PURE__*/function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  var _super2 = _createSuper(Edit);

  function Edit() {
    var _this2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    });

    return _this2;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Edit")));
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component3) {
  _inherits(MarkAsBestAnswer, _React$Component3);

  var _super3 = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this3;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      moderation.markAsBestAnswer(_this3.props);
    });

    return _this3;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Mark as best answer")));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var UnmarkMarkBestAnswer = /*#__PURE__*/function (_React$Component4) {
  _inherits(UnmarkMarkBestAnswer, _React$Component4);

  var _super4 = _createSuper(UnmarkMarkBestAnswer);

  function UnmarkMarkBestAnswer() {
    var _this4;

    _classCallCheck(this, UnmarkMarkBestAnswer);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      moderation.unmarkBestAnswer(_this4.props);
    });

    return _this4;
  }

  _createClass(UnmarkMarkBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Unmark best answer")));
    }
  }]);

  return UnmarkMarkBestAnswer;
}(_react.default.Component);

exports.UnmarkMarkBestAnswer = UnmarkMarkBestAnswer;

var PostEdits = /*#__PURE__*/function (_React$Component5) {
  _inherits(PostEdits, _React$Component5);

  var _super5 = _createSuper(PostEdits);

  function PostEdits() {
    var _this5;

    _classCallCheck(this, PostEdits);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this5.props.post
      }));
    });

    return _this5;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(message, {
        edits: this.props.post.edits
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "edit"), gettext("Changes history")));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var Approve = /*#__PURE__*/function (_React$Component6) {
  _inherits(Approve, _React$Component6);

  var _super6 = _createSuper(Approve);

  function Approve() {
    var _this6;

    _classCallCheck(this, Approve);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.approve(_this6.props);
    });

    return _this6;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Move = /*#__PURE__*/function (_React$Component7) {
  _inherits(Move, _React$Component7);

  var _super7 = _createSuper(Move);

  function Move() {
    var _this7;

    _classCallCheck(this, Move);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this7.props));
    });

    return _this7;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component8) {
  _inherits(Split, _React$Component8);

  var _super8 = _createSuper(Split);

  function Split() {
    var _this8;

    _classCallCheck(this, Split);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this8.props));
    });

    return _this8;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component9) {
  _inherits(Protect, _React$Component9);

  var _super9 = _createSuper(Protect);

  function Protect() {
    var _this9;

    _classCallCheck(this, Protect);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.protect(_this9.props);
    });

    return _this9;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component10) {
  _inherits(Unprotect, _React$Component10);

  var _super10 = _createSuper(Unprotect);

  function Unprotect() {
    var _this10;

    _classCallCheck(this, Unprotect);

    for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    _this10 = _super10.call.apply(_super10, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this10), "onClick", function () {
      moderation.unprotect(_this10.props);
    });

    return _this10;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Remove protection")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component11) {
  _inherits(Hide, _React$Component11);

  var _super11 = _createSuper(Hide);

  function Hide() {
    var _this11;

    _classCallCheck(this, Hide);

    for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }

    _this11 = _super11.call.apply(_super11, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this11), "onClick", function () {
      moderation.hide(_this11.props);
    });

    return _this11;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          post = _this$props3.post,
          thread = _this$props3.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component12) {
  _inherits(Unhide, _React$Component12);

  var _super12 = _createSuper(Unhide);

  function Unhide() {
    var _this12;

    _classCallCheck(this, Unhide);

    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }

    _this12 = _super12.call.apply(_super12, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this12), "onClick", function () {
      moderation.unhide(_this12.props);
    });

    return _this12;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component13) {
  _inherits(Delete, _React$Component13);

  var _super13 = _createSuper(Delete);

  function Delete() {
    var _this13;

    _classCallCheck(this, Delete);

    for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }

    _this13 = _super13.call.apply(_super13, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this13), "onClick", function () {
      moderation.remove(_this13.props);
    });

    return _this13;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var _this$props4 = this.props,
          post = _this$props4.post,
          thread = _this$props4.thread;
      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":368,"../../../../services/posting":372,"../../../post-changelog":115,"./actions":151,"./move":154,"./split":155,"react":"react"}],153:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pull-right dropdown"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default btn-icon dropdown-toggle",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more")), /*#__PURE__*/_react.default.createElement(_dropdown.default, props));
}

},{"./dropdown":152,"react":"react"}],154:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move post to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move post"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move post")));
}

},{"../../../../reducers/post":349,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../button":10,"../../../form":52,"../../../form-group":51,"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split post")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this post at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message)));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split post into new thread"))), props.children));
}

},{"../../../../reducers/post":349,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../../utils/validators":390,"../../../button":10,"../../../category-select":23,"../../../form":52,"../../../form-group":51,"../../../modal-loader":57,"../../../select":206,"react":"react"}],156:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagBestAnswer = FlagBestAnswer;
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagBestAnswer(_ref) {
  var post = _ref.post,
      thread = _ref.thread,
      user = _ref.user;

  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }

  var message = null;

  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(gettext("Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-best-answer"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("p", null, message));
}

function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is hidden. Only users with permission may see its contents.")));
}

function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-unapproved"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")));
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-status-message post-status-protected visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("p", null, gettext("This post is protected. Only moderators may change it.")));
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],157:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("./controls/actions"));

var _postLikes = _interopRequireDefault(require("../../post-likes"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _posting = _interopRequireDefault(require("../../../services/posting"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!isVisible(props.post)) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-footer"
  }, /*#__PURE__*/_react.default.createElement(MarkAsBestAnswer, props), /*#__PURE__*/_react.default.createElement(MarkAsBestAnswerCompact, props), /*#__PURE__*/_react.default.createElement(Like, props), /*#__PURE__*/_react.default.createElement(Likes, _extends({
    lastLikes: props.post.last_likes,
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(LikesCompact, _extends({
    likes: props.post.likes
  }, props)), /*#__PURE__*/_react.default.createElement(Reply, props), /*#__PURE__*/_react.default.createElement(Edit, props));
}

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var MarkAsBestAnswer = /*#__PURE__*/function (_React$Component) {
  _inherits(MarkAsBestAnswer, _React$Component);

  var _super = _createSuper(MarkAsBestAnswer);

  function MarkAsBestAnswer() {
    var _this;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      actions.markAsBestAnswer(_this.props);
    });

    return _this;
  }

  _createClass(MarkAsBestAnswer, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          post = _this$props.post,
          thread = _this$props.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "hidden-xs btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Best answer"));
    }
  }]);

  return MarkAsBestAnswer;
}(_react.default.Component);

exports.MarkAsBestAnswer = MarkAsBestAnswer;

var MarkAsBestAnswerCompact = /*#__PURE__*/function (_React$Component2) {
  _inherits(MarkAsBestAnswerCompact, _React$Component2);

  var _super2 = _createSuper(MarkAsBestAnswerCompact);

  function MarkAsBestAnswerCompact() {
    var _this2;

    _classCallCheck(this, MarkAsBestAnswerCompact);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      actions.markAsBestAnswer(_this2.props);
    });

    return _this2;
  }

  _createClass(MarkAsBestAnswerCompact, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          post = _this$props2.post,
          thread = _this$props2.thread;
      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "visible-xs-inline-block btn btn-default btn-sm pull-left",
        disabled: this.props.post.isBusy || post.id === thread.best_answer,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"));
    }
  }]);

  return MarkAsBestAnswerCompact;
}(_react.default.Component);

exports.MarkAsBestAnswerCompact = MarkAsBestAnswerCompact;

var Like = /*#__PURE__*/function (_React$Component3) {
  _inherits(Like, _React$Component3);

  var _super3 = _createSuper(Like);

  function Like() {
    var _this3;

    _classCallCheck(this, Like);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.post.is_liked) {
        actions.unlike(_this3.props);
      } else {
        actions.like(_this3.props);
      }
    });

    return _this3;
  }

  _createClass(Like, [{
    key: "render",
    value: function render() {
      if (!this.props.post.acl.can_like) return null;
      var className = "btn btn-default btn-sm pull-left";

      if (this.props.post.is_liked) {
        className = "btn btn-success btn-sm pull-left";
      }

      return /*#__PURE__*/_react.default.createElement("button", {
        className: className,
        disabled: this.props.post.isBusy,
        onClick: this.onClick,
        type: "button"
      }, this.props.post.is_liked ? gettext("Liked") : gettext("Like"));
    }
  }]);

  return Like;
}(_react.default.Component);

exports.Like = Like;

var Likes = /*#__PURE__*/function (_React$Component4) {
  _inherits(Likes, _React$Component4);

  var _super4 = _createSuper(Likes);

  function Likes() {
    var _this4;

    _classCallCheck(this, Likes);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postLikes.default, {
        post: _this4.props.post
      }));
    });

    return _this4;
  }

  _createClass(Likes, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm pull-left hidden-xs",
          onClick: this.onClick,
          type: "button"
        }, getLikesMessage(this.props.likes, this.props.lastLikes));
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "pull-left hidden-xs"
      }, getLikesMessage(this.props.likes, this.props.lastLikes));
    }
  }]);

  return Likes;
}(_react.default.Component);

exports.Likes = Likes;

var LikesCompact = /*#__PURE__*/function (_Likes) {
  _inherits(LikesCompact, _Likes);

  var _super5 = _createSuper(LikesCompact);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _super5.apply(this, arguments);
  }

  _createClass(LikesCompact, [{
    key: "render",
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-link btn-sm likes-compact pull-left visible-xs-block",
          onClick: this.onClick,
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "favorite"), this.props.likes);
      }

      return /*#__PURE__*/_react.default.createElement("p", {
        className: "likes-compact pull-left visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), this.props.likes);
    }
  }]);

  return LikesCompact;
}(Likes);

exports.LikesCompact = LikesCompact;

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;
  var otherUsers = usernames.slice(0, -1).join(", ");
  var lastUser = usernames.slice(-1)[0];
  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);
  return interpolate(message, {
    users: usernames.join(", "),
    likes: hiddenLikes
  }, true);
}

var Reply = /*#__PURE__*/function (_React$Component5) {
  _inherits(Reply, _React$Component5);

  var _super6 = _createSuper(Reply);

  function Reply() {
    var _this5;

    _classCallCheck(this, Reply);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this5.props.thread.api.editor,
        submit: _this5.props.thread.api.posts.index,
        context: {
          reply: _this5.props.post.id
        }
      });
    });

    return _this5;
  }

  _createClass(Reply, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Reply"));
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react.default.Component);

exports.Reply = Reply;

var Edit = /*#__PURE__*/function (_React$Component6) {
  _inherits(Edit, _React$Component6);

  var _super7 = _createSuper(Edit);

  function Edit() {
    var _this6;

    _classCallCheck(this, Edit);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      _posting.default.open({
        mode: "EDIT",
        config: _this6.props.post.api.editor,
        submit: _this6.props.post.api.index
      });
    });

    return _this6;
  }

  _createClass(Edit, [{
    key: "render",
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("button", {
          className: "hidden-xs btn btn-default btn-sm pull-right",
          type: "button",
          onClick: this.onClick
        }, gettext("Edit"));
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react.default.Component);

exports.Edit = Edit;

},{"../../../services/modal":368,"../../../services/posting":372,"../../post-likes":128,"./controls/actions":151,"react":"react"}],158:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;
exports.PostEditsCompacts = exports.PostEdits = void 0;

var _react = _interopRequireDefault(require("react"));

var _controls = _interopRequireDefault(require("./controls"));

var _select = _interopRequireDefault(require("./select"));

var _userStatus = require("../../user-status");

var _postChangelog = _interopRequireDefault(require("../../post-changelog"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "post-heading"
  }, /*#__PURE__*/_react.default.createElement(UnreadLabel, props), /*#__PURE__*/_react.default.createElement(UnreadCompact, props), /*#__PURE__*/_react.default.createElement(PostedOn, props), /*#__PURE__*/_react.default.createElement(PostedOnCompact, props), /*#__PURE__*/_react.default.createElement(PostEdits, props), /*#__PURE__*/_react.default.createElement(PostEditsCompacts, props), /*#__PURE__*/_react.default.createElement(ProtectedLabel, props), /*#__PURE__*/_react.default.createElement(_select.default, props), /*#__PURE__*/_react.default.createElement(_controls.default, props));
}

function UnreadLabel(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread hidden-xs"
  }, gettext("New post"));
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-unread visible-xs-inline-block"
  }, gettext("New"));
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    posted_on: props.post.posted_on.format("LL, LT")
  }, true);
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on hidden-xs",
    title: tooltip
  }, props.post.posted_on.fromNow());
}

function PostedOnCompact(props) {
  return /*#__PURE__*/_react.default.createElement("a", {
    href: props.post.url.index,
    className: "btn btn-link posted-on visible-xs-inline-block"
  }, props.post.posted_on.fromNow(true));
}

var PostEdits = /*#__PURE__*/function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  var _super = _createSuper(PostEdits);

  function PostEdits() {
    var _this;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_postChangelog.default, {
        post: _this.props.post
      }));
    });

    return _this;
  }

  _createClass(PostEdits, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);
      var title = interpolate(tooltip, {
        edits: this.props.post.edits
      }, true);
      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits hidden-xs",
        onClick: this.onClick,
        title: title,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEdits;
}(_react.default.Component);

exports.PostEdits = PostEdits;

var PostEditsCompacts = /*#__PURE__*/function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  var _super2 = _createSuper(PostEditsCompacts);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _super2.apply(this, arguments);
  }

  _createClass(PostEditsCompacts, [{
    key: "render",
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;
      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link btn-see-edits visible-xs-inline-block",
        onClick: this.onClick,
        type: "button"
      }, interpolate(label, {
        edits: this.props.post.edits
      }, true));
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

exports.PostEditsCompacts = PostEditsCompacts;

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "label label-protected hidden-xs",
    title: gettext("This post is protected and may not be edited.")
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), gettext("protected"));
}

},{"../../../services/modal":368,"../../post-changelog":115,"../../user-status":270,"./controls":153,"./select":168,"react":"react"}],159:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _attachments = _interopRequireDefault(require("./attachments"));

var _body = _interopRequireDefault(require("./body"));

var _flags = require("./flags");

var _footer = _interopRequireDefault(require("./footer"));

var _header = _interopRequireDefault(require("./header"));

var _postSide = _interopRequireDefault(require("./post-side"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var className = "post";

  if (props.post.isDeleted) {
    className = "hide";
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = "post post-hidden";
  }

  if (props.post.poster && props.post.poster.rank.css_class) {
    className += " post-" + props.post.poster.rank.css_class;
  }

  if (!props.post.is_read) {
    className += " post-new";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    id: "post-" + props.post.id,
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(_postSide.default, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-9"
  }, /*#__PURE__*/_react.default.createElement(_header.default, props), /*#__PURE__*/_react.default.createElement(_flags.FlagBestAnswer, props), /*#__PURE__*/_react.default.createElement(_flags.FlagUnapproved, props), /*#__PURE__*/_react.default.createElement(_flags.FlagProtected, props), /*#__PURE__*/_react.default.createElement(_flags.FlagHidden, props), /*#__PURE__*/_react.default.createElement(_body.default, props), /*#__PURE__*/_react.default.createElement(_attachments.default, props), /*#__PURE__*/_react.default.createElement(_footer.default, props))))));
}

},{"./attachments":149,"./body":150,"./flags":156,"./footer":157,"./header":158,"./post-side":162,"react":"react"}],160:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-anonymous"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "media-heading item-title"
  }, post.poster_name), /*#__PURE__*/_react.default.createElement("span", {
    className: "user-title user-title-anonymous"
  }, gettext("Removed user")))));
}

},{"../../../avatar":8,"../../../user-status":270,"../controls":153,"../select":168,"./user-postcount":164,"./user-title":166,"react":"react"}],161:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(_ref) {
  var title = _ref.title,
      rank = _ref.rank;
  return rank.is_tab || !!title || !!rank.title;
}

},{}],162:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _anonymous = _interopRequireDefault(require("./anonymous"));

var _registered = _interopRequireDefault(require("./registered"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.post.poster) {
    return /*#__PURE__*/_react.default.createElement(_registered.default, props);
  }

  return /*#__PURE__*/_react.default.createElement(_anonymous.default, props);
}

},{"./anonymous":160,"./registered":163,"react":"react"}],163:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../../avatar"));

var _controls = _interopRequireDefault(require("../controls"));

var _select = _interopRequireDefault(require("../select"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _userPostcount = _interopRequireDefault(require("./user-postcount"));

var _userStatus2 = _interopRequireDefault(require("./user-status"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-md-3 post-side post-side-registered"
  }, /*#__PURE__*/_react.default.createElement(_select.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_controls.default, {
    post: post,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: poster.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "poster-avatar",
    size: 100,
    user: poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-heading"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "item-title",
    href: poster.url
  }, poster.username), /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
    status: poster.status
  }))), /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: poster.rank,
    title: poster.title
  }), /*#__PURE__*/_react.default.createElement(_userStatus2.default, {
    poster: poster
  }), /*#__PURE__*/_react.default.createElement(_userPostcount.default, {
    poster: poster
  }))));
}

},{"../../../avatar":8,"../../../user-status":270,"../controls":153,"../select":168,"./user-postcount":164,"./user-status":165,"./user-title":166,"react":"react"}],164:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);
  var className = "user-postcount";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-xs hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, interpolate(message, {
    posts: poster.posts
  }, true));
}

},{"./has-visible-title":161,"react":"react"}],165:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../../user-status"));

var _hasVisibleTitle = _interopRequireDefault(require("./has-visible-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var poster = _ref.poster;
  var className = "hidden-xs";

  if ((0, _hasVisibleTitle.default)(poster)) {
    className += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: poster.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: poster.status,
    user: poster
  })));
}

},{"../../../user-status":270,"./has-visible-title":161,"react":"react"}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var rank = _ref.rank,
      title = _ref.title;
  var userTitle = title || rank.title;

  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;
  var className = "user-title";

  if (rank.css_class) {
    className += " user-title-" + rank.css_class;
  }

  if (rank.is_tab) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: rank.url
    }, userTitle));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, userTitle);
}

},{"react":"react"}],167:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-border"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "post-avatar"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "100"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "post-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-post"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading post-heading"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
    className: "ui-preview-text",
    style: {
      width: random.int(30, 100) + "px"
    }
  }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("article", {
    className: "misago-markup"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0"), /*#__PURE__*/_react.default.createElement("p", {
    className: "ui-preview-text",
    style: {
      width: random.int(50, 100) + "%"
    }
  }, "\xA0")))))));
}

},{"../../../utils/random":385,"../../avatar":8,"react":"react"}],168:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isVisible = isVisible;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.post.isSelected) {
        _store.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store.default.dispatch(posts.select(_this.props.post));
      }
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pull-right hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.props.post.isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":350,"../../../services/store":374,"react":"react"}],169:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../reducers/post"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this = this;

      if (this.props.post.is_read) return; // don't register read tracker

      $(this.documentNode).waypoint({
        handler: function handler(direction) {
          if (direction !== "down" || _this.props.post.is_read) return; // after 1500ms run flag post as read logic

          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this.documentNode.getBoundingClientRect();

            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;
            if (offsetBottom < 5) return; // scrolled past the post

            if (offsetBottom > clientHeight) return; // scrolled back up
            // mark post as read

            _store.default.dispatch(post.patch(_this.props.post, {
              is_read: true
            })); // call API to let it know we have unread post


            _ajax.default.post(_this.props.post.api.read).then(function (data) {
              _store.default.dispatch(thread.update(_this.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              _snackbar.default.apiError(rejection);
            });
          }, 1000);
        },
        offset: "bottom-in-view"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.props.className,
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/post":349,"../../reducers/thread":356,"../../services/ajax":361,"../../services/snackbar":373,"../../services/store":374,"react":"react"}],170:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _panelLoader = _interopRequireDefault(require("../panel-loader"));

var _panelMessage = _interopRequireDefault(require("../panel-message"));

var _ = _interopRequireDefault(require("../.."));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,
        ban: ban
      });
    });

    _defineProperty(_assertThisInitialized(_this), "error", function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    });

    if (_.default.has("PROFILE_BAN")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_BAN"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api.ban);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "ban-details",
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("ban-details");
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-user-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("User-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.user_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getStaffMessage",
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "panel-body ban-message ban-staff-message"
        }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Team-shown ban message")), /*#__PURE__*/_react.default.createElement("div", {
          className: "lead",
          dangerouslySetInnerHTML: {
            __html: this.state.ban.staff_message.html
          }
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getExpirationMessage",
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment.default)())) {
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.format("LL, LT")
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            expires_on: this.state.ban.expires_on.fromNow()
          }, true);
          return /*#__PURE__*/_react.default.createElement("abbr", {
            title: _title
          }, message);
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getPanelBody",
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          return /*#__PURE__*/_react.default.createElement("div", null, this.getUserMessage(), this.getStaffMessage(), /*#__PURE__*/_react.default.createElement("div", {
            className: "panel-body ban-expires"
          }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("Ban expiration")), /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.getExpirationMessage())));
        } else {
          return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
            message: gettext("No ban is active at the moment.")
          }));
        }
      } else if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelMessage.default, {
          icon: "error_outline",
          message: this.state.error
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_panelLoader.default, null));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-ban-details"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Ban details"))), this.getPanelBody()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../services/page-title":370,"../../services/polls":371,"../panel-loader":89,"../panel-message":90,"moment":"moment","react":"react"}],171:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var isAuthenticated = _ref.isAuthenticated,
      profile = _ref.profile;
  var message = null;

  if (isAuthenticated) {
    message = gettext("You are not sharing any details with others.");
  } else {
    message = interpolate(gettext("%(username)s is not sharing any details with others."), {
      username: profile.username
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body text-center lead"
  }, message));
}

},{"react":"react"}],172:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SafeValue = SafeValue;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var html = _ref.html,
      text = _ref.text,
      url = _ref.url;

  if (html) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: {
        __html: html
      }
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-control-static col-md-9"
  }, /*#__PURE__*/_react.default.createElement(SafeValue, {
    text: text,
    url: url
  }));
}

function SafeValue(_ref2) {
  var text = _ref2.text,
      url = _ref2.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
      href: url,
      target: "_blank",
      rel: "nofollow"
    }, text || url));
  }

  if (text) {
    return /*#__PURE__*/_react.default.createElement("p", null, text);
  }

  return null;
}

},{"react":"react"}],173:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _fieldValue = _interopRequireDefault(require("./field-value"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/_react.default.createElement("strong", {
    className: "control-label col-md-3"
  }, props.name, ":"), /*#__PURE__*/_react.default.createElement(_fieldValue.default, props));
}

},{"./field-value":172,"react":"react"}],174:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _editDetails = _interopRequireDefault(require("../../edit-details"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var api = _ref.api,
      display = _ref.display,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement(_editDetails.default, {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../edit-details":34,"react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _field = _interopRequireDefault(require("./field"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var fields = _ref.fields,
      name = _ref.name;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-profile-details-group"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, name)), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "form-horizontal"
  }, fields.map(function (_ref2) {
    var fieldname = _ref2.fieldname,
        html = _ref2.html,
        name = _ref2.name,
        text = _ref2.text,
        url = _ref2.url;
    return /*#__PURE__*/_react.default.createElement(_field.default, {
      key: fieldname,
      name: name,
      html: html,
      text: text,
      url: url
    });
  }))));
}

},{"./field":173,"react":"react"}],176:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _emptyMessage = _interopRequireDefault(require("./empty-message"));

var _group = _interopRequireDefault(require("./group"));

var _loader = _interopRequireDefault(require("../../loader"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var display = _ref.display,
      groups = _ref.groups,
      isAuthenticated = _ref.isAuthenticated,
      loading = _ref.loading,
      profile = _ref.profile;
  if (!display) return null;

  if (loading) {
    return /*#__PURE__*/_react.default.createElement(_loader.default, null);
  }

  if (!groups.length) {
    return /*#__PURE__*/_react.default.createElement(_emptyMessage.default, {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", null, groups.map(function (group, i) {
    return /*#__PURE__*/_react.default.createElement(_group.default, {
      fields: group.fields,
      key: i,
      name: group.name
    });
  }));
}

},{"../../loader":54,"./empty-message":171,"./group":175,"react":"react"}],177:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.EditButton = EditButton;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var onEdit = _ref.onEdit,
      showEditButton = _ref.showEditButton;
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("nav", {
    className: "toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-10"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "md-margin-top-no"
  }, gettext("Details"))), /*#__PURE__*/_react.default.createElement(EditButton, {
    onEdit: onEdit,
    showEditButton: showEditButton
  }))));
}

function EditButton(_ref2) {
  var onEdit = _ref2.onEdit,
      showEditButton = _ref2.showEditButton;
  if (!showEditButton) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-2"
  }, /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default btn-outline btn-block",
    onClick: onEdit,
    type: "button"
  }, gettext("Edit")));
}

},{"react":"react"}],178:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _groupsList = _interopRequireDefault(require("./groups-list"));

var _header = _interopRequireDefault(require("./header"));

var _profileDetails = _interopRequireDefault(require("../../../data/profile-details"));

var _profileDetails2 = require("../../../reducers/profile-details");

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        editing: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        editing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onSuccess", function (newDetails) {
      var _this$props = _this.props,
          dispatch = _this$props.dispatch,
          isAuthenticated = _this$props.isAuthenticated,
          profile = _this$props.profile;
      var message = null;

      if (isAuthenticated) {
        message = gettext("Your details have been updated.");
      } else {
        message = interpolate(gettext("%(username)s's details have been updated."), {
          username: profile.username
        }, true);
      }

      _snackbar.default.info(message);

      dispatch((0, _profileDetails2.load)(newDetails));

      _this.setState({
        editing: false
      });
    });

    _this.state = {
      editing: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          dispatch = _this$props2.dispatch,
          isAuthenticated = _this$props2.isAuthenticated,
          profile = _this$props2.profile,
          profileDetails = _this$props2.profileDetails;
      var loading = profileDetails.id !== profile.id;
      return /*#__PURE__*/_react.default.createElement(_profileDetails.default, {
        data: profileDetails,
        dispatch: dispatch,
        user: profile
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-details"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        onEdit: this.onEdit,
        showEditButton: !!profileDetails.edit && !this.state.editing
      }), /*#__PURE__*/_react.default.createElement(_groupsList.default, {
        display: !this.state.editing,
        groups: profileDetails.groups,
        isAuthenticated: isAuthenticated,
        loading: loading,
        profile: profile
      }), /*#__PURE__*/_react.default.createElement(_form.default, {
        api: profile.api.edit_details,
        dispatch: dispatch,
        display: this.state.editing,
        onCancel: this.onCancel,
        onSuccess: this.onSuccess
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../data/profile-details":297,"../../../reducers/profile-details":351,"../../../services/page-title":370,"../../../services/snackbar":373,"./form":174,"./groups-list":176,"./header":177,"react":"react"}],179:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Threads = Threads;
exports.Posts = Posts;

var _react = _interopRequireDefault(require("react"));

var _route = _interopRequireDefault(require("./route"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function Threads(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.profile.threads);
    header = interpolate(message, {
      threads: props.profile.threads
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.profile.threads);

    header = interpolate(_message, {
      username: props.profile.username,
      threads: props.profile.threads
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;

  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      username: props.profile.username
    }, true);
  }

  var header = null;

  if (!props.posts.isLoaded) {
    header = gettext("Loading...");
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.profile.posts);
    header = interpolate(message, {
      posts: props.profile.posts
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.profile.posts);

    header = interpolate(_message2, {
      username: props.profile.username,
      posts: props.profile.posts
    }, true);
  }

  return /*#__PURE__*/_react.default.createElement(_route.default, _extends({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":180,"react":"react"}],180:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var posts = _interopRequireWildcard(require("../../../reducers/posts"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.next);
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "loadItems",
    value: function loadItems() {
      var _this2 = this;

      var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

      _ajax.default.get(this.props.api, {
        start: start || 0
      }).then(function (data) {
        if (start === 0) {
          _store.default.dispatch(posts.load(data));
        } else {
          _store.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-feed"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.props.header)), /*#__PURE__*/_react.default.createElement(Feed, _extends({
        isLoading: this.state.isLoading,
        loadMore: this.loadMore
      }, this.props)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Feed(props) {
  if (!props.posts.results.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, props.emptyMessage);
  }

  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: props.posts.isLoaded,
    posts: props.posts.results,
    poster: props.profile
  }), /*#__PURE__*/_react.default.createElement(LoadMoreButton, {
    isLoading: props.isLoading,
    loadMore: props.loadMore,
    next: props.posts.next
  }));
}

function LoadMoreButton(props) {
  if (!props.next) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "pager-more"
  }, /*#__PURE__*/_react.default.createElement(_button.default, {
    className: "btn btn-default btn-outline",
    loading: props.isLoading,
    onClick: props.loadMore
  }, gettext("Show older activity")));
}

},{"../../../reducers/posts":350,"../../../services/ajax":361,"../../../services/page-title":370,"../../../services/snackbar":373,"../../../services/store":374,"../../button":10,"../../post-feed":118,"react":"react"}],181:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _profile = require("../../reducers/profile");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "action", function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax.default.post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _snackbar.default.apiError(rejection);
      });
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + " btn-default btn-following";
      } else {
        return this.props.className + " btn-default btn-follow";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return "favorite";
      } else {
        return "favorite_border";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.action
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), this.getLabel());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/profile":352,"../../services/ajax":361,"../../services/snackbar":373,"../../services/store":374,"../button":10,"react":"react"}],182:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _usersList = _interopRequireDefault(require("../users-list"));

var _ = _interopRequireDefault(require("../.."));

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    });

    _this.setSpecialProps();

    if (_.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWERS";
      this.TITLE = gettext("Followers");
      this.API_FILTER = "followers";
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadUsers();
    }
  }, {
    key: "loadUsers",
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var apiUrl = this.props.profile.api[this.API_FILTER];

      _ajax.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, "user-" + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show more (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "getListBody",
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        return /*#__PURE__*/_react.default.createElement("p", {
          className: "lead"
        }, this.getEmptyMessage());
      }

      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 3,
        isReady: this.state.isLoaded,
        users: this.props.users
      }), this.getMoreButton());
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      return "profile-" + this.API_FILTER;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search users...")
      })), this.getListBody());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../reducers/users":360,"../../services/ajax":361,"../../services/page-title":370,"../../services/snackbar":373,"../../services/store":374,"../button":10,"../quick-search":193,"../users-list":280,"react":"react"}],183:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _followers = _interopRequireDefault(require("./followers"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Followers) {
  _inherits(_default, _Followers);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "setSpecialProps",
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = "PROFILE_FOLLOWS";
      this.TITLE = gettext("Follows");
      this.API_FILTER = "follows";
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);
        return interpolate(message, {
          users: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          users: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          users: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }]);

  return _default;
}(_followers.default);

exports.default = _default;

},{"./followers":182,"react":"react"}],184:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _messageButton = _interopRequireDefault(require("./message-button"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _userStatus = _interopRequireWildcard(require("../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getUserStatus",
    value: function getUserStatus() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-status-display"
      }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
        user: this.props.profile,
        status: this.props.profile.status
      }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
        user: this.props.profile,
        status: this.props.profile.status
      }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
        user: this.props.profile,
        status: this.props.profile.status,
        className: "status-label"
      })));
    }
  }, {
    key: "getUserRank",
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.profile.rank.url,
          className: "item-title"
        }, this.props.profile.rank.name));
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-rank"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.profile.rank.name));
      }
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (this.props.profile.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.title);
      } else if (this.props.profile.rank.title) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-title"
        }, this.props.profile.rank.title);
      } else {
        return null;
      }
    }
  }, {
    key: "getJoinedOn",
    value: function getJoinedOn() {
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.format("LL, LT")
      }, true);
      var age = interpolate(gettext("Joined %(joined_on)s"), {
        joined_on: this.props.profile.joined_on.fromNow()
      }, true);
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "user-joined-on"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: title
      }, age));
    }
  }, {
    key: "getEmail",
    value: function getEmail() {
      if (this.props.profile.email) {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "user-email"
        }, /*#__PURE__*/_react.default.createElement("a", {
          href: "mailto:" + this.props.profile.email,
          className: "item-title"
        }, this.props.profile.email));
      } else {
        return null;
      }
    }
  }, {
    key: "getFollowButton",
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        return /*#__PURE__*/_react.default.createElement(_followButton.default, {
          className: "btn btn-block btn-outline",
          profile: this.props.profile
        });
      } else {
        return null;
      }
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group btn-group-justified"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "btn-group"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-moderate btn-outline dropdown-toggle",
          type: "button",
          "data-toggle": "dropdown",
          "aria-haspopup": "true",
          "aria-expanded": "false"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "tonality"), gettext("Moderation")), /*#__PURE__*/_react.default.createElement(_nav.default, {
          profile: this.props.profile
        })));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;
      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;
      var colsWidth = cols ? 2 * cols + 1 : 0;
      var headerClassName = "page-header";

      if (this.props.profile.rank.css_class) {
        headerClassName += " page-header-rank-" + this.props.profile.rank.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(IsDisabledMessage, {
        isActive: this.props.profile.is_active,
        isDeletingAccount: this.props.profile.is_deleting_account
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + (12 - colsWidth)
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        className: "user-avatar user-avatar-sm",
        user: this.props.profile,
        size: "100",
        size2x: "200"
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.profile.username)), !!cols && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-" + colsWidth
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, !!canMessage && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 0)
      }, /*#__PURE__*/_react.default.createElement(_messageButton.default, {
        className: "btn btn-default btn-block btn-outline",
        profile: this.props.profile,
        user: this.props.user
      })), !!canFollow && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 1)
      }, this.getFollowButton()), !!canModerate && /*#__PURE__*/_react.default.createElement("div", {
        className: getColStyle(cols, 2)
      }, this.getModerationButton()))))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "header-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-inline"
      }, this.getUserStatus(), this.getUserRank(), this.getUserTitle(), this.getJoinedOn(), this.getEmail()))))), /*#__PURE__*/_react.default.createElement(_navs.CompactNav, {
        baseUrl: this.props.baseUrl,
        pages: this.props.pages,
        profile: this.props.profile
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function IsDisabledMessage(_ref) {
  var isActive = _ref.isActive,
      isDeletingAccount = _ref.isDeletingAccount;
  if (isActive !== false && isDeletingAccount !== true) return null;
  var message = null;

  if (isDeletingAccount) {
    message = gettext("This user is deleting their account.");
  } else {
    message = gettext("This user's account has been disabled by administrator.");
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "alert alert-danger"
  }, /*#__PURE__*/_react.default.createElement("p", null, message));
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols == 1) {
    colStyle = "col-xs-12";
  }

  if (cols == 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols == 3) {
    if (col == 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}

},{"../avatar":8,"../dropdown-toggle":29,"../user-status":270,"./follow-button":181,"./message-button":185,"./moderation/nav":189,"./navs":190,"react":"react"}],185:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API"),
        to: [_this.props.profile]
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;
      if (!canMessage || isProfileOwner) return null;
      return /*#__PURE__*/_react.default.createElement("button", {
        className: this.props.className,
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "comment"), gettext("Message"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../services/posting":372,"react":"react"}],186:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      is_avatar_locked: "",
      avatar_lock_user_message: "",
      avatar_lock_staff_message: ""
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,
          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || "",
          avatar_lock_staff_message: options.avatar_lock_staff_message || ""
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      _store.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));

      _snackbar.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Lock avatar"),
        helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
        for: "id_is_avatar_locked"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_is_avatar_locked",
        disabled: this.state.isLoading,
        iconOn: "lock_outline",
        iconOff: "lock_open",
        labelOn: gettext("Disallow user from changing avatar"),
        labelOff: gettext("Allow user to change avatar"),
        onChange: this.bindInput("is_avatar_locked"),
        value: this.state.is_avatar_locked
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User message"),
        helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
        for: "id_avatar_lock_user_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_user_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_user_message"),
        value: this.state.avatar_lock_user_message
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Staff message"),
        helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
        for: "id_avatar_lock_staff_message"
      }, /*#__PURE__*/_react.default.createElement("textarea", {
        id: "id_avatar_lock_staff_message",
        className: "form-control",
        rows: "4",
        disabled: this.state.isLoading,
        onChange: this.bindInput("avatar_lock_staff_message"),
        value: this.state.avatar_lock_staff_message
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Close")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Save changes"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Avatar controls"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/users":360,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"../../button":10,"../../form":52,"../../form-group":51,"../../modal-loader":57,"../../modal-message":58,"../../yes-no-switch":296,"react":"react"}],187:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _usernameHistory = require("../../../reducers/username-history");

var _users = require("../../../reducers/users");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,
      username: "",
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(this.validate().username[0]);

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ""
      });

      _store.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));

      _store.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar.default.success(gettext("Username has been changed."));
    }
  }, {
    key: "getFormBody",
    value: function getFormBody() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New username"),
        for: "id_username"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Change username"))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change username"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/username-history":359,"../../../reducers/users":360,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"../../../utils/validators":390,"../../button":10,"../../form":52,"../../form-group":51,"../../modal-loader":57,"../../modal-message":58,"react":"react"}],188:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _modalLoader = _interopRequireDefault(require("../../modal-loader"));

var _modalMessage = _interopRequireDefault(require("../../modal-message"));

var _yesNoSwitch = _interopRequireDefault(require("../../yes-no-switch"));

var _ = _interopRequireDefault(require("../../.."));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _polls = _interopRequireDefault(require("../../../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "countdown", function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });

          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    });

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,
      countdown: 5,
      confirm: false,
      with_content: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      _polls.default.stop("user-profile");

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            username: this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            username: this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: "getButtonLabel",
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          username: this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          countdown: this.state.countdown
        }, true);
      }
    }
  }, {
    key: "getForm",
    value: function getForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("User content"),
        for: "id_with_content"
      }, /*#__PURE__*/_react.default.createElement(_yesNoSwitch.default, {
        id: "id_with_content",
        disabled: this.state.isLoading,
        labelOn: gettext("Delete together with user's account"),
        labelOff: gettext("Hide after deleting user's account"),
        onChange: this.bindInput("with_content"),
        value: this.state.with_content
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default",
        "data-dismiss": "modal"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-danger",
        loading: this.state.isLoading,
        disabled: !this.state.confirm
      }, this.getButtonLabel())));
    }
  }, {
    key: "getDeletedBody",
    value: function getDeletedBody() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.state.isDeleted), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERS_LIST_URL")
      }, gettext("Return to users list")))));
    }
  }, {
    key: "getModalBody",
    value: function getModalBody() {
      if (this.state.error) {
        return /*#__PURE__*/_react.default.createElement(_modalMessage.default, {
          icon: "remove_circle_outline",
          message: this.state.error
        });
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_modalLoader.default, null);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Delete user account"))), this.getModalBody()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":298,"../../../services/ajax":361,"../../../services/polls":371,"../../button":10,"../../form":52,"../../form-group":51,"../../modal-loader":57,"../../modal-message":58,"../../yes-no-switch":296,"react":"react"}],189:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatarControls = _interopRequireDefault(require("./avatar-controls"));

var _changeUsername = _interopRequireDefault(require("./change-username"));

var _deleteAccount = _interopRequireDefault(require("./delete-account"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showAvatarDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_avatarControls.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showRenameDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_changeUsername.default));
    });

    _defineProperty(_assertThisInitialized(_this), "showDeleteDialog", function () {
      _modal.default.show((0, _reactRedux.connect)(select)(_deleteAccount.default));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getAvatarButton",
    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showAvatarDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "portrait"), gettext("Avatar controls")));
      } else {
        return null;
      }
    }
  }, {
    key: "getRenameButton",
    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showRenameDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "credit_card"), gettext("Change username")));
      } else {
        return null;
      }
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn btn-link",
          onClick: this.showDeleteDialog
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "clear"), gettext("Delete account")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        role: "menu"
      }, this.getAvatarButton(), this.getRenameButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../services/modal":368,"./avatar-controls":186,"./change-username":187,"./delete-account":188,"react":"react","react-redux":"react-redux"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = CompactNav;
exports.SideNav = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _followButton = _interopRequireDefault(require("./follow-button"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var SideNav = /*#__PURE__*/function (_React$Component) {
  _inherits(SideNav, _React$Component);

  var _super = _createSuper(SideNav);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _super.apply(this, arguments);
  }

  _createClass(SideNav, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "list-group nav-side"
      }, this.props.pages.map(function (page) {
        return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
          to: _this.props.baseUrl + page.component + "/",
          className: "list-group-item",
          activeClassName: "active",
          key: page.component
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, page.icon), page.name);
      }));
    }
  }]);

  return SideNav;
}(_react.default.Component);

exports.SideNav = SideNav;

function CompactNav(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs hidden-md hidden-lg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills",
    role: "menu"
  }, props.pages.map(function (page) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: props.baseUrl + page.component + "/",
      key: page.component
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: props.baseUrl + page.component + "/",
      onClick: props.hideNav
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, page.icon), page.name));
  }))));
}

},{"../..":298,"../li":53,"./follow-button":181,"react":"react","react-router":"react-router"}],191:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _banDetails = _interopRequireDefault(require("./ban-details"));

var _details = _interopRequireDefault(require("./details"));

var _feed = require("./feed");

var _followers = _interopRequireDefault(require("./followers"));

var _follows = _interopRequireDefault(require("./follows"));

var _usernameHistory = _interopRequireDefault(require("./username-history"));

var _header = _interopRequireDefault(require("./header"));

var _nav = _interopRequireDefault(require("./moderation/nav"));

var _navs = require("./navs");

var _avatar = _interopRequireDefault(require("../avatar"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _polls = _interopRequireDefault(require("../../services/polls"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _profile.hydrate)(data));
    });

    _this.startPolling(props.profile.api.index);

    return _this;
  }

  _createClass(_default, [{
    key: "startPolling",
    value: function startPolling(api) {
      _polls.default.start({
        poll: "user-profile",
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "render",
    value: function render() {
      var baseUrl = _.default.get("PROFILE").url;

      var pages = _.default.get("PROFILE_PAGES");

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-user-profile"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile,
        toggleNav: this.toggleNav,
        toggleModeration: this.toggleModeration,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-3 hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-side-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.profile,
        size: "400"
      })), /*#__PURE__*/_react.default.createElement(_navs.SideNav, {
        baseUrl: baseUrl,
        pages: pages,
        profile: this.props.profile
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-9"
      }, this.props.children))));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store["profile-details"],
    "username-history": store["username-history"]
  };
}

var COMPONENTS = {
  posts: _feed.Posts,
  threads: _feed.Threads,
  followers: _followers.default,
  follows: _follows.default,
  details: _details.default,
  "username-history": _usernameHistory.default,
  "ban-details": _banDetails.default
};

function paths() {
  var paths = [];

  _.default.get("PROFILE_PAGES").forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _.default.get("PROFILE").url + item.component + "/",
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":298,"../../reducers/profile":352,"../../services/polls":371,"../../services/store":374,"../avatar":8,"../with-dropdown":295,"./ban-details":170,"./details":178,"./feed":179,"./followers":182,"./follows":183,"./header":184,"./moderation/nav":189,"./navs":190,"./username-history":192,"react":"react","react-redux":"react-redux"}],192:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _quickSearch = _interopRequireDefault(require("../quick-search"));

var _root = _interopRequireDefault(require("../username-history/root"));

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = require("../../reducers/username-history");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    });

    _defineProperty(_assertThisInitialized(_this), "search", function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,
        search: ev.target.value,
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    });

    if (_.default.has("PROFILE_NAME_HISTORY")) {
      _this.initWithPreloadedData(_.default.pop("PROFILE_NAME_HISTORY"));
    } else {
      _this.initWithoutPreloadedData();
    }

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,
        search: "",
        count: data.count,
        more: data.more,
        page: data.page,
        pages: data.pages
      };

      _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,
        search: "",
        count: 0,
        more: 0,
        page: 1,
        pages: 1
      };
      this.loadChanges();
    }
  }, {
    key: "loadChanges",
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax.default.get(_.default.get("USERNAME_CHANGES_API"), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, "search-username-history").then(function (data) {
        if (page === 1) {
          _store.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          count: data.count,
          more: data.more,
          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext("Loading...");
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);
        return interpolate(message, {
          changes: this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          changes: this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          username: this.props.profile.username,
          changes: this.state.count
        }, true);
      }
    }
  }, {
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          username: this.props.profile.username
        }, true);
      }
    }
  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy,
        onClick: this.loadMore
      }, interpolate(gettext("Show older (%(more)s)"), {
        more: this.state.more
      }, true)));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "profile-username-history"
      }, /*#__PURE__*/_react.default.createElement("nav", {
        className: "toolbar"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "toolbar-left"
      }, this.getLabel()), /*#__PURE__*/_react.default.createElement(_quickSearch.default, {
        className: "toolbar-right",
        value: this.state.search,
        onChange: this.search,
        placeholder: gettext("Search history...")
      })), /*#__PURE__*/_react.default.createElement(_root.default, {
        isLoaded: this.state.isLoaded,
        emptyMessage: this.getEmptyMessage(),
        changes: this.props["username-history"]
      }), this.getMoreButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../..":298,"../../reducers/username-history":359,"../../services/ajax":361,"../../services/page-title":370,"../../services/snackbar":373,"../../services/store":374,"../button":10,"../quick-search":193,"../username-history/root":276,"react":"react"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        value: this.props.value,
        onChange: this.props.onChange,
        placeholder: this.props.placeholder || gettext("Search...")
      }), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "search"));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],194:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _loader = _interopRequireDefault(require("./loader"));

var _register = _interopRequireDefault(require("./register.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "showRegisterForm", function () {
      if (misago.get("SETTINGS").account_activation === "closed") {
        _snackbar.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({
          isLoading: true
        });

        Promise.all([_captcha.default.load(), _ajax.default.get(misago.get("AUTH_CRITERIA_API"))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_register.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({
            isLoading: false
          });

          _snackbar.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    });

    _this.state = {
      isLoading: false,
      isLoaded: false,
      criteria: null
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? " btn-loading" : "");
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        className: "btn " + this.getClassName(),
        disabled: this.state.isLoading,
        onClick: this.showRegisterForm,
        type: "button"
      }, gettext("Make Account"), this.state.isLoading ? /*#__PURE__*/_react.default.createElement(_loader.default, null) : null);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":361,"../services/captcha":363,"../services/modal":368,"../services/snackbar":373,"./loader":54,"./register.js":195,"react":"react"}],195:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RegisterComplete = exports.RegisterForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _formGroup = _interopRequireDefault(require("./form-group"));

var _passwordStrength = _interopRequireDefault(require("./password-strength"));

var _RegisterLegalFootnote = _interopRequireDefault(require("./RegisterLegalFootnote"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

var validators = _interopRequireWildcard(require("../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var RegisterForm = /*#__PURE__*/function (_Form) {
  _inherits(RegisterForm, _Form);

  var _super = _createSuper(RegisterForm);

  function RegisterForm(props) {
    var _this;

    _classCallCheck(this, RegisterForm);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;
    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === "MinimumLengthValidator") {
        passwordMinLength = item.min_length;
      }
    });
    var formValidators = {
      username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
      email: [validators.email()],
      password: [validators.passwordMinLength(passwordMinLength)],
      captcha: _captcha.default.validator()
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      isLoading: false,
      username: "",
      email: "",
      password: "",
      captcha: "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("USERS_API"), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar.default.error(rejection.__all__[0]);
        } else {
          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Register"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "type",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        style: {
          display: "none"
        }
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonClassName: "col-xs-12 col-sm-6",
        buttonLabel: gettext("Join with %(site)s"),
        formLabel: gettext("Or create forum account:")
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Username"),
        for: "id_username",
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        "aria-describedby": "id_username_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("username"),
        value: this.state.username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("E-mail"),
        for: "id_email",
        validation: this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_email",
        className: "form-control",
        "aria-describedby": "id_email_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Password"),
        for: "id_password",
        validation: this.state.errors.password,
        extra: /*#__PURE__*/_react.default.createElement(_passwordStrength.default, {
          password: this.state.password,
          inputs: [this.state.username, this.state.email]
        })
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        id: "id_password",
        className: "form-control",
        "aria-describedby": "id_password_status",
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      })), _captcha.default.component({
        form: this
      }), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Register account"))))));
    }
  }]);

  return RegisterForm;
}(_form.default);

exports.RegisterForm = RegisterForm;

var RegisterComplete = /*#__PURE__*/function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  var _super2 = _createSuper(RegisterComplete);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _super2.apply(this, arguments);
  }

  _createClass(RegisterComplete, [{
    key: "getLead",
    value: function getLead() {
      if (this.props.activation === "user") {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === "admin") {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: "getSubscript",
    value: function getSubscript() {
      if (this.props.activation === "user") {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === "admin") {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-message modal-register",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Registration complete"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, interpolate(this.getLead(), {
        username: this.props.username
      }, true)), /*#__PURE__*/_react.default.createElement("p", null, interpolate(this.getSubscript(), {
        email: this.props.email
      }, true)), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))))));
    }
  }]);

  return RegisterComplete;
}(_react.default.Component);

exports.RegisterComplete = RegisterComplete;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "completeRegistration", function (apiResponse) {
      if (apiResponse.activation === "active") {
        _modal.default.hide();

        _auth.default.signIn(apiResponse);
      } else {
        _this2.setState({
          complete: apiResponse
        });
      }
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return /*#__PURE__*/_react.default.createElement(RegisterForm, _extends({
        callback: this.completeRegistration
      }, this.props));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":361,"../services/auth":362,"../services/captcha":363,"../services/modal":368,"../services/snackbar":373,"../utils/banned-page":376,"../utils/validators":390,"./..":298,"./RegisterLegalFootnote":3,"./StartSocialAuth":4,"./button":10,"./form":52,"./form-group":51,"./password-strength":99,"react":"react"}],196:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LinkSent = exports.RequestLinkForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestLinkForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestLinkForm, _Form);

  var _super = _createSuper(RequestLinkForm);

  function RequestLinkForm(props) {
    var _this;

    _classCallCheck(this, RequestLinkForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_ACTIVATION_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["already_active", "inactive_admin"].indexOf(rejection.code) > -1) {
        _snackbar.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestLinkForm;
}(_form.default);

exports.RequestLinkForm = RequestLinkForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-activation-link well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block",
        type: "button",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super3.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          user: this.state.complete,
          callback: this.reset
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(RequestLinkForm, {
          callback: this.complete
        });
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":361,"../services/snackbar":373,"../utils/banned-page":376,"../utils/validators":390,"./..":298,"./button":10,"./form":52,"react":"react"}],197:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var validators = _interopRequireWildcard(require("../utils/validators"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var RequestResetForm = /*#__PURE__*/function (_Form) {
  _inherits(RequestResetForm, _Form);

  var _super = _createSuper(RequestResetForm);

  function RequestResetForm(props) {
    var _this;

    _classCallCheck(this, RequestResetForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      email: "",
      validators: {
        email: [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter a valid email address."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("SEND_PASSWORD_RESET_API"), {
        email: this.state.email
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (["inactive_user", "inactive_admin"].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        className: "form-control",
        placeholder: gettext("Your e-mail address"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("email"),
        value: this.state.email
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Send link"))));
    }
  }]);

  return RequestResetForm;
}(_form.default);

exports.RequestResetForm = RequestResetForm;

var LinkSent = /*#__PURE__*/function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  var _super2 = _createSuper(LinkSent);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _super2.apply(this, arguments);
  }

  _createClass(LinkSent, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-request-password-reset well-done"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "done-message"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", null, this.getMessage())), /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary btn-block",
        onClick: this.props.callback
      }, gettext("Request another link"))));
    }
  }]);

  return LinkSent;
}(_react.default.Component);

exports.LinkSent = LinkSent;

var AccountInactivePage = /*#__PURE__*/function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  var _super3 = _createSuper(AccountInactivePage);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _super3.apply(this, arguments);
  }

  _createClass(AccountInactivePage, [{
    key: "getActivateButton",
    value: function getActivateButton() {
      if (this.props.activation === "inactive_user") {
        return /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("a", {
          href: _.default.get("REQUEST_ACTIVATION_URL")
        }, gettext("Activate your account.")));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-info page-forgotten-password-inactive"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("Your account is inactive.")), /*#__PURE__*/_react.default.createElement("p", null, this.props.message), this.getActivateButton()))));
    }
  }]);

  return AccountInactivePage;
}(_react.default.Component);

exports.AccountInactivePage = AccountInactivePage;

var _default = /*#__PURE__*/function (_React$Component3) {
  _inherits(_default, _React$Component3);

  var _super4 = _createSuper(_default);

  function _default(props) {
    var _this2;

    _classCallCheck(this, _default);

    _this2 = _super4.call(this, props);

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _this2.setState({
        complete: apiResponse
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "reset", function () {
      _this2.setState({
        complete: false
      });
    });

    _this2.state = {
      complete: false
    };
    return _this2;
  }

  _createClass(_default, [{
    key: "showInactivePage",
    value: function showInactivePage(apiResponse) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById("page-mount"));
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.complete) {
        return /*#__PURE__*/_react.default.createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }

      return /*#__PURE__*/_react.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":361,"../services/snackbar":373,"../utils/banned-page":376,"../utils/validators":390,"./..":298,"./button":10,"./form":52,"react":"react","react-dom":"react-dom"}],198:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PasswordChangedPage = exports.ResetPasswordForm = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _signIn = _interopRequireDefault(require("./sign-in.js"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var ResetPasswordForm = /*#__PURE__*/function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  var _super = _createSuper(ResetPasswordForm);

  function ResetPasswordForm(props) {
    var _this;

    _classCallCheck(this, ResetPasswordForm);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      password: ""
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: "clean",
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        _snackbar.default.error(gettext("Enter new password."));

        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("CHANGE_PASSWORD_API"), {
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "well well-form well-form-reset-password"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "password",
        className: "form-control",
        placeholder: gettext("Enter new password"),
        disabled: this.state.isLoading,
        onChange: this.bindInput("password"),
        value: this.state.password
      }))), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Change password"))));
    }
  }]);

  return ResetPasswordForm;
}(_form.default);

exports.ResetPasswordForm = ResetPasswordForm;

var PasswordChangedPage = /*#__PURE__*/function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  var _super2 = _createSuper(PasswordChangedPage);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _super2.apply(this, arguments);
  }

  _createClass(PasswordChangedPage, [{
    key: "getMessage",
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: "showSignIn",
    value: function showSignIn() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-message page-message-success page-forgotten-password-changed"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-panel"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getMessage()), /*#__PURE__*/_react.default.createElement("p", null, gettext("You will have to sign in using new password before continuing.")), /*#__PURE__*/_react.default.createElement("p", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-primary",
        onClick: this.showSignIn
      }, gettext("Sign in")))))));
    }
  }]);

  return PasswordChangedPage;
}(_react.default.Component);

exports.PasswordChangedPage = PasswordChangedPage;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super3 = _createSuper(_default);

  function _default() {
    var _this2;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this2 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "complete", function (apiResponse) {
      _auth.default.softSignOut(); // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in


      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(PasswordChangedPage, {
        user: apiResponse
      }), document.getElementById("page-mount"));
    });

    return _this2;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(ResetPasswordForm, {
        callback: this.complete
      });
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../services/ajax":361,"../services/auth":362,"../services/modal":368,"../services/snackbar":373,"../utils/banned-page":376,"./..":298,"./button":10,"./form":52,"./sign-in.js":207,"react":"react","react-dom":"react-dom"}],199:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _form = _interopRequireDefault(require("../form"));

var _posts = require("../../reducers/posts");

var _search = require("../../reducers/search");

var _users = require("../../reducers/users");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onQueryChange", function (event) {
      _this.changeValue("query", event.target.value);
    });

    _this.state = {
      isLoading: false,
      query: props.search.query
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: "clean",
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar.default.error(gettext("You have to enter search query."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      _store.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax.default.get(_.default.get("SEARCH_API"), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(providers) {
      _store.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === "users") {
          _store.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === "threads") {
          _store.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      _snackbar.default.apiError(rejection);

      _store.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header page-search-form"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Search"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row xs-margin-top sm-margin-top"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-8 col-md-9"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.props.search.isLoading || this.state.isLoading,
        onChange: this.onQueryChange,
        type: "text",
        value: this.state.query
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12 col-sm-4 col-md-3"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary btn-block btn-outline",
        disabled: this.props.search.isLoading || this.state.isLoading
      }, gettext("Search"))))))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../..":298,"../../reducers/posts":350,"../../reducers/search":353,"../../reducers/users":360,"../../services/ajax":361,"../../services/snackbar":373,"../../services/store":374,"../form":52,"react":"react"}],200:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.default = _default;

var _reactRedux = require("react-redux");

var _threads = _interopRequireDefault(require("./threads"));

var _users = _interopRequireDefault(require("./users"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads.default,
  users: _users.default
};

function select(store) {
  return {
    posts: store.posts,
    search: store.search,
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function _default(providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
}

},{"./threads":203,"./users":205,"react-redux":"react-redux"}],201:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.SearchTime = SearchTime;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("./form"));

var _sidenav = _interopRequireDefault(require("./sidenav"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-search"
  }, /*#__PURE__*/_react.default.createElement(_form.default, {
    provider: props.provider,
    search: props.search
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3"
  }, /*#__PURE__*/_react.default.createElement(_sidenav.default, {
    providers: props.search.providers
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-9"
  }, props.children, /*#__PURE__*/_react.default.createElement(SearchTime, {
    provider: props.provider,
    search: props.search
  })))));
}

function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });
  if (time === null) return null;
  var copy = gettext("Search took %(time)s s to complete");
  return /*#__PURE__*/_react.default.createElement("footer", {
    className: "search-footer"
  }, /*#__PURE__*/_react.default.createElement("p", null, interpolate(copy, {
    time: time
  }, true)));
}

},{"./form":199,"./sidenav":202,"react":"react"}],202:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Badge = Badge;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "list-group nav-side"
  }, props.providers.map(function (provider) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      activeClassName: "active",
      className: "list-group-item",
      key: provider.id,
      to: provider.url
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, provider.icon), provider.name, /*#__PURE__*/_react.default.createElement(Badge, {
      results: provider.results
    }));
  }));
}

function Badge(props) {
  if (!props.results) return null;
  var count = props.results.count;

  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + "KK";
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + "K";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, count);
}

},{"react":"react","react-router":"react-router"}],203:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _results = _interopRequireDefault(require("./results"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    posts: props.posts
  }, /*#__PURE__*/_react.default.createElement(_results.default, _extends({
    provider: props.route.provider,
    query: props.search.query
  }, props.posts))));
}

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No threads matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search threads."));
}

},{"../page":201,"./results":204,"react":"react"}],204:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.LoadMore = void 0;

var _react = _interopRequireDefault(require("react"));

var _postFeed = _interopRequireDefault(require("../../post-feed"));

var _button = _interopRequireDefault(require("../../button"));

var _misagoMarkup = _interopRequireDefault(require("../../misago-markup"));

var _posts = require("../../../reducers/posts");

var _search = require("../../../reducers/search");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_postFeed.default, {
    isReady: true,
    posts: props.results
  }), /*#__PURE__*/_react.default.createElement(LoadMore, props));
}

var LoadMore = /*#__PURE__*/function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  var _super = _createSuper(LoadMore);

  function LoadMore() {
    var _this;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _store.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== "threads") return;

          _store.default.dispatch((0, _posts.append)(provider.results));

          _store.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);

        _store.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    });

    return _this;
  }

  _createClass(LoadMore, [{
    key: "render",
    value: function render() {
      if (!this.props.more) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.props.isBusy,
        onClick: this.onClick
      }, gettext("Show more")));
    }
  }]);

  return LoadMore;
}(_react.default.Component);

exports.LoadMore = LoadMore;

},{"../../../reducers/posts":350,"../../../reducers/search":353,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"../../button":10,"../../misago-markup":56,"../../post-feed":118,"react":"react"}],205:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Blankslate = Blankslate;

var _react = _interopRequireDefault(require("react"));

var _page = _interopRequireDefault(require("../page"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(_page.default, {
    provider: props.route.provider,
    search: props.search
  }, /*#__PURE__*/_react.default.createElement(Blankslate, {
    query: props.search.query,
    users: props.users
  }, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 3,
    isReady: true,
    users: props.users
  })));
}

function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: "lead"
    }, gettext("No users matching search query have been found."));
  }

  return /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("Enter at least two characters to search users."));
}

},{"../../users-list":280,"../page":201,"react":"react"}],206:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Icon = Icon;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "change", function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-select-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-select dropdown-toggle",
        id: this.props.id || null,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement(Icon, {
        icon: this.getIcon()
      }), this.getLabel()), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu"
      }, this.props.choices.map(function (item, i) {
        return /*#__PURE__*/_react.default.createElement("li", {
          key: i
        }, /*#__PURE__*/_react.default.createElement("button", {
          type: "button",
          className: "btn-link",
          onClick: _this3.change(item.value)
        }, /*#__PURE__*/_react.default.createElement(Icon, {
          icon: item.icon
        }), item.label));
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Icon(_ref) {
  var icon = _ref.icon;
  if (!icon) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon);
}

},{"react":"react"}],207:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("./.."));

var _button = _interopRequireDefault(require("./button"));

var _form = _interopRequireDefault(require("./form"));

var _StartSocialAuth = _interopRequireDefault(require("./StartSocialAuth"));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _bannedPage = _interopRequireDefault(require("../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);
    _this.state = {
      isLoading: false,
      showActivation: false,
      username: "",
      password: "",
      validators: {
        username: [],
        password: []
      }
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.isValid()) {
        _snackbar.default.error(gettext("Fill out both fields."));

        return false;
      } else {
        return true;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("AUTH_API"), {
        username: this.state.username,
        password: this.state.password
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      var form = $("#hidden-login-form");
      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />'); // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature

      form.find('input[type="hidden"]').val(_ajax.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit(); // keep form loading

      this.setState({
        isLoading: true
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === "inactive_admin") {
          _snackbar.default.info(rejection.detail);
        } else if (rejection.code === "inactive_user") {
          _snackbar.default.info(rejection.detail);

          this.setState({
            showActivation: true
          });
        } else if (rejection.code === "banned") {
          (0, _bannedPage.default)(rejection.detail);

          _modal.default.hide();
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage.default)(rejection.ban);

        _modal.default.hide();
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getActivationButton",
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;
      return /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-success btn-block",
        href: _.default.get("REQUEST_ACTIVATION_URL")
      }, gettext("Activate account"));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm modal-sign-in",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Sign in"))), /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_StartSocialAuth.default, {
        buttonLabel: gettext("Sign in with %(site)s"),
        formLabel: gettext("Or use your forum account:"),
        labelClassName: "text-center"
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_username",
        onChange: this.bindInput("username"),
        placeholder: gettext("Username or e-mail"),
        type: "text",
        value: this.state.username
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "form-group"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "control-input"
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control input-lg",
        disabled: this.state.isLoading,
        id: "id_password",
        onChange: this.bindInput("password"),
        placeholder: gettext("Password"),
        type: "password",
        value: this.state.password
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, this.getActivationButton(), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block",
        loading: this.state.isLoading
      }, gettext("Sign in")), /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-default btn-block",
        href: _.default.get("FORGOTTEN_PASSWORD_URL")
      }, gettext("Forgot password?"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../services/ajax":361,"../services/modal":368,"../services/snackbar":373,"../utils/banned-page":376,"./..":298,"./StartSocialAuth":4,"./button":10,"./form":52,"react":"react"}],208:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.Snackbar = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var TYPES_CLASSES = {
  info: "alert-info",
  success: "alert-success",
  warning: "alert-warning",
  error: "alert-danger"
};

var Snackbar = /*#__PURE__*/function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  var _super = _createSuper(Snackbar);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _super.apply(this, arguments);
  }

  _createClass(Snackbar, [{
    key: "getSnackbarClass",
    value: function getSnackbarClass() {
      var snackbarClass = "alerts-snackbar";

      if (this.props.isVisible) {
        snackbarClass += " in";
      } else {
        snackbarClass += " out";
      }

      return snackbarClass;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getSnackbarClass()
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "alert " + TYPES_CLASSES[this.props.type]
      }, this.props.message));
    }
  }]);

  return Snackbar;
}(_react.default.Component);

exports.Snackbar = Snackbar;

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],209:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _header = _interopRequireDefault(require("./header"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Complete = function Complete(_ref) {
  var activation = _ref.activation,
      backend_name = _ref.backend_name,
      username = _ref.username;
  var icon = "";
  var message = "";

  if (activation === "user") {
    message = gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === "admin") {
    message = gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
  } else {
    message = gettext("%(username)s, your account has been created and you have been signed in to it.");
  }

  if (activation === "active") {
    icon = "check";
  } else {
    icon = "info_outline";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page page-social-auth page-social-sauth-register"
  }, /*#__PURE__*/_react.default.createElement(_header.default, {
    backendName: backend_name
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-6 col-md-offset-3"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel panel-default panel-form"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-heading"
  }, /*#__PURE__*/_react.default.createElement("h3", {
    className: "panel-title"
  }, gettext("Registration completed!"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body panel-message-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon)), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, interpolate(message, {
    username: username
  }, true)), /*#__PURE__*/_react.default.createElement("p", {
    className: "help-block"
  }, /*#__PURE__*/_react.default.createElement("a", {
    className: "btn btn-default",
    href: _.default.get("MISAGO_PATH")
  }, gettext("Return to forum index"))))))))));
};

var _default = Complete;
exports.default = _default;

},{"../..":298,"./header":210,"react":"react"}],210:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = function Header(_ref) {
  var backendName = _ref.backendName;
  var pageTitleTpl = gettext("Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, {
    backend: backendName
  }, true);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header-bg"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "page-header"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("h1", null, pageTitle))));
};

var _default = Header;
exports.default = _default;

},{"react":"react"}],211:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _register = _interopRequireDefault(require("./register"));

var _complete = _interopRequireDefault(require("./complete"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var SocialAuth = /*#__PURE__*/function (_React$Component) {
  _inherits(SocialAuth, _React$Component);

  var _super = _createSuper(SocialAuth);

  function SocialAuth(props) {
    var _this;

    _classCallCheck(this, SocialAuth);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleRegistrationComplete", function (_ref) {
      var activation = _ref.activation,
          email = _ref.email,
          step = _ref.step,
          username = _ref.username;

      _this.setState({
        activation: activation,
        email: email,
        step: step,
        username: username
      });
    });

    _this.state = {
      step: props.step,
      activation: props.activation || "",
      email: props.email || "",
      username: props.username || ""
    };
    return _this;
  }

  _createClass(SocialAuth, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          backend_name = _this$props.backend_name,
          url = _this$props.url;
      var _this$state = this.state,
          activation = _this$state.activation,
          email = _this$state.email,
          step = _this$state.step,
          username = _this$state.username;

      if (step === "register") {
        return /*#__PURE__*/_react.default.createElement(_register.default, {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }

      return /*#__PURE__*/_react.default.createElement(_complete.default, {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);

  return SocialAuth;
}(_react.default.Component);

exports.default = SocialAuth;

},{"./complete":209,"./register":212,"react":"react"}],212:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _RegisterLegalFootnote = _interopRequireDefault(require("../RegisterLegalFootnote"));

var _button = _interopRequireDefault(require("../button"));

var _form = _interopRequireDefault(require("../form"));

var _formGroup = _interopRequireDefault(require("../form-group"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var validators = _interopRequireWildcard(require("../../utils/validators"));

var _header = _interopRequireDefault(require("./header"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Register = /*#__PURE__*/function (_Form) {
  _inherits(Register, _Form);

  var _super = _createSuper(Register);

  function Register(props) {
    var _this;

    _classCallCheck(this, Register);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handlePrivacyPolicyChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("privacyPolicy", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleTermsOfServiceChange", function (event) {
      var value = event.target.value;

      _this.handleToggleAgreement("termsOfService", value);
    });

    _defineProperty(_assertThisInitialized(_this), "handleToggleAgreement", function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, null));

          return _defineProperty({
            errors: _errors
          }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];

        var errors = _objectSpread(_objectSpread({}, prevState.errors), {}, _defineProperty({}, agreement, [validator(null)]));

        return _defineProperty({
          errors: errors
        }, agreement, null);
      });
    });

    var formValidators = {
      email: [validators.email()],
      username: [validators.usernameContent()]
    };

    if (!!_.default.get("TERMS_OF_SERVICE_ID")) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_.default.get("PRIVACY_POLICY_ID")) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      email: props.email || "",
      emailProtected: !!props.email,
      username: props.username || "",
      termsOfService: null,
      privacyPolicy: null,
      validators: formValidators,
      errors: {},
      isLoading: false
    };
    return _this;
  }

  _createClass(Register, [{
    key: "clean",
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar.default.error(gettext("Fill out all fields."));

        return false;
      }

      var validators = this.state.validators;
      var checkTermsOfService = !!_.default.get("TERMS_OF_SERVICE_ID");

      if (checkTermsOfService && this.state.termsOfService === null) {
        _snackbar.default.error(validators.termsOfService[0](null));

        return false;
      }

      var checkPrivacyPolicy = !!_.default.get("PRIVACY_POLICY_ID");

      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        _snackbar.default.error(validators.privacyPolicy[0](null));

        _snackbar.default.error(gettext("You need to accept the privacy policy."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(response) {
      var onRegistrationComplete = this.props.onRegistrationComplete;
      onRegistrationComplete(response);
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;
        onRegistrationComplete({
          activation: "active",
          step: "done",
          username: username
        });
      } else if (rejection.status === 400) {
        var stateUpdate = {
          errors: rejection
        };

        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }

        this.setState(stateUpdate);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var backend_name = this.props.backend_name;
      var _this$state = this.state,
          email = _this$state.email,
          emailProtected = _this$state.emailProtected,
          username = _this$state.username,
          isLoading = _this$state.isLoading;
      var emailHelpText = null;

      if (emailProtected) {
        var emailHelpTextTpl = gettext("Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, {
          backend: backend_name
        }, true);
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-social-auth page-social-sauth-register"
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        backendName: backend_name
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-md-6 col-md-offset-3"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel panel-default panel-form"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-heading"
      }, /*#__PURE__*/_react.default.createElement("h3", {
        className: "panel-title"
      }, gettext("Complete your details"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_username",
        label: gettext("Username"),
        validation: this.state.errors.username
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "text",
        id: "id_username",
        className: "form-control",
        disabled: isLoading,
        onChange: this.bindInput("username"),
        value: username
      })), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_email",
        label: gettext("E-mail address"),
        helpText: emailHelpText,
        validation: emailProtected ? null : this.state.errors.email
      }, /*#__PURE__*/_react.default.createElement("input", {
        type: "email",
        id: "id_email",
        className: "form-control",
        disabled: isLoading || emailProtected,
        onChange: this.bindInput("email"),
        value: email
      })), /*#__PURE__*/_react.default.createElement(_RegisterLegalFootnote.default, {
        errors: this.state.errors,
        privacyPolicy: this.state.privacyPolicy,
        termsOfService: this.state.termsOfService,
        onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
        onTermsOfServiceChange: this.handleTermsOfServiceChange
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-footer"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Sign in")))))))));
    }
  }]);

  return Register;
}(_form.default);

exports.default = Register;

},{"../..":298,"../../services/ajax":361,"../../services/snackbar":373,"../../utils/validators":390,"../RegisterLegalFootnote":3,"../button":10,"../form":52,"../form-group":51,"./header":210,"react":"react"}],213:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-breadcrumbs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ol", {
    className: "breadcrumb hidden-xs"
  }, props.path.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(Breadcrumb, {
      key: item.id,
      node: item
    });
  })), /*#__PURE__*/_react.default.createElement(GoBack, props)));
}

function Breadcrumb(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.node.url.index
  }, props.node.name));
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];
  return /*#__PURE__*/_react.default.createElement("a", {
    href: lastItem.url.index,
    className: "go-back-sm visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), lastItem.name);
}

},{"react":"react"}],214:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Moderation = Moderation;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _breadcrumbs = _interopRequireDefault(require("./breadcrumbs"));

var _thread = require("../moderation/thread");

var _stats = _interopRequireDefault(require("./stats"));

var _form = _interopRequireDefault(require("../../form"));

var _validators = require("../../posting/utils/validators");

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var thread = _interopRequireWildcard(require("../../../reducers/thread"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onChange", function (event) {
      _this.changeValue("title", event.target.value);
    });

    _defineProperty(_assertThisInitialized(_this), "onEdit", function () {
      _this.setState({
        isEditing: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onCancel", function () {
      _this.setState({
        title: _this.props.thread.title,
        isEditing: false
      });
    });

    _this.state = {
      isEditing: false,
      isLoading: false,
      title: props.thread.title,
      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar.default.error(gettext("You have to enter thread title."));

        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar.default.error(errors.title[0]);

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "title",
        value: this.state.title
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(data) {
      _store.default.dispatch(thread.update(data));

      this.setState({
        isEditing: false
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          thread = _this$props.thread,
          user = _this$props.user;
      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top title-edit-form"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-6"
        }, /*#__PURE__*/_react.default.createElement("input", {
          className: "form-control",
          type: "text",
          value: this.state.title,
          onChange: this.onChange
        })), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-6 col-md-4"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top-half sm-margin-top-no md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary btn-block btn-outline",
          disabled: this.state.isLoading,
          title: gettext("Change title")
        }, gettext("Save changes"))), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-xs-6"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          disabled: this.state.isLoading,
          onClick: this.onCancel,
          title: gettext("Cancel"),
          type: "button"
        }, gettext("Cancel")))))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (user.id && thread.acl.can_edit) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: showModeration ? "col-xs-6" : "col-xs-12"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default btn-block btn-outline",
          onClick: this.onEdit,
          title: gettext("Edit title"),
          type: "button"
        }, /*#__PURE__*/_react.default.createElement("span", {
          className: "material-icon"
        }, "edit"), /*#__PURE__*/_react.default.createElement("span", {
          className: "hidden-sm"
        }, gettext("Edit")))), showModeration && /*#__PURE__*/_react.default.createElement(Moderation, this.props))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      } else if (showModeration) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "page-header"
        }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
          path: thread.path
        }), /*#__PURE__*/_react.default.createElement("div", {
          className: "container"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-9 col-md-10"
        }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement("div", {
          className: "col-sm-3 col-md-2"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "row xs-margin-top md-margin-top-no"
        }, /*#__PURE__*/_react.default.createElement(Moderation, _extends({
          isSingle: true
        }, this.props)))))), /*#__PURE__*/_react.default.createElement(_stats.default, {
          thread: thread
        }));
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement(_breadcrumbs.default, {
        path: thread.path
      }), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, thread.title)), /*#__PURE__*/_react.default.createElement(_stats.default, {
        thread: thread
      }));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function Moderation(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.isSingle ? "col-xs-12" : "col-xs-6"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group btn-group-justified"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "btn-group"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "false",
    "aria-haspopup": "true",
    className: "btn btn-default btn-outline dropdown-toggle",
    "data-toggle": "dropdown",
    disabled: props.thread.isBusy,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "settings"), /*#__PURE__*/_react.default.createElement("span", {
    className: props.isSingle ? "" : "hidden-sm"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement(_thread.ModerationControls, {
    posts: props.posts,
    thread: props.thread,
    user: props.user
  }))));
}

},{"../../../reducers/thread":356,"../../../services/ajax":361,"../../../services/snackbar":373,"../../../services/store":374,"../../form":52,"../../posting/utils/validators":140,"../moderation/thread":223,"./breadcrumbs":213,"./stats":215,"react":"react"}],215:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _escapeHtml = _interopRequireDefault(require("../../../utils/escape-html"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-globally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned globally")));
  } else if (props.thread.weight == 1) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-pinned-locally"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "bookmark_border"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Pinned locally")));
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved")));
  } else if (props.thread.has_unapproved_posts) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-unapproved-posts"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "remove_circle_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Unapproved posts")));
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-hidden"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Hidden")));
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return /*#__PURE__*/_react.default.createElement("li", {
      className: "thread-closed"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
      className: "icon-legend"
    }, gettext("Closed")));
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, {
    replies: props.thread.replies
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: "icon-legend"
  }, legend));
}

function LastReply(props) {
  var user = null;

  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml.default)(props.thread.last_poster_name)
    }, true);
  }

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml.default)(props.thread.last_post_on.format("LLL")),
    relative: (0, _escapeHtml.default)(props.thread.last_post_on.fromNow())
  }, true);
  var message = interpolate((0, _escapeHtml.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date,
    user: user
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "thread-last-reply",
    dangerouslySetInnerHTML: {
      __html: message
    }
  });
}

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "header-stats"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-inline"
  }, /*#__PURE__*/_react.default.createElement(Weight, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Unapproved, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsHidden, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(IsClosed, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(Replies, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(LastReply, {
    thread: props.thread
  }))));
}

},{"../../../utils/escape-html":380,"react":"react"}],216:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-unapproved",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });
  patch(props, ops, newState, previousState);
}

function protect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function unprotect(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-protected",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });
  patch(props, ops, newState, previousState);
}

function hide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: true
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function unhide(props) {
  var selection = props.selection;
  var ops = [{
    op: "replace",
    path: "is-hidden",
    value: false
  }];
  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: (0, _moment.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });
  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });
  patch(props, ops, newState, previousState);
}

function patch(props, ops, newState, previousState) {
  var selection = props.selection,
      thread = props.thread; // patch selected items

  newState.forEach(function (item) {
    post.patch(item, item);
  }); // deselect all the things

  _store.default.dispatch(posts.deselectAll()); // call ajax


  var data = {
    ops: ops,
    ids: selection.map(function (post) {
      return post.id;
    })
  };

  _ajax.default.patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      _store.default.dispatch(post.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        _store.default.dispatch(post.patch(item, item));
      });
      return _snackbar.default.apiError(rejection);
    }

    var errors = [];
    var rollback = [];
    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        _store.default.dispatch(post.patch(item, item));
      }

      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          _store.default.dispatch(post.patch(item, item));
        }
      });
    });
    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });

    _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
      errors: errors,
      posts: posts
    }));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));

  if (!confirmed) {
    return;
  }

  props.selection.map(function (selection) {
    _store.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });
  var ids = props.selection.map(function (post) {
    return post.id;
  });

  _ajax.default.delete(props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail);
    } else {
      _snackbar.default.apiError(rejection);
    }

    props.selection.map(function (selection) {
      _store.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":349,"../../../../reducers/posts":350,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"./errors-list":218,"moment":"moment","react":"react"}],217:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = void 0;

var _react = _interopRequireDefault(require("react"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var moderation = _interopRequireWildcard(require("./actions"));

var _move = _interopRequireDefault(require("./move"));

var _split = _interopRequireDefault(require("./split"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(Approve, props), /*#__PURE__*/_react.default.createElement(Merge, props), /*#__PURE__*/_react.default.createElement(Move, props), /*#__PURE__*/_react.default.createElement(Split, props), /*#__PURE__*/_react.default.createElement(Protect, props), /*#__PURE__*/_react.default.createElement(Unprotect, props), /*#__PURE__*/_react.default.createElement(Unhide, props), /*#__PURE__*/_react.default.createElement(Hide, props), /*#__PURE__*/_react.default.createElement(Delete, props));
}

var Approve = /*#__PURE__*/function (_React$Component) {
  _inherits(Approve, _React$Component);

  var _super = _createSuper(Approve);

  function Approve() {
    var _this;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      moderation.approve(_this.props);
    });

    return _this;
  }

  _createClass(Approve, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }]);

  return Approve;
}(_react.default.Component);

exports.Approve = Approve;

var Merge = /*#__PURE__*/function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  var _super2 = _createSuper(Merge);

  function Merge() {
    var _this2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      moderation.merge(_this2.props);
    });

    return _this2;
  }

  _createClass(Merge, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }]);

  return Merge;
}(_react.default.Component);

exports.Merge = Merge;

var Move = /*#__PURE__*/function (_React$Component3) {
  _inherits(Move, _React$Component3);

  var _super3 = _createSuper(Move);

  function Move() {
    var _this3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, _this3.props));
    });

    return _this3;
  }

  _createClass(Move, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }]);

  return Move;
}(_react.default.Component);

exports.Move = Move;

var Split = /*#__PURE__*/function (_React$Component4) {
  _inherits(Split, _React$Component4);

  var _super4 = _createSuper(Split);

  function Split() {
    var _this4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "onClick", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_split.default, _this4.props));
    });

    return _this4;
  }

  _createClass(Split, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_split"), gettext("Split")));
    }
  }]);

  return Split;
}(_react.default.Component);

exports.Split = Split;

var Protect = /*#__PURE__*/function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  var _super5 = _createSuper(Protect);

  function Protect() {
    var _this5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this5 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "onClick", function () {
      moderation.protect(_this5.props);
    });

    return _this5;
  }

  _createClass(Protect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Protect")));
    }
  }]);

  return Protect;
}(_react.default.Component);

exports.Protect = Protect;

var Unprotect = /*#__PURE__*/function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  var _super6 = _createSuper(Unprotect);

  function Unprotect() {
    var _this6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    _this6 = _super6.call.apply(_super6, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this6), "onClick", function () {
      moderation.unprotect(_this6.props);
    });

    return _this6;
  }

  _createClass(Unprotect, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Unprotect")));
    }
  }]);

  return Unprotect;
}(_react.default.Component);

exports.Unprotect = Unprotect;

var Hide = /*#__PURE__*/function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  var _super7 = _createSuper(Hide);

  function Hide() {
    var _this7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    _this7 = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "onClick", function () {
      moderation.hide(_this7.props);
    });

    return _this7;
  }

  _createClass(Hide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }]);

  return Hide;
}(_react.default.Component);

exports.Hide = Hide;

var Unhide = /*#__PURE__*/function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  var _super8 = _createSuper(Unhide);

  function Unhide() {
    var _this8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    _this8 = _super8.call.apply(_super8, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this8), "onClick", function () {
      moderation.unhide(_this8.props);
    });

    return _this8;
  }

  _createClass(Unhide, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }]);

  return Unhide;
}(_react.default.Component);

exports.Unhide = Unhide;

var Delete = /*#__PURE__*/function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  var _super9 = _createSuper(Delete);

  function Delete() {
    var _this9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    _this9 = _super9.call.apply(_super9, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "onClick", function () {
      moderation.remove(_this9.props);
    });

    return _this9;
  }

  _createClass(Delete, [{
    key: "render",
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }]);

  return Delete;
}(_react.default.Component);

exports.Delete = Delete;

},{"../../../../services/modal":368,"./actions":216,"./move":220,"./split":221,"react":"react"}],218:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.PostErrors = PostErrors;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var errors = _ref.errors,
      posts = _ref.posts;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Moderation"))), /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("One or more posts could not be changed:")), /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled list-errored-items"
  }, errors.map(function (post) {
    return /*#__PURE__*/_react.default.createElement(PostErrors, {
      errors: post.detail,
      key: post.id,
      post: posts[post.id]
    });
  })))));
}

function PostErrors(_ref2) {
  var errors = _ref2.errors,
      post = _ref2.post;
  var heading = interpolate(gettext("%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format("LL, LT"),
    username: post.poster_name
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, heading, ":"), errors.map(function (error, i) {
    return /*#__PURE__*/_react.default.createElement("p", {
      key: i
    }, error);
  }));
}

},{"react":"react"}],219:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isVisible = isVisible;

var _react = _interopRequireDefault(require("react"));

var _dropdown = _interopRequireDefault(require("./dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropup"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    disabled: !selection.length,
    type: "button"
  }, gettext("Posts options")), /*#__PURE__*/_react.default.createElement(_dropdown.default, _extends({
    selection: selection
  }, props)));
}

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  } // slow test: show moderation if any of posts has moderation options


  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":217,"react":"react"}],220:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to move posts to")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading
      }, gettext("Move posts"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move posts")));
}

},{"../../../../reducers/post":349,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../button":10,"../../../form":52,"../../../form-group":51,"react":"react"}],221:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;
exports.ModerationForm = exports.PostingConfig = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var _select = _interopRequireDefault(require("../../../select"));

var post = _interopRequireWildcard(require("../../../../reducers/post"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

var validators = _interopRequireWildcard(require("../../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement(PostingConfig, _extends({}, props, {
    Form: ModerationForm
  }));
}

var PostingConfig = /*#__PURE__*/function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  var _super = _createSuper(PostingConfig);

  function PostingConfig(props) {
    var _this;

    _classCallCheck(this, PostingConfig);

    _this = _super.call(this, props);
    _this.state = {
      isLoaded: false,
      isError: false,
      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(misago.get("THREAD_EDITOR_API")).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(Error, {
          message: this.state.isError
        });
      } else if (this.state.isLoaded) {
        return /*#__PURE__*/_react.default.createElement(ModerationForm, _extends({}, this.props, {
          categories: this.state.categories
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react.default.Component);

exports.PostingConfig = PostingConfig;

var ModerationForm = /*#__PURE__*/function (_Form) {
  _inherits(ModerationForm, _Form);

  var _super2 = _createSuper(ModerationForm);

  function ModerationForm(props) {
    var _this3;

    _classCallCheck(this, ModerationForm);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    });

    _this3.state = {
      isLoading: false,
      title: "",
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this3.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this3.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    _this3.acl = {};

    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });

    return _this3;
  }

  _createClass(ModerationForm, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal.default.hide();

      _snackbar.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          errors: Object.assign({}, this.state.errors, rejection)
        });

        _snackbar.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(ErrorsModal, {
          errors: rejection
        }));
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed",
          labelClass: "col-sm-4",
          controlClass: "col-sm-8"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement(Modal, {
        className: "modal-dialog"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        labelClass: "col-sm-4",
        controlClass: "col-sm-8",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.state.categories
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Split posts")))));
    }
  }]);

  return ModerationForm;
}(_form.default);

exports.ModerationForm = ModerationForm;

function Loader() {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog"
  }, /*#__PURE__*/_react.default.createElement(_modalLoader.default, null));
}

function Error(props) {
  return /*#__PURE__*/_react.default.createElement(Modal, {
    className: "modal-dialog modal-message"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move selected posts at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok"))));
}

function Modal(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className,
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Split posts into new thread"))), props.children));
}

},{"../../../../reducers/post":349,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../../utils/validators":390,"../../../button":10,"../../../category-select":23,"../../../form":52,"../../../form-group":51,"../../../modal-loader":57,"../../../select":206,"react":"react"}],222:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      _store.default.dispatch(thread.busy()); // by the chance update thread acl too


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store.default.dispatch(thread.update(data));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(successMessage);
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        if (rejection.status === 400) {
          _snackbar.default.error(rejection.detail[0]);
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Thread has been pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Thread has been pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Thread has been unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Thread has been approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Thread has been opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Thread has been closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Thread has been made visible."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Thread has been made hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, {
        thread: _this.props.thread
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store.default.dispatch(thread.busy());

      _ajax.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar.default.success(gettext("Thread has been deleted."));

        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (!this.props.thread.acl.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (!this.props.thread.acl.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.hide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.thread.acl.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom"
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/thread":356,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"./merge":225,"./move":226,"react":"react"}],223:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "ModerationControls", {
  enumerable: true,
  get: function get() {
    return _controls.default;
  }
});
Object.defineProperty(exports, "isModerationVisible", {
  enumerable: true,
  get: function get() {
    return _isVisible.default;
  }
});

var _controls = _interopRequireDefault(require("./controls"));

var _isVisible = _interopRequireDefault(require("./is-visible"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./controls":222,"./is-visible":224}],224:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(thread) {
  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);
}

},{}],225:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _mergeConflict = _interopRequireDefault(require("../../../merge-conflict"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (success) {
      _this.handleSuccessUnmounted(success); // keep form loading


      _this.setState({
        isLoading: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccessUnmounted", function (success) {
      _snackbar.default.success(gettext("Thread has been merged with other one."));

      window.location = success.url;
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      _store.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: {
              other_thread: _this.state.url
            },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          _snackbar.default.error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          _snackbar.default.error(rejection.poll[0]);
        } else {
          _snackbar.default.error(rejection.detail);
        }
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onUrlChange", function (event) {
      _this.changeValue("url", event.target.value);
    });

    _this.state = {
      isLoading: false,
      url: "",
      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar.default.error(gettext("You have to enter link to the other thread."));

        return false;
      }

      return true;
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        for: "id_url",
        label: gettext("Link to thread you want to merge with"),
        help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
      }, /*#__PURE__*/_react.default.createElement("input", {
        className: "form-control",
        disabled: this.state.isLoading || this.props.thread.isBusy,
        id: "id_url",
        onChange: this.onUrlChange,
        value: this.state.url
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary",
        loading: this.state.isLoading || this.props.thread.isBusy
      }, gettext("Merge thread"))))));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Merge thread")));
}

},{"../../../../reducers/thread":356,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../form":52,"../../../form-group":51,"../../../merge-conflict":55,"react":"react"}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../../form"));

var _formGroup = _interopRequireDefault(require("../../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../../category-select"));

var _modalLoader = _interopRequireDefault(require("../../../modal-loader"));

var posts = _interopRequireWildcard(require("../../../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../../../reducers/thread"));

var _ = _interopRequireDefault(require("../../../.."));

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (event) {
      _this.changeValue("category", event.target.value);
    });

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,
      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      _ajax.default.get(_.default.get("THREAD_EDITOR_API")).then(function (data) {
        var category = null; // hydrate categories, extract posting options

        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,
          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: "send",
    value: function send() {
      // freeze thread
      _store.default.dispatch(thread.busy());

      return _ajax.default.patch(this.props.thread.api.index, [{
        op: "replace",
        path: "category",
        value: this.state.category
      }]);
    }
  }, {
    key: "handleSuccess",
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.posts.page
      }).then(function (data) {
        _store.default.dispatch(thread.replace(data));

        _store.default.dispatch(posts.load(data.post_set));

        _store.default.dispatch(thread.release());

        _snackbar.default.success(gettext("Thread has been moved."));

        _modal.default.hide();
      }, function (rejection) {
        _store.default.dispatch(thread.release());

        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "handleError",
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar.default.error(rejection.detail[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isReady) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-dialog",
          role: "document"
        }, /*#__PURE__*/_react.default.createElement("form", {
          onSubmit: this.handleSubmit
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-content"
        }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-body"
        }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          for: "id_category",
          label: gettext("New category")
        }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
          choices: this.state.categories,
          disabled: this.state.isLoading || this.props.thread.isBusy,
          id: "id_category",
          onChange: this.onCategoryChange,
          value: this.state.category
        }))), /*#__PURE__*/_react.default.createElement("div", {
          className: "modal-footer"
        }, /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-default",
          "data-dismiss": "modal",
          disabled: this.state.isLoading,
          type: "button"
        }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
          className: "btn btn-primary",
          loading: this.state.isLoading || this.props.thread.isBusy
        }, gettext("Move thread"))))));
      } else if (this.state.isError) {
        return /*#__PURE__*/_react.default.createElement(ModalMessage, {
          message: this.state.isError
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(ModalLoading, null);
      }
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

function ModalHeader(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-header"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-label": gettext("Close"),
    className: "close",
    "data-dismiss": "modal",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    "aria-hidden": "true"
  }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
    className: "modal-title"
  }, gettext("Move thread")));
}

function ModalLoading(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement(_modalLoader.default, null)));
}

function ModalMessage(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-dialog modal-message",
    role: "document"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "modal-content"
  }, /*#__PURE__*/_react.default.createElement(ModalHeader, null), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-icon"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
    className: "message-body"
  }, /*#__PURE__*/_react.default.createElement("p", {
    className: "lead"
  }, gettext("You can't move this thread at the moment.")), /*#__PURE__*/_react.default.createElement("p", null, props.message), /*#__PURE__*/_react.default.createElement("button", {
    className: "btn btn-default",
    "data-dismiss": "modal",
    type: "button"
  }, gettext("Ok")))));
}

},{"../../../..":298,"../../../../reducers/posts":350,"../../../../reducers/thread":356,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../category-select":23,"../../../form":52,"../../../form-group":51,"../../../modal-loader":57,"react":"react"}],227:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("nav", {
    className: "misago-pagination pull-left"
  }, /*#__PURE__*/_react.default.createElement(Pager, props), /*#__PURE__*/_react.default.createElement(More, {
    more: props.posts.more
  }));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = "";

    if (props.posts.previous) {
      previousUrl = props.posts.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = "";

    if (props.posts.next) {
      nextUrl = props.posts.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-outline btn-icon",
      to: props.thread.url.index + props.posts.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-outline btn-icon disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"react":"react","react-router":"react-router"}],228:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("button", {
    className: props.className || "btn btn-primary btn-outline",
    onClick: props.onClick,
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chat"), gettext("Reply"));
}

},{"react":"react"}],229:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    participants: store.participants,
    poll: store.poll,
    posts: store.posts,
    thread: store.thread,
    tick: store.tick.tick,
    user: store.auth.user
  };
}

function paths() {
  var thread = _.default.get("THREAD");

  var basePath = thread.url.index.replace(thread.slug + "-" + thread.pk, ":slug");
  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route.default)
  }, {
    path: basePath + ":page/",
    component: (0, _reactRedux.connect)(select)(_route.default)
  }];
}

},{"../..":298,"./route":230,"react-redux":"react-redux"}],230:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _participants = _interopRequireDefault(require("../participants"));

var _poll = require("../poll");

var _postsList = _interopRequireDefault(require("../posts-list"));

var _header = _interopRequireDefault(require("./header"));

var _toolbarTop = _interopRequireDefault(require("./toolbar-top"));

var _toolbarBottom = _interopRequireDefault(require("./toolbar-bottom"));

var participants = _interopRequireWildcard(require("../../reducers/participants"));

var poll = _interopRequireWildcard(require("../../reducers/poll"));

var posts = _interopRequireWildcard(require("../../reducers/posts"));

var thread = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch(thread.replace(data));

      _store.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    });

    _defineProperty(_assertThisInitialized(_this), "openReplyForm", function () {
      _posting.default.open({
        mode: "REPLY",
        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: "shouldFetchData",
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: "fetchData",
    value: function fetchData() {
      var _this2 = this;

      _store.default.dispatch(posts.unload());

      _ajax.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, "posts").then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPollingApi",
    value: function startPollingApi() {
      _polls.default.start({
        poll: "thread-posts",
        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,
        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: "stopPollingApi",
    value: function stopPollingApi() {
      _polls.default.stop("thread-posts");
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      _pageTitle.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }
  }, {
    key: "render",
    value: function render() {
      var className = "page page-thread";

      if (this.props.thread.category.css_class) {
        className += " page-thread-" + this.props.thread.category.css_class;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement(_header.default, this.props)), /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_toolbarTop.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props)), /*#__PURE__*/_react.default.createElement(_poll.Poll, {
        poll: this.props.poll,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_participants.default, {
        participants: this.props.participants,
        thread: this.props.thread,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_postsList.default, this.props), /*#__PURE__*/_react.default.createElement(_toolbarBottom.default, _extends({
        openReplyForm: this.openReplyForm
      }, this.props))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../reducers/participants":347,"../../reducers/poll":348,"../../reducers/posts":350,"../../reducers/thread":356,"../../services/ajax":361,"../../services/page-title":370,"../../services/polls":371,"../../services/posting":372,"../../services/snackbar":373,"../../services/store":374,"../participants":97,"../poll":102,"../posts-list":147,"./header":214,"./toolbar-bottom":232,"./toolbar-top":233,"react":"react"}],231:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;
exports.Email = exports.Enable = exports.Disable = void 0;

var _react = _interopRequireDefault(require("react"));

var actions = _interopRequireWildcard(require("../../reducers/thread"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _default(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: props.className
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, getIcon(props.thread.subscription)), getLabel(props.thread.subscription)), /*#__PURE__*/_react.default.createElement(Dropdown, props));
}

function getIcon(subscription) {
  if (subscription === true) {
    return "star";
  } else if (subscription === false) {
    return "star_half";
  } else {
    return "star_border";
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: props.dropdownClassName || "dropdown-menu stick-to-bottom"
  }, /*#__PURE__*/_react.default.createElement(Disable, props), /*#__PURE__*/_react.default.createElement(Enable, props), /*#__PURE__*/_react.default.createElement(Email, props));
}

var Disable = /*#__PURE__*/function (_React$Component) {
  _inherits(Disable, _React$Component);

  var _super = _createSuper(Disable);

  function Disable() {
    var _this;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, "unsubscribe");
    });

    return _this;
  }

  _createClass(Disable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe")));
    }
  }]);

  return Disable;
}(_react.default.Component);

exports.Disable = Disable;

var Enable = /*#__PURE__*/function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  var _super2 = _createSuper(Enable);

  function Enable() {
    var _this2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onClick", function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, "notify");
    });

    return _this2;
  }

  _createClass(Enable, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe")));
    }
  }]);

  return Enable;
}(_react.default.Component);

exports.Enable = Enable;

var Email = /*#__PURE__*/function (_React$Component3) {
  _inherits(Email, _React$Component3);

  var _super3 = _createSuper(Email);

  function Email() {
    var _this3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "onClick", function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, "email");
    });

    return _this3;
  }

  _createClass(Email, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail")));
    }
  }]);

  return Email;
}(_react.default.Component);

exports.Email = Email;

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax.default.patch(thread.api.index, [{
    op: "replace",
    path: "subscription",
    value: value
  }]).then(function (finalState) {
    _store.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar.default.error(rejection.detail[0]);
    } else {
      _snackbar.default.apiError(rejection);
    }

    _store.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":356,"../../services/ajax":361,"../../services/snackbar":373,"../../services/store":374,"react":"react"}],232:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = _interopRequireDefault(require("react"));

var _paginator = require("./paginator");

var _posts = _interopRequireDefault(require("./moderation/posts"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(_paginator.Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_paginator.More, {
    more: props.posts.more
  })))), /*#__PURE__*/_react.default.createElement(Options, {
    visible: !!props.user.id
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer hidden-md hidden-lg"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, props), /*#__PURE__*/_react.default.createElement(Moderation, props), /*#__PURE__*/_react.default.createElement(Subscription, props), /*#__PURE__*/_react.default.createElement(Reply, {
    thread: props.thread,
    onClick: props.openReplyForm
  }))));
}

function Options(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-5"
  }, props.children);
}

function Moderation(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_posts.default, props));
}

function Subscription(props) {
  var xsClass = "col-xs-6";

  if (!props.thread.acl.can_reply) {
    xsClass = "col-xs-12";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: xsClass + " col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    btnClassName: "btn-block",
    className: "dropup"
  }, props)));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-6 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.onClick
  }));
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "hidden-xs hidden-sm col-sm-4"
  });
}

},{"./moderation/posts":219,"./paginator":227,"./reply-button":228,"./subscription":231,"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoBestAnswer = GotoBestAnswer;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;
exports.StartPollCompact = exports.StartPoll = void 0;

var _react = _interopRequireDefault(require("react"));

var _replyButton = _interopRequireDefault(require("./reply-button"));

var _subscription = _interopRequireDefault(require("./subscription"));

var _posting = _interopRequireDefault(require("../../services/posting"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _default(props) {
  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar row-toolbar-bottom-margin"
  }, /*#__PURE__*/_react.default.createElement(GotoMenu, props), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-md-5 col-md-offset-2"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: !props.user.id
  }), /*#__PURE__*/_react.default.createElement(Spacer, {
    visible: hiddenSpecialOption
  }), /*#__PURE__*/_react.default.createElement(SubscriptionMenu, props), /*#__PURE__*/_react.default.createElement(StartPoll, props), /*#__PURE__*/_react.default.createElement(Reply, props))));
}

function GotoMenu(props) {
  var user = props.user;
  var className = "col-xs-3 col-sm-3 col-md-5";

  if (user.is_anonymous) {
    className = "col-xs-12 col-sm-3 col-md-5";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row hidden-xs hidden-sm"
  }, /*#__PURE__*/_react.default.createElement(GotoLast, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoNew, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoBestAnswer, {
    thread: props.thread
  }), /*#__PURE__*/_react.default.createElement(GotoUnapproved, {
    thread: props.thread
  })), /*#__PURE__*/_react.default.createElement(CompactOptions, props));
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first new post")
  }, gettext("New")));
}

function GotoBestAnswer(props) {
  if (!props.thread.best_answer) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.best_answer,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to best answer")
  }, gettext("Best answer")));
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to first unapproved post")
  }, gettext("Unapproved")));
}

function GotoLast(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-default btn-block btn-outline",
    title: gettext("Go to last post")
  }, gettext("Last")));
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "visible-xs-block visible-sm-block"
    }, /*#__PURE__*/_react.default.createElement("a", {
      href: props.thread.url.last_post,
      className: "btn btn-default btn-block btn-outline"
    }, gettext("Last post")));
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "dropdown visible-xs-block visible-sm-block"
  }, /*#__PURE__*/_react.default.createElement("button", {
    "aria-expanded": "true",
    "aria-haspopup": "true",
    className: "btn btn-default dropdown-toggle btn-block btn-outline",
    "data-toggle": "dropdown",
    type: "button"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "expand_more"), /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text hidden-xs"
  }, gettext("Options"))), /*#__PURE__*/_react.default.createElement("ul", {
    className: "dropdown-menu"
  }, /*#__PURE__*/_react.default.createElement(StartPollCompact, props), /*#__PURE__*/_react.default.createElement(GotoNewCompact, props), /*#__PURE__*/_react.default.createElement(GotoUnapprovedCompact, props), /*#__PURE__*/_react.default.createElement(GotoLastCompact, props)));
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.new_post,
    className: "btn btn-link"
  }, gettext("Go to first new post")));
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.unapproved_post,
    className: "btn btn-link"
  }, gettext("Go to first unapproved post")));
}

function GotoLastCompact(props) {
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    href: props.thread.url.last_post,
    className: "btn btn-link"
  }, gettext("Go to last post")));
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_replyButton.default, {
    className: "btn btn-primary btn-block btn-outline",
    onClick: props.openReplyForm
  }));
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 col-sm-4"
  }, /*#__PURE__*/_react.default.createElement(_subscription.default, _extends({
    className: "dropdown",
    dropdownClassName: "dropdown-menu dropdown-menu-right stick-to-bottom"
  }, props)));
}

var StartPoll = /*#__PURE__*/function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  var _super = _createSuper(StartPoll);

  function StartPoll() {
    var _this;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onClick", function () {
      _posting.default.open({
        mode: "POLL",
        submit: _this.props.thread.api.poll,
        thread: _this.props.thread,
        poll: null
      });
    });

    return _this;
  }

  _createClass(StartPoll, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-4 hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block btn-outline",
        onClick: this.onClick,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "poll"), gettext("Add poll")));
    }
  }]);

  return StartPoll;
}(_react.default.Component);

exports.StartPoll = StartPoll;

var StartPollCompact = /*#__PURE__*/function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  var _super2 = _createSuper(StartPollCompact);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _super2.apply(this, arguments);
  }

  _createClass(StartPollCompact, [{
    key: "render",
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.onClick,
        type: "button"
      }, gettext("Add poll")));
    }
  }]);

  return StartPollCompact;
}(StartPoll);

exports.StartPollCompact = StartPollCompact;

function Spacer(props) {
  if (!props.visible) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 hidden-xs"
  });
}

},{"../../services/posting":372,"./reply-button":228,"./subscription":231,"react":"react"}],234:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _empty = _interopRequireDefault(require("./list/empty"));

var _ready = _interopRequireDefault(require("./list/ready"));

var _preview = _interopRequireDefault(require("./list/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (!props.isLoaded) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, null);
  }

  if (props.threads.length === 0) {
    return /*#__PURE__*/_react.default.createElement(_empty.default, {
      diffSize: props.diffSize,
      applyDiff: props.applyDiff
    }, props.children);
  }

  return /*#__PURE__*/_react.default.createElement(_ready.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,
    diffSize: props.diffSize,
    applyDiff: props.applyDiff,
    showOptions: props.showOptions,
    selection: props.selection,
    busyThreads: props.busyThreads
  });
}

},{"./list/empty":236,"./list/preview":237,"./list/ready":238,"react":"react"}],235:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getMessage = getMessage;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var applyDiff = props.applyDiff,
      diffSize = props.diffSize;
  if (diffSize === 0) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "list-group-item threads-diff-message"
  }, /*#__PURE__*/_react.default.createElement("button", {
    type: "button",
    className: "btn btn-block btn-default",
    onClick: applyDiff
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "cached"), /*#__PURE__*/_react.default.createElement("span", {
    className: "diff-message"
  }, getMessage(diffSize))));
}

function getMessage(diffSize) {
  var message = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", diffSize);
  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],236:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getDiffMessage",
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;
      return /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.getDiffMessage(), this.props.children));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./diff-message":235,"react":"react"}],237:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _preview = _interopRequireDefault(require("../thread/preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "threads-list ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement(_preview.default, null)));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../thread/preview":245,"react":"react"}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _diffMessage = _interopRequireDefault(require("./diff-message"));

var _ready = _interopRequireDefault(require("../thread/ready"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "threads-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-group"
  }, /*#__PURE__*/_react.default.createElement(_diffMessage.default, {
    diffSize: props.diffSize,
    applyDiff: props.applyDiff
  }), props.threads.map(function (thread) {
    return /*#__PURE__*/_react.default.createElement(_ready.default, {
      activeCategory: props.activeCategory,
      categories: props.categories,
      list: props.list,
      thread: thread,
      showOptions: props.showOptions,
      isSelected: props.selection.indexOf(thread.id) >= 0,
      isBusy: props.busyThreads.indexOf(thread.id) >= 0,
      key: thread.id
    });
  })));
}

},{"../thread/ready":246,"./diff-message":235,"react":"react"}],239:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

var _options = require("../options");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  var className = "col-xs-12 col-sm-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className = "col-xs-6 col-sm-12";
    } else {
      className = "col-xs-9 col-sm-12";
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;
  var allFlagsVisible = showOptions && statusFlags === 3;
  var textClassName = "detail-text hidden-xs";

  if (allFlagsVisible) {
    textClassName += " hidden-sm";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-details-bottom"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category hidden-xs",
    category: category
  }), /*#__PURE__*/_react.default.createElement(HiddenLabel, {
    textClassName: textClassName,
    display: thread.is_hidden
  }), /*#__PURE__*/_react.default.createElement(ClosedLabel, {
    textClassName: textClassName,
    display: thread.is_closed
  }), /*#__PURE__*/_react.default.createElement(PollLabel, {
    textClassName: textClassName,
    display: thread.has_poll
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(RepliesLabel, {
    forceFullText: !showOptions || statusFlags < 2,
    replies: thread.replies
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  })), /*#__PURE__*/_react.default.createElement(_options.OptionsXs, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  }));
}

function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-hidden"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "visibility_off"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Hidden")));
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-closed"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "lock_outline"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Closed")));
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;
  if (!display) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-poll"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "assessment"), /*#__PURE__*/_react.default.createElement("span", {
    className: textClassName
  }, gettext("Poll")));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"));
}

function RepliesLabel(_ref6) {
  var replies = _ref6.replies,
      forceFullText = _ref6.forceFullText;
  var text = ngettext("%(replies)s reply", "%(replies)s replies", replies);
  var compactClassName = "";
  var fullClassName = "";

  if (forceFullText) {
    compactClassName = "detail-text hide";
    fullClassName = "detail-text";
  } else {
    compactClassName = "detail-text visible-xs-inline-block";
    fullClassName = "detail-text hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "thread-detail-replies"
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "forum"), /*#__PURE__*/_react.default.createElement("span", {
    className: compactClassName
  }, replies), /*#__PURE__*/_react.default.createElement("span", {
    className: fullClassName
  }, interpolate(text, {
    replies: replies
  }, true)));
}

function LastReplyLabel(_ref7) {
  var datetime = _ref7.datetime,
      url = _ref7.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-sm-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;
  var className = "visible-sm-inline-block item-title thread-last-poster";

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, posterName);
}

},{"../options":244,"./category":240,"react":"react"}],240:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      className = _ref.className;
  if (!category) return null;

  if (category.css_class) {
    className += " thread-detail-category-" + category.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("a", {
    className: className,
    href: category.url.index
  }, category.name);
}

},{"react":"react"}],241:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "BottomDetails", {
  enumerable: true,
  get: function get() {
    return _bottom.default;
  }
});
Object.defineProperty(exports, "TopDetails", {
  enumerable: true,
  get: function get() {
    return _top.default;
  }
});

var _bottom = _interopRequireDefault(require("./bottom"));

var _top = _interopRequireDefault(require("./top"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./bottom":239,"./top":242}],242:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = _interopRequireDefault(require("react"));

var _category = _interopRequireDefault(require("./category"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var category = _ref.category,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "thread-details-top"
  }, /*#__PURE__*/_react.default.createElement(NewLabel, {
    isRead: thread.is_read,
    url: thread.url.new_post
  }), /*#__PURE__*/_react.default.createElement(PinnedLabel, {
    weight: thread.weight
  }), /*#__PURE__*/_react.default.createElement(UnapprovedLabel, {
    thread: thread.is_unapproved,
    posts: thread.has_unapproved_posts
  }), /*#__PURE__*/_react.default.createElement(BestAnswerLabel, {
    thread: thread
  }), /*#__PURE__*/_react.default.createElement(_category.default, {
    className: "item-title thread-detail-category visible-xs-inline-block",
    category: category
  }), /*#__PURE__*/_react.default.createElement(LastReplyLabel, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  }), /*#__PURE__*/_react.default.createElement(LastPoster, {
    posterName: thread.last_poster_name,
    url: thread.url.last_poster
  }));
}

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;
  if (isRead) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-detail-new",
    href: url
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "comment"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("New posts")));
}

function PinnedLabel(_ref3) {
  var weight = _ref3.weight;
  if (weight === 0) return null;
  var className = "thread-detail-pinned-globally";
  var icon = "bookmark";
  var text = gettext("Pinned globally");

  if (weight === 1) {
    className = "thread-detail-pinned-locally";
    icon = "bookmark_border";
    text = gettext("Pinned locally");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;
  if (!posts && !thread) return null;
  var className = "thread-detail-unapproved-posts";
  var icon = "remove_circle_outline";
  var text = gettext("Unapproved posts");

  if (thread) {
    className = "thread-detail-unapproved";
    icon = "remove_circle";
    text = gettext("Unapproved");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, icon), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, text));
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;
  if (!thread.best_answer) return null;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "hidden-xs thread-detail-answered",
    href: thread.url.best_answer
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "check_box"), /*#__PURE__*/_react.default.createElement("span", {
    className: "detail-text"
  }, gettext("Answered")));
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "visible-xs-inline-block thread-detail-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: "visible-xs-inline-block item-title thread-last-poster",
      href: url
    }, posterName);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "visible-xs-inline-block item-title thread-last-poster"
  }, posterName);
}

},{"./category":240,"react":"react"}],243:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Timestamp = Timestamp;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-last-poster-avatar",
    title: thread.last_poster_name,
    url: thread.url.last_poster
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    className: "media-object",
    size: 40,
    user: thread.last_poster
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "item-title thread-last-poster",
    url: thread.url.last_poster
  }, thread.last_poster_name), /*#__PURE__*/_react.default.createElement(Timestamp, {
    datetime: thread.last_post_on,
    url: thread.url.last_post
  })));
}

function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;
  return /*#__PURE__*/_react.default.createElement("a", {
    className: "thread-last-reply",
    href: url,
    title: datetime.format("LLL")
  }, datetime.fromNow(true));
}

},{"../../avatar":8,"./user-url":251,"react":"react"}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Options = Options;
exports.OptionsXs = OptionsXs;
exports.Checkbox = void 0;

var _react = _interopRequireDefault(require("react"));

var _compact = _interopRequireDefault(require("./subscription/compact"));

var _full = _interopRequireDefault(require("./subscription/full"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;
  if (!display) return null;
  var className = "col-sm-2 col-md-2 hidden-xs";

  if (thread.moderation.length) {
    className = "col-sm-3 col-md-2 hidden-xs";
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;
  if (!display) return null;
  var className = "";

  if (thread.moderation.length) {
    className += "col-xs-6";
  } else {
    className += "col-xs-3";
  }

  className += " visible-xs-block thread-options-xs";
  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-options"
  }, /*#__PURE__*/_react.default.createElement(_full.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(_compact.default, {
    thread: thread,
    disabled: disabled
  }), /*#__PURE__*/_react.default.createElement(Checkbox, {
    thread: thread,
    disabled: disabled,
    isSelected: isSelected
  })));
}

var Checkbox = /*#__PURE__*/function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  var _super = _createSuper(Checkbox);

  function Checkbox() {
    var _this;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggleSelection", function () {
      _store.default.dispatch(select.item(_this.props.thread.id));
    });

    return _this;
  }

  _createClass(Checkbox, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          isSelected = _this$props.isSelected,
          thread = _this$props.thread;
      if (!thread.moderation.length) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-icon btn-block",
        onClick: this.toggleSelection,
        disabled: disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, isSelected ? "check_box" : "check_box_outline_blank")));
    }
  }]);

  return Checkbox;
}(_react.default.Component);

exports.Checkbox = Checkbox;

},{"../../../reducers/selection":354,"../../../services/store":374,"./subscription/compact":247,"./subscription/full":248,"react":"react"}],245:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item thread-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-top visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title thread-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text hidden-xs",
        style: {
          width: random.int(60, 200) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "thread-details-bottom"
      }, /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":385,"react":"react"}],246:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.getClassName = getClassName;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _details = require("./details");

var _lastAction = _interopRequireDefault(require("./last-action"));

var _options = require("./options");

var _userUrl = _interopRequireDefault(require("./user-url"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;
  var category = null;

  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var flavor = category || activeCategory;
  var className = "thread-main col-xs-12";

  if (showOptions) {
    if (thread.moderation.length) {
      className += " col-sm-9 col-md-7";
    } else {
      className += " col-sm-10 col-md-7";
    }
  } else {
    className += " col-sm-12 col-md-9";
  }

  return /*#__PURE__*/_react.default.createElement("li", {
    className: getClassName(thread.is_read, isBusy, isSelected, flavor)
  }, /*#__PURE__*/_react.default.createElement(_details.TopDetails, {
    category: category,
    thread: thread
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "row thread-row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "media-left hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(_userUrl.default, {
    className: "thread-starter-avatar",
    title: thread.starter_name,
    url: thread.url.starter
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: 40,
    user: thread.starter
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "media-body"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: thread.url.index,
    className: "item-title thread-title"
  }, thread.title), /*#__PURE__*/_react.default.createElement(_details.BottomDetails, {
    category: category,
    disabled: isBusy,
    isSelected: isSelected,
    showOptions: showOptions,
    thread: thread
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-3 hidden-xs hidden-sm thread-last-action"
  }, /*#__PURE__*/_react.default.createElement(_lastAction.default, {
    thread: thread
  })), /*#__PURE__*/_react.default.createElement(_options.Options, {
    disabled: isBusy,
    display: showOptions,
    isSelected: isSelected,
    thread: thread
  })));
}

function getClassName(isRead, isBusy, isSelected, flavor) {
  var styles = ["list-group-item"];

  if (flavor && flavor.css_class) {
    styles.push("list-group-category-has-flavor");
    styles.push("list-group-item-category-" + flavor.css_class);
  }

  if (isRead) {
    styles.push("thread-read");
  } else {
    styles.push("thread-new");
  }

  if (isBusy) {
    styles.push("thread-busy");
  } else if (isSelected) {
    styles.push("thread-selected");
  }

  return styles.join(" ");
}

},{"../../avatar":8,"./details":241,"./last-action":243,"./options":244,"./user-url":251,"react":"react"}],247:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _full = _interopRequireDefault(require("./full"));

var _modal = _interopRequireDefault(require("./modal"));

var _modal2 = _interopRequireDefault(require("../../../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_SubscriptionFull) {
  _inherits(_default, _SubscriptionFull);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "showOptions", function () {
      _modal2.default.show( /*#__PURE__*/_react.default.createElement(_modal.default, {
        thread: _this.props.thread
      }));
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var moderation = this.props.thread.moderation;
      var className = "";

      if (moderation.length) {
        className += "col-xs-6";
      } else {
        className += "col-xs-12";
      }

      className += " hidden-md hidden-lg";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        onClick: this.showOptions
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon())));
    }
  }]);

  return _default;
}(_full.default);

exports.default = _default;

},{"../../../../services/modal":368,"./full":248,"./modal":249,"react":"react"}],248:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = Label;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return "star";
      } else if (this.props.thread.subscription === false) {
        return "star_half";
      }

      return "star_border";
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props$thread = this.props.thread,
          moderation = _this$props$thread.moderation,
          subscription = _this$props$thread.subscription;
      var fullwidth = !moderation.length;
      var className = fullwidth ? "col-xs-12" : "col-xs-6";
      className += " hidden-xs hidden-sm";
      return /*#__PURE__*/_react.default.createElement("div", {
        className: className
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: this.getClassName(),
        disabled: this.props.disabled,
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement(Label, {
        moderation: moderation,
        subscription: subscription
      })), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "dropdown-menu dropdown-menu-right",
        thread: this.props.thread
      }))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;
  if (moderation.length) return null;
  var text = gettext("Disabled");

  if (subscription === true) {
    text = gettext("E-mail");
  } else if (subscription === false) {
    text = gettext("Enabled");
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: "btn-text"
  }, text);
}

},{"./options":250,"react":"react"}],249:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _options = _interopRequireDefault(require("./options"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog modal-sm",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Change subscription"))), /*#__PURE__*/_react.default.createElement(_options.default, {
        className: "modal-menu",
        thread: this.props.thread
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./options":250,"react":"react"}],250:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../../button"));

var _threads = require("../../../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var STATE_UPDATES = {
  unsubscribe: null,
  notify: false,
  email: true
};

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "setSubscription", function (newState) {
      _modal.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax.default.patch(_this.props.thread.api.index, [{
        op: "replace",
        path: "subscription",
        value: newState
      }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });

        _store.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));

        _snackbar.default.apiError(rejection);
      });
    });

    _defineProperty(_assertThisInitialized(_this), "unsubscribe", function () {
      _this.setSubscription("unsubscribe");
    });

    _defineProperty(_assertThisInitialized(_this), "notify", function () {
      _this.setSubscription("notify");
    });

    _defineProperty(_assertThisInitialized(_this), "email", function () {
      _this.setSubscription("email");
    });

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.unsubscribe
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_border"), gettext("Unsubscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.notify
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star_half"), gettext("Subscribe"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.email
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "star"), gettext("Subscribe with e-mail"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../../reducers/threads":357,"../../../../services/ajax":361,"../../../../services/modal":368,"../../../../services/snackbar":373,"../../../../services/store":374,"../../../button":10,"react":"react"}],251:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var children = _ref.children,
      className = _ref.className,
      title = _ref.title,
      url = _ref.url;

  if (url) {
    return /*#__PURE__*/_react.default.createElement("a", {
      className: className,
      href: url,
      title: title
    }, children);
  }

  return /*#__PURE__*/_react.default.createElement("span", {
    className: className,
    title: title
  }, children);
}

},{"react":"react"}],252:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Subcategory = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var Subcategory = /*#__PURE__*/function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  var _super = _createSuper(Subcategory);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _super.apply(this, arguments);
  }

  _createClass(Subcategory, [{
    key: "getUrl",
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.url.index + this.props.listPath;
      } else {
        return this.props.category.url.index;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: this.getUrl(),
        className: "btn btn-link"
      }, this.props.category.name));
    }
  }]);

  return Subcategory;
}(_react.default.Component);

exports.Subcategory = Subcategory;

var _default = /*#__PURE__*/function (_React$Component2) {
  _inherits(_default, _React$Component2);

  var _super2 = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super2.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/_react.default.createElement("div", {
        className: "dropdown category-picker"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle btn-block",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "label_outline"), /*#__PURE__*/_react.default.createElement("span", {
        className: "hidden-xs"
      }, gettext("Category"))), /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu stick-to-bottom categories-menu"
      }, this.props.choices.map(function (id) {
        if (_this.props.categories[id]) {
          return /*#__PURE__*/_react.default.createElement(Subcategory, {
            category: _this.props.categories[id],
            listPath: _this.props.list.path,
            key: id
          });
        } else {
          return null;
        }
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react","react-router":"react-router"}],253:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;

function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],254:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../page-lead"));

var _toolbar = _interopRequireDefault(require("./toolbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryDescription",
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement("div", {
          className: "page-lead"
        }, /*#__PURE__*/_react.default.createElement("p", null, this.props.pageLead)));
      } else if (this.props.route.category.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "category-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.category.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getDisableToolbar",
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: "getToolbar",
    value: function getToolbar() {
      var isVisible = this.props.subcategories.length || this.props.user.id;
      if (!isVisible) return null;
      return /*#__PURE__*/_react.default.createElement(_toolbar.default, {
        subcategories: this.props.subcategories,
        categories: this.props.route.categories,
        categoriesMap: this.props.route.categoriesMap,
        list: this.props.route.list,
        threads: this.props.threads,
        moderation: this.props.moderation,
        selection: this.props.selection,
        selectAllThreads: this.props.selectAllThreads,
        selectNoneThreads: this.props.selectNoneThreads,
        addThreads: this.props.addThreads,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,
        api: this.props.api,
        route: this.props.route,
        disabled: this.getDisableToolbar(),
        user: this.props.user
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getCategoryDescription(), this.getToolbar(), this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../page-lead":88,"./toolbar":265,"react":"react"}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ParentCategory = ParentCategory;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _button = _interopRequireDefault(require("../button"));

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _posting = _interopRequireDefault(require("../../services/posting"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "startThread", function () {
      _posting.default.open(_this.props.startThread || {
        mode: "START",
        config: _.default.get("THREAD_EDITOR_API"),
        submit: _.default.get("THREADS_API"),
        category: _this.props.route.category.id
      });
    });

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "hasGoBackButton",
    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: "getGoBackButton",
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;
      var parent = this.props.categories[this.props.route.category.parent];
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-2 col-lg-1"
      }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        className: "btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline",
        to: parent.url.index + this.props.route.list.path
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "keyboard_arrow_left")));
    }
  }, {
    key: "getStartThreadButton",
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;
      return /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary btn-block btn-outline",
        onClick: this.startThread,
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "chat"), gettext("Start thread"));
    }
  }, {
    key: "render",
    value: function render() {
      var headerClassName = "col-xs-12";

      if (this.hasGoBackButton()) {
        headerClassName += " col-sm-10 col-lg-11 sm-align-row-buttons";
      }

      var isAuthenticated = !!this.props.user.id;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: isAuthenticated ? "col-sm-9 col-md-10" : "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, this.getGoBackButton(), /*#__PURE__*/_react.default.createElement("div", {
        className: headerClassName
      }, /*#__PURE__*/_react.default.createElement(ParentCategory, {
        categories: this.props.categories,
        category: this.props.route.category.parent
      }), /*#__PURE__*/_react.default.createElement("h1", null, this.props.title)))), isAuthenticated && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3 col-md-2 xs-margin-top"
      }, this.getStartThreadButton()))), /*#__PURE__*/_react.default.createElement(_nav.default, {
        baseUrl: this.props.route.category.url.index,
        list: this.props.route.list,
        lists: this.props.route.lists
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ParentCategory(_ref) {
  var categories = _ref.categories,
      category = _ref.category;
  if (!category) return null;
  var parent = categories[category];
  return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
    className: "go-back-sm visible-xs-block",
    to: parent.url.index
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "chevron_left"), parent.parent ? parent.name : gettext("Threads"));
}

},{"../..":298,"../../services/ajax":361,"../../services/posting":372,"../../services/snackbar":373,"../../services/store":374,"../button":10,"../dropdown-toggle":29,"./nav":262,"react":"react","react-router":"react-router"}],256:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.list.type === "all") {
        if (this.props.emptyMessage) {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.emptyMessage), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        } else {
          return /*#__PURE__*/_react.default.createElement("li", {
            className: "list-group-item empty-message"
          }, /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Why not start one yourself?")));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement("li", {
          className: "list-group-item empty-message"
        }, gettext("No threads matching specified criteria were found."));
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],257:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _merge = _interopRequireDefault(require("./merge"));

var _move = _interopRequireDefault(require("./move"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _countdown = _interopRequireDefault(require("../../../utils/countdown"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "callApi", function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      }); // list ids


      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      }); // always return current acl


      ops.push({
        op: "add",
        path: "acl",
        value: true
      });

      _ajax.default.patch(_this.props.api, {
        ids: ids,
        ops: ops
      }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // update threads


        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        }); // show success message and call callback

        _snackbar.default.success(successMessage);

        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        }); // escape on non-400 error


        if (rejection.status !== 400) {
          return _snackbar.default.apiError(rejection);
        } // build errors list


        var errors = [];
        var threadsMap = {};

        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });

        rejection.forEach(function (_ref) {
          var id = _ref.id,
              detail = _ref.detail;

          if (typeof threadsMap[id] !== "undefined") {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });

        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));
      });
    });

    _defineProperty(_assertThisInitialized(_this), "pinGlobally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 2
      }], gettext("Selected threads were pinned globally."));
    });

    _defineProperty(_assertThisInitialized(_this), "pinLocally", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 1
      }], gettext("Selected threads were pinned locally."));
    });

    _defineProperty(_assertThisInitialized(_this), "unpin", function () {
      _this.callApi([{
        op: "replace",
        path: "weight",
        value: 0
      }], gettext("Selected threads were unpinned."));
    });

    _defineProperty(_assertThisInitialized(_this), "approve", function () {
      _this.callApi([{
        op: "replace",
        path: "is-unapproved",
        value: false
      }], gettext("Selected threads were approved."));
    });

    _defineProperty(_assertThisInitialized(_this), "open", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: false
      }], gettext("Selected threads were opened."));
    });

    _defineProperty(_assertThisInitialized(_this), "close", function () {
      _this.callApi([{
        op: "replace",
        path: "is-closed",
        value: true
      }], gettext("Selected threads were closed."));
    });

    _defineProperty(_assertThisInitialized(_this), "unhide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: false
      }], gettext("Selected threads were unhidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "hide", function () {
      _this.callApi([{
        op: "replace",
        path: "is-hidden",
        value: true
      }], gettext("Selected threads were hidden."));
    });

    _defineProperty(_assertThisInitialized(_this), "move", function () {
      _modal.default.show( /*#__PURE__*/_react.default.createElement(_move.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "merge", function () {
      var errors = [];

      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            id: thread.id,
            title: thread.title,
            errors: [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: errors
        }));

        return;
      } else {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_merge.default, _this.props));
      }
    });

    _defineProperty(_assertThisInitialized(_this), "delete", function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      _ajax.default.delete(_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);

          _this.props.deleteThread(thread);
        });

        _snackbar.default.success(gettext("Selected threads were deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });

          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);

            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });

          _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
            errors: rejection
          }));
        } else {
          _snackbar.default.apiError(rejection);
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getPinGloballyButton",
    value: function getPinGloballyButton() {
      if (!this.props.moderation.can_pin_globally) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinGlobally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark"), gettext("Pin threads globally")));
    }
  }, {
    key: "getPinLocallyButton",
    value: function getPinLocallyButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.pinLocally,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "bookmark_border"), gettext("Pin threads locally")));
    }
  }, {
    key: "getUnpinButton",
    value: function getUnpinButton() {
      if (!this.props.moderation.can_pin) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unpin,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "panorama_fish_eye"), gettext("Unpin threads")));
    }
  }, {
    key: "getMoveButton",
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.move,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), gettext("Move threads")));
    }
  }, {
    key: "getMergeButton",
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.merge,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "call_merge"), gettext("Merge threads")));
    }
  }, {
    key: "getApproveButton",
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.approve,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done"), gettext("Approve threads")));
    }
  }, {
    key: "getOpenButton",
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.open,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_open"), gettext("Open threads")));
    }
  }, {
    key: "getCloseButton",
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.close,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "lock_outline"), gettext("Close threads")));
    }
  }, {
    key: "getUnhideButton",
    value: function getUnhideButton() {
      if (!this.props.moderation.can_unhide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.unhide,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility"), gettext("Unhide threads")));
    }
  }, {
    key: "getHideButton",
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        onClick: this.hide,
        type: "button",
        className: "btn btn-link"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "visibility_off"), gettext("Hide threads")));
    }
  }, {
    key: "getDeleteButton",
    value: function getDeleteButton() {
      if (!this.props.moderation.can_delete) return null;
      return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        onClick: this.delete,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "clear"), gettext("Delete threads")));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, this.getPinGloballyButton(), this.getPinLocallyButton(), this.getUnpinButton(), this.getMoveButton(), this.getMergeButton(), this.getApproveButton(), this.getOpenButton(), this.getCloseButton(), this.getUnhideButton(), this.getHideButton(), this.getDeleteButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":354,"../../../services/ajax":361,"../../../services/modal":368,"../../../services/snackbar":373,"../../../services/store":374,"../../../utils/countdown":379,"./errors-list":258,"./merge":259,"./move":260,"react":"react"}],258:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ThreadErrors = ThreadErrors;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-dialog",
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        "aria-label": gettext("Close"),
        className: "close",
        "data-dismiss": "modal",
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Threads moderation"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("One or more threads could not be deleted:")), /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled list-errored-items"
      }, this.props.errors.map(function (item) {
        return /*#__PURE__*/_react.default.createElement(ThreadErrors, {
          errors: item.errors,
          key: item.thread.id,
          thread: item.thread
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

function ThreadErrors(_ref) {
  var errors = _ref.errors,
      thread = _ref.thread;
  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("h5", null, thread.title), errors.map(function (message, i) {
    return /*#__PURE__*/_react.default.createElement("p", null, message);
  }));
}

},{"react":"react"}],259:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../../button"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var _select = _interopRequireDefault(require("../../select"));

var _ = _interopRequireDefault(require("../../.."));

var _threads = require("../../../reducers/threads");

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _errorsList = _interopRequireDefault(require("./errors-list"));

var _mergeConflict = _interopRequireDefault(require("../../merge-conflict"));

var _ajax = _interopRequireDefault(require("../../../services/ajax"));

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _snackbar = _interopRequireDefault(require("../../../services/snackbar"));

var _store = _interopRequireDefault(require("../../../services/store"));

var validators = _interopRequireWildcard(require("../../../utils/validators"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "getFormdata", function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    });

    _defineProperty(_assertThisInitialized(_this), "handleSuccess", function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _this.props.deleteThread(thread);
      }); // deselect all threads


      _store.default.dispatch(select.none()); // append merged thread, filter threads


      _this.props.addThreads([apiResponse]);

      _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // hide modal


      _modal.default.hide();
    });

    _defineProperty(_assertThisInitialized(_this), "handleError", function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal.default.show( /*#__PURE__*/_react.default.createElement(_mergeConflict.default, {
            api: _.default.get("MERGE_THREADS_API"),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            errors: Object.assign({}, _this.state.errors, rejection)
          });

          _snackbar.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal.default.show( /*#__PURE__*/_react.default.createElement(_errorsList.default, {
          errors: rejection
        }));
      } else if (rejection.best_answer) {
        _snackbar.default.error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        _snackbar.default.error(rejection.poll[0]);
      } else {
        _snackbar.default.apiError(rejection);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onCategoryChange", function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    });

    _this.state = {
      isLoading: false,
      title: "",
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,
      validators: {
        title: [validators.required()]
      },
      errors: {}
    };
    _this.acl = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    _this.isHiddenChoices = [{
      value: 0,
      icon: "visibility",
      label: gettext("No")
    }, {
      value: 1,
      icon: "visibility_off",
      label: gettext("Yes")
    }];
    _this.isClosedChoices = [{
      value: false,
      icon: "lock_outline",
      label: gettext("No")
    }, {
      value: true,
      icon: "lock",
      label: gettext("Yes")
    }];
    return _this;
  }

  _createClass(_default, [{
    key: "clean",
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar.default.error(gettext("Form contains errors."));

        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: "send",
    value: function send() {
      return _ajax.default.post(_.default.get("MERGE_THREADS_API"), this.getFormdata());
    }
  }, {
    key: "getWeightChoices",
    value: function getWeightChoices() {
      var choices = [{
        value: 0,
        icon: "remove",
        label: gettext("Not pinned")
      }, {
        value: 1,
        icon: "bookmark_border",
        label: gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          value: 2,
          icon: "bookmark",
          label: gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: "renderWeightField",
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Thread weight"),
          for: "id_weight"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_weight",
          onChange: this.bindInput("weight"),
          value: this.state.weight,
          choices: this.getWeightChoices()
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderHiddenField",
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Hide thread"),
          for: "id_is_hidden"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_hidden"),
          value: this.state.is_hidden,
          choices: this.isHiddenChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderClosedField",
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
          label: gettext("Close thread"),
          for: "id_is_closed"
        }, /*#__PURE__*/_react.default.createElement(_select.default, {
          id: "id_is_closed",
          onChange: this.bindInput("is_closed"),
          value: this.state.is_closed,
          choices: this.isClosedChoices
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Thread title"),
        for: "id_title",
        validation: this.state.errors.title
      }, /*#__PURE__*/_react.default.createElement("input", {
        id: "id_title",
        className: "form-control",
        type: "text",
        onChange: this.bindInput("title"),
        value: this.state.title
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Category"),
        for: "id_category",
        validation: this.state.errors.category
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_category",
        onChange: this.onCategoryChange,
        value: this.state.category,
        choices: this.categoryChoices
      })), /*#__PURE__*/_react.default.createElement("div", {
        className: "clearfix"
      }), this.renderWeightField(), this.renderHiddenField(), this.renderClosedField()), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn-primary",
        loading: this.state.isLoading
      }, gettext("Merge threads"))));
    }
  }, {
    key: "renderCantMergeMessage",
    value: function renderCantMergeMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to merge threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Merge threads"))), this.state.category ? this.renderForm() : this.renderCantMergeMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../..":298,"../../../reducers/selection":354,"../../../reducers/threads":357,"../../../services/ajax":361,"../../../services/modal":368,"../../../services/snackbar":373,"../../../services/store":374,"../../../utils/validators":390,"../../button":10,"../../category-select":23,"../../form":52,"../../form-group":51,"../../merge-conflict":55,"../../select":206,"./errors-list":258,"react":"react"}],260:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _form = _interopRequireDefault(require("../../form"));

var _formGroup = _interopRequireDefault(require("../../form-group"));

var _categorySelect = _interopRequireDefault(require("../../category-select"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _threads = require("../../../reducers/threads");

var _modal = _interopRequireDefault(require("../../../services/modal"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_Form) {
  _inherits(_default, _Form);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal.default.hide();

      var onSuccess = function onSuccess() {
        _store.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap)); // deselect threads moved outside of visible scope


        var storeState = _store.default.getState();

        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });

        _store.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{
        op: "replace",
        path: "category",
        value: _this.state.category
      }, {
        op: "replace",
        path: "flatten-categories",
        value: null
      }, {
        op: "add",
        path: "acl",
        value: true
      }], gettext("Selected threads were moved."), onSuccess);
    });

    _this.state = {
      category: null
    };
    var acls = {};

    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (!this.state.category) {
        return "modal-dialog modal-message";
      } else {
        return "modal-dialog";
      }
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      return /*#__PURE__*/_react.default.createElement("form", {
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("New category"),
        for: "id_new_category"
      }, /*#__PURE__*/_react.default.createElement(_categorySelect.default, {
        id: "id_new_category",
        onChange: this.bindInput("category"),
        value: this.state.category,
        choices: this.categoryChoices
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-footer"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        disabled: this.state.isLoading,
        type: "button"
      }, gettext("Cancel")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-primary"
      }, gettext("Move threads"))));
    }
  }, {
    key: "renderCantMoveMessage",
    value: function renderCantMoveMessage() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "message-icon"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "info_outline")), /*#__PURE__*/_react.default.createElement("div", {
        className: "message-body"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, gettext("You can't move threads because there are no categories you are allowed to move them to.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("You need permission to start threads in category to be able to move threads to it.")), /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default",
        "data-dismiss": "modal",
        type: "button"
      }, gettext("Ok"))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName(),
        role: "document"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-content"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "modal-header"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "close",
        "data-dismiss": "modal",
        "aria-label": gettext("Close")
      }, /*#__PURE__*/_react.default.createElement("span", {
        "aria-hidden": "true"
      }, "\xD7")), /*#__PURE__*/_react.default.createElement("h4", {
        className: "modal-title"
      }, gettext("Move threads"))), this.state.category ? this.renderForm() : this.renderCantMoveMessage()));
    }
  }]);

  return _default;
}(_form.default);

exports.default = _default;

},{"../../../reducers/selection":354,"../../../reducers/threads":357,"../../../services/modal":368,"../../../services/store":374,"../../category-select":23,"../../form":52,"../../form-group":51,"react":"react"}],261:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var select = _interopRequireWildcard(require("../../../reducers/selection"));

var _store = _interopRequireDefault(require("../../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "selectAll", function () {
      _store.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    });

    _defineProperty(_assertThisInitialized(_this), "selectNone", function () {
      _store.default.dispatch(select.none());
    });

    return _this;
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: this.props.className
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectAll
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box"), gettext("Select all"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-link",
        type: "button",
        onClick: this.selectNone
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "check_box_outline_blank"), gettext("Select none"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../reducers/selection":354,"../../../services/store":374,"react":"react"}],262:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;
  if (lists.length < 2) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "page-tabs"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "container"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (item) {
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      isControlled: true,
      isActive: item.path === list.path,
      key: baseUrl + item.path
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: baseUrl + item.path
    }, item.name));
  }))));
}

},{"../li":53,"react":"react","react-router":"react-router"}],263:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require("react-redux");

var _route = _interopRequireDefault(require("./route"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      options: options,
      selection: store.selection,
      threads: store.threads,
      tick: store.tick.tick,
      user: store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: "all",
    path: "",
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: "my",
      path: "my/",
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: "new",
      path: "new/",
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: "unread",
      path: "unread/",
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: "subscribed",
      path: "subscribed/",
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: "unapproved",
        path: "unapproved/",
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _.default.get("CATEGORIES").forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;
      routes.push({
        path: category.url.index + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route.default),
        categories: _.default.get("CATEGORIES"),
        categoriesMap: categoriesMap,
        category: category,
        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../..":298,"./route":264,"react-redux":"react-redux"}],264:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _button = _interopRequireDefault(require("../button"));

var _compare = require("./compare");

var _container = _interopRequireDefault(require("./container"));

var _header = _interopRequireDefault(require("./header"));

var _utils = require("./utils");

var _threadsList = _interopRequireDefault(require("../threads-list"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

var select = _interopRequireWildcard(require("../../reducers/selection"));

var _threads = require("../../reducers/threads");

var _ajax = _interopRequireDefault(require("../../services/ajax"));

var _polls = _interopRequireDefault(require("../../services/polls"));

var _snackbar = _interopRequireDefault(require("../../services/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../services/page-title"));

var sets = _interopRequireWildcard(require("../../utils/sets"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "loadMore", function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.next);
    });

    _defineProperty(_assertThisInitialized(_this), "pollResponse", function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addThreads", function (threads) {
      _store.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "applyDiff", function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
        diff: {
          results: []
        }
      }));
    });

    _defineProperty(_assertThisInitialized(_this), "freezeThread", function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateThread", function (thread) {
      _store.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    });

    _defineProperty(_assertThisInitialized(_this), "deleteThread", function (thread) {
      _store.default.dispatch((0, _threads.deleteThread)(thread));
    });

    _this.state = {
      isMounted: true,
      isLoaded: false,
      isBusy: false,
      diff: {
        results: []
      },
      moderation: [],
      busyThreads: [],
      dropdown: false,
      subcategories: [],
      next: 0
    };

    var category = _this.getCategory();

    if (_.default.has("THREADS")) {
      _this.initWithPreloadedData(category, _.default.get("THREADS"));
    } else {
      _this.initWithoutPreloadedData(category);
    }

    return _this;
  }

  _createClass(_default, [{
    key: "getCategory",
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),
        subcategories: data.subcategories,
        next: data.next
      });
      this.startPolling(category);
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: "loadThreads",
    value: function loadThreads(category) {
      var _this2 = this;

      var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      _ajax.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        start: next || 0
      }, "threads").then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (next === 0) {
          _store.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,
          moderation: (0, _utils.getModerationActions)(_store.default.getState().threads),
          subcategories: data.subcategories,
          next: data.next
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "startPolling",
    value: function startPolling(category) {
      _polls.default.start({
        poll: "threads",
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setPageTitle();

      if (_.default.has("THREADS")) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store.default.dispatch((0, _threads.hydrate)(_.default.pop("THREADS").results));

        this.setState({
          isLoaded: true
        });
      }

      _store.default.dispatch(select.none());
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.isMounted = false;

      _polls.default.stop("threads");
    }
  }, {
    key: "getTitle",
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: "setPageTitle",
    value: function setPageTitle() {
      if (this.props.route.category.level || !_.default.get("THREADS_ON_INDEX")) {
        _pageTitle.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle.default.set(this.props.options.title);
      } else {
        if (_.default.get("SETTINGS").index_title) {
          document.title = _.default.get("SETTINGS").index_title;
        } else {
          document.title = _.default.get("SETTINGS").forum_name;
        }
      }
    }
  }, {
    key: "getSorting",
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    } // AJAX

  }, {
    key: "getMoreButton",
    value: function getMoreButton() {
      if (!this.state.next) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "pager-more"
      }, /*#__PURE__*/_react.default.createElement(_button.default, {
        className: "btn btn-default btn-outline",
        loading: this.state.isBusy || this.state.busyThreads.length,
        onClick: this.loadMore
      }, gettext("Show more")));
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      var className = "page page-threads";
      className += " page-threads-" + this.props.route.list.type;

      if (isIndex(this.props)) {
        className += " page-threads-index";
      }

      if (this.props.route.category.css_class) {
        className += " page-threads-" + this.props.route.category.css_class;
      }

      return className;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement(_header.default, {
        categories: this.props.route.categoriesMap,
        disabled: !this.state.isLoaded,
        startThread: this.props.options.startThread,
        threads: this.props.threads,
        title: this.getTitle(),
        toggleNav: this.toggleNav,
        route: this.props.route,
        user: this.props.user
      }), /*#__PURE__*/_react.default.createElement(_container.default, {
        api: this.props.options.api,
        route: this.props.route,
        subcategories: this.state.subcategories,
        user: this.props.user,
        pageLead: this.props.options.pageLead,
        threads: this.props.threads,
        threadsCount: this.state.count,
        moderation: this.state.moderation,
        selection: this.props.selection,
        busyThreads: this.state.busyThreads,
        addThreads: this.addThreads,
        freezeThread: this.freezeThread,
        deleteThread: this.deleteThread,
        updateThread: this.updateThread,
        isLoaded: this.state.isLoaded,
        isBusy: this.state.isBusy
      }, /*#__PURE__*/_react.default.createElement(_threadsList.default, {
        category: this.props.route.category,
        categories: this.props.route.categoriesMap,
        list: this.props.route.list,
        selection: this.props.selection,
        threads: this.props.threads,
        diffSize: this.state.diff.results.length,
        applyDiff: this.applyDiff,
        showOptions: !!this.props.user.id,
        isLoaded: this.state.isLoaded,
        busyThreads: this.state.busyThreads
      }, /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
        category: this.props.route.category,
        emptyMessage: this.props.options.emptyMessage,
        list: this.props.route.list
      })), this.getMoreButton()));
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function isIndex(props) {
  if (props.route.category.level || !_.default.get("THREADS_ON_INDEX")) return false;
  if (props.options.title) return false;
  return true;
}

},{"../..":298,"../../reducers/selection":354,"../../reducers/threads":357,"../../services/ajax":361,"../../services/page-title":370,"../../services/polls":371,"../../services/snackbar":373,"../../services/store":374,"../../utils/sets":388,"../button":10,"../threads-list":234,"../with-dropdown":295,"./compare":253,"./container":254,"./header":255,"./list-empty":256,"./utils":266,"react":"react"}],265:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _categoryPicker = _interopRequireDefault(require("./category-picker"));

var _controls = _interopRequireDefault(require("./moderation/controls"));

var _selection = _interopRequireDefault(require("./moderation/selection"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getCategoryPicker",
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;
      return /*#__PURE__*/_react.default.createElement(_categoryPicker.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
    }
  }, {
    key: "showModerationOptions",
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: "getSelectedThreads",
    value: function getSelectedThreads() {
      var _this = this;

      return this.props.threads.filter(function (thread) {
        return _this.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: "getModerationButton",
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6 col-sm-3 col-md-2"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled || !this.props.selection.length
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "settings"), gettext("Options")), /*#__PURE__*/_react.default.createElement(_controls.default, {
        addThreads: this.props.addThreads,
        api: this.props.api,
        categories: this.props.categories,
        categoriesMap: this.props.categoriesMap,
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        deleteThread: this.props.deleteThread,
        freezeThread: this.props.freezeThread,
        moderation: this.props.moderation,
        route: this.props.route,
        threads: this.getSelectedThreads(),
        updateThread: this.props.updateThread,
        user: this.props.user
      }))));
    }
  }, {
    key: "getSelectionButton",
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-2 col-md-1"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group btn-group-justified"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "btn-group dropdown"
      }, /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        className: "btn btn-default btn-outline btn-icon dropdown-toggle",
        "data-toggle": "dropdown",
        "aria-haspopup": "true",
        "aria-expanded": "false",
        disabled: this.props.disabled
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "select_all")), /*#__PURE__*/_react.default.createElement(_selection.default, {
        className: "dropdown-menu dropdown-menu-right stick-to-bottom",
        threads: this.props.threads
      }))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "row row-toolbar row-toolbar-bottom-margin"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 col-sm-3 col-md-2 dropdown"
      }, this.getCategoryPicker()), /*#__PURE__*/_react.default.createElement("div", {
        className: "hidden-xs col-sm-4 col-md-7"
      }), this.getModerationButton(), this.getSelectionButton());
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./category-picker":252,"./moderation/controls":257,"./moderation/selection":261,"react":"react"}],266:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_.default.get("THREADS_ON_INDEX")) {
    if (_.default.get("SETTINGS").index_header) {
      return _.default.get("SETTINGS").index_header;
    } else {
      return _.default.get("SETTINGS").forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });
  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,
    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };
  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }

    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });
  return moderation;
}

},{"../..":298}],267:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _registerButton = _interopRequireDefault(require("../register-button"));

var _signIn = _interopRequireDefault(require("../sign-in.js"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var GuestMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  var _super = _createSuper(GuestMenu);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _super.apply(this, arguments);
  }

  _createClass(GuestMenu, [{
    key: "showSignInModal",
    value: function showSignInModal() {
      _modal.default.show(_signIn.default);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "guest-preview"
      }, /*#__PURE__*/_react.default.createElement("h4", null, gettext("You are browsing as guest.")), /*#__PURE__*/_react.default.createElement("p", null, gettext("Sign in or register to start and participate in discussions.")), /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-12"
      }, /*#__PURE__*/_react.default.createElement("a", {
        className: "btn btn-primary btn-register btn-block",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in"))) : /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-sign-in btn-block",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in"))), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-6"
      }, /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "btn-primary btn-register btn-block"
      }, gettext("Register"))))));
    }
  }]);

  return GuestMenu;
}(_react.default.Component);

exports.GuestMenu = GuestMenu;

var GuestNav = /*#__PURE__*/function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  var _super2 = _createSuper(GuestNav);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _super2.apply(this, arguments);
  }

  _createClass(GuestNav, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "nav nav-guest"
      }, _.default.get("SETTINGS").enable_sso ? /*#__PURE__*/_react.default.createElement("a", {
        className: "btn navbar-btn btn-primary btn-register",
        href: _.default.get("SETTINGS").SSO_LOGIN_URL
      }, gettext("Sign in")) : /*#__PURE__*/_react.default.createElement("button", {
        className: "btn navbar-btn btn-default btn-sign-in",
        onClick: this.showSignInModal,
        type: "button"
      }, gettext("Sign in")), !_.default.get("SETTINGS").enable_sso && /*#__PURE__*/_react.default.createElement(_registerButton.default, {
        className: "navbar-btn btn-primary btn-register"
      }, gettext("Register")), /*#__PURE__*/_react.default.createElement("div", {
        className: "navbar-left"
      }, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)));
    }
  }]);

  return GuestNav;
}(GuestMenu);

exports.GuestNav = GuestNav;

var CompactGuestNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  var _super3 = _createSuper(CompactGuestNav);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _super3.apply(this, arguments);
  }

  _createClass(CompactGuestNav, [{
    key: "showGuestMenu",
    value: function showGuestMenu() {
      _mobileNavbarDropdown.default.show(GuestMenu);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showGuestMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "64"
      }));
    }
  }]);

  return CompactGuestNav;
}(_react.default.Component);

exports.CompactGuestNav = CompactGuestNav;

},{"../..":298,"../../services/mobile-navbar-dropdown":367,"../../services/modal":368,"../avatar":8,"../navbar-search":73,"../register-button":194,"../sign-in.js":207,"react":"react"}],268:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.CompactUserMenu = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _guestNav = require("./guest-nav");

var _userNav = require("./user-nav");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.UserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.GuestNav, null);
      }
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

var CompactUserMenu = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  var _super2 = _createSuper(CompactUserMenu);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserMenu, [{
    key: "render",
    value: function render() {
      if (this.props.isAuthenticated) {
        return /*#__PURE__*/_react.default.createElement(_userNav.CompactUserNav, {
          user: this.props.user
        });
      } else {
        return /*#__PURE__*/_react.default.createElement(_guestNav.CompactGuestNav, null);
      }
    }
  }]);

  return CompactUserMenu;
}(_react.default.Component);

exports.CompactUserMenu = CompactUserMenu;

function select(state) {
  return state.auth;
}

},{"./guest-nav":267,"./user-nav":269,"react":"react"}],269:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;
exports.CompactUserNav = exports.UserMenu = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _avatar = _interopRequireDefault(require("../avatar"));

var _root = _interopRequireWildcard(require("../change-avatar/root"));

var _navbarSearch = _interopRequireDefault(require("../navbar-search"));

var _ = _interopRequireDefault(require("../.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../../services/mobile-navbar-dropdown"));

var _modal = _interopRequireDefault(require("../../services/modal"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var UserMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  var _super = _createSuper(UserMenu);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _super.apply(this, arguments);
  }

  _createClass(UserMenu, [{
    key: "logout",
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));

      if (decision) {
        $("#hidden-logout-form").submit();
      }
    }
  }, {
    key: "changeAvatar",
    value: function changeAvatar() {
      _modal.default.show((0, _reactRedux.connect)(_root.select)(_root.default));
    }
  }, {
    key: "render",
    value: function render() {
      var user = this.props.user;
      return /*#__PURE__*/_react.default.createElement("ul", {
        className: "dropdown-menu user-dropdown dropdown-menu-right",
        role: "menu"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-header"
      }, /*#__PURE__*/_react.default.createElement("strong", null, user.username), /*#__PURE__*/_react.default.createElement("div", {
        className: "row user-stats"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), user.posts), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "forum"), user.threads), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite"), user.followers), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-sm-3"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "favorite_outline"), user.following))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: user.url
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "account_circle"), gettext("See your profile"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("USERCP_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "done_all"), gettext("Change options"))), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn-link",
        onClick: this.changeAvatar,
        type: "button"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "portrait"), gettext("Change avatar"))), !!user.acl.can_use_private_threads && /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
        href: _.default.get("PRIVATE_THREADS_URL")
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "message"), gettext("Private threads"), /*#__PURE__*/_react.default.createElement(PrivateThreadsBadge, {
        user: user
      }))), /*#__PURE__*/_react.default.createElement("li", {
        className: "divider"
      }), /*#__PURE__*/_react.default.createElement("li", {
        className: "dropdown-buttons"
      }, /*#__PURE__*/_react.default.createElement("button", {
        className: "btn btn-default btn-block",
        onClick: this.logout,
        type: "button"
      }, gettext("Log out"))));
    }
  }]);

  return UserMenu;
}(_react.default.Component);

exports.UserMenu = UserMenu;

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;
  if (!user.unread_private_threads) return null;
  return /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads);
}

function UserNav(_ref2) {
  var user = _ref2.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "ul nav navbar-nav nav-user"
  }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement(_navbarSearch.default, null)), /*#__PURE__*/_react.default.createElement(UserPrivateThreadsLink, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "dropdown"
  }, /*#__PURE__*/_react.default.createElement("a", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    className: "dropdown-toggle",
    "data-toggle": "dropdown",
    href: user.url,
    role: "button"
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    user: user,
    size: "64"
  })), /*#__PURE__*/_react.default.createElement(UserMenu, {
    user: user
  })));
}

function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;
  if (!user.acl.can_use_private_threads) return null;
  var title = null;

  if (user.unread_private_threads) {
    title = gettext("You have unread private threads!");
  } else {
    title = gettext("Private threads");
  }

  return /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("a", {
    className: "navbar-icon",
    href: _.default.get("PRIVATE_THREADS_URL"),
    title: title
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: "material-icon"
  }, "message"), user.unread_private_threads > 0 && /*#__PURE__*/_react.default.createElement("span", {
    className: "badge"
  }, user.unread_private_threads)));
}

function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}

var CompactUserNav = /*#__PURE__*/function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  var _super2 = _createSuper(CompactUserNav);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _super2.apply(this, arguments);
  }

  _createClass(CompactUserNav, [{
    key: "showUserMenu",
    value: function showUserMenu() {
      _mobileNavbarDropdown.default.showConnected("user-menu", (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.showUserMenu
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: "50"
      }));
    }
  }]);

  return CompactUserNav;
}(_react.default.Component);

exports.CompactUserNav = CompactUserNav;

},{"../..":298,"../../services/mobile-navbar-dropdown":367,"../../services/modal":368,"../avatar":8,"../change-avatar/root":27,"../navbar-search":73,"react":"react","react-redux":"react-redux"}],270:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;
exports.StatusLabel = exports.StatusIcon = exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClass",
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.getClass()
      }, this.props.children);
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

var StatusIcon = /*#__PURE__*/function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  var _super2 = _createSuper(StatusIcon);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _super2.apply(this, arguments);
  }

  _createClass(StatusIcon, [{
    key: "getIcon",
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return "remove_circle_outline";
      } else if (this.props.status.is_hidden) {
        return "help_outline";
      } else if (this.props.status.is_online_hidden) {
        return "label";
      } else if (this.props.status.is_offline_hidden) {
        return "label_outline";
      } else if (this.props.status.is_online) {
        return "lens";
      } else if (this.props.status.is_offline) {
        return "panorama_fish_eye";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon status-icon"
      }, this.getIcon());
    }
  }]);

  return StatusIcon;
}(_react.default.Component);

exports.StatusIcon = StatusIcon;

var StatusLabel = /*#__PURE__*/function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  var _super3 = _createSuper(StatusLabel);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _super3.apply(this, arguments);
  }

  _createClass(StatusLabel, [{
    key: "getHelp",
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("span", {
        className: this.props.className || "status-label",
        title: this.getHelp()
      }, this.getLabel());
    }
  }]);

  return StatusLabel;
}(_react.default.Component);

exports.StatusLabel = StatusLabel;

function getStatusClassName(status) {
  var className = "";

  if (status.is_banned) {
    className = "banned";
  } else if (status.is_hidden) {
    className = "offline";
  } else if (status.is_online_hidden) {
    className = "online";
  } else if (status.is_offline_hidden) {
    className = "offline";
  } else if (status.is_online) {
    className = "online";
  } else if (status.is_offline) {
    className = "offline";
  }

  return "user-status user-" + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format("LL, LT")
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],271:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

var random = _interopRequireWildcard(require("../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-avatar"
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "100"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 100) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(80, 140) + "px"
        }
      }, "\xA0")));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../utils/random":385,"../avatar":8,"react":"react"}],272:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../avatar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "renderUserAvatar",
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          user: this.props.change.changed_by,
          size: "100"
        }));
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "user-avatar-wrapper"
        }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
          size: "100"
        }));
      }
    }
  }, {
    key: "renderUsername",
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        return /*#__PURE__*/_react.default.createElement("a", {
          href: this.props.change.changed_by.url,
          className: "item-title"
        }, this.props.change.changed_by.username);
      } else {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "item-title"
        }, this.props.change.changed_by_username);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item",
        key: this.props.change.id
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "change-avatar"
      }, this.renderUserAvatar()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-author"
      }, this.renderUsername()), /*#__PURE__*/_react.default.createElement("div", {
        className: "change"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "old-username"
      }, this.props.change.old_username), /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, "arrow_forward"), /*#__PURE__*/_react.default.createElement("span", {
        className: "new-username"
      }, this.props.change.new_username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "change-date"
      }, /*#__PURE__*/_react.default.createElement("abbr", {
        title: this.props.change.changed_on.format("LLL")
      }, this.props.change.changed_on.fromNow())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../avatar":8,"react":"react"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, /*#__PURE__*/_react.default.createElement("li", {
        className: "list-group-item empty-message"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],274:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _changePreview = _interopRequireDefault(require("./change-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_changePreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change-preview":271,"react":"react"}],275:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _change = _interopRequireDefault(require("./change"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "username-history ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.changes.map(function (change) {
        return /*#__PURE__*/_react.default.createElement(_change.default, {
          change: change,
          key: change.id
        });
      })));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./change":272,"react":"react"}],276:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            changes: this.props.changes
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            emptyMessage: this.props.emptyMessage
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-empty":273,"./list-preview":274,"./list-ready":275,"react":"react"}],277:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var _stats = _interopRequireDefault(require("./stats"));

var _userTitle = _interopRequireDefault(require("./user-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  var rank = user.rank;
  var className = "panel user-card";

  if (rank.css_class) {
    className += " user-card-" + rank.css_class;
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: className
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "panel-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3 user-card-left"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-small-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "50",
    size2x: "80",
    user: user
  })))), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-9 col-sm-12 user-card-body"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-avatar"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
    size: "150",
    size2x: "200",
    user: user
  }))), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-username"
  }, /*#__PURE__*/_react.default.createElement("a", {
    href: user.url
  }, user.username)), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-title"
  }, /*#__PURE__*/_react.default.createElement(_userTitle.default, {
    rank: rank,
    title: user.title
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "user-card-stats"
  }, /*#__PURE__*/_react.default.createElement(_stats.default, {
    showStatus: showStatus,
    user: user
  }))))));
}

},{"../../avatar":8,"./stats":278,"./user-title":279,"react":"react"}],278:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Status = Status;
exports.JoinDate = JoinDate;
exports.Posts = Posts;
exports.Threads = Threads;
exports.Followers = Followers;
exports.getStatClassName = getStatClassName;

var _react = _interopRequireDefault(require("react"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "list-unstyled"
  }, /*#__PURE__*/_react.default.createElement(Status, {
    showStatus: showStatus,
    user: user
  }), /*#__PURE__*/_react.default.createElement(JoinDate, {
    user: user
  }), /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-divider"
  }), /*#__PURE__*/_react.default.createElement(Posts, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Threads, {
    user: user
  }), /*#__PURE__*/_react.default.createElement(Followers, {
    user: user
  }));
}

function Status(_ref2) {
  var showStatus = _ref2.showStatus,
      user = _ref2.user;
  if (!showStatus) return null;
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-status"
  }, /*#__PURE__*/_react.default.createElement(_userStatus.default, {
    status: user.status
  }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
    status: user.status,
    user: user
  })));
}

function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;
  var title = interpolate(gettext("Joined on %(joined_on)s"), {
    joined_on: joined_on.format("LL, LT")
  }, true);
  var message = interpolate(gettext("Joined %(joined_on)s"), {
    joined_on: joined_on.fromNow()
  }, true);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "user-stat-join-date"
  }, /*#__PURE__*/_react.default.createElement("abbr", {
    title: title
  }, message));
}

function Posts(_ref4) {
  var user = _ref4.user;
  var className = getStatClassName("user-stat-posts", user.posts);
  var message = ngettext("%(posts)s post", "%(posts)s posts", user.posts);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    posts: user.posts
  }, true));
}

function Threads(_ref5) {
  var user = _ref5.user;
  var className = getStatClassName("user-stat-threads", user.threads);
  var message = ngettext("%(threads)s thread", "%(threads)s threads", user.threads);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    threads: user.threads
  }, true));
}

function Followers(_ref6) {
  var user = _ref6.user;
  var className = getStatClassName("user-stat-followers", user.followers);
  var message = ngettext("%(followers)s follower", "%(followers)s followers", user.followers);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: className
  }, interpolate(message, {
    followers: user.followers
  }, true));
}

function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + " user-stat-empty";
  }

  return className;
}

},{"../../user-status":270,"react":"react"}],279:[function(require,module,exports){
arguments[4][126][0].apply(exports,arguments)
},{"dup":126,"react":"react"}],280:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

var _preview = _interopRequireDefault(require("./preview"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var cols = _ref.cols,
      isReady = _ref.isReady,
      showStatus = _ref.showStatus,
      users = _ref.users;
  var colClassName = "col-xs-12 col-sm-4";

  if (cols === 4) {
    colClassName += " col-md-3";
  }

  if (!isReady) {
    return /*#__PURE__*/_react.default.createElement(_preview.default, {
      colClassName: colClassName,
      cols: cols
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-ready"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, users.map(function (user) {
    return /*#__PURE__*/_react.default.createElement("div", {
      className: colClassName,
      key: user.id
    }, /*#__PURE__*/_react.default.createElement(_card.default, {
      showStatus: showStatus,
      user: user
    }));
  })));
}

},{"./card":277,"./preview":282,"react":"react"}],281:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "panel user-card user-card-preview"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "panel-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "row"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-3 user-card-left"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-small-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50",
        size2x: "80"
      })))), /*#__PURE__*/_react.default.createElement("div", {
        className: "col-xs-9 col-sm-12 user-card-body"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "150",
        size2x: "200"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-username"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(60, 150) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-card-stats"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-unstyled"
      }, /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", {
        className: "user-stat-divider"
      }), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("li", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 70) + "px"
        }
      }, "\xA0"))))))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":385,"../../avatar":8,"react":"react"}],282:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _card = _interopRequireDefault(require("./card"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var colClassName = _ref.colClassName,
      cols = _ref.cols;
  var list = Array.apply(null, {
    length: cols
  }).map(Number.call, Number);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "users-cards-list ui-preview"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, list.map(function (i) {
    var className = colClassName;
    if (i !== 0) className += " hidden-xs";
    if (i === 3) className += " hidden-sm";
    return /*#__PURE__*/_react.default.createElement("div", {
      className: className,
      key: i
    }, /*#__PURE__*/_react.default.createElement(_card.default, null));
  })));
}

},{"./card":281,"react":"react"}],283:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), {
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getEmptyMessage())));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],284:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _avatar = _interopRequireDefault(require("../../avatar"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return "list-group-item hidden-xs hidden-sm";
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        size: "50"
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "item-title"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 80) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-name"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(20, 30) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":385,"../../avatar":8,"react":"react"}],285:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _avatar = _interopRequireDefault(require("../../avatar"));

var _userStatus = _interopRequireWildcard(require("../../user-status"));

var _ = _interopRequireDefault(require("../../.."));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: "getUserStatus",
    value: function getUserStatus() {
      if (this.props.user.status) {
        return /*#__PURE__*/_react.default.createElement(_userStatus.default, {
          user: this.props.user,
          status: this.props.user.status
        }, /*#__PURE__*/_react.default.createElement(_userStatus.StatusIcon, {
          user: this.props.user,
          status: this.props.user.status
        }), /*#__PURE__*/_react.default.createElement(_userStatus.StatusLabel, {
          user: this.props.user,
          status: this.props.user.status,
          className: "status-label hidden-xs hidden-sm"
        }));
      }

      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-status"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "status-icon ui-preview-text"
      }, "\xA0"), /*#__PURE__*/_react.default.createElement("span", {
        className: "status-label ui-preview-text hidden-xs hidden-sm",
        style: {
          width: random.int(30, 50) + "px"
        }
      }, "\xA0"));
    }
  }, {
    key: "getRankName",
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        return /*#__PURE__*/_react.default.createElement("span", {
          className: "rank-name item-title"
        }, this.props.rank.name);
      }

      var rankUrl = _.default.get("USERS_LIST_URL") + this.props.rank.slug + "/";
      return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
        to: rankUrl,
        className: "rank-name item-title"
      }, this.props.rank.name);
    }
  }, {
    key: "getUserTitle",
    value: function getUserTitle() {
      if (!this.props.user.title) return null;
      return /*#__PURE__*/_react.default.createElement("span", {
        className: "user-title hidden-xs hidden-sm"
      }, this.props.user.title);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("li", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user-avatar"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url
      }, /*#__PURE__*/_react.default.createElement(_avatar.default, {
        user: this.props.user,
        size: 50,
        size2x: 64
      }))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-user"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "user-name"
      }, /*#__PURE__*/_react.default.createElement("a", {
        href: this.props.user.url,
        className: "item-title"
      }, this.props.user.username)), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-details"
      }, this.getUserStatus(), this.getRankName(), this.getUserTitle()), /*#__PURE__*/_react.default.createElement("div", {
        className: "user-compact-stats visible-xs-block"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-position"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("span", {
        className: "rank-posts-counted"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-position hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, "#", this.props.counter), /*#__PURE__*/_react.default.createElement("small", null, gettext("Rank"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-counted hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.meta.score), /*#__PURE__*/_react.default.createElement("small", null, gettext("Ranked posts"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "rank-posts-total hidden-xs"
      }, /*#__PURE__*/_react.default.createElement("strong", null, this.props.user.posts), /*#__PURE__*/_react.default.createElement("small", null, gettext("Total posts"))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"../../../utils/random":385,"../../avatar":8,"../../user-status":270,"react":"react","react-router":"react-router"}],286:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItemPreview = _interopRequireDefault(require("./list-item-preview"));

var random = _interopRequireWildcard(require("../../../utils/random"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead ui-preview"
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "ui-preview-text",
        style: {
          width: random.int(50, 220) + "px"
        }
      }, "\xA0")), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-preview"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, [0, 1, 2].map(function (i) {
        return /*#__PURE__*/_react.default.createElement(_listItemPreview.default, {
          hiddenOnMobile: i > 0,
          key: i
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../../utils/random":385,"./list-item-preview":284,"react":"react"}],287:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listItem = _interopRequireDefault(require("./list-item"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "getLeadMessage",
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s top poster from last %(days)s days.", "%(posters)s top posters from last %(days)s days.", this.props.count);
      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters-list"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("p", {
        className: "lead"
      }, this.getLeadMessage()), /*#__PURE__*/_react.default.createElement("div", {
        className: "active-posters ui-ready"
      }, /*#__PURE__*/_react.default.createElement("ul", {
        className: "list-group"
      }, this.props.users.map(function (user, i) {
        return /*#__PURE__*/_react.default.createElement(_listItem.default, {
          user: user,
          rank: user.rank,
          counter: i + 1,
          key: user.id
        });
      })))));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"./list-item":285,"react":"react"}],288:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _listEmpty = _interopRequireDefault(require("./list-empty"));

var _listPreview = _interopRequireDefault(require("./list-preview"));

var _listReady = _interopRequireDefault(require("./list-ready"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      });
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling() {
      _polls.default.start({
        poll: "active-posters",
        url: _.default.get("USERS_API"),
        data: {
          list: "active"
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("active-posters");
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          return /*#__PURE__*/_react.default.createElement(_listReady.default, {
            users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count
          });
        } else {
          return /*#__PURE__*/_react.default.createElement(_listEmpty.default, {
            trackedPeriod: this.state.trackedPeriod
          });
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listPreview.default, null);
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"../../../reducers/users":360,"../../../services/page-title":370,"../../../services/polls":371,"../../../services/store":374,"./list-empty":283,"./list-preview":286,"./list-ready":287,"react":"react"}],289:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _li = _interopRequireDefault(require("../li"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;
  return /*#__PURE__*/_react.default.createElement("ul", {
    className: "nav nav-pills"
  }, lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return /*#__PURE__*/_react.default.createElement(_li.default, {
      path: url,
      key: url
    }, /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      to: url
    }, list.name));
  }));
}

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;

  if (list.component === "rank") {
    url += list.slug;
  } else {
    url += list.component;
  }

  return url + "/";
};

},{"../..":298,"../li":53,"react":"react","react-router":"react-router"}],290:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
        cols: 4,
        isReady: false
      }));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../users-list":280,"react":"react"}],291:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _pager = _interopRequireDefault(require("./pager"));

var _usersList = _interopRequireDefault(require("../../users-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  return /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_usersList.default, {
    cols: 4,
    isReady: true,
    showStatus: true,
    users: props.users
  }), /*#__PURE__*/_react.default.createElement(_pager.default, props));
}

},{"../../users-list":280,"./pager":292,"react":"react"}],292:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = _interopRequireDefault(require("react"));

var _reactRouter = require("react-router");

var _resetScroll = _interopRequireDefault(require("../../../utils/reset-scroll"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(props) {
  if (props.pages === 1) return null;
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-toolbar"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-12 text-center visible-xs-block"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "toolbar-vertical-spacer"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-md-7"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "row"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-4 col-md-5"
  }, /*#__PURE__*/_react.default.createElement(Pager, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-sm-8 col-md-7 hidden-xs"
  }, /*#__PURE__*/_react.default.createElement(More, {
    more: props.more
  })))));
}

function Pager(props) {
  return /*#__PURE__*/_react.default.createElement("div", {
    className: "row row-paginator"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(FirstPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(PreviousPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(NextPage, props)), /*#__PURE__*/_react.default.createElement("div", {
    className: "col-xs-3"
  }, /*#__PURE__*/_react.default.createElement(LastPage, props)));
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl,
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to first page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "first_page"));
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = "";

    if (props.previous) {
      previousUrl = props.previous + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + previousUrl,
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to previous page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_left"));
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = "";

    if (props.next) {
      nextUrl = props.next + "/";
    }

    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + nextUrl,
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to next page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "chevron_right"));
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return /*#__PURE__*/_react.default.createElement(_reactRouter.Link, {
      className: "btn btn-default btn-block btn-icon btn-outline",
      onClick: _resetScroll.default,
      to: props.baseUrl + props.last + "/",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  } else {
    return /*#__PURE__*/_react.default.createElement("span", {
      className: "btn btn-default btn-block btn-icon btn-outline disabled",
      title: gettext("Go to last page")
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "material-icon"
    }, "last_page"));
  }
}

function More(props) {
  var message = null;

  if (props.more) {
    message = ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", props.more);
    message = interpolate(message, {
      more: props.more
    }, true);
  } else {
    message = gettext("There are no more members with this role.");
  }

  return /*#__PURE__*/_react.default.createElement("p", null, message);
}

},{"../../../utils/reset-scroll":386,"react":"react","react-router":"react-router"}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _pageLead = _interopRequireDefault(require("../../page-lead"));

var _list = _interopRequireDefault(require("./list"));

var _listLoading = _interopRequireDefault(require("./list-loading"));

var _ = _interopRequireDefault(require("../../.."));

var _users = require("../../../reducers/users");

var _polls = _interopRequireDefault(require("../../../services/polls"));

var _store = _interopRequireDefault(require("../../../services/store"));

var _pageTitle = _interopRequireDefault(require("../../../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "update", function (data) {
      _store.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;

      _this.setState(data);
    });

    if (_.default.has("USERS")) {
      _this.initWithPreloadedData(_.default.pop("USERS"));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);

    return _this;
  }

  _createClass(_default, [{
    key: "initWithPreloadedData",
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });

      _store.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: "initWithoutPreloadedData",
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: "startPolling",
    value: function startPolling(page) {
      _polls.default.start({
        poll: "rank-users",
        url: _.default.get("USERS_API"),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      _pageTitle.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      _polls.default.stop("rank-users");
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls.default.stop("rank-users");

        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return "rank-users-list rank-users-" + this.props.route.rank.css_class;
      } else {
        return "rank-users-list";
      }
    }
  }, {
    key: "getRankDescription",
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        return /*#__PURE__*/_react.default.createElement("div", {
          className: "rank-description"
        }, /*#__PURE__*/_react.default.createElement(_pageLead.default, {
          copy: this.props.route.rank.description.html
        }));
      } else {
        return null;
      }
    }
  }, {
    key: "getComponent",
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          var baseUrl = _.default.get("USERS_LIST_URL") + this.props.route.rank.slug + "/";
          return /*#__PURE__*/_react.default.createElement(_list.default, _extends({
            baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
        } else {
          return /*#__PURE__*/_react.default.createElement("p", {
            className: "lead"
          }, gettext("There are no users with this rank at the moment."));
        }
      } else {
        return /*#__PURE__*/_react.default.createElement(_listLoading.default, null);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: this.getClassName()
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, this.getRankDescription(), this.getComponent()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../../..":298,"../../../reducers/users":360,"../../../services/page-title":370,"../../../services/polls":371,"../../../services/store":374,"../../page-lead":88,"./list":291,"./list-loading":290,"react":"react"}],294:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _dropdownToggle = _interopRequireDefault(require("../dropdown-toggle"));

var _nav = _interopRequireDefault(require("./nav"));

var _root = _interopRequireDefault(require("./active-posters/root"));

var _root2 = _interopRequireDefault(require("./rank/root"));

var _withDropdown = _interopRequireDefault(require("../with-dropdown"));

var _ = _interopRequireDefault(require("../.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_WithDropdown) {
  _inherits(_default, _WithDropdown);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        className: "page page-users-lists"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header-bg"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "page-header"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement("h1", null, gettext("Users"))), /*#__PURE__*/_react.default.createElement("div", {
        className: "page-tabs"
      }, /*#__PURE__*/_react.default.createElement("div", {
        className: "container"
      }, /*#__PURE__*/_react.default.createElement(_nav.default, {
        lists: _.default.get("USERS_LISTS"),
        baseUrl: _.default.get("USERS_LIST_URL")
      }))))), this.props.children);
    }
  }]);

  return _default;
}(_withDropdown.default);

exports.default = _default;

function select(store) {
  return {
    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users
  };
}

function paths() {
  var paths = [];

  _.default.get("USERS_LISTS").forEach(function (item) {
    if (item.component === "rank") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/:page/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.slug + "/",
        component: (0, _reactRedux.connect)(select)(_root2.default),
        rank: item
      });
    } else if (item.component === "active-posters") {
      paths.push({
        path: _.default.get("USERS_LIST_URL") + item.component + "/",
        component: (0, _reactRedux.connect)(select)(_root.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../..":298,"../dropdown-toggle":29,"../with-dropdown":295,"./active-posters/root":288,"./nav":289,"./rank/root":293,"react":"react","react-redux":"react-redux"}],295:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default(props) {
    var _this;

    _classCallCheck(this, _default);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "toggleNav", function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    });

    _defineProperty(_assertThisInitialized(_this), "hideNav", function () {
      _this.setState({
        dropdown: false
      });
    });

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  _createClass(_default, [{
    key: "getCompactNavClassName",
    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return "compact-nav open";
      } else {
        return "compact-nav";
      }
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],296:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "toggle", function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    });

    return _this;
  }

  _createClass(_default, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || "check_box";
      } else {
        return this.props.iconOff || "check_box_outline_blank";
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("button", {
        type: "button",
        onClick: this.toggle,
        className: this.getClassName(),
        id: this.props.id || null,
        "aria-describedby": this.props["aria-describedby"] || null,
        disabled: this.props.disabled || false
      }, /*#__PURE__*/_react.default.createElement("span", {
        className: "material-icon"
      }, this.getIcon()), /*#__PURE__*/_react.default.createElement("span", {
        className: "btn-text"
      }, this.getLabel()));
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"react":"react"}],297:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _profileDetails = require("../reducers/profile-details");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

var _default = /*#__PURE__*/function (_React$Component) {
  _inherits(_default, _React$Component);

  var _super = _createSuper(_default);

  function _default() {
    _classCallCheck(this, _default);

    return _super.apply(this, arguments);
  }

  _createClass(_default, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props = this.props,
          data = _this$props.data,
          dispatch = _this$props.dispatch,
          user = _this$props.user;
      if (data && data.id === user.id) return;

      _ajax.default.get(this.props.user.api.details).then(function (data) {
        dispatch((0, _profileDetails.load)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return _default;
}(_react.default.Component);

exports.default = _default;

},{"../reducers/profile-details":351,"../services/ajax":361,"../services/snackbar":373,"react":"react"}],298:[function(require,module,exports){
(function (global){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Misago = void 0;

var _orderedList = _interopRequireDefault(require("./utils/ordered-list"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Misago = /*#__PURE__*/function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: "addInitializer",
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,
        item: initializer.initializer,
        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: "init",
    value: function init(context) {
      var _this = this;

      this._context = context;
      var initOrder = new _orderedList.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    } // context accessors

  }, {
    key: "has",
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: "get",
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: "pop",
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}(); // create  singleton


exports.Misago = Misago;
var misago = new Misago(); // expose it globally

global.misago = misago; // and export it for tests and stuff

var _default = misago;
exports.default = _default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":384}],299:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax.default.init(_.default.get("CSRF_COOKIE_NAME"));
}

_.default.addInitializer({
  name: "ajax",
  initializer: initializer
});

},{"../services/ajax":361,"./..":298}],300:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = require("../reducers/auth");

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get("isAuthenticated")) {
    window.setInterval(function () {
      _ajax.default.get(context.get("AUTH_API")).then(function (data) {
        _store.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_.default.addInitializer({
  name: "auth-sync",
  initializer: initializer,
  after: "auth"
});

},{"../reducers/auth":346,"../services/ajax":361,"../services/snackbar":373,"../services/store":374,"./..":298}],301:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _auth = _interopRequireDefault(require("../services/auth"));

var _modal = _interopRequireDefault(require("../services/modal"));

var _store = _interopRequireDefault(require("../services/store"));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth.default.init(_store.default, _localStorage.default, _modal.default);
}

_.default.addInitializer({
  name: "auth",
  initializer: initializer,
  after: "store"
});

},{"../services/auth":362,"../services/local-storage":365,"../services/modal":368,"../services/store":374,"./..":298}],302:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _captcha = _interopRequireDefault(require("../services/captcha"));

var _include = _interopRequireDefault(require("../services/include"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha.default.init(context, _ajax.default, _include.default, _snackbar.default);
}

_.default.addInitializer({
  name: "captcha",
  initializer: initializer
});

},{"../services/ajax":361,"../services/captcha":363,"../services/include":364,"../services/snackbar":373,"./..":298}],303:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _ = _interopRequireDefault(require("../.."));

var _acceptAgreement = _interopRequireDefault(require("../../components/accept-agreement"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (document.getElementById("required-agreement-mount")) {
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_acceptAgreement.default, {
      api: context.get("REQUIRED_AGREEMENT_API")
    }), "required-agreement-mount", false);
  }
}

_.default.addInitializer({
  name: "component:accept-agreement",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/accept-agreement":5,"../../utils/mount-component":383,"react":"react"}],304:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _authMessage = _interopRequireWildcard(require("../../components/auth-message"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage.default), "auth-message-mount");
}

_.default.addInitializer({
  name: "component:auth-message",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/auth-message":7,"../../utils/mount-component":383,"react-redux":"react-redux"}],305:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _bannedPage = _interopRequireDefault(require("../../utils/banned-page"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("BAN_MESSAGE")) {
    (0, _bannedPage.default)(context.get("BAN_MESSAGE"), false);
  }
}

_.default.addInitializer({
  name: "component:banmed-page",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../utils/banned-page":376}],306:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _categories = _interopRequireWildcard(require("../../components/categories"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer() {
  if (document.getElementById("categories-mount")) {
    (0, _mountComponent.default)((0, _reactRedux.connect)(_categories.select)(_categories.default), "categories-mount");
  }
}

_.default.addInitializer({
  name: "component:categories",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/categories":22,"../../utils/mount-component":383,"react-redux":"react-redux"}],307:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/options/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USER_OPTIONS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERCP_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:options",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/options/root":83,"../../utils/routed-component":387}],308:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _root = _interopRequireWildcard(require("../../components/profile/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("PROFILE") && context.has("PROFILE_PAGES")) {
    (0, _routedComponent.default)({
      root: _.default.get("PROFILE").url,
      component: (0, _reactRedux.connect)(_root.select)(_root.default),
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:profile",
  initializer: initializer,
  after: "reducer:profile-hydrate"
});

},{"../..":298,"../../components/profile/root":191,"../../utils/routed-component":387,"react-redux":"react-redux"}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestActivationLink = _interopRequireDefault(require("../../components/request-activation-link"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-activation-link-mount")) {
    (0, _mountComponent.default)(_requestActivationLink.default, "request-activation-link-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-activation-link",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/request-activation-link":196,"../../utils/mount-component":383}],310:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _requestPasswordReset = _interopRequireDefault(require("../../components/request-password-reset"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("request-password-reset-mount")) {
    (0, _mountComponent.default)(_requestPasswordReset.default, "request-password-reset-mount", false);
  }
}

_.default.addInitializer({
  name: "component:request-password-reset",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/request-password-reset":197,"../../utils/mount-component":383}],311:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _resetPasswordForm = _interopRequireDefault(require("../../components/reset-password-form"));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById("reset-password-form-mount")) {
    (0, _mountComponent.default)(_resetPasswordForm.default, "reset-password-form-mount", false);
  }
}

_.default.addInitializer({
  name: "component:reset-password-form",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/reset-password-form":198,"../../utils/mount-component":383}],312:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = _interopRequireDefault(require("../../components/search"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:search") {
    (0, _routedComponent.default)({
      paths: (0, _search.default)(_.default.get("SEARCH_PROVIDERS"))
    });
  }
}

_.default.addInitializer({
  name: "component:search",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/search":200,"../../utils/routed-component":387}],313:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _snackbar = require("../../components/snackbar");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), "snackbar-mount");
}

_.default.addInitializer({
  name: "component:snackbar",
  initializer: initializer,
  after: "snackbar"
});

},{"../..":298,"../../components/snackbar":208,"../../utils/mount-component":383,"react-redux":"react-redux"}],314:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = _interopRequireDefault(require("react"));

var _socialAuth = _interopRequireDefault(require("../../components/social-auth"));

var _ = _interopRequireDefault(require("../.."));

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get("CURRENT_LINK") === "misago:social-complete") {
    var props = context.get("SOCIAL_AUTH_FORM");
    (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_socialAuth.default, props), "page-mount");
  }
}

_.default.addInitializer({
  name: "component:social-auth",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/social-auth":211,"../../utils/mount-component":383,"react":"react"}],315:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require("../../components/thread/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has("THREAD") && context.has("POSTS")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:thread",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/thread/root":229,"../../utils/routed-component":387}],316:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require("../../components/threads/root");

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = "misago:private-threads";

function initializer(context) {
  if (context.has("THREADS") && context.has("CATEGORIES")) {
    (0, _routedComponent.default)({
      paths: (0, _root.paths)(context.get("user"), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get("CURRENT_LINK");

  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get("PRIVATE_THREADS_API"),
      startThread: {
        mode: "START_PRIVATE",
        submit: _.default.get("PRIVATE_THREADS_API")
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    api: context.get("THREADS_API")
  };
}

_.default.addInitializer({
  name: "component:threads",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/threads/root":263,"../../utils/routed-component":387}],317:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require("react-redux");

var _ = _interopRequireDefault(require("../.."));

var _root = require("../../components/user-menu/root");

var _mountComponent = _interopRequireDefault(require("../../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), "user-menu-mount");
  (0, _mountComponent.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), "user-menu-compact-mount");
}

_.default.addInitializer({
  name: "component:user-menu",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/user-menu/root":268,"../../utils/mount-component":383,"react-redux":"react-redux"}],318:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = _interopRequireWildcard(require("../../components/users/root"));

var _ = _interopRequireDefault(require("../.."));

var _routedComponent = _interopRequireDefault(require("../../utils/routed-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function initializer(context) {
  if (context.has("USERS_LISTS")) {
    (0, _routedComponent.default)({
      root: _.default.get("USERS_LIST_URL"),
      component: _root.default,
      paths: (0, _root.paths)()
    });
  }
}

_.default.addInitializer({
  name: "component:users",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../components/users/root":294,"../../utils/routed-component":387}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include.default.init(context.get("STATIC_URL"));
}

_.default.addInitializer({
  name: "include",
  initializer: initializer
});

},{"../services/include":364,"./..":298}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _localStorage = _interopRequireDefault(require("../services/local-storage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage.default.init("misago_");
}

_.default.addInitializer({
  name: "local-storage",
  initializer: initializer
});

},{"../services/local-storage":365,"./..":298}],321:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _mobileNavbarDropdown = _interopRequireDefault(require("../services/mobile-navbar-dropdown"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("mobile-navbar-dropdown-mount");

  if (element) {
    _mobileNavbarDropdown.default.init(element);
  }
}

_.default.addInitializer({
  name: "dropdown",
  initializer: initializer,
  before: "store"
});

},{"../services/mobile-navbar-dropdown":367,"./..":298}],322:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _modal = _interopRequireDefault(require("../services/modal"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById("modal-mount");

  if (element) {
    _modal.default.init(element);
  }
}

_.default.addInitializer({
  name: "modal",
  initializer: initializer,
  before: "store"
});

},{"../services/modal":368,"./..":298}],323:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = _interopRequireDefault(require("moment"));

var _ = _interopRequireDefault(require("./.."));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment.default.locale($("html").attr("lang"));
}

_.default.addInitializer({
  name: "moment",
  initializer: initializer
});

},{"./..":298,"moment":"moment"}],324:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _pageTitle = _interopRequireDefault(require("../services/page-title"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle.default.init(context.get("SETTINGS").forum_index_title, context.get("SETTINGS").forum_name);
}

_.default.addInitializer({
  name: "page-title",
  initializer: initializer
});

},{"../services/page-title":370,"./..":298}],325:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _polls = _interopRequireDefault(require("../services/polls"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls.default.init(_ajax.default, _snackbar.default);
}

_.default.addInitializer({
  name: "polls",
  initializer: initializer
});

},{"../services/ajax":361,"../services/polls":371,"../services/snackbar":373,"./..":298}],326:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _ajax = _interopRequireDefault(require("../services/ajax"));

var _posting = _interopRequireDefault(require("../services/posting"));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting.default.init(_ajax.default, _snackbar.default, document.getElementById("posting-placeholder"));
}

_.default.addInitializer({
  name: "posting",
  initializer: initializer
});

},{"../services/ajax":361,"../services/posting":372,"../services/snackbar":373,"./..":298}],327:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _auth = _interopRequireWildcard(require("../../reducers/auth"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store.default.addReducer("auth", _auth.default, Object.assign({
    isAuthenticated: context.get("isAuthenticated"),
    isAnonymous: !context.get("isAuthenticated"),
    user: context.get("user")
  }, _auth.initialState));
}

_.default.addInitializer({
  name: "reducer:auth",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/auth":346,"../../services/store":374}],328:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _participants = _interopRequireDefault(require("../../reducers/participants"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = _.default.get("THREAD").participants;
  }

  _store.default.addReducer("participants", _participants.default, initialState || []);
}

_.default.addInitializer({
  name: "reducer:participants",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/participants":347,"../../services/store":374}],329:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _poll = _interopRequireWildcard(require("../../reducers/poll"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD") && _.default.get("THREAD").poll) {
    initialState = (0, _poll.hydrate)(_.default.get("THREAD").poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("poll", _poll.default, initialState);
}

_.default.addInitializer({
  name: "reducer:poll",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/poll":348,"../../services/store":374}],330:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _posts = _interopRequireWildcard(require("../../reducers/posts"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("POSTS")) {
    initialState = (0, _posts.hydrate)(_.default.get("POSTS"));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store.default.addReducer("posts", _posts.default, initialState);
}

_.default.addInitializer({
  name: "reducer:posts",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/posts":350,"../../services/store":374}],331:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profileDetails = _interopRequireDefault(require("../../reducers/profile-details"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("PROFILE_DETAILS")) {
    initialState = _.default.get("PROFILE_DETAILS");
  }

  _store.default.addReducer("profile-details", _profileDetails.default, initialState || {});
}

_.default.addInitializer({
  name: "reducer:profile-details",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/profile-details":351,"../../services/store":374}],332:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = require("../../reducers/profile");

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_.default.has("PROFILE")) {
    _store.default.dispatch((0, _profile.hydrate)(_.default.get("PROFILE")));
  }
}

_.default.addInitializer({
  name: "reducer:profile-hydrate",
  initializer: initializer,
  after: "store"
});

},{"../..":298,"../../reducers/profile":352,"../../services/store":374}],333:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _profile = _interopRequireDefault(require("../../reducers/profile"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("profile", _profile.default, {});
}

_.default.addInitializer({
  name: "reducer:profile",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/profile":352,"../../services/store":374}],334:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _search = _interopRequireWildcard(require("../../reducers/search"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("search", _search.default, Object.assign({}, _search.initialState, {
    providers: _.default.get("SEARCH_PROVIDERS") || [],
    query: _.default.get("SEARCH_QUERY") || ""
  }));
}

_.default.addInitializer({
  name: "reducer:search",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/search":353,"../../services/store":374}],335:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _selection = _interopRequireDefault(require("../../reducers/selection"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("selection", _selection.default, []);
}

_.default.addInitializer({
  name: "reducer:selection",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/selection":354,"../../services/store":374}],336:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _snackbar = _interopRequireWildcard(require("../../reducers/snackbar"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("snackbar", _snackbar.default, _snackbar.initialState);
}

_.default.addInitializer({
  name: "reducer:snackbar",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/snackbar":355,"../../services/store":374}],337:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _thread = _interopRequireWildcard(require("../../reducers/thread"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;

  if (_.default.has("THREAD")) {
    initialState = (0, _thread.hydrate)(_.default.get("THREAD"));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store.default.addReducer("thread", _thread.default, initialState);
}

_.default.addInitializer({
  name: "reducer:thread",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/thread":356,"../../services/store":374}],338:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _threads = _interopRequireDefault(require("../../reducers/threads"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("threads", _threads.default, []);
}

_.default.addInitializer({
  name: "reducer:threads",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/threads":357,"../../services/store":374}],339:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _tick = _interopRequireWildcard(require("../../reducers/tick"));

var _store = _interopRequireDefault(require("../../services/store"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("tick", _tick.default, _tick.initialState);
}

_.default.addInitializer({
  name: "reducer:tick",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/tick":358,"../../services/store":374}],340:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _usernameHistory = _interopRequireDefault(require("../../reducers/username-history"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("username-history", _usernameHistory.default, []);
}

_.default.addInitializer({
  name: "reducer:username-history",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/username-history":359,"../../services/store":374}],341:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("../.."));

var _users = _interopRequireDefault(require("../../reducers/users"));

var _store = _interopRequireDefault(require("../../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.addReducer("users", _users.default, []);
}

_.default.addInitializer({
  name: "reducer:users",
  initializer: initializer,
  before: "store"
});

},{"../..":298,"../../reducers/users":360,"../../services/store":374}],342:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _snackbar = _interopRequireDefault(require("../services/snackbar"));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar.default.init(_store.default);
}

_.default.addInitializer({
  name: "snackbar",
  initializer: initializer,
  after: "store"
});

},{"../services/snackbar":373,"../services/store":374,"./..":298}],343:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store.default.init();
}

_.default.addInitializer({
  name: "store",
  initializer: initializer,
  before: "_end"
});

},{"../services/store":374,"./..":298}],344:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _tick = require("../reducers/tick");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_.default.addInitializer({
  name: "tick-start",
  initializer: initializer,
  after: "store"
});

},{"../reducers/tick":358,"../services/store":374,"./..":298}],345:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = _interopRequireDefault(require("./.."));

var _include = _interopRequireDefault(require("../services/include"));

var _zxcvbn = _interopRequireDefault(require("../services/zxcvbn"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn.default.init(_include.default);
}

_.default.addInitializer({
  name: "zxcvbn",
  initializer: initializer
});

},{"../services/include":364,"../services/zxcvbn":375,"./..":298}],346:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = void 0;

var _users = require("./users");

var initialState = {
  signedIn: false,
  signedOut: false
};
exports.initialState = initialState;
var PATCH_USER = "PATCH_USER";
exports.PATCH_USER = PATCH_USER;
var SIGN_IN = "SIGN_IN";
exports.SIGN_IN = SIGN_IN;
var SIGN_OUT = "SIGN_OUT";
exports.SIGN_OUT = SIGN_OUT;

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);

        _newState.user = Object.assign({}, state.user, {
          avatars: action.avatars
        });
        return _newState;
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);

        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }

      return state;

    default:
      return state;
  }
}

},{"./users":360}],347:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
exports.REPLACE_PARTICIPANTS = void 0;
var REPLACE_PARTICIPANTS = "REPLACE_PARTICIPANTS";
exports.REPLACE_PARTICIPANTS = REPLACE_PARTICIPANTS;

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],348:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = void 0;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = "BUSY_POLL";
exports.BUSY_POLL = BUSY_POLL;
var RELEASE_POLL = "RELEASE_POLL";
exports.RELEASE_POLL = RELEASE_POLL;
var REMOVE_POLL = "REMOVE_POLL";
exports.REMOVE_POLL = REMOVE_POLL;
var REPLACE_POLL = "REPLACE_POLL";
exports.REPLACE_POLL = REPLACE_POLL;
var UPDATE_POLL = "UPDATE_POLL";
exports.UPDATE_POLL = UPDATE_POLL;

function hydrate(json) {
  var hasSelectedChoices = false;

  for (var i in json.choices) {
    var choice = json.choices[i];

    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment.default)(json.posted_on).add(json.length, "days") : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_POLL:
      return Object.assign({}, state, {
        isBusy: false
      });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],349:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;
exports.PATCH_POST = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = "PATCH_POST";
exports.PATCH_POST = PATCH_POST;

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment.default)(json.posted_on),
    updated_on: (0, _moment.default)(json.updated_on),
    hidden_on: (0, _moment.default)(json.hidden_on),
    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,
    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }

      return state;

    default:
      return state;
  }
}

},{"./users":360,"moment":"moment"}],350:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = void 0;

var _post = _interopRequireWildcard(require("./post"));

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

var APPEND_POSTS = "APPEND_POSTS";
exports.APPEND_POSTS = APPEND_POSTS;
var SELECT_POST = "SELECT_POST";
exports.SELECT_POST = SELECT_POST;
var DESELECT_POST = "DESELECT_POST";
exports.DESELECT_POST = DESELECT_POST;
var DESELECT_POSTS = "DESELECT_POSTS";
exports.DESELECT_POSTS = DESELECT_POSTS;
var LOAD_POSTS = "LOAD_POSTS";
exports.LOAD_POSTS = LOAD_POSTS;
var UNLOAD_POSTS = "UNLOAD_POSTS";
exports.UNLOAD_POSTS = UNLOAD_POSTS;
var UPDATE_POSTS = "UPDATE_POSTS";
exports.UPDATE_POSTS = UPDATE_POSTS;

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });
      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });
      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });
      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });
      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post.default)(post, action);
      });
      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":349}],351:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.load = load;
exports.default = details;
exports.LOAD_DETAILS = void 0;
var LOAD_DETAILS = "LOAD_DETAILS";
exports.LOAD_DETAILS = LOAD_DETAILS;

function load(newState) {
  return {
    type: LOAD_DETAILS,
    newState: newState
  };
}

function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;

    default:
      return state;
  }
}

},{}],352:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = "HYDRATE_PROFILE";
exports.HYDRATE_PROFILE = HYDRATE_PROFILE;
var PATCH_PROFILE = "PATCH_PROFILE";
exports.PATCH_PROFILE = PATCH_PROFILE;

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }

      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }

      return state;

    default:
      return state;
  }
}

},{"./users":360,"moment":"moment"}],353:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
exports.initialState = exports.UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH = exports.REPLACE_SEARCH = void 0;
var REPLACE_SEARCH = "REPLACE_SEARCH";
exports.REPLACE_SEARCH = REPLACE_SEARCH;
var UPDATE_SEARCH = "UPDATE_SEARCH";
exports.UPDATE_SEARCH = UPDATE_SEARCH;
var UPDATE_SEARCH_PROVIDER = "UPDATE_SEARCH_PROVIDER";
exports.UPDATE_SEARCH_PROVIDER = UPDATE_SEARCH_PROVIDER;
var initialState = {
  isLoading: false,
  query: "",
  providers: []
};
exports.initialState = initialState;

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],354:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = void 0;

var _sets = require("../utils/sets");

var SELECT_ALL = "SELECT_ALL";
exports.SELECT_ALL = SELECT_ALL;
var SELECT_NONE = "SELECT_NONE";
exports.SELECT_NONE = SELECT_NONE;
var SELECT_ITEM = "SELECT_ITEM";
exports.SELECT_ITEM = SELECT_ITEM;

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":388}],355:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
exports.HIDE_SNACKBAR = exports.SHOW_SNACKBAR = exports.initialState = void 0;
var initialState = {
  type: "info",
  message: "",
  isVisible: false
};
exports.initialState = initialState;
var SHOW_SNACKBAR = "SHOW_SNACKBAR";
exports.SHOW_SNACKBAR = SHOW_SNACKBAR;
var HIDE_SNACKBAR = "HIDE_SNACKBAR";
exports.HIDE_SNACKBAR = HIDE_SNACKBAR;

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],356:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _poll = require("./poll");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = "BUSY_THREAD";
exports.BUSY_THREAD = BUSY_THREAD;
var RELEASE_THREAD = "RELEASE_THREAD";
exports.RELEASE_THREAD = RELEASE_THREAD;
var REPLACE_THREAD = "REPLACE_THREAD";
exports.REPLACE_THREAD = REPLACE_THREAD;
var UPDATE_THREAD = "UPDATE_THREAD";
exports.UPDATE_THREAD = UPDATE_THREAD;
var UPDATE_THREAD_ACL = "UPDATE_THREAD_ACL";
exports.UPDATE_THREAD_ACL = UPDATE_THREAD_ACL;

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment.default)(json.started_on),
    last_post_on: (0, _moment.default)(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment.default)(json.best_answer_marked_on) : null,
    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, {
        isBusy: true
      });

    case RELEASE_THREAD:
      return Object.assign({}, state, {
        isBusy: false
      });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, {
        poll: null
      });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, {
        poll: action.state
      });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, {
        acl: acl
      });

    default:
      return state;
  }
}

},{"./poll":348,"moment":"moment"}],357:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = "APPEND_THREADS";
exports.APPEND_THREADS = APPEND_THREADS;
var DELETE_THREAD = "DELETE_THREAD";
exports.DELETE_THREAD = DELETE_THREAD;
var FILTER_THREADS = "FILTER_THREADS";
exports.FILTER_THREADS = FILTER_THREADS;
var HYDRATE_THREADS = "HYDRATE_THREADS";
exports.HYDRATE_THREADS = HYDRATE_THREADS;
var PATCH_THREAD = "PATCH_THREAD";
exports.PATCH_THREAD = PATCH_THREAD;
var SORT_THREADS = "SORT_THREADS";
exports.SORT_THREADS = SORT_THREADS;
var MODERATION_PERMISSIONS = ["can_announce", "can_approve", "can_close", "can_hide", "can_move", "can_merge", "can_pin", "can_review"];
exports.MODERATION_PERMISSIONS = MODERATION_PERMISSIONS;

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment.default)(thread.started_on),
    last_post_on: (0, _moment.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];

        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }

      return patchedState;

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":378,"moment":"moment"}],358:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
exports.TICK = exports.initialState = void 0;
var initialState = {
  tick: 0
};
exports.initialState = initialState;
var TICK = "TICK";
exports.TICK = TICK;

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],359:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _users = require("./users");

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = "ADD_NAME_CHANGE";
exports.ADD_NAME_CHANGE = ADD_NAME_CHANGE;
var APPEND_HISTORY = "APPEND_HISTORY";
exports.APPEND_HISTORY = APPEND_HISTORY;
var HYDRATE_HISTORY = "HYDRATE_HISTORY";
exports.HYDRATE_HISTORY = HYDRATE_HISTORY;

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000),
        // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":378,"./users":360,"moment":"moment"}],360:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = void 0;

var _moment = _interopRequireDefault(require("moment"));

var _concatUnique = _interopRequireDefault(require("../utils/concat-unique"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = "APPEND_USERS";
exports.APPEND_USERS = APPEND_USERS;
var HYDRATE_USERS = "HYDRATE_USERS";
exports.HYDRATE_USERS = HYDRATE_USERS;
var UPDATE_AVATAR = "UPDATE_AVATAR";
exports.UPDATE_AVATAR = UPDATE_AVATAR;
var UPDATE_USERNAME = "UPDATE_USERNAME";
exports.UPDATE_USERNAME = UPDATE_USERNAME;

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);

        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":378,"moment":"moment"}],361:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Ajax = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Ajax = /*#__PURE__*/function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: "init",
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: "getCsrfToken",
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + "=([^;]*)");
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split("=")[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: "request",
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: "json",
          success: function success(data) {
            resolve(data);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }, {
    key: "get",
    value: function get(url, params, lock) {
      if (params) {
        url += "?" + $.param(params);
      }

      if (lock) {
        var self = this; // update url in existing lock?

        if (this._locks[lock]) {
          this._locks[lock].url = url;
        } // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve


        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          }; // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;
          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300); // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url); // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request("GET", self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          }); // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };
          return new Promise(function (resolve, reject) {
            self.request("GET", url).then(function (data) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;

              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request("GET", url);
      }
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this.request("POST", url, data);
    }
  }, {
    key: "patch",
    value: function patch(url, data) {
      return this.request("PATCH", url, data);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this.request("PUT", url, data);
    }
  }, {
    key: "delete",
    value: function _delete(url, data) {
      return this.request("DELETE", url, data);
    }
  }, {
    key: "upload",
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: "POST",
          headers: {
            "X-CSRFToken": self.getCsrfToken()
          },
          data: data,
          contentType: false,
          processData: false,
          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },
          success: function success(response) {
            resolve(response);
          },
          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};
            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === "NOT FOUND") {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;
            reject(rejection);
          }
        };
        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.Ajax = Ajax;

var _default = new Ajax();

exports.default = _default;

},{}],362:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Auth = void 0;

var _auth = require("../reducers/auth");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Auth = /*#__PURE__*/function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: "init",
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal; // tell other tabs what auth state is because we are most current with it

      this.syncSession(); // listen for other tabs to tell us that state changed

      this.watchState();
    }
  }, {
    key: "syncSession",
    value: function syncSession() {
      var state = this._store.getState().auth;

      if (state.isAuthenticated) {
        this._local.set("auth", {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set("auth", {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: "watchState",
    value: function watchState() {
      var _this = this;

      var state = this._store.getState().auth;

      this._local.watch("auth", function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0, _auth.signOut)());
        }
      });

      this._modal.hide();
    }
  }, {
    key: "signIn",
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));

      this._local.set("auth", {
        isAuthenticated: true,
        username: user.username
      });

      this._modal.hide();
    }
  }, {
    key: "signOut",
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }, {
    key: "softSignOut",
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));

      this._local.set("auth", {
        isAuthenticated: false
      });

      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.Auth = Auth;

var _default = new Auth();

exports.default = _default;

},{"../reducers/auth":346}],363:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = void 0;

var _react = _interopRequireDefault(require("react"));

var _formGroup = _interopRequireDefault(require("../components/form-group"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var BaseCaptcha = /*#__PURE__*/function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

exports.BaseCaptcha = BaseCaptcha;

var NoCaptcha = /*#__PURE__*/function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  var _super = _createSuper(NoCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _super.apply(this, arguments);
  }

  _createClass(NoCaptcha, [{
    key: "load",
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return null;
    }
  }, {
    key: "component",
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

exports.NoCaptcha = NoCaptcha;

var QACaptcha = /*#__PURE__*/function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  var _super2 = _createSuper(QACaptcha);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _super2.apply(this, arguments);
  }

  _createClass(QACaptcha, [{
    key: "load",
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get("CAPTCHA_API")).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));

          reject();
        });
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: this.question,
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: this.helpText || null
      }, /*#__PURE__*/_react.default.createElement("input", {
        "aria-describedby": "id_captcha_status",
        className: "form-control",
        disabled: kwargs.form.state.isLoading,
        id: "id_captcha",
        onChange: kwargs.form.bindInput("captcha"),
        type: "text",
        value: kwargs.form.state.captcha
      }));
    }
  }]);

  return QACaptcha;
}(BaseCaptcha);

exports.QACaptcha = QACaptcha;

var ReCaptchaComponent = /*#__PURE__*/function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  var _super3 = _createSuper(ReCaptchaComponent);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _super3.apply(this, arguments);
  }

  _createClass(ReCaptchaComponent, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;

      grecaptcha.render("recaptcha", {
        sitekey: this.props.siteKey,
        callback: function callback(response) {
          // fire fakey event to binding
          _this.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/_react.default.createElement("div", {
        id: "recaptcha"
      });
    }
  }]);

  return ReCaptchaComponent;
}(_react.default.Component);

exports.ReCaptchaComponent = ReCaptchaComponent;

var ReCaptcha = /*#__PURE__*/function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  var _super4 = _createSuper(ReCaptcha);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _super4.apply(this, arguments);
  }

  _createClass(ReCaptcha, [{
    key: "load",
    value: function load() {
      this._include.include("https://www.google.com/recaptcha/api.js", true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "validator",
    value: function validator() {
      return [];
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return /*#__PURE__*/_react.default.createElement(_formGroup.default, {
        label: gettext("Please solve the quick test"),
        for: "id_captcha",
        labelClass: kwargs.labelClass || "",
        controlClass: kwargs.controlClass || "",
        validation: kwargs.form.state.errors.captcha,
        helpText: gettext("This test helps us prevent automated spam registrations on our site.")
      }, /*#__PURE__*/_react.default.createElement(ReCaptchaComponent, {
        binding: kwargs.form.bindInput("captcha"),
        siteKey: this._context.get("SETTINGS").recaptcha_site_key
      }));
    }
  }]);

  return ReCaptcha;
}(BaseCaptcha);

exports.ReCaptcha = ReCaptcha;

var Captcha = /*#__PURE__*/function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: "init",
    value: function init(context, ajax, include, snackbar) {
      switch (context.get("SETTINGS").captcha_type) {
        case "no":
          this._captcha = new NoCaptcha();
          break;

        case "qa":
          this._captcha = new QACaptcha();
          break;

        case "re":
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    } // accessors for underlying strategy

  }, {
    key: "load",
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: "validator",
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: "component",
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.Captcha = Captcha;

var _default = new Captcha();

exports.default = _default;

},{"../components/form-group":51,"react":"react"}],364:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Include = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Include = /*#__PURE__*/function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: "init",
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: "include",
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);

        this._include(script, remote);
      }
    }
  }, {
    key: "_include",
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : "") + script,
        cache: true,
        dataType: "script"
      });
    }
  }]);

  return Include;
}();

exports.Include = Include;

var _default = new Include();

exports.default = _default;

},{}],365:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.LocalStorage = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var storage = window.localStorage;

var LocalStorage = /*#__PURE__*/function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: "init",
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];
      window.addEventListener("storage", function (e) {
        var newValueJson = JSON.parse(e.newValue);

        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: "set",
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: "get",
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);

      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: "watch",
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.LocalStorage = LocalStorage;

var _default = new LocalStorage();

exports.default = _default;

},{}],366:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _marked = _interopRequireDefault(require("marked"));

var _oneBox = require("./one-box");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mardkedRenderer = function mardkedRenderer(content) {
  _marked.default.setOptions({
    renderer: new _marked.default.Renderer(),
    gfm: true,
    tables: false,
    breaks: false,
    pedantic: false,
    sanitize: false,
    smartLists: true,
    smartypants: false // highlight: (code) => {
    //     return hljs.highlightAuto(code).value
    // }

  });

  var renderer = new _marked.default.Renderer();

  var headingParse = function headingParse(text, level) {
    return "<h".concat(level, ">\n    <span class=\"k-heading\">").concat(text, "</span>\n  </h").concat(level, ">");
  };

  var paragraphParse = function paragraphParse(text) {
    var markTag = new RegExp('(\\=\\=+)([^\\=\\=]|[^\\=\\=][\\s\\S]*?[^\\=\\=])\\1(?!\\=\\=)', 'g');

    if (markTag.test(text)) {
      var back = '';
      var textHandle = text.replace('\n', ' ').replace(markTag, '\n').split('\n');
      var markTags = text.match(markTag);

      if (textHandle[0].length === 0) {
        markTags.forEach(function (item, index) {
          textHandle = textHandle.filter(function (el) {
            return !(el.length === 0);
          });
          textHandle.splice(2 * index, 0, item);
        });
      } else if (textHandle[0].length !== 0) {
        markTags.forEach(function (item, index) {
          textHandle = textHandle.filter(function (el) {
            return !(el.length === 0);
          });
          textHandle.splice(2 * index + 1, 0, item);
        });
      }

      textHandle.forEach(function (item) {
        if (markTag.test(item)) {
          back += "<mark>".concat(item.substr(2, item.length - 4), "</mark>");
        } else {
          back += item + ' ';
        }
      });
      return "<p>".concat(back, "</p>");
    } else {
      return "<p>".concat(text, "</p>");
    }
  };

  var linkParse = function linkParse(href, title, text) {
    var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

    if (ytRegExp.test(href)) {
      var youtubeMovie = (0, _oneBox.parseYoutubeUrl)(href);

      if (!!youtubeMovie && youtubeMovie.data !== false) {
        var url = "https://www.youtube.com/embed/";
        url += youtubeMovie.video;
        url += "?rel=0";

        if (youtubeMovie.start) {
          url += "&start=" + youtubeMovie.start;
        }

        var player = '<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>';
        return "<div class=\"embed-responsive embed-responsive-16by9\">".concat(player, "</div>");
      }
    }

    return "<a href=".concat(href, "\n      title=").concat(title || href, "\n      target='_blank'\n      }>").concat(text, "</a>");
  };

  renderer.paragraph = paragraphParse;
  renderer.link = linkParse;
  renderer.heading = headingParse;
  return (0, _marked.default)(content, {
    renderer: renderer
  });
};

var _default = mardkedRenderer;
exports.default = _default;

},{"./one-box":369,"marked":2}],367:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.MobileNavbarDropdown = void 0;

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var MobileNavbarDropdown = /*#__PURE__*/function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: "init",
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: "show",
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent.default)(component, this._element.id);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "showConnected",
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent.default)(component, this._element.id, true);
        $(this._element).addClass("open");
      }
    }
  }, {
    key: "hide",
    value: function hide() {
      $(this._element).removeClass("open");
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.MobileNavbarDropdown = MobileNavbarDropdown;

var _default = new MobileNavbarDropdown();

exports.default = _default;

},{"../utils/mount-component":383}],368:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Modal = void 0;

var _reactDom = _interopRequireDefault(require("react-dom"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Modal = /*#__PURE__*/function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: "init",
    value: function init(element) {
      var _this = this;

      this._element = element;
      this._modal = $(element).modal({
        show: false
      });

      this._modal.on("hidden.bs.modal", function () {
        _reactDom.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: "show",
    value: function show(component) {
      (0, _mountComponent.default)(component, this._element.id);

      this._modal.modal("show");
    }
  }, {
    key: "hide",
    value: function hide() {
      this._modal.modal("hide");
    }
  }]);

  return Modal;
}();

exports.Modal = Modal;

var _default = new Modal();

exports.default = _default;

},{"../utils/mount-component":383,"react-dom":"react-dom"}],369:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;
exports.default = exports.OneBox = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ytRegExp = new RegExp("^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*");

var OneBox = /*#__PURE__*/function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    _defineProperty(this, "render", function (domnode) {
      if (!domnode) return;

      _this.highlightCode(domnode);

      _this.embedYoutubePlayers(domnode);
    });

    this._youtube = {};
  }

  _createClass(OneBox, [{
    key: "highlightCode",
    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll("pre>code");

      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: "embedYoutubePlayers",
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll("p>a");

      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];

        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: "swapYoutubePlayer",
    value: function swapYoutubePlayer(element, youtube) {
      var url = "https://www.youtube.com/embed/";
      url += youtube.video;
      url += "?rel=0";

      if (youtube.start) {
        url += "&start=" + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.OneBox = OneBox;

var _default = new OneBox();

exports.default = _default;

function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);
  if (!video) return null;
  var start = 0;

  if (cleanedUrl.indexOf("?") > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf("?") + 1);
    var timebit = query.split("&").filter(function (i) {
      return i.substr(0, 2) === "t=";
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split("m");

      if (bits[0].substr(-1) === "s") {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;

        if (!!bits[1] && bits[1].substr(-1) === "s") {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === "https://") {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === "http://") {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === "www.") {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf("youtu") === -1) return null;
  var video = url.match(ytRegExp);

  if (video) {
    return video[1];
  }

  return null;
}

},{}],370:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PageTitle = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var PageTitle = /*#__PURE__*/function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: "init",
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: "set",
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === "string") {
        title = {
          title: title
        };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext("page: %(page)s"), {
          page: title.page
        }, true);
        finalTitle += " (" + pageLabel + ")";
      }

      if (title.parent) {
        finalTitle += " | " + title.parent;
      }

      document.title = finalTitle + " | " + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.PageTitle = PageTitle;

var _default = new PageTitle();

exports.default = _default;

},{}],371:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Polls = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Polls = /*#__PURE__*/function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);
            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.Polls = Polls;

var _default = new Polls();

exports.default = _default;

},{}],372:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Posting = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _poll = require("../components/poll");

var _posting = _interopRequireDefault(require("../components/posting"));

var _mountComponent = _interopRequireDefault(require("../utils/mount-component"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Posting = /*#__PURE__*/function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    _defineProperty(this, "close", function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;

        _this._placeholder.removeClass("slide-in");

        window.setTimeout(function () {
          _reactDom.default.unmountComponentAtNode(document.getElementById("posting-mount"));

          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    });
  }

  _createClass(Posting, [{
    key: "init",
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);
      this._mode = null;
      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: "open",
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;

        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");

        if (this._mode == "POLL") {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);

        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;

          this._realOpen(props);
        }
      } else if (this._mode == "REPLY" && props.mode == "REPLY") {
        this._realOpen(props);
      }
    }
  }, {
    key: "_realOpen",
    value: function _realOpen(props) {
      if (props.mode == "POLL") {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_poll.PollForm, props), "posting-mount");
      } else {
        (0, _mountComponent.default)( /*#__PURE__*/_react.default.createElement(_posting.default, props), "posting-mount");
      }

      this._placeholder.addClass("slide-in");

      $("html, body").animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.Posting = Posting;

var _default = new Posting();

exports.default = _default;

},{"../components/poll":102,"../components/posting":130,"../utils/mount-component":383,"react":"react","react-dom":"react-dom"}],373:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Snackbar = void 0;

var _snackbar = require("../reducers/snackbar");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = /*#__PURE__*/function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: "init",
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: "alert",
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);

        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;

          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));

        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());

          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    } // shorthands for message types

  }, {
    key: "info",
    value: function info(message) {
      this.alert(message, "info");
    }
  }, {
    key: "success",
    value: function success(message) {
      this.alert(message, "success");
    }
  }, {
    key: "warning",
    value: function warning(message) {
      this.alert(message, "warning");
    }
  }, {
    key: "error",
    value: function error(message) {
      this.alert(message, "error");
    } // shorthand for api errors

  }, {
    key: "apiError",
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.Snackbar = Snackbar;

var _default = new Snackbar();

exports.default = _default;

},{"../reducers/snackbar":355}],374:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.StoreWrapper = void 0;

var _redux = require("redux");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var StoreWrapper = /*#__PURE__*/function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: "addReducer",
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: "init",
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: "getStore",
    value: function getStore() {
      return this._store;
    } // Store API

  }, {
    key: "getState",
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: "dispatch",
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.StoreWrapper = StoreWrapper;

var _default = new StoreWrapper();

exports.default = _default;

},{"redux":"redux"}],375:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Zxcvbn = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/* global zxcvbn */
var Zxcvbn = /*#__PURE__*/function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include("misago/js/zxcvbn.js");

        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;
      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
          tries += 1;

          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };

        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.Zxcvbn = Zxcvbn;

var _default = new Zxcvbn();

exports.default = _default;

},{}],376:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _moment = _interopRequireDefault(require("moment"));

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _bannedPage = _interopRequireDefault(require("../components/banned-page"));

var _ = _interopRequireDefault(require("./.."));

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var select = function select(state) {
  return state.tick;
};

var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage.default);

function _default(ban, changeState) {
  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(RedrawedBannedPage, {
    message: ban.message,
    expires: ban.expires_on ? (0, _moment.default)(ban.expires_on) : null
  })), document.getElementById("page-mount"));

  if (typeof changeState === "undefined" || changeState) {
    var forumName = _.default.get("SETTINGS").forum_name;

    document.title = gettext("You are banned") + " | " + forumName;
    window.history.pushState({}, "", _.default.get("BANNED_URL"));
  }
}

},{"../components/banned-page":9,"../services/store":374,"./..":298,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],377:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var rows = [];
  var row = [];
  list.forEach(function (element) {
    row.push(element);

    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  }); // pad row to required length?

  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
}

},{}],378:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
}

},{}],379:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var _default = /*#__PURE__*/function () {
  function _default(callback, count) {
    _classCallCheck(this, _default);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_default, [{
    key: "count",
    value: function count() {
      this._count -= 1;

      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _default;
}();

exports.default = _default;

},{}],380:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var map = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#039;"
};

function _default(text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
}

},{}],381:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.roundSize = roundSize;

function _default(bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + " GB";
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + " MB";
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + " KB";
  } else {
    return roundSize(bytes) + " B";
  }
}

function roundSize(value) {
  return value.toFixed(1);
}

},{}],382:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var URL_PATTERN = new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$", "i");

function _default(str) {
  return URL_PATTERN.test($.trim(str));
}

},{}],383:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var rootElement = document.getElementById(rootElementId);
  var finalComponent = Component.props ? Component : /*#__PURE__*/_react.default.createElement(Component, null);

  if (rootElement) {
    if (connected) {
      _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
        store: _store.default.getStore()
      }, finalComponent), rootElement);
    } else {
      _reactDom.default.render(finalComponent, rootElement);
    }
  }
}

},{"../services/store":374,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],384:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var OrderedList = /*#__PURE__*/function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,
        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];

      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }

      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === "undefined") {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      }); // Ordered items

      var ordered = [];
      var ordering = []; // First pass: register items that
      // don't specify their order

      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Second pass: register items that
      // specify their before to "_end"

      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      }); // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list

      function insertItem(item) {
        var insertAt = -1;

        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);

            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;

      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

var _default = OrderedList;
exports.default = _default;

},{}],385:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;

function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));

  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],386:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default() {
  window.scrollTo(0, 0);
}

},{}],387:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _react = _interopRequireDefault(require("react"));

var _reactDom = _interopRequireDefault(require("react-dom"));

var _reactRedux = require("react-redux");

var _reactRouter = require("react-router");

var _store = _interopRequireDefault(require("../services/store"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById("page-mount");

function _default(options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom.default.render( /*#__PURE__*/_react.default.createElement(_reactRedux.Provider, {
    store: _store.default.getStore()
  }, /*#__PURE__*/_react.default.createElement(_reactRouter.Router, {
    routes: routes,
    history: _reactRouter.browserHistory
  })), rootElement);
}

},{"../services/store":374,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],388:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;

function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],389:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

function _default(string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();
  if (subString.length <= 0) return 0;
  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);

    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
}

},{}],390:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.requiredTermsOfService = requiredTermsOfService;
exports.requiredPrivacyPolicy = requiredPrivacyPolicy;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp("^[0-9a-z]+$", "i");

function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || gettext("This field is required.");
    }
  };
}

function requiredTermsOfService(message) {
  var error = gettext("You have to accept the terms of service.");
  return required(message || error);
}

function requiredPrivacyPolicy(message) {
  var error = gettext("You have to accept the privacy policy.");
  return required(message || error);
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = "";
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };

  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };

  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;

    if (length < limitValue) {
      var returnMessage = ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

},{}]},{},[298,299,300,301,302,319,320,321,322,323,324,325,326,342,343,344,345,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5qcyIsInNyYy9jb21wb25lbnRzL1JlZ2lzdGVyTGVnYWxGb290bm90ZS5qcyIsInNyYy9jb21wb25lbnRzL1N0YXJ0U29jaWFsQXV0aC5qcyIsInNyYy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvYmxhbmtzbGF0ZS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2Rlc2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vbGFzdC10aHJlYWQuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9tYWluLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9zdWJjYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vc3ViY2F0ZWdvcmllcy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wLmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9nYWxsZXJ5LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2JsYW5rc2xhdGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGQtaW5wdXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZmllbGRzZXQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9xdW90ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL3Nwb2lsZXIuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2Vycm9yLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL3VwbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2NvbXBvbmVudHMvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0dXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvdXRpbHMvaGVscGVyL3RleHQuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3QuanMiLCJzcmMvY29tcG9uZW50cy9taXNhZ28tbWFya3VwLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvY2xlYW4tcmVzdWx0cy5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vY29uc3RhbnRzLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9kcm9wZG93bi1tZW51LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vZmxhdHRlbi1yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vaW5wdXQuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vcmVzdWx0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvcmVzdWx0LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvdGhyZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvdXNlci5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9kZWxldGUtYWNjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZG93bmxvYWQtZGF0YS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvZWRpdC1kZXRhaWxzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9mb3J1bS1vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL1VudXNhYmxlUGFzc3dvcmRNZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1lbWFpbC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3BhZ2UtbGVhZC5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLWxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvYWRkLXBhcnRpY2lwYW50LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2NhcmQuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L21ha2Utb3duZXIuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9yZW1vdmUuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvZm9ybS9jaG9pY2VzLWNvbnRyb2wuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmZvLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9wb2xsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL2NoYXJ0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL21vZGFsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9yZXN1bHRzL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy9oZWxwLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL2RpZmYuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9mb290ZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL3Rvb2xiYXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L2JvZHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9hbm9ueW1vdXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL3JlZ2lzdGVyZWQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvdXNlci10aXRsZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1saWtlcy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvZWRpdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3JlcGx5LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC1wcml2YXRlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9zdGFydC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvYXR0YWNobWVudHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy91c2VybmFtZXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pY29uLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvdW5yZWFkLWxhYmVsLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9hdHRhY2htZW50LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2JvZHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2ZsYWdzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2Fub255bW91cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvaGFzLXZpc2libGUtdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9yZWdpc3RlcmVkLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXBvc3Rjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci1zdGF0dXMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItdGl0bGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3dheXBvaW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9iYW4tZGV0YWlscy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9lbXB0eS1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2ZpZWxkLXZhbHVlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2ZpZWxkLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZ3JvdXAuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZ3JvdXBzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3ctYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd3MuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbWVzc2FnZS1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vYXZhdGFyLWNvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2NoYW5nZS11c2VybmFtZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9kZWxldGUtYWNjb3VudC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9uYXYuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL3VzZXJuYW1lLWhpc3RvcnkuanMiLCJzcmMvY29tcG9uZW50cy9xdWljay1zZWFyY2guanMiLCJzcmMvY29tcG9uZW50cy9yZWdpc3Rlci1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9yZWdpc3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldC5qcyIsInNyYy9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0uanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9wYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3NpZGVuYXYuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC90aHJlYWRzL3Jlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdXNlcnMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9zaWduLWluLmpzIiwic3JjL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc29jaWFsLWF1dGgvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2JyZWFkY3J1bWJzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2lzLXZpc2libGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9wYWdpbmF0b3IuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcmVwbHktYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvc3Vic2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItdG9wLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL3RvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvbGFzdC1hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3VzZXItdXJsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9wcmV2aWV3L2NhcmQuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3ByZXZpZXcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlci5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy93aXRoLWRyb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaC5qcyIsInNyYy9kYXRhL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pbml0aWFsaXplcnMvYWpheC5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC1zeW5jLmpzIiwic3JjL2luaXRpYWxpemVycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jYXB0Y2hhLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2NhdGVnb3JpZXMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvb3B0aW9ucy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc29jaWFsLWF1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlci1tZW51LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9pbmNsdWRlLmpzIiwic3JjL2luaXRpYWxpemVycy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2RhbC5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9tZW50LWxvY2FsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcGFnZS10aXRsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9sbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3Bvc3RpbmcuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3BhcnRpY2lwYW50cy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9sbC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9zdHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS1oeWRyYXRlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvcmVkdWNlcnMvcHJvZmlsZS5qcyIsInNyYy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvcmVkdWNlcnMvc2VsZWN0aW9uLmpzIiwic3JjL3JlZHVjZXJzL3NuYWNrYmFyLmpzIiwic3JjL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWRzLmpzIiwic3JjL3JlZHVjZXJzL3RpY2suanMiLCJzcmMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9yZWR1Y2Vycy91c2Vycy5qcyIsInNyYy9zZXJ2aWNlcy9hamF4LmpzIiwic3JjL3NlcnZpY2VzL2F1dGguanMiLCJzcmMvc2VydmljZXMvY2FwdGNoYS5qcyIsInNyYy9zZXJ2aWNlcy9pbmNsdWRlLmpzIiwic3JjL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UuanMiLCJzcmMvc2VydmljZXMvbWFya2VkLmpzIiwic3JjL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24uanMiLCJzcmMvc2VydmljZXMvbW9kYWwuanMiLCJzcmMvc2VydmljZXMvb25lLWJveC5qcyIsInNyYy9zZXJ2aWNlcy9wYWdlLXRpdGxlLmpzIiwic3JjL3NlcnZpY2VzL3BvbGxzLmpzIiwic3JjL3NlcnZpY2VzL3Bvc3RpbmcuanMiLCJzcmMvc2VydmljZXMvc25hY2tiYXIuanMiLCJzcmMvc2VydmljZXMvc3RvcmUuanMiLCJzcmMvc2VydmljZXMvenhjdmJuLmpzIiwic3JjL3V0aWxzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL3V0aWxzL2JhdGNoLmpzIiwic3JjL3V0aWxzL2NvbmNhdC11bmlxdWUuanMiLCJzcmMvdXRpbHMvY291bnRkb3duLmpzIiwic3JjL3V0aWxzL2VzY2FwZS1odG1sLmpzIiwic3JjL3V0aWxzL2ZpbGUtc2l6ZS5qcyIsInNyYy91dGlscy9pcy11cmwuanMiLCJzcmMvdXRpbHMvbW91bnQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL29yZGVyZWQtbGlzdC5qcyIsInNyYy91dGlscy9yYW5kb20uanMiLCJzcmMvdXRpbHMvcmVzZXQtc2Nyb2xsLmpzIiwic3JjL3V0aWxzL3JvdXRlZC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvc2V0cy5qcyIsInNyYy91dGlscy9zdHJpbmctY291bnQuanMiLCJzcmMvdXRpbHMvdmFsaWRhdG9ycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LENBQVMsU0FBVCxFQUFvQjtBQUNoQyxXQUFPLFFBQVEsQ0FDYiwyREFEYSxFQUViLDREQUZhLEVBR2IsU0FIYSxDQUFmO0FBS0QsR0FORDs7QUFPQSxTQUFPLFNBQVMsQ0FBQyxTQUFELEVBQVksT0FBWixDQUFoQjtBQUNEOztBQUVNLFNBQVMsZUFBVCxHQUEyQjtBQUNoQyxTQUFPLFVBQVMsS0FBVCxFQUFnQjtBQUNyQixRQUFJLENBQUMsUUFBUSxDQUFDLElBQVQsQ0FBYyxDQUFDLENBQUMsSUFBRixDQUFPLEtBQVAsQ0FBZCxDQUFMLEVBQW1DO0FBQ2pDLGFBQU8sT0FBTyxDQUNaLDhEQURZLENBQWQ7QUFHRDtBQUNGLEdBTkQ7QUFPRDs7QUFFTSxTQUFTLGlCQUFULENBQTJCLFVBQTNCLEVBQXVDO0FBQzVDLFNBQU8sVUFBUyxLQUFULEVBQWdCO0FBQ3JCLFFBQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFyQjs7QUFFQSxRQUFJLE1BQU0sR0FBRyxVQUFiLEVBQXlCO0FBQ3ZCLFVBQU0sYUFBYSxHQUFHLFFBQVEsQ0FDNUIsaUVBRDRCLEVBRTVCLGtFQUY0QixFQUc1QixVQUg0QixDQUE5QjtBQU1BLGFBQU8sV0FBVyxDQUNoQixhQURnQixFQUVoQjtBQUNFLFFBQUEsV0FBVyxFQUFFLFVBRGY7QUFFRSxRQUFBLFVBQVUsRUFBRTtBQUZkLE9BRmdCLEVBTWhCLElBTmdCLENBQWxCO0FBUUQ7QUFDRixHQW5CRDtBQW9CRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTcgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgaW5uZXIgPSBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIi8qKlxuICogbWFya2VkIC0gYSBtYXJrZG93biBwYXJzZXJcbiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDIwLCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKVxuICogaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZFxuICovXG5cbi8qKlxuICogRE8gTk9UIEVESVQgVEhJUyBGSUxFXG4gKiBUaGUgY29kZSBpbiB0aGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gZmlsZXMgaW4gLi9zcmMvXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5tYXJrZWQgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICAgIGlmICghbykgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gICAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvKSB7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChvID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSkgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7XG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBvW2krK11cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gICAgfVxuXG4gICAgaSA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIHJldHVybiBpLm5leHQuYmluZChpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcbiAgXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG4gIH1cblxuICB2YXIgZGVmYXVsdHMgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdHMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYXNlVXJsOiBudWxsLFxuICAgICAgICBicmVha3M6IGZhbHNlLFxuICAgICAgICBnZm06IHRydWUsXG4gICAgICAgIGhlYWRlcklkczogdHJ1ZSxcbiAgICAgICAgaGVhZGVyUHJlZml4OiAnJyxcbiAgICAgICAgaGlnaGxpZ2h0OiBudWxsLFxuICAgICAgICBsYW5nUHJlZml4OiAnbGFuZ3VhZ2UtJyxcbiAgICAgICAgbWFuZ2xlOiB0cnVlLFxuICAgICAgICBwZWRhbnRpYzogZmFsc2UsXG4gICAgICAgIHJlbmRlcmVyOiBudWxsLFxuICAgICAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgICAgIHNhbml0aXplcjogbnVsbCxcbiAgICAgICAgc2lsZW50OiBmYWxzZSxcbiAgICAgICAgc21hcnRMaXN0czogZmFsc2UsXG4gICAgICAgIHNtYXJ0eXBhbnRzOiBmYWxzZSxcbiAgICAgICAgdG9rZW5pemVyOiBudWxsLFxuICAgICAgICB3YWxrVG9rZW5zOiBudWxsLFxuICAgICAgICB4aHRtbDogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlRGVmYXVsdHMobmV3RGVmYXVsdHMpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzLmRlZmF1bHRzID0gbmV3RGVmYXVsdHM7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgICBkZWZhdWx0czogZ2V0RGVmYXVsdHMoKSxcbiAgICAgIGdldERlZmF1bHRzOiBnZXREZWZhdWx0cyxcbiAgICAgIGNoYW5nZURlZmF1bHRzOiBjaGFuZ2VEZWZhdWx0c1xuICAgIH07XG4gIH0pO1xuICB2YXIgZGVmYXVsdHNfMSA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgZGVmYXVsdHNfMiA9IGRlZmF1bHRzLmdldERlZmF1bHRzO1xuICB2YXIgZGVmYXVsdHNfMyA9IGRlZmF1bHRzLmNoYW5nZURlZmF1bHRzO1xuXG4gIC8qKlxuICAgKiBIZWxwZXJzXG4gICAqL1xuICB2YXIgZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG4gIHZhciBlc2NhcGVSZXBsYWNlID0gL1smPD5cIiddL2c7XG4gIHZhciBlc2NhcGVUZXN0Tm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvO1xuICB2YXIgZXNjYXBlUmVwbGFjZU5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspL2c7XG4gIHZhciBlc2NhcGVSZXBsYWNlbWVudHMgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnXG4gIH07XG5cbiAgdmFyIGdldEVzY2FwZVJlcGxhY2VtZW50ID0gZnVuY3Rpb24gZ2V0RXNjYXBlUmVwbGFjZW1lbnQoY2gpIHtcbiAgICByZXR1cm4gZXNjYXBlUmVwbGFjZW1lbnRzW2NoXTtcbiAgfTtcblxuICBmdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gICAgaWYgKGVuY29kZSkge1xuICAgICAgaWYgKGVzY2FwZVRlc3QudGVzdChodG1sKSkge1xuICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKGVzY2FwZVJlcGxhY2UsIGdldEVzY2FwZVJlcGxhY2VtZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVzY2FwZVRlc3ROb0VuY29kZS50ZXN0KGh0bWwpKSB7XG4gICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlUmVwbGFjZU5vRW5jb2RlLCBnZXRFc2NhcGVSZXBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICB2YXIgdW5lc2NhcGVUZXN0ID0gLyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9pZztcblxuICBmdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gICAgLy8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzXG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSh1bmVzY2FwZVRlc3QsIGZ1bmN0aW9uIChfLCBuKSB7XG4gICAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG5cbiAgICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKSA6IFN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICcnO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGNhcmV0ID0gLyhefFteXFxbXSlcXF4vZztcblxuICBmdW5jdGlvbiBlZGl0KHJlZ2V4LCBvcHQpIHtcbiAgICByZWdleCA9IHJlZ2V4LnNvdXJjZSB8fCByZWdleDtcbiAgICBvcHQgPSBvcHQgfHwgJyc7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UobmFtZSwgdmFsKSB7XG4gICAgICAgIHZhbCA9IHZhbC5zb3VyY2UgfHwgdmFsO1xuICAgICAgICB2YWwgPSB2YWwucmVwbGFjZShjYXJldCwgJyQxJyk7XG4gICAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfSxcbiAgICAgIGdldFJlZ2V4OiBmdW5jdGlvbiBnZXRSZWdleCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgsIG9wdCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIG5vbldvcmRBbmRDb2xvblRlc3QgPSAvW15cXHc6XS9nO1xuICB2YXIgb3JpZ2luSW5kZXBlbmRlbnRVcmwgPSAvXiR8XlthLXpdW2EtejAtOSsuLV0qOnxeWz8jXS9pO1xuXG4gIGZ1bmN0aW9uIGNsZWFuVXJsKHNhbml0aXplLCBiYXNlLCBocmVmKSB7XG4gICAgaWYgKHNhbml0aXplKSB7XG4gICAgICB2YXIgcHJvdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSkucmVwbGFjZShub25Xb3JkQW5kQ29sb25UZXN0LCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJhc2UgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICAgIGhyZWYgPSByZXNvbHZlVXJsKGJhc2UsIGhyZWYpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBocmVmID0gZW5jb2RlVVJJKGhyZWYpLnJlcGxhY2UoLyUyNS9nLCAnJScpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBocmVmO1xuICB9XG5cbiAgdmFyIGJhc2VVcmxzID0ge307XG4gIHZhciBqdXN0RG9tYWluID0gL15bXjpdKzpcXC8qW14vXSokLztcbiAgdmFyIHByb3RvY29sID0gL14oW146XSs6KVtcXHNcXFNdKiQvO1xuICB2YXIgZG9tYWluID0gL14oW146XSs6XFwvKlteL10qKVtcXHNcXFNdKiQvO1xuXG4gIGZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZSwgaHJlZikge1xuICAgIGlmICghYmFzZVVybHNbJyAnICsgYmFzZV0pIHtcbiAgICAgIC8vIHdlIGNhbiBpZ25vcmUgZXZlcnl0aGluZyBpbiBiYXNlIGFmdGVyIHRoZSBsYXN0IHNsYXNoIG9mIGl0cyBwYXRoIGNvbXBvbmVudCxcbiAgICAgIC8vIGJ1dCB3ZSBtaWdodCBuZWVkIHRvIGFkZCBfdGhhdF9cbiAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tM1xuICAgICAgaWYgKGp1c3REb21haW4udGVzdChiYXNlKSkge1xuICAgICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IGJhc2UgKyAnLyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IHJ0cmltKGJhc2UsICcvJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYmFzZSA9IGJhc2VVcmxzWycgJyArIGJhc2VdO1xuICAgIHZhciByZWxhdGl2ZUJhc2UgPSBiYXNlLmluZGV4T2YoJzonKSA9PT0gLTE7XG5cbiAgICBpZiAoaHJlZi5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHtcbiAgICAgIGlmIChyZWxhdGl2ZUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIGhyZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYXNlLnJlcGxhY2UocHJvdG9jb2wsICckMScpICsgaHJlZjtcbiAgICB9IGVsc2UgaWYgKGhyZWYuY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgIGlmIChyZWxhdGl2ZUJhc2UpIHtcbiAgICAgICAgcmV0dXJuIGhyZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYXNlLnJlcGxhY2UoZG9tYWluLCAnJDEnKSArIGhyZWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBiYXNlICsgaHJlZjtcbiAgICB9XG4gIH1cblxuICB2YXIgbm9vcFRlc3QgPSB7XG4gICAgZXhlYzogZnVuY3Rpb24gbm9vcFRlc3QoKSB7fVxuICB9O1xuXG4gIGZ1bmN0aW9uIG1lcmdlKG9iaikge1xuICAgIHZhciBpID0gMSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBrZXk7XG5cbiAgICBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0Q2VsbHModGFibGVSb3csIGNvdW50KSB7XG4gICAgLy8gZW5zdXJlIHRoYXQgZXZlcnkgY2VsbC1kZWxpbWl0aW5nIHBpcGUgaGFzIGEgc3BhY2VcbiAgICAvLyBiZWZvcmUgaXQgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBhbiBlc2NhcGVkIHBpcGVcbiAgICB2YXIgcm93ID0gdGFibGVSb3cucmVwbGFjZSgvXFx8L2csIGZ1bmN0aW9uIChtYXRjaCwgb2Zmc2V0LCBzdHIpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsXG4gICAgICAgICAgY3VyciA9IG9mZnNldDtcblxuICAgICAgd2hpbGUgKC0tY3VyciA+PSAwICYmIHN0cltjdXJyXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgLy8gb2RkIG51bWJlciBvZiBzbGFzaGVzIG1lYW5zIHwgaXMgZXNjYXBlZFxuICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICByZXR1cm4gJ3wnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICByZXR1cm4gJyB8JztcbiAgICAgIH1cbiAgICB9KSxcbiAgICAgICAgY2VsbHMgPSByb3cuc3BsaXQoLyBcXHwvKTtcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICAgIGNlbGxzLnNwbGljZShjb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudCkge1xuICAgICAgICBjZWxscy5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2UgaXMgaWdub3JlZCBwZXIgdGhlIGdmbSBzcGVjXG4gICAgICBjZWxsc1tpXSA9IGNlbGxzW2ldLnRyaW0oKS5yZXBsYWNlKC9cXFxcXFx8L2csICd8Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNlbGxzO1xuICB9IC8vIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4gIC8vIC9jKiQvIGlzIHZ1bG5lcmFibGUgdG8gUkVET1MuXG4gIC8vIGludmVydDogUmVtb3ZlIHN1ZmZpeCBvZiBub24tYyBjaGFycyBpbnN0ZWFkLiBEZWZhdWx0IGZhbHNleS5cblxuXG4gIGZ1bmN0aW9uIHJ0cmltKHN0ciwgYywgaW52ZXJ0KSB7XG4gICAgdmFyIGwgPSBzdHIubGVuZ3RoO1xuXG4gICAgaWYgKGwgPT09IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IC8vIExlbmd0aCBvZiBzdWZmaXggbWF0Y2hpbmcgdGhlIGludmVydCBjb25kaXRpb24uXG5cblxuICAgIHZhciBzdWZmTGVuID0gMDsgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG5cbiAgICB3aGlsZSAoc3VmZkxlbiA8IGwpIHtcbiAgICAgIHZhciBjdXJyQ2hhciA9IHN0ci5jaGFyQXQobCAtIHN1ZmZMZW4gLSAxKTtcblxuICAgICAgaWYgKGN1cnJDaGFyID09PSBjICYmICFpbnZlcnQpIHtcbiAgICAgICAgc3VmZkxlbisrO1xuICAgICAgfSBlbHNlIGlmIChjdXJyQ2hhciAhPT0gYyAmJiBpbnZlcnQpIHtcbiAgICAgICAgc3VmZkxlbisrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgbCAtIHN1ZmZMZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICAgIGlmIChzdHIuaW5kZXhPZihiWzFdKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICB2YXIgbCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIGxldmVsID0gMCxcbiAgICAgICAgaSA9IDA7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHN0cltpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSBpZiAoc3RyW2ldID09PSBiWzBdKSB7XG4gICAgICAgIGxldmVsKys7XG4gICAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlsxXSkge1xuICAgICAgICBsZXZlbC0tO1xuXG4gICAgICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpIHtcbiAgICBpZiAob3B0ICYmIG9wdC5zYW5pdGl6ZSAmJiAhb3B0LnNpbGVudCkge1xuICAgICAgY29uc29sZS53YXJuKCdtYXJrZWQoKTogc2FuaXRpemUgYW5kIHNhbml0aXplciBwYXJhbWV0ZXJzIGFyZSBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMC43LjAsIHNob3VsZCBub3QgYmUgdXNlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuIFJlYWQgbW9yZSBoZXJlOiBodHRwczovL21hcmtlZC5qcy5vcmcvIy9VU0lOR19BRFZBTkNFRC5tZCNvcHRpb25zJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGhlbHBlcnMgPSB7XG4gICAgZXNjYXBlOiBlc2NhcGUsXG4gICAgdW5lc2NhcGU6IHVuZXNjYXBlLFxuICAgIGVkaXQ6IGVkaXQsXG4gICAgY2xlYW5Vcmw6IGNsZWFuVXJsLFxuICAgIHJlc29sdmVVcmw6IHJlc29sdmVVcmwsXG4gICAgbm9vcFRlc3Q6IG5vb3BUZXN0LFxuICAgIG1lcmdlOiBtZXJnZSxcbiAgICBzcGxpdENlbGxzOiBzcGxpdENlbGxzLFxuICAgIHJ0cmltOiBydHJpbSxcbiAgICBmaW5kQ2xvc2luZ0JyYWNrZXQ6IGZpbmRDbG9zaW5nQnJhY2tldCxcbiAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb246IGNoZWNrU2FuaXRpemVEZXByZWNhdGlvblxuICB9O1xuXG4gIHZhciBkZWZhdWx0cyQxID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIHZhciBydHJpbSQxID0gaGVscGVycy5ydHJpbSxcbiAgICAgIHNwbGl0Q2VsbHMkMSA9IGhlbHBlcnMuc3BsaXRDZWxscyxcbiAgICAgIF9lc2NhcGUgPSBoZWxwZXJzLmVzY2FwZSxcbiAgICAgIGZpbmRDbG9zaW5nQnJhY2tldCQxID0gaGVscGVycy5maW5kQ2xvc2luZ0JyYWNrZXQ7XG5cbiAgZnVuY3Rpb24gb3V0cHV0TGluayhjYXAsIGxpbmssIHJhdykge1xuICAgIHZhciBocmVmID0gbGluay5ocmVmO1xuICAgIHZhciB0aXRsZSA9IGxpbmsudGl0bGUgPyBfZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICAgIGlmIChjYXBbMF0uY2hhckF0KDApICE9PSAnIScpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgICAgcmF3OiByYXcsXG4gICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICByYXc6IHJhdyxcbiAgICAgICAgdGV4dDogX2VzY2FwZShjYXBbMV0pLFxuICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5kZW50Q29kZUNvbXBlbnNhdGlvbihyYXcsIHRleHQpIHtcbiAgICB2YXIgbWF0Y2hJbmRlbnRUb0NvZGUgPSByYXcubWF0Y2goL14oXFxzKykoPzpgYGApLyk7XG5cbiAgICBpZiAobWF0Y2hJbmRlbnRUb0NvZGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIHZhciBpbmRlbnRUb0NvZGUgPSBtYXRjaEluZGVudFRvQ29kZVsxXTtcbiAgICByZXR1cm4gdGV4dC5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB2YXIgbWF0Y2hJbmRlbnRJbk5vZGUgPSBub2RlLm1hdGNoKC9eXFxzKy8pO1xuXG4gICAgICBpZiAobWF0Y2hJbmRlbnRJbk5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRlbnRJbk5vZGUgPSBtYXRjaEluZGVudEluTm9kZVswXTtcblxuICAgICAgaWYgKGluZGVudEluTm9kZS5sZW5ndGggPj0gaW5kZW50VG9Db2RlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbm9kZS5zbGljZShpbmRlbnRUb0NvZGUubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH1cbiAgLyoqXG4gICAqIFRva2VuaXplclxuICAgKi9cblxuXG4gIHZhciBUb2tlbml6ZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9rZW5pemVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkMTtcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVG9rZW5pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zcGFjZSA9IGZ1bmN0aW9uIHNwYWNlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2submV3bGluZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzcGFjZScsXG4gICAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJhdzogJ1xcbidcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvZGUgPSBmdW5jdGlvbiBjb2RlKHNyYywgdG9rZW5zKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTsgLy8gQW4gaW5kZW50ZWQgY29kZSBibG9jayBjYW5ub3QgaW50ZXJydXB0IGEgcGFyYWdyYXBoLlxuXG4gICAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgdGV4dDogY2FwWzBdLnRyaW1SaWdodCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0ID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIGNvZGVCbG9ja1N0eWxlOiAnaW5kZW50ZWQnLFxuICAgICAgICAgIHRleHQ6ICF0aGlzLm9wdGlvbnMucGVkYW50aWMgPyBydHJpbSQxKHRleHQsICdcXG4nKSA6IHRleHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmZlbmNlcyA9IGZ1bmN0aW9uIGZlbmNlcyhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmZlbmNlcy5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHJhdyA9IGNhcFswXTtcbiAgICAgICAgdmFyIHRleHQgPSBpbmRlbnRDb2RlQ29tcGVuc2F0aW9uKHJhdywgY2FwWzNdIHx8ICcnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgICAgcmF3OiByYXcsXG4gICAgICAgICAgbGFuZzogY2FwWzJdID8gY2FwWzJdLnRyaW0oKSA6IGNhcFsyXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5oZWFkaW5nID0gZnVuY3Rpb24gaGVhZGluZyhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLmhlYWRpbmcuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIGRlcHRoOiBjYXBbMV0ubGVuZ3RoLFxuICAgICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubnB0YWJsZSA9IGZ1bmN0aW9uIG5wdGFibGUoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5ucHRhYmxlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICAgIGhlYWRlcjogc3BsaXRDZWxscyQxKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgICAgY2VsbHM6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdLFxuICAgICAgICAgIHJhdzogY2FwWzBdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbCA9IGl0ZW0uYWxpZ24ubGVuZ3RoO1xuICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbCA9IGl0ZW0uY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXSA9IHNwbGl0Q2VsbHMkMShpdGVtLmNlbGxzW2ldLCBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5ociA9IGZ1bmN0aW9uIGhyKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHIuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2hyJyxcbiAgICAgICAgICByYXc6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uYmxvY2txdW90ZSA9IGZ1bmN0aW9uIGJsb2NrcXVvdGUoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgdGV4dCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnYmxvY2txdW90ZScsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ubGlzdCA9IGZ1bmN0aW9uIGxpc3Qoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5saXN0LmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgcmF3ID0gY2FwWzBdO1xuICAgICAgICB2YXIgYnVsbCA9IGNhcFsyXTtcbiAgICAgICAgdmFyIGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcbiAgICAgICAgdmFyIGxpc3QgPSB7XG4gICAgICAgICAgdHlwZTogJ2xpc3QnLFxuICAgICAgICAgIHJhdzogcmF3LFxuICAgICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgICBzdGFydDogaXNvcmRlcmVkID8gK2J1bGwgOiAnJyxcbiAgICAgICAgICBsb29zZTogZmFsc2UsXG4gICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH07IC8vIEdldCBlYWNoIHRvcC1sZXZlbCBpdGVtLlxuXG4gICAgICAgIHZhciBpdGVtTWF0Y2ggPSBjYXBbMF0ubWF0Y2godGhpcy5ydWxlcy5ibG9jay5pdGVtKTtcbiAgICAgICAgdmFyIG5leHQgPSBmYWxzZSxcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgIGIsXG4gICAgICAgICAgICBhZGRCYWNrLFxuICAgICAgICAgICAgbG9vc2UsXG4gICAgICAgICAgICBpc3Rhc2ssXG4gICAgICAgICAgICBpc2NoZWNrZWQ7XG4gICAgICAgIHZhciBsID0gaXRlbU1hdGNoLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGl0ZW0gPSBpdGVtTWF0Y2hbaV07XG4gICAgICAgICAgcmF3ID0gaXRlbTsgLy8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0ncyBidWxsZXRcbiAgICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLlxuXG4gICAgICAgICAgc3BhY2UgPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKi8sICcnKTsgLy8gT3V0ZGVudCB3aGF0ZXZlciB0aGVcbiAgICAgICAgICAvLyBsaXN0IGl0ZW0gY29udGFpbnMuIEhhY2t5LlxuXG4gICAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xcbiAnKSkge1xuICAgICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgICBpdGVtID0gIXRoaXMub3B0aW9ucy5wZWRhbnRpYyA/IGl0ZW0ucmVwbGFjZShuZXcgUmVnRXhwKCdeIHsxLCcgKyBzcGFjZSArICd9JywgJ2dtJyksICcnKSA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICAgIH0gLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cbiAgICAgICAgICAvLyBCYWNrcGVkYWwgaWYgaXQgZG9lcyBub3QgYmVsb25nIGluIHRoaXMgbGlzdC5cblxuXG4gICAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgICBiID0gdGhpcy5ydWxlcy5ibG9jay5idWxsZXQuZXhlYyhpdGVtTWF0Y2hbaSArIDFdKVswXTtcblxuICAgICAgICAgICAgaWYgKGJ1bGwubGVuZ3RoID4gMSA/IGIubGVuZ3RoID09PSAxIDogYi5sZW5ndGggPiAxIHx8IHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGIgIT09IGJ1bGwpIHtcbiAgICAgICAgICAgICAgYWRkQmFjayA9IGl0ZW1NYXRjaC5zbGljZShpICsgMSkuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgIGxpc3QucmF3ID0gbGlzdC5yYXcuc3Vic3RyaW5nKDAsIGxpc3QucmF3Lmxlbmd0aCAtIGFkZEJhY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgaSA9IGwgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gRGV0ZXJtaW5lIHdoZXRoZXIgaXRlbSBpcyBsb29zZSBvciBub3QuXG4gICAgICAgICAgLy8gVXNlOiAvKF58XFxuKSg/ISApW15cXG5dK1xcblxcbig/IVxccyokKS9cbiAgICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG5cblxuICAgICAgICAgIGxvb3NlID0gbmV4dCB8fCAvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO1xuXG4gICAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG4gICAgICAgICAgICBpZiAoIWxvb3NlKSBsb29zZSA9IG5leHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgICBsaXN0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgICB9IC8vIENoZWNrIGZvciB0YXNrIGxpc3QgaXRlbXNcblxuXG4gICAgICAgICAgaXN0YXNrID0gL15cXFtbIHhYXVxcXSAvLnRlc3QoaXRlbSk7XG4gICAgICAgICAgaXNjaGVja2VkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGlzdGFzaykge1xuICAgICAgICAgICAgaXNjaGVja2VkID0gaXRlbVsxXSAhPT0gJyAnO1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXlxcW1sgeFhdXFxdICsvLCAnJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdC5pdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW0nLFxuICAgICAgICAgICAgcmF3OiByYXcsXG4gICAgICAgICAgICB0YXNrOiBpc3Rhc2ssXG4gICAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgICBsb29zZTogbG9vc2UsXG4gICAgICAgICAgICB0ZXh0OiBpdGVtXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmh0bWwgPSBmdW5jdGlvbiBodG1sKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2suaHRtbC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyAncGFyYWdyYXBoJyA6ICdodG1sJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBwcmU6ICF0aGlzLm9wdGlvbnMuc2FuaXRpemVyICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgICB0ZXh0OiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogX2VzY2FwZShjYXBbMF0pIDogY2FwWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kZWYgPSBmdW5jdGlvbiBkZWYoc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5ibG9jay5kZWYuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIGlmIChjYXBbM10pIGNhcFszXSA9IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpO1xuICAgICAgICB2YXIgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRhZzogdGFnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgICB0aXRsZTogY2FwWzNdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50YWJsZSA9IGZ1bmN0aW9uIHRhYmxlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2sudGFibGUuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzJDEoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgICBjZWxsczogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICAgIGl0ZW0ucmF3ID0gY2FwWzBdO1xuICAgICAgICAgIHZhciBsID0gaXRlbS5hbGlnbi5sZW5ndGg7XG4gICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsID0gaXRlbS5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtLmNlbGxzW2ldID0gc3BsaXRDZWxscyQxKGl0ZW0uY2VsbHNbaV0ucmVwbGFjZSgvXiAqXFx8ICp8ICpcXHwgKiQvZywgJycpLCBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5saGVhZGluZyA9IGZ1bmN0aW9uIGxoZWFkaW5nKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2subGhlYWRpbmcuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgICB0ZXh0OiBjYXBbMV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnBhcmFncmFwaCA9IGZ1bmN0aW9uIHBhcmFncmFwaChzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrLnBhcmFncmFwaC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBjYXBbMV0uY2hhckF0KGNhcFsxXS5sZW5ndGggLSAxKSA9PT0gJ1xcbicgPyBjYXBbMV0uc2xpY2UoMCwgLTEpIDogY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by50ZXh0ID0gZnVuY3Rpb24gdGV4dChzcmMsIHRva2Vucykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuYmxvY2sudGV4dC5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGxhc3RUb2tlbiAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZXNjYXBlID0gZnVuY3Rpb24gZXNjYXBlKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmVzY2FwZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnZXNjYXBlJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiBfZXNjYXBlKGNhcFsxXSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnRhZyA9IGZ1bmN0aW9uIHRhZyhzcmMsIGluTGluaywgaW5SYXdCbG9jaykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnRhZy5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgaWYgKCFpbkxpbmsgJiYgL148YSAvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICBpbkxpbmsgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICAgIGluTGluayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpblJhd0Jsb2NrICYmIC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICBpblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpblJhd0Jsb2NrICYmIC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgICBpblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICd0ZXh0JyA6ICdodG1sJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICBpbkxpbms6IGluTGluayxcbiAgICAgICAgICBpblJhd0Jsb2NrOiBpblJhd0Jsb2NrLFxuICAgICAgICAgIHRleHQ6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBfZXNjYXBlKGNhcFswXSkgOiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpbmsgPSBmdW5jdGlvbiBsaW5rKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmxpbmsuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciBsYXN0UGFyZW5JbmRleCA9IGZpbmRDbG9zaW5nQnJhY2tldCQxKGNhcFsyXSwgJygpJyk7XG5cbiAgICAgICAgaWYgKGxhc3RQYXJlbkluZGV4ID4gLTEpIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSBjYXBbMF0uaW5kZXhPZignIScpID09PSAwID8gNSA6IDQ7XG4gICAgICAgICAgdmFyIGxpbmtMZW4gPSBzdGFydCArIGNhcFsxXS5sZW5ndGggKyBsYXN0UGFyZW5JbmRleDtcbiAgICAgICAgICBjYXBbMl0gPSBjYXBbMl0uc3Vic3RyaW5nKDAsIGxhc3RQYXJlbkluZGV4KTtcbiAgICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgICBjYXBbM10gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBocmVmID0gY2FwWzJdO1xuICAgICAgICB2YXIgdGl0bGUgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgICAgICAgdmFyIGxpbmsgPSAvXihbXidcIl0qW15cXHNdKVxccysoWydcIl0pKC4qKVxcMi8uZXhlYyhocmVmKTtcblxuICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICBocmVmID0gbGlua1sxXTtcbiAgICAgICAgICAgIHRpdGxlID0gbGlua1szXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGUgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGl0bGUgPSBjYXBbM10gPyBjYXBbM10uc2xpY2UoMSwgLTEpIDogJyc7XG4gICAgICAgIH1cblxuICAgICAgICBocmVmID0gaHJlZi50cmltKCkucmVwbGFjZSgvXjwoW1xcc1xcU10qKT4kLywgJyQxJyk7XG4gICAgICAgIHZhciB0b2tlbiA9IG91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgICAgaHJlZjogaHJlZiA/IGhyZWYucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5fZXNjYXBlcywgJyQxJykgOiBocmVmLFxuICAgICAgICAgIHRpdGxlOiB0aXRsZSA/IHRpdGxlLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuX2VzY2FwZXMsICckMScpIDogdGl0bGVcbiAgICAgICAgfSwgY2FwWzBdKTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucmVmbGluayA9IGZ1bmN0aW9uIHJlZmxpbmsoc3JjLCBsaW5rcykge1xuICAgICAgdmFyIGNhcDtcblxuICAgICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5yZWZsaW5rLmV4ZWMoc3JjKSkgfHwgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICAgIHZhciBsaW5rID0gKGNhcFsyXSB8fCBjYXBbMV0pLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgICAgbGluayA9IGxpbmtzW2xpbmsudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKCFsaW5rIHx8ICFsaW5rLmhyZWYpIHtcbiAgICAgICAgICB2YXIgdGV4dCA9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHJhdzogdGV4dCxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRva2VuID0gb3V0cHV0TGluayhjYXAsIGxpbmssIGNhcFswXSk7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnN0cm9uZyA9IGZ1bmN0aW9uIHN0cm9uZyhzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5zdHJvbmcuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ3N0cm9uZycsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5lbSA9IGZ1bmN0aW9uIGVtKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmVtLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdlbScsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzZdIHx8IGNhcFs1XSB8fCBjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvZGVzcGFuID0gZnVuY3Rpb24gY29kZXNwYW4oc3JjKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuY29kZS5leGVjKHNyYyk7XG5cbiAgICAgIGlmIChjYXApIHtcbiAgICAgICAgdmFyIHRleHQgPSBjYXBbMl0ucmVwbGFjZSgvXFxuL2csICcgJyk7XG4gICAgICAgIHZhciBoYXNOb25TcGFjZUNoYXJzID0gL1teIF0vLnRlc3QodGV4dCk7XG4gICAgICAgIHZhciBoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcyA9IHRleHQuc3RhcnRzV2l0aCgnICcpICYmIHRleHQuZW5kc1dpdGgoJyAnKTtcblxuICAgICAgICBpZiAoaGFzTm9uU3BhY2VDaGFycyAmJiBoYXNTcGFjZUNoYXJzT25Cb3RoRW5kcykge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dCA9IF9lc2NhcGUodGV4dCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvZGVzcGFuJyxcbiAgICAgICAgICByYXc6IGNhcFswXSxcbiAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5iciA9IGZ1bmN0aW9uIGJyKHNyYykge1xuICAgICAgdmFyIGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLmJyLmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdicicsXG4gICAgICAgICAgcmF3OiBjYXBbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlbCA9IGZ1bmN0aW9uIGRlbChzcmMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS5kZWwuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2RlbCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5hdXRvbGluayA9IGZ1bmN0aW9uIGF1dG9saW5rKHNyYywgbWFuZ2xlKSB7XG4gICAgICB2YXIgY2FwID0gdGhpcy5ydWxlcy5pbmxpbmUuYXV0b2xpbmsuZXhlYyhzcmMpO1xuXG4gICAgICBpZiAoY2FwKSB7XG4gICAgICAgIHZhciB0ZXh0LCBocmVmO1xuXG4gICAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKHRoaXMub3B0aW9ucy5tYW5nbGUgPyBtYW5nbGUoY2FwWzFdKSA6IGNhcFsxXSk7XG4gICAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dCA9IF9lc2NhcGUoY2FwWzFdKTtcbiAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgICB0b2tlbnM6IFt7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnVybCA9IGZ1bmN0aW9uIHVybChzcmMsIG1hbmdsZSkge1xuICAgICAgdmFyIGNhcDtcblxuICAgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaW5saW5lLnVybC5leGVjKHNyYykpIHtcbiAgICAgICAgdmFyIHRleHQsIGhyZWY7XG5cbiAgICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgdGV4dCA9IF9lc2NhcGUodGhpcy5vcHRpb25zLm1hbmdsZSA/IG1hbmdsZShjYXBbMF0pIDogY2FwWzBdKTtcbiAgICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBkbyBleHRlbmRlZCBhdXRvbGluayBwYXRoIHZhbGlkYXRpb25cbiAgICAgICAgICB2YXIgcHJldkNhcFplcm87XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBwcmV2Q2FwWmVybyA9IGNhcFswXTtcbiAgICAgICAgICAgIGNhcFswXSA9IHRoaXMucnVsZXMuaW5saW5lLl9iYWNrcGVkYWwuZXhlYyhjYXBbMF0pWzBdO1xuICAgICAgICAgIH0gd2hpbGUgKHByZXZDYXBaZXJvICE9PSBjYXBbMF0pO1xuXG4gICAgICAgICAgdGV4dCA9IF9lc2NhcGUoY2FwWzBdKTtcblxuICAgICAgICAgIGlmIChjYXBbMV0gPT09ICd3d3cuJykge1xuICAgICAgICAgICAgaHJlZiA9ICdodHRwOi8vJyArIHRleHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICAgIHJhdzogY2FwWzBdLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgICB0b2tlbnM6IFt7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICByYXc6IHRleHQsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmlubGluZVRleHQgPSBmdW5jdGlvbiBpbmxpbmVUZXh0KHNyYywgaW5SYXdCbG9jaywgc21hcnR5cGFudHMpIHtcbiAgICAgIHZhciBjYXAgPSB0aGlzLnJ1bGVzLmlubGluZS50ZXh0LmV4ZWMoc3JjKTtcblxuICAgICAgaWYgKGNhcCkge1xuICAgICAgICB2YXIgdGV4dDtcblxuICAgICAgICBpZiAoaW5SYXdCbG9jaykge1xuICAgICAgICAgIHRleHQgPSB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogX2VzY2FwZShjYXBbMF0pIDogY2FwWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHQgPSBfZXNjYXBlKHRoaXMub3B0aW9ucy5zbWFydHlwYW50cyA/IHNtYXJ0eXBhbnRzKGNhcFswXSkgOiBjYXBbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgcmF3OiBjYXBbMF0sXG4gICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVG9rZW5pemVyO1xuICB9KCk7XG5cbiAgdmFyIG5vb3BUZXN0JDEgPSBoZWxwZXJzLm5vb3BUZXN0LFxuICAgICAgZWRpdCQxID0gaGVscGVycy5lZGl0LFxuICAgICAgbWVyZ2UkMSA9IGhlbHBlcnMubWVyZ2U7XG4gIC8qKlxuICAgKiBCbG9jay1MZXZlbCBHcmFtbWFyXG4gICAqL1xuXG4gIHZhciBibG9jayA9IHtcbiAgICBuZXdsaW5lOiAvXlxcbisvLFxuICAgIGNvZGU6IC9eKCB7NH1bXlxcbl0rXFxuKikrLyxcbiAgICBmZW5jZXM6IC9eIHswLDN9KGB7Myx9KD89W15gXFxuXSpcXG4pfH57Myx9KShbXlxcbl0qKVxcbig/OnwoW1xcc1xcU10qPylcXG4pKD86IHswLDN9XFwxW35gXSogKig/Olxcbit8JCl8JCkvLFxuICAgIGhyOiAvXiB7MCwzfSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXCogKil7Myx9KSg/Olxcbit8JCkvLFxuICAgIGhlYWRpbmc6IC9eIHswLDN9KCN7MSw2fSkgKyhbXlxcbl0qPykoPzogKyMrKT8gKig/Olxcbit8JCkvLFxuICAgIGJsb2NrcXVvdGU6IC9eKCB7MCwzfT4gPyhwYXJhZ3JhcGh8W15cXG5dKikoPzpcXG58JCkpKy8sXG4gICAgbGlzdDogL14oIHswLDN9KShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxcbiAgICBodG1sOiAnXiB7MCwzfSg/OicgLy8gb3B0aW9uYWwgaW5kZW50YXRpb25cbiAgICArICc8KHNjcmlwdHxwcmV8c3R5bGUpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICArICd8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCknIC8vICgyKVxuICAgICsgJ3w8XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PlxcXFxuKicgLy8gKDMpXG4gICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPz5cXFxcbionIC8vICg0KVxuICAgICsgJ3w8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT5cXFxcbionIC8vICg1KVxuICAgICsgJ3w8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDYpXG4gICAgKyAnfDwoPyFzY3JpcHR8cHJlfHN0eWxlKShbYS16XVtcXFxcdy1dKikoPzphdHRyaWJ1dGUpKj8gKi8/Pig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgb3BlbiB0YWdcbiAgICArICd8PC8oPyFzY3JpcHR8cHJlfHN0eWxlKVthLXpdW1xcXFx3LV0qXFxcXHMqPig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgY2xvc2luZyB0YWdcbiAgICArICcpJyxcbiAgICBkZWY6IC9eIHswLDN9XFxbKGxhYmVsKVxcXTogKlxcbj8gKjw/KFteXFxzPl0rKT4/KD86KD86ICtcXG4/ICp8ICpcXG4gKikodGl0bGUpKT8gKig/Olxcbit8JCkvLFxuICAgIG5wdGFibGU6IG5vb3BUZXN0JDEsXG4gICAgdGFibGU6IG5vb3BUZXN0JDEsXG4gICAgbGhlYWRpbmc6IC9eKFteXFxuXSspXFxuIHswLDN9KD0rfC0rKSAqKD86XFxuK3wkKS8sXG4gICAgLy8gcmVnZXggdGVtcGxhdGUsIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIGFjY29yZGluZyB0byBkaWZmZXJlbnQgcGFyYWdyYXBoXG4gICAgLy8gaW50ZXJydXB0aW9uIHJ1bGVzIG9mIGNvbW1vbm1hcmsgYW5kIHRoZSBvcmlnaW5hbCBtYXJrZG93biBzcGVjOlxuICAgIF9wYXJhZ3JhcGg6IC9eKFteXFxuXSsoPzpcXG4oPyFocnxoZWFkaW5nfGxoZWFkaW5nfGJsb2NrcXVvdGV8ZmVuY2VzfGxpc3R8aHRtbClbXlxcbl0rKSopLyxcbiAgICB0ZXh0OiAvXlteXFxuXSsvXG4gIH07XG4gIGJsb2NrLl9sYWJlbCA9IC8oPyFcXHMqXFxdKSg/OlxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKy87XG4gIGJsb2NrLl90aXRsZSA9IC8oPzpcIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnW14nXFxuXSooPzpcXG5bXidcXG5dKykqXFxuPyd8XFwoW14oKV0qXFwpKS87XG4gIGJsb2NrLmRlZiA9IGVkaXQkMShibG9jay5kZWYpLnJlcGxhY2UoJ2xhYmVsJywgYmxvY2suX2xhYmVsKS5yZXBsYWNlKCd0aXRsZScsIGJsb2NrLl90aXRsZSkuZ2V0UmVnZXgoKTtcbiAgYmxvY2suYnVsbGV0ID0gLyg/OlsqKy1dfFxcZHsxLDl9XFwuKS87XG4gIGJsb2NrLml0ZW0gPSAvXiggKikoYnVsbCkgP1teXFxuXSooPzpcXG4oPyFcXDFidWxsID8pW15cXG5dKikqLztcbiAgYmxvY2suaXRlbSA9IGVkaXQkMShibG9jay5pdGVtLCAnZ20nKS5yZXBsYWNlKC9idWxsL2csIGJsb2NrLmJ1bGxldCkuZ2V0UmVnZXgoKTtcbiAgYmxvY2subGlzdCA9IGVkaXQkMShibG9jay5saXN0KS5yZXBsYWNlKC9idWxsL2csIGJsb2NrLmJ1bGxldCkucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKS5yZXBsYWNlKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpLmdldFJlZ2V4KCk7XG4gIGJsb2NrLl90YWcgPSAnYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGJhc2V8YmFzZWZvbnR8YmxvY2txdW90ZXxib2R5fGNhcHRpb24nICsgJ3xjZW50ZXJ8Y29sfGNvbGdyb3VwfGRkfGRldGFpbHN8ZGlhbG9nfGRpcnxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbicgKyAnfGZpZ3VyZXxmb290ZXJ8Zm9ybXxmcmFtZXxmcmFtZXNldHxoWzEtNl18aGVhZHxoZWFkZXJ8aHJ8aHRtbHxpZnJhbWUnICsgJ3xsZWdlbmR8bGl8bGlua3xtYWlufG1lbnV8bWVudWl0ZW18bWV0YXxuYXZ8bm9mcmFtZXN8b2x8b3B0Z3JvdXB8b3B0aW9uJyArICd8cHxwYXJhbXxzZWN0aW9ufHNvdXJjZXxzdW1tYXJ5fHRhYmxlfHRib2R5fHRkfHRmb290fHRofHRoZWFkfHRpdGxlfHRyJyArICd8dHJhY2t8dWwnO1xuICBibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8tLT4vO1xuICBibG9jay5odG1sID0gZWRpdCQxKGJsb2NrLmh0bWwsICdpJykucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KS5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKS5yZXBsYWNlKCdhdHRyaWJ1dGUnLCAvICtbYS16QS1aOl9dW1xcdy46LV0qKD86ICo9ICpcIlteXCJcXG5dKlwifCAqPSAqJ1teJ1xcbl0qJ3wgKj0gKlteXFxzXCInPTw+YF0rKT8vKS5nZXRSZWdleCgpO1xuICBibG9jay5wYXJhZ3JhcGggPSBlZGl0JDEoYmxvY2suX3BhcmFncmFwaCkucmVwbGFjZSgnaHInLCBibG9jay5ocikucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gJykucmVwbGFjZSgnfGxoZWFkaW5nJywgJycpIC8vIHNldGV4IGhlYWRpbmdzIGRvbid0IGludGVycnVwdCBjb21tb25tYXJrIHBhcmFncmFwaHNcbiAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKS5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfCEtLSknKS5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyBwYXJzIGNhbiBiZSBpbnRlcnJ1cHRlZCBieSB0eXBlICg2KSBodG1sIGJsb2Nrc1xuICAuZ2V0UmVnZXgoKTtcbiAgYmxvY2suYmxvY2txdW90ZSA9IGVkaXQkMShibG9jay5ibG9ja3F1b3RlKS5yZXBsYWNlKCdwYXJhZ3JhcGgnLCBibG9jay5wYXJhZ3JhcGgpLmdldFJlZ2V4KCk7XG4gIC8qKlxuICAgKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICAgKi9cblxuICBibG9jay5ub3JtYWwgPSBtZXJnZSQxKHt9LCBibG9jayk7XG4gIC8qKlxuICAgKiBHRk0gQmxvY2sgR3JhbW1hclxuICAgKi9cblxuICBibG9jay5nZm0gPSBtZXJnZSQxKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgICBucHRhYmxlOiAnXiAqKFtefFxcXFxuIF0uKlxcXFx8LiopXFxcXG4nIC8vIEhlYWRlclxuICAgICsgJyAqKFstOl0rICpcXFxcfFstfCA6XSopJyAvLyBBbGlnblxuICAgICsgJyg/OlxcXFxuKCg/Oig/IVxcXFxufGhyfGhlYWRpbmd8YmxvY2txdW90ZXxjb2RlfGZlbmNlc3xsaXN0fGh0bWwpLiooPzpcXFxcbnwkKSkqKVxcXFxuKnwkKScsXG4gICAgLy8gQ2VsbHNcbiAgICB0YWJsZTogJ14gKlxcXFx8KC4rKVxcXFxuJyAvLyBIZWFkZXJcbiAgICArICcgKlxcXFx8PyggKlstOl0rWy18IDpdKiknIC8vIEFsaWduXG4gICAgKyAnKD86XFxcXG4gKigoPzooPyFcXFxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxcXG58JCkpKilcXFxcbip8JCknIC8vIENlbGxzXG5cbiAgfSk7XG4gIGJsb2NrLmdmbS5ucHRhYmxlID0gZWRpdCQxKGJsb2NrLmdmbS5ucHRhYmxlKS5yZXBsYWNlKCdocicsIGJsb2NrLmhyKS5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKS5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKS5yZXBsYWNlKCdjb2RlJywgJyB7NH1bXlxcXFxuXScpLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKS5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfCEtLSknKS5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyB0YWJsZXMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuICBibG9jay5nZm0udGFibGUgPSBlZGl0JDEoYmxvY2suZ2ZtLnRhYmxlKS5yZXBsYWNlKCdocicsIGJsb2NrLmhyKS5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSAnKS5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKS5yZXBsYWNlKCdjb2RlJywgJyB7NH1bXlxcXFxuXScpLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG4nKS5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfCEtLSknKS5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKSAvLyB0YWJsZXMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuICAvKipcbiAgICogUGVkYW50aWMgZ3JhbW1hciAob3JpZ2luYWwgSm9obiBHcnViZXIncyBsb29zZSBtYXJrZG93biBzcGVjaWZpY2F0aW9uKVxuICAgKi9cblxuICBibG9jay5wZWRhbnRpYyA9IG1lcmdlJDEoe30sIGJsb2NrLm5vcm1hbCwge1xuICAgIGh0bWw6IGVkaXQkMSgnXiAqKD86Y29tbWVudCAqKD86XFxcXG58XFxcXHMqJCknICsgJ3w8KHRhZylbXFxcXHNcXFxcU10rPzwvXFxcXDE+ICooPzpcXFxcbnsyLH18XFxcXHMqJCknIC8vIGNsb3NlZCB0YWdcbiAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKS5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpLnJlcGxhY2UoL3RhZy9nLCAnKD8hKD86JyArICdhfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZXx2YXJ8c2FtcHxrYmR8c3ViJyArICd8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKScgKyAnXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJykuZ2V0UmVnZXgoKSxcbiAgICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArKFtcIihdW15cXG5dK1tcIildKSk/ICooPzpcXG4rfCQpLyxcbiAgICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKig/OiMrICopPyg/Olxcbit8JCkvLFxuICAgIGZlbmNlczogbm9vcFRlc3QkMSxcbiAgICAvLyBmZW5jZXMgbm90IHN1cHBvcnRlZFxuICAgIHBhcmFncmFwaDogZWRpdCQxKGJsb2NrLm5vcm1hbC5fcGFyYWdyYXBoKS5yZXBsYWNlKCdocicsIGJsb2NrLmhyKS5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKS5yZXBsYWNlKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKS5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKS5yZXBsYWNlKCd8ZmVuY2VzJywgJycpLnJlcGxhY2UoJ3xsaXN0JywgJycpLnJlcGxhY2UoJ3xodG1sJywgJycpLmdldFJlZ2V4KClcbiAgfSk7XG4gIC8qKlxuICAgKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICAgKi9cblxuICB2YXIgaW5saW5lID0ge1xuICAgIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gICAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gICAgdXJsOiBub29wVGVzdCQxLFxuICAgIHRhZzogJ15jb21tZW50JyArICd8XjwvW2EtekEtWl1bXFxcXHc6LV0qXFxcXHMqPicgLy8gc2VsZi1jbG9zaW5nIHRhZ1xuICAgICsgJ3xePFthLXpBLVpdW1xcXFx3LV0qKD86YXR0cmlidXRlKSo/XFxcXHMqLz8+JyAvLyBvcGVuIHRhZ1xuICAgICsgJ3xePFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz4nIC8vIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24sIGUuZy4gPD9waHAgPz5cbiAgICArICd8XjwhW2EtekEtWl0rXFxcXHNbXFxcXHNcXFxcU10qPz4nIC8vIGRlY2xhcmF0aW9uLCBlLmcuIDwhRE9DVFlQRSBodG1sPlxuICAgICsgJ3xePCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+JyxcbiAgICAvLyBDREFUQSBzZWN0aW9uXG4gICAgbGluazogL14hP1xcWyhsYWJlbClcXF1cXChcXHMqKGhyZWYpKD86XFxzKyh0aXRsZSkpP1xccypcXCkvLFxuICAgIHJlZmxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFxbKD8hXFxzKlxcXSkoKD86XFxcXFtcXFtcXF1dP3xbXlxcW1xcXVxcXFxdKSspXFxdLyxcbiAgICBub2xpbms6IC9eIT9cXFsoPyFcXHMqXFxdKSgoPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKilcXF0oPzpcXFtcXF0pPy8sXG4gICAgc3Ryb25nOiAvXl9fKFteXFxzX10pX18oPyFfKXxeXFwqXFwqKFteXFxzKl0pXFwqXFwqKD8hXFwqKXxeX18oW15cXHNdW1xcc1xcU10qP1teXFxzXSlfXyg/IV8pfF5cXCpcXCooW15cXHNdW1xcc1xcU10qP1teXFxzXSlcXCpcXCooPyFcXCopLyxcbiAgICBlbTogL15fKFteXFxzX10pXyg/IV8pfF5fKFteXFxzXzxdW1xcc1xcU10qP1teXFxzX10pXyg/IV98W15cXHMscHVuY3R1YXRpb25dKXxeXyhbXlxcc188XVtcXHNcXFNdKj9bXlxcc10pXyg/IV98W15cXHMscHVuY3R1YXRpb25dKXxeXFwqKFteXFxzKjxcXFtdKVxcKig/IVxcKil8XlxcKihbXlxcczxcIl1bXFxzXFxTXSo/W15cXHNcXFtcXCpdKVxcKig/IVtcXF1gcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzKlwiPFxcW11bXFxzXFxTXSpbXlxcc10pXFwqKD8hXFwqKS8sXG4gICAgY29kZTogL14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLyxcbiAgICBicjogL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLFxuICAgIGRlbDogbm9vcFRlc3QkMSxcbiAgICB0ZXh0OiAvXihgK3xbXmBdKSg/OltcXHNcXFNdKj8oPzooPz1bXFxcXDwhXFxbYCpdfFxcYl98JCl8W14gXSg/PSB7Mix9XFxuKSl8KD89IHsyLH1cXG4pKS9cbiAgfTsgLy8gbGlzdCBvZiBwdW5jdHVhdGlvbiBtYXJrcyBmcm9tIGNvbW1vbiBtYXJrIHNwZWNcbiAgLy8gd2l0aG91dCBgIGFuZCBdIHRvIHdvcmthcm91bmQgUnVsZSAxNyAoaW5saW5lIGNvZGUgYmxvY2tzL2xpbmtzKVxuICAvLyB3aXRob3V0ICwgdG8gd29yayBhcm91bmQgZXhhbXBsZSAzOTNcblxuICBpbmxpbmUuX3B1bmN0dWF0aW9uID0gJyFcIiMkJSZcXCcoKSorXFxcXC0uLzo7PD0+P0BcXFxcW15fe3x9fic7XG4gIGlubGluZS5lbSA9IGVkaXQkMShpbmxpbmUuZW0pLnJlcGxhY2UoL3B1bmN0dWF0aW9uL2csIGlubGluZS5fcHVuY3R1YXRpb24pLmdldFJlZ2V4KCk7XG4gIGlubGluZS5fZXNjYXBlcyA9IC9cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS9nO1xuICBpbmxpbmUuX3NjaGVtZSA9IC9bYS16QS1aXVthLXpBLVowLTkrLi1dezEsMzF9LztcbiAgaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuICBpbmxpbmUuYXV0b2xpbmsgPSBlZGl0JDEoaW5saW5lLmF1dG9saW5rKS5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSkucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuX2VtYWlsKS5nZXRSZWdleCgpO1xuICBpbmxpbmUuX2F0dHJpYnV0ZSA9IC9cXHMrW2EtekEtWjpfXVtcXHcuOi1dKig/Olxccyo9XFxzKlwiW15cIl0qXCJ8XFxzKj1cXHMqJ1teJ10qJ3xcXHMqPVxccypbXlxcc1wiJz08PmBdKyk/LztcbiAgaW5saW5lLnRhZyA9IGVkaXQkMShpbmxpbmUudGFnKS5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIGlubGluZS5fYXR0cmlidXRlKS5nZXRSZWdleCgpO1xuICBpbmxpbmUuX2xhYmVsID0gLyg/OlxcW1teXFxbXFxdXSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG4gIGlubGluZS5faHJlZiA9IC88KD86XFxcXFs8Pl0/fFteXFxzPD5cXFxcXSkqPnxbXlxcc1xceDAwLVxceDFmXSovO1xuICBpbmxpbmUuX3RpdGxlID0gL1wiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCcoPzpcXFxcJz98W14nXFxcXF0pKid8XFwoKD86XFxcXFxcKT98W14pXFxcXF0pKlxcKS87XG4gIGlubGluZS5saW5rID0gZWRpdCQxKGlubGluZS5saW5rKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLnJlcGxhY2UoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpLnJlcGxhY2UoJ3RpdGxlJywgaW5saW5lLl90aXRsZSkuZ2V0UmVnZXgoKTtcbiAgaW5saW5lLnJlZmxpbmsgPSBlZGl0JDEoaW5saW5lLnJlZmxpbmspLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbCkuZ2V0UmVnZXgoKTtcbiAgLyoqXG4gICAqIE5vcm1hbCBJbmxpbmUgR3JhbW1hclxuICAgKi9cblxuICBpbmxpbmUubm9ybWFsID0gbWVyZ2UkMSh7fSwgaW5saW5lKTtcbiAgLyoqXG4gICAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gICAqL1xuXG4gIGlubGluZS5wZWRhbnRpYyA9IG1lcmdlJDEoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgICBzdHJvbmc6IC9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLFxuICAgIGVtOiAvXl8oPz1cXFMpKFtcXHNcXFNdKj9cXFMpXyg/IV8pfF5cXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKS8sXG4gICAgbGluazogZWRpdCQxKC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKS5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpLmdldFJlZ2V4KCksXG4gICAgcmVmbGluazogZWRpdCQxKC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbCkuZ2V0UmVnZXgoKVxuICB9KTtcbiAgLyoqXG4gICAqIEdGTSBJbmxpbmUgR3JhbW1hclxuICAgKi9cblxuICBpbmxpbmUuZ2ZtID0gbWVyZ2UkMSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICAgIGVzY2FwZTogZWRpdCQxKGlubGluZS5lc2NhcGUpLnJlcGxhY2UoJ10pJywgJ358XSknKS5nZXRSZWdleCgpLFxuICAgIF9leHRlbmRlZF9lbWFpbDogL1tBLVphLXowLTkuXystXSsoQClbYS16QS1aMC05LV9dKyg/OlxcLlthLXpBLVowLTktX10qW2EtekEtWjAtOV0pKyg/IVstX10pLyxcbiAgICB1cmw6IC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLyxcbiAgICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqX34oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqX34pXSsoPyEkKSkrLyxcbiAgICBkZWw6IC9efisoPz1cXFMpKFtcXHNcXFNdKj9cXFMpfisvLFxuICAgIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSl8KD89IHsyLH1cXG58W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkvXG4gIH0pO1xuICBpbmxpbmUuZ2ZtLnVybCA9IGVkaXQkMShpbmxpbmUuZ2ZtLnVybCwgJ2knKS5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5nZm0uX2V4dGVuZGVkX2VtYWlsKS5nZXRSZWdleCgpO1xuICAvKipcbiAgICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAgICovXG5cbiAgaW5saW5lLmJyZWFrcyA9IG1lcmdlJDEoe30sIGlubGluZS5nZm0sIHtcbiAgICBicjogZWRpdCQxKGlubGluZS5icikucmVwbGFjZSgnezIsfScsICcqJykuZ2V0UmVnZXgoKSxcbiAgICB0ZXh0OiBlZGl0JDEoaW5saW5lLmdmbS50ZXh0KS5yZXBsYWNlKCdcXFxcYl8nLCAnXFxcXGJffCB7Mix9XFxcXG4nKS5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpLmdldFJlZ2V4KClcbiAgfSk7XG4gIHZhciBydWxlcyA9IHtcbiAgICBibG9jazogYmxvY2ssXG4gICAgaW5saW5lOiBpbmxpbmVcbiAgfTtcblxuICB2YXIgZGVmYXVsdHMkMiA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgYmxvY2skMSA9IHJ1bGVzLmJsb2NrLFxuICAgICAgaW5saW5lJDEgPSBydWxlcy5pbmxpbmU7XG4gIC8qKlxuICAgKiBzbWFydHlwYW50cyB0ZXh0IHJlcGxhY2VtZW50XG4gICAqL1xuXG4gIGZ1bmN0aW9uIHNtYXJ0eXBhbnRzKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dCAvLyBlbS1kYXNoZXNcbiAgICAucmVwbGFjZSgvLS0tL2csIFwiXFx1MjAxNFwiKSAvLyBlbi1kYXNoZXNcbiAgICAucmVwbGFjZSgvLS0vZywgXCJcXHUyMDEzXCIpIC8vIG9wZW5pbmcgc2luZ2xlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcIlxcc10pJy9nLCBcIiQxXFx1MjAxOFwiKSAvLyBjbG9zaW5nIHNpbmdsZXMgJiBhcG9zdHJvcGhlc1xuICAgIC5yZXBsYWNlKC8nL2csIFwiXFx1MjAxOVwiKSAvLyBvcGVuaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XFx1MjAxOFxcc10pXCIvZywgXCIkMVxcdTIwMUNcIikgLy8gY2xvc2luZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoL1wiL2csIFwiXFx1MjAxRFwiKSAvLyBlbGxpcHNlc1xuICAgIC5yZXBsYWNlKC9cXC57M30vZywgXCJcXHUyMDI2XCIpO1xuICB9XG4gIC8qKlxuICAgKiBtYW5nbGUgZW1haWwgYWRkcmVzc2VzXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbWFuZ2xlKHRleHQpIHtcbiAgICB2YXIgb3V0ID0gJycsXG4gICAgICAgIGksXG4gICAgICAgIGNoO1xuICAgIHZhciBsID0gdGV4dC5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcblxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgY2ggPSAneCcgKyBjaC50b1N0cmluZygxNik7XG4gICAgICB9XG5cbiAgICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvKipcbiAgICogQmxvY2sgTGV4ZXJcbiAgICovXG5cblxuICB2YXIgTGV4ZXJfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGV4ZXIob3B0aW9ucykge1xuICAgICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICAgIHRoaXMudG9rZW5zLmxpbmtzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkMjtcbiAgICAgIHRoaXMub3B0aW9ucy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyIHx8IG5ldyBUb2tlbml6ZXJfMSgpO1xuICAgICAgdGhpcy50b2tlbml6ZXIgPSB0aGlzLm9wdGlvbnMudG9rZW5pemVyO1xuICAgICAgdGhpcy50b2tlbml6ZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHZhciBydWxlcyA9IHtcbiAgICAgICAgYmxvY2s6IGJsb2NrJDEubm9ybWFsLFxuICAgICAgICBpbmxpbmU6IGlubGluZSQxLm5vcm1hbFxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICBydWxlcy5ibG9jayA9IGJsb2NrJDEucGVkYW50aWM7XG4gICAgICAgIHJ1bGVzLmlubGluZSA9IGlubGluZSQxLnBlZGFudGljO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgICAgIHJ1bGVzLmJsb2NrID0gYmxvY2skMS5nZm07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgICAgICBydWxlcy5pbmxpbmUgPSBpbmxpbmUkMS5icmVha3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcnVsZXMuaW5saW5lID0gaW5saW5lJDEuZ2ZtO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5pemVyLnJ1bGVzID0gcnVsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cG9zZSBSdWxlc1xuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgTGV4IE1ldGhvZFxuICAgICAqL1xuICAgIExleGVyLmxleCA9IGZ1bmN0aW9uIGxleChzcmMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgICAgIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIDtcblxuICAgIHZhciBfcHJvdG8gPSBMZXhlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8ubGV4ID0gZnVuY3Rpb24gbGV4KHNyYykge1xuICAgICAgc3JjID0gc3JjLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpO1xuICAgICAgdGhpcy5ibG9ja1Rva2VucyhzcmMsIHRoaXMudG9rZW5zLCB0cnVlKTtcbiAgICAgIHRoaXMuaW5saW5lKHRoaXMudG9rZW5zKTtcbiAgICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGV4aW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmJsb2NrVG9rZW5zID0gZnVuY3Rpb24gYmxvY2tUb2tlbnMoc3JjLCB0b2tlbnMsIHRvcCkge1xuICAgICAgaWYgKHRva2VucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRva2VucyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9wID09PSB2b2lkIDApIHtcbiAgICAgICAgdG9wID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKTtcbiAgICAgIHZhciB0b2tlbiwgaSwgbCwgbGFzdFRva2VuO1xuXG4gICAgICB3aGlsZSAoc3JjKSB7XG4gICAgICAgIC8vIG5ld2xpbmVcbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuc3BhY2Uoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGNvZGVcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmNvZGUoc3JjLCB0b2tlbnMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhc3RUb2tlbiA9IHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsYXN0VG9rZW4ucmF3ICs9ICdcXG4nICsgdG9rZW4ucmF3O1xuICAgICAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyB0b2tlbi50ZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGZlbmNlc1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZmVuY2VzKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBoZWFkaW5nXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5oZWFkaW5nKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLm5wdGFibGUoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGhyXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5ocihzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gYmxvY2txdW90ZVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmJsb2NrVG9rZW5zKHRva2VuLnRleHQsIFtdLCB0b3ApO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBsaXN0XG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5saXN0KHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIGwgPSB0b2tlbi5pdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbi5pdGVtc1tpXS50b2tlbnMgPSB0aGlzLmJsb2NrVG9rZW5zKHRva2VuLml0ZW1zW2ldLnRleHQsIFtdLCBmYWxzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGh0bWxcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLmh0bWwoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGRlZlxuXG5cbiAgICAgICAgaWYgKHRvcCAmJiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWYoc3JjKSkpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLnRva2Vucy5saW5rc1t0b2tlbi50YWddKSB7XG4gICAgICAgICAgICB0aGlzLnRva2Vucy5saW5rc1t0b2tlbi50YWddID0ge1xuICAgICAgICAgICAgICBocmVmOiB0b2tlbi5ocmVmLFxuICAgICAgICAgICAgICB0aXRsZTogdG9rZW4udGl0bGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGFibGUgKGdmbSlcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRhYmxlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBsaGVhZGluZ1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGhlYWRpbmcoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcblxuXG4gICAgICAgIGlmICh0b3AgJiYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIucGFyYWdyYXBoKHNyYykpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGV4dFxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIudGV4dChzcmMsIHRva2VucykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdFRva2VuID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxhc3RUb2tlbi5yYXcgKz0gJ1xcbicgKyB0b2tlbi5yYXc7XG4gICAgICAgICAgICBsYXN0VG9rZW4udGV4dCArPSAnXFxuJyArIHRva2VuLnRleHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgdmFyIGVyck1zZyA9ICdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcblxuICAgIF9wcm90by5pbmxpbmUgPSBmdW5jdGlvbiBpbmxpbmUodG9rZW5zKSB7XG4gICAgICB2YXIgaSwgaiwgaywgbDIsIHJvdywgdG9rZW47XG4gICAgICB2YXIgbCA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSAncGFyYWdyYXBoJzpcbiAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICBjYXNlICdoZWFkaW5nJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9rZW4udG9rZW5zID0gW107XG4gICAgICAgICAgICAgIHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIHRva2VuLnRva2Vucyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b2tlbi50b2tlbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyOiBbXSxcbiAgICAgICAgICAgICAgICBjZWxsczogW11cbiAgICAgICAgICAgICAgfTsgLy8gaGVhZGVyXG5cbiAgICAgICAgICAgICAgbDIgPSB0b2tlbi5oZWFkZXIubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4udG9rZW5zLmhlYWRlcltqXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLmhlYWRlcltqXSwgdG9rZW4udG9rZW5zLmhlYWRlcltqXSk7XG4gICAgICAgICAgICAgIH0gLy8gY2VsbHNcblxuXG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBsMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gdG9rZW4uY2VsbHNbal07XG4gICAgICAgICAgICAgICAgdG9rZW4udG9rZW5zLmNlbGxzW2pdID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcm93Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbi50b2tlbnMuY2VsbHNbal1ba10gPSBbXTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lVG9rZW5zKHJvd1trXSwgdG9rZW4udG9rZW5zLmNlbGxzW2pdW2tdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2Jsb2NrcXVvdGUnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aGlzLmlubGluZSh0b2tlbi50b2tlbnMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLml0ZW1zLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5saW5lKHRva2VuLml0ZW1zW2pdLnRva2Vucyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMZXhpbmcvQ29tcGlsaW5nXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLmlubGluZVRva2VucyA9IGZ1bmN0aW9uIGlubGluZVRva2VucyhzcmMsIHRva2VucywgaW5MaW5rLCBpblJhd0Jsb2NrKSB7XG4gICAgICBpZiAodG9rZW5zID09PSB2b2lkIDApIHtcbiAgICAgICAgdG9rZW5zID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmIChpbkxpbmsgPT09IHZvaWQgMCkge1xuICAgICAgICBpbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGluUmF3QmxvY2sgPT09IHZvaWQgMCkge1xuICAgICAgICBpblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB0b2tlbjtcblxuICAgICAgd2hpbGUgKHNyYykge1xuICAgICAgICAvLyBlc2NhcGVcbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuZXNjYXBlKHNyYykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB0YWdcblxuXG4gICAgICAgIGlmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnRhZyhzcmMsIGluTGluaywgaW5SYXdCbG9jaykpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIGluTGluayA9IHRva2VuLmluTGluaztcbiAgICAgICAgICBpblJhd0Jsb2NrID0gdG9rZW4uaW5SYXdCbG9jaztcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gbGlua1xuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIubGluayhzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnbGluaycpIHtcbiAgICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCB0cnVlLCBpblJhd0Jsb2NrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gcmVmbGluaywgbm9saW5rXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5yZWZsaW5rKHNyYywgdGhpcy50b2tlbnMubGlua3MpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcblxuICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAnbGluaycpIHtcbiAgICAgICAgICAgIHRva2VuLnRva2VucyA9IHRoaXMuaW5saW5lVG9rZW5zKHRva2VuLnRleHQsIFtdLCB0cnVlLCBpblJhd0Jsb2NrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gc3Ryb25nXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5zdHJvbmcoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIGluTGluaywgaW5SYXdCbG9jayk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGVtXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5lbShzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbi50b2tlbnMgPSB0aGlzLmlubGluZVRva2Vucyh0b2tlbi50ZXh0LCBbXSwgaW5MaW5rLCBpblJhd0Jsb2NrKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gY29kZVxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuY29kZXNwYW4oc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGJyXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5icihzcmMpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gZGVsIChnZm0pXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5kZWwoc3JjKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW4udG9rZW5zID0gdGhpcy5pbmxpbmVUb2tlbnModG9rZW4udGV4dCwgW10sIGluTGluaywgaW5SYXdCbG9jayk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IC8vIGF1dG9saW5rXG5cblxuICAgICAgICBpZiAodG9rZW4gPSB0aGlzLnRva2VuaXplci5hdXRvbGluayhzcmMsIG1hbmdsZSkpIHtcbiAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKHRva2VuLnJhdy5sZW5ndGgpO1xuICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyB1cmwgKGdmbSlcblxuXG4gICAgICAgIGlmICghaW5MaW5rICYmICh0b2tlbiA9IHRoaXMudG9rZW5pemVyLnVybChzcmMsIG1hbmdsZSkpKSB7XG4gICAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyh0b2tlbi5yYXcubGVuZ3RoKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gdGV4dFxuXG5cbiAgICAgICAgaWYgKHRva2VuID0gdGhpcy50b2tlbml6ZXIuaW5saW5lVGV4dChzcmMsIGluUmF3QmxvY2ssIHNtYXJ0eXBhbnRzKSkge1xuICAgICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcodG9rZW4ucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIHZhciBlcnJNc2cgPSAnSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTGV4ZXIsIG51bGwsIFt7XG4gICAgICBrZXk6IFwicnVsZXNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJsb2NrOiBibG9jayQxLFxuICAgICAgICAgIGlubGluZTogaW5saW5lJDFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTGV4ZXI7XG4gIH0oKTtcblxuICB2YXIgZGVmYXVsdHMkMyA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuICB2YXIgY2xlYW5VcmwkMSA9IGhlbHBlcnMuY2xlYW5VcmwsXG4gICAgICBlc2NhcGUkMSA9IGhlbHBlcnMuZXNjYXBlO1xuICAvKipcbiAgICogUmVuZGVyZXJcbiAgICovXG5cbiAgdmFyIFJlbmRlcmVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkMztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmNvZGUgPSBmdW5jdGlvbiBjb2RlKF9jb2RlLCBpbmZvc3RyaW5nLCBlc2NhcGVkKSB7XG4gICAgICB2YXIgbGFuZyA9IChpbmZvc3RyaW5nIHx8ICcnKS5tYXRjaCgvXFxTKi8pWzBdO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgICAgICB2YXIgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChfY29kZSwgbGFuZyk7XG5cbiAgICAgICAgaWYgKG91dCAhPSBudWxsICYmIG91dCAhPT0gX2NvZGUpIHtcbiAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICBfY29kZSA9IG91dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWxhbmcpIHtcbiAgICAgICAgcmV0dXJuICc8cHJlPjxjb2RlPicgKyAoZXNjYXBlZCA/IF9jb2RlIDogZXNjYXBlJDEoX2NvZGUsIHRydWUpKSArICc8L2NvZGU+PC9wcmU+XFxuJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwiJyArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4ICsgZXNjYXBlJDEobGFuZywgdHJ1ZSkgKyAnXCI+JyArIChlc2NhcGVkID8gX2NvZGUgOiBlc2NhcGUkMShfY29kZSwgdHJ1ZSkpICsgJzwvY29kZT48L3ByZT5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYmxvY2txdW90ZSA9IGZ1bmN0aW9uIGJsb2NrcXVvdGUocXVvdGUpIHtcbiAgICAgIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaHRtbCA9IGZ1bmN0aW9uIGh0bWwoX2h0bWwpIHtcbiAgICAgIHJldHVybiBfaHRtbDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhlYWRpbmcgPSBmdW5jdGlvbiBoZWFkaW5nKHRleHQsIGxldmVsLCByYXcsIHNsdWdnZXIpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGVhZGVySWRzKSB7XG4gICAgICAgIHJldHVybiAnPGgnICsgbGV2ZWwgKyAnIGlkPVwiJyArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXggKyBzbHVnZ2VyLnNsdWcocmF3KSArICdcIj4nICsgdGV4dCArICc8L2gnICsgbGV2ZWwgKyAnPlxcbic7XG4gICAgICB9IC8vIGlnbm9yZSBJRHNcblxuXG4gICAgICByZXR1cm4gJzxoJyArIGxldmVsICsgJz4nICsgdGV4dCArICc8L2gnICsgbGV2ZWwgKyAnPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5ociA9IGZ1bmN0aW9uIGhyKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5saXN0ID0gZnVuY3Rpb24gbGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCkge1xuICAgICAgdmFyIHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCcsXG4gICAgICAgICAgc3RhcnRhdHQgPSBvcmRlcmVkICYmIHN0YXJ0ICE9PSAxID8gJyBzdGFydD1cIicgKyBzdGFydCArICdcIicgOiAnJztcbiAgICAgIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by5saXN0aXRlbSA9IGZ1bmN0aW9uIGxpc3RpdGVtKHRleHQpIHtcbiAgICAgIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNoZWNrYm94ID0gZnVuY3Rpb24gY2hlY2tib3goY2hlY2tlZCkge1xuICAgICAgcmV0dXJuICc8aW5wdXQgJyArIChjaGVja2VkID8gJ2NoZWNrZWQ9XCJcIiAnIDogJycpICsgJ2Rpc2FibGVkPVwiXCIgdHlwZT1cImNoZWNrYm94XCInICsgKHRoaXMub3B0aW9ucy54aHRtbCA/ICcgLycgOiAnJykgKyAnPiAnO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucGFyYWdyYXBoID0gZnVuY3Rpb24gcGFyYWdyYXBoKHRleHQpIHtcbiAgICAgIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by50YWJsZSA9IGZ1bmN0aW9uIHRhYmxlKGhlYWRlciwgYm9keSkge1xuICAgICAgaWYgKGJvZHkpIGJvZHkgPSAnPHRib2R5PicgKyBib2R5ICsgJzwvdGJvZHk+JztcbiAgICAgIHJldHVybiAnPHRhYmxlPlxcbicgKyAnPHRoZWFkPlxcbicgKyBoZWFkZXIgKyAnPC90aGVhZD5cXG4nICsgYm9keSArICc8L3RhYmxlPlxcbic7XG4gICAgfTtcblxuICAgIF9wcm90by50YWJsZXJvdyA9IGZ1bmN0aW9uIHRhYmxlcm93KGNvbnRlbnQpIHtcbiAgICAgIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRhYmxlY2VsbCA9IGZ1bmN0aW9uIHRhYmxlY2VsbChjb250ZW50LCBmbGFncykge1xuICAgICAgdmFyIHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgICAgIHZhciB0YWcgPSBmbGFncy5hbGlnbiA/ICc8JyArIHR5cGUgKyAnIGFsaWduPVwiJyArIGZsYWdzLmFsaWduICsgJ1wiPicgOiAnPCcgKyB0eXBlICsgJz4nO1xuICAgICAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbiAgICB9IC8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcbiAgICA7XG5cbiAgICBfcHJvdG8uc3Ryb25nID0gZnVuY3Rpb24gc3Ryb25nKHRleHQpIHtcbiAgICAgIHJldHVybiAnPHN0cm9uZz4nICsgdGV4dCArICc8L3N0cm9uZz4nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW0gPSBmdW5jdGlvbiBlbSh0ZXh0KSB7XG4gICAgICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG4gICAgfTtcblxuICAgIF9wcm90by5jb2Rlc3BhbiA9IGZ1bmN0aW9uIGNvZGVzcGFuKHRleHQpIHtcbiAgICAgIHJldHVybiAnPGNvZGU+JyArIHRleHQgKyAnPC9jb2RlPic7XG4gICAgfTtcblxuICAgIF9wcm90by5iciA9IGZ1bmN0aW9uIGJyKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8YnIvPicgOiAnPGJyPic7XG4gICAgfTtcblxuICAgIF9wcm90by5kZWwgPSBmdW5jdGlvbiBkZWwodGV4dCkge1xuICAgICAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG4gICAgfTtcblxuICAgIF9wcm90by5saW5rID0gZnVuY3Rpb24gbGluayhocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgaHJlZiA9IGNsZWFuVXJsJDEodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG5cbiAgICAgIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgZXNjYXBlJDEoaHJlZikgKyAnXCInO1xuXG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICAgICAgfVxuXG4gICAgICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+JztcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIF9wcm90by5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICBocmVmID0gY2xlYW5VcmwkMSh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcblxuICAgICAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXQgPSAnPGltZyBzcmM9XCInICsgaHJlZiArICdcIiBhbHQ9XCInICsgdGV4dCArICdcIic7XG5cbiAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gICAgICB9XG5cbiAgICAgIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRleHQgPSBmdW5jdGlvbiB0ZXh0KF90ZXh0KSB7XG4gICAgICByZXR1cm4gX3RleHQ7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJlcjtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBUZXh0UmVuZGVyZXJcbiAgICogcmV0dXJucyBvbmx5IHRoZSB0ZXh0dWFsIHBhcnQgb2YgdGhlIHRva2VuXG4gICAqL1xuICB2YXIgVGV4dFJlbmRlcmVyXzEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRleHRSZW5kZXJlcigpIHt9XG5cbiAgICB2YXIgX3Byb3RvID0gVGV4dFJlbmRlcmVyLnByb3RvdHlwZTtcblxuICAgIC8vIG5vIG5lZWQgZm9yIGJsb2NrIGxldmVsIHJlbmRlcmVyc1xuICAgIF9wcm90by5zdHJvbmcgPSBmdW5jdGlvbiBzdHJvbmcodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIF9wcm90by5lbSA9IGZ1bmN0aW9uIGVtKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29kZXNwYW4gPSBmdW5jdGlvbiBjb2Rlc3Bhbih0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlbCA9IGZ1bmN0aW9uIGRlbCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmh0bWwgPSBmdW5jdGlvbiBodG1sKHRleHQpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8udGV4dCA9IGZ1bmN0aW9uIHRleHQoX3RleHQpIHtcbiAgICAgIHJldHVybiBfdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmxpbmsgPSBmdW5jdGlvbiBsaW5rKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gJycgKyB0ZXh0O1xuICAgIH07XG5cbiAgICBfcHJvdG8uaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZShocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgcmV0dXJuICcnICsgdGV4dDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmJyID0gZnVuY3Rpb24gYnIoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0UmVuZGVyZXI7XG4gIH0oKTtcblxuICAvKipcbiAgICogU2x1Z2dlciBnZW5lcmF0ZXMgaGVhZGVyIGlkXG4gICAqL1xuICB2YXIgU2x1Z2dlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTbHVnZ2VyKCkge1xuICAgICAgdGhpcy5zZWVuID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc3RyaW5nIHRvIHVuaXF1ZSBpZFxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gU2x1Z2dlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2x1ZyA9IGZ1bmN0aW9uIHNsdWcodmFsdWUpIHtcbiAgICAgIHZhciBzbHVnID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgLy8gcmVtb3ZlIGh0bWwgdGFnc1xuICAgICAgLnJlcGxhY2UoLzxbIVxcL2Etel0uKj8+L2lnLCAnJykgLy8gcmVtb3ZlIHVud2FudGVkIGNoYXJzXG4gICAgICAucmVwbGFjZSgvW1xcdTIwMDAtXFx1MjA2RlxcdTJFMDAtXFx1MkU3RlxcXFwnIVwiIyQlJigpKissLi86Ozw9Pj9AW1xcXV5ge3x9fl0vZywgJycpLnJlcGxhY2UoL1xccy9nLCAnLScpO1xuXG4gICAgICBpZiAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFNsdWcgPSBzbHVnO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXSsrO1xuICAgICAgICAgIHNsdWcgPSBvcmlnaW5hbFNsdWcgKyAnLScgKyB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWVuW3NsdWddID0gMDtcbiAgICAgIHJldHVybiBzbHVnO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2x1Z2dlcjtcbiAgfSgpO1xuXG4gIHZhciBkZWZhdWx0cyQ0ID0gZGVmYXVsdHMuZGVmYXVsdHM7XG4gIHZhciB1bmVzY2FwZSQxID0gaGVscGVycy51bmVzY2FwZTtcbiAgLyoqXG4gICAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAgICovXG5cbiAgdmFyIFBhcnNlcl8xID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJzZXIob3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQ0O1xuICAgICAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcl8xKCk7XG4gICAgICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyO1xuICAgICAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdGhpcy50ZXh0UmVuZGVyZXIgPSBuZXcgVGV4dFJlbmRlcmVyXzEoKTtcbiAgICAgIHRoaXMuc2x1Z2dlciA9IG5ldyBTbHVnZ2VyXzEoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIFBhcnNlIE1ldGhvZFxuICAgICAqL1xuXG5cbiAgICBQYXJzZXIucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSh0b2tlbnMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZSh0b2tlbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBMb29wXG4gICAgICovXG4gICAgO1xuXG4gICAgdmFyIF9wcm90byA9IFBhcnNlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8ucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSh0b2tlbnMsIHRvcCkge1xuICAgICAgaWYgKHRvcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRvcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXQgPSAnJyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGosXG4gICAgICAgICAgayxcbiAgICAgICAgICBsMixcbiAgICAgICAgICBsMyxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICB0b2tlbixcbiAgICAgICAgICBvcmRlcmVkLFxuICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgIGxvb3NlLFxuICAgICAgICAgIGl0ZW1Cb2R5LFxuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICB0YXNrLFxuICAgICAgICAgIGNoZWNrYm94O1xuICAgICAgdmFyIGwgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3NwYWNlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdocic6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmhyKCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaGVhZGluZyc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmhlYWRpbmcodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpLCB0b2tlbi5kZXB0aCwgdW5lc2NhcGUkMSh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucywgdGhpcy50ZXh0UmVuZGVyZXIpKSwgdGhpcy5zbHVnZ2VyKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdjb2RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZSh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCB0b2tlbi5lc2NhcGVkKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGhlYWRlciA9ICcnOyAvLyBoZWFkZXJcblxuICAgICAgICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uaGVhZGVyLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMuaGVhZGVyW2pdKSwge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYWxpZ246IHRva2VuLmFsaWduW2pdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBoZWFkZXIgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgICAgICAgICAgYm9keSA9ICcnO1xuICAgICAgICAgICAgICBsMiA9IHRva2VuLmNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbDI7IGorKykge1xuICAgICAgICAgICAgICAgIHJvdyA9IHRva2VuLnRva2Vucy5jZWxsc1tqXTtcbiAgICAgICAgICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgICAgICAgICAgbDMgPSByb3cubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGwzOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwodGhpcy5wYXJzZUlubGluZShyb3dba10pLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiB0b2tlbi5hbGlnbltrXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIudGFibGUoaGVhZGVyLCBib2R5KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYm9keSA9IHRoaXMucGFyc2UodG9rZW4udG9rZW5zKTtcbiAgICAgICAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3JkZXJlZCA9IHRva2VuLm9yZGVyZWQ7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gdG9rZW4uc3RhcnQ7XG4gICAgICAgICAgICAgIGxvb3NlID0gdG9rZW4ubG9vc2U7XG4gICAgICAgICAgICAgIGwyID0gdG9rZW4uaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICBib2R5ID0gJyc7XG5cbiAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gdG9rZW4uaXRlbXNbal07XG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IGl0ZW0uY2hlY2tlZDtcbiAgICAgICAgICAgICAgICB0YXNrID0gaXRlbS50YXNrO1xuICAgICAgICAgICAgICAgIGl0ZW1Cb2R5ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50YXNrKSB7XG4gICAgICAgICAgICAgICAgICBjaGVja2JveCA9IHRoaXMucmVuZGVyZXIuY2hlY2tib3goY2hlY2tlZCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50ZXh0ID0gY2hlY2tib3ggKyAnICcgKyBpdGVtLnRva2Vuc1swXS50ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9rZW5zWzBdLnRva2VucyAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnMubGVuZ3RoID4gMCAmJiBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRva2Vuc1swXS50b2tlbnNbMF0udGV4dCA9IGNoZWNrYm94ICsgJyAnICsgaXRlbS50b2tlbnNbMF0udG9rZW5zWzBdLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG9rZW5zLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gY2hlY2tib3g7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXRlbUJvZHkgKz0gdGhpcy5wYXJzZShpdGVtLnRva2VucywgbG9vc2UpO1xuICAgICAgICAgICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci5saXN0aXRlbShpdGVtQm9keSwgdGFzaywgY2hlY2tlZCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gVE9ETyBwYXJzZSBpbmxpbmUgY29udGVudCBpZiBwYXJhbWV0ZXIgbWFya2Rvd249MVxuICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5odG1sKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3BhcmFncmFwaCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlSW5saW5lKHRva2VuLnRva2VucykpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBib2R5ID0gdG9rZW4udG9rZW5zID8gdGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMpIDogdG9rZW4udGV4dDtcblxuICAgICAgICAgICAgICB3aGlsZSAoaSArIDEgPCBsICYmIHRva2Vuc1tpICsgMV0udHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbKytpXTtcbiAgICAgICAgICAgICAgICBib2R5ICs9ICdcXG4nICsgKHRva2VuLnRva2VucyA/IHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zKSA6IHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb3V0ICs9IHRvcCA/IHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKGJvZHkpIDogYm9keTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YXIgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdG9rZW4udHlwZSArICdcIiB0eXBlIHdhcyBub3QgZm91bmQuJztcblxuICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBJbmxpbmUgVG9rZW5zXG4gICAgICovXG4gICAgO1xuXG4gICAgX3Byb3RvLnBhcnNlSW5saW5lID0gZnVuY3Rpb24gcGFyc2VJbmxpbmUodG9rZW5zLCByZW5kZXJlcikge1xuICAgICAgcmVuZGVyZXIgPSByZW5kZXJlciB8fCB0aGlzLnJlbmRlcmVyO1xuICAgICAgdmFyIG91dCA9ICcnLFxuICAgICAgICAgIGksXG4gICAgICAgICAgdG9rZW47XG4gICAgICB2YXIgbCA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZXNjYXBlJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb3V0ICs9IHJlbmRlcmVyLnRleHQodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5odG1sKHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIubGluayh0b2tlbi5ocmVmLCB0b2tlbi50aXRsZSwgdGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuaW1hZ2UodG9rZW4uaHJlZiwgdG9rZW4udGl0bGUsIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3N0cm9uZyc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG91dCArPSByZW5kZXJlci5zdHJvbmcodGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZW0nOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuZW0odGhpcy5wYXJzZUlubGluZSh0b2tlbi50b2tlbnMsIHJlbmRlcmVyKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnY29kZXNwYW4nOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuY29kZXNwYW4odG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnYnInOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuYnIoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdkZWwnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIuZGVsKHRoaXMucGFyc2VJbmxpbmUodG9rZW4udG9rZW5zLCByZW5kZXJlcikpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvdXQgKz0gcmVuZGVyZXIudGV4dCh0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB2YXIgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdG9rZW4udHlwZSArICdcIiB0eXBlIHdhcyBub3QgZm91bmQuJztcblxuICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFyc2VyO1xuICB9KCk7XG5cbiAgdmFyIG1lcmdlJDIgPSBoZWxwZXJzLm1lcmdlLFxuICAgICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uJDEgPSBoZWxwZXJzLmNoZWNrU2FuaXRpemVEZXByZWNhdGlvbixcbiAgICAgIGVzY2FwZSQyID0gaGVscGVycy5lc2NhcGU7XG4gIHZhciBnZXREZWZhdWx0cyA9IGRlZmF1bHRzLmdldERlZmF1bHRzLFxuICAgICAgY2hhbmdlRGVmYXVsdHMgPSBkZWZhdWx0cy5jaGFuZ2VEZWZhdWx0cyxcbiAgICAgIGRlZmF1bHRzJDUgPSBkZWZhdWx0cy5kZWZhdWx0cztcbiAgLyoqXG4gICAqIE1hcmtlZFxuICAgKi9cblxuICBmdW5jdGlvbiBtYXJrZWQoc3JjLCBvcHQsIGNhbGxiYWNrKSB7XG4gICAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gICAgaWYgKHR5cGVvZiBzcmMgPT09ICd1bmRlZmluZWQnIHx8IHNyYyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHQ7XG4gICAgICBvcHQgPSBudWxsO1xuICAgIH1cblxuICAgIG9wdCA9IG1lcmdlJDIoe30sIG1hcmtlZC5kZWZhdWx0cywgb3B0IHx8IHt9KTtcbiAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24kMShvcHQpO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gb3B0LmhpZ2hsaWdodDtcbiAgICAgIHZhciB0b2tlbnM7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRva2VucyA9IExleGVyXzEubGV4KHNyYywgb3B0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUoZXJyKSB7XG4gICAgICAgIHZhciBvdXQ7XG5cbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0ID0gUGFyc2VyXzEucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVyciA9IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDtcbiAgICAgICAgcmV0dXJuIGVyciA/IGNhbGxiYWNrKGVycikgOiBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFoaWdobGlnaHQgfHwgaGlnaGxpZ2h0Lmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIG9wdC5oaWdobGlnaHQ7XG4gICAgICBpZiAoIXRva2Vucy5sZW5ndGgpIHJldHVybiBkb25lKCk7XG4gICAgICB2YXIgcGVuZGluZyA9IDA7XG4gICAgICBtYXJrZWQud2Fsa1Rva2Vucyh0b2tlbnMsIGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcGVuZGluZysrO1xuICAgICAgICAgIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbiAoZXJyLCBjb2RlKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2RlICE9IG51bGwgJiYgY29kZSAhPT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgICB0b2tlbi50ZXh0ID0gY29kZTtcbiAgICAgICAgICAgICAgdG9rZW4uZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlbmRpbmctLTtcblxuICAgICAgICAgICAgaWYgKHBlbmRpbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHBlbmRpbmcgPT09IDApIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfdG9rZW5zID0gTGV4ZXJfMS5sZXgoc3JjLCBvcHQpO1xuXG4gICAgICBpZiAob3B0LndhbGtUb2tlbnMpIHtcbiAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoX3Rva2Vucywgb3B0LndhbGtUb2tlbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUGFyc2VyXzEucGFyc2UoX3Rva2Vucywgb3B0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG5cbiAgICAgIGlmIChvcHQuc2lsZW50KSB7XG4gICAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+JyArIGVzY2FwZSQyKGUubWVzc2FnZSArICcnLCB0cnVlKSArICc8L3ByZT4nO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogT3B0aW9uc1xuICAgKi9cblxuXG4gIG1hcmtlZC5vcHRpb25zID0gbWFya2VkLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0KSB7XG4gICAgbWVyZ2UkMihtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gICAgY2hhbmdlRGVmYXVsdHMobWFya2VkLmRlZmF1bHRzKTtcbiAgICByZXR1cm4gbWFya2VkO1xuICB9O1xuXG4gIG1hcmtlZC5nZXREZWZhdWx0cyA9IGdldERlZmF1bHRzO1xuICBtYXJrZWQuZGVmYXVsdHMgPSBkZWZhdWx0cyQ1O1xuICAvKipcbiAgICogVXNlIEV4dGVuc2lvblxuICAgKi9cblxuICBtYXJrZWQudXNlID0gZnVuY3Rpb24gKGV4dGVuc2lvbikge1xuICAgIHZhciBvcHRzID0gbWVyZ2UkMih7fSwgZXh0ZW5zaW9uKTtcblxuICAgIGlmIChleHRlbnNpb24ucmVuZGVyZXIpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IG1hcmtlZC5kZWZhdWx0cy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXJfMSgpO1xuXG4gICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHByb3ApIHtcbiAgICAgICAgICB2YXIgcHJldlJlbmRlcmVyID0gcmVuZGVyZXJbcHJvcF07XG5cbiAgICAgICAgICByZW5kZXJlcltwcm9wXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmV0ID0gZXh0ZW5zaW9uLnJlbmRlcmVyW3Byb3BdLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcblxuICAgICAgICAgICAgaWYgKHJldCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0ID0gcHJldlJlbmRlcmVyLmFwcGx5KHJlbmRlcmVyLCBhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gZXh0ZW5zaW9uLnJlbmRlcmVyKSB7XG4gICAgICAgICAgX2xvb3AocHJvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICB9KSgpO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24udG9rZW5pemVyKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW5pemVyID0gbWFya2VkLmRlZmF1bHRzLnRva2VuaXplciB8fCBuZXcgVG9rZW5pemVyXzEoKTtcblxuICAgICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKHByb3ApIHtcbiAgICAgICAgICB2YXIgcHJldlRva2VuaXplciA9IHRva2VuaXplcltwcm9wXTtcblxuICAgICAgICAgIHRva2VuaXplcltwcm9wXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXQgPSBleHRlbnNpb24udG9rZW5pemVyW3Byb3BdLmFwcGx5KHRva2VuaXplciwgYXJncyk7XG5cbiAgICAgICAgICAgIGlmIChyZXQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldCA9IHByZXZUb2tlbml6ZXIuYXBwbHkodG9rZW5pemVyLCBhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gZXh0ZW5zaW9uLnRva2VuaXplcikge1xuICAgICAgICAgIF9sb29wMihwcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLndhbGtUb2tlbnMpIHtcbiAgICAgIHZhciB3YWxrVG9rZW5zID0gbWFya2VkLmRlZmF1bHRzLndhbGtUb2tlbnM7XG5cbiAgICAgIG9wdHMud2Fsa1Rva2VucyA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBleHRlbnNpb24ud2Fsa1Rva2Vucyh0b2tlbik7XG5cbiAgICAgICAgaWYgKHdhbGtUb2tlbnMpIHtcbiAgICAgICAgICB3YWxrVG9rZW5zKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBtYXJrZWQuc2V0T3B0aW9ucyhvcHRzKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJ1biBjYWxsYmFjayBmb3IgZXZlcnkgdG9rZW5cbiAgICovXG5cblxuICBtYXJrZWQud2Fsa1Rva2VucyA9IGZ1bmN0aW9uICh0b2tlbnMsIGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0b2tlbnMpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIHRva2VuID0gX3N0ZXAudmFsdWU7XG4gICAgICBjYWxsYmFjayh0b2tlbik7XG5cbiAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodG9rZW4udG9rZW5zLmhlYWRlciksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgIHZhciBjZWxsID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgICAgICBtYXJrZWQud2Fsa1Rva2VucyhjZWxsLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHRva2VuLnRva2Vucy5jZWxscyksIF9zdGVwMzsgIShfc3RlcDMgPSBfaXRlcmF0b3IzKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgIHZhciByb3cgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2Uocm93KSwgX3N0ZXA0OyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQoKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NlbGwgPSBfc3RlcDQudmFsdWU7XG4gICAgICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnMoX2NlbGwsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnModG9rZW4uaXRlbXMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50b2tlbnMpIHtcbiAgICAgICAgICAgICAgbWFya2VkLndhbGtUb2tlbnModG9rZW4udG9rZW5zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4cG9zZVxuICAgKi9cblxuXG4gIG1hcmtlZC5QYXJzZXIgPSBQYXJzZXJfMTtcbiAgbWFya2VkLnBhcnNlciA9IFBhcnNlcl8xLnBhcnNlO1xuICBtYXJrZWQuUmVuZGVyZXIgPSBSZW5kZXJlcl8xO1xuICBtYXJrZWQuVGV4dFJlbmRlcmVyID0gVGV4dFJlbmRlcmVyXzE7XG4gIG1hcmtlZC5MZXhlciA9IExleGVyXzE7XG4gIG1hcmtlZC5sZXhlciA9IExleGVyXzEubGV4O1xuICBtYXJrZWQuVG9rZW5pemVyID0gVG9rZW5pemVyXzE7XG4gIG1hcmtlZC5TbHVnZ2VyID0gU2x1Z2dlcl8xO1xuICBtYXJrZWQucGFyc2UgPSBtYXJrZWQ7XG4gIHZhciBtYXJrZWRfMSA9IG1hcmtlZDtcblxuICByZXR1cm4gbWFya2VkXzE7XG5cbn0pKSk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgQUdSRUVNRU5UX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRhcmdldD1cIl9ibGFua1wiPiUoYWdyZWVtZW50KXM8L2E+J1xuXG5jb25zdCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBlcnJvcnMsXG4gICAgcHJpdmFjeVBvbGljeSxcbiAgICB0ZXJtc09mU2VydmljZSxcbiAgICBvblByaXZhY3lQb2xpY3lDaGFuZ2UsXG4gICAgb25UZXJtc09mU2VydmljZUNoYW5nZVxuICB9ID0gcHJvcHNcblxuICBjb25zdCB0ZXJtc09mU2VydmljZUlkID0gbWlzYWdvLmdldChcIlRFUk1TX09GX1NFUlZJQ0VfSURcIilcbiAgY29uc3QgdGVybXNPZlNlcnZpY2VVcmwgPSBtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9VUkxcIilcblxuICBjb25zdCBwcml2YWN5UG9saWN5SWQgPSBtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIilcbiAgY29uc3QgcHJpdmFjeVBvbGljeVVybCA9IG1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9VUkxcIilcblxuICBpZiAoIXRlcm1zT2ZTZXJ2aWNlSWQgJiYgIXByaXZhY3lQb2xpY3lJZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8TGVnYWxBZ3JlZW1lbnRcbiAgICAgICAgYWdyZWVtZW50PXtnZXR0ZXh0KFwidGhlIHRlcm1zIG9mIHNlcnZpY2VcIil9XG4gICAgICAgIGNoZWNrZWQ9e3Rlcm1zT2ZTZXJ2aWNlICE9PSBudWxsfVxuICAgICAgICBlcnJvcnM9e2Vycm9ycy50ZXJtc09mU2VydmljZX1cbiAgICAgICAgdXJsPXt0ZXJtc09mU2VydmljZVVybH1cbiAgICAgICAgdmFsdWU9e3Rlcm1zT2ZTZXJ2aWNlSWR9XG4gICAgICAgIG9uQ2hhbmdlPXtvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlfVxuICAgICAgLz5cbiAgICAgIDxMZWdhbEFncmVlbWVudFxuICAgICAgICBhZ3JlZW1lbnQ9e2dldHRleHQoXCJ0aGUgcHJpdmFjeSBwb2xpY3lcIil9XG4gICAgICAgIGNoZWNrZWQ9e3ByaXZhY3lQb2xpY3kgIT09IG51bGx9XG4gICAgICAgIGVycm9ycz17ZXJyb3JzLnByaXZhY3lQb2xpY3l9XG4gICAgICAgIHVybD17cHJpdmFjeVBvbGljeVVybH1cbiAgICAgICAgdmFsdWU9e3ByaXZhY3lQb2xpY3lJZH1cbiAgICAgICAgb25DaGFuZ2U9e29uUHJpdmFjeVBvbGljeUNoYW5nZX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgTGVnYWxBZ3JlZW1lbnQgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHsgYWdyZWVtZW50LCBjaGVja2VkLCBlcnJvcnMsIHVybCwgdmFsdWUsIG9uQ2hhbmdlIH0gPSBwcm9wc1xuXG4gIGlmICghdXJsKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGFncmVlbWVudEh0bWwgPSBpbnRlcnBvbGF0ZShcbiAgICBBR1JFRU1FTlRfVVJMLFxuICAgIHsgYWdyZWVtZW50OiBlc2NhcGVIdG1sKGFncmVlbWVudCksIHVybDogZXNjYXBlSHRtbCh1cmwpIH0sXG4gICAgdHJ1ZVxuICApXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcIkkgaGF2ZSByZWFkIGFuZCBhY2NlcHQgJShhZ3JlZW1lbnQpcy5cIiksXG4gICAgeyBhZ3JlZW1lbnQ6IGFncmVlbWVudEh0bWwgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3ggbGVnYWwtZm9vdG5vdGVcIj5cbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbGFiZWwgfX0gLz5cbiAgICAgIDwvbGFiZWw+XG4gICAgICB7ZXJyb3JzICYmXG4gICAgICAgIGVycm9ycy5tYXAoKGVycm9yLCBpKSA9PiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIGVycm9yc1wiIGtleT17aX0+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdGVyTGVnYWxGb290bm90ZVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5jb25zdCBTdGFydFNvY2lhbEF1dGggPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBidXR0b25DbGFzc05hbWUsXG4gICAgYnV0dG9uTGFiZWwsXG4gICAgZm9ybUxhYmVsLFxuICAgIGhlYWRlcixcbiAgICBsYWJlbENsYXNzTmFtZVxuICB9ID0gcHJvcHNcbiAgY29uc3Qgc29jaWFsQXV0aCA9IG1pc2Fnby5nZXQoXCJTT0NJQUxfQVVUSFwiKVxuXG4gIGlmIChzb2NpYWxBdXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cCBmb3JtLXNvY2lhbC1hdXRoXCI+XG4gICAgICA8Rm9ybUhlYWRlciBjbGFzc05hbWU9e2xhYmVsQ2xhc3NOYW1lfSB0ZXh0PXtoZWFkZXJ9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7c29jaWFsQXV0aC5tYXAoKHsgaWQsIG5hbWUsIGJ1dHRvbl90ZXh0LCBidXR0b25fY29sb3IsIHVybCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gXCJidG4gYnRuLWJsb2NrIGJ0bi1kZWZhdWx0IGJ0bi1zb2NpYWwtXCIgKyBpZFxuICAgICAgICAgIGNvbnN0IHN0eWxlID0gYnV0dG9uX2NvbG9yID8ge2NvbG9yOiBidXR0b25fY29sb3J9IDogbnVsbFxuICAgICAgICAgIGNvbnN0IGZpbmFsQnV0dG9uTGFiZWwgPSBidXR0b25fdGV4dCB8fCBpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgIGJ1dHRvbkxhYmVsLFxuICAgICAgICAgICAgeyBzaXRlOiBuYW1lIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtidXR0b25DbGFzc05hbWUgfHwgXCJjb2wteHMtMTJcIn0ga2V5PXtpZH0+XG4gICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBzdHlsZT17c3R5bGV9IGhyZWY9e3VybH0+XG4gICAgICAgICAgICAgICAge2ZpbmFsQnV0dG9uTGFiZWx9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxociAvPlxuICAgICAgPEZvcm1IZWFkZXIgY2xhc3NOYW1lPXtsYWJlbENsYXNzTmFtZX0gdGV4dD17Zm9ybUxhYmVsfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IEZvcm1IZWFkZXIgPSAoeyBjbGFzc05hbWUsIHRleHQgfSkgPT4ge1xuICBpZiAoIXRleHQpIHJldHVybiBudWxsXG4gIHJldHVybiA8aDUgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgXCJcIn0+e3RleHR9PC9oNT5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhcnRTb2NpYWxBdXRoXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2VwdEFncmVlbWVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0geyBzdWJtaXRpbmc6IGZhbHNlIH1cbiAgfVxuXG4gIGhhbmRsZURlY2xpbmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3VibWl0aW5nKSByZXR1cm5cblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIkRlY2xpbmluZyB3aWxsIHJlc3VsdCBpbiBpbW1lZGlhdGUgZGVhY3RpdmF0aW9uIGFuZCBkZWxldGlvbiBvZiB5b3VyIGFjY291bnQuIFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlLlwiXG4gICAgICApXG4gICAgKVxuICAgIGlmICghY29uZmlybWF0aW9uKSByZXR1cm5cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzdWJtaXRpbmc6IHRydWUgfSlcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgeyBhY2NlcHQ6IGZhbHNlIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUFjY2VwdCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdWJtaXRpbmcpIHJldHVyblxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdGluZzogdHJ1ZSB9KVxuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCB7IGFjY2VwdDogdHJ1ZSB9KS50aGVuKCgpID0+IHtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN1Ym1pdGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRGVjbGluZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVjbGluZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN1Ym1pdGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQWNjZXB0fVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJBY2NlcHQgYW5kIGNvbnRpbnVlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzXCJcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6IFwiXCJcbiAgICB9XG4gIH1cblxuICBvblVzZXJuYW1lQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1c2VybmFtZVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHVzZXIgbmFtZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwicGFydGljaXBhbnRzXCIsIHZhbHVlOiB0aGlzLnN0YXRlLnVzZXJuYW1lIH0sXG4gICAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogMSB9XG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSlcbiAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJOZXcgcGFydGljaXBhbnQgaGFzIGJlZW4gYWRkZWQgdG8gdGhyZWFkLlwiKSlcblxuICAgIG1vZGFsLmhpZGUoKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cCBmb3I9XCJpZF91c2VybmFtZVwiIGxhYmVsPXtnZXR0ZXh0KFwiVXNlciB0byBhZGRcIil9PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Vc2VybmFtZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlZnJlc2goKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gIH1cblxuICBnZXRNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXG4gICAgICAgICAgXCJZb3UgaGF2ZSBzaWduZWQgaW4gYXMgJSh1c2VybmFtZSlzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIlxuICAgICAgICApLFxuICAgICAgICB7IHVzZXJuYW1lOiB0aGlzLnByb3BzLnNpZ25lZEluLnVzZXJuYW1lIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXG4gICAgICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdSBoYXZlIGJlZW4gc2lnbmVkIG91dC4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UgYmVmb3JlIGNvbnRpbnVpbmcuXCJcbiAgICAgICAgKSxcbiAgICAgICAgeyB1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiYXV0aC1tZXNzYWdlXCJcbiAgICBpZiAodGhpcy5wcm9wcy5zaWduZWRJbiB8fCB0aGlzLnByb3BzLnNpZ25lZE91dCkge1xuICAgICAgY2xhc3NOYW1lICs9IFwiIHNob3dcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVmcmVzaH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZWxvYWQgcGFnZVwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgICB7XCIgXCIgKyBnZXR0ZXh0KFwib3IgcHJlc3MgRjUga2V5LlwiKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXIsXG4gICAgc2lnbmVkSW46IHN0YXRlLmF1dGguc2lnbmVkSW4sXG4gICAgc2lnbmVkT3V0OiBzdGF0ZS5hdXRoLnNpZ25lZE91dFxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHNpemUgPSBwcm9wcy5zaXplIHx8IDEwMFxuICBjb25zdCBzaXplMnggPSBwcm9wcy5zaXplMnggfHwgc2l6ZVxuXG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgYWx0PVwiXCJcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwidXNlci1hdmF0YXJcIn1cbiAgICAgIHNyYz17Z2V0U3JjKHByb3BzLnVzZXIsIHNpemUpfVxuICAgICAgc3JjU2V0PXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZTJ4KX1cbiAgICAgIHdpZHRoPXtzaXplfVxuICAgICAgaGVpZ2h0PXtzaXplfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNyYyh1c2VyLCBzaXplKSB7XG4gIGlmICh1c2VyICYmIHVzZXIuaWQpIHtcbiAgICAvLyBqdXN0IGF2YXRhciBoYXNoLCBzaXplIGFuZCB1c2VyIGlkXG4gICAgcmV0dXJuIHJlc29sdmVBdmF0YXJGb3JTaXplKHVzZXIuYXZhdGFycywgc2l6ZSkudXJsXG4gIH0gZWxzZSB7XG4gICAgLy8ganVzdCBhcHBlbmQgYXZhdGFyIHNpemUgdG8gZmlsZSB0byBwcm9kdWNlIG5vLWF2YXRhciBwbGFjZWhvbGRlclxuICAgIHJldHVybiBtaXNhZ28uZ2V0KFwiQkxBTktfQVZBVEFSX1VSTFwiKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXZhdGFyRm9yU2l6ZShhdmF0YXJzLCBzaXplKSB7XG4gIGxldCBhdmF0YXIgPSBhdmF0YXJzWzBdXG4gIGF2YXRhcnMuZm9yRWFjaChhdiA9PiB7XG4gICAgaWYgKGF2LnNpemUgPj0gc2l6ZSkge1xuICAgICAgYXZhdGFyID0gYXZcbiAgICB9XG4gIH0pXG4gIHJldHVybiBhdmF0YXJcbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRSZWFzb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImxlYWRcIlxuICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMubWVzc2FnZS5odG1sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlLnBsYWlufTwvcD5cbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzIG9uICUoZXhwaXJlc19vbilzLlwiKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzX29uOiB0aGlzLnByb3BzLmV4cGlyZXMuZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzICUoZXhwaXJlc19vbilzLlwiKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzX29uOiB0aGlzLnByb3BzLmV4cGlyZXMuZnJvbU5vdygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT57bWVzc2FnZX08L2FiYnI+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGhhcyBleHBpcmVkLlwiKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGlzIHBlcm1hbmVudC5cIilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLWVycm9yIHBhZ2UtZXJyb3ItYmFubmVkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aGlnaGxpZ2h0X29mZjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0UmVhc29uTWVzc2FnZSgpfVxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWZvb3Rub3RlXCI+e3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiYnRuIFwiICsgdGhpcy5wcm9wcy5jbGFzc05hbWVcbiAgICBsZXQgZGlzYWJsZWQgPSB0aGlzLnByb3BzLmRpc2FibGVkXG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgYnRuLWxvYWRpbmdcIlxuICAgICAgZGlzYWJsZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPXt0aGlzLnByb3BzLm9uQ2xpY2sgPyBcImJ1dHRvblwiIDogXCJzdWJtaXRcIn1cbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHt0aGlzLnByb3BzLmxvYWRpbmcgPyA8TG9hZGVyIC8+IDogbnVsbH1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IFwiYnRuLWRlZmF1bHRcIixcblxuICB0eXBlOiBcInN1Ym1pdFwiLFxuXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG5cbiAgb25DbGljazogbnVsbFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIk5vIGNhdGVnb3JpZXMgZXhpc3Qgb3IgeW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBzZWUgdGhlbS5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9jYXRlZ29yeVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcmllcyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RJdGVtIGZyb20gXCIuL2xpc3QtaXRlbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJsaXN0LWdyb3VwIGxpc3QtZ3JvdXAtY2F0ZWdvcnlcIlxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWZsYXZvclwiXG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktXCIgKyBjYXRlZ29yeS5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGlzRmlyc3Q9e3RydWV9IC8+XG4gICAgICB7Y2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaXN0SXRlbSBjYXRlZ29yeT17Y2F0ZWdvcnl9IGlzRmlyc3Q9e2ZhbHNlfSBrZXk9e2NhdGVnb3J5LmlkfSAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICBfX2h0bWw6IGNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgIH19XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY2F0ZWdvcnkpfSB0aXRsZT17Z2V0VGl0bGUoY2F0ZWdvcnkpfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57Z2V0SWNvbihjYXRlZ29yeSl9PC9zcGFuPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGFzc05hbWUoY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gXCJyZWFkLXN0YXR1cyBpdGVtLXJlYWRcIlxuICB9XG5cbiAgcmV0dXJuIFwicmVhZC1zdGF0dXMgaXRlbS1uZXdcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGUoY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy4gKGNsb3NlZClcIilcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy4gKGNsb3NlZClcIilcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuXCIpXG4gIH1cblxuICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy5cIilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gXCJsb2NrX291dGxpbmVcIlxuICAgIH1cblxuICAgIHJldHVybiBcImxvY2tcIlxuICB9XG5cbiAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICByZXR1cm4gXCJjaGF0X2J1YmJsZV9vdXRsaW5lXCJcbiAgfVxuXG4gIHJldHVybiBcImNoYXRfYnViYmxlXCJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1haW4gZnJvbSBcIi4vbWFpblwiXG5pbXBvcnQgTGFzdFRocmVhZCBmcm9tIFwiLi9sYXN0LXRocmVhZFwiXG5pbXBvcnQgU3RhdHMgZnJvbSBcIi4vc3RhdHNcIlxuaW1wb3J0IFN1YmNhdGVnb3JpZXMgZnJvbSBcIi4vc3ViY2F0ZWdvcmllc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGlzRmlyc3QgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuXG4gIGlmIChjYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgIGNsYXNzTmFtZSArPSBcIiBsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1kZXNjcmlwdGlvblwiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktbm8tZGVzY3JpcHRpb25cIlxuICB9XG5cbiAgaWYgKGlzRmlyc3QpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgbGlzdC1ncm91cC1pdGVtLWZpcnN0XCJcbiAgfVxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWZsYXZvclwiXG4gICAgY2xhc3NOYW1lICs9IFwiIGxpc3QtZ3JvdXAtaXRlbS1jYXRlZ29yeS1cIiArIGNhdGVnb3J5LmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPE1haW4gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8U3RhdHMgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8TGFzdFRocmVhZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxTdWJjYXRlZ29yaWVzIGNhdGVnb3J5PXtjYXRlZ29yeX0gaXNGaXJzdD17aXNGaXJzdH0gLz5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC00IGNhdGVnb3J5LWxhc3QtdGhyZWFkXCI+XG4gICAgICA8TGFzdFRocmVhZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8RW1wdHkgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPFByaXZhdGUgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPFByb3RlY3RlZCBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RUaHJlYWQoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxMYXN0UG9zdGVyQXZhdGFyIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiXG4gICAgICAgICAgICBocmVmPXtjYXRlZ29yeS51cmwubGFzdF90aHJlYWRfbmV3fVxuICAgICAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC10aHJlYWQtcG9zdGVyXCI+XG4gICAgICAgICAgICA8TGFzdFBvc3Rlck5hbWUgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIj4mIzgyMTI7PC9saT5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC10aHJlYWQtZGF0ZVwiPlxuICAgICAgICAgICAgPGEgaHJlZj17Y2F0ZWdvcnkudXJsLmxhc3RfcG9zdH0+XG4gICAgICAgICAgICAgIHtjYXRlZ29yeS5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3RlckF2YXRhcih7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKGNhdGVnb3J5Lmxhc3RfcG9zdGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImxhc3QtcG9zdGVyLWF2YXRhclwiXG4gICAgICAgIGhyZWY9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyLnVybH1cbiAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICA+XG4gICAgICAgIDxBdmF0YXJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAgIHVzZXI9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibGFzdC1wb3N0ZXItYXZhdGFyXCIgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9PlxuICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIiBzaXplPXs0MH0gLz5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQb3N0ZXJOYW1lKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkubGFzdF9wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyLnVybH0+XG4gICAgICAgIHtjYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgPC9hPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9PC9zcGFuPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gRW1wdHkoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG4gIGlmIChjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlXG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFxuICAgICAgICBcIlRoaXMgY2F0ZWdvcnkgaXMgZW1wdHkuIE5vIHRocmVhZHMgd2VyZSBwb3N0ZWQgd2l0aGluIGl0IHNvIGZhci5cIlxuICAgICAgKX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbFxuICBpZiAoY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcbiAgICAgICAgXCJUaGlzIGNhdGVnb3J5IGlzIHByaXZhdGUuIFlvdSBjYW4gc2VlIG9ubHkgeW91ciBvd24gdGhyZWFkcyB3aXRoaW4gaXQuXCJcbiAgICAgICl9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8TWVzc2FnZVxuICAgICAgbWVzc2FnZT17Z2V0dGV4dChcbiAgICAgICAgXCJUaGlzIGNhdGVnb3J5IGlzIHByb3RlY3RlZC4gWW91IGNhbid0IGJyb3dzZSBpdHMgY29udGVudHMuXCJcbiAgICAgICl9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVzc2FnZSh7IG1lc3NhZ2UgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEgY2F0ZWdvcnktdGhyZWFkLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPHA+e21lc3NhZ2V9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERlc2NyaXB0aW9uIGZyb20gXCIuL2Rlc2NyaXB0aW9uXCJcbmltcG9ydCBJY29uIGZyb20gXCIuL2ljb25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNiBjYXRlZ29yeS1tYWluXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxJY29uIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8YSBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9PntjYXRlZ29yeS5uYW1lfTwvYT5cbiAgICAgICAgICA8L2g0PlxuICAgICAgICAgIDxEZXNjcmlwdGlvbiBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMiBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBjYXRlZ29yeS1zdGF0c1wiPlxuICAgICAgICA8VGhyZWFkcyB0aHJlYWRzPXtjYXRlZ29yeS50aHJlYWRzfSAvPlxuICAgICAgICA8UG9zdHMgcG9zdHM9e2NhdGVnb3J5LnBvc3RzfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkcyh7IHRocmVhZHMgfSkge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHRocmVhZHMpcyB0aHJlYWRcIiwgXCIlKHRocmVhZHMpcyB0aHJlYWRzXCIsIHRocmVhZHMpXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktc3RhdC10aHJlYWRzXCI+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB0aHJlYWRzOiB0aHJlYWRzXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICl9XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMoeyBwb3N0cyB9KSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUocG9zdHMpcyBwb3N0XCIsIFwiJShwb3N0cylzIHBvc3RzXCIsIHBvc3RzKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXN0YXQtcG9zdHNcIj5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHBvc3RzOiBwb3N0c1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RJdGVtIGZyb20gXCIuL2xpc3QtaXRlbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGlzRmlyc3QgfSkge1xuICBpZiAoaXNGaXJzdCkgcmV0dXJuIG51bGxcbiAgaWYgKGNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc3ViY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7Y2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gPExpc3RJdGVtIGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtIGJ0bi1zdWJjYXRlZ29yeVwiXG4gIGlmICghY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBidG4tc3ViY2F0ZWdvcnktbmV3XCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTNcIj5cbiAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2dldEljb24oY2F0ZWdvcnkpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi10ZXh0XCI+e2NhdGVnb3J5Lm5hbWV9PC9zcGFuPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKGNhdGVnb3J5KSB7XG4gIGlmIChjYXRlZ29yeS5pc19jbG9zZWQpIHtcbiAgICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgcmV0dXJuIFwibG9ja19vdXRsaW5lXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJsb2NrXCJcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuIFwiY2hhdF9idWJibGVfb3V0bGluZVwiXG4gIH1cblxuICByZXR1cm4gXCJjaGF0X2J1YmJsZVwiXG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQmxhbmtzbGF0ZSBmcm9tIFwiLi9ibGFua3NsYXRlXCJcbmltcG9ydCBDYXRlZ29yaWVzTGlzdCBmcm9tIFwiLi9jYXRlZ29yaWVzLWxpc3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcblxuY29uc3QgaHlkcmF0ZSA9IGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjYXRlZ29yeSwge1xuICAgIGxhc3RfcG9zdF9vbjogY2F0ZWdvcnkubGFzdF9wb3N0X29uID8gbW9tZW50KGNhdGVnb3J5Lmxhc3RfcG9zdF9vbikgOiBudWxsLFxuICAgIHN1YmNhdGVnb3JpZXM6IGNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKGh5ZHJhdGUpXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KFwiQ0FURUdPUklFU1wiKS5tYXAoaHlkcmF0ZSlcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhtaXNhZ28uZ2V0KFwiQ0FURUdPUklFU19BUElcIikpXG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJjYXRlZ29yaWVzXCIsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogMTgwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjYXRlZ29yaWVzOiBkYXRhLm1hcChoeWRyYXRlKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjYXRlZ29yaWVzIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiA8QmxhbmtzbGF0ZSAvPlxuICAgIH1cblxuICAgIHJldHVybiA8Q2F0ZWdvcmllc0xpc3QgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc30gLz5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljay50aWNrXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxzZWxlY3RcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwiZm9ybS1jb250cm9sXCJ9XG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICBpZD17cHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX1cbiAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZX1cbiAgICA+XG4gICAgICB7cHJvcHMuY2hvaWNlcy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgZGlzYWJsZWQ9e2l0ZW0uZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICAgICAgICBrZXk9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgICB2YWx1ZT17aXRlbS52YWx1ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7XCItIC0gXCIucmVwZWF0KGl0ZW0ubGV2ZWwpICsgaXRlbS5sYWJlbH1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9zZWxlY3Q+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGRldmljZVJhdGlvOiAxXG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhdGFyU2l6ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF90bXAuc2l6ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnNpemVcbiAgICB9XG4gIH1cblxuICBnZXRJbWFnZVBhdGgoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhVXJsXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMudXJsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgbGV0IGNyb3BpdCA9ICQoXCIuY3JvcC1mb3JtXCIpXG4gICAgbGV0IGNyb3BwZXJXaWR0aCA9IHRoaXMuZ2V0QXZhdGFyU2l6ZSgpXG5cbiAgICBjb25zdCBpbml0aWFsV2lkdGggPSBjcm9waXQud2lkdGgoKVxuICAgIHdoaWxlIChpbml0aWFsV2lkdGggPCBjcm9wcGVyV2lkdGgpIHtcbiAgICAgIGNyb3BwZXJXaWR0aCA9IGNyb3BwZXJXaWR0aCAvIDJcbiAgICB9XG5cbiAgICBjb25zdCBkZXZpY2VSYXRpbyA9IHRoaXMuZ2V0QXZhdGFyU2l6ZSgpIC8gY3JvcHBlcldpZHRoXG5cbiAgICBjcm9waXQud2lkdGgoY3JvcHBlcldpZHRoKVxuXG4gICAgY3JvcGl0LmNyb3BpdCh7XG4gICAgICB3aWR0aDogY3JvcHBlcldpZHRoLFxuICAgICAgaGVpZ2h0OiBjcm9wcGVyV2lkdGgsXG4gICAgICBleHBvcnRab29tOiBkZXZpY2VSYXRpbyxcbiAgICAgIGltYWdlU3RhdGU6IHtcbiAgICAgICAgc3JjOiB0aGlzLmdldEltYWdlUGF0aCgpXG4gICAgICB9LFxuICAgICAgb25JbWFnZUxvYWRlZDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgICAgICAvLyBjZW50ZXIgdXBsb2FkZWQgaW1hZ2VcbiAgICAgICAgICBsZXQgem9vbUxldmVsID0gY3JvcGl0LmNyb3BpdChcInpvb21cIilcbiAgICAgICAgICBsZXQgaW1hZ2VTaXplID0gY3JvcGl0LmNyb3BpdChcImltYWdlU2l6ZVwiKVxuXG4gICAgICAgICAgLy8gaXMgaXQgd2lkZXIgdGhhbiB0YWxsZXI/XG4gICAgICAgICAgaWYgKGltYWdlU2l6ZS53aWR0aCA+IGltYWdlU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ZWRXaWR0aCA9IGltYWdlU2l6ZS53aWR0aCAqIHpvb21MZXZlbFxuICAgICAgICAgICAgbGV0IG9mZnNldFggPSAoZGlzcGxheWVkV2lkdGggLSB0aGlzLmdldEF2YXRhclNpemUoKSkgLyAtMlxuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KFwib2Zmc2V0XCIsIHtcbiAgICAgICAgICAgICAgeDogb2Zmc2V0WCxcbiAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlU2l6ZS53aWR0aCA8IGltYWdlU2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5ZWRIZWlnaHQgPSBpbWFnZVNpemUuaGVpZ2h0ICogem9vbUxldmVsXG4gICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IChkaXNwbGF5ZWRIZWlnaHQgLSB0aGlzLmdldEF2YXRhclNpemUoKSkgLyAtMlxuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KFwib2Zmc2V0XCIsIHtcbiAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgeTogb2Zmc2V0WVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiLCB7XG4gICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVzZSBwcmVzZXJ2ZWQgY3JvcFxuICAgICAgICAgIGxldCBjcm9wID0gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLmNyb3BcblxuICAgICAgICAgIGlmIChjcm9wKSB7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KFwiem9vbVwiLCBjcm9wLnpvb20pXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KFwib2Zmc2V0XCIsIHtcbiAgICAgICAgICAgICAgeDogY3JvcC54LFxuICAgICAgICAgICAgICB5OiBjcm9wLnlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICQoXCIuY3JvcC1mb3JtXCIpLmNyb3BpdChcImRpc2FibGVcIilcbiAgfVxuXG4gIGNyb3BBdmF0YXIgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICBsZXQgYXZhdGFyVHlwZSA9IHRoaXMucHJvcHMudXBsb2FkID8gXCJjcm9wX3RtcFwiIDogXCJjcm9wX3NyY1wiXG4gICAgbGV0IGNyb3BpdCA9ICQoXCIuY3JvcC1mb3JtXCIpXG5cbiAgICBjb25zdCBkZXZpY2VSYXRpbyA9IGNyb3BpdC5jcm9waXQoXCJleHBvcnRab29tXCIpXG4gICAgY29uc3QgY3JvcGl0T2Zmc2V0ID0gY3JvcGl0LmNyb3BpdChcIm9mZnNldFwiKVxuXG4gICAgYWpheFxuICAgICAgLnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJUeXBlLFxuICAgICAgICBjcm9wOiB7XG4gICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICB4OiBjcm9waXRPZmZzZXQueCAqIGRldmljZVJhdGlvLFxuICAgICAgICAgICAgeTogY3JvcGl0T2Zmc2V0LnkgKiBkZXZpY2VSYXRpb1xuICAgICAgICAgIH0sXG4gICAgICAgICAgem9vbTogY3JvcGl0LmNyb3BpdChcInpvb21cIikgKiBkZXZpY2VSYXRpb1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShkYXRhKVxuICAgICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZGF0YS5kZXRhaWwpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItY3JvcFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JvcC1mb3JtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3BpdC1wcmV2aWV3XCIgLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBjbGFzc05hbWU9XCJjcm9waXQtaW1hZ2Utem9vbS1pbnB1dFwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY3JvcEF2YXRhcn1cbiAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVwbG9hZFxuICAgICAgICAgICAgICAgID8gZ2V0dGV4dChcIlNldCBhdmF0YXJcIilcbiAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJDcm9wIGltYWdlXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBiYXRjaCBmcm9tIFwibWlzYWdvL3V0aWxzL2JhdGNoXCJcblxuZXhwb3J0IGNsYXNzIEdhbGxlcnlJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2VsZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0KHRoaXMucHJvcHMuaWQpXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uID09PSB0aGlzLnByb3BzLmlkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gXCJidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWQgYXZhdGFyLXNlbGVjdGVkXCJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImJ0biBidG4tYXZhdGFyIGF2YXRhci1zZWxlY3RlZFwiXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWRcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWF2YXRhclwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdH1cbiAgICAgID5cbiAgICAgICAgPGltZyBzcmM9e3RoaXMucHJvcHMudXJsfSAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeVwiPlxuICAgICAgICA8aDM+e3RoaXMucHJvcHMubmFtZX08L2gzPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFycy1nYWxsZXJ5LWltYWdlc1wiPlxuICAgICAgICAgIHtiYXRjaCh0aGlzLnByb3BzLmltYWdlcywgNCwgbnVsbCkubWFwKChyb3csIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICB7cm93Lm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiIGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0gPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8R2FsbGVyeUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5wcm9wcy5zZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5pdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJibGFuay1hdmF0YXJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGlvbjogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZWxlY3QgPSBpbWFnZSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3Rpb246IGltYWdlXG4gICAgfSlcbiAgfVxuXG4gIHNhdmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICBhamF4XG4gICAgICAucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmF2YXRhciwge1xuICAgICAgICBhdmF0YXI6IFwiZ2FsbGVyaWVzXCIsXG4gICAgICAgIGltYWdlOiB0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKVxuICAgICAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZSlcbiAgICAgICAgICB0aGlzLnByb3BzLnNob3dJbmRleCgpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItZ2FsbGVyeVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEdhbGxlcnlcbiAgICAgICAgICAgICAgICBuYW1lPXtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgaW1hZ2VzPXtpdGVtLmltYWdlc31cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMuc3RhdGUuc2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMuc2VsZWN0fVxuICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNhdmV9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJTYXZlIGNob2ljZVwiKVxuICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiU2VsZWN0IGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY2FsbEFwaShhdmF0YXJUeXBlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICBhamF4XG4gICAgICAucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmF2YXRhciwge1xuICAgICAgICBhdmF0YXI6IGF2YXRhclR5cGVcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbClcbiAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUocmVzcG9uc2UpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBzZXRHcmF2YXRhciA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXCJncmF2YXRhclwiKVxuICB9XG5cbiAgc2V0R2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcImdlbmVyYXRlZFwiKVxuICB9XG5cbiAgZ2V0R3JhdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5ncmF2YXRhcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2V0R3JhdmF0YXJ9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdyYXZhdGFyXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgbXkgR3JhdmF0YXJcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldENyb3BCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1jcm9wXCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dDcm9wfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJlLWNyb3AgdXBsb2FkZWQgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICBnZXRVcGxvYWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItdXBsb2FkXCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dVcGxvYWR9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVXBsb2FkIG5ldyBpbWFnZVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGdldEdhbGxlcnlCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItZ2FsbGVyeVwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93R2FsbGVyeX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJQaWNrIGF2YXRhciBmcm9tIGdhbGxlcnlcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICBnZXRBdmF0YXJQcmV2aWV3KCkge1xuICAgIGxldCB1c2VyUGV2aWV3ID0ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMudXNlci5pZCxcbiAgICAgIGF2YXRhcnM6IHRoaXMucHJvcHMub3B0aW9ucy5hdmF0YXJzXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhci1wcmV2aWV3IHByZXZpZXctbG9hZGluZ1wiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjIwMFwiIHVzZXI9e3VzZXJQZXZpZXd9IC8+XG4gICAgICAgICAgPExvYWRlciAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlld1wiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCIyMDBcIiB1c2VyPXt1c2VyUGV2aWV3fSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLWluZGV4XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNVwiPnt0aGlzLmdldEF2YXRhclByZXZpZXcoKX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRHcmF2YXRhckJ1dHRvbigpfVxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2V0R2VuZXJhdGVkfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdlbmVyYXRlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJHZW5lcmF0ZSBteSBpbmRpdmlkdWFsIGF2YXRhclwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICB7dGhpcy5nZXRDcm9wQnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgICAgIHt0aGlzLmdldEdhbGxlcnlCdXR0b24oKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhckluZGV4IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4XCJcbmltcG9ydCBBdmF0YXJDcm9wIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3BcIlxuaW1wb3J0IEF2YXRhclVwbG9hZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWRcIlxuaW1wb3J0IEF2YXRhckdhbGxlcnkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvZ2FsbGVyeVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IHsgdXBkYXRlQXZhdGFyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgY2xhc3MgQ2hhbmdlQXZhdGFyRXJyb3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFcnJvclJlYXNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yZWFzb24pIHtcbiAgICAgIHJldHVybiA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHRoaXMucHJvcHMucmVhc29uIH19IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAge3RoaXMuZ2V0RXJyb3JSZWFzb24oKX1cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLmF2YXRhcikudGhlbihcbiAgICAgIG9wdGlvbnMgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb21wb25lbnQ6IEF2YXRhckluZGV4LFxuICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNob3dFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgc2hvd0Vycm9yID0gZXJyb3IgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZXJyb3JcbiAgICB9KVxuICB9XG5cbiAgc2hvd0luZGV4ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJJbmRleFxuICAgIH0pXG4gIH1cblxuICBzaG93VXBsb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJVcGxvYWRcbiAgICB9KVxuICB9XG5cbiAgc2hvd0Nyb3AgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEF2YXRhckNyb3BcbiAgICB9KVxuICB9XG5cbiAgc2hvd0dhbGxlcnkgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wb25lbnQ6IEF2YXRhckdhbGxlcnlcbiAgICB9KVxuICB9XG5cbiAgY29tcGxldGVGbG93ID0gb3B0aW9ucyA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMudXNlciwgb3B0aW9ucy5hdmF0YXJzKSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcG9uZW50OiBBdmF0YXJJbmRleCxcbiAgICAgIG9wdGlvbnNcbiAgICB9KVxuICB9XG5cbiAgZ2V0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2hhbmdlQXZhdGFyRXJyb3JcbiAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3IuZGV0YWlsfVxuICAgICAgICAgICAgcmVhc29uPXt0aGlzLnN0YXRlLmVycm9yLnJlYXNvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDx0aGlzLnN0YXRlLmNvbXBvbmVudFxuICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgb25Db21wbGV0ZT17dGhpcy5jb21wbGV0ZUZsb3d9XG4gICAgICAgICAgICBzaG93RXJyb3I9e3RoaXMuc2hvd0Vycm9yfVxuICAgICAgICAgICAgc2hvd0luZGV4PXt0aGlzLnNob3dJbmRleH1cbiAgICAgICAgICAgIHNob3dDcm9wPXt0aGlzLnNob3dDcm9wfVxuICAgICAgICAgICAgc2hvd1VwbG9hZD17dGhpcy5zaG93VXBsb2FkfVxuICAgICAgICAgICAgc2hvd0dhbGxlcnk9e3RoaXMuc2hvd0dhbGxlcnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPExvYWRlciAvPlxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1jaGFuZ2UtYXZhdGFyXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWNoYW5nZS1hdmF0YXJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgeW91ciBhdmF0YXJcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHt0aGlzLmdldEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlclxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXJDcm9wIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3BcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgZmlsZVNpemUgZnJvbSBcIm1pc2Fnby91dGlscy9maWxlLXNpemVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaW1hZ2U6IG51bGwsXG4gICAgICBwcmV2aWV3OiBudWxsLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB1cGxvYWRlZDogbnVsbCxcbiAgICAgIGRhdGFVcmw6IG51bGxcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZUZpbGUoaW1hZ2UpIHtcbiAgICBpZiAoaW1hZ2Uuc2l6ZSA+IHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQubGltaXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIGZpbGUgaXMgdG9vIGJpZy4gKCUoZmlsZXNpemUpcylcIiksXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxlc2l6ZTogZmlsZVNpemUoaW1hZ2Uuc2l6ZSlcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIGxldCBpbnZhbGlkVHlwZU1zZyA9IGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIHR5cGUgaXMgbm90IHN1cHBvcnRlZC5cIilcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfbWltZV90eXBlcy5pbmRleE9mKGltYWdlLnR5cGUpID09PSAtMVxuICAgICkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnXG4gICAgfVxuXG4gICAgbGV0IGV4dGVuc2lvbkZvdW5kID0gZmFsc2VcbiAgICBsZXQgbG93ZXJlZEZpbGVuYW1lID0gaW1hZ2UubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZC5hbGxvd2VkX2V4dGVuc2lvbnMubWFwKGZ1bmN0aW9uKGV4dGVuc2lvbikge1xuICAgICAgaWYgKGxvd2VyZWRGaWxlbmFtZS5zdWJzdHIoZXh0ZW5zaW9uLmxlbmd0aCAqIC0xKSA9PT0gZXh0ZW5zaW9uKSB7XG4gICAgICAgIGV4dGVuc2lvbkZvdW5kID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoIWV4dGVuc2lvbkZvdW5kKSB7XG4gICAgICByZXR1cm4gaW52YWxpZFR5cGVNc2dcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHBpY2tGaWxlID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyLWhpZGRlbi11cGxvYWRcIikuY2xpY2soKVxuICB9XG5cbiAgdXBsb2FkRmlsZSA9ICgpID0+IHtcbiAgICBsZXQgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF2YXRhci1oaWRkZW4tdXBsb2FkXCIpLmZpbGVzWzBdXG4gICAgaWYgKCFpbWFnZSkgcmV0dXJuXG5cbiAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdGhpcy52YWxpZGF0ZUZpbGUoaW1hZ2UpXG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdGlvbkVycm9yKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbWFnZSxcbiAgICAgIHByZXZpZXc6IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpLFxuICAgICAgcHJvZ3Jlc3M6IDBcbiAgICB9KVxuXG4gICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgIGRhdGEuYXBwZW5kKFwiYXZhdGFyXCIsIFwidXBsb2FkXCIpXG4gICAgZGF0YS5hcHBlbmQoXCJpbWFnZVwiLCBpbWFnZSlcblxuICAgIGFqYXhcbiAgICAgIC51cGxvYWQodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIGRhdGEsIHByb2dyZXNzID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcHJvZ3Jlc3NcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcHRpb25zOiBkYXRhLFxuICAgICAgICAgICAgdXBsb2FkZWQ6IGRhdGEuZGV0YWlsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLmluZm8oXG4gICAgICAgICAgICBnZXR0ZXh0KFwiWW91ciBpbWFnZSBoYXMgYmVlbiB1cGxvYWRlZCBhbmQgeW91IG1heSBub3cgY3JvcCBpdC5cIilcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCB8fCByZWplY3Rpb24uc3RhdHVzID09PSA0MTMpIHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgaW1hZ2U6IG51bGwsXG4gICAgICAgICAgICAgIHByb2dyZXNzOiAwXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBnZXRVcGxvYWRSZXF1aXJlbWVudHMob3B0aW9ucykge1xuICAgIGxldCBleHRlbnNpb25zID0gb3B0aW9ucy5hbGxvd2VkX2V4dGVuc2lvbnMubWFwKGZ1bmN0aW9uKGV4dGVuc2lvbikge1xuICAgICAgcmV0dXJuIGV4dGVuc2lvbi5zdWJzdHIoMSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUoZmlsZXMpcyBmaWxlcyBzbWFsbGVyIHRoYW4gJShsaW1pdClzXCIpLFxuICAgICAge1xuICAgICAgICBmaWxlczogZXh0ZW5zaW9ucy5qb2luKFwiLCBcIiksXG4gICAgICAgIGxpbWl0OiBmaWxlU2l6ZShvcHRpb25zLmxpbWl0KVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBnZXRVcGxvYWRCdXR0b24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXBpY2stZmlsZVwiIG9uQ2xpY2s9e3RoaXMucGlja0ZpbGV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmlucHV0PC9kaXY+XG4gICAgICAgICAge2dldHRleHQoXCJTZWxlY3QgZmlsZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRSZXF1aXJlbWVudHModGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCl9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldFVwbG9hZFByb2dyZXNzTGFiZWwoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUocHJvZ3Jlc3MpcyAlIGNvbXBsZXRlXCIpLFxuICAgICAge1xuICAgICAgICBwcm9ncmVzczogdGhpcy5zdGF0ZS5wcm9ncmVzc1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci11cGxvYWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtcHJvZ3Jlc3NcIj5cbiAgICAgICAgICA8aW1nIHNyYz17dGhpcy5zdGF0ZS5wcmV2aWV3fSAvPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgICAgICByb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgICAgICAgICBhcmlhLXZhbHVlbm93PVwie3RoaXMuc3RhdGUucHJvZ3Jlc3N9XCJcbiAgICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiMTAwXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHRoaXMuc3RhdGUucHJvZ3Jlc3MgKyBcIiVcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+e3RoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3NMYWJlbCgpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlclVwbG9hZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIGlkPVwiYXZhdGFyLWhpZGRlbi11cGxvYWRcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi1maWxlLXVwbG9hZFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBsb2FkRmlsZX1cbiAgICAgICAgLz5cbiAgICAgICAge3RoaXMuc3RhdGUuaW1hZ2UgPyB0aGlzLmdldFVwbG9hZFByb2dyZXNzKCkgOiB0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17ISF0aGlzLnN0YXRlLmltYWdlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlckNyb3AoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdmF0YXJDcm9wXG4gICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICB1cGxvYWQ9e3RoaXMuc3RhdGUudXBsb2FkZWR9XG4gICAgICAgIGRhdGFVcmw9e3RoaXMuc3RhdGUucHJldmlld31cbiAgICAgICAgb25Db21wbGV0ZT17dGhpcy5wcm9wcy5vbkNvbXBsZXRlfVxuICAgICAgICBzaG93RXJyb3I9e3RoaXMucHJvcHMuc2hvd0Vycm9yfVxuICAgICAgICBzaG93SW5kZXg9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudXBsb2FkZWQpIHJldHVybiB0aGlzLnJlbmRlckNyb3AoKVxuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVXBsb2FkKClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRyb3Bkb3duKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBvcGVuIGhpZGRlbi1tZCBoaWRkZW4tbGdcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5kcm9wZG93biA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuICAgICAgPlxuICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bWVudTwvaT5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNwbGF5IH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPFBhbmVsTWVzc2FnZVxuICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJObyBwcm9maWxlIGRldGFpbHMgYXJlIGVkaXRhYmxlIGF0IHRoaXMgdGltZS5cIil9XG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiVGhpcyBvcHRpb24gaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlLlwiKX1cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlbGVjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgeyBmaWVsZCwgb25DaGFuZ2UgfSA9IHRoaXMucHJvcHNcbiAgICBvbkNoYW5nZShmaWVsZC5maWVsZG5hbWUsIGV2LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRpc2FibGVkLCBmaWVsZCwgdmFsdWUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGlucHV0IH0gPSBmaWVsZFxuXG4gICAgaWYgKGlucHV0LnR5cGUgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBjaG9pY2VzPXtpbnB1dC5jaG9pY2VzfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBpZD17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKGlucHV0LnR5cGUgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKGlucHV0LnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBpZD17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZpZWxkSW5wdXQgZnJvbSBcIi4vZmllbGQtaW5wdXRcIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgZGlzYWJsZWQsIGVycm9ycywgZmllbGRzLCBuYW1lLCBvbkNoYW5nZSwgdmFsdWUgfSkge1xuICByZXR1cm4gKFxuICAgIDxmaWVsZHNldD5cbiAgICAgIDxsZWdlbmQ+e25hbWV9PC9sZWdlbmQ+XG4gICAgICB7ZmllbGRzLm1hcChmaWVsZCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgZm9yPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgICAgaGVscFRleHQ9e2ZpZWxkLmhlbHBfdGV4dH1cbiAgICAgICAgICAgIGtleT17ZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICAgICAgdmFsaWRhdGlvbj17ZXJyb3JzW2ZpZWxkLmZpZWxkbmFtZV19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZpZWxkSW5wdXRcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICBmaWVsZD17ZmllbGR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlW2ZpZWxkLmZpZWxkbmFtZV19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2ZpZWxkc2V0PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZHNldCBmcm9tIFwiLi9maWVsZHNldFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBzID0gcHJvcHMuZ3JvdXBzLmxlbmd0aFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzOyBpKyspIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gcHJvcHMuZ3JvdXBzW2ldXG4gICAgICBjb25zdCBmaWVsZHMgPSBncm91cC5maWVsZHMubGVuZ3RoXG4gICAgICBmb3IgKGxldCBmID0gMDsgZiA8IGZpZWxkczsgZisrKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkbmFtZSA9IGdyb3VwLmZpZWxkc1tmXS5maWVsZG5hbWVcbiAgICAgICAgY29uc3QgaW5pdGlhbCA9IGdyb3VwLmZpZWxkc1tmXS5pbml0aWFsXG4gICAgICAgIHRoaXMuc3RhdGVbZmllbGRuYW1lXSA9IGluaXRpYWxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLCB7XG4gICAgICBlcnJvcnM6IG51bGwsXG4gICAgICBpc0xvYWRpbmc6IG51bGxcbiAgICB9KVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgZGF0YSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHRoaXMucHJvcHMub25TdWNjZXNzKGRhdGEpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yczogcmVqZWN0aW9uIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmdyb3Vwcy5tYXAoKGdyb3VwLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RmllbGRzZXRcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnN0YXRlLmVycm9yc31cbiAgICAgICAgICAgICAgICBmaWVsZHM9e2dyb3VwLmZpZWxkc31cbiAgICAgICAgICAgICAgICBuYW1lPXtncm91cC5uYW1lfVxuICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICA8Q2FuY2VsQnV0dG9uXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAvPntcIiBcIn1cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2FuY2VsQnV0dG9uKHsgb25DYW5jZWwsIGRpc2FibGVkIH0pIHtcbiAgaWYgKCFvbkNhbmNlbCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgIDwvYnV0dG9uPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCbGFua3NsYXRlIGZyb20gXCIuL2JsYW5rc2xhdGVcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi9sb2FkZXJcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgIGdyb3VwczogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuYXBpKS50aGVuKFxuICAgICAgZ3JvdXBzID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG5cbiAgICAgICAgICBncm91cHNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNhbmNlbCkge1xuICAgICAgICAgIHRoaXMucHJvcHMuY2FuY2VsKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGdyb3VwcywgbG9hZGluZyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiRWRpdCBkZXRhaWxzXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TG9hZGVyIGRpc3BsYXk9e2xvYWRpbmd9IC8+XG4gICAgICAgIDxCbGFua3NsYXRlIGRpc3BsYXk9eyFsb2FkaW5nICYmICFncm91cHMubGVuZ3RofSAvPlxuICAgICAgICA8Rm9ybURpc3BsYXlcbiAgICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfVxuICAgICAgICAgIGRpc3BsYXk9eyFsb2FkaW5nICYmIGdyb3Vwcy5sZW5ndGh9XG4gICAgICAgICAgZ3JvdXBzPXtncm91cHN9XG4gICAgICAgICAgb25DYW5jZWw9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgb25TdWNjZXNzPXt0aGlzLnByb3BzLm9uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRm9ybURpc3BsYXkoeyBhcGksIGRpc3BsYXksIGdyb3Vwcywgb25DYW5jZWwsIG9uU3VjY2VzcyB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxGb3JtIGFwaT17YXBpfSBncm91cHM9e2dyb3Vwc30gb25DYW5jZWw9e29uQ2FuY2VsfSBvblN1Y2Nlc3M9e29uU3VjY2Vzc30gLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc3BsYXkgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5wcm9wcy5leGVjQWN0aW9uKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17XCJidG4gYnRuLWljb24gXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvblwiXG5pbXBvcnQgaXNVcmwgZnJvbSBcIm1pc2Fnby91dGlscy9pcy11cmxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb24gZXhlY0FjdGlvbj17aW5zZXJ0UXVvdGV9IHRpdGxlPXtnZXR0ZXh0KFwiSW5zZXJ0IHF1b3RlXCIpfSB7Li4ucHJvcHN9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcm1hdF9xdW90ZTwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0UXVvdGUoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGxldCB0aXRsZSA9ICQudHJpbShcbiAgICBwcm9tcHQoZ2V0dGV4dChcIkVudGVyIHF1b3RlIGF1dG9yLCBwcmVmaXggdXNlcm5hbWVzIHdpdGggQFwiKSArIFwiOlwiLCB0aXRsZSlcbiAgKVxuXG4gIGlmICh0aXRsZSkge1xuICAgIHJlcGxhY2UoJ1xcblxcbltxdW90ZT1cIicgKyB0aXRsZSArICdcIl1cXG4nICsgc2VsZWN0aW9uICsgXCJcXG5bL3F1b3RlXVxcblxcblwiKVxuICB9IGVsc2Uge1xuICAgIHJlcGxhY2UoXCJcXG5cXG5bcXVvdGVdXFxuXCIgKyBzZWxlY3Rpb24gKyBcIlxcblsvcXVvdGVdXFxuXFxuXCIpXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFjdGlvbiBmcm9tIFwiLi9hY3Rpb25cIlxuaW1wb3J0IGlzVXJsIGZyb20gXCJtaXNhZ28vdXRpbHMvaXMtdXJsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uIGV4ZWNBY3Rpb249e2luc2VydFNwb2lsZXJ9IHRpdGxlPXtnZXR0ZXh0KFwiSW5zZXJ0IHNwb2lsZXJcIil9IHsuLi5wcm9wc30+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bm90X2ludGVyZXN0ZWQ8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFNwb2lsZXIoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIHJlcGxhY2UoXCJcXG5cXG5bc3BvaWxlcl1cXG5cIiArIHNlbGVjdGlvbiArIFwiXFxuWy9zcG9pbGVyXVxcblxcblwiKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5pbXBvcnQgZm9ybWF0RmlsZXNpemUgZnJvbSBcIm1pc2Fnby91dGlscy9maWxlLXNpemVcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uSW5zZXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLmluc2VydEF0dGFjaG1lbnQpXG4gIH1cblxuICBpbnNlcnRBdHRhY2htZW50ID0gKHNlbGVjdGlvbiwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnByb3BzLml0ZW1cblxuICAgIGlmIChpdGVtLmlzX2ltYWdlKSB7XG4gICAgICBpZiAoaXRlbS51cmwudGh1bWIpIHtcbiAgICAgICAgcmVwbGFjZShcbiAgICAgICAgICBcIlshW1wiICtcbiAgICAgICAgICAgIGl0ZW0uZmlsZW5hbWUgK1xuICAgICAgICAgICAgXCJdKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLnRodW1iICtcbiAgICAgICAgICAgIFwiKV0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwuaW5kZXggK1xuICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVwbGFjZShcbiAgICAgICAgICBcIlshW1wiICtcbiAgICAgICAgICAgIGl0ZW0uZmlsZW5hbWUgK1xuICAgICAgICAgICAgXCJdKFwiICtcbiAgICAgICAgICAgIGl0ZW0udXJsLmluZGV4ICtcbiAgICAgICAgICAgIFwiKV0oXCIgK1xuICAgICAgICAgICAgaXRlbS51cmwuaW5kZXggK1xuICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKFwiW1wiICsgaXRlbS5maWxlbmFtZSArIFwiXShcIiArIGl0ZW0udXJsLmluZGV4ICsgXCIpXCIpXG4gICAgfVxuICB9XG5cbiAgb25SZW1vdmUgPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVJdGVtKHtcbiAgICAgIGlzUmVtb3ZlZDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvblVuZG8gPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVJdGVtKHtcbiAgICAgIGlzUmVtb3ZlZDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlSXRlbSA9IG5ld1N0YXRlID0+IHtcbiAgICBjb25zdCB1cGRhdGVkQXR0YWNobWVudHMgPSB0aGlzLnByb3BzLmF0dGFjaG1lbnRzLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSB0aGlzLnByb3BzLml0ZW0uaWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIG5ld1N0YXRlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh1cGRhdGVkQXR0YWNobWVudHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1jb21wbGV0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICA8UHJldmlldyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8RmlsZW5hbWUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxEZXRhaWxzIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTMgeHMtbWFyZ2luLXRvcC1oYWxmXCI+XG4gICAgICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgICAgICBvbkluc2VydD17dGhpcy5vbkluc2VydH1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e3RoaXMub25SZW1vdmV9XG4gICAgICAgICAgICAgIG9uVW5kbz17dGhpcy5vblVuZG99XG4gICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJldmlldyhwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbS5pc19pbWFnZSkge1xuICAgIHJldHVybiA8SW1hZ2Ugey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SWNvbiB7Li4ucHJvcHN9IC8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlKHByb3BzKSB7XG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHByb3BzLml0ZW0udXJsLnRodW1iIHx8IHByb3BzLml0ZW0udXJsLmluZGV4XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWltYWdlXCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy5pdGVtLnVybC5pbmRleCArIFwiP3NodmE9MVwifVxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKCdcIiArIHRodW1ibmFpbFVybCArIFwiP3NodmE9MScpXCIgfX1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWljb25cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbnNlcnRfZHJpdmVfZmlsZTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsZW5hbWUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8aDQ+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyBcIj9zaHZhPTFcIn1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgID5cbiAgICAgICAge3Byb3BzLml0ZW0uZmlsZW5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9oND5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVybC51cGxvYWRlciksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfQUJCUixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCB1cGxvYWRlZCBieSAlKHVwbG9hZGVyKXMgJSh1cGxvYWRlZF9vbilzLlwiXG4gICAgICApXG4gICAgKSxcbiAgICB7XG4gICAgICBmaWxldHlwZTogcHJvcHMuaXRlbS5maWxldHlwZSxcbiAgICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLml0ZW0uc2l6ZSksXG4gICAgICB1cGxvYWRlcjogdXNlcixcbiAgICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19IC8+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1hY3Rpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8SW5zZXJ0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmRvIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnNlcnQocHJvcHMpIHtcbiAgaWYgKCEhcHJvcHMuaXRlbS5pc1JlbW92ZWQpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25JbnNlcnR9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkluc2VydFwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmUocHJvcHMpIHtcbiAgaWYgKCEhcHJvcHMuaXRlbS5pc1JlbW92ZWQgJiYgcHJvcHMuaXRlbS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vblJlbW92ZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVuZG8ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5pdGVtLmlzUmVtb3ZlZCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25VbmRvfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVbmRvIHJlbW92YWxcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgU1RST05HID0gXCI8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlcmVkQXR0YWNobWVudHMgPSB0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmZpbHRlcihpdGVtID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmtleSAhPT0gdGhpcy5wcm9wcy5pdGVtLmtleVxuICAgIH0pXG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKGZpbHRlcmVkQXR0YWNobWVudHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFNUUk9ORyxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLml0ZW0uZmlsZW5hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiRXJyb3IgdXBsb2FkaW5nICUoZmlsZW5hbWUpc1wiKSxcbiAgICAgIHtcbiAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgIHByb2dyZXNzOiB0aGlzLnByb3BzLml0ZW0ucHJvZ3Jlc3MgKyBcIiVcIlxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZXJyb3ItaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj53YXJuaW5nPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGl0bGUgKyBcIjpcIiB9fSAvPlxuICAgICAgICAgIDxwPnt0aGlzLnByb3BzLml0ZW0uZXJyb3J9PC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJEaXNtaXNzXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdHRhY2htZW50Q29tcGxldGUgZnJvbSBcIi4vY29tcGxldGVcIlxuaW1wb3J0IEF0dGFjaG1lbnRFcnJvciBmcm9tIFwiLi9lcnJvclwiXG5pbXBvcnQgQXR0YWNobWVudFVwbG9hZCBmcm9tIFwiLi91cGxvYWRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbS5pZCkge1xuICAgIHJldHVybiA8QXR0YWNobWVudENvbXBsZXRlIHsuLi5wcm9wc30gLz5cbiAgfVxuXG4gIGlmIChwcm9wcy5pdGVtLmVycm9yKSB7XG4gICAgcmV0dXJuIDxBdHRhY2htZW50RXJyb3Igey4uLnByb3BzfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxBdHRhY2htZW50VXBsb2FkIHsuLi5wcm9wc30gLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IFNUUk9ORyA9IFwiPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPlwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoXG4gICAgU1RST05HLFxuICAgIHtcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiVXBsb2FkaW5nICUoZmlsZW5hbWUpcy4uLiAlKHByb2dyZXNzKXNcIiksXG4gICAge1xuICAgICAgZmlsZW5hbWUsXG4gICAgICBwcm9ncmVzczogcHJvcHMuaXRlbS5wcm9ncmVzcyArIFwiJVwiXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzc1wiXG4gICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHByb3BzLml0ZW0ucHJvZ3Jlc3MgKyBcIiVcIiB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8cFxuICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWQtbWVzc2FnZVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgICAgLz5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMaXN0IGZyb20gXCIuL2xpc3RcIlxuaW1wb3J0IFVwbG9hZGVyIGZyb20gXCIuL3VwbG9hZGVyXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghbWlzYWdvLmdldChcInVzZXJcIikuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50c1wiPlxuICAgICAgPExpc3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVwbG9hZGVyIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXR0YWNobWVudCBmcm9tIFwiLi9hdHRhY2htZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBlZGl0b3ItYXR0YWNobWVudHMtbGlzdFwiPlxuICAgICAge3Byb3BzLmF0dGFjaG1lbnRzLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIDxBdHRhY2htZW50IGl0ZW09e2l0ZW19IGtleT17aXRlbS5pZCB8fCBpdGVtLmtleX0gey4uLnByb3BzfSAvPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0b3ItdXBsb2FkLWZpZWxkXCIpLmNsaWNrKClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIW1pc2Fnby5nZXQoXCJ1c2VyXCIpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJVcGxvYWQgZmlsZVwiKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maWxlX3VwbG9hZDwvc3Bhbj4gVXBsb2FkIGZpbGVcbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdXG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdXBsb2FkID0ge1xuICAgICAgaWQ6IG51bGwsXG4gICAgICBrZXk6IGdldFJhbmRvbUtleSgpLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWVcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoW3VwbG9hZF0uY29uY2F0KHRoaXMucHJvcHMuYXR0YWNobWVudHMpKVxuXG4gICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgZGF0YS5hcHBlbmQoXCJ1cGxvYWRcIiwgZmlsZSlcblxuICAgIGFqYXhcbiAgICAgIC51cGxvYWQobWlzYWdvLmdldChcIkFUVEFDSE1FTlRTX0FQSVwiKSwgZGF0YSwgcHJvZ3Jlc3MgPT4ge1xuICAgICAgICB1cGxvYWQucHJvZ3Jlc3MgPSBwcm9ncmVzc1xuICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgZGF0YS51cGxvYWRlZF9vbiA9IG1vbWVudChkYXRhLnVwbG9hZGVkX29uKVxuICAgICAgICAgIE9iamVjdC5hc3NpZ24odXBsb2FkLCBkYXRhKVxuICAgICAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgICAgICB1cGxvYWQuZXJyb3IgPSByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXQgaWQ9XCJlZGl0b3ItdXBsb2FkLWZpZWxkXCIgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9IHR5cGU9XCJmaWxlXCIgLz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUtleSgpIHtcbiAgcmV0dXJuIFwidXBsZC1cIiArIE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCJcbmltcG9ydCBVcGxvYWQgZnJvbSBcIi4uL2F0dGFjaG1lbnRzL3VwbG9hZC1idXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW1nSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgaW1nTGlzdDogW10sXG4gICAgICAgICAgICBwYXJhSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgdGl0bGVIaWRkZW46IHRydWUsXG4gICAgICAgICAgICBtb3JlSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgbGlzdEhpZGRlbjogdHJ1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbGlja0xlZnQodHlwZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2tMZWZ0KHR5cGUpXG4gICAgfVxuICAgIG9uQ2xpY2tSaWdodCh0eXBlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGlja1JpZ2h0KHR5cGUpXG4gICAgfVxuICAgIGxpc3RNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5saXN0VGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGlzdEhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsaXN0TW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMubGlzdFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbGlzdEhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIHBhcmFNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wYXJhVGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFyYUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJhTW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMucGFyYVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgcGFyYUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIHRpdGxlTW91c2VPdmVyKCkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGl0bGVUaW1lcilcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB0aXRsZUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB0aXRsZU1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLnRpdGxlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB0aXRsZUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIG1vcmVNb3VzZU92ZXIoKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tb3JlVGltZXIpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbW9yZUhpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBtb3JlTW91c2VPdXQoKSB7XG4gICAgICAgIHRoaXMubW9yZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbW9yZUhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cbiAgICBpbWdDbGljaygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdIaWRkZW46ICF0aGlzLnN0YXRlLmltZ0hpZGRlblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGltZ01vdXNlT3ZlcigpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVyKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGltZ0hpZGRlbjogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpbWdNb3VzZU91dCgpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGltZ0hpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwgMTUwKVxuICAgIH1cblxuICAgIGFkZEltZ1VybCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrTGVmdCgnaW1nJylcbiAgICB9XG5cbiAgICBhZGRJbWdGaWxlKGUpIHtcbiAgICAgICAgbGV0IHsgaW1nTGlzdCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICBjb25zdCBpbmRleCA9IGltZ0xpc3QubGVuZ3RoXG4gICAgICAgIGltZ0xpc3QucHVzaChlLnRhcmdldC5maWxlc1swXSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWdMaXN0XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucHJvcHMuYWRkSW1nKGUudGFyZ2V0LmZpbGVzWzBdLCBpbmRleClcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJ1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBpbWdIaWRkZW4sIHBhcmFIaWRkZW4sIHRpdGxlSGlkZGVuLCBtb3JlSGlkZGVuLCBsaXN0SGlkZGVuIH0gPSB0aGlzLnN0YXRlXG4gICAgICAgIGNvbnN0IHsgcHJldmlldywgZXhwYW5kLCBzdWJmaWVsZCB9ID0gdGhpcy5wcm9wc1xuICAgICAgICBjb25zdCBwcmV2aWV3QWN0aXZlID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAnay1hY3RpdmUnOiBwcmV2aWV3XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGV4cGFuZEFjdGl2ZSA9IGNsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2stYWN0aXZlJzogZXhwYW5kXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHN1YmZpZWxkQWN0aXZlID0gY2xhc3NOYW1lcyh7XG4gICAgICAgICAgICAnay1hY3RpdmUnOiBzdWJmaWVsZFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLXdyYXBwZXJcIiA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLXBjXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRvJyl9IHRpdGxlPXtgdW5kbyAoY3RybCt6KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj51bmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdyZWRvJyl9IHRpdGxlPXtgcmVkbyAoY3RybCt5KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMudGl0bGVNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt0aXRsZUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMScpfSB0aXRsZT1cIkhlYWRlciAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDInKX0gdGl0bGU9XCJIZWFkZXIgMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gzJyl9IHRpdGxlPVwiSGVhZGVyIDNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNCcpfSB0aXRsZT1cIkhlYWRlciA0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDUnKX0gdGl0bGU9XCJIZWFkZXIgNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g2Jyl9IHRpdGxlPVwiSGVhZGVyIDZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItcGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMucGFyYU1vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wYXJhTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGV4dF9maWVsZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtwYXJhSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2l0YWxpYycpfSB0aXRsZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdib2xkJyl9IHRpdGxlPVwiYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZGl0YWxpYycpfSB0aXRsZT1cImJvbGRpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRpdGFsaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2RlbGxpbmUnKX0gdGl0bGU9XCJzdHJpa2UgdGhyb3VnaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWtlIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3VuZGVybGluZScpfSB0aXRsZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdzdXBlcnNjcmlwdCcpfSB0aXRsZT1cInN1cGVyc2NyaXB0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBlcnNjcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnc3Vic2NyaXB0Jyl9IHRpdGxlPVwic3Vic3RyaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiay10b29sYmFyLWltZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMuaW1nTW91c2VPdmVyKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU91dD17KCkgPT4gdGhpcy5pbWdNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaW1nTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGVybV9tZWRpYTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgc3R5bGU9e2ltZ0hpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZEltZ1VybCgpfT5JbnNlcnQgaW1hZ2UgbGluazwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGU9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCd1bmRvJyl9IHRpdGxlPXtgdW5kbyAoY3RybCt6KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj51bmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdyZWRvJyl9IHRpdGxlPXtgcmVkbyAoY3RybCt5KWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstdG9vbGJhci10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMudGl0bGVNb3VzZU92ZXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnRpdGxlTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGl0bGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt0aXRsZUhpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoMScpfSB0aXRsZT1cIkhlYWRlciAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDInKX0gdGl0bGU9XCJIZWFkZXIgMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2gzJyl9IHRpdGxlPVwiSGVhZGVyIDNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdoNCcpfSB0aXRsZT1cIkhlYWRlciA0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWFkZXIgNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnaDUnKX0gdGl0bGU9XCJIZWFkZXIgNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVhZGVyIDVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2g2Jyl9IHRpdGxlPVwiSGVhZGVyIDZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlYWRlciA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJrLXRvb2xiYXItcGFyYVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMucGFyYU1vdXNlT3ZlcigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdXQ9eygpID0+IHRoaXMucGFyYU1vdXNlT3V0KCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wYXJhTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dGV4dF9maWVsZHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXtwYXJhSGlkZGVuID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2l0YWxpYycpfSB0aXRsZT1cIml0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdib2xkJyl9IHRpdGxlPVwiYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnYm9sZGl0YWxpYycpfSB0aXRsZT1cImJvbGRpdGFsaWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGRpdGFsaWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ2RlbGxpbmUnKX0gdGl0bGU9XCJzdHJpa2UgdGhyb3VnaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWtlIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja0xlZnQoJ3VuZGVybGluZScpfSB0aXRsZT1cInVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uQ2xpY2tMZWZ0KCdzdXBlcnNjcmlwdCcpfSB0aXRsZT1cInN1cGVyc2NyaXB0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBlcnNjcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrTGVmdCgnc3Vic2NyaXB0Jyl9IHRpdGxlPVwic3Vic3RyaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiay10b29sYmFyLWltZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eygpID0+IHRoaXMuaW1nTW91c2VPdmVyKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU91dD17KCkgPT4gdGhpcy5pbWdNb3VzZU91dCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuaW1nTW91c2VPdXQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGVybV9tZWRpYTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgc3R5bGU9e2ltZ0hpZGRlbiA/IHsgZGlzcGxheTogJ25vbmUnIH0gOiB7fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLmFkZEltZ1VybCgpfT5JbnNlcnQgaW1hZ2UgbGluazwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGU9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImstcmlnaHQtcGNcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ2V4cGFuZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGFuZEFjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW5fZXhpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcmV2aWV3QWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0FjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N1YmZpZWxkQWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdzdWJmaWVsZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtzdWJmaWVsZEFjdGl2ZSA/IFwiU3BsaXQgcHJldmlld1wiIDogXCJNZXJnZSBzcGxpdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaHJvbWVfcmVhZGVyX21vZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1yaWdodC1tb2JpbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5vbkNsaWNrUmlnaHQoJ2V4cGFuZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtleHBhbmRBY3RpdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGFuZEFjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW5fZXhpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZ1bGxzY3JlZW48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtwcmV2aWV3QWN0aXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMub25DbGlja1JpZ2h0KCdwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0FjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTcG9pbGVyIGZyb20gXCIuL2FjdGlvbnMvc3BvaWxlclwiXG5pbXBvcnQgUXVvdGUgZnJvbSBcIi4vYWN0aW9ucy9xdW90ZVwiXG5pbXBvcnQgQXR0YWNobWVudHNFZGl0b3IgZnJvbSBcIi4vYXR0YWNobWVudHNcIlxuaW1wb3J0IFVwbG9hZCBmcm9tIFwiLi9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uXCJcbmltcG9ydCAqIGFzIHRleHRVdGlscyBmcm9tIFwiLi90ZXh0dXRpbHNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tIFwiY2xhc3NuYW1lc1wiXG5pbXBvcnQgbWFya2VkIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbWFya2VkXCJcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL2NvbXBvbmVudHMvdG9vbGJhclwiXG5pbXBvcnQgeyBpbnNlcnRUZXh0IH0gZnJvbSBcIi4vdXRpbHMvaGVscGVyL3RleHRcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZm9udFNpemU6ICcxNHB4J1xuICB9XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGluZUluZGV4OiAxLFxuICAgICAgcHJldmlldzogZmFsc2UsXG4gICAgICBleHBhbmQ6IGZhbHNlLFxuICAgICAgc3ViZmllbGQ6IGZhbHNlLFxuICAgICAgaGlzdG9yeTogW10sXG4gICAgICBoaXN0b3J5SW5kZXg6IDAsXG4gICAgICBtb2JpbGU6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy50ZXh0YXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdG9yLXRleHRhcmVhXCIpXG4gICAgdGhpcy5zY3JvbGxFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGxFZGl0XCIpXG4gICAgdGhpcy5ibG9ja0VkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJsb2NrRWRpdFwiKVxuICAgIHRoaXMucmVIZWlnaHQoKVxuICAgICQoXCIjZWRpdG9yLXRleHRhcmVhXCIpLmF0d2hvKHtcbiAgICAgIGF0OiBcIkBcIixcbiAgICAgIGRpc3BsYXlUcGw6ICc8bGk+PGltZyBzcmM9XCIke2F2YXRhcn1cIiBhbHQ9XCJcIj4ke3VzZXJuYW1lfTwvbGk+JyxcbiAgICAgIGluc2VydFRwbDogXCJAJHt1c2VybmFtZX1cIixcbiAgICAgIHNlYXJjaEtleTogXCJ1c2VybmFtZVwiLFxuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHJlbW90ZUZpbHRlcjogZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgICAgICQuZ2V0SlNPTihtaXNhZ28uZ2V0KFwiTUVOVElPTl9BUElcIiksIHsgcTogcXVlcnkgfSwgY2FsbGJhY2spXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgJChcIiNlZGl0b3ItdGV4dGFyZWFcIikub24oXCJpbnNlcnRlZC5hdHdob1wiLCAoZXZlbnQsIGZsYWcsIHF1ZXJ5KSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB9KVxuXG4gICAgdGhpcy5yZXNpemUoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZSgpXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmVQcm9wcykge1xuICAgIGNvbnN0IHsgaGlzdG9yeUluZGV4LCBoaXN0b3J5fSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKHZhbHVlICE9PSBwcmVQcm9wcy52YWx1ZSkge1xuICAgICAgdGhpcy5yZUhlaWdodCgpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gaGlzdG9yeVtoaXN0b3J5SW5kZXhdKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuY3VycmVudFRpbWVvdXQpXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkodmFsdWUpXG4gICAgICB9LCA1MDApXG4gICAgfVxuICB9XG5cbiAgcmVwbGFjZVNlbGVjdGlvbiA9IG9wZXJhdGlvbiA9PiB7XG4gICAgb3BlcmF0aW9uKHRleHRVdGlscy5nZXRTZWxlY3Rpb25UZXh0KCksIHRoaXMuX3JlcGxhY2VTZWxlY3Rpb24pXG4gIH1cblxuICBfcmVwbGFjZVNlbGVjdGlvbiA9IG5ld1ZhbHVlID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRleHRVdGlscy5yZXBsYWNlKG5ld1ZhbHVlKSlcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDc2OHB4KScpLm1hdGNoZXMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcmV2aWV3OiB0cnVlLFxuICAgICAgICBzdWJmaWVsZDp0cnVlXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcHJldmlldzogZmFsc2UsXG4gICAgICAgIHN1YmZpZWxkOiBmYWxzZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZUxpbmVOdW0oKSB7XG4gICAgY29uc3QgeyBmb250U2l6ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGVkaXRIZWlnaHQgPSBwYXJzZUZsb2F0KFxuICAgICAgdGhpcy50ZXh0YXJlYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQudG9GaXhlZCgxKVxuICAgIClcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gcGFyc2VGbG9hdChmb250U2l6ZS5yZXBsYWNlKCdweCcsICcnKSkgKiAxLjZcbiAgICBjb25zdCBiYXNlSGVpZ2h0ID0gcGFyc2VJbnQoKChlZGl0SGVpZ2h0IC0gMTYuMCkgLyBsaW5lSGVpZ2h0KS50b0ZpeGVkKCkpXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBsaW5lSW5kZXg6IGJhc2VIZWlnaHRcbiAgICB9KVxuICB9XG5cbiAgZm9jdXNUZXh0ID0gKCkgPT4ge1xuICAgIHRoaXMudGV4dGFyZWEuZm9jdXMoKVxuICB9XG5cbiAgcmVIZWlnaHQgPSAoKSA9PiB7XG4gICAgdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSAnJ1xuICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gdGhpcy50ZXh0YXJlYS5zY3JvbGxIZWlnaHQgKyAncHgnXG4gICAgdGhpcy5yZUxpbmVOdW0oKVxuICB9XG5cbiAgaGFuZGxlU2NvbGwgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHJhZGlvID1cbiAgICAgIHRoaXMuYmxvY2tFZGl0LnNjcm9sbFRvcCAvXG4gICAgICAodGhpcy5zY3JvbGxFZGl0LnNjcm9sbEhlaWdodCAtIGUuY3VycmVudFRhcmdldC5vZmZzZXRIZWlnaHQpXG4gICAgdGhpcy5ibG9ja0VkaXQuc2Nyb2xsVG9wID1cbiAgICAgICh0aGlzLnNjcm9sbEVkaXQuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5ibG9ja0VkaXQub2Zmc2V0SGVpZ2h0KSAqIHJhZGlvXG4gIH1cblxuICBzYXZlSGlzdG9yeSA9ICh2YWx1ZSkgPT4ge1xuICAgIGxldCB7IGhpc3RvcnksIGhpc3RvcnlJbmRleCB9ID0gdGhpcy5zdGF0ZVxuICAgIGhpc3Rvcnkuc3BsaWNlKGhpc3RvcnlJbmRleCArIDEsIGhpc3RvcnkubGVuZ3RoKVxuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+PSAyMCkge1xuICAgICAgaGlzdG9yeS5zaGlmdCgpXG4gICAgfVxuICAgIGhpc3RvcnlJbmRleCA9IGhpc3RvcnkubGVuZ3RoXG4gICAgaGlzdG9yeS5wdXNoKHZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlzdG9yeSxcbiAgICAgIGhpc3RvcnlJbmRleFxuICAgIH0pXG4gIH1cblxuICB1bmRvID0gKCkgPT4ge1xuICAgIGxldCB7IGhpc3RvcnksIGhpc3RvcnlJbmRleCB9ID0gdGhpcy5zdGF0ZVxuICAgIGhpc3RvcnlJbmRleCA9IGhpc3RvcnlJbmRleCAtIDFcbiAgICBpZiAoaGlzdG9yeUluZGV4IDwgMCkgcmV0dXJuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShoaXN0b3J5W2hpc3RvcnlJbmRleF0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBoaXN0b3J5SW5kZXhcbiAgICB9KVxuICB9XG5cbiAgcmVkbyA9ICgpID0+IHtcbiAgICBsZXQgeyBoaXN0b3J5LCBoaXN0b3J5SW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBoaXN0b3J5SW5kZXggPSBoaXN0b3J5SW5kZXggKyAxXG4gICAgaWYgKGhpc3RvcnlJbmRleCA+PSBoaXN0b3J5Lmxlbmd0aCkgcmV0dXJuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShoaXN0b3J5W2hpc3RvcnlJbmRleF0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBoaXN0b3J5SW5kZXhcbiAgICB9KVxuICB9XG5cbiAgbGVmdFRvb2xCYXJDbGljayA9IHR5cGUgPT4ge1xuICAgIGNvbnN0IHR5cGVPYmogPSB7XG4gICAgICBoMToge1xuICAgICAgICBwcmVmaXg6ICcjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgMVwiXG4gICAgICB9LFxuICAgICAgaDI6IHtcbiAgICAgICAgcHJlZml4OiAnIyMgJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOiBcIkhlYWRlciAyXCJcbiAgICAgIH0sXG4gICAgICBoMzoge1xuICAgICAgICBwcmVmaXg6ICcjIyMgJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOiBcIkhlYWRlciAzXCJcbiAgICAgIH0sXG4gICAgICBoNDoge1xuICAgICAgICBwcmVmaXg6ICcjIyMjICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJIZWFkZXIgNFwiXG4gICAgICB9LFxuICAgICAgaDU6IHtcbiAgICAgICAgcHJlZml4OiAnIyMjIyMgJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOiBcIkhlYWRlciA1XCJcbiAgICAgIH0sXG4gICAgICBoNjoge1xuICAgICAgICBwcmVmaXg6ICcjIyMjIyMgJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOiBcIkhlYWRlciA2XCJcbiAgICAgIH0sXG4gICAgICBxdW90ZToge1xuICAgICAgICBwcmVmaXg6ICc+ICcsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjogXCJRdW90ZVwiXG4gICAgICB9LFxuICAgICAgaXRhbGljOiB7XG4gICAgICAgIHByZWZpeDogJ18nLFxuICAgICAgICBzdWJmaXg6ICdfJyxcbiAgICAgICAgc3RyOiBcIml0YWxpY1wiXG4gICAgICB9LFxuICAgICAgYm9sZDoge1xuICAgICAgICBwcmVmaXg6ICcqKicsXG4gICAgICAgIHN1YmZpeDogJyoqJyxcbiAgICAgICAgc3RyOiBcImJvbGRcIlxuICAgICAgfSxcbiAgICAgIGJvbGRpdGFsaWM6IHtcbiAgICAgICAgcHJlZml4OiAnKioqJyxcbiAgICAgICAgc3ViZml4OiAnKioqJyxcbiAgICAgICAgc3RyOiBcImJvbGQgaXRhbGljXCJcbiAgICAgIH0sXG4gICAgICBkZWxsaW5lOiB7XG4gICAgICAgIHByZWZpeDogJ35+JyxcbiAgICAgICAgc3ViZml4OiAnfn4nLFxuICAgICAgICBzdHI6IFwiZGVsZXRlIGxpbmVcIlxuICAgICAgfSxcbiAgICAgIHVuZGVybGluZToge1xuICAgICAgICBwcmVmaXg6ICc8dT4nLFxuICAgICAgICBzdWJmaXg6ICc8L3U+JyxcbiAgICAgICAgc3RyOiBcInVuZGVybGluZVwiXG4gICAgICB9LFxuICAgICAgc3VwZXJzY3JpcHQ6IHtcbiAgICAgICAgcHJlZml4OiAneDxzdXA+JyxcbiAgICAgICAgc3ViZml4OiAnPC9zdXA+JyxcbiAgICAgICAgc3RyOiAneSdcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpcHQ6IHtcbiAgICAgICAgcHJlZml4OiAnYTxzdWI+JyxcbiAgICAgICAgc3ViZml4OiAnPC9zdWI+JyxcbiAgICAgICAgc3RyOiAnJ1xuICAgICAgfSxcbiAgICAgIHRhYmxlOiB7XG4gICAgICAgIHByZWZpeDogJycsXG4gICAgICAgIHN1YmZpeDogJycsXG4gICAgICAgIHN0cjpcbiAgICAgICAgICAnfCB0aXRsZSAgICAgIHwgZGVzY3JpcHRpb24gICAgIHxcXG58IC0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0gfFxcbnwgZm9yLWVkaXRvciB8IG1hcmtkb3duIGVkaXRvciB8XFxuJ1xuICAgICAgfSxcbiAgICAgIGltZzoge1xuICAgICAgICBwcmVmaXg6ICchW2FsdF0oJyxcbiAgICAgICAgc3ViZml4OiAnKScsXG4gICAgICAgIHN0cjogJ3VybCdcbiAgICAgIH0sXG4gICAgICBsaW5rOiB7XG4gICAgICAgIHByZWZpeDogJ1t0aXRsZV0oJyxcbiAgICAgICAgc3ViZml4OiAnKScsXG4gICAgICAgIHN0cjogJ3VybCdcbiAgICAgIH0sXG4gICAgICBvcmRlcmxpc3Q6IHtcbiAgICAgICAgcHJlZml4OiAnXFxuMS4gJyxcbiAgICAgICAgc3ViZml4OiAnJyxcbiAgICAgICAgc3RyOiAnaXRlbSdcbiAgICAgIH0sXG4gICAgICBkaXNvcmRlcmxpc3Q6IHtcbiAgICAgICAgcHJlZml4OiAnXFxuLSAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6ICdpdGVtJ1xuICAgICAgfSxcbiAgICAgIGNoZWNrbGlzdDoge1xuICAgICAgICBwcmVmaXg6ICdcXG4tIFt4XSAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6ICdpdGVtJ1xuICAgICAgfSxcbiAgICAgIGlubGluZWNvZGU6IHtcbiAgICAgICAgcHJlZml4OiAnYCcsXG4gICAgICAgIHN1YmZpeDogJ2AnLFxuICAgICAgICBzdHI6IFwiaW5saW5lY29kZVwiXG4gICAgICB9LFxuICAgICAgY29kZToge1xuICAgICAgICBwcmVmaXg6ICdgYGAnLFxuICAgICAgICBzdWJmaXg6ICdcXG5cXG5gYGAnLFxuICAgICAgICBzdHI6ICdsYW5ndWFnZSdcbiAgICAgIH0sXG4gICAgICB0YWI6IHtcbiAgICAgICAgcHJlZml4OiAnICAnLFxuICAgICAgICBzdWJmaXg6ICcnLFxuICAgICAgICBzdHI6ICcnXG4gICAgICB9LFxuICAgICAgc3BvaWxlcjoge1xuICAgICAgICBwcmVmaXg6IFwiXFxuXFxuW3Nwb2lsZXJdXFxuXCIsXG4gICAgICAgIHN1YmZpeDogXCJcXG5bL3Nwb2lsZXJdXFxuXFxuXCJcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZU9iai5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBpbnNlcnRUZXh0KHR5cGVPYmpbdHlwZV0pXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlKVxuICAgIH1cbiAgICBjb25zdCBvdGhlckxlZnRDbGljayA9IHtcbiAgICAgIHVuZG86IHRoaXMudW5kbyxcbiAgICAgIHJlZG86IHRoaXMucmVkb1xuICAgIH1cbiAgICBpZiAob3RoZXJMZWZ0Q2xpY2suaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgIG90aGVyTGVmdENsaWNrW3R5cGVdKClcbiAgICB9XG5cbiAgfVxuXG4gIHJpZ2h0VG9vbGJhckNsaWNrID0gKHR5cGUpID0+IHtcbiAgICBjb25zdCB0b29sYmFyUmlnaHRQcmV2aWV3Q2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcHJldmlldzogIXRoaXMuc3RhdGUucHJldmlld1xuICAgICAgICB9KVxuICAgIH1cbiAgICBjb25zdCB0b29sYmFyUmlnaHRFeHBhbmRDbGljayA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBleHBhbmQ6ICF0aGlzLnN0YXRlLmV4cGFuZFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IHRvb2xiYXJSaWdodFN1YmZpZWxkQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcHJldmlldywgc3ViZmllbGQgfSA9IHRoaXMuc3RhdGVcbiAgICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgICAgICB0aGlzLnJlSGVpZ2h0KClcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHN1YmZpZWxkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlldzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc3ViZmllbGQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN1YmZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHN1YmZpZWxkOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdWJmaWVsZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmlnaHRDbGljayA9IHtcbiAgICAgICAgcHJldmlldzogdG9vbGJhclJpZ2h0UHJldmlld0NsaWNrLFxuICAgICAgICBleHBhbmQ6IHRvb2xiYXJSaWdodEV4cGFuZENsaWNrLFxuICAgICAgICBzdWJmaWVsZDogdG9vbGJhclJpZ2h0U3ViZmllbGRDbGlja1xuICAgICAgfVxuICAgICAgaWYgKHJpZ2h0Q2xpY2suaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgcmlnaHRDbGlja1t0eXBlXSgpXG4gICAgICB9XG59XG5cbiAgaGFuZGxlQ2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcmV2aWV3LCBleHBhbmQsIHN1YmZpZWxkLCBsaW5lSW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IHZhbHVlLCBsb2FkaW5nLCBoZWlnaHQgfSA9IHRoaXMucHJvcHNcblxuXG4gICAgY29uc3QgZnVsbHNjcmVlbiA9IGNsYXNzTmFtZXMoe1xuICAgICAgJ2stY29udGFpbmVyJzogdHJ1ZSxcbiAgICAgICdrLWZ1bGxzY3JlZW4nOiBleHBhbmRcbiAgICB9KVxuXG4gICAgY29uc3QgZWRpdG9yQ2xhc3MgPSBjbGFzc05hbWVzKHtcbiAgICAgICdrLWVkaXRvci1lZGl0JzogdHJ1ZSxcbiAgICAgICdrLXBhbmVsJzogdHJ1ZSxcbiAgICAgICdrLWFjdGl2ZSc6IHByZXZpZXcgJiYgc3ViZmllbGQsXG4gICAgICAnay1lZGl0LXByZXZpZXcnOiBwcmV2aWV3ICYmICFzdWJmaWVsZFxuICAgIH0pXG4gICAgY29uc3QgcHJldmlld0NsYXNzID0gY2xhc3NOYW1lcyh7XG4gICAgICAnay1wYW5lbCc6IHRydWUsXG4gICAgICAnay1lZGl0b3ItcHJldmlldyc6IHRydWUsXG4gICAgICAnay1hY3RpdmUnOiBwcmV2aWV3ICYmIHN1YmZpZWxkXG4gICAgfSlcblxuICAgIGNvbnN0IGxpbmVOdW0gPSAoKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZUluZGV4OyBpKyspIHtcbiAgICAgICAgbGlzdC5wdXNoKDxsaSBrZXk9e2kgKyAxfT57aSArIDF9PC9saT4pXG4gICAgICB9XG4gICAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImstbGluZS1udW1cIj57bGlzdH08L3VsPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17ZnVsbHNjcmVlbn0gc3R5bGU9e3toZWlnaHR9fT5cbiAgICAgICAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICAgICAgICBleHBhbmQ9e2V4cGFuZH1cbiAgICAgICAgICAgICAgICBzdWJmaWVsZD17c3ViZmllbGR9XG4gICAgICAgICAgICAgICAgcHJldmlldz17cHJldmlld31cbiAgICAgICAgICAgICAgICBvbkNsaWNrTGVmdD17dGhpcy5sZWZ0VG9vbEJhckNsaWNrfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2tSaWdodD17dGhpcy5yaWdodFRvb2xiYXJDbGlja31cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLWVkaXRvclwiPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17ZWRpdG9yQ2xhc3N9XG4gICAgICAgICAgICBpZD1cImJsb2NrRWRpdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmZvY3VzVGV4dH1cbiAgICAgICAgICAgIG9uU2Nyb2xsPXt0aGlzLmhhbmRsZVNjb2xsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiay1lZGl0b3ItYmxvY2tcIiBpZD1cInNjcm9sbEVkaXRcIj5cbiAgICAgICAgICAgICAge2xpbmVOdW0oKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJrLWVkaXRvci1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPHByZSBpZD1cInRydWUtdmFsdWVcIj57dmFsdWV9PC9wcmU+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiZWRpdG9yLXRleHRhcmVhXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuaGFuZGxlQ2hhbmdlKGUpfVxuICAgICAgICAgICAgICAgICAgLy8gb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcIldyaXRlIFNvbWVcIn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtwcmV2aWV3Q2xhc3N9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBpZD1cImstcHJldmlld1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImstcHJldmlldyBrLW1hcmtkb3duLXByZXZpZXdcIlxuICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1hcmtlZCh2YWx1ZSkgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1mb290ZXJcIiBzdHlsZT17eyBvdmVyZmxvdzogJ2hpZGRlbicsIHBhZGRpbmc6ICcxMHB4J319PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5zdWJtaXRMYWJlbCB8fCBnZXR0ZXh0KFwiUG9zdFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4IHZpc2libGUteHMtYmxvY2tcIiAvPlxuICAgICAgICAgIDxQcm90ZWN0XG4gICAgICAgICAgICBjYW5Qcm90ZWN0PXt0aGlzLnByb3BzLmNhblByb3RlY3R9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25Qcm90ZWN0PXt0aGlzLnByb3BzLm9uUHJvdGVjdH1cbiAgICAgICAgICAgIG9uVW5wcm90ZWN0PXt0aGlzLnByb3BzLm9uVW5wcm90ZWN0fVxuICAgICAgICAgICAgcHJvdGVjdD17dGhpcy5wcm9wcy5wcm90ZWN0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QXR0YWNobWVudHNFZGl0b3JcbiAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5wcm9wcy5hdHRhY2htZW50c31cbiAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMuY2FuUHJvdGVjdCkgcmV0dXJuIG51bGxcblxuICBjb25zdCBsYWJlbCA9IHByb3BzLnByb3RlY3QgPyBnZXR0ZXh0KFwiUHJvdGVjdGVkXCIpIDogZ2V0dGV4dChcIlByb3RlY3RcIilcblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4taWNvbiBidG4tZGVmYXVsdCBidG4tcHJvdGVjdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5wcm90ZWN0ID8gcHJvcHMub25VbnByb3RlY3QgOiBwcm9wcy5vblByb3RlY3R9XG4gICAgICB0aXRsZT17bGFiZWx9XG4gICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHtwcm9wcy5wcm90ZWN0ID8gXCJsb2NrXCIgOiBcImxvY2tfb3V0bGluZVwifVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiPntsYWJlbH08L3NwYW4+XG4gICAgPC9idXR0b24+XG4gIClcbn1cbiIsImV4cG9ydCBjb25zdCB0ZXh0YXJlYUlkID0gXCJlZGl0b3ItdGV4dGFyZWFcIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dGFyZWEoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0YXJlYUlkKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0YXJlYUlkKS52YWx1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICByZXR1cm4ge1xuICAgIHN0YXJ0LFxuICAgIGVuZFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpXG4gIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICBjdHJsLmZvY3VzKClcbiAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpXG4gICAgY29uc3QgbGVuZ3RoID0gcmFuZ2UudGV4dC5sZW5ndGhcbiAgICByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLWN0cmwudmFsdWUubGVuZ3RoKVxuICAgIHJldHVybiBnZXRTZWxlY3Rpb25SYW5nZShyYW5nZS50ZXh0Lmxlbmd0aCAtIGxlbmd0aCwgcmFuZ2UudGV4dC5sZW5ndGgpXG4gIH0gZWxzZSBpZiAoY3RybC5zZWxlY3Rpb25TdGFydCB8fCBjdHJsLnNlbGVjdGlvblN0YXJ0ID09IFwiMFwiKSB7XG4gICAgcmV0dXJuIGdldFNlbGVjdGlvblJhbmdlKGN0cmwuc2VsZWN0aW9uU3RhcnQsIGN0cmwuc2VsZWN0aW9uRW5kKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UZXh0KCkge1xuICBjb25zdCByYW5nZSA9IGdldFNlbGVjdGlvbigpXG4gIHJldHVybiAkLnRyaW0oZ2V0VmFsdWUoKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uUmFuZ2UpIHtcbiAgY29uc3QgY3RybCA9IGdldFRleHRhcmVhKClcbiAgaWYgKGN0cmwuc2V0U2VsZWN0aW9uUmFuZ2UpIHtcbiAgICBjdHJsLmZvY3VzKClcbiAgICBjdHJsLnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblJhbmdlLnN0YXJ0LCBzZWxlY3Rpb25SYW5nZS5lbmQpXG4gIH0gZWxzZSBpZiAoY3RybC5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICBjb25zdCByYW5nZSA9IGN0cmwuY3JlYXRlVGV4dFJhbmdlKClcbiAgICByYW5nZS5jb2xsYXBzZSh0cnVlKVxuICAgIHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBzZWxlY3Rpb25SYW5nZS5zdGFydClcbiAgICByYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIHNlbGVjdGlvblJhbmdlLmVuZClcbiAgICByYW5nZS5zZWxlY3QoKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVwbGFjZShteVJhbmdlLCByZXBsYWNlbWVudCkge1xuICBjb25zdCBjdHJsID0gZ2V0VGV4dGFyZWEoKVxuICBjb25zdCB0ZXh0ID0gY3RybC52YWx1ZVxuICBjb25zdCBzdGFydFRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBteVJhbmdlLnN0YXJ0KVxuICBjdHJsLnZhbHVlID1cbiAgICB0ZXh0LnN1YnN0cmluZygwLCBteVJhbmdlLnN0YXJ0KSArIHJlcGxhY2VtZW50ICsgdGV4dC5zdWJzdHJpbmcobXlSYW5nZS5lbmQpXG4gIHNldFNlbGVjdGlvbihcbiAgICBnZXRTZWxlY3Rpb25SYW5nZShcbiAgICAgIHN0YXJ0VGV4dC5sZW5ndGggKyByZXBsYWNlbWVudC5sZW5ndGgsXG4gICAgICBzdGFydFRleHQubGVuZ3RoICsgcmVwbGFjZW1lbnQubGVuZ3RoXG4gICAgKVxuICApXG4gIHJldHVybiBjdHJsLnZhbHVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKHJlcGxhY2VtZW50KSB7XG4gIHJldHVybiBfcmVwbGFjZShnZXRTZWxlY3Rpb24oKSwgcmVwbGFjZW1lbnQpXG59XG4iLCJmdW5jdGlvbiBpbnNlcnRUZXh0KHBhcmFtcykge1xuICAgIGNvbnN0ICR2bSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdG9yLXRleHRhcmVhXCIpXG4gICAgY29uc3QgeyBwcmVmaXgsIHN0ciA9ICcnLCBzdWJmaXggPSAnJyB9ID0gcGFyYW1zXG4gICAgY29uc3QgdmFsdWUgPSAkdm0udmFsdWVcbiAgICBpZiAoJHZtLnNlbGVjdGlvblN0YXJ0IHx8ICR2bS5zZWxlY3Rpb25TdGFydCA9PT0gMCkge1xuICAgICAgY29uc3Qgc3RhcnQgPSAkdm0uc2VsZWN0aW9uU3RhcnRcbiAgICAgIGNvbnN0IGVuZCA9ICR2bS5zZWxlY3Rpb25FbmRcbiAgXG4gICAgICBjb25zdCByZXN0b3JlVG9wID0gJHZtLnNjcm9sbFRvcFxuICBcbiAgICAgIGlmIChzdGFydCA9PT0gZW5kKSB7XG4gICAgICAgICR2bS52YWx1ZSA9XG4gICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKDAsIHN0YXJ0KSArXG4gICAgICAgICAgcHJlZml4ICtcbiAgICAgICAgICBzdHIgK1xuICAgICAgICAgIHN1YmZpeCArXG4gICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKGVuZCwgdmFsdWUubGVuZ3RoKVxuICAgICAgICAkdm0uc2VsZWN0aW9uU3RhcnQgPSBzdGFydCArIHByZWZpeC5sZW5ndGhcbiAgICAgICAgJHZtLnNlbGVjdGlvbkVuZCA9IGVuZCArIHByZWZpeC5sZW5ndGggKyBzdHIubGVuZ3RoXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkdm0udmFsdWUgPVxuICAgICAgICAgIHZhbHVlLnN1YnN0cmluZygwLCBzdGFydCkgK1xuICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgdmFsdWUuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpICtcbiAgICAgICAgICBzdWJmaXggK1xuICAgICAgICAgIHZhbHVlLnN1YnN0cmluZyhlbmQsIHZhbHVlLmxlbmd0aClcbiAgICAgICAgJHZtLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQgKyBwcmVmaXgubGVuZ3RoXG4gICAgICAgICR2bS5zZWxlY3Rpb25FbmQgPSBlbmQgKyBwcmVmaXgubGVuZ3RoXG4gICAgICB9XG4gIFxuICAgICAgJHZtLmZvY3VzKClcbiAgICAgIGlmIChyZXN0b3JlVG9wID49IDApIHtcbiAgICAgICAgJHZtLnNjcm9sbFRvcCA9IHJlc3RvcmVUb3BcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICR2bS52YWx1ZVxuICB9XG4gIFxuICBleHBvcnQge1xuICAgIGluc2VydFRleHRcbiAgfVxuICAiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc1ZhbGlkYXRlZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucHJvcHMudmFsaWRhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIlxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcImZvcm0tZ3JvdXBcIlxuICAgIGlmICh0aGlzLmlzVmFsaWRhdGVkKCkpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBoYXMtZmVlZGJhY2tcIlxuICAgICAgaWYgKHRoaXMucHJvcHMudmFsaWRhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICBjbGFzc05hbWUgKz0gXCIgaGFzLXN1Y2Nlc3NcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NOYW1lICs9IFwiIGhhcy1lcnJvclwiXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGFzc05hbWVcbiAgfVxuXG4gIGdldEZlZWRiYWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBlcnJvcnNcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy52YWxpZGF0aW9uLm1hcCgoZXJyb3IsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8cCBrZXk9e3RoaXMucHJvcHMuZm9yICsgXCJGZWVkYmFja0l0ZW1cIiArIGl9PntlcnJvcn08L3A+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEZlZWRiYWNrRGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gaWQ9e3RoaXMucHJvcHMuZm9yICsgXCJfc3RhdHVzXCJ9IGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy52YWxpZGF0aW9uID8gZ2V0dGV4dChcIihlcnJvcilcIikgOiBnZXR0ZXh0KFwiKHN1Y2Nlc3MpXCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+e3RoaXMucHJvcHMuaGVscFRleHR9PC9wPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8bGFiZWxcbiAgICAgICAgICBjbGFzc05hbWU9e1wiY29udHJvbC1sYWJlbCBcIiArICh0aGlzLnByb3BzLmxhYmVsQ2xhc3MgfHwgXCJcIil9XG4gICAgICAgICAgaHRtbEZvcj17dGhpcy5wcm9wcy5mb3IgfHwgXCJcIn1cbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmxhYmVsICsgXCI6XCJ9XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNvbnRyb2xDbGFzcyB8fCBcIlwifT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICB7dGhpcy5nZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2soKX1cbiAgICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmV4dHJhIHx8IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxubGV0IHZhbGlkYXRlUmVxdWlyZWQgPSByZXF1aXJlZCgpXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgdmFsaWRhdGUoKSB7XG4gICAgbGV0IGVycm9ycyA9IHt9XG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnNcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzLFxuICAgICAgb3B0aW9uYWw6IHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fVxuICAgIH1cblxuICAgIGxldCB2YWxpZGF0ZWRGaWVsZHMgPSBbXVxuXG4gICAgLy8gYWRkIHJlcXVpcmVkIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQuaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZFtuYW1lXVxuICAgICAgKSB7XG4gICAgICAgIHZhbGlkYXRlZEZpZWxkcy5wdXNoKG5hbWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIG9wdGlvbmFsIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbGlkYXRvcnMub3B0aW9uYWwuaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgdmFsaWRhdG9ycy5vcHRpb25hbFtuYW1lXVxuICAgICAgKSB7XG4gICAgICAgIHZhbGlkYXRlZEZpZWxkcy5wdXNoKG5hbWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgZmllbGRzIHZhbHVlc1xuICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdGVkRmllbGRzKSB7XG4gICAgICBsZXQgbmFtZSA9IHZhbGlkYXRlZEZpZWxkc1tpXVxuICAgICAgbGV0IGZpZWxkRXJyb3JzID0gdGhpcy52YWxpZGF0ZUZpZWxkKG5hbWUsIHRoaXMuc3RhdGVbbmFtZV0pXG5cbiAgICAgIGlmIChmaWVsZEVycm9ycyA9PT0gbnVsbCkge1xuICAgICAgICBlcnJvcnNbbmFtZV0gPSBudWxsXG4gICAgICB9IGVsc2UgaWYgKGZpZWxkRXJyb3JzKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IGZpZWxkRXJyb3JzXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yc1xuICB9XG5cbiAgaXNWYWxpZCgpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgZm9yIChsZXQgZmllbGQgaW4gZXJyb3JzKSB7XG4gICAgICBpZiAoZXJyb3JzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICBpZiAoZXJyb3JzW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHZhbGlkYXRlRmllbGQobmFtZSwgdmFsdWUpIHtcbiAgICBsZXQgZXJyb3JzID0gW11cbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9yc1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3JzID0ge1xuICAgICAgcmVxdWlyZWQ6ICh0aGlzLnN0YXRlLnZhbGlkYXRvcnMucmVxdWlyZWQgfHwgdGhpcy5zdGF0ZS52YWxpZGF0b3JzKVtuYW1lXSxcbiAgICAgIG9wdGlvbmFsOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLm9wdGlvbmFsIHx8IHt9KVtuYW1lXVxuICAgIH1cblxuICAgIGxldCByZXF1aXJlZEVycm9yID0gdmFsaWRhdGVSZXF1aXJlZCh2YWx1ZSkgfHwgZmFsc2VcblxuICAgIGlmICh2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAocmVxdWlyZWRFcnJvcikge1xuICAgICAgICBlcnJvcnMgPSBbcmVxdWlyZWRFcnJvcl1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLnJlcXVpcmVkW2ldKHZhbHVlKVxuICAgICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRpb25FcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsXG4gICAgfSBlbHNlIGlmIChyZXF1aXJlZEVycm9yID09PSBmYWxzZSAmJiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRvcnMub3B0aW9uYWxbaV0odmFsdWUpXG4gICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGZhbHNlID09PSBmaWVsZCB3YXNuJ3QgdmFsaWRhdGVkXG4gIH1cblxuICBiaW5kSW5wdXQgPSBuYW1lID0+IHtcbiAgICByZXR1cm4gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VWYWx1ZShuYW1lLCBldmVudC50YXJnZXQudmFsdWUpXG4gICAgfVxuICB9XG5cbiAgY2hhbmdlVmFsdWUgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICBbbmFtZV06IHZhbHVlXG4gICAgfVxuXG4gICAgY29uc3QgZm9ybUVycm9ycyA9IHRoaXMuc3RhdGUuZXJyb3JzIHx8IHt9XG4gICAgZm9ybUVycm9yc1tuYW1lXSA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCBuZXdTdGF0ZVtuYW1lXSlcbiAgICBuZXdTdGF0ZS5lcnJvcnMgPSBmb3JtRXJyb3JzXG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICB9XG5cbiAgaGFuZGxlU3VibWl0ID0gZXZlbnQgPT4ge1xuICAgIC8vIHdlIGRvbid0IHJlbG9hZCBwYWdlIG9uIHN1Ym1pc3Npb25zXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jbGVhbigpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pXG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuc2VuZCgpXG5cbiAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UudGhlbihcbiAgICAgICAgICBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3Moc3VjY2VzcylcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgaXNBY3RpdmUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNDb250cm9sbGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pc0FjdGl2ZVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5wYXRoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKHRoaXMucHJvcHMucGF0aCkgPT09IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAodGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJcIikgK1xuICAgICAgICBcIiBcIiArXG4gICAgICAgICh0aGlzLnByb3BzLmFjdGl2ZUNsYXNzTmFtZSB8fCBcImFjdGl2ZVwiKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9saT5cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcImxvYWRlclwifT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGVyLXNwaW5uaW5nLXdoZWVsXCIgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIi4vZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGJlc3RBbnN3ZXI6IFwiMFwiLFxuICAgICAgcG9sbDogXCIwXCJcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xscyAmJiB0aGlzLnN0YXRlLnBvbGwgPT09IFwiMFwiKSB7XG4gICAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKFxuICAgICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgcG9sbHM/XCIpXG4gICAgICApXG4gICAgICByZXR1cm4gY29uZmlybWF0aW9uXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMuZGF0YSwge1xuICAgICAgYmVzdF9hbnN3ZXI6IHRoaXMuc3RhdGUuYmVzdEFuc3dlcixcbiAgICAgIHBvbGw6IHRoaXMuc3RhdGUucG9sbFxuICAgIH0pXG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCBkYXRhKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyA9IHN1Y2Nlc3MgPT4ge1xuICAgIHRoaXMucHJvcHMub25TdWNjZXNzKHN1Y2Nlc3MpXG4gICAgbW9kYWwuaGlkZSgpXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkVycm9yKHJlamVjdGlvbilcbiAgfVxuXG4gIG9uQmVzdEFuc3dlckNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwiYmVzdEFuc3dlclwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvblBvbGxDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBvbGxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8QmVzdEFuc3dlclNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMuYmVzdEFuc3dlcnN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25CZXN0QW5zd2VyQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmJlc3RBbnN3ZXJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxQb2xsU2VsZWN0XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcm9wcy5wb2xsc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvbGxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9sbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVzdEFuc3dlclNlbGVjdCh7IGNob2ljZXMsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIGlmICghY2hvaWNlcykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxGb3JtR3JvdXBcbiAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQmVzdCBhbnN3ZXJcIil9XG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgXCJQbGVhc2Ugc2VsZWN0IHRoZSBiZXN0IGFuc3dlciBmb3IgeW91ciBuZXdseSBtZXJnZWQgdGhyZWFkLiBObyBwb3N0cyB3aWxsIGJlIGRlbGV0ZWQgZHVyaW5nIHRoZSBtZXJnZS5cIlxuICAgICAgKX1cbiAgICAgIGZvcj1cImlkX2Jlc3RfYW5zd2VyXCJcbiAgICA+XG4gICAgICA8c2VsZWN0XG4gICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgIGlkPVwiaWRfYmVzdF9hbnN3ZXJcIlxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgID5cbiAgICAgICAge2Nob2ljZXMubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2Nob2ljZVswXX0ga2V5PXtjaG9pY2VbMF19PlxuICAgICAgICAgICAgICB7Y2hvaWNlWzFdfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvRm9ybUdyb3VwPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsU2VsZWN0KHsgY2hvaWNlcywgb25DaGFuZ2UsIHZhbHVlIH0pIHtcbiAgaWYgKCFjaG9pY2VzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPEZvcm1Hcm91cFxuICAgICAgbGFiZWw9e2dldHRleHQoXCJQb2xsXCIpfVxuICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgIFwiUGxlYXNlIHNlbGVjdCB0aGUgcG9sbCBmb3IgeW91ciBuZXdseSBtZXJnZWQgdGhyZWFkLiBSZWplY3RlZCBwb2xscyB3aWxsIGJlIHBlcm1hbmVudGx5IGRlbGV0ZWQgYW5kIGNhbm5vdCBiZSByZWNvdmVyZWQuXCJcbiAgICAgICl9XG4gICAgICBmb3I9XCJpZF9wb2xsXCJcbiAgICA+XG4gICAgICA8c2VsZWN0XG4gICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgIGlkPVwiaWRfcG9sbFwiXG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgPlxuICAgICAgICB7Y2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y2hvaWNlWzBdfSBrZXk9e2Nob2ljZVswXX0+XG4gICAgICAgICAgICAgIHtjaG9pY2VbMV19XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9zZWxlY3Q+XG4gICAgPC9Gb3JtR3JvdXA+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG9uZWJveCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL29uZS1ib3hcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIG9uZWJveC5yZW5kZXIodGhpcy5kb2N1bWVudE5vZGUpXG4gICAgJCh0aGlzLmRvY3VtZW50Tm9kZSkuZmluZChcIi5zcG9pbGVyLXJldmVhbFwiKS5jbGljayhyZXZlYWxTcG9pbGVyKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgb25lYm94LnJlbmRlcih0aGlzLmRvY3VtZW50Tm9kZSlcbiAgICAkKHRoaXMuZG9jdW1lbnROb2RlKS5maW5kKFwiLnNwb2lsZXItcmV2ZWFsXCIpLmNsaWNrKHJldmVhbFNwb2lsZXIpXG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICByZXR1cm4gbmV4dFByb3BzLm1hcmt1cCAhPT0gdGhpcy5wcm9wcy5tYXJrdXBcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGFydGljbGVcbiAgICAgICAgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGhpcy5wcm9wcy5tYXJrdXAgfX1cbiAgICAgICAgcmVmPXtub2RlID0+IHtcbiAgICAgICAgICB0aGlzLmRvY3VtZW50Tm9kZSA9IG5vZGVcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIHJldmVhbFNwb2lsZXIoZXZlbnQpIHtcbiAgdmFyIGJ0biA9IGV2ZW50LnRhcmdldFxuICAkKGJ0bikucGFyZW50KCkucGFyZW50KCkuYWRkQ2xhc3MoXCJyZXZlYWxlZFwiKVxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1sb2FkZXJcIj5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFBhbmVsTWVzc2FnZSB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gfHwgXCJpbmZvX291dGxpbmVcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiY29uc3QgTUFYX1JFU1VMVFMgPSA1XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGRhdGEpIHtcbiAgY29uc3QgZmlsdGVyZWQgPSBkYXRhLmZpbHRlcihzZWN0aW9uID0+IHtcbiAgICByZXR1cm4gc2VjdGlvbi5yZXN1bHRzLmNvdW50ID4gMFxuICB9KVxuXG4gIHJldHVybiBmaWx0ZXJlZC5tYXAoc2VjdGlvbiA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgIGNvdW50OiBzZWN0aW9uLnJlc3VsdHMuY291bnQsXG4gICAgICByZXN1bHRzOiBzZWN0aW9uLnJlc3VsdHMucmVzdWx0cy5zbGljZSgwLCBNQVhfUkVTVUxUUylcbiAgICB9KVxuICB9KVxufVxuIiwiZXhwb3J0IGNvbnN0IEhFQURFUiA9IFwiSEVBREVSXCJcbmV4cG9ydCBjb25zdCBSRVNVTFQgPSBcIlJFU1VMVFwiXG5leHBvcnQgY29uc3QgRk9PVEVSID0gXCJGT09URVJcIlxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgSW5wdXQgZnJvbSBcIi4vaW5wdXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNoaWxkcmVuLCBvbkNoYW5nZSwgcXVlcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLXNlYXJjaC1yZXN1bHRzXCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgIDxJbnB1dCB2YWx1ZT17cXVlcnl9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cbiAgICAgIDwvbGk+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtbWVzc2FnZVwiPlxuICAgICAge2dldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gcmVzdWx0cy5cIil9XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IHsgSEVBREVSLCBSRVNVTFQsIEZPT1RFUiB9IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgY29uc3QgZmxhdGxpc3QgPSBbXVxuICBmbGF0dGVuUHJvdmlkZXJzKHJlc3VsdHMsIGZsYXRsaXN0KVxuICByZXR1cm4gZmxhdGxpc3Rcbn1cblxuZnVuY3Rpb24gZmxhdHRlblByb3ZpZGVycyhyZXN1bHRzLCBmbGF0bGlzdCkge1xuICBjb25zdCBhcnJheUxlbmd0aCA9IHJlc3VsdHMubGVuZ3RoXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gcmVzdWx0c1tpXVxuXG4gICAgZmxhdGxpc3QucHVzaCh7XG4gICAgICBwcm92aWRlcixcbiAgICAgIHR5cGU6IEhFQURFUlxuICAgIH0pXG5cbiAgICBmbGF0dGVuUHJvdmlkZXIocHJvdmlkZXIsIGZsYXRsaXN0KVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5Qcm92aWRlcihwcm92aWRlciwgZmxhdGxpc3QpIHtcbiAgY29uc3QgYXJyYXlMZW5ndGggPSBwcm92aWRlci5yZXN1bHRzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZXN1bHQgPSBwcm92aWRlci5yZXN1bHRzW2ldXG4gICAgZmxhdGxpc3QucHVzaCh7XG4gICAgICBwcm92aWRlcixcbiAgICAgIHJlc3VsdCxcbiAgICAgIHR5cGU6IFJFU1VMVFxuICAgIH0pXG4gIH1cblxuICBmbGF0bGlzdC5wdXNoKHtcbiAgICBwcm92aWRlcixcbiAgICB0eXBlOiBGT09URVJcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgUkVTVUxUIH0gZnJvbSBcIi4vY29uc3RhbnRzXCJcbmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSBcIi4vZHJvcGRvd24tbWVudVwiXG5pbXBvcnQgRW1wdHkgZnJvbSBcIi4vZW1wdHlcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwiLi9sb2FkZXJcIlxuaW1wb3J0IFJlc3VsdCBmcm9tIFwiLi9yZXN1bHRcIlxuaW1wb3J0IGZsYXR0ZW5SZXN1bHRzIGZyb20gXCIuL2ZsYXR0ZW4tcmVzdWx0c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgaXNMb2FkaW5nLCBvbkNoYW5nZSwgcmVzdWx0cywgcXVlcnkgfSkge1xuICBpZiAoIXF1ZXJ5LnRyaW0oKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0gLz5cbiAgfVxuXG4gIGlmIChyZXN1bHRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZsYXRSZXN1bHRzID0gZmxhdHRlblJlc3VsdHMocmVzdWx0cylcblxuICAgIHJldHVybiAoXG4gICAgICA8RHJvcGRvd25NZW51IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcXVlcnk9e3F1ZXJ5fT5cbiAgICAgICAge2ZsYXRSZXN1bHRzLm1hcChwcm9wcyA9PiB7XG4gICAgICAgICAgY29uc3QgeyB0eXBlLCBwcm92aWRlciwgcmVzdWx0IH0gPSBwcm9wc1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT09IFJFU1VMVCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPFJlc3VsdFxuICAgICAgICAgICAgICAgIGtleT17W3Byb3ZpZGVyLmlkLCB0eXBlLCByZXN1bHQuaWRdLmpvaW4oXCJfXCIpfVxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlc3VsdFxuICAgICAgICAgICAgICBrZXk9e1twcm92aWRlci5pZCwgdHlwZV0uam9pbihcIl9cIil9XG4gICAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgKVxuICB9IGVsc2UgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8RHJvcGRvd25NZW51IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcXVlcnk9e3F1ZXJ5fT5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcXVlcnk9e3F1ZXJ5fT5cbiAgICAgIDxFbXB0eSAvPlxuICAgIDwvRHJvcGRvd25NZW51PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB2YWx1ZSwgb25DaGFuZ2UgfSkge1xuICByZXR1cm4gKFxuICAgIDxpbnB1dFxuICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLXNlYXJjaC1yZXN1bHRzXCJcbiAgICAgIGF1dG9Db21wbGV0ZT1cIm9mZlwiXG4gICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJTZWFyY2hcIil9XG4gICAgICByb2xlPVwiY29tYm9ib3hcIlxuICAgICAgdHlwZT1cInRleHRcIlxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBtZXNzYWdlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLWxvYWRlclwiPlxuICAgICAgPExvYWRlciAvPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCBxdWVyeSB9KSB7XG4gIGNvbnN0IHVybCA9IHByb3ZpZGVyLnVybCArIFwiP3E9XCIgKyBlbmNvZGVVUkkocXVlcnkpXG4gIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgJ1NlZSBmdWxsIFwiJShwcm92aWRlcilzXCIgcmVzdWx0cyBwYWdlIHdpdGggJShjb3VudClzIHJlc3VsdC4nLFxuICAgICdTZWUgZnVsbCBcIiUocHJvdmlkZXIpc1wiIHJlc3VsdHMgcGFnZSB3aXRoICUoY291bnQpcyByZXN1bHRzLicsXG4gICAgcHJvdmlkZXIuY291bnRcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1mb290ZXJcIj5cbiAgICAgIDxhIGhyZWY9e3VybH0+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb3VudDogcHJvdmlkZXIuY291bnQsXG4gICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIubmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyIH0pIHtcbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtaGVhZGVyXCI+e3Byb3ZpZGVyLm5hbWV9PC9saT5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgSEVBREVSLCBGT09URVIgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4vZm9vdGVyXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBSZXN1bHQgZnJvbSBcIi4vcmVzdWx0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwcm92aWRlciwgcmVzdWx0LCB0eXBlLCBxdWVyeSB9KSB7XG4gIGlmICh0eXBlID09PSBIRUFERVIpIHtcbiAgICByZXR1cm4gPEhlYWRlciBwcm92aWRlcj17cHJvdmlkZXJ9IC8+XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gRk9PVEVSKSB7XG4gICAgcmV0dXJuIDxGb290ZXIgcHJvdmlkZXI9e3Byb3ZpZGVyfSBxdWVyeT17cXVlcnl9IC8+XG4gIH1cblxuICByZXR1cm4gPFJlc3VsdCBwcm92aWRlcj17cHJvdmlkZXJ9IHJlc3VsdD17cmVzdWx0fSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVGhyZWFkIGZyb20gXCIuL3RocmVhZFwiXG5pbXBvcnQgVXNlciBmcm9tIFwiLi91c2VyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwcm92aWRlciwgcmVzdWx0IH0pIHtcbiAgaWYgKHByb3ZpZGVyLmlkID09PSBcInRocmVhZHNcIikge1xuICAgIHJldHVybiA8VGhyZWFkIHJlc3VsdD17cmVzdWx0fSAvPlxuICB9XG5cbiAgcmV0dXJuIDxVc2VyIHJlc3VsdD17cmVzdWx0fSAvPlxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJlc3VsdCB9KSB7XG4gIGNvbnN0IHsgcG9zdGVyLCB0aHJlYWQgfSA9IHJlc3VsdFxuICBjb25zdCBmb290ZXIgPSBnZXR0ZXh0KFxuICAgIFwiUG9zdGVkIGJ5ICUocG9zdGVyKXMgb24gJShwb3N0ZWRfb24pcyBpbiAlKGNhdGVnb3J5KXMuXCJcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cmVzdWx0LnVybC5pbmRleH0gY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXRocmVhZFwiPlxuICAgICAgICA8aDU+e3RocmVhZC50aXRsZX08L2g1PlxuICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLXBvc3QtY29udGVudFwiPlxuICAgICAgICAgIHskKHJlc3VsdC5jb250ZW50KS50ZXh0KCl9XG4gICAgICAgIDwvc21hbGw+XG4gICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtcG9zdC1mb290ZXJcIj5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBmb290ZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNhdGVnb3J5OiByZXN1bHQuY2F0ZWdvcnkubmFtZSxcbiAgICAgICAgICAgICAgcG9zdGVkX29uOiBtb21lbnQocmVzdWx0LnBvc3RlZF9vbikuZm9ybWF0KFwiTExcIiksXG4gICAgICAgICAgICAgIHBvc3RlcjogcmVzdWx0LnBvc3Rlcl9uYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICl9XG4gICAgICAgIDwvc21hbGw+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByZXN1bHQgfSkge1xuICBjb25zdCB7IHJhbmsgfSA9IHJlc3VsdFxuXG4gIGNvbnN0IGRldGFpbCA9IGdldHRleHQoXCIlKHRpdGxlKXMsIGpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpXG4gIGNvbnN0IHRpdGxlID0gcmVzdWx0LnRpdGxlIHx8IHJhbmsudGl0bGUgfHwgcmFuay5uYW1lXG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtyZXN1bHQudXJsfSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtdXNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9ezM4fSB1c2VyPXtyZXN1bHR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPntyZXN1bHQudXNlcm5hbWV9PC9oNT5cbiAgICAgICAgICAgIDxzbWFsbD5cbiAgICAgICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAgIGpvaW5lZF9vbjogbW9tZW50KHJlc3VsdC5qb2luZWRfb24pLmZvcm1hdChcIkxMXCIpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGNsZWFuUmVzdWx0cyBmcm9tIFwiLi9jbGVhbi1yZXN1bHRzXCJcbmltcG9ydCBEcm9wZG93biBmcm9tIFwiLi9kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICByZXN1bHRzOiBbXVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGxcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbkRvY3VtZW50TW91c2VEb3duKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25Fc2NhcGUpXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93bilcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uRXNjYXBlKVxuICB9XG5cbiAgb25Ub2dnbGUgPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKCFwcmV2U3RhdGUuaXNPcGVuKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZm9jdXMoKVxuICAgICAgICB9LCAxMDApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGlzT3BlbjogIXByZXZTdGF0ZS5pc09wZW4gfVxuICAgIH0pXG4gIH1cblxuICBvbkRvY3VtZW50TW91c2VEb3duID0gZXYgPT4ge1xuICAgIGxldCBjbG9zZVJlc3VsdHMgPSB0cnVlXG4gICAgbGV0IG5vZGUgPSBldi50YXJnZXRcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsICYmIG5vZGUgIT09IGRvY3VtZW50KSB7XG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgY2xvc2VSZXN1bHRzID0gZmFsc2VcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VSZXN1bHRzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxuICAgIH1cbiAgfVxuXG4gIG9uRXNjYXBlID0gZXYgPT4ge1xuICAgIGlmIChldi5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46IGZhbHNlIH0pXG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBldi50YXJnZXQudmFsdWVcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBxdWVyeSB9KVxuICAgIHRoaXMubG9hZFJlc3VsdHMocXVlcnkudHJpbSgpKVxuICB9XG5cbiAgbG9hZFJlc3VsdHMocXVlcnkpIHtcbiAgICBpZiAoIXF1ZXJ5Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICBjb25zdCBkZWxheSA9IDMwMCArIE1hdGgucmFuZG9tKCkgKiAzMDBcblxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbElkKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSlcblxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJTRUFSQ0hfQVBJXCIpLCB7IHE6IHF1ZXJ5IH0pLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZXN1bHRzOiBjbGVhblJlc3VsdHMoZGF0YSlcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9LCBkZWxheSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJuYXZiYXItc2VhcmNoIGRyb3Bkb3duXCJcbiAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW4pIGNsYXNzTmFtZSArPSBcIiBvcGVuXCJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICByZWY9e2NvbnRhaW5lciA9PiAodGhpcy5jb250YWluZXIgPSBjb250YWluZXIpfVxuICAgICAgPlxuICAgICAgICA8YVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1pY29uXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiU0VBUkNIX1VSTFwiKX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uVG9nZ2xlfVxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNlYXJjaDwvaT5cbiAgICAgICAgPC9hPlxuICAgICAgICA8RHJvcGRvd25cbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJlc3VsdHM9e3RoaXMuc3RhdGUucmVzdWx0c31cbiAgICAgICAgICBxdWVyeT17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJZb3Ugd2lsbCBiZSBhYmxlIHRvIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUobmV4dF9jaGFuZ2Upcy5cIiksXG4gICAgICAgIHsgbmV4dF9jaGFuZ2U6IHRoaXMucHJvcHMub3B0aW9ucy5uZXh0X29uLmZyb21Ob3coKSB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGhhdmUgdXNlZCB1cCBhdmFpbGFibGUgbmFtZSBjaGFuZ2VzLlwiKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxQYW5lbE1lc3NhZ2VcbiAgICAgICAgICBoZWxwVGV4dD17dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJZb3UgY2FuJ3QgY2hhbmdlIHlvdXIgdXNlcm5hbWUgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VybmFtZTogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aChwcm9wcy5vcHRpb25zLmxlbmd0aF9taW4pLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgocHJvcHMub3B0aW9ucy5sZW5ndGhfbWF4KVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgbGV0IHBocmFzZXMgPSBbXVxuXG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBjYW4gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShjaGFuZ2VzX2xlZnQpcyBtb3JlIHRpbWUuXCIsXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZXMuXCIsXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnRcbiAgICAgIClcblxuICAgICAgcGhyYXNlcy5wdXNoKFxuICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNoYW5nZXNfbGVmdDogdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZSA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIGJlY29tZSBhdmFpbGFibGUgYWdhaW4gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5LlwiLFxuICAgICAgICBcIlVzZWQgY2hhbmdlcyBiZWNvbWUgYXZhaWxhYmxlIGFnYWluIGFmdGVyICUobmFtZV9jaGFuZ2VzX2V4cGlyZSlzIGRheXMuXCIsXG4gICAgICAgIHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZVxuICAgICAgKVxuXG4gICAgICBwaHJhc2VzLnB1c2goXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZV9jaGFuZ2VzX2V4cGlyZTogdGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gcGhyYXNlcy5sZW5ndGggPyBwaHJhc2VzLmpvaW4oXCIgXCIpIDogbnVsbFxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKVxuICAgIGlmIChlcnJvcnMudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy51c2VybmFtZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkgPT09IHRoaXMucHJvcHMudXNlci51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiWW91ciBuZXcgdXNlcm5hbWUgaXMgc2FtZSBhcyBjdXJyZW50IG9uZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS51c2VybmFtZSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VybmFtZTogXCJcIlxuICAgIH0pXG5cbiAgICB0aGlzLnByb3BzLmNvbXBsZXRlKHN1Y2Nlc3MudXNlcm5hbWUsIHN1Y2Nlc3Muc2x1Zywgc3VjY2Vzcy5vcHRpb25zKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgaGVscFRleHQ9e3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm1Mb2FkaW5nIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmdcIlxuaW1wb3J0IEZvcm1Mb2NrZWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtXCJcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgaHlkcmF0ZSwgYWRkTmFtZUNoYW5nZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgb3B0aW9uczogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS51c2VybmFtZSksXG4gICAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiVVNFUk5BTUVfQ0hBTkdFU19BUElcIiksIHsgdXNlcjogdGhpcy5wcm9wcy51c2VyLmlkIH0pXG4gICAgXSkudGhlbihkYXRhID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YVsxXS5yZXN1bHRzKSlcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY2hhbmdlc19sZWZ0OiBkYXRhWzBdLmNoYW5nZXNfbGVmdCxcbiAgICAgICAgICBsZW5ndGhfbWluOiBkYXRhWzBdLmxlbmd0aF9taW4sXG4gICAgICAgICAgbGVuZ3RoX21heDogZGF0YVswXS5sZW5ndGhfbWF4LFxuICAgICAgICAgIG5leHRfb246IGRhdGFbMF0ubmV4dF9vbiA/IG1vbWVudChkYXRhWzBdLm5leHRfb24pIDogbnVsbFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBvbkNvbXBsZXRlID0gKHVzZXJuYW1lLCBzbHVnLCBvcHRpb25zKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcHRpb25zXG4gICAgfSlcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWRkTmFtZUNoYW5nZSh7IHVzZXJuYW1lLCBzbHVnIH0sIHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy51c2VyKVxuICAgIClcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVVc2VybmFtZSh0aGlzLnByb3BzLnVzZXIsIHVzZXJuYW1lLCBzbHVnKSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZCBzdWNjZXNzZnVsbHkuXCIpKVxuICB9XG5cbiAgZ2V0Q2hhbmdlRm9ybSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiA8Rm9ybUxvYWRpbmcgLz5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zLmNoYW5nZXNfbGVmdCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxGb3JtTG9ja2VkIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc30gLz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1cbiAgICAgICAgY29tcGxldGU9e3RoaXMub25Db21wbGV0ZX1cbiAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge3RoaXMuZ2V0Q2hhbmdlRm9ybSgpfVxuICAgICAgICA8VXNlcm5hbWVIaXN0b3J5XG4gICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1tcInVzZXJuYW1lLWhpc3RvcnlcIl19XG4gICAgICAgICAgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KVxuICB9XG5cbiAgb25QYXNzd29yZENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICB9XG5cbiAgaGFuZGxlU3VibWl0ID0gZXZlbnQgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGNvbnN0IHsgaXNMb2FkaW5nLCBwYXNzd29yZCB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihcbiAgICAgICAgZ2V0dGV4dChcIkVudGVyIHlvdXIgcGFzc3dvcmQgdG8gY29uZmlybSBhY2NvdW50IGRlbGV0aW9uLlwiKVxuICAgICAgKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlzTG9hZGluZykgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KVxuXG4gICAgYWpheC5wb3N0KHVzZXIuYXBpLmRlbGV0ZSwgeyBwYXNzd29yZCB9KS50aGVuKFxuICAgICAgc3VjY2VzcyA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWlzYWdvLmdldChcIk1JU0FHT19QQVRIXCIpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSlcbiAgICAgICAgaWYgKHJlamVjdGlvbi5wYXNzd29yZCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGFuZ2VyIHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJZb3UgYXJlIGdvaW5nIHRvIGRlbGV0ZSB5b3VyIGFjY291bnQuIFRoaXMgYWN0aW9uIGlzIG5vbnJldmVyc2libGUsIGFuZCB3aWxsIHJlc3VsdCBpbiBmb2xsb3dpbmcgZGF0YSBiZWluZyBkZWxldGVkOlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAte1wiIFwifVxuICAgICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgICBcIlN0b3JlZCBJUCBhZGRyZXNzZXMgYXNzb2NpYXRlZCB3aXRoIGNvbnRlbnQgdGhhdCB5b3UgaGF2ZSBwb3N0ZWQgd2lsbCBiZSBkZWxldGVkLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgLXtcIiBcIn1cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdpbGwgYmVjb21lIGF2YWlsYWJsZSBmb3Igb3RoZXIgdXNlciB0byByZW5hbWUgdG8gb3IgZm9yIG5ldyB1c2VyIHRvIHJlZ2lzdGVyIHRoZWlyIGFjY291bnQgd2l0aC5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIC17XCIgXCJ9XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgIFwiWW91ciBlLW1haWwgd2lsbCBiZWNvbWUgYXZhaWxhYmxlIGZvciB1c2UgaW4gbmV3IGFjY291bnQgcmVnaXN0cmF0aW9uLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJBbGwgeW91ciBwb3N0ZWQgY29udGVudCB3aWxsIE5PVCBiZSBkZWxldGVkLCBidXQgdXNlcm5hbWUgYXNzb2NpYXRlZCB3aXRoIGl0IHdpbGwgYmUgY2hhbmdlZCB0byBvbmUgc2hhcmVkIGJ5IGFsbCBkZWxldGVkIGFjY291bnRzLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgbmFtZT1cInBhc3N3b3JkLWNvbmZpcm1hdGlvblwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcbiAgICAgICAgICAgICAgICAgIFwiRW50ZXIgeW91ciBwYXNzd29yZCB0byBjb25maXJtIGFjY291bnQgZGVsZXRpb24uXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUGFzc3dvcmRDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLWRhbmdlclwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIG15IGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvd25sb2FkRGF0YSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzU3VibWl0aW5nOiBmYWxzZSxcbiAgICAgIGRvd25sb2FkczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJEb3dubG9hZCB5b3VyIGRhdGFcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSlcblxuICAgIHRoaXMuaGFuZGxlTG9hZERvd25sb2FkcygpXG4gIH1cblxuICBoYW5kbGVMb2FkRG93bmxvYWRzID0gKCkgPT4ge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkuZGF0YV9kb3dubG9hZHMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBkb3dubG9hZHM6IGRhdGFcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgaGFuZGxlUmVxdWVzdERhdGFEb3dubG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IHRydWUgfSlcbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5yZXF1ZXN0X2RhdGFfZG93bmxvYWQpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTG9hZERvd25sb2FkcygpXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXG4gICAgICAgICAgZ2V0dGV4dChcIllvdXIgcmVxdWVzdCBmb3IgZGF0YSBkb3dubG9hZCBoYXMgYmVlbiByZWdpc3RlcmVkLlwiKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGluZzogZmFsc2UgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZWplY3Rpb24pXG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzU3VibWl0aW5nOiBmYWxzZSB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiRG93bmxvYWQgeW91ciBkYXRhXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgJ1RvIGRvd25sb2FkIHlvdXIgZGF0YSBmcm9tIHRoZSBzaXRlLCBjbGljayB0aGUgXCJSZXF1ZXN0IGRhdGEgZG93bmxvYWRcIiBidXR0b24uIERlcGVuZGluZyBvbiBhbW91bnQgb2YgZGF0YSB0byBiZSBhcmNoaXZlZCBhbmQgbnVtYmVyIG9mIHVzZXJzIHdhbnRpbmcgdG8gZG93bmxvYWQgdGhlaXIgZGF0YSBhdCBzYW1lIHRpbWUgaXQgbWF5IHRha2UgdXAgdG8gZmV3IGRheXMgZm9yIHlvdXIgZG93bmxvYWQgdG8gYmUgcHJlcGFyZWQuIEFuIGUtbWFpbCB3aXRoIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHNlbnQgdG8geW91IHdoZW4geW91ciBkYXRhIGlzIHJlYWR5IHRvIGJlIGRvd25sb2FkZWQuJ1xuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgXCJUaGUgZG93bmxvYWQgd2lsbCBvbmx5IGJlIGF2YWlsYWJsZSBmb3IgbGltaXRlZCBhbW91bnQgb2YgdGltZSwgYWZ0ZXIgd2hpY2ggaXQgd2lsbCBiZSBkZWxldGVkIGZyb20gdGhlIHNpdGUgYW5kIG1hcmtlZCBhcyBleHBpcmVkLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+e2dldHRleHQoXCJSZXF1ZXN0ZWQgb25cIil9PC90aD5cbiAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiY29sLW1kLTRcIj57Z2V0dGV4dChcIkRvd25sb2FkXCIpfTwvdGg+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kb3dubG9hZHMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8dHIga2V5PXtpdGVtLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXtyb3dTdHlsZX0+XG4gICAgICAgICAgICAgICAgICAgICAge21vbWVudChpdGVtLnJlcXVlc3RlZF9vbikuZnJvbU5vdygpfVxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPERvd25sb2FkQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRGaWxlPXtpdGVtLmZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e2l0ZW0uc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRvd25sb2Fkcy5sZW5ndGggPT0gMCA/IChcbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj1cIjJcIj57Z2V0dGV4dChcIllvdSBoYXZlIG5vIGRhdGEgZG93bmxvYWRzLlwiKX08L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzU3VibWl0aW5nfVxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXF1ZXN0RGF0YURvd25sb2FkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgZGF0YSBkb3dubG9hZFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCByb3dTdHlsZSA9IHtcbiAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIlxufVxuXG5jb25zdCBTVEFUVVNfUEVORElORyA9IDBcbmNvbnN0IFNUQVRVU19QUk9DRVNTSU5HID0gMVxuXG5jb25zdCBEb3dubG9hZEJ1dHRvbiA9ICh7IGV4cG9ydEZpbGUsIHN0YXR1cyB9KSA9PiB7XG4gIGlmIChzdGF0dXMgPT09IFNUQVRVU19QRU5ESU5HIHx8IHN0YXR1cyA9PT0gU1RBVFVTX1BST0NFU1NJTkcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4taW5mbyBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIGlzIGJlaW5nIHByZXBhcmVkXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgaWYgKGV4cG9ydEZpbGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSBidG4tYmxvY2tcIiBocmVmPXtleHBvcnRGaWxlfT5cbiAgICAgICAge2dldHRleHQoXCJEb3dubG9hZCB5b3VyIGRhdGFcIil9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAge2dldHRleHQoXCJEb3dubG9hZCBpcyBleHBpcmVkXCIpfVxuICAgIDwvQnV0dG9uPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9lZGl0LWRldGFpbHNcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRWRpdCBkZXRhaWxzXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG4gIH1cblxuICBvblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiWW91ciBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkLlwiKSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm0gYXBpPXt0aGlzLnByb3BzLnVzZXIuYXBpLmVkaXRfZGV0YWlsc30gb25TdWNjZXNzPXt0aGlzLm9uU3VjY2Vzc30gLz5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvYXV0aFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiBwcm9wcy51c2VyLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOlxuICAgICAgICBwcm9wcy51c2VyLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzLFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcImhlbHBfb3V0bGluZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIkV2ZXJ5Ym9keVwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiZG9uZV9hbGxcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJVc2VycyBJIGZvbGxvd1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiaGlnaGxpZ2h0X29mZlwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vYm9keVwiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuc3Vic2NyaWJlVG9DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJzdGFyX2JvcmRlclwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJzdGFyX2hhbGZcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb3RpZnlcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcInN0YXJcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb3RpZnkgd2l0aCBlLW1haWxcIilcbiAgICAgIH1cbiAgICBdXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5vcHRpb25zLCB7XG4gICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHRoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG86IHRoaXMuc3RhdGVcbiAgICAgICAgLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwYXRjaCh7XG4gICAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlXG4gICAgICAgICAgLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgICBzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgICAgfSlcbiAgICApXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciBmb3J1bSBvcHRpb25zIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJQbGVhc2UgcmVsb2FkIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5cIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJGb3J1bSBvcHRpb25zXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBmb3J1bSBvcHRpb25zXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJQcml2YWN5IHNldHRpbmdzXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICBcIklmIHlvdSBoaWRlIHlvdXIgcHJlc2VuY2UsIG9ubHkgbWVtYmVycyB3aXRoIHBlcm1pc3Npb24gdG8gc2VlIGhpZGRlbiB1c2VycyB3aWxsIHNlZSB3aGVuIHlvdSBhcmUgb25saW5lLlwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX2lzX2hpZGluZ19wcmVzZW5jZVwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpY29uT249XCJ2aXNpYmlsaXR5X29mZlwiXG4gICAgICAgICAgICAgICAgICBpY29uT2ZmPVwidmlzaWJpbGl0eVwiXG4gICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiSGlkZSBteSBwcmVzZW5jZSBmcm9tIG90aGVyIHVzZXJzXCIpfVxuICAgICAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJTaG93IG15IHByZXNlbmNlIHRvIG90aGVyIHVzZXJzXCIpfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkaW5nX3ByZXNlbmNlXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlByaXZhdGUgdGhyZWFkIGludml0YXRpb25zXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwibGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b31cbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9maWVsZHNldD5cblxuICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiQXV0b21hdGljIHN1YnNjcmlwdGlvbnNcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkcyBJIHN0YXJ0XCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkcyBJIHJlcGx5IHRvXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIlxuaW1wb3J0IExpIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9saVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZnVuY3Rpb24gU2lkZU5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpbmtcbiAgICAgICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArIFwiL1wifVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBrZXk9e29wdGlvbi5jb21wb25lbnR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntvcHRpb24uaWNvbn08L3NwYW4+XG4gICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bFxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwifVxuICAgICAgcm9sZT1cIm1lbnVcIlxuICAgID5cbiAgICAgIHtwcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaVxuICAgICAgICAgICAgcGF0aD17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBoaWRkZW4tc21cIj57b3B0aW9uLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgPC9MaT5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBEcm9wZG93blRvZ2dsZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlXCJcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzXCJcbmltcG9ydCBEZWxldGVBY2NvdW50IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2RlbGV0ZS1hY2NvdW50XCJcbmltcG9ydCBFZGl0RGV0YWlscyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9lZGl0LWRldGFpbHNcIlxuaW1wb3J0IERvd25sb2FkRGF0YSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9kb3dubG9hZC1kYXRhXCJcbmltcG9ydCBDaGFuZ2VGb3J1bU9wdGlvbnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9uc1wiXG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3RcIlxuaW1wb3J0IENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvcm9vdFwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1vcHRpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8aDE+e2dldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpfTwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIHZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxDb21wYWN0TmF2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCJcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpfVxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17bWlzYWdvLmdldChcIlVTRVJfT1BUSU9OU1wiKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxTaWRlTmF2XG4gICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIil9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17bWlzYWdvLmdldChcIlVTRVJfT1BUSU9OU1wiKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlcixcbiAgICBcInVzZXJuYW1lLWhpc3RvcnlcIjogc3RvcmVbXCJ1c2VybmFtZS1oaXN0b3J5XCJdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBjb25zdCBTU09fRU5BQkxFRCA9IG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvXG5cbiAgY29uc3QgcGF0aHMgPSBbXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImZvcnVtLW9wdGlvbnMvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VGb3J1bU9wdGlvbnMpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwiZWRpdC1kZXRhaWxzL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRWRpdERldGFpbHMpXG4gICAgfVxuICBdXG5cbiAgaWYgKCFTU09fRU5BQkxFRCkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImNoYW5nZS11c2VybmFtZS9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKVxuICAgIH0pXG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUkNQX1VSTFwiKSArIFwic2lnbi1pbi1jcmVkZW50aWFscy9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENoYW5nZVNpZ25JbkNyZWRlbnRpYWxzKVxuICAgIH0pXG4gIH1cblxuICBpZiAobWlzYWdvLmdldChcIkVOQUJMRV9ET1dOTE9BRF9PV05fREFUQVwiKSkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIikgKyBcImRvd25sb2FkLWRhdGEvXCIsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShEb3dubG9hZERhdGEpXG4gICAgfSlcbiAgfVxuXG4gIGlmICghU1NPX0VOQUJMRUQgJiYgbWlzYWdvLmdldChcIkVOQUJMRV9ERUxFVEVfT1dOX0FDQ09VTlRcIikpIHtcbiAgICBwYXRocy5wdXNoKHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpICsgXCJkZWxldGUtYWNjb3VudC9cIixcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKERlbGV0ZUFjY291bnQpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5jb25zdCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGVtYWlsIG9yIHBhc3N3b3JkXCIpfTwvaDM+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgbmVlZCB0byBzZXQgYSBwYXNzd29yZCBmb3IgeW91ciBhY2NvdW50IHRvIGJlIGFibGUgdG8gY2hhbmdlIHlvdXIgdXNlcm5hbWUgb3IgZW1haWwuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJGT1JHT1RURU5fUEFTU1dPUkRfVVJMXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNldCBwYXNzd29yZFwiKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgVW51c2FibGVQYXNzd29yZE1lc3NhZ2VcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfZW1haWw6IFwiXCIsXG4gICAgICBwYXNzd29yZDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBuZXdfZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLm5ld19lbWFpbC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoXG4gICAgXVxuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMubmV3X2VtYWlsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMubmV3X2VtYWlsWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLmNoYW5nZV9lbWFpbCwge1xuICAgICAgbmV3X2VtYWlsOiB0aGlzLnN0YXRlLm5ld19lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19lbWFpbDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfSlcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfZW1haWwpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19lbWFpbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7IGRpc3BsYXk6IFwibm9uZVwiIH19IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBlLW1haWwgYWRkcmVzc1wiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBlLW1haWxcIil9IGZvcj1cImlkX25ld19lbWFpbFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9uZXdfZW1haWxcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIm5ld19lbWFpbFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdfZW1haWx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJZb3VyIGN1cnJlbnQgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NvbmZpcm1fZW1haWxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfY29uZmlybV9lbWFpbFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwicGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19wYXNzd29yZDogXCJcIixcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19wYXNzd29yZDogW10sXG4gICAgICAgIHJlcGVhdF9wYXNzd29yZDogW10sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoXG4gICAgXVxuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChlcnJvcnMubmV3X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMubmV3X3Bhc3N3b3JkWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkICE9PSB0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIk5ldyBwYXNzd29yZHMgYXJlIGRpZmZlcmVudC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuY2hhbmdlX3Bhc3N3b3JkLCB7XG4gICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmRcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcmVwZWF0X3Bhc3N3b3JkOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCJcbiAgICB9KVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19wYXNzd29yZCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9uZXdfcGFzc3dvcmRcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX25ld19wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwibmV3X3Bhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19wYXNzd29yZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUmVwZWF0IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGlkPVwiaWRfcmVwZWF0X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJyZXBlYXRfcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxociAvPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICBmb3I9XCJpZF9jb25maXJtX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NvbmZpcm1fcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhbmdlRW1haWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWxcIlxuaW1wb3J0IENoYW5nZVBhc3N3b3JkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSBmcm9tIFwiLi9VbnVzYWJsZVBhc3N3b3JkTWVzc2FnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQ2hhbmdlIGVtYWlsIG9yIHBhc3N3b3JkXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaGFzX3VzYWJsZV9wYXNzd29yZCkge1xuICAgICAgcmV0dXJuIDxVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSAvPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Q2hhbmdlRW1haWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgICAgICA8Q2hhbmdlUGFzc3dvcmQgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtbGluZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj53YXJuaW5nPC9zcGFuPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJGT1JHT1RURU5fUEFTU1dPUkRfVVJMXCIpfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGZvcmdvdHRlbiBwYXNzd29yZFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgc3RyaW5nQ291bnQgZnJvbSBcIm1pc2Fnby91dGlscy9zdHJpbmctY291bnRcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIGlmIChcbiAgICAgICAgc3RyaW5nQ291bnQodGhpcy5wcm9wcy5jb3B5LCBcIjxwXCIpID09PSAxICYmXG4gICAgICAgIHRoaXMucHJvcHMuY29weS5pbmRleE9mKFwiPGJyXCIpID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBcInBhZ2UtbGVhZCBsZWFkXCJcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJwYWdlLWxlYWRcIlxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLmNvcHlcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLWJvZHktbG9hZGluZ1wiPlxuICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cImxvYWRlciBsb2FkZXItc3BhY2VkXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+e3RoaXMucHJvcHMuaGVscFRleHR9PC9wPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLW1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gfHwgXCJpbmZvX291dGxpbmVcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQWRkUGFydGljaXBhbnRNb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYWRkLXBhcnRpY2lwYW50XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPEFkZFBhcnRpY2lwYW50TW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FkZF9wYXJ0aWNpcGFudHMpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wZXJzb25fYWRkPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzXCJcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmUodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4XG4gICAgLnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IFwicGFydGljaXBhbnRzXCIsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZCB9XG4gICAgXSlcbiAgICAudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91IGhhdmUgbGVmdCB0aGlzIHRocmVhZC5cIikpXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBtaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX1VSTFwiKVxuICAgICAgICB9LCAzICogMTAwMClcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheFxuICAgIC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlbW92ZVwiLCBwYXRoOiBcInBhcnRpY2lwYW50c1wiLCB2YWx1ZTogcGFydGljaXBhbnQuaWQgfSxcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiAxIH1cbiAgICBdKVxuICAgIC50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiJSh1c2VyKXMgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoaXMgdGhyZWFkLlwiKVxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKFxuICAgICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZU93bmVyKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheFxuICAgIC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJvd25lclwiLCB2YWx1ZTogcGFydGljaXBhbnQuaWQgfSxcbiAgICAgIHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiAxIH1cbiAgICBdKVxuICAgIC50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSlcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiJSh1c2VyKXMgaGFzIGJlZW4gbWFkZSBuZXcgdGhyZWFkIG93bmVyLlwiKVxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKFxuICAgICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1ha2VPd25lciBmcm9tIFwiLi9tYWtlLW93bmVyXCJcbmltcG9ydCBSZW1vdmUgZnJvbSBcIi4vcmVtb3ZlXCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHBhcnRpY2lwYW50ID0gcHJvcHMucGFydGljaXBhbnRcblxuICBsZXQgY2xhc3NOYW1lID0gXCJidG4gYnRuLWRlZmF1bHRcIlxuICBpZiAocGFydGljaXBhbnQuaXNfb3duZXIpIHtcbiAgICBjbGFzc05hbWUgPSBcImJ0biBidG4tcHJpbWFyeVwiXG4gIH1cbiAgY2xhc3NOYW1lICs9IFwiIGJ0bi11c2VyIGJ0bi1ibG9ja1wiXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tMyBjb2wtbWQtMiBwYXJ0aWNpcGFudC1jYXJkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjM0XCIgdXNlcj17cGFydGljaXBhbnR9IC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj57cGFydGljaXBhbnQudXNlcm5hbWV9PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgc3RpY2stdG8tYm90dG9tXCI+XG4gICAgICAgICAgPFVzZXJTdGF0dXMgaXNPd25lcj17cGFydGljaXBhbnQuaXNfb3duZXJ9IC8+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlclwiIC8+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPGEgaHJlZj17cGFydGljaXBhbnQudXJsfT57Z2V0dGV4dChcIlNlZSBwcm9maWxlXCIpfTwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSByb2xlPVwic2VwYXJhdG9yXCIgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICAgICAgPE1ha2VPd25lciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlclN0YXR1cyh7IGlzT3duZXIgfSkge1xuICBpZiAoIWlzT3duZXIpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyIGRyb3Bkb3duLWhlYWRlci1vd25lclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJ0PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi10ZXh0XCI+e2dldHRleHQoXCJUaHJlYWQgb3duZXJcIil9PC9zcGFuPlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcGFydGljaXBhbnRzLCB0aHJlYWQsIHVzZXIsIHVzZXJJc093bmVyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnRpY2lwYW50cy1jYXJkc1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge3BhcnRpY2lwYW50cy5tYXAocGFydGljaXBhbnQgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBrZXk9e3BhcnRpY2lwYW50LmlkfVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17cGFydGljaXBhbnR9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICB1c2VySXNPd25lcj17dXNlcklzT3duZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjaGFuZ2VPd25lciB9IGZyb20gXCIuL2FjdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkXG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZVxuICAgIGlmICh0aGlzLmlzVXNlcikge1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShcbiAgICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB0YWtlIG92ZXIgdGhpcyB0aHJlYWQ/XCIpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjaGFuZ2UgdGhyZWFkIG93bmVyIHRvICUodXNlcilzP1wiXG4gICAgICApXG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgICBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXI6IHRoaXMucHJvcHMucGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICghY29uZmlybWVkKSByZXR1cm5cblxuICAgIGNoYW5nZU93bmVyKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcnRpY2lwYW50LmlzX293bmVyKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jaGFuZ2Vfb3duZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWFrZSBvd25lclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyByZW1vdmUsIGxlYXZlIH0gZnJvbSBcIi4vYWN0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuaXNVc2VyID0gcHJvcHMucGFydGljaXBhbnQuaWQgPT09IHByb3BzLnVzZXIuaWRcbiAgfVxuXG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbGV0IGNvbmZpcm1lZCA9IGZhbHNlXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKFxuICAgICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoaXMgdGhyZWFkP1wiKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICUodXNlcilzIGZyb20gdGhpcyB0aHJlYWQ/XCJcbiAgICAgIClcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgICAgIGludGVycG9sYXRlKFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKCFjb25maXJtZWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBsZWF2ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudClcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKHRoaXMucHJvcHMudGhyZWFkLCB0aGlzLnByb3BzLnBhcnRpY2lwYW50KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc01vZGVyYXRvciA9IHRoaXMucHJvcHMudXNlci5hY2wuY2FuX21vZGVyYXRlX3ByaXZhdGVfdGhyZWFkc1xuXG4gICAgaWYgKCEodGhpcy5wcm9wcy51c2VySXNPd25lciB8fCB0aGlzLmlzVXNlciB8fCBpc01vZGVyYXRvcikpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHt0aGlzLmlzVXNlciA/IGdldHRleHQoXCJMZWF2ZSB0aHJlYWRcIikgOiBnZXR0ZXh0KFwiUmVtb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBZGRQYXJ0aWNpcGFudCBmcm9tIFwiLi9hZGQtcGFydGljaXBhbnRcIlxuaW1wb3J0IENhcmRzTGlzdCBmcm9tIFwiLi9jYXJkcy1saXN0XCJcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wYXJ0aWNpcGFudHMubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBhcnRpY2lwYW50c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxDYXJkc0xpc3RcbiAgICAgICAgICB1c2VySXNPd25lcj17Z2V0VXNlcklzT3duZXIocHJvcHMudXNlciwgcHJvcHMucGFydGljaXBhbnRzKX1cbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPEFkZFBhcnRpY2lwYW50IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS05XCI+XG4gICAgICAgICAgICA8cD57dXRpbHMuZ2V0UGFydGljaXBhbnRzQ29weShwcm9wcy5wYXJ0aWNpcGFudHMpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcklzT3duZXIodXNlciwgcGFydGljaXBhbnRzKSB7XG4gIHJldHVybiBwYXJ0aWNpcGFudHNbMF0uaWQgPT09IHVzZXIuaWRcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRQYXJ0aWNpcGFudHNDb3B5KHBhcnRpY2lwYW50cykge1xuICBjb25zdCBjb3VudCA9IHBhcnRpY2lwYW50cy5sZW5ndGhcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiVGhpcyB0aHJlYWQgaGFzICUodXNlcnMpcyBwYXJ0aWNpcGFudC5cIixcbiAgICBcIlRoaXMgdGhyZWFkIGhhcyAlKHVzZXJzKXMgcGFydGljaXBhbnRzLlwiLFxuICAgIGNvdW50XG4gIClcblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB1c2VyczogY291bnRcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgenhjdmJuIGZyb20gXCJtaXNhZ28vc2VydmljZXMvenhjdmJuXCJcblxuZXhwb3J0IGNvbnN0IFNUWUxFUyA9IFtcbiAgXCJwcm9ncmVzcy1iYXItZGFuZ2VyXCIsXG4gIFwicHJvZ3Jlc3MtYmFyLXdhcm5pbmdcIixcbiAgXCJwcm9ncmVzcy1iYXItd2FybmluZ1wiLFxuICBcInByb2dyZXNzLWJhci1wcmltYXJ5XCIsXG4gIFwicHJvZ3Jlc3MtYmFyLXN1Y2Nlc3NcIlxuXVxuXG5leHBvcnQgY29uc3QgTEFCRUxTID0gW1xuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB2ZXJ5IHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB3ZWFrLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgYXZlcmFnZS5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHN0cm9uZy5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgc3Ryb25nLlwiKVxuXVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLl9zY29yZSA9IDBcbiAgICB0aGlzLl9wYXNzd29yZCA9IG51bGxcbiAgICB0aGlzLl9pbnB1dHMgPSBbXVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB6eGN2Ym4ubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRlZDogdHJ1ZSB9KVxuICAgIH0pXG4gIH1cblxuICBnZXRTY29yZShwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgbGV0IGNhY2hlU3RhbGUgPSBmYWxzZVxuXG4gICAgaWYgKHBhc3N3b3JkICE9PSB0aGlzLl9wYXNzd29yZCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRzLmxlbmd0aCAhPT0gdGhpcy5faW5wdXRzLmxlbmd0aCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRzLm1hcCgodmFsdWUsIGkpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSAhPT0gdGhpcy5faW5wdXRzW2ldKSB7XG4gICAgICAgICAgY2FjaGVTdGFsZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVTdGFsZSkge1xuICAgICAgdGhpcy5fc2NvcmUgPSB6eGN2Ym4uc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKVxuICAgICAgdGhpcy5fcGFzc3dvcmQgPSBwYXNzd29yZFxuICAgICAgdGhpcy5faW5wdXRzID0gaW5wdXRzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudHJpbSgpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9zY29yZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5sb2FkZWQpIHJldHVybiBudWxsXG5cbiAgICBsZXQgc2NvcmUgPSB0aGlzLmdldFNjb3JlKHRoaXMucHJvcHMucGFzc3dvcmQsIHRoaXMucHJvcHMuaW5wdXRzKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVscC1ibG9jayBwYXNzd29yZC1zdHJlbmd0aFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIiArIFNUWUxFU1tzY29yZV19XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogMjAgKyAyMCAqIHNjb3JlICsgXCIlXCIgfX1cbiAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17c2NvcmV9XG4gICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbWF4PVwiNFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPntMQUJFTFNbc2NvcmVdfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21hbGxcIj57TEFCRUxTW3Njb3JlXX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQWRkID0gKCkgPT4ge1xuICAgIGxldCBjaG9pY2VzID0gdGhpcy5wcm9wcy5jaG9pY2VzLnNsaWNlKClcbiAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgaGFzaDogZ2VuZXJhdGVSYW5kb21IYXNoKCksXG4gICAgICBsYWJlbDogXCJcIlxuICAgIH0pXG5cbiAgICB0aGlzLnByb3BzLnNldENob2ljZXMoY2hvaWNlcylcbiAgfVxuXG4gIG9uQ2hhbmdlID0gKGhhc2gsIGxhYmVsKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgIGlmIChjaG9pY2UuaGFzaCA9PT0gaGFzaCkge1xuICAgICAgICBjaG9pY2UubGFiZWwgPSBsYWJlbFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hvaWNlXG4gICAgfSlcbiAgICB0aGlzLnByb3BzLnNldENob2ljZXMoY2hvaWNlcylcbiAgfVxuXG4gIG9uRGVsZXRlID0gaGFzaCA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5maWx0ZXIoY2hvaWNlID0+IHtcbiAgICAgIHJldHVybiBjaG9pY2UuaGFzaCAhPT0gaGFzaFxuICAgIH0pXG4gICAgdGhpcy5wcm9wcy5zZXRDaG9pY2VzKGNob2ljZXMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jaG9pY2VzLWNvbnRyb2xcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPFBvbGxDaG9pY2VcbiAgICAgICAgICAgICAgICBjYW5EZWxldGU9e3RoaXMucHJvcHMuY2hvaWNlcy5sZW5ndGggPiAyfVxuICAgICAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMub25EZWxldGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQWRkfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgY2hvaWNlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9sbENob2ljZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgb25EZWxldGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVsZXRlSXRlbSA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNob2ljZT9cIilcbiAgICApXG4gICAgaWYgKGRlbGV0ZUl0ZW0pIHtcbiAgICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5jaG9pY2UuaGFzaClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0blwiXG4gICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnByb3BzLmNhbkRlbGV0ZSB8fCB0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25EZWxldGV9XG4gICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJEZWxldGUgdGhpcyBjaG9pY2VcIil9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xvc2U8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiY2hvaWNlIGxhYmVsXCIpfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5jaG9pY2UubGFiZWx9XG4gICAgICAgIC8+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21IYXNoKCkge1xuICBsZXQgcmFuZG9tSGFzaCA9IFwiXCJcbiAgd2hpbGUgKHJhbmRvbUhhc2gubGVuZ3RoICE9IDEyKSB7XG4gICAgcmFuZG9tSGFzaCA9IE1hdGgucmFuZG9tKClcbiAgICAgIC50b1N0cmluZygzNilcbiAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csIFwiXCIpXG4gICAgICAuc3Vic3RyKDEsIDEyKVxuICB9XG4gIHJldHVybiByYW5kb21IYXNoXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaG9pY2VzQ29udHJvbCBmcm9tIFwiLi9jaG9pY2VzLWNvbnRyb2xcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgcG9sbCA9IHByb3BzLnBvbGwgfHwge1xuICAgICAgcXVlc3Rpb246IFwiXCIsXG4gICAgICBjaG9pY2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBoYXNoOiBcImNob2ljZS0xMDAwMFwiLFxuICAgICAgICAgIGxhYmVsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBoYXNoOiBcImNob2ljZS0yMDAwMFwiLFxuICAgICAgICAgIGxhYmVsOiBcIlwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBsZW5ndGg6IDAsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IDEsXG4gICAgICBhbGxvd19yZXZvdGVzOiAwLFxuICAgICAgaXNfcHVibGljOiAwXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0VkaXQ6ICEhcG9sbC5xdWVzdGlvbixcblxuICAgICAgcXVlc3Rpb246IHBvbGwucXVlc3Rpb24sXG4gICAgICBjaG9pY2VzOiBwb2xsLmNob2ljZXMsXG4gICAgICBsZW5ndGg6IHBvbGwubGVuZ3RoLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiBwb2xsLmFsbG93ZWRfY2hvaWNlcyxcbiAgICAgIGFsbG93X3Jldm90ZXM6IHBvbGwuYWxsb3dfcmV2b3RlcyxcbiAgICAgIGlzX3B1YmxpYzogcG9sbC5pc19wdWJsaWMsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcXVlc3Rpb246IFtdLFxuICAgICAgICBjaG9pY2VzOiBbXSxcbiAgICAgICAgbGVuZ3RoOiBbXSxcbiAgICAgICAgYWxsb3dlZF9jaG9pY2VzOiBbXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIHNldENob2ljZXMgPSBjaG9pY2VzID0+IHtcbiAgICBjb25zdCBlcnJvcnMgPSBPYmplY3QuYXNzaWduKHt9LCBlcnJvcnMsIHsgY2hvaWNlczogbnVsbCB9KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaG9pY2VzLFxuICAgICAgZXJyb3JzXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHBvbGw/XCIpKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHF1ZXN0aW9uOiB0aGlzLnN0YXRlLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogdGhpcy5zdGF0ZS5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiB0aGlzLnN0YXRlLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogdGhpcy5zdGF0ZS5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiB0aGlzLnN0YXRlLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHRoaXMuc3RhdGUuaXNfcHVibGljXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0KSB7XG4gICAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCwgZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9sbCwgZGF0YSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlcGxhY2UoZGF0YSkpXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gZWRpdGVkLlwiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9sbCBoYXMgYmVlbiBwb3N0ZWQuXCIpKVxuICAgIH1cblxuICAgIHBvc3RpbmcuY2xvc2UoKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzKSB7XG4gICAgICAgIHJlamVjdGlvbi5hbGxvd2VkX2Nob2ljZXMgPSByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9yc1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiBPYmplY3QuYXNzaWduKHt9LCByZWplY3Rpb24pXG4gICAgICB9KVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiUXVlc3Rpb24gYW5kIGNob2ljZXNcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJQb2xsIHF1ZXN0aW9uXCIpfVxuICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9xdWVzdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5xdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9xdWVzdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInF1ZXN0aW9uXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJBdmFpbGFibGUgY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENob2ljZXNDb250cm9sXG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBzZXRDaG9pY2VzPXt0aGlzLnNldENob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlZvdGluZ1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGwgbGVuZ3RoXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiRW50ZXIgbnVtYmVyIG9mIGRheXMgZm9yIHdoaWNoIHZvdGluZyBpbiB0aGlzIHBvbGwgc2hvdWxkIGJlIHBvc3NpYmxlIG9yIHplcm8gdG8gcnVuIHRoaXMgcG9sbCBpbmRlZmluaXRlbHkuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfbGVuZ3RoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwibGVuZ3RoXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3dlZCBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93ZWRfY2hvaWNlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImFsbG93ZWRfY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbGxvd2VkX2Nob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8UG9sbFB1YmxpY1N3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgIGJpbmRJbnB1dD17dGhpcy5iaW5kSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlzRWRpdD17dGhpcy5zdGF0ZS5pc0VkaXR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfcHVibGljfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3cgdm90ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYWxsb3dfcmV2b3Rlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfYWxsb3dfcmV2b3Rlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9uPVwiY2hlY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uT2ZmPVwiY2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWxsb3cgcGFydGljaXBhbnRzIHRvIGNoYW5nZSB0aGVpciB2b3RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJEb24ndCBhbGxvdyBwYXJ0aWNpcGFudHMgdG8gY2hhbmdlIHRoZWlyIHZvdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJhbGxvd19yZXZvdGVzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbGxvd19yZXZvdGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0VkaXRcbiAgICAgICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlBvc3QgcG9sbFwiKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsUHVibGljU3dpdGNoKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0VkaXQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBsYWJlbD17Z2V0dGV4dChcIk1ha2Ugdm90aW5nIHB1YmxpY1wiKX1cbiAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgXCJNYWtpbmcgdm90aW5nIHB1YmxpYyB3aWxsIGFsbG93IGV2ZXJ5b25lIHRvIGFjY2VzcyBkZXRhaWxlZCBsaXN0IG9mIHZvdGVzLCBzaG93aW5nIHdoaWNoIHVzZXJzIHZvdGVkIGZvciB3aGljaCBjaG9pY2VzIGFuZCBhdCB3aGljaCB0aW1lcy4gVGhpcyBvcHRpb24gY2FuJ3QgYmUgY2hhbmdlZCBhZnRlciBwb2xsJ3MgY3JlYXRpb24uIE1vZGVyYXRvcnMgbWF5IHNlZSB2b3RpbmcgZGV0YWlscyBmb3IgYWxsIHBvbGxzLlwiXG4gICAgICAgICl9XG4gICAgICAgIGZvcj1cImlkX2lzX3B1YmxpY1wiXG4gICAgICA+XG4gICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgIGlkPVwiaWRfaXNfcHVibGljXCJcbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eVwiXG4gICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlfb2ZmXCJcbiAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiVm90ZXMgYXJlIHB1YmxpY1wiKX1cbiAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIlZvdGVzIGFyZSBoaWRkZW5cIil9XG4gICAgICAgICAgb25DaGFuZ2U9e3Byb3BzLmJpbmRJbnB1dChcImlzX3B1YmxpY1wiKX1cbiAgICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFBvbGwgZnJvbSBcIi4vcG9sbFwiXG5pbXBvcnQgUG9sbEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5cbmV4cG9ydCB7IFBvbGwgfVxuZXhwb3J0IHsgUG9sbEZvcm0gfVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLWRldGFpbHNcIj5cbiAgICAgIDxQb2xsVm90ZXMgdm90ZXM9e3Byb3BzLnBvbGwudm90ZXN9IC8+XG4gICAgICA8UG9sbExlbmd0aCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgPFBvbGxJc1B1YmxpYyBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgPFBvbGxDcmVhdGlvbiBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDcmVhdGlvbihwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiUG9zdGVkIGJ5ICUocG9zdGVyKXMgJShwb3N0ZWRfb24pcy5cIikpLFxuICAgIHtcbiAgICAgIHBvc3RlcjogZ2V0UG9zdGVyKHByb3BzLnBvbGwpLFxuICAgICAgcG9zdGVkX29uOiBnZXRQb3N0ZWRPbihwcm9wcy5wb2xsKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInBvbGwtaW5mby1jcmVhdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0ZXIocG9sbCkge1xuICBpZiAocG9sbC51cmwucG9zdGVyKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwb2xsLnVybC5wb3N0ZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBVU0VSX1NQQU4sXG4gICAge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwb2xsLnBvc3Rlcl9uYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0ZWRPbihwb2xsKSB7XG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX0FCQlIsXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbExlbmd0aChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvbGwubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJWb3RpbmcgZW5kcyAlKGVuZHNfb24pcy5cIikpLFxuICAgIHtcbiAgICAgIGVuZHNfb246IGdldEVuZHNPbihwcm9wcy5wb2xsKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInBvbGwtaW5mby1lbmRzLW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVuZHNPbihwb2xsKSB7XG4gIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX0FCQlIsXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocG9sbC5lbmRzT24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbFZvdGVzKHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUodm90ZXMpcyB2b3RlLlwiLCBcIiUodm90ZXMpcyB2b3Rlcy5cIiwgcHJvcHMudm90ZXMpXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB2b3RlczogcHJvcHMudm90ZXNcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1pbmZvLXZvdGVzXCI+e2xhYmVsfTwvbGk+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsSXNQdWJsaWMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmlzX3B1YmxpYykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby1wdWJsaWNcIj57Z2V0dGV4dChcIlZvdGVzIGFyZSBwdWJsaWMuXCIpfTwvbGk+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgUmVzdWx0cyBmcm9tIFwiLi9yZXN1bHRzXCJcbmltcG9ydCBWb3RpbmcgZnJvbSBcIi4vdm90aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgbGV0IHNob3dSZXN1bHRzID0gdHJ1ZVxuICAgIGlmIChwcm9wcy51c2VyLmlkICYmICFwcm9wcy5wb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcykge1xuICAgICAgc2hvd1Jlc3VsdHMgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93UmVzdWx0c1xuICAgIH1cbiAgfVxuXG4gIHNob3dSZXN1bHRzID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1Jlc3VsdHM6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgc2hvd1ZvdGluZyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5wb2xsKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgaXNQb2xsT3ZlciA9IGdldElzUG9sbE92ZXIodGhpcy5wcm9wcy5wb2xsKVxuXG4gICAgaWYgKFxuICAgICAgIWlzUG9sbE92ZXIgJiZcbiAgICAgIHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3ZvdGUgJiZcbiAgICAgICF0aGlzLnN0YXRlLnNob3dSZXN1bHRzXG4gICAgKSB7XG4gICAgICByZXR1cm4gPFZvdGluZyBzaG93UmVzdWx0cz17dGhpcy5zaG93UmVzdWx0c30gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgICBzaG93Vm90aW5nPXt0aGlzLnNob3dWb3Rpbmd9XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc1BvbGxPdmVyKHBvbGwpIHtcbiAgaWYgKHBvbGwubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1vbWVudCgpLmlzQWZ0ZXIocG9sbC5lbmRzT24pXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtY2hvaWNlcy1iYXJzXCI+XG4gICAgICB7cHJvcHMucG9sbC5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQb2xsQ2hvaWNlIGNob2ljZT17Y2hvaWNlfSBrZXk9e2Nob2ljZS5oYXNofSBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZShwcm9wcykge1xuICBsZXQgcHJvYyA9IDBcbiAgaWYgKHByb3BzLmNob2ljZS52b3RlcyAmJiBwcm9wcy5wb2xsLnZvdGVzKSB7XG4gICAgcHJvYyA9IE1hdGguY2VpbCgocHJvcHMuY2hvaWNlLnZvdGVzICogMTAwKSAvIHByb3BzLnBvbGwudm90ZXMpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkbCBjbGFzc05hbWU9XCJkbC1ob3Jpem9udGFsXCI+XG4gICAgICA8ZHQ+e3Byb3BzLmNob2ljZS5sYWJlbH08L2R0PlxuICAgICAgPGRkPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbm93PXtwcm9jfVxuICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcHJvYyArIFwiJVwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAgICB7Z2V0Vm90ZXNMYWJlbChwcm9wcy52b3RlcywgcHJvcHMucHJvYyl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLWNoYXJ0XCI+XG4gICAgICAgICAgPENob2ljZVZvdGVzIHByb2M9e3Byb2N9IHZvdGVzPXtwcm9wcy5jaG9pY2Uudm90ZXN9IC8+XG4gICAgICAgICAgPFVzZXJDaG9pY2Ugc2VsZWN0ZWQ9e3Byb3BzLmNob2ljZS5zZWxlY3RlZH0gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGQ+XG4gICAgPC9kbD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlVm90ZXMocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1jaGFydC12b3Rlc1wiPlxuICAgICAge2dldFZvdGVzTGFiZWwocHJvcHMudm90ZXMsIHByb3BzLnByb2MpfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZvdGVzTGFiZWwodm90ZXMsIHByb2MpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh2b3RlcylzIHZvdGUsICUocHJvYylzJSBvZiB0b3RhbC5cIixcbiAgICBcIiUodm90ZXMpcyB2b3RlcywgJShwcm9jKXMlIG9mIHRvdGFsLlwiLFxuICAgIHZvdGVzXG4gIClcblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB2b3Rlczogdm90ZXMsXG4gICAgICBwcm9jOiBwcm9jXG4gICAgfSxcbiAgICB0cnVlXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJDaG9pY2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zZWxlY3RlZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWNoYXJ0LXNlbGVjdGVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAge2dldHRleHQoXCJZb3VyIGNob2ljZS5cIil9XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2hhcnQgZnJvbSBcIi4vY2hhcnRcIlxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIi4vb3B0aW9uc1wiXG5pbXBvcnQgUG9sbEluZm8gZnJvbSBcIi4uL2luZm9cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb2xsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGgyPntwcm9wcy5wb2xsLnF1ZXN0aW9ufTwvaDI+XG4gICAgICAgIDxQb2xsSW5mbyBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8Q2hhcnQgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICBpc1BvbGxPdmVyPXtwcm9wcy5pc1BvbGxPdmVyfVxuICAgICAgICAgIHBvbGw9e3Byb3BzLnBvbGx9XG4gICAgICAgICAgc2hvd1ZvdGluZz17cHJvcHMuc2hvd1ZvdGluZ31cbiAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZGF0YTogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnBvbGwuYXBpLnZvdGVzKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGh5ZHJhdGVkRGF0YSA9IGRhdGEubWFwKGNob2ljZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNob2ljZSwge1xuICAgICAgICAgICAgdm90ZXJzOiBjaG9pY2Uudm90ZXJzLm1hcCh2b3RlciA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB2b3Rlciwge1xuICAgICAgICAgICAgICAgIHZvdGVkX29uOiBtb21lbnQodm90ZXIudm90ZWRfb24pXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBkYXRhOiBoeWRyYXRlZERhdGFcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgXCJtb2RhbC1kaWFsb2dcIiArICh0aGlzLnN0YXRlLmVycm9yID8gXCIgbW9kYWwtbWVzc2FnZVwiIDogXCIgbW9kYWwtc21cIilcbiAgICAgICAgfVxuICAgICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb2xsIHZvdGVzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8TW9kYWxCb2R5XG4gICAgICAgICAgICBkYXRhPXt0aGlzLnN0YXRlLmRhdGF9XG4gICAgICAgICAgICBlcnJvcj17dGhpcy5zdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgIGlzTG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsQm9keShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5lcnJvcikge1xuICAgIHJldHVybiA8TWVzc2FnZSBpY29uPVwiZXJyb3Jfb3V0bGluZVwiIG1lc3NhZ2U9e3Byb3BzLmVycm9yfSAvPlxuICB9XG5cbiAgcmV0dXJuIDxDaG9pY2VzTGlzdCBkYXRhPXtwcm9wcy5kYXRhfSAvPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlc0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtcG9sbC12b3Rlc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgdm90ZXMtZGV0YWlsc1wiPlxuICAgICAgICB7cHJvcHMuZGF0YS5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgICByZXR1cm4gPENob2ljZURldGFpbHMga2V5PXtjaG9pY2UuaGFzaH0gey4uLmNob2ljZX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VEZXRhaWxzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg0Pntwcm9wcy5sYWJlbH08L2g0PlxuICAgICAgPFZvdGVzQ291bnQgdm90ZXM9e3Byb3BzLnZvdGVzfSAvPlxuICAgICAgPFZvdGVzTGlzdCB2b3RlcnM9e3Byb3BzLnZvdGVyc30gLz5cbiAgICAgIDxociAvPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVzQ291bnQocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh2b3RlcylzIHVzZXIgaGFzIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBcIiUodm90ZXMpcyB1c2VycyBoYXZlIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBwcm9wcy52b3Rlc1xuICApXG5cbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIHZvdGVzOiBwcm9wcy52b3Rlc1xuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIDxwPntsYWJlbH08L3A+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlc0xpc3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52b3RlcnMubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgIHtwcm9wcy52b3RlcnMubWFwKHVzZXIgPT4ge1xuICAgICAgICByZXR1cm4gPFZvdGVyIGtleT17dXNlci51c2VybmFtZX0gey4uLnVzZXJ9IC8+XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlcihwcm9wcykge1xuICBpZiAocHJvcHMudXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Byb3BzLnVybH0+XG4gICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICA8L2E+e1wiIFwifVxuICAgICAgICA8Vm90ZURhdGUgdm90ZWRfb249e3Byb3BzLnZvdGVkX29ufSAvPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPiA8Vm90ZURhdGUgdm90ZWRfb249e3Byb3BzLnZvdGVkX29ufSAvPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFiYnIgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiIHRpdGxlPXtwcm9wcy52b3RlZF9vbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge3Byb3BzLnZvdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2FiYnI+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE1vZGFsIGZyb20gXCIuL21vZGFsXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgeyBpc1BvbGxPdmVyLCBwb2xsLCBzaG93Vm90aW5nLCB0aHJlYWQgfSA9IHByb3BzXG5cbiAgaWYgKCFpc1Zpc2libGUoaXNQb2xsT3ZlciwgcG9sbC5hY2wsIHBvbGwpKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGNvbnRyb2xzID0gW11cblxuICBjb25zdCBjYW5Wb3RlID0gcG9sbC5hY2wuY2FuX3ZvdGVcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9ICFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXNcblxuICBpZiAoY2FuVm90ZSAmJiBjYW5DaGFuZ2VWb3RlKSBjb250cm9scy5wdXNoKDApXG4gIGlmIChwb2xsLmlzX3B1YmxpYyB8fCBwb2xsLmFjbC5jYW5fc2VlX3ZvdGVzKSBjb250cm9scy5wdXNoKDEpXG4gIGlmIChwb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKVxuICBpZiAocG9sbC5hY2wuY2FuX2RlbGV0ZSkgY29udHJvbHMucHVzaCgzKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcG9sbC1vcHRpb25zXCI+XG4gICAgICA8Q2hhbmdlVm90ZVxuICAgICAgICBjb250cm9scz17Y29udHJvbHN9XG4gICAgICAgIGlzUG9sbE92ZXI9e2lzUG9sbE92ZXJ9XG4gICAgICAgIHBvbGw9e3BvbGx9XG4gICAgICAgIHNob3dWb3Rpbmc9e3Nob3dWb3Rpbmd9XG4gICAgICAvPlxuICAgICAgPFNlZVZvdGVzIGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gLz5cbiAgICAgIDxFZGl0IGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8RGVsZXRlIGNvbnRyb2xzPXtjb250cm9sc30gcG9sbD17cG9sbH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGlzUG9sbE92ZXIsIGFjbCwgcG9sbCkge1xuICByZXR1cm4gKFxuICAgIHBvbGwuaXNfcHVibGljIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX2VkaXQgfHxcbiAgICBhY2wuY2FuX3NlZV92b3RlcyB8fFxuICAgIChhY2wuY2FuX3ZvdGUgJiZcbiAgICAgICFpc1BvbGxPdmVyICYmXG4gICAgICAoIXBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHBvbGwuYWxsb3dfcmV2b3RlcykpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShjb250cm9scywgY29udHJvbCkge1xuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wteHMtNlwiXG5cbiAgaWYgKGNvbnRyb2xzLmxlbmd0aCA9PT0gMSkge1xuICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDMgJiYgY29udHJvbHNbMF0gPT09IGNvbnRyb2wpIHtcbiAgICBjbGFzc05hbWUgPSBcImNvbC14cy0xMlwiXG4gIH1cblxuICByZXR1cm4gY2xhc3NOYW1lICsgXCIgY29sLXNtLTMgY29sLW1kLTJcIlxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlVm90ZShwcm9wcykge1xuICBjb25zdCBjYW5Wb3RlID0gcHJvcHMucG9sbC5hY2wuY2FuX3ZvdGVcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9XG4gICAgIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHByb3BzLnBvbGwuYWxsb3dfcmV2b3Rlc1xuXG4gIGlmICghKGNhblZvdGUgJiYgY2FuQ2hhbmdlVm90ZSkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHByb3BzLmNvbnRyb2xzLCAwKX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJWb3RlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFNlZVZvdGVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxNb2RhbCBwb2xsPXt0aGlzLnByb3BzLnBvbGx9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlZVZvdGVzID1cbiAgICAgIHRoaXMucHJvcHMucG9sbC5pc19wdWJsaWMgfHwgdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fc2VlX3ZvdGVzXG4gICAgaWYgKCFzZWVWb3RlcykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKHRoaXMucHJvcHMuY29udHJvbHMsIDEpfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlZSB2b3Rlc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiB0aGlzLnByb3BzLnBvbGwsXG5cbiAgICAgIG1vZGU6IFwiUE9MTFwiXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAyKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBkZWxldGVQb2xsID0gY29uZmlybShcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBvbGw/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlLlwiXG4gICAgICApXG4gICAgKVxuICAgIGlmICghZGVsZXRlUG9sbCkgcmV0dXJuIGZhbHNlXG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLmJ1c3koKSlcblxuICAgIGFqYXhcbiAgICAgIC5kZWxldGUodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleClcbiAgICAgIC50aGVuKHRoaXMuaGFuZGxlU3VjY2VzcywgdGhpcy5oYW5kbGVFcnJvcilcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MgPSBuZXdUaHJlYWRBY2wgPT4ge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoXCJQb2xsIGhhcyBiZWVuIGRlbGV0ZWRcIilcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlbW92ZSgpKVxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGVBY2wobmV3VGhyZWFkQWNsKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZWxlYXNlKCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9kZWxldGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAzKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtaGVscFwiPlxuICAgICAgPFBvbGxDaG9pY2VzTGVmdCBjaG9pY2VzTGVmdD17cHJvcHMuY2hvaWNlc0xlZnR9IC8+XG4gICAgICA8UG9sbEFsbG93UmV2b3RlIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZXNMZWZ0KHsgY2hvaWNlc0xlZnQgfSkge1xuICBpZiAoY2hvaWNlc0xlZnQgPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1jaG9pY2VzLWxlZnRcIj5cbiAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3Qgc2VsZWN0IGFueSBtb3JlIGNob2ljZXMuXCIpfVxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJZb3UgY2FuIHNlbGVjdCAlKGNob2ljZXMpcyBtb3JlIGNob2ljZS5cIixcbiAgICBcIllvdSBjYW4gc2VsZWN0ICUoY2hvaWNlcylzIG1vcmUgY2hvaWNlcy5cIixcbiAgICBjaG9pY2VzTGVmdFxuICApXG5cbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICBtZXNzYWdlLFxuICAgIHtcbiAgICAgIGNob2ljZXM6IGNob2ljZXNMZWZ0XG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1jaG9pY2VzLWxlZnRcIj57bGFiZWx9PC9saT5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxBbGxvd1Jldm90ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9sbC5hbGxvd19yZXZvdGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtYWxsb3ctcmV2b3Rlc1wiPlxuICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4gY2hhbmdlIHlvdXIgdm90ZSBsYXRlci5cIil9XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwicG9sbC1oZWxwLW5vLXJldm90ZXNcIj57Z2V0dGV4dChcIlZvdGVzIGFyZSBmaW5hbC5cIil9PC9saT5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENob2ljZXNIZWxwIGZyb20gXCIuL2hlbHBcIlxuaW1wb3J0IENob2ljZXNTZWxlY3QgZnJvbSBcIi4vc2VsZWN0XCJcbmltcG9ydCB7IGdldENob2ljZXNMZWZ0LCBnZXRDaG9pY2VGcm9tSGFzaCB9IGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCBQb2xsSW5mbyBmcm9tIFwiLi4vaW5mb1wiXG5pbXBvcnQgeyBEZWxldGUsIEVkaXQsIGdldENsYXNzTmFtZSB9IGZyb20gXCIuLi9yZXN1bHRzL29wdGlvbnNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb2xsXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgY2hvaWNlczogcHJvcHMucG9sbC5jaG9pY2VzLFxuICAgICAgY2hvaWNlc0xlZnQ6IGdldENob2ljZXNMZWZ0KHByb3BzLnBvbGwsIHByb3BzLnBvbGwuY2hvaWNlcylcbiAgICB9XG4gIH1cblxuICB0b2dnbGVDaG9pY2UgPSBoYXNoID0+IHtcbiAgICBjb25zdCBjaG9pY2UgPSBnZXRDaG9pY2VGcm9tSGFzaCh0aGlzLnN0YXRlLmNob2ljZXMsIGhhc2gpXG5cbiAgICBsZXQgY2hvaWNlcyA9IG51bGxcbiAgICBpZiAoIWNob2ljZS5zZWxlY3RlZCkge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuc2VsZWN0Q2hvaWNlKGNob2ljZSwgaGFzaClcbiAgICB9IGVsc2Uge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuZGVzZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdCh0aGlzLnByb3BzLnBvbGwsIGNob2ljZXMpXG4gICAgfSlcbiAgfVxuXG4gIHNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzTGVmdCA9IGdldENob2ljZXNMZWZ0KHRoaXMucHJvcHMucG9sbCwgdGhpcy5zdGF0ZS5jaG9pY2VzKVxuXG4gICAgaWYgKCFjaG9pY2VzTGVmdCkge1xuICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuY2hvaWNlcy5zbGljZSgpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnN0YXRlLmNob2ljZXNbaV1cbiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQgJiYgaXRlbS5oYXNoICE9IGhhc2gpIHtcbiAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNob2ljZS5oYXNoID09IGhhc2ggPyB0cnVlIDogY2hvaWNlLnNlbGVjdGVkXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBkZXNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jaG9pY2VzLm1hcChjaG9pY2UgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNob2ljZSwge1xuICAgICAgICBzZWxlY3RlZDogY2hvaWNlLmhhc2ggPT0gaGFzaCA/IGZhbHNlIDogY2hvaWNlLnNlbGVjdGVkXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jaG9pY2VzTGVmdCA9PT0gdGhpcy5wcm9wcy5wb2xsLmFsbG93ZWRfY2hvaWNlcykge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBuZWVkIHRvIHNlbGVjdCBhdCBsZWFzdCBvbmUgY2hvaWNlXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgbGV0IGRhdGEgPSBbXVxuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3RhdGUuY2hvaWNlc1tpXVxuICAgICAgaWYgKGl0ZW0uc2VsZWN0ZWQpIHtcbiAgICAgICAgZGF0YS5wdXNoKGl0ZW0uaGFzaClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucG9sbC5hcGkudm90ZXMsIGRhdGEpXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlcGxhY2UoZGF0YSkpXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB2b3RlIGhhcyBiZWVuIHNhdmVkLlwiKSlcblxuICAgIHRoaXMucHJvcHMuc2hvd1Jlc3VsdHMoKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb250cm9scyA9IFtdXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fdm90ZSkgY29udHJvbHMucHVzaCgwKVxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuaXNfcHVibGljIHx8IHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3NlZV92b3RlcylcbiAgICAgIGNvbnRyb2xzLnB1c2goMSlcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKVxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9kZWxldGUpIGNvbnRyb2xzLnB1c2goMylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9sbFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGgyPnt0aGlzLnByb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgIDxQb2xsSW5mbyBwb2xsPXt0aGlzLnByb3BzLnBvbGx9IC8+XG4gICAgICAgICAgICA8Q2hvaWNlc1NlbGVjdFxuICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNob2ljZXN9XG4gICAgICAgICAgICAgIHRvZ2dsZUNob2ljZT17dGhpcy50b2dnbGVDaG9pY2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPENob2ljZXNIZWxwXG4gICAgICAgICAgICAgIGNob2ljZXNMZWZ0PXt0aGlzLnN0YXRlLmNob2ljZXNMZWZ0fVxuICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCAwKX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgeW91ciB2b3RlXCIpfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZShjb250cm9scywgMSl9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd1Jlc3VsdHN9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNlZSByZXN1bHRzXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPEVkaXRcbiAgICAgICAgICAgICAgICBjb250cm9scz17Y29udHJvbHN9XG4gICAgICAgICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxEZWxldGUgY29udHJvbHM9e2NvbnRyb2xzfSBwb2xsPXt0aGlzLnByb3BzLnBvbGx9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBwb2xsLXNlbGVjdC1jaG9pY2VzXCI+XG4gICAgICB7cHJvcHMuY2hvaWNlcy5tYXAoY2hvaWNlID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2hvaWNlU2VsZWN0XG4gICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3Byb3BzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBDaG9pY2VTZWxlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMudG9nZ2xlQ2hvaWNlKHRoaXMucHJvcHMuY2hvaWNlLmhhc2gpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLXNlbGVjdC1jaG9pY2VcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jaG9pY2Uuc2VsZWN0ZWQgPyBcImJ0biBidG4tc2VsZWN0ZWRcIiA6IFwiYnRuXCJ9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkXG4gICAgICAgICAgICAgID8gXCJjaGVja19ib3hcIlxuICAgICAgICAgICAgICA6IFwiY2hlY2tfYm94X291dGxpbmVfYmxhbmtcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy5jaG9pY2UubGFiZWx9PC9zdHJvbmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VGcm9tSGFzaChjaG9pY2VzLCBoYXNoKSB7XG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXVxuICAgIGlmIChjaG9pY2UuaGFzaCA9PT0gaGFzaCkge1xuICAgICAgcmV0dXJuIGNob2ljZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VzTGVmdChwb2xsLCBjaG9pY2VzKSB7XG4gIGxldCBzZWxlY3Rpb24gPSBbXVxuICBmb3IgKGNvbnN0IGkgaW4gY2hvaWNlcykge1xuICAgIGNvbnN0IGNob2ljZSA9IGNob2ljZXNbaV1cbiAgICBpZiAoY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBzZWxlY3Rpb24ucHVzaChjaG9pY2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvbGwuYWxsb3dlZF9jaG9pY2VzIC0gc2VsZWN0aW9uLmxlbmd0aFxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IHBvc3QtY2hhbmdlbG9nLWRpZmZcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgIHtwcm9wcy5kaWZmLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8RGlmZkl0ZW0gaXRlbT17aXRlbX0ga2V5PXtpfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERpZmZJdGVtKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtWzBdID09PSBcIj9cIikgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldEl0ZW1DbGFzc05hbWUocHJvcHMuaXRlbSl9PntjbGVhbkl0ZW0ocHJvcHMuaXRlbSl9PC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUNsYXNzTmFtZShpdGVtKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImRpZmYtaXRlbVwiXG4gIGlmIChpdGVtWzBdID09PSBcIi1cIikge1xuICAgIGNsYXNzTmFtZSArPSBcIiBkaWZmLWl0ZW0tc3ViXCJcbiAgfSBlbHNlIGlmIChpdGVtWzBdID09PSBcIitcIikge1xuICAgIGNsYXNzTmFtZSArPSBcIiBkaWZmLWl0ZW0tYWRkXCJcbiAgfVxuICByZXR1cm4gY2xhc3NOYW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkl0ZW0oaXRlbSkge1xuICByZXR1cm4gaXRlbS5zdWJzdHIoMilcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNhblJldmVydCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlciB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJSZXZlcnQgcG9zdCB0byBzdGF0ZSBmcm9tIGJlZm9yZSB0aGlzIGVkaXQuXCIpfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJSZXZlcnRcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEaWZmIGZyb20gXCIuL2RpZmZcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi9mb290ZXJcIlxuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIi4vdG9vbGJhclwiXG5pbXBvcnQgeyBoeWRyYXRlRWRpdCB9IGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIGNhblJldmVydDogcHJvcHMucG9zdC5hY2wuY2FuX2VkaXQsXG5cbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZWRpdDogbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ29Ub0VkaXQoKVxuICB9XG5cbiAgZ29Ub0VkaXQgPSAoZWRpdCA9IG51bGwpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICBsZXQgdXJsID0gdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0c1xuICAgIGlmIChlZGl0ICE9PSBudWxsKSB7XG4gICAgICB1cmwgKz0gXCI/ZWRpdD1cIiArIGVkaXRcbiAgICB9XG5cbiAgICBhamF4LmdldCh1cmwpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgICAgIGVkaXQ6IGh5ZHJhdGVFZGl0KGRhdGEpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmV2ZXJ0RWRpdCA9IGVkaXQgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzQnVzeSkgcmV0dXJuXG5cbiAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdpdGggdG8gcmV2ZXJ0IHRoaXMgcG9zdCB0byB0aGUgc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0P1wiXG4gICAgICApXG4gICAgKVxuICAgIGlmICghY29uZmlybWF0aW9uKSByZXR1cm5cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdHMgKyBcIj9lZGl0PVwiICsgZWRpdFxuICAgIGFqYXgucG9zdCh1cmwpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgY29uc3QgaHlkcmF0ZWRQb3N0ID0gcG9zdC5oeWRyYXRlKGRhdGEpXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgaHlkcmF0ZWRQb3N0KSlcblxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb3N0IGhhcyBiZWVuIHJldmVydGVkIHRvIHByZXZpb3VzIHN0YXRlLlwiKSlcbiAgICAgICAgbW9kYWwuaGlkZSgpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgICA8VG9vbGJhclxuICAgICAgICAgICAgY2FuUmV2ZXJ0PXt0aGlzLnN0YXRlLmNhblJldmVydH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgIGVkaXQ9e3RoaXMuc3RhdGUuZWRpdH1cbiAgICAgICAgICAgIGdvVG9FZGl0PXt0aGlzLmdvVG9FZGl0fVxuICAgICAgICAgICAgcmV2ZXJ0RWRpdD17dGhpcy5yZXZlcnRFZGl0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPERpZmYgZGlmZj17dGhpcy5zdGF0ZS5lZGl0LmRpZmZ9IC8+XG4gICAgICAgICAgPEZvb3RlclxuICAgICAgICAgICAgY2FuUmV2ZXJ0PXt0aGlzLnN0YXRlLmNhblJldmVydH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICAgIGVkaXQ9e3RoaXMuc3RhdGUuZWRpdH1cbiAgICAgICAgICAgIHJldmVydEVkaXQ9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJtb2RhbC1kaWFsb2dcIn0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUG9zdCBlZGl0cyBoaXN0b3J5XCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+J1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ29MYXN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQoKVxuICB9XG5cbiAgZ29Gb3J3YXJkID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQodGhpcy5wcm9wcy5lZGl0Lm5leHQpXG4gIH1cblxuICBnb0JhY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQucHJldmlvdXMpXG4gIH1cblxuICByZXZlcnRFZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtdG9vbGJhciBwb3N0LWNoYW5nZWxvZy10b29sYmFyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29CYWNrQnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29CYWNrfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvRm9yd2FyZEJ0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvRm9yd2FyZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0xhc3RCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0xhc3R9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNSB4cy1tYXJnaW4tdG9wLWhhbGYgcG9zdC1jaGFuZ2UtbGFiZWxcIj5cbiAgICAgICAgICAgIDxMYWJlbCBlZGl0PXt0aGlzLnByb3BzLmVkaXR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFJldmVydEJ0blxuICAgICAgICAgICAgY2FuUmV2ZXJ0PXt0aGlzLnByb3BzLmNhblJldmVydH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5yZXZlcnRFZGl0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0JhY2tCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5wcmV2aW91c31cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlNlZSBwcmV2aW91cyBjaGFuZ2VcIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29Gb3J3YXJkQnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1zbVwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQubmV4dH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlNlZSBuZXh0IGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29MYXN0QnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1zbVwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQubmV4dH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlNlZSBwcmV2aW91cyBjaGFuZ2VcIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmV2ZXJ0QnRuKHByb3BzKSB7XG4gIGlmICghcHJvcHMuY2FuUmV2ZXJ0KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMyBoaWRkZW4teHNcIj5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJSZXZlcnQgcG9zdCB0byBzdGF0ZSBmcm9tIGJlZm9yZSB0aGlzIGVkaXQuXCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJldmVydFwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYWJlbChwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLmVkaXQudXJsLmVkaXRvcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC51cmwuZWRpdG9yKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5lZGl0LmVkaXRvcl9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9TUEFOLFxuICAgICAge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdG9yX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX0FCQlIsXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdGVkX29uLmZyb21Ob3coKSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJCeSAlKGVkaXRlZF9ieSlzICUoZWRpdGVkX29uKXMuXCIpKSxcbiAgICB7XG4gICAgICBlZGl0ZWRfYnk6IHVzZXIsXG4gICAgICBlZGl0ZWRfb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX0gLz5cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlRWRpdChqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgZWRpdGVkX29uOiBtb21lbnQoanNvbi5lZGl0ZWRfb24pXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQb3N0IGZyb20gXCIuL3Bvc3RcIlxuaW1wb3J0IFByZXZpZXcgZnJvbSBcIi4vcHJldmlld1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgaXNSZWFkeSwgcG9zdHMsIHBvc3RlciB9KSB7XG4gIGlmICghaXNSZWFkeSkge1xuICAgIHJldHVybiA8UHJldmlldyAvPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCBwb3N0LWZlZWQgdWktcmVhZHlcIj5cbiAgICAgIHtwb3N0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiA8UG9zdCBrZXk9e3Bvc3QuaWR9IHBvc3Q9e3Bvc3R9IHBvc3Rlcj17cG9zdGVyfSAvPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwXCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5jb250ZW50KSB7XG4gICAgcmV0dXJuIDxEZWZhdWx0IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gPEludmFsaWQgey4uLnByb3BzfSAvPlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgIDxNaXNhZ29NYXJrdXAgbWFya3VwPXtwcm9wcy5wb3N0LmNvbnRlbnR9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWQocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keSBwb3N0LWJvZHktaW52YWxpZFwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlRoaXMgcG9zdCdzIGNvbnRlbnRzIGNhbm5vdCBiZSBkaXNwbGF5ZWQuXCIpfVxuICAgICAgPC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlRoaXMgZXJyb3IgaXMgY2F1c2VkIGJ5IGludmFsaWQgcG9zdCBjb250ZW50IG1hbmlwdWxhdGlvbi5cIil9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICBjb25zdCB7IGNhdGVnb3J5LCB0aHJlYWQgfSA9IHBvc3RcblxuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoXG4gICAgZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLFxuICAgIHtcbiAgICAgIHBvc3RlZF9vbjogcG9zdC5wb3N0ZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1oZWFkaW5nXCI+XG4gICAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgaXRlbS10aXRsZVwiIGhyZWY9e3RocmVhZC51cmx9PlxuICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgPC9hPlxuICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3QtY2F0ZWdvcnlcIiBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9PlxuICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Bvc3QudXJsLmluZGV4fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uXCJcbiAgICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgICA+XG4gICAgICAgIHtwb3N0LnBvc3RlZF9vbi5mcm9tTm93KCl9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJvZHkgZnJvbSBcIi4vYm9keVwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgUG9zdFNpZGUgZnJvbSBcIi4vcG9zdC1zaWRlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICBjb25zdCB1c2VyID0gcG9zdGVyIHx8IHBvc3QucG9zdGVyXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwicG9zdFwiXG4gIGlmICh1c2VyICYmIHVzZXIucmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgcG9zdC1cIiArIHVzZXIucmFuay5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBpZD17XCJwb3N0LVwiICsgcG9zdC5pZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8UG9zdFNpZGUgcG9zdD17cG9zdH0gcG9zdGVyPXt1c2VyfSAvPlxuICAgICAgICAgIDxIZWFkZXIgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgICA8Qm9keSBwb3N0PXtwb3N0fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBHb1RvQnV0dG9uIGZyb20gXCIuL2J1dHRvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgPEdvVG9CdXR0b24gcG9zdD17cG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIiBzaXplPXs1MH0gLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57cG9zdC5wb3N0ZXJfbmFtZX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZW1vdmVkIHVzZXJcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YSBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gcHVsbC1yaWdodFwiIGhyZWY9e3Bvc3QudXJsLmluZGV4fT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJ0bi10ZXh0LWxlZnQgaGlkZGVuLXhzXCI+e2dldHRleHQoXCJTZWUgcG9zdFwiKX08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFub255bW91cyBmcm9tIFwiLi9hbm9ueW1vdXNcIlxuaW1wb3J0IFJlZ2lzdGVyZWQgZnJvbSBcIi4vcmVnaXN0ZXJlZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgaWYgKHBvc3Rlci5pZCkge1xuICAgIHJldHVybiA8UmVnaXN0ZXJlZCBwb3N0PXtwb3N0fSBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgfVxuXG4gIHJldHVybiA8QW5vbnltb3VzIHBvc3Q9e3Bvc3R9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgR29Ub0J1dHRvbiBmcm9tIFwiLi9idXR0b25cIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCBwb3N0ZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1yZWdpc3RlcmVkXCI+XG4gICAgICA8R29Ub0J1dHRvbiBwb3N0PXtwb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBocmVmPXtwb3N0ZXIudXJsfT5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezUwfSB1c2VyPXtwb3N0ZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICAgIHtwb3N0ZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFVzZXJUaXRsZSB0aXRsZT17cG9zdGVyLnRpdGxlfSByYW5rPXtwb3N0ZXIucmFua30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmFuaywgdGl0bGUgfSkge1xuICBsZXQgdXNlclRpdGxlID0gdGl0bGUgfHwgcmFuay50aXRsZSB8fCByYW5rLm5hbWVcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ1c2VyLXRpdGxlXCJcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHVzZXItdGl0bGUtXCIgKyByYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgaWYgKHJhbmsuaXNfdGFiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXtyYW5rLnVybH0+XG4gICAgICAgIHt1c2VyVGl0bGV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57dXNlclRpdGxlfTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHBvc3QtZmVlZCB1aS1wcmV2aWV3XCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17NTB9IC8+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIj5cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZVwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGxpa2VzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucG9zdC5hcGkubGlrZXMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBsaWtlczogZGF0YS5tYXAoaHlkcmF0ZUxpa2UpXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5saWtlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtc21cIiBsaWtlcz17dGhpcy5zdGF0ZS5saWtlc30+XG4gICAgICAgICAgICA8TGlrZXNMaXN0IGxpa2VzPXt0aGlzLnN0YXRlLmxpa2VzfSAvPlxuICAgICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXtnZXR0ZXh0KFwiTm8gdXNlcnMgaGF2ZSBsaWtlZCB0aGlzIHBvc3QuXCIpfSAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtc21cIj5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVMaWtlKGRhdGEpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICBsaWtlZF9vbjogbW9tZW50KGRhdGEubGlrZWRfb24pXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIGxpa2VzIH0pIHtcbiAgbGV0IHRpdGxlID0gZ2V0dGV4dChcIlBvc3QgTGlrZXNcIilcbiAgaWYgKGxpa2VzKSB7XG4gICAgY29uc3QgbGlrZXNDb3VudCA9IGxpa2VzLmxlbmd0aFxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUobGlrZXMpcyBsaWtlXCIsIFwiJShsaWtlcylzIGxpa2VzXCIsIGxpa2VzQ291bnQpXG5cbiAgICB0aXRsZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsgbGlrZXM6IGxpa2VzQ291bnQgfSwgdHJ1ZSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e1wibW9kYWwtZGlhbG9nIFwiICsgKGNsYXNzTmFtZSB8fCBcIlwiKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPnt0aXRsZX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VzTGlzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1wb3N0LWxpa2Vyc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cIm1lZGlhLWxpc3RcIj5cbiAgICAgICAge3Byb3BzLmxpa2VzLm1hcChsaWtlID0+IHtcbiAgICAgICAgICByZXR1cm4gPExpa2VEZXRhaWxzIGtleT17bGlrZS5pZH0gey4uLmxpa2V9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZURldGFpbHMocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICBpZDogcHJvcHMubGlrZXJfaWQsXG4gICAgICBhdmF0YXJzOiBwcm9wcy5hdmF0YXJzXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiIGhyZWY9e3Byb3BzLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGEgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiIGhyZWY9e3Byb3BzLnVybH0+XG4gICAgICAgICAgICB7cHJvcHMudXNlcm5hbWV9XG4gICAgICAgICAgPC9hPntcIiBcIn1cbiAgICAgICAgICA8TGlrZURhdGUgbGlrZWRPbj17cHJvcHMubGlrZWRfb259IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuICAgICAgICA8c3Ryb25nPntwcm9wcy51c2VybmFtZX08L3N0cm9uZz4gPExpa2VEYXRlIGxpa2VkT249e3Byb3BzLmxpa2VkX29ufSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZURhdGUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgdGl0bGU9e3Byb3BzLmxpa2VkT24uZm9ybWF0KFwiTExMXCIpfT5cbiAgICAgIHtwcm9wcy5saWtlZE9uLmZyb21Ob3coKX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vdXRpbHMvbG9hZGVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tIFwiLi91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBwcm90ZWN0OiBmYWxzZSxcblxuICAgICAgY2FuUHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZykudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcilcbiAgfVxuXG4gIGxvYWRTdWNjZXNzID0gZGF0YSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuaHlkcmF0ZShkYXRhLmF0dGFjaG1lbnRzKSxcbiAgICAgIHByb3RlY3Q6IGRhdGEuaXNfcHJvdGVjdGVkLFxuXG4gICAgICBjYW5Qcm90ZWN0OiBkYXRhLmNhbl9wcm90ZWN0XG4gICAgfSlcbiAgfVxuXG4gIGxvYWRFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgY2hhbmdlcz9cIikpXG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgb25Qcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvblVucHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgIHByb3RlY3Q6IHRoaXMuc3RhdGUucHJvdGVjdFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJSZXBseSBoYXMgYmVlbiBlZGl0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5jYXRlZ29yeSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRpdGxlIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMuc3RhdGUuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMub25Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMub25VbnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnN0YXRlLnByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIkVkaXQgcmVwbHlcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yZWR9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdGFydCBmcm9tIFwiLi9zdGFydFwiXG5pbXBvcnQgU3RhcnRQcml2YXRlIGZyb20gXCIuL3N0YXJ0LXByaXZhdGVcIlxuaW1wb3J0IFJlcGx5IGZyb20gXCIuL3JlcGx5XCJcbmltcG9ydCBFZGl0IGZyb20gXCIuL2VkaXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVFwiKSB7XG4gICAgcmV0dXJuIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJTVEFSVF9QUklWQVRFXCIpIHtcbiAgICByZXR1cm4gPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJSRVBMWVwiKSB7XG4gICAgcmV0dXJuIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSBpZiAocHJvcHMubW9kZSA9PT0gXCJFRElUXCIpIHtcbiAgICByZXR1cm4gPEVkaXQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vdXRpbHMvbG9hZGVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tIFwiLi91dGlscy92YWxpZGF0b3JzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMuY29uZmlnLCB0aGlzLnByb3BzLmNvbnRleHQgfHwgbnVsbClcbiAgICAgIC50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wcm9wcy5jb250ZXh0XG4gICAgY29uc3QgbmV3Q29udGV4dCA9IG5leHRQcm9wcy5jb250ZXh0XG5cbiAgICBpZiAoY29udGV4dCAmJiBuZXdDb250ZXh0ICYmIGNvbnRleHQucmVwbHkgPT09IG5ld0NvbnRleHQucmVwbHkpIHJldHVyblxuXG4gICAgYWpheFxuICAgICAgLmdldChuZXh0UHJvcHMuY29uZmlnLCBuZXh0UHJvcHMuY29udGV4dCB8fCBudWxsKVxuICAgICAgLnRoZW4odGhpcy5hcHBlbmREYXRhLCBzbmFja2Jhci5hcGlFcnJvcilcbiAgfVxuXG4gIGxvYWRTdWNjZXNzID0gZGF0YSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3RcbiAgICAgICAgPyAnW3F1b3RlPVwiQCcgKyBkYXRhLnBvc3RlciArICdcIl1cXG4nICsgZGF0YS5wb3N0ICsgXCJcXG5bL3F1b3RlXVwiXG4gICAgICAgIDogXCJcIlxuICAgIH0pXG4gIH1cblxuICBsb2FkRXJyb3IgPSByZWplY3Rpb24gPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSlcbiAgfVxuXG4gIGFwcGVuZERhdGEgPSBkYXRhID0+IHtcbiAgICBjb25zdCBuZXdQb3N0ID0gZGF0YS5wb3N0XG4gICAgICA/ICdbcXVvdGU9XCJAJyArIGRhdGEucG9zdGVyICsgJ1wiXVxcbicgKyBkYXRhLnBvc3QgKyBcIlxcblsvcXVvdGVdXFxuXFxuXCJcbiAgICAgIDogXCJcIlxuXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZS5wb3N0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwb3N0OiBwcmV2U3RhdGUucG9zdCArIFwiXFxuXFxuXCIgKyBuZXdQb3N0XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9zdDogbmV3UG9zdFxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHlvdXIgcmVwbHk/XCIpXG4gICAgKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cylcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciByZXBseSBoYXMgYmVlbiBwb3N0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgIClcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEVkaXRvciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcIi4vdXRpbHMvY29udGFpbmVyXCJcbmltcG9ydCBNZXNzYWdlIGZyb20gXCIuL3V0aWxzL21lc3NhZ2VcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IGNsZWFuVXNlcm5hbWVzIGZyb20gXCIuL3V0aWxzL3VzZXJuYW1lc1wiXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIi4vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHRvID0gKHByb3BzLnRvIHx8IFtdKS5tYXAodXNlciA9PiB1c2VyLnVzZXJuYW1lKS5qb2luKFwiLCBcIilcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0bzogdG8sXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIHBvc3Q6IFwiXCIsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oXG4gICAgICBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcHJpdmF0ZSB0aHJlYWQ/XCIpXG4gICAgKVxuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIG9uVG9DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRvXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uVGl0bGVDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRpdGxlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uUG9zdENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwicG9zdFwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNobWVudHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCFjbGVhblVzZXJuYW1lcyh0aGlzLnN0YXRlLnRvKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhdCBsZWFzdCBvbmUgcmVjaXBpZW50LlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdG86IGNsZWFuVXNlcm5hbWVzKHRoaXMuc3RhdGUudG8pLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cylcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB0aHJlYWQgaGFzIGJlZW4gcG9zdGVkLlwiKSlcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybFxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udG8gfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKVxuXG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnNbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCIgd2l0aEZpcnN0Um93PXt0cnVlfT5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9DaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICBcIkNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHVzZXIgbmFtZXMsIGVnLjogRGFubnksIExpc2FcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRvfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIlBvc3QgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCBFZGl0b3IgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2VkaXRvclwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL3V0aWxzL2NvbnRhaW5lclwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuL3V0aWxzL2xvYWRlclwiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi91dGlscy9tZXNzYWdlXCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCIuL3V0aWxzL29wdGlvbnNcIlxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSBcIi4vdXRpbHMvYXR0YWNobWVudHNcIlxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMsIGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gXCIuL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgc2hvd09wdGlvbnM6IGZhbHNlLFxuICAgICAgY2F0ZWdvcnlPcHRpb25zOiBudWxsLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBwcm9wcy5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICBwb3N0OiBcIlwiLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgY2xvc2U6IGZhbHNlLFxuICAgICAgaGlkZTogZmFsc2UsXG4gICAgICBwaW46IDAsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKVxuICB9XG5cbiAgbG9hZFN1Y2Nlc3MgPSBkYXRhID0+IHtcbiAgICBsZXQgY2F0ZWdvcnkgPSBudWxsXG4gICAgbGV0IHNob3dPcHRpb25zID0gZmFsc2VcbiAgICBsZXQgY2F0ZWdvcnlPcHRpb25zID0gbnVsbFxuXG4gICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgIC8vIHBpY2sgZmlyc3QgY2F0ZWdvcnkgdGhhdCBhbGxvd3MgcG9zdGluZyBhbmQgaWYgaXQgbWF5LCBvdmVycmlkZSBpdCB3aXRoIGluaXRpYWwgb25lXG4gICAgICBpZiAoXG4gICAgICAgIGl0ZW0ucG9zdCAhPT0gZmFsc2UgJiZcbiAgICAgICAgKCFjYXRlZ29yeSB8fCBpdGVtLmlkID09IHRoaXMuc3RhdGUuY2F0ZWdvcnkpXG4gICAgICApIHtcbiAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkXG4gICAgICAgIGNhdGVnb3J5T3B0aW9ucyA9IGl0ZW0ucG9zdFxuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5wb3N0ICYmIChpdGVtLnBvc3QuY2xvc2UgfHwgaXRlbS5wb3N0LmhpZGUgfHwgaXRlbS5wb3N0LnBpbikpIHtcbiAgICAgICAgc2hvd09wdGlvbnMgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgIHZhbHVlOiBpdGVtLmlkXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICBzaG93T3B0aW9ucyxcblxuICAgICAgY2F0ZWdvcmllcyxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgY2F0ZWdvcnlPcHRpb25zXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KVxuICB9XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgdGhyZWFkP1wiKSlcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICBvblRpdGxlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ0aXRsZVwiLCBldmVudC50YXJnZXQudmFsdWUpXG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5zdGF0ZS5jYXRlZ29yaWVzLmZpbmQoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LnZhbHVlID09IGl0ZW0udmFsdWVcbiAgICB9KVxuXG4gICAgLy8gaWYgc2VsZWN0ZWQgcGluIGlzIGdyZWF0ZXIgdGhhbiBhbGxvd2VkLCByZWR1Y2UgaXRcbiAgICBsZXQgcGluID0gdGhpcy5zdGF0ZS5waW5cbiAgICBpZiAoY2F0ZWdvcnkucG9zdC5waW4gJiYgY2F0ZWdvcnkucG9zdC5waW4gPCBwaW4pIHtcbiAgICAgIHBpbiA9IGNhdGVnb3J5LnBvc3QucGluXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkuaWQsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IGNhdGVnb3J5LnBvc3QsXG5cbiAgICAgIHBpblxuICAgIH0pXG4gIH1cblxuICBvblBvc3RDaGFuZ2UgPSB2YWx1ZSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBvc3RcIiwgdmFsdWUpXG4gIH1cblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gYXR0YWNoID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzOmF0dGFjaFxuICAgIH0pXG4gIH1cblxuICBvbkNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJjbG9zZVwiLCB0cnVlKVxuICB9XG5cbiAgb25PcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJjbG9zZVwiLCBmYWxzZSlcbiAgfVxuXG4gIG9uUGluR2xvYmFsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAyKVxuICB9XG5cbiAgb25QaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJwaW5cIiwgMSlcbiAgfVxuXG4gIG9uVW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInBpblwiLCAwKVxuICB9XG5cbiAgb25IaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJoaWRlXCIsIHRydWUpXG4gIH1cblxuICBvblVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwiaGlkZVwiLCBmYWxzZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgIGNsb3NlOiB0aGlzLnN0YXRlLmNsb3NlLFxuICAgICAgaGlkZTogdGhpcy5zdGF0ZS5oaWRlLFxuICAgICAgcGluOiB0aGlzLnN0YXRlLnBpblxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHRocmVhZCBoYXMgYmVlbiBwb3N0ZWQuXCIpKVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsXG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGNvbnN0IGVycm9ycyA9IFtdLmNvbmNhdChcbiAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5jYXRlZ29yeSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnRpdGxlIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmF0dGFjaG1lbnRzIHx8IFtdXG4gICAgICApXG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG5cbiAgICBsZXQgY29sdW1ucyA9IDBcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnMuY2xvc2UpIGNvbHVtbnMgKz0gMVxuICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5oaWRlKSBjb2x1bW5zICs9IDFcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnMucGluKSBjb2x1bW5zICs9IDFcblxuICAgIGxldCB0aXRsZVN0eWxlID0gbnVsbFxuXG4gICAgaWYgKGNvbHVtbnMgPT09IDEpIHtcbiAgICAgIHRpdGxlU3R5bGUgPSBcImNvbC1zbS02XCJcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVTdHlsZSA9IFwiY29sLXNtLThcIlxuICAgIH1cblxuICAgIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgICB0aXRsZVN0eWxlICs9IFwiIGNvbC1tZC02XCJcbiAgICB9IGVsc2UgaWYgKGNvbHVtbnMpIHtcbiAgICAgIHRpdGxlU3R5bGUgKz0gXCIgY29sLW1kLTdcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVN0eWxlICs9IFwiIGNvbC1tZC05XCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIiB3aXRoRmlyc3RSb3c9e3RydWV9PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZpcnN0LXJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RpdGxlU3R5bGV9PlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTMgeHMtbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgICAgIGNsb3NlPXt0aGlzLnN0YXRlLmNsb3NlfVxuICAgICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGhpZGU9e3RoaXMuc3RhdGUuaGlkZX1cbiAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkNsb3NlfVxuICAgICAgICAgICAgICBvbkhpZGU9e3RoaXMub25IaWRlfVxuICAgICAgICAgICAgICBvbk9wZW49e3RoaXMub25PcGVufVxuICAgICAgICAgICAgICBvblBpbkdsb2JhbGx5PXt0aGlzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgICAgIG9uUGluTG9jYWxseT17dGhpcy5vblBpbkxvY2FsbHl9XG4gICAgICAgICAgICAgIG9uVW5oaWRlPXt0aGlzLm9uVW5oaWRlfVxuICAgICAgICAgICAgICBvblVucGluPXt0aGlzLm9uVW5waW59XG4gICAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zfVxuICAgICAgICAgICAgICBwaW49e3RoaXMuc3RhdGUucGlufVxuICAgICAgICAgICAgICBzaG93T3B0aW9ucz17dGhpcy5zdGF0ZS5zaG93T3B0aW9uc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiUG9zdCB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbihhdHRhY2htZW50cykge1xuICBjb25zdCBjb21wbGV0ZWRBdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzLmZpbHRlcihhdHRhY2htZW50ID0+IHtcbiAgICByZXR1cm4gYXR0YWNobWVudC5pZCAmJiAhYXR0YWNobWVudC5pc1JlbW92ZWRcbiAgfSlcblxuICByZXR1cm4gY29tcGxldGVkQXR0YWNobWVudHMubWFwKGEgPT4ge1xuICAgIHJldHVybiBhLmlkXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGF0dGFjaG1lbnRzKSB7XG4gIHJldHVybiBhdHRhY2htZW50cy5tYXAoYXR0YWNobWVudCA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGF0dGFjaG1lbnQsIHtcbiAgICAgIHVwbG9hZGVkX29uOiBtb21lbnQoYXR0YWNobWVudC51cGxvYWRlZF9vbilcbiAgICB9KVxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPntwcm9wcy5jaGlsZHJlbn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL2NvbnRhaW5lclwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9sb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCIuL2NvbnRhaW5lclwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZXJyb3Jfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBvbkNsaWNrPXtwb3N0aW5nLmNsb3NlfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJEaXNtaXNzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvQ29udGFpbmVyPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93T3B0aW9ucykgcmV0dXJuIG51bGxcblxuICBjb25zdCB7IGNvbHVtbnMgfSA9IHByb3BzXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiY29sLXhzLTEyIHhzLW1hcmdpbi10b3BcIlxuXG4gIGlmIChjb2x1bW5zID09PSAxKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGNvbC1zbS0yXCJcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgc20tbWFyZ2luLXRvcFwiXG4gIH1cblxuICBpZiAoY29sdW1ucyA9PT0gMykge1xuICAgIGNsYXNzTmFtZSArPSBcIiBjb2wtbWQtM1wiXG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGNvbC1tZC0yXCJcbiAgfVxuICBjbGFzc05hbWUgKz0gXCIgcG9zdGluZy1vcHRpb25zXCJcblxuICBjb25zdCBjb2x1bW5DbGFzc05hbWUgPSBcImNvbC14cy1cIiArIDEyIC8gY29sdW1uc1xuXG4gIGxldCB0ZXh0Q2xhc3NOYW1lID0gXCJidG4tdGV4dFwiXG4gIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgdGV4dENsYXNzTmFtZSArPSBcIiB2aXNpYmxlLXNtLWlubGluZS1ibG9ja1wiXG4gIH0gZWxzZSBpZiAoY29sdW1ucyA9PT0gMikge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiXG4gIH0gZWxzZSB7XG4gICAgdGV4dENsYXNzTmFtZSArPSBcIiBoaWRkZW4tc21cIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxQaW5PcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3Byb3BzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgb25QaW5Mb2NhbGx5PXtwcm9wcy5vblBpbkxvY2FsbHl9XG4gICAgICAgICAgb25VbnBpbj17cHJvcHMub25VbnBpbn1cbiAgICAgICAgICBwaW49e3Byb3BzLnBpbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLnBpbn1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgICA8SGlkZU9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgaGlkZT17cHJvcHMuaGlkZX1cbiAgICAgICAgICBvbkhpZGU9e3Byb3BzLm9uSGlkZX1cbiAgICAgICAgICBvblVuaGlkZT17cHJvcHMub25VbmhpZGV9XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5oaWRlfVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxDbG9zZU9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBjbG9zZT17cHJvcHMuY2xvc2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xvc2U9e3Byb3BzLm9uQ2xvc2V9XG4gICAgICAgICAgb25PcGVuPXtwcm9wcy5vbk9wZW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5jbG9zZX1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb3NlT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsXG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5jbG9zZSA/IGdldHRleHQoXCJDbG9zZWRcIikgOiBnZXR0ZXh0KFwiT3BlblwiKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmNsb3NlID8gcHJvcHMub25PcGVuIDogcHJvcHMub25DbG9zZX1cbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5jbG9zZSA/IFwibG9ja1wiIDogXCJsb2NrX291dGxpbmVcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLnRleHRDbGFzc05hbWV9PntsYWJlbH08L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGxhYmVsID0gcHJvcHMuaGlkZSA/IGdldHRleHQoXCJIaWRkZW5cIikgOiBnZXR0ZXh0KFwiTm90IGhpZGRlblwiKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGUgPyBwcm9wcy5vblVuaGlkZSA6IHByb3BzLm9uSGlkZX1cbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5oaWRlID8gXCJ2aXNpYmlsaXR5X29mZlwiIDogXCJ2aXNpYmlsaXR5XCJ9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT57bGFiZWx9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbk9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbFxuXG4gIGxldCBpY29uID0gbnVsbFxuICBsZXQgb25DbGljayA9IG51bGxcbiAgbGV0IGxhYmVsID0gbnVsbFxuXG4gIHN3aXRjaCAocHJvcHMucGluKSB7XG4gICAgY2FzZSAwOlxuICAgICAgaWNvbiA9IFwicmFkaW9fYnV0dG9uX3VuY2hlY2tlZFwiXG4gICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5Mb2NhbGx5XG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJVbnBpbm5lZFwiKVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgMTpcbiAgICAgIGljb24gPSBcImJvb2ttYXJrX291dGxpbmVcIlxuICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHlcbiAgICAgIGxhYmVsID0gZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpXG5cbiAgICAgIGlmIChwcm9wcy5zaG93ID09IDIpIHtcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluXG4gICAgICB9XG5cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlIDI6XG4gICAgICBpY29uID0gXCJib29rbWFya1wiXG4gICAgICBvbkNsaWNrID0gcHJvcHMub25VbnBpblxuICAgICAgbGFiZWwgPSBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpXG4gICAgICBicmVha1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT57bGFiZWx9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHVzZXJuYW1lcykge1xuICBjb25zdCBub3JtYWxpc2VkTmFtZXMgPSB1c2VybmFtZXMuc3BsaXQoXCIsXCIpLm1hcChpID0+IGkudHJpbSgpLnRvTG93ZXJDYXNlKCkpXG4gIGNvbnN0IHJlbW92ZWRCbGFua3MgPSBub3JtYWxpc2VkTmFtZXMuZmlsdGVyKGkgPT4gaS5sZW5ndGggPiAwKVxuICBjb25zdCByZW1vdmVkRHVwbGljYXRlcyA9IHJlbW92ZWRCbGFua3MuZmlsdGVyKChuYW1lLCBwb3MpID0+IHtcbiAgICByZXR1cm4gcmVtb3ZlZEJsYW5rcy5pbmRleE9mKG5hbWUpID09IHBvc1xuICB9KVxuXG4gIHJldHVybiByZW1vdmVkRHVwbGljYXRlc1xufVxuIiwiaW1wb3J0IHsgbWF4TGVuZ3RoLCBtaW5MZW5ndGggfSBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlVmFsaWRhdG9ycygpIHtcbiAgcmV0dXJuIFtnZXRUaXRsZUxlbmd0aE1pbigpLCBnZXRUaXRsZUxlbmd0aE1heCgpXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdFZhbGlkYXRvcnMoKSB7XG4gIGlmIChtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikucG9zdF9sZW5ndGhfbWF4KSB7XG4gICAgcmV0dXJuIFt2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSwgdmFsaWRhdGVQb3N0TGVuZ3RoTWF4KCldXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFt2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKV1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVMZW5ndGhNaW4oKSB7XG4gIHJldHVybiBtaW5MZW5ndGgoXG4gICAgbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnRocmVhZF90aXRsZV9sZW5ndGhfbWluLFxuICAgIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIGxpbWl0VmFsdWVcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlTGVuZ3RoTWF4KCkge1xuICByZXR1cm4gbWF4TGVuZ3RoKFxuICAgIG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS50aHJlYWRfdGl0bGVfbGVuZ3RoX21heCxcbiAgICAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiVGhyZWFkIHRpdGxlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIGxpbWl0VmFsdWVcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChcbiAgICBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikucG9zdF9sZW5ndGhfbWluLFxuICAgIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBcIlBvc3RlZCBtZXNzYWdlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICBsaW1pdFZhbHVlXG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RMZW5ndGhNYXgoKSB7XG4gIHJldHVybiBtYXhMZW5ndGgoXG4gICAgbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLnBvc3RfbGVuZ3RoX21heCB8fCAxMDAwMDAwLFxuICAgIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgIGxpbWl0VmFsdWVcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChpc1Zpc2libGUocHJvcHMucG9zdC5hY2wpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1jb250cm9sc1wiPlxuICAgICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShhY2wpIHtcbiAgcmV0dXJuIGFjbC5jYW5faGlkZVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICAgIGhpZGRlbl9ieV9uYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICAgIHVybDogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLnBvc3QudXJsLCB7XG4gICAgICAgICAgaGlkZGVuX2J5OiB0aGlzLnByb3BzLnVzZXIudXJsXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIClcblxuICAgIGNvbnN0IG9wID0geyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiB0cnVlIH1cblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbihcbiAgICAgIHBhdGNoID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHBhdGNoKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBjb25zdCBvcCA9IHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogZmFsc2UgfVxuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4LCBbb3BdKS50aGVuKFxuICAgICAgcGF0Y2ggPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwgcGF0Y2gpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgICAgICBpc19oaWRkZW46IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKFxuICAgICAgZ2V0dGV4dChcbiAgICAgICAgXCJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gZGVsZXRlIHRoaXMgZXZlbnQ/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiXG4gICAgICApXG4gICAgKVxuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgdGhpcy5kZWxldGUoKVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJFdmVudCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY29uc3QgSUNPTiA9IHtcbiAgY2hhbmdlZF90aXRsZTogXCJlZGl0XCIsXG5cbiAgcGlubmVkX2dsb2JhbGx5OiBcImJvb2ttYXJrXCIsXG4gIHBpbm5lZF9sb2NhbGx5OiBcImJvb2ttYXJrX2JvcmRlclwiLFxuICB1bnBpbm5lZDogXCJwYW5vcmFtYV9maXNoX2V5ZVwiLFxuXG4gIG1vdmVkOiBcImFycm93X2ZvcndhcmRcIixcbiAgbWVyZ2VkOiBcImNhbGxfbWVyZ2VcIixcblxuICBhcHByb3ZlZDogXCJkb25lXCIsXG5cbiAgb3BlbmVkOiBcImxvY2tfb3BlblwiLFxuICBjbG9zZWQ6IFwibG9ja19vdXRsaW5lXCIsXG5cbiAgdW5oaWQ6IFwidmlzaWJpbGl0eVwiLFxuICBoaWQ6IFwidmlzaWJpbGl0eV9vZmZcIixcblxuICBjaGFuZ2VkX293bmVyOiBcImdyYWRlXCIsXG4gIHRvb2tvdmVyOiBcImdyYWRlXCIsXG5cbiAgYWRkZWRfcGFydGljaXBhbnQ6IFwicGVyc29uX2FkZFwiLFxuXG4gIG93bmVyX2xlZnQ6IFwicGVyc29uX291dGxpbmVcIixcbiAgcGFydGljaXBhbnRfbGVmdDogXCJwZXJzb25fb3V0bGluZVwiLFxuICByZW1vdmVkX3BhcnRpY2lwYW50OiBcInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntJQ09OW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV19PC9zcGFuPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBJY29uIGZyb20gXCIuL2ljb25cIlxuaW1wb3J0IEluZm8gZnJvbSBcIi4vaW5mb1wiXG5pbXBvcnQgTWVzc2FnZSBmcm9tIFwiLi9tZXNzYWdlXCJcbmltcG9ydCBVbnJlYWRMYWJlbCBmcm9tIFwiLi91bnJlYWQtbGFiZWxcIlxuaW1wb3J0IFdheXBvaW50IGZyb20gXCIuLi93YXlwb2ludFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImV2ZW50XCJcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJoaWRlXCJcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwiZXZlbnQgcG9zdC1oaWRkZW5cIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9e1wicG9zdC1cIiArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxVbnJlYWRMYWJlbCBwb3N0PXtwcm9wcy5wb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMiBjb2wtc20tMyB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTAgY29sLXNtLTkgdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgPFdheXBvaW50IHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgICAgICAgPE1lc3NhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEluZm8gey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvV2F5cG9pbnQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tIFwibWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sXCJcbmltcG9ydCBDb250cm9scyBmcm9tIFwiLi9jb250cm9sc1wiXG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nXG5jb25zdCBEQVRFX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hPidcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgZXZlbnQtaW5mb1wiPlxuICAgICAgPEhpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIGxldCB1c2VyID0gbnVsbFxuICAgIGlmIChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgVVNFUl9VUkwsXG4gICAgICAgIHtcbiAgICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSxcbiAgICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgICBVU0VSX1NQQU4sXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoXG4gICAgICBEQVRFX0FCQlIsXG4gICAgICB7XG4gICAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZvcm1hdChcIkxMTFwiKSksXG4gICAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoZXZlbnRfYnkpcyAlKGV2ZW50X29uKXMuXCIpKSxcbiAgICAgIHtcbiAgICAgICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgICAgIGV2ZW50X29uOiBkYXRlXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtaGlkZGVuLW1lc3NhZ2VcIlxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAgIC8+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3Rlcihwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgVVNFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlci51cmwpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBVU0VSX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIERBVEVfVVJMLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5pbmRleCksXG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIkJ5ICUoZXZlbnRfYnkpcyAlKGV2ZW50X29uKXMuXCIpKSxcbiAgICB7XG4gICAgICBldmVudF9ieTogdXNlcixcbiAgICAgIGV2ZW50X29uOiBkYXRlXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtcG9zdGVyc1wiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gXCJtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWxcIlxuXG5jb25zdCBNRVNTQUdFID0ge1xuICBwaW5uZWRfZ2xvYmFsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKSxcbiAgcGlubmVkX2xvY2FsbHk6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGxvY2FsbHkuXCIpLFxuICB1bnBpbm5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIiksXG5cbiAgYXBwcm92ZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gYXBwcm92ZWQuXCIpLFxuXG4gIG9wZW5lZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpLFxuICBjbG9zZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKSxcblxuICB1bmhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiByZXZlYWxlZC5cIiksXG4gIGhpZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIGhpZGRlbi5cIiksXG5cbiAgdG9va292ZXI6IGdldHRleHQoXCJUb29rIHRocmVhZCBvdmVyLlwiKSxcblxuICBvd25lcl9sZWZ0OiBnZXR0ZXh0KFwiT3duZXIgaGFzIGxlZnQgdGhyZWFkLiBUaGlzIHRocmVhZCBpcyBub3cgY2xvc2VkLlwiKSxcbiAgcGFydGljaXBhbnRfbGVmdDogZ2V0dGV4dChcIlBhcnRpY2lwYW50IGhhcyBsZWZ0IHRocmVhZC5cIilcbn1cblxuY29uc3QgSVRFTV9MSU5LID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L2E+J1xuY29uc3QgSVRFTV9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUobmFtZSlzPC9zcGFuPidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKE1FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXSkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCI+e01FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXX08L3A+XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSBcImNoYW5nZWRfdGl0bGVcIikge1xuICAgIHJldHVybiA8Q2hhbmdlZFRpdGxlIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwibW92ZWRcIikge1xuICAgIHJldHVybiA8TW92ZWQgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJtZXJnZWRcIikge1xuICAgIHJldHVybiA8TWVyZ2VkIHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwiY2hhbmdlZF9vd25lclwiKSB7XG4gICAgcmV0dXJuIDxDaGFuZ2VkT3duZXIgey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gXCJhZGRlZF9wYXJ0aWNpcGFudFwiKSB7XG4gICAgcmV0dXJuIDxBZGRlZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09IFwicmVtb3ZlZF9wYXJ0aWNpcGFudFwiKSB7XG4gICAgcmV0dXJuIDxSZW1vdmVkUGFydGljaXBhbnQgey4uLnByb3BzfSAvPlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRUaXRsZShwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFxuICAgIGdldHRleHQoXCJUaHJlYWQgdGl0bGUgaGFzIGJlZW4gY2hhbmdlZCBmcm9tICUob2xkX3RpdGxlKXMuXCIpXG4gIClcbiAgY29uc3Qgb2xkVGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX1NQQU4sXG4gICAge1xuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQub2xkX3RpdGxlKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgb2xkX3RpdGxlOiBvbGRUaXRsZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3ZlZChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKFxuICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQgZnJvbSAlKGZyb21fY2F0ZWdvcnkpcy5cIilcbiAgKVxuICBjb25zdCBmcm9tQ2F0ZWdvcnkgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX0xJTkssXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5mcm9tX2NhdGVnb3J5LnVybCksXG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5mcm9tX2NhdGVnb3J5Lm5hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIGZyb21fY2F0ZWdvcnk6IGZyb21DYXRlZ29yeVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZXJnZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChcbiAgICBnZXR0ZXh0KFwiVGhlICUobWVyZ2VkX3RocmVhZClzIHRocmVhZCBoYXMgYmVlbiBtZXJnZWQgaW50byB0aGlzIHRocmVhZC5cIilcbiAgKVxuICBjb25zdCBtZXJnZWRUaHJlYWQgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX1NQQU4sXG4gICAge1xuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQubWVyZ2VkX3RocmVhZClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgbWVyZ2VkX3RocmVhZDogbWVyZ2VkVGhyZWFkXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRPd25lcihwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJDaGFuZ2VkIHRocmVhZCBvd25lciB0byAlKHVzZXIpcy5cIikpXG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoXG4gICAgSVRFTV9MSU5LLFxuICAgIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51cmwpLFxuICAgICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICBtc2dzdHJpbmcsXG4gICAge1xuICAgICAgdXNlcjogbmV3T3duZXJcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRkZWRQYXJ0aWNpcGFudChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJBZGRlZCAlKHVzZXIpcyB0byB0aHJlYWQuXCIpKVxuICBjb25zdCBuZXdPd25lciA9IGludGVycG9sYXRlKFxuICAgIElURU1fTElOSyxcbiAgICB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXNlcm5hbWUpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgbXNnc3RyaW5nLFxuICAgIHtcbiAgICAgIHVzZXI6IG5ld093bmVyXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxwXG4gICAgICBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZWRQYXJ0aWNpcGFudChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJSZW1vdmVkICUodXNlcilzIGZyb20gdGhyZWFkLlwiKSlcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShcbiAgICBJVEVNX0xJTkssXG4gICAge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIG1zZ3N0cmluZyxcbiAgICB7XG4gICAgICB1c2VyOiBuZXdPd25lclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX1cbiAgICAvPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0IH0pIHtcbiAgaWYgKHBvc3QuaXNfcmVhZCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMCBjb2wteHMtb2Zmc2V0LTIgY29sLXNtLTkgY29sLXNtLW9mZnNldC0zIHRleHQtbGVmdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImV2ZW50LWxhYmVsXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtdW5yZWFkXCI+e2dldHRleHQoXCJOZXcgZXZlbnRcIil9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFdmVudCBmcm9tIFwiLi9ldmVudFwiXG5pbXBvcnQgUG9zdCBmcm9tIFwiLi9wb3N0XCJcbmltcG9ydCBQb3N0UHJldmlldyBmcm9tIFwiLi9wb3N0L3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPFBvc3RQcmV2aWV3IC8+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cInBvc3RzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIHtwcm9wcy5wb3N0cy5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaXN0SXRlbSBrZXk9e3Bvc3QuaWR9IHBvc3Q9e3Bvc3R9IHsuLi5wcm9wc30gLz5cbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpc3RJdGVtKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2V2ZW50KSB7XG4gICAgcmV0dXJuIDxFdmVudCB7Li4ucHJvcHN9IC8+XG4gIH1cblxuICByZXR1cm4gPFBvc3Qgey4uLnByb3BzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5pbXBvcnQgZm9ybWF0RmlsZXNpemUgZnJvbSBcIm1pc2Fnby91dGlscy9maWxlLXNpemVcIlxuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC02XCI+XG4gICAgICA8QXR0YWNobWVudFByZXZpZXcgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRcIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJhdHRhY2htZW50LW5hbWUgaXRlbS10aXRsZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7cHJvcHMuYXR0YWNobWVudC5maWxlbmFtZX1cbiAgICAgICAgPC9hPlxuICAgICAgICA8QXR0YWNobWVudERldGFpbHMgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50LmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LXByZXZpZXdcIj5cbiAgICAgICAgPEF0dGFjaG1lbnRUaHVtYm5haWwgey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1wcmV2aWV3XCI+XG4gICAgICAgIDxBdHRhY2htZW50SWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRJY29uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGEgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgIGluc2VydF9kcml2ZV9maWxlXG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50VGh1bWJuYWlsKHByb3BzKSB7XG4gIGNvbnN0IHVybCA9IHByb3BzLmF0dGFjaG1lbnQudXJsLnRodW1iIHx8IHByb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtdGh1bWJuYWlsXCJcbiAgICAgIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fVxuICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiAndXJsKFwiJyArIGVzY2FwZUh0bWwodXJsKSArICdcIiknIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudERldGFpbHMocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsXG4gIGlmIChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cmwudXBsb2FkZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIFVTRVJfU1BBTixcbiAgICAgIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5hdHRhY2htZW50LnVwbG9hZGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBEQVRFX0FCQlIsXG4gICAge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlZF9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlZF9vbi5mcm9tTm93KCkpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgZXNjYXBlSHRtbChcbiAgICAgIGdldHRleHQoXG4gICAgICAgIFwiJShmaWxldHlwZSlzLCAlKHNpemUpcywgdXBsb2FkZWQgYnkgJSh1cGxvYWRlcilzICUodXBsb2FkZWRfb24pcy5cIlxuICAgICAgKVxuICAgICksXG4gICAge1xuICAgICAgZmlsZXR5cGU6IHByb3BzLmF0dGFjaG1lbnQuZmlsZXR5cGUsXG4gICAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5hdHRhY2htZW50LnNpemUpLFxuICAgICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgICB1cGxvYWRlZF9vbjogZGF0ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8cFxuICAgICAgY2xhc3NOYW1lPVwicG9zdC1hdHRhY2htZW50LWRlc2NyaXB0aW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZSB9fVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGJhdGNoIGZyb20gXCJtaXNhZ28vdXRpbHMvYmF0Y2hcIlxuaW1wb3J0IEF0dGFjaG1lbnQgZnJvbSBcIi4vYXR0YWNobWVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghaXNWaXNpYmxlKHByb3BzLnBvc3QpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRzXCI+XG4gICAgICB7YmF0Y2gocHJvcHMucG9zdC5hdHRhY2htZW50cywgMikubWFwKHJvdyA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IHJvd1xuICAgICAgICAgIC5tYXAoYSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYSA/IGEuaWQgOiAwXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuam9pbihcIl9cIilcbiAgICAgICAgcmV0dXJuIDxSb3cga2V5PXtrZXl9IHJvdz17cm93fSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiBwb3N0LmF0dGFjaG1lbnRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSb3cocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAge3Byb3BzLnJvdy5tYXAoYXR0YWNobWVudCA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEF0dGFjaG1lbnRcbiAgICAgICAgICAgIGF0dGFjaG1lbnQ9e2F0dGFjaG1lbnR9XG4gICAgICAgICAgICBrZXk9e2F0dGFjaG1lbnQgPyBhdHRhY2htZW50LmlkIDogMH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgV2F5cG9pbnQgZnJvbSBcIi4uL3dheXBvaW50XCJcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXBcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IEhJRERFTl9CWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nXG5jb25zdCBISURERU5fQllfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nXG5jb25zdCBISURERU5fT04gPVxuICAnPGFiYnIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxIaWRkZW4gey4uLnByb3BzfSAvPlxuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxJbnZhbGlkIHsuLi5wcm9wc30gLz5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxNaXNhZ29NYXJrdXAgbWFya3VwPXtwcm9wcy5wb3N0LmNvbnRlbnR9IC8+XG4gICAgPC9XYXlwb2ludD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbFxuICBpZiAocHJvcHMucG9zdC5oaWRkZW5fYnkpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBISURERU5fQllfVVJMLFxuICAgICAge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFxuICAgICAgSElEREVOX0JZX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKFxuICAgIEhJRERFTl9PTixcbiAgICB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoXCJMTExcIikpLFxuICAgICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcIkhpZGRlbiBieSAlKGhpZGRlbl9ieSlzICUoaGlkZGVuX29uKXMuXCIpKSxcbiAgICB7XG4gICAgICBoaWRkZW5fYnk6IHVzZXIsXG4gICAgICBoaWRkZW5fb246IGRhdGVcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBvc3QtYm9keSBwb3N0LWJvZHktaGlkZGVuXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gWW91IGNhbm5vdCBzZWUgaXRzIGNvbnRlbnRzLlwiKX1cbiAgICAgIDwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UgfX0gLz5cbiAgICA8L1dheXBvaW50PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFdheXBvaW50IGNsYXNzTmFtZT1cInBvc3QtYm9keSBwb3N0LWJvZHktaW52YWxpZFwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlRoaXMgcG9zdCdzIGNvbnRlbnRzIGNhbm5vdCBiZSBkaXNwbGF5ZWQuXCIpfVxuICAgICAgPC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlRoaXMgZXJyb3IgaXMgY2F1c2VkIGJ5IGludmFsaWQgcG9zdCBjb250ZW50IG1hbmlwdWxhdGlvbi5cIil9XG4gICAgICA8L3A+XG4gICAgPC9XYXlwb2ludD5cbiAgKVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IGZhbHNlXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy11bmFwcHJvdmVkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfdW5hcHByb3ZlZDogcHJvcHMucG9zdC5pc191bmFwcHJvdmVkXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogdHJ1ZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtcHJvdGVjdGVkXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19wcm90ZWN0ZWQ6IHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtcHJvdGVjdGVkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IHRydWUsXG4gICAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24ocHJvcHMucG9zdC51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLnVybFxuICAgICAgfSlcbiAgICB9KVxuICApXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLWhpZGRlblwiLCB2YWx1ZTogdHJ1ZSB9XVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlbixcbiAgICBoaWRkZW5fb246IHByb3BzLnBvc3QuaGlkZGVuX29uLFxuICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgIHVybDogcHJvcHMucG9zdC51cmxcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgcG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1oaWRkZW5cIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19oaWRkZW46IHByb3BzLnBvc3QuaXNfaGlkZGVuXG4gIH1cblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlrZShwcm9wcykge1xuICBjb25zdCBsYXN0TGlrZXMgPSBwcm9wcy5wb3N0Lmxhc3RfbGlrZXMgfHwgW11cbiAgY29uc3QgY29uY2F0ZWRMaWtlcyA9IFtwcm9wcy51c2VyXS5jb25jYXQobGFzdExpa2VzKVxuICBjb25zdCBmaW5hbExpa2VzID1cbiAgICBjb25jYXRlZExpa2VzLmxlbmd0aCA+IDMgPyBjb25jYXRlZExpa2VzLnNsaWNlKDAsIC0xKSA6IGNvbmNhdGVkTGlrZXNcblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2xpa2VkOiB0cnVlLFxuICAgICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMgKyAxLFxuICAgICAgbGFzdF9saWtlczogZmluYWxMaWtlc1xuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtbGlrZWRcIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2xpa2VkOiBwcm9wcy5wb3N0LmlzX2xpa2VkLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzLFxuICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlc1xuICB9XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubGlrZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2xpa2VkOiBmYWxzZSxcbiAgICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzIC0gMSxcbiAgICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlcy5maWx0ZXIodXNlciA9PiB7XG4gICAgICAgIHJldHVybiAhdXNlci5pZCB8fCB1c2VyLmlkICE9PSBwcm9wcy51c2VyLmlkXG4gICAgICB9KVxuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtbGlrZWRcIiwgdmFsdWU6IGZhbHNlIH1dXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19saWtlZDogcHJvcHMucG9zdC5pc19saWtlZCxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXNcbiAgfVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKSB7XG4gIGFqYXgucGF0Y2gocHJvcHMucG9zdC5hcGkuaW5kZXgsIG9wcykudGhlbihcbiAgICBuZXdTdGF0ZSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIG5ld1N0YXRlKSlcbiAgICB9LFxuICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwgcHJldmlvdXNTdGF0ZSkpXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgZ2V0dGV4dChcbiAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBvc3Q/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiXG4gICAgKVxuICApXG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBzdG9yZS5kaXNwYXRjaChcbiAgICBwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pXG4gIClcblxuICBhamF4LmRlbGV0ZShwcm9wcy5wb3N0LmFwaS5pbmRleCkudGhlbihcbiAgICAoKSA9PiB7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb3N0IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKVxuICAgIH0sXG4gICAgcmVqZWN0aW9uID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtBc0Jlc3RBbnN3ZXIocHJvcHMpIHtcbiAgY29uc3QgeyBwb3N0LCB1c2VyIH0gPSBwcm9wc1xuXG4gIHN0b3JlLmRpc3BhdGNoKFxuICAgIHRocmVhZC51cGRhdGUoe1xuICAgICAgYmVzdF9hbnN3ZXI6IHBvc3QuaWQsXG4gICAgICBiZXN0X2Fuc3dlcl9pc19wcm90ZWN0ZWQ6IHBvc3QuaXNfcHJvdGVjdGVkLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBtb21lbnQoKSxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogdXNlci5pZCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWc6IHVzZXIuc2x1Z1xuICAgIH0pXG4gIClcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiYmVzdC1hbnN3ZXJcIiwgdmFsdWU6IHBvc3QuaWQgfSxcbiAgICB7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9XG4gIF1cblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGJlc3RfYW5zd2VyOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbixcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnXG4gIH1cblxuICBwYXRjaFRocmVhZChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tYXJrQmVzdEFuc3dlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3QgfSA9IHByb3BzXG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgdGhyZWFkLnVwZGF0ZSh7XG4gICAgICBiZXN0X2Fuc3dlcjogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogZmFsc2UsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IG51bGwsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IG51bGwsXG4gICAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogbnVsbCxcbiAgICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnOiBudWxsXG4gICAgfSlcbiAgKVxuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7IG9wOiBcInJlbW92ZVwiLCBwYXRoOiBcImJlc3QtYW5zd2VyXCIsIHZhbHVlOiBwb3N0LmlkIH0sXG4gICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfVxuICBdXG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBiZXN0X2Fuc3dlcjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyLFxuICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfb24sXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5OiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5LFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWUsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X3NsdWc6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1Z1xuICB9XG5cbiAgcGF0Y2hUaHJlYWQocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChwcm9wcy50aHJlYWQuYXBpLmluZGV4LCBvcHMpLnRoZW4oXG4gICAgbmV3U3RhdGUgPT4ge1xuICAgICAgaWYgKG5ld1N0YXRlLmJlc3RfYW5zd2VyX21hcmtlZF9vbikge1xuICAgICAgICBuZXdTdGF0ZS5iZXN0X2Fuc3dlcl9tYXJrZWRfb24gPSBtb21lbnQobmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uKVxuICAgICAgfVxuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShuZXdTdGF0ZSkpXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKHByZXZpb3VzU3RhdGUpKVxuICAgIH1cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgcG9zdGluZyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmdcIlxuaW1wb3J0ICogYXMgbW9kZXJhdGlvbiBmcm9tIFwiLi9hY3Rpb25zXCJcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSBcIi4vbW92ZVwiXG5pbXBvcnQgUG9zdENoYW5nZWxvZyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2dcIlxuaW1wb3J0IFNwbGl0TW9kYWwgZnJvbSBcIi4vc3BsaXRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCI+XG4gICAgICA8UGVybWFsaW5rIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxNYXJrQXNCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbm1hcmtNYXJrQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdEVkaXRzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxBcHByb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTcGxpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5wcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxIaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgUGVybWFsaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgcGVybWFVcmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCJcbiAgICBwZXJtYVVybCArPSB3aW5kb3cubG9jYXRpb24uaG9zdFxuICAgIHBlcm1hVXJsICs9IHRoaXMucHJvcHMucG9zdC51cmwuaW5kZXhcblxuICAgIHByb21wdChnZXR0ZXh0KFwiUGVybWFtZW50IGxpbmsgdG8gdGhpcyBwb3N0OlwiKSwgcGVybWFVcmwpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGluazwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBlcm1hbWVudCBsaW5rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJFRElUXCIsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXhcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXJrQXNCZXN0QW5zd2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLm1hcmtBc0Jlc3RBbnN3ZXIodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tYXJrX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX21hcmtfYXNfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNYXJrIGFzIGJlc3QgYW5zd2VyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbm1hcmtNYXJrQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bm1hcmtCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmIChwb3N0LmlkICE9PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl91bm1hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3hfb3V0bGluZV9ibGFuazwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVubWFyayBiZXN0IGFuc3dlclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxQb3N0Q2hhbmdlbG9nIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPVxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDBcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWUuXCIsXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lcy5cIixcbiAgICAgIHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgIClcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICBlZGl0czogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2VzIGhpc3RvcnlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcHJvdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uYXBwcm92ZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fYXBwcm92ZSkgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE1vdmVNb2RhbCB7Li4udGhpcy5wcm9wc30gLz4pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX21vdmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX3NwbGl0PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCkgcmV0dXJuIG51bGxcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vcGVuPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlIHByb3RlY3Rpb25cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAocG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsXG4gICAgaWYgKHBvc3QuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl91bmhpZGUpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnJlbW92ZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAocG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEcm9wZG93biBmcm9tIFwiLi9kcm9wZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZXhwYW5kX21vcmU8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgbmV3X3RocmVhZDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0IHdhcyBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidXJsXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0IHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHBvc3RcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNb3ZlIHBvc3RcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdFwiXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWxlY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIDxQb3N0aW5nQ29uZmlnIHsuLi5wcm9wc30gRm9ybT17TW9kZXJhdGlvbkZvcm19IC8+XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0aW5nQ29uZmlnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KFwiVEhSRUFEX0VESVRPUl9BUElcIikpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgICBwb3N0OiBpdGVtLnBvc3RcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGNhdGVnb3JpZXNcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiA8RXJyb3IgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW3ZhbGlkYXRvcnMucmVxdWlyZWQoKV1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5X29mZlwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIGljb246IFwibG9ja19vdXRsaW5lXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICBpY29uOiBcImxvY2tcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICApXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3Qgd2FzIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSlcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gZXYgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWVcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMFxuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGljb246IFwicmVtb3ZlXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwiYm9va21hcmtfYm9yZGVyXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzXG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3ZWlnaHRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2hpZGRlblwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJpc19jbG9zZWRcIil9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCJcbiAgICAgICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIiAvPlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L01vZGFsPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+aW5mb19vdXRsaW5lPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHBvc3QgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+e3Byb3BzLm1lc3NhZ2V9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3QgaW50byBuZXcgdGhyZWFkXCIpfVxuICAgICAgICAgIDwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnQmVzdEFuc3dlcih7IHBvc3QsIHRocmVhZCwgdXNlciB9KSB7XG4gIGlmICghKGlzVmlzaWJsZShwb3N0KSAmJiBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAodXNlci5pZCAmJiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5ID09PSB1c2VyLmlkKSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIk1hcmtlZCBhcyBiZXN0IGFuc3dlciBieSB5b3UgJShtYXJrZWRfb24pcy5cIiksXG4gICAgICB7XG4gICAgICAgIG1hcmtlZF9vbjogdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbi5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJNYXJrZWQgYXMgYmVzdCBhbnN3ZXIgYnkgJShtYXJrZWRfYnkpcyAlKG1hcmtlZF9vbilzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgbWFya2VkX2J5OiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWUsXG4gICAgICAgIG1hcmtlZF9vbjogdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbi5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtYmVzdC1hbnN3ZXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICA8cD57bWVzc2FnZX08L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfaGlkZGVuKSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1oaWRkZW5cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgIDxwPlxuICAgICAgICB7Z2V0dGV4dChcbiAgICAgICAgICBcIlRoaXMgcG9zdCBpcyBoaWRkZW4uIE9ubHkgdXNlcnMgd2l0aCBwZXJtaXNzaW9uIG1heSBzZWUgaXRzIGNvbnRlbnRzLlwiXG4gICAgICAgICl9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmICghKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXN0YXR1cy1tZXNzYWdlIHBvc3Qtc3RhdHVzLXVuYXBwcm92ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5yZW1vdmVfY2lyY2xlX291dGxpbmU8L3NwYW4+XG4gICAgICA8cD5cbiAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgXCJUaGlzIHBvc3QgaXMgdW5hcHByb3ZlZC4gT25seSB1c2VycyB3aXRoIHBlcm1pc3Npb24gdG8gYXBwcm92ZSBwb3N0cyBhbmQgaXRzIGF1dGhvciBtYXkgc2VlIGl0cyBjb250ZW50cy5cIlxuICAgICAgICApfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnUHJvdGVjdGVkKHByb3BzKSB7XG4gIGlmICghKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZCkpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtcHJvdGVjdGVkIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICA8cD57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBwcm90ZWN0ZWQuIE9ubHkgbW9kZXJhdG9ycyBtYXkgY2hhbmdlIGl0LlwiKX08L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAhcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tIFwiLi9jb250cm9scy9hY3Rpb25zXCJcbmltcG9ydCBMaWtlc01vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWxpa2VzXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghaXNWaXNpYmxlKHByb3BzLnBvc3QpKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWZvb3RlclwiPlxuICAgICAgPE1hcmtBc0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPE1hcmtBc0Jlc3RBbnN3ZXJDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxMaWtlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxMaWtlc1xuICAgICAgICBsYXN0TGlrZXM9e3Byb3BzLnBvc3QubGFzdF9saWtlc31cbiAgICAgICAgbGlrZXM9e3Byb3BzLnBvc3QubGlrZXN9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgICA8TGlrZXNDb21wYWN0IGxpa2VzPXtwcm9wcy5wb3N0Lmxpa2VzfSB7Li4ucHJvcHN9IC8+XG4gICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gKFxuICAgICghcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pICYmXG4gICAgKHBvc3QuYWNsLmNhbl9yZXBseSB8fFxuICAgICAgcG9zdC5hY2wuY2FuX2VkaXQgfHxcbiAgICAgIChwb3N0LmFjbC5jYW5fc2VlX2xpa2VzICYmIChwb3N0Lmxhc3RfbGlrZXMgfHwgW10pLmxlbmd0aCkgfHxcbiAgICAgIHBvc3QuYWNsLmNhbl9saWtlKVxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBNYXJrQXNCZXN0QW5zd2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBhY3Rpb25zLm1hcmtBc0Jlc3RBbnN3ZXIodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tYXJrX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICghcG9zdC5hY2wuY2FuX21hcmtfYXNfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG4gICAgaWYgKHRocmVhZC5iZXN0X2Fuc3dlciAmJiAhdGhyZWFkLmFjbC5jYW5fY2hhbmdlX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9zdC5pc0J1c3kgfHwgcG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIkJlc3QgYW5zd2VyXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXJrQXNCZXN0QW5zd2VyQ29tcGFjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgYWN0aW9ucy5tYXJrQXNCZXN0QW5zd2VyKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9tYXJrX2FzX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbFxuICAgIGlmICh0aHJlYWQuYmVzdF9hbnN3ZXIgJiYgIXRocmVhZC5hY2wuY2FuX2NoYW5nZV9iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIGJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9zdC5pc0J1c3kgfHwgcG9zdC5pZCA9PT0gdGhyZWFkLmJlc3RfYW5zd2VyfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWtlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkKSB7XG4gICAgICBhY3Rpb25zLnVubGlrZSh0aGlzLnByb3BzKVxuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25zLmxpa2UodGhpcy5wcm9wcylcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9saWtlKSByZXR1cm4gbnVsbFxuXG4gICAgbGV0IGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQpIHtcbiAgICAgIGNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc19saWtlZCA/IGdldHRleHQoXCJMaWtlZFwiKSA6IGdldHRleHQoXCJMaWtlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWtlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8TGlrZXNNb2RhbCBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc0xpa2VzID0gKHRoaXMucHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGggPiAwXG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfbGlrZXMgfHwgIWhhc0xpa2VzKSByZXR1cm4gbnVsbFxuXG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyA9PT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc20gcHVsbC1sZWZ0IGhpZGRlbi14c1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldExpa2VzTWVzc2FnZSh0aGlzLnByb3BzLmxpa2VzLCB0aGlzLnByb3BzLmxhc3RMaWtlcyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJwdWxsLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIHtnZXRMaWtlc01lc3NhZ2UodGhpcy5wcm9wcy5saWtlcywgdGhpcy5wcm9wcy5sYXN0TGlrZXMpfVxuICAgICAgPC9wPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZXNDb21wYWN0IGV4dGVuZHMgTGlrZXMge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaGFzTGlrZXMgPSAodGhpcy5wcm9wcy5wb3N0Lmxhc3RfbGlrZXMgfHwgW10pLmxlbmd0aCA+IDBcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9saWtlcyB8fCAhaGFzTGlrZXMpIHJldHVybiBudWxsXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBsaWtlcy1jb21wYWN0IHB1bGwtbGVmdCB2aXNpYmxlLXhzLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZmF2b3JpdGU8L3NwYW4+XG4gICAgICAgICAge3RoaXMucHJvcHMubGlrZXN9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsaWtlcy1jb21wYWN0IHB1bGwtbGVmdCB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mYXZvcml0ZTwvc3Bhbj5cbiAgICAgICAge3RoaXMucHJvcHMubGlrZXN9XG4gICAgICA8L3A+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaWtlc01lc3NhZ2UobGlrZXMsIHVzZXJzKSB7XG4gIGNvbnN0IHVzZXJuYW1lcyA9IHVzZXJzLnNsaWNlKDAsIDMpLm1hcCh1ID0+IHUudXNlcm5hbWUpXG5cbiAgaWYgKHVzZXJuYW1lcy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXIpcyBsaWtlcyB0aGlzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcjogdXNlcm5hbWVzWzBdXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGhpZGRlbkxpa2VzID0gbGlrZXMgLSB1c2VybmFtZXMubGVuZ3RoXG5cbiAgY29uc3Qgb3RoZXJVc2VycyA9IHVzZXJuYW1lcy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gIGNvbnN0IGxhc3RVc2VyID0gdXNlcm5hbWVzLnNsaWNlKC0xKVswXVxuXG4gIGNvbnN0IHVzZXJuYW1lc0xpc3QgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiJSh1c2VycylzIGFuZCAlKGxhc3RfdXNlcilzXCIpLFxuICAgIHtcbiAgICAgIHVzZXJzOiBvdGhlclVzZXJzLFxuICAgICAgbGFzdF91c2VyOiBsYXN0VXNlclxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgaWYgKGhpZGRlbkxpa2VzID09PSAwKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcnMpcyBsaWtlIHRoaXMuXCIpLFxuICAgICAge1xuICAgICAgICB1c2VyczogdXNlcm5hbWVzTGlzdFxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHVzZXJzKXMgYW5kICUobGlrZXMpcyBvdGhlciB1c2VyIGxpa2UgdGhpcy5cIixcbiAgICBcIiUodXNlcnMpcyBhbmQgJShsaWtlcylzIG90aGVyIHVzZXJzIGxpa2UgdGhpcy5cIixcbiAgICBoaWRkZW5MaWtlc1xuICApXG5cbiAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgIG1lc3NhZ2UsXG4gICAge1xuICAgICAgdXNlcnM6IHVzZXJuYW1lcy5qb2luKFwiLCBcIiksXG4gICAgICBsaWtlczogaGlkZGVuTGlrZXNcbiAgICB9LFxuICAgIHRydWVcbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgUmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlJFUExZXCIsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy50aHJlYWQuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuXG4gICAgICBjb250ZXh0OiB7XG4gICAgICAgIHJlcGx5OiB0aGlzLnByb3BzLnBvc3QuaWRcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9yZXBseSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJSZXBseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogXCJFRElUXCIsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXhcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCIuL2NvbnRyb2xzXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIi4vc2VsZWN0XCJcbmltcG9ydCB7XG4gIFN0YXR1c0ljb24sXG4gIGdldFN0YXR1c0NsYXNzTmFtZSxcbiAgZ2V0U3RhdHVzRGVzY3JpcHRpb25cbn0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzXCJcbmltcG9ydCBQb3N0Q2hhbmdlbG9nIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZ1wiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxVbnJlYWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5yZWFkQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT24gey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RlZE9uQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdEVkaXRzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHNDb21wYWN0cyB7Li4ucHJvcHN9IC8+XG4gICAgICA8UHJvdGVjdGVkTGFiZWwgey4uLnByb3BzfSAvPlxuICAgICAgPFNlbGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRMYWJlbChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtdW5yZWFkIGhpZGRlbi14c1wiPntnZXR0ZXh0KFwiTmV3IHBvc3RcIil9PC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRDb21wYWN0KHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC11bnJlYWQgdmlzaWJsZS14cy1pbmxpbmUtYmxvY2tcIj5cbiAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVkT24ocHJvcHMpIHtcbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBwb3N0ZWRfb246IHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9XG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uIGhpZGRlbi14c1wiXG4gICAgICB0aXRsZT17dG9vbHRpcH1cbiAgICA+XG4gICAgICB7cHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdygpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVkT25Db21wYWN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fVxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3RlZC1vbiB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgPlxuICAgICAge3Byb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPFBvc3RDaGFuZ2Vsb2cgcG9zdD17dGhpcy5wcm9wcy5wb3N0fSAvPilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9XG4gICAgICB0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuICYmICF0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuXG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMFxuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgdG9vbHRpcCA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZS5cIixcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWVzLlwiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKVxuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIHRvb2x0aXAsXG4gICAgICB7XG4gICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAgIFwiZWRpdGVkICUoZWRpdHMpcyB0aW1lXCIsXG4gICAgICBcImVkaXRlZCAlKGVkaXRzKXMgdGltZXNcIixcbiAgICAgIHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgIClcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIGhpZGRlbi14c1wiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVkaXRzOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zdEVkaXRzQ29tcGFjdHMgZXh0ZW5kcyBQb3N0RWRpdHMge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNIaWRkZW4gPVxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlblxuICAgIGNvbnN0IGlzVW5lZGl0ZWQgPSB0aGlzLnByb3BzLnBvc3QuZWRpdHMgPT09IDBcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0XCIsXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0c1wiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zZWUtZWRpdHMgdmlzaWJsZS14cy1pbmxpbmUtYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZWRpdHM6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRMYWJlbChwcm9wcykge1xuICBjb25zdCBwb3N0QXV0aG9yID0gcHJvcHMucG9zdC5wb3N0ZXIgJiYgcHJvcHMucG9zdC5wb3N0ZXIuaWQgPT09IHByb3BzLnVzZXIuaWRcbiAgY29uc3QgaGFzQWNsID0gcHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3RcbiAgY29uc3QgaXNWaXNpYmxlID1cbiAgICBwcm9wcy51c2VyLmlkICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkICYmIChwb3N0QXV0aG9yIHx8IGhhc0FjbClcblxuICBpZiAoIWlzVmlzaWJsZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC1wcm90ZWN0ZWQgaGlkZGVuLXhzXCJcbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHByb3RlY3RlZCBhbmQgbWF5IG5vdCBiZSBlZGl0ZWQuXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcInByb3RlY3RlZFwiKX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gXCIuL2F0dGFjaG1lbnRzXCJcbmltcG9ydCBCb2R5IGZyb20gXCIuL2JvZHlcIlxuaW1wb3J0IHtcbiAgRmxhZ0Jlc3RBbnN3ZXIsXG4gIEZsYWdIaWRkZW4sXG4gIEZsYWdVbmFwcHJvdmVkLFxuICBGbGFnUHJvdGVjdGVkXG59IGZyb20gXCIuL2ZsYWdzXCJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4vZm9vdGVyXCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBQb3N0U2lkZSBmcm9tIFwiLi9wb3N0LXNpZGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gXCJwb3N0XCJcbiAgaWYgKHByb3BzLnBvc3QuaXNEZWxldGVkKSB7XG4gICAgY2xhc3NOYW1lID0gXCJoaWRlXCJcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcInBvc3QgcG9zdC1oaWRkZW5cIlxuICB9XG5cbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyICYmIHByb3BzLnBvc3QucG9zdGVyLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHBvc3QtXCIgKyBwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgaWYgKCFwcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgcG9zdC1uZXdcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9e1wicG9zdC1cIiArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8UG9zdFNpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgPEhlYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnVW5hcHByb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnUHJvdGVjdGVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8Qm9keSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGb290ZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHNcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdFwiXG5pbXBvcnQgVXNlclN0YXR1cywge1xuICBTdGF0dXNJY29uLFxuICBTdGF0dXNMYWJlbFxufSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IFVzZXJQb3N0Y291bnQgZnJvbSBcIi4vdXNlci1wb3N0Y291bnRcIlxuaW1wb3J0IFVzZXJUaXRsZSBmcm9tIFwiLi91c2VyLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0LCB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC0zIHBvc3Qtc2lkZSBwb3N0LXNpZGUtYW5vbnltb3VzXCI+XG4gICAgICA8U2VsZWN0IHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENvbnRyb2xzIHBvc3Q9e3Bvc3R9IHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwicG9zdGVyLWF2YXRhclwiIHNpemU9ezEwMH0gLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nIGl0ZW0tdGl0bGVcIj57cG9zdC5wb3N0ZXJfbmFtZX08L3NwYW4+XG5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZWQgdXNlclwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdGl0bGUsIHJhbmsgfSkge1xuICByZXR1cm4gcmFuay5pc190YWIgfHwgISF0aXRsZSB8fCAhIXJhbmsudGl0bGVcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEFub255bW91cyBmcm9tIFwiLi9hbm9ueW1vdXNcIlxuaW1wb3J0IFJlZ2lzdGVyZWQgZnJvbSBcIi4vcmVnaXN0ZXJlZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiA8UmVnaXN0ZXJlZCB7Li4ucHJvcHN9IC8+XG4gIH1cblxuICByZXR1cm4gPEFub255bW91cyB7Li4ucHJvcHN9IC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgQ29udHJvbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9sc1wiXG5pbXBvcnQgU2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0XCJcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0ljb24gfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IFVzZXJQb3N0Y291bnQgZnJvbSBcIi4vdXNlci1wb3N0Y291bnRcIlxuaW1wb3J0IFVzZXJTdGF0dXNMYWJlbCBmcm9tIFwiLi91c2VyLXN0YXR1c1wiXG5pbXBvcnQgVXNlclRpdGxlIGZyb20gXCIuL3VzZXItdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHRocmVhZCB9KSB7XG4gIGNvbnN0IHsgcG9zdGVyIH0gPSBwb3N0XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMyBwb3N0LXNpZGUgcG9zdC1zaWRlLXJlZ2lzdGVyZWRcIj5cbiAgICAgIDxTZWxlY3QgcG9zdD17cG9zdH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8Q29udHJvbHMgcG9zdD17cG9zdH0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgIDxhIGhyZWY9e3Bvc3Rlci51cmx9PlxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCIgc2l6ZT17MTAwfSB1c2VyPXtwb3N0ZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICAgIHtwb3N0ZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8VXNlclN0YXR1cyBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9PlxuICAgICAgICAgICAgICA8U3RhdHVzSWNvbiBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9IC8+XG4gICAgICAgICAgICA8L1VzZXJTdGF0dXM+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8VXNlclRpdGxlIHJhbms9e3Bvc3Rlci5yYW5rfSB0aXRsZT17cG9zdGVyLnRpdGxlfSAvPlxuXG4gICAgICAgICAgPFVzZXJTdGF0dXNMYWJlbCBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgICAgICAgICA8VXNlclBvc3Rjb3VudCBwb3N0ZXI9e3Bvc3Rlcn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgaGFzVmlzaWJsZVRpdGxlIGZyb20gXCIuL2hhcy12aXNpYmxlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0ZXIgfSkge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHBvc3RzKXMgcG9zdFwiLCBcIiUocG9zdHMpcyBwb3N0c1wiLCBwb3N0ZXIucG9zdHMpXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwidXNlci1wb3N0Y291bnRcIlxuICBpZiAoaGFzVmlzaWJsZVRpdGxlKHBvc3RlcikpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHBvc3RzOiBwb3N0ZXIucG9zdHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFVzZXJTdGF0dXMsIHsgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuaW1wb3J0IGhhc1Zpc2libGVUaXRsZSBmcm9tIFwiLi9oYXMtdmlzaWJsZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9IFwiaGlkZGVuLXhzXCJcbiAgaWYgKGhhc1Zpc2libGVUaXRsZShwb3N0ZXIpKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi1zbVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17cG9zdGVyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbCBzdGF0dXM9e3Bvc3Rlci5zdGF0dXN9IHVzZXI9e3Bvc3Rlcn0gLz5cbiAgICAgIDwvVXNlclN0YXR1cz5cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJhbmssIHRpdGxlIH0pIHtcbiAgbGV0IHVzZXJUaXRsZSA9IHRpdGxlIHx8IHJhbmsudGl0bGVcbiAgaWYgKCF1c2VyVGl0bGUgJiYgcmFuay5pc190YWIpIHtcbiAgICB1c2VyVGl0bGUgPSByYW5rLm5hbWVcbiAgfVxuXG4gIGlmICghdXNlclRpdGxlKSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcInVzZXItdGl0bGVcIlxuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gXCIgdXNlci10aXRsZS1cIiArIHJhbmsuY3NzX2NsYXNzXG4gIH1cblxuICBpZiAocmFuay5pc190YWIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxhIGhyZWY9e3JhbmsudXJsfT57dXNlclRpdGxlfTwvYT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57dXNlclRpdGxlfTwvZGl2PlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZyBwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICAgICAgICA8YXJ0aWNsZSBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIiB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0KHRoaXMucHJvcHMucG9zdCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoXG4gICAgICAhKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKVxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0IGhpZGRlbi14c1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyBcImNoZWNrX2JveFwiXG4gICAgICAgICAgICAgIDogXCJjaGVja19ib3hfb3V0bGluZV9ibGFua1wifVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShhY2wpIHtcbiAgcmV0dXJuIChcbiAgICBhY2wuY2FuX2FwcHJvdmUgfHxcbiAgICBhY2wuY2FuX2hpZGUgfHxcbiAgICBhY2wuY2FuX3Byb3RlY3QgfHxcbiAgICBhY2wuY2FuX3VuaGlkZSB8fFxuICAgIGFjbC5jYW5fZGVsZXRlIHx8XG4gICAgYWNsLmNhbl9tb3ZlXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgcG9zdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLypcbiAgU3VwZXIgbmFpdmUgYW5kIGRlLWZhY3RvIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIGZvciByZWFkaW5nIHBvc3RzIG9uIHNjcm9sbFxuICAqL1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX3JlYWQpIHJldHVybiAvLyBkb24ndCByZWdpc3RlciByZWFkIHRyYWNrZXJcblxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLndheXBvaW50KHtcbiAgICAgIGhhbmRsZXI6IGRpcmVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gIT09IFwiZG93blwiIHx8IHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm5cblxuICAgICAgICAvLyBhZnRlciAxNTAwbXMgcnVuIGZsYWcgcG9zdCBhcyByZWFkIGxvZ2ljXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBwb3N0J3MgYm90dG9tIGVkZ2UgaXMgc3RpbGwgaW4gdmlld3BvcnRcbiAgICAgICAgICBjb25zdCBib3VuZGluZ0NsaWVudFJlY3QgPSB0aGlzLmRvY3VtZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgIGNvbnN0IG9mZnNldEJvdHRvbSA9XG4gICAgICAgICAgICBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0ICsgYm91bmRpbmdDbGllbnRSZWN0LnRvcFxuICAgICAgICAgIGNvbnN0IGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxuICAgICAgICAgIGlmIChvZmZzZXRCb3R0b20gPCA1KSByZXR1cm4gLy8gc2Nyb2xsZWQgcGFzdCB0aGUgcG9zdFxuICAgICAgICAgIGlmIChvZmZzZXRCb3R0b20gPiBjbGllbnRIZWlnaHQpIHJldHVybiAvLyBzY3JvbGxlZCBiYWNrIHVwXG5cbiAgICAgICAgICAvLyBtYXJrIHBvc3QgYXMgcmVhZFxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgcG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgICAgaXNfcmVhZDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG5cbiAgICAgICAgICAvLyBjYWxsIEFQSSB0byBsZXQgaXQga25vdyB3ZSBoYXZlIHVucmVhZCBwb3N0XG4gICAgICAgICAgYWpheC5wb3N0KHRoaXMucHJvcHMucG9zdC5hcGkucmVhZCkudGhlbihcbiAgICAgICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICB0aHJlYWQudXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkOiBkYXRhLnRocmVhZF9pc19yZWFkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH0sIDEwMDApXG4gICAgICB9LFxuICAgICAgb2Zmc2V0OiBcImJvdHRvbS1pbi12aWV3XCJcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIHJlZj17bm9kZSA9PiB7XG4gICAgICAgICAgdGhpcy5kb2N1bWVudE5vZGUgPSBub2RlXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFuZWxMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlclwiXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFX0JBTlwiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlBST0ZJTEVfQkFOXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGkuYmFuKVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGJhbikge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgYmFuXG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJiYW4tZGV0YWlsc1wiLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICBlcnJvcjogdGhpcy5lcnJvclxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUgPSBiYW4gPT4ge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBiYW5cbiAgICB9KVxuICB9XG5cbiAgZXJyb3IgPSBlcnJvciA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiBlcnJvci5kZXRhaWwsXG4gICAgICBiYW46IG51bGxcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQmFuIGRldGFpbHNcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKFwiYmFuLWRldGFpbHNcIilcbiAgfVxuXG4gIGdldFVzZXJNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tdXNlci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0PntnZXR0ZXh0KFwiVXNlci1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxlYWRcIlxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UuaHRtbFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRTdGFmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tc3RhZmYtbWVzc2FnZVwiPlxuICAgICAgICAgIDxoND57Z2V0dGV4dChcIlRlYW0tc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsZWFkXCJcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4uc3RhZmZfbWVzc2FnZS5odG1sXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldEV4cGlyYXRpb25NZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyBvbiAlKGV4cGlyZXNfb24pcy5cIiksXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhwaXJlc19vbjogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mb3JtYXQoXCJMTCwgTFRcIilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGlyZXNfb246IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZnJvbU5vdygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT57bWVzc2FnZX08L2FiYnI+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGhhcyBleHBpcmVkLlwiKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBiYW4gaXMgcGVybWFuZW50LlwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldFBhbmVsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4pIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmJhbikubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJNZXNzYWdlKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRTdGFmZk1lc3NhZ2UoKX1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1leHBpcmVzXCI+XG4gICAgICAgICAgICAgIDxoND57Z2V0dGV4dChcIkJhbiBleHBpcmF0aW9uXCIpfTwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8UGFuZWxNZXNzYWdlXG4gICAgICAgICAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJObyBiYW4gaXMgYWN0aXZlIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8UGFuZWxNZXNzYWdlIGljb249XCJlcnJvcl9vdXRsaW5lXCIgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWJhbi1kZXRhaWxzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJCYW4gZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge3RoaXMuZ2V0UGFuZWxCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBpc0F1dGhlbnRpY2F0ZWQsIHByb2ZpbGUgfSkge1xuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKGlzQXV0aGVudGljYXRlZCkge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGFyZSBub3Qgc2hhcmluZyBhbnkgZGV0YWlscyB3aXRoIG90aGVycy5cIilcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG5vdCBzaGFyaW5nIGFueSBkZXRhaWxzIHdpdGggb3RoZXJzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSB0ZXh0LWNlbnRlciBsZWFkXCI+e21lc3NhZ2V9PC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGh0bWwsIHRleHQsIHVybCB9KSB7XG4gIGlmIChodG1sKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sLXN0YXRpYyBjb2wtbWQtOVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaHRtbCB9fVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sLXN0YXRpYyBjb2wtbWQtOVwiPlxuICAgICAgPFNhZmVWYWx1ZSB0ZXh0PXt0ZXh0fSB1cmw9e3VybH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU2FmZVZhbHVlKHsgdGV4dCwgdXJsIH0pIHtcbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cD5cbiAgICAgICAgPGEgaHJlZj17dXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub2ZvbGxvd1wiPlxuICAgICAgICAgIHt0ZXh0IHx8IHVybH1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgIClcbiAgfVxuXG4gIGlmICh0ZXh0KSB7XG4gICAgcmV0dXJuIDxwPnt0ZXh0fTwvcD5cbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBGaWVsZFZhbHVlIGZyb20gXCIuL2ZpZWxkLXZhbHVlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwiY29udHJvbC1sYWJlbCBjb2wtbWQtM1wiPntwcm9wcy5uYW1lfTo8L3N0cm9uZz5cbiAgICAgIDxGaWVsZFZhbHVlIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBhcGksIGRpc3BsYXksIG9uQ2FuY2VsLCBvblN1Y2Nlc3MgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxGb3JtIGFwaT17YXBpfSBvbkNhbmNlbD17b25DYW5jZWx9IG9uU3VjY2Vzcz17b25TdWNjZXNzfSAvPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRmllbGQgZnJvbSBcIi4vZmllbGRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGZpZWxkcywgbmFtZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXByb2ZpbGUtZGV0YWlscy1ncm91cFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntuYW1lfTwvaDM+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgICAgIHtmaWVsZHMubWFwKCh7IGZpZWxkbmFtZSwgaHRtbCwgbmFtZSwgdGV4dCwgdXJsIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxGaWVsZFxuICAgICAgICAgICAgICAgIGtleT17ZmllbGRuYW1lfVxuICAgICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgICAgaHRtbD17aHRtbH1cbiAgICAgICAgICAgICAgICB0ZXh0PXt0ZXh0fVxuICAgICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFbXB0eU1lc3NhZ2UgZnJvbSBcIi4vZW1wdHktbWVzc2FnZVwiXG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZ3JvdXBcIlxuaW1wb3J0IExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe1xuICBkaXNwbGF5LFxuICBncm91cHMsXG4gIGlzQXV0aGVudGljYXRlZCxcbiAgbG9hZGluZyxcbiAgcHJvZmlsZVxufSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gPExvYWRlciAvPlxuICB9XG5cbiAgaWYgKCFncm91cHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDxFbXB0eU1lc3NhZ2UgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9IHByb2ZpbGU9e3Byb2ZpbGV9IC8+XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICB7Z3JvdXBzLm1hcCgoZ3JvdXAsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxHcm91cCBmaWVsZHM9e2dyb3VwLmZpZWxkc30ga2V5PXtpfSBuYW1lPXtncm91cC5uYW1lfSAvPlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IG9uRWRpdCwgc2hvd0VkaXRCdXR0b24gfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC0xMFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm1kLW1hcmdpbi10b3Atbm9cIj57Z2V0dGV4dChcIkRldGFpbHNcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8RWRpdEJ1dHRvbiBvbkVkaXQ9e29uRWRpdH0gc2hvd0VkaXRCdXR0b249e3Nob3dFZGl0QnV0dG9ufSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmF2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFZGl0QnV0dG9uKHsgb25FZGl0LCBzaG93RWRpdEJ1dHRvbiB9KSB7XG4gIGlmICghc2hvd0VkaXRCdXR0b24pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC0yXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtvbkVkaXR9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwiLi9mb3JtXCJcbmltcG9ydCBHcm91cHNMaXN0IGZyb20gXCIuL2dyb3Vwcy1saXN0XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBQcm9maWxlRGV0YWlsc0RhdGEgZnJvbSBcIm1pc2Fnby9kYXRhL3Byb2ZpbGUtZGV0YWlsc1wiXG5pbXBvcnQgeyBsb2FkIGFzIGxvYWREZXRhaWxzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHNcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBlZGl0aW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkRldGFpbHNcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSlcbiAgfVxuXG4gIG9uRWRpdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogdHJ1ZSB9KVxuICB9XG5cbiAgb25TdWNjZXNzID0gbmV3RGV0YWlscyA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCwgaXNBdXRoZW50aWNhdGVkLCBwcm9maWxlIH0gPSB0aGlzLnByb3BzXG5cbiAgICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIllvdXIgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZC5cIilcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZC5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogcHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuXG4gICAgc25hY2tiYXIuaW5mbyhtZXNzYWdlKVxuICAgIGRpc3BhdGNoKGxvYWREZXRhaWxzKG5ld0RldGFpbHMpKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGlzQXV0aGVudGljYXRlZCwgcHJvZmlsZSwgcHJvZmlsZURldGFpbHMgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBsb2FkaW5nID0gcHJvZmlsZURldGFpbHMuaWQgIT09IHByb2ZpbGUuaWRcblxuICAgIHJldHVybiAoXG4gICAgICA8UHJvZmlsZURldGFpbHNEYXRhXG4gICAgICAgIGRhdGE9e3Byb2ZpbGVEZXRhaWxzfVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIHVzZXI9e3Byb2ZpbGV9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1kZXRhaWxzXCI+XG4gICAgICAgICAgPEhlYWRlclxuICAgICAgICAgICAgb25FZGl0PXt0aGlzLm9uRWRpdH1cbiAgICAgICAgICAgIHNob3dFZGl0QnV0dG9uPXshIXByb2ZpbGVEZXRhaWxzLmVkaXQgJiYgIXRoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxHcm91cHNMaXN0XG4gICAgICAgICAgICBkaXNwbGF5PXshdGhpcy5zdGF0ZS5lZGl0aW5nfVxuICAgICAgICAgICAgZ3JvdXBzPXtwcm9maWxlRGV0YWlscy5ncm91cHN9XG4gICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ9e2lzQXV0aGVudGljYXRlZH1cbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICBwcm9maWxlPXtwcm9maWxlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIGFwaT17cHJvZmlsZS5hcGkuZWRpdF9kZXRhaWxzfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgZGlzcGxheT17dGhpcy5zdGF0ZS5lZGl0aW5nfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMub25TdWNjZXNzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Qcm9maWxlRGV0YWlsc0RhdGE+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSb3V0ZSBmcm9tIFwiLi9yb3V0ZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHByb3BzKSB7XG4gIGxldCBlbXB0eU1lc3NhZ2UgPSBudWxsXG4gIGlmIChwcm9wcy51c2VyLmlkID09PSBwcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgZW1wdHlNZXNzYWdlID0gZ2V0dGV4dChcIllvdSBoYXZlIG5vIHN0YXJ0ZWQgdGhyZWFkcy5cIilcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgc3RhcnRlZCBubyB0aHJlYWRzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgbGV0IGhlYWRlciA9IG51bGxcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IGdldHRleHQoXCJMb2FkaW5nLi4uXCIpXG4gIH0gZWxzZSBpZiAocHJvcHMucHJvZmlsZS5pZCA9PT0gcHJvcHMudXNlci5pZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiWW91IGhhdmUgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWQuXCIsXG4gICAgICBcIllvdSBoYXZlIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkcy5cIixcbiAgICAgIHByb3BzLnByb2ZpbGUudGhyZWFkc1xuICAgIClcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgdGhyZWFkczogcHJvcHMucHJvZmlsZS50aHJlYWRzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWQuXCIsXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWRzLlwiLFxuICAgICAgcHJvcHMucHJvZmlsZS50aHJlYWRzXG4gICAgKVxuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUoXG4gICAgICBtZXNzYWdlLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogcHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgdGhyZWFkczogcHJvcHMucHJvZmlsZS50aHJlYWRzXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJvdXRlXG4gICAgICBhcGk9e3Byb3BzLnByb2ZpbGUuYXBpLnRocmVhZHN9XG4gICAgICBlbXB0eU1lc3NhZ2U9e2VtcHR5TWVzc2FnZX1cbiAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaHJlYWRzXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHByb3BzKSB7XG4gIGxldCBlbXB0eU1lc3NhZ2UgPSBudWxsXG4gIGlmIChwcm9wcy51c2VyLmlkID09PSBwcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgZW1wdHlNZXNzYWdlID0gZ2V0dGV4dChcIllvdSBoYXZlIHBvc3RlZCBubyBtZXNzYWdlcy5cIilcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgcG9zdGVkIG5vIG1lc3NhZ2VzLlwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgbGV0IGhlYWRlciA9IG51bGxcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IGdldHRleHQoXCJMb2FkaW5nLi4uXCIpXG4gIH0gZWxzZSBpZiAocHJvcHMucHJvZmlsZS5pZCA9PT0gcHJvcHMudXNlci5pZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiWW91IGhhdmUgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlLlwiLFxuICAgICAgXCJZb3UgaGF2ZSBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2VzLlwiLFxuICAgICAgcHJvcHMucHJvZmlsZS5wb3N0c1xuICAgIClcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgcG9zdHM6IHByb3BzLnByb2ZpbGUucG9zdHNcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlcy5cIixcbiAgICAgIHByb3BzLnByb2ZpbGUucG9zdHNcbiAgICApXG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICBwb3N0czogcHJvcHMucHJvZmlsZS5wb3N0c1xuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgYXBpPXtwcm9wcy5wcm9maWxlLmFwaS5wb3N0c31cbiAgICAgIGVtcHR5TWVzc2FnZT17ZW1wdHlNZXNzYWdlfVxuICAgICAgaGVhZGVyPXtoZWFkZXJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlBvc3RzXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBvc3RGZWVkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wb3N0LWZlZWRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGxvYWRJdGVtcyhzdGFydCA9IDApIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KHRoaXMucHJvcHMuYXBpLCB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCB8fCAwXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuYXBwZW5kKGRhdGEpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkSXRlbXModGhpcy5wcm9wcy5wb3N0cy5uZXh0KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkSXRlbXMoKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZmVlZFwiPlxuICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidG9vbGJhci1sZWZ0XCI+e3RoaXMucHJvcHMuaGVhZGVyfTwvaDM+XG4gICAgICAgIDwvbmF2PlxuICAgICAgICA8RmVlZFxuICAgICAgICAgIGlzTG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgbG9hZE1vcmU9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZlZWQocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb3N0cy5yZXN1bHRzLmxlbmd0aCkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3Byb3BzLmVtcHR5TWVzc2FnZX08L3A+XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UG9zdEZlZWRcbiAgICAgICAgaXNSZWFkeT17cHJvcHMucG9zdHMuaXNMb2FkZWR9XG4gICAgICAgIHBvc3RzPXtwcm9wcy5wb3N0cy5yZXN1bHRzfVxuICAgICAgICBwb3N0ZXI9e3Byb3BzLnByb2ZpbGV9XG4gICAgICAvPlxuICAgICAgPExvYWRNb3JlQnV0dG9uXG4gICAgICAgIGlzTG9hZGluZz17cHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICBsb2FkTW9yZT17cHJvcHMubG9hZE1vcmV9XG4gICAgICAgIG5leHQ9e3Byb3BzLnBvc3RzLm5leHR9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkTW9yZUJ1dHRvbihwcm9wcykge1xuICBpZiAoIXByb3BzLm5leHQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgbG9hZGluZz17cHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5sb2FkTW9yZX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJTaG93IG9sZGVyIGFjdGl2aXR5XCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArIFwiIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dpbmdcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyBcIiBidG4tZGVmYXVsdCBidG4tZm9sbG93XCJcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiBcImZhdm9yaXRlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiZmF2b3JpdGVfYm9yZGVyXCJcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd2luZ1wiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd1wiKVxuICAgIH1cbiAgfVxuXG4gIGFjdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcGF0Y2goe1xuICAgICAgICAgIGlzX2ZvbGxvd2VkOiBmYWxzZSxcbiAgICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgLSAxXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBwYXRjaCh7XG4gICAgICAgICAgaXNfZm9sbG93ZWQ6IHRydWUsXG4gICAgICAgICAgZm9sbG93ZXJzOiB0aGlzLnByb3BzLnByb2ZpbGUuZm9sbG93ZXJzICsgMVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLmZvbGxvdykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goZGF0YSkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmFjdGlvbn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBTZWFyY2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3F1aWNrLXNlYXJjaFwiXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlLCBhcHBlbmQgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zZXRTcGVjaWFsUHJvcHMoKVxuXG4gICAgaWYgKG1pc2Fnby5oYXModGhpcy5QUkVMT0FERURfREFUQV9LRVkpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKVxuICAgIH1cbiAgfVxuXG4gIHNldFNwZWNpYWxQcm9wcygpIHtcbiAgICB0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSA9IFwiUFJPRklMRV9GT0xMT1dFUlNcIlxuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KFwiRm9sbG93ZXJzXCIpXG4gICAgdGhpcy5BUElfRklMVEVSID0gXCJmb2xsb3dlcnNcIlxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6IFwiXCIsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH1cblxuICAgIHRoaXMubG9hZFVzZXJzKClcbiAgfVxuXG4gIGxvYWRVc2VycyhwYWdlID0gMSwgc2VhcmNoID0gbnVsbCkge1xuICAgIGNvbnN0IGFwaVVybCA9IHRoaXMucHJvcHMucHJvZmlsZS5hcGlbdGhpcy5BUElfRklMVEVSXVxuXG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgYXBpVXJsLFxuICAgICAgICB7XG4gICAgICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwidXNlci1cIiArIHRoaXMuQVBJX0ZJTFRFUlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLlRJVExFLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KVxuICB9XG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkVXNlcnModGhpcy5zdGF0ZS5wYWdlICsgMSwgdGhpcy5zdGF0ZS5zZWFyY2gpXG4gIH1cblxuICBzZWFyY2ggPSBldiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRVc2VycygxLCBldi50YXJnZXQudmFsdWUpXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTG9hZGluZy4uLlwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiRm91bmQgJSh1c2VycylzIHVzZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCJZb3UgaGF2ZSAlKHVzZXJzKXMgZm9sbG93ZXJzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcnMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGhhdmUgbm8gZm9sbG93ZXJzLlwiKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaGFzIG5vIGZvbGxvd2Vycy5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb3JlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICA+XG4gICAgICAgICAge2ludGVycG9sYXRlKFxuICAgICAgICAgICAgZ2V0dGV4dChcIlNob3cgbW9yZSAoJShtb3JlKXMpXCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb3JlOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRMaXN0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCAmJiB0aGlzLnN0YXRlLmNvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfTwvcD5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFVzZXJzTGlzdFxuICAgICAgICAgIGNvbHM9ezN9XG4gICAgICAgICAgaXNSZWFkeT17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgLz5cblxuICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIFwicHJvZmlsZS1cIiArIHRoaXMuQVBJX0ZJTFRFUlxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj57dGhpcy5nZXRMYWJlbCgpfTwvaDM+XG5cbiAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIHVzZXJzLi4uXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbmF2PlxuXG4gICAgICAgIHt0aGlzLmdldExpc3RCb2R5KCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvbGxvd2VycyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dlcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvbGxvd2VycyB7XG4gIHNldFNwZWNpYWxQcm9wcygpIHtcbiAgICB0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSA9IFwiUFJPRklMRV9GT0xMT1dTXCJcbiAgICB0aGlzLlRJVExFID0gZ2V0dGV4dChcIkZvbGxvd3NcIilcbiAgICB0aGlzLkFQSV9GSUxURVIgPSBcImZvbGxvd3NcIlxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkxvYWRpbmcuLi5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgYXJlIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJZb3UgYXJlIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcnM6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBpcyBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICAgICB1c2VyczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcnMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiWW91IGFyZSBub3QgZm9sbG93aW5nIGFueSB1c2Vycy5cIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG5vdCBmb2xsb3dpbmcgYW55IHVzZXJzLlwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGVcIlxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tIFwiLi9mb2xsb3ctYnV0dG9uXCJcbmltcG9ydCBNZXNzYWdlQnV0dG9uIGZyb20gXCIuL21lc3NhZ2UtYnV0dG9uXCJcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gXCIuL21vZGVyYXRpb24vbmF2XCJcbmltcG9ydCB7IENvbXBhY3ROYXYgfSBmcm9tIFwiLi9uYXZzXCJcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzSWNvbiwgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1cy1kaXNwbGF5XCI+XG4gICAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uXG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U3RhdHVzTGFiZWxcbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdGF0dXM+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVzZXJSYW5rKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay5pc190YWIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnByb2ZpbGUucmFuay51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5uYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX08L3NwYW4+XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUudGl0bGUpIHtcbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPnt0aGlzLnByb3BzLnByb2ZpbGUudGl0bGV9PC9saT5cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlKSB7XG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInVzZXItdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGV9PC9saT5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRKb2luZWRPbigpIHtcbiAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJKb2luZWQgb24gJShqb2luZWRfb24pc1wiKSxcbiAgICAgIHtcbiAgICAgICAgam9pbmVkX29uOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZvcm1hdChcIkxMLCBMVFwiKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBsZXQgYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiSm9pbmVkICUoam9pbmVkX29uKXNcIiksXG4gICAgICB7XG4gICAgICAgIGpvaW5lZF9vbjogdGhpcy5wcm9wcy5wcm9maWxlLmpvaW5lZF9vbi5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGl0bGV9PnthZ2V9PC9hYmJyPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRFbWFpbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1lbWFpbFwiPlxuICAgICAgICAgIDxhIGhyZWY9e1wibWFpbHRvOlwiICsgdGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLmVtYWlsfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRGb2xsb3dCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvdykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvbGxvd0J1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tbW9kZXJhdGUgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj50b25hbGl0eTwvc3Bhbj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8TW9kZXJhdGlvbk5hdiBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYW5Gb2xsb3cgPSB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3dcbiAgICBjb25zdCBjYW5Nb2RlcmF0ZSA9IHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlXG5cbiAgICBjb25zdCBpc1Byb2ZpbGVPd25lciA9IHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkXG4gICAgY29uc3QgY2FuTWVzc2FnZSA9XG4gICAgICAhaXNQcm9maWxlT3duZXIgJiYgdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzXG5cbiAgICBsZXQgY29scyA9IDBcbiAgICBpZiAoY2FuRm9sbG93KSBjb2xzICs9IDFcbiAgICBpZiAoY2FuTW9kZXJhdGUpIGNvbHMgKz0gMVxuICAgIGlmIChjYW5NZXNzYWdlKSBjb2xzICs9IDFcblxuICAgIGNvbnN0IGNvbHNXaWR0aCA9IGNvbHMgPyAyICogY29scyArIDEgOiAwXG5cbiAgICBsZXQgaGVhZGVyQ2xhc3NOYW1lID0gXCJwYWdlLWhlYWRlclwiXG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLmNzc19jbGFzcykge1xuICAgICAgaGVhZGVyQ2xhc3NOYW1lICs9XG4gICAgICAgIFwiIHBhZ2UtaGVhZGVyLXJhbmstXCIgKyB0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3NcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aGVhZGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPElzRGlzYWJsZWRNZXNzYWdlXG4gICAgICAgICAgICAgIGlzQWN0aXZlPXt0aGlzLnByb3BzLnByb2ZpbGUuaXNfYWN0aXZlfVxuICAgICAgICAgICAgICBpc0RlbGV0aW5nQWNjb3VudD17dGhpcy5wcm9wcy5wcm9maWxlLmlzX2RlbGV0aW5nX2FjY291bnR9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17XCJjb2wtc20tXCIgKyAoMTIgLSBjb2xzV2lkdGgpfT5cbiAgICAgICAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyIHVzZXItYXZhdGFyLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cIjEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTJ4PVwiMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGgxPnt0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWV9PC9oMT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyEhY29scyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArIGNvbHNXaWR0aH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBzbS1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ISFjYW5NZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDApfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuRm9sbG93ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDEpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRGb2xsb3dCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuTW9kZXJhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItc3RhdHNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOSBjb2wtbWQtb2Zmc2V0LTNcIj5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJSYW5rKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRKb2luZWRPbigpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFbWFpbCgpfVxuICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxDb21wYWN0TmF2XG4gICAgICAgICAgICBiYXNlVXJsPXt0aGlzLnByb3BzLmJhc2VVcmx9XG4gICAgICAgICAgICBwYWdlcz17dGhpcy5wcm9wcy5wYWdlc31cbiAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNEaXNhYmxlZE1lc3NhZ2UoeyBpc0FjdGl2ZSwgaXNEZWxldGluZ0FjY291bnQgfSkge1xuICBpZiAoaXNBY3RpdmUgIT09IGZhbHNlICYmIGlzRGVsZXRpbmdBY2NvdW50ICE9PSB0cnVlKSByZXR1cm4gbnVsbFxuXG4gIGxldCBtZXNzYWdlID0gbnVsbFxuICBpZiAoaXNEZWxldGluZ0FjY291bnQpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoaXMgdXNlciBpcyBkZWxldGluZyB0aGVpciBhY2NvdW50LlwiKVxuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVGhpcyB1c2VyJ3MgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCBieSBhZG1pbmlzdHJhdG9yLlwiKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICAgICAgPHA+e21lc3NhZ2V9PC9wPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xTdHlsZShjb2xzLCBjb2wpIHtcbiAgbGV0IGNvbFN0eWxlID0gXCJcIlxuXG4gIGlmIChjb2xzID09IDEpIHtcbiAgICBjb2xTdHlsZSA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIGlmIChjb2xzID09IDIpIHtcbiAgICBjb2xTdHlsZSA9IFwiY29sLXhzLTYgY29sLXNtLTZcIlxuICB9XG5cbiAgaWYgKGNvbHMgPT0gMykge1xuICAgIGlmIChjb2wgPT0gMikge1xuICAgICAgY29sU3R5bGUgPSBcImNvbC14cy0xMiBjb2wtc20tNCB4cy1tYXJnaW4tdG9wXCJcbiAgICB9IGVsc2Uge1xuICAgICAgY29sU3R5bGUgKz0gXCJjb2wteHMtNiBjb2wtc20tNFwiXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbFN0eWxlXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiU1RBUlRfUFJJVkFURVwiLFxuICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX0FQSVwiKSxcblxuICAgICAgdG86IFt0aGlzLnByb3BzLnByb2ZpbGVdXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYW5NZXNzYWdlID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzXG4gICAgY29uc3QgaXNQcm9maWxlT3duZXIgPSB0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZFxuXG4gICAgaWYgKCFjYW5NZXNzYWdlIHx8IGlzUHJvZmlsZU93bmVyKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNvbW1lbnQ8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiTWVzc2FnZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgTG9hZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXJcIlxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoXCJcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2VcIlxuaW1wb3J0IHsgdXBkYXRlQXZhdGFyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgaXNfYXZhdGFyX2xvY2tlZDogXCJcIixcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogXCJcIixcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IFwiXCJcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX2F2YXRhcikudGhlbihcbiAgICAgIG9wdGlvbnMgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IG9wdGlvbnMuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IG9wdGlvbnMuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlIHx8IFwiXCIsXG4gICAgICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlIHx8IFwiXCJcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfYXZhdGFyLCB7XG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiB0aGlzLnN0YXRlLmlzX2F2YXRhcl9sb2NrZWQsXG4gICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBdmF0YXIodGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS5hdmF0YXJfaGFzaCkpXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSlcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxvY2sgYXZhdGFyXCIpfVxuICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgIFwiTG9ja2luZyB1c2VyIGF2YXRhciB3aWxsIHByb2hpYml0IHVzZXIgZnJvbSBjaGFuZ2luZyBoaXMgYXZhdGFyIGFuZCB3aWxsIHJlc2V0IGhpcy9oZXIgYXZhdGFyIHRvIGRlZmF1bHQgb25lLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZm9yPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgICAgIGlkPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgaWNvbk9uPVwibG9ja19vdXRsaW5lXCJcbiAgICAgICAgICAgICAgaWNvbk9mZj1cImxvY2tfb3BlblwiXG4gICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJEaXNhbGxvdyB1c2VyIGZyb20gY2hhbmdpbmcgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIkFsbG93IHVzZXIgdG8gY2hhbmdlIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfYXZhdGFyX2xvY2tlZFwiKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlVzZXIgbWVzc2FnZVwiKX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIk9wdGlvbmFsIG1lc3NhZ2UgZm9yIHVzZXIgZXhwbGFpbmluZyB3aHkgaGUvc2hlIGlzIHByb2hpYml0ZWQgZm9ybSBjaGFuZ2luZyBhdmF0YXIuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja191c2VyX21lc3NhZ2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBpZD1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJhdmF0YXJfbG9ja191c2VyX21lc3NhZ2VcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlN0YWZmIG1lc3NhZ2VcIil9XG4gICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICAgICAgXCJPcHRpb25hbCBtZXNzYWdlIGZvciBmb3J1bSB0ZWFtIG1lbWJlcnMgZXhwbGFpbmluZyB3aHkgdXNlciBpcyBwcm9oaWJpdGVkIGZvcm0gY2hhbmdpbmcgYXZhdGFyLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1hdmF0YXItY29udHJvbHNcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCB7IGFkZE5hbWVDaGFuZ2UgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJuYW1lLWhpc3RvcnlcIlxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICB1c2VybmFtZTogXCJcIixcbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFt2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfdXNlcm5hbWUpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX3VzZXJuYW1lLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1c2VybmFtZTogXCJcIlxuICAgIH0pXG5cbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIGFkZE5hbWVDaGFuZ2UoYXBpUmVzcG9uc2UsIHRoaXMucHJvcHMucHJvZmlsZSwgdGhpcy5wcm9wcy51c2VyKVxuICAgIClcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVVzZXJuYW1lKHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UudXNlcm5hbWUsIGFwaVJlc3BvbnNlLnNsdWcpXG4gICAgKVxuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZC5cIikpXG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyB1c2VybmFtZVwiKX0gZm9yPVwiaWRfdXNlcm5hbWVcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCIgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEZvcm1Cb2R5KClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLXJlbmFtZS11c2VyXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLXJlbmFtZS11c2VyXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMuZ2V0TW9kYWxCb2R5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlclwiXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlXCJcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNEZWxldGVkOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBjb3VudGRvd246IDUsXG4gICAgICBjb25maXJtOiBmYWxzZSxcblxuICAgICAgd2l0aF9jb250ZW50OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkuZGVsZXRlKS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuY291bnRkb3duKClcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGNvdW50ZG93biA9ICgpID0+IHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudGRvd24gPiAxKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvdW50ZG93bjogdGhpcy5zdGF0ZS5jb3VudGRvd24gLSAxXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuY291bnRkb3duKClcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb25maXJtOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgMTAwMClcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLmRlbGV0ZSwge1xuICAgICAgd2l0aF9jb250ZW50OiB0aGlzLnN0YXRlLndpdGhfY29udGVudFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHBvbGxzLnN0b3AoXCJ1c2VyLXByb2ZpbGVcIilcblxuICAgIGlmICh0aGlzLnN0YXRlLndpdGhfY29udGVudCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRGVsZXRlZDogaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcbiAgICAgICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCwgdGhyZWFkcywgcG9zdHMgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIlxuICAgICAgICAgICksXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFxuICAgICAgICAgICAgXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50IGhhcyBiZWVuIGRlbGV0ZWQgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gaGlkZGVuLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZ2V0QnV0dG9uTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiRGVsZXRlICUodXNlcm5hbWUpc1wiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJQbGVhc2Ugd2FpdC4uLiAoJShjb3VudGRvd24pc3MpXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgY291bnRkb3duOiB0aGlzLnN0YXRlLmNvdW50ZG93blxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9ybSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXIgY29udGVudFwiKX0gZm9yPVwiaWRfd2l0aF9jb250ZW50XCI+XG4gICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgaWQ9XCJpZF93aXRoX2NvbnRlbnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJEZWxldGUgdG9nZXRoZXIgd2l0aCB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJIaWRlIGFmdGVyIGRlbGV0aW5nIHVzZXIncyBhY2NvdW50XCIpfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ3aXRoX2NvbnRlbnRcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndpdGhfY29udGVudH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuY29uZmlybX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5nZXRCdXR0b25MYWJlbCgpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICBnZXREZWxldGVkQm9keSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLnN0YXRlLmlzRGVsZXRlZH08L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIil9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJldHVybiB0byB1c2VycyBsaXN0XCIpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVsZXRlZEJvZHkoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TG9hZGVyIC8+XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1kZWxldGUtYWNjb3VudFwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIkRlbGV0ZSB1c2VyIGFjY291bnRcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgQXZhdGFyQ29udHJvbHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHNcIlxuaW1wb3J0IENoYW5nZVVzZXJuYW1lIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lXCJcbmltcG9ydCBEZWxldGVBY2NvdW50IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnRcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5sZXQgc2VsZWN0ID0gZnVuY3Rpb24oc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICB0aWNrOiBzdG9yZS50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgsXG4gICAgcHJvZmlsZTogc3RvcmUucHJvZmlsZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd0F2YXRhckRpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShBdmF0YXJDb250cm9scykpXG4gIH1cblxuICBnZXRBdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlX2F2YXRhcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0F2YXRhckRpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cG9ydHJhaXQ8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkF2YXRhciBjb250cm9sc1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBzaG93UmVuYW1lRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKENoYW5nZVVzZXJuYW1lKSlcbiAgfVxuXG4gIGdldFJlbmFtZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fcmVuYW1lKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVuYW1lRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jcmVkaXRfY2FyZDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHNob3dEZWxldGVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoRGVsZXRlQWNjb3VudCkpXG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0RlbGV0ZURpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2xlYXI8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZSBhY2NvdW50XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldEF2YXRhckJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRSZW5hbWVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgTGkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xpXCJcbmltcG9ydCBGb2xsb3dCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93LWJ1dHRvblwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgY2xhc3MgU2lkZU5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnBhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgXCIvXCJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICAgIGtleT17cGFnZS5jb21wb25lbnR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57cGFnZS5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wYWN0TmF2KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnMgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgIHtwcm9wcy5wYWdlcy5tYXAocGFnZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlcbiAgICAgICAgICAgICAgICBwYXRoPXtwcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgICBrZXk9e3BhZ2UuY29tcG9uZW50fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyBcIi9cIn1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGVOYXZ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntwYWdlLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvTGk+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBCYW5EZXRhaWxzIGZyb20gXCIuL2Jhbi1kZXRhaWxzXCJcbmltcG9ydCBEZXRhaWxzIGZyb20gXCIuL2RldGFpbHNcIlxuaW1wb3J0IHsgUG9zdHMsIFRocmVhZHMgfSBmcm9tIFwiLi9mZWVkXCJcbmltcG9ydCBGb2xsb3dlcnMgZnJvbSBcIi4vZm9sbG93ZXJzXCJcbmltcG9ydCBGb2xsb3dzIGZyb20gXCIuL2ZvbGxvd3NcIlxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tIFwiLi91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vaGVhZGVyXCJcbmltcG9ydCBNb2RlcmF0aW9uTmF2IGZyb20gXCIuL21vZGVyYXRpb24vbmF2XCJcbmltcG9ydCB7IFNpZGVOYXYsIENvbXBhY3ROYXYgfSBmcm9tIFwiLi9uYXZzXCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGkuaW5kZXgpXG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJ1c2VyLXByb2ZpbGVcIixcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YSkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYmFzZVVybCA9IG1pc2Fnby5nZXQoXCJQUk9GSUxFXCIpLnVybFxuICAgIGNvbnN0IHBhZ2VzID0gbWlzYWdvLmdldChcIlBST0ZJTEVfUEFHRVNcIilcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS11c2VyLXByb2ZpbGVcIj5cbiAgICAgICAgPEhlYWRlclxuICAgICAgICAgIGJhc2VVcmw9e2Jhc2VVcmx9XG4gICAgICAgICAgcGFnZXM9e3BhZ2VzfVxuICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgIHRvZ2dsZU1vZGVyYXRpb249e3RoaXMudG9nZ2xlTW9kZXJhdGlvbn1cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtc2lkZS1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxTaWRlTmF2XG4gICAgICAgICAgICAgICAgYmFzZVVybD17YmFzZVVybH1cbiAgICAgICAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IHN0b3JlLmF1dGgudXNlci5pZCA9PT0gc3RvcmUucHJvZmlsZS5pZCxcblxuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgdXNlcnM6IHN0b3JlLnVzZXJzLFxuICAgIHBvc3RzOiBzdG9yZS5wb3N0cyxcbiAgICBwcm9maWxlOiBzdG9yZS5wcm9maWxlLFxuICAgIHByb2ZpbGVEZXRhaWxzOiBzdG9yZVtcInByb2ZpbGUtZGV0YWlsc1wiXSxcbiAgICBcInVzZXJuYW1lLWhpc3RvcnlcIjogc3RvcmVbXCJ1c2VybmFtZS1oaXN0b3J5XCJdXG4gIH1cbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IHtcbiAgcG9zdHM6IFBvc3RzLFxuICB0aHJlYWRzOiBUaHJlYWRzLFxuICBmb2xsb3dlcnM6IEZvbGxvd2VycyxcbiAgZm9sbG93czogRm9sbG93cyxcbiAgZGV0YWlsczogRGV0YWlscyxcbiAgXCJ1c2VybmFtZS1oaXN0b3J5XCI6IFVzZXJuYW1lSGlzdG9yeSxcbiAgXCJiYW4tZGV0YWlsc1wiOiBCYW5EZXRhaWxzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgbGV0IHBhdGhzID0gW11cbiAgbWlzYWdvLmdldChcIlBST0ZJTEVfUEFHRVNcIikuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgcGF0aHMucHVzaChcbiAgICAgIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldChcIlBST0ZJTEVcIikudXJsICsgaXRlbS5jb21wb25lbnQgKyBcIi9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ09NUE9ORU5UU1tpdGVtLmNvbXBvbmVudF0pXG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICByZXR1cm4gcGF0aHNcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBTZWFyY2ggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3F1aWNrLXNlYXJjaFwiXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUsIGFwcGVuZCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IHRpdGxlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGlmIChtaXNhZ28uaGFzKFwiUFJPRklMRV9OQU1FX0hJU1RPUllcIikpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoXCJQUk9GSUxFX05BTUVfSElTVE9SWVwiKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKVxuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiBcIlwiLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpXG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogXCJcIixcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKClcbiAgfVxuXG4gIGxvYWRDaGFuZ2VzKHBhZ2UgPSAxLCBzZWFyY2ggPSBudWxsKSB7XG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgbWlzYWdvLmdldChcIlVTRVJOQU1FX0NIQU5HRVNfQVBJXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wcm9maWxlLmlkLFxuICAgICAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgICAgICB9LFxuICAgICAgICBcInNlYXJjaC11c2VybmFtZS1oaXN0b3J5XCJcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIlVzZXJuYW1lIGhpc3RvcnlcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pXG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pXG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKVxuICB9XG5cbiAgc2VhcmNoID0gZXYgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuXG4gICAgICBzZWFyY2g6IGV2LnRhcmdldC52YWx1ZSxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9KVxuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygxLCBldi50YXJnZXQudmFsdWUpXG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTG9hZGluZy4uLlwiKVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJShjaGFuZ2VzKXMgdXNlcm5hbWUgY2hhbmdlLlwiLFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnRcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgY2hhbmdlczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaWQgPT09IHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWUuXCIsXG4gICAgICAgIFwiWW91ciB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBjaGFuZ2VzOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICApXG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICAgY2hhbmdlczogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJuYW1lIGNoYW5nZXMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBuZXZlciBjaGFuZ2VkLlwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1vcmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICBnZXR0ZXh0KFwiU2hvdyBvbGRlciAoJShtb3JlKXMpXCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb3JlOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS11c2VybmFtZS1oaXN0b3J5XCI+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj57dGhpcy5nZXRMYWJlbCgpfTwvaDM+XG5cbiAgICAgICAgICA8U2VhcmNoXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnNlYXJjaH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIGhpc3RvcnkuLi5cIil9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9uYXY+XG5cbiAgICAgICAgPFVzZXJuYW1lSGlzdG9yeVxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIGVtcHR5TWVzc2FnZT17dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgICBjaGFuZ2VzPXt0aGlzLnByb3BzW1widXNlcm5hbWUtaGlzdG9yeVwiXX1cbiAgICAgICAgLz5cblxuICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBcImZvcm0tc2VhcmNoIFwiICsgdGhpcy5wcm9wcy5jbGFzc05hbWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2hcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBnZXR0ZXh0KFwiU2VhcmNoLi4uXCIpfVxuICAgICAgICAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2VhcmNoPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xvYWRlclwiXG5pbXBvcnQgUmVnaXN0ZXJGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZWdpc3Rlci5qc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGNhcHRjaGEgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG5cbiAgICAgIGNyaXRlcmlhOiBudWxsXG4gICAgfVxuICB9XG5cbiAgc2hvd1JlZ2lzdGVyRm9ybSA9ICgpID0+IHtcbiAgICBpZiAobWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmFjY291bnRfYWN0aXZhdGlvbiA9PT0gXCJjbG9zZWRcIikge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiTmV3IHJlZ2lzdHJhdGlvbnMgYXJlIGN1cnJlbnRseSBkaXNhYmxlZC5cIikpXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBtb2RhbC5zaG93KDxSZWdpc3RlckZvcm0gY3JpdGVyaWE9e3RoaXMuc3RhdGUuY3JpdGVyaWF9IC8+KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pXG5cbiAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgY2FwdGNoYS5sb2FkKCksXG4gICAgICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJBVVRIX0NSSVRFUklBX0FQSVwiKSlcbiAgICAgIF0pLnRoZW4oXG4gICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBjcml0ZXJpYTogcmVzdWx0WzFdXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIG1vZGFsLnNob3coPFJlZ2lzdGVyRm9ybSBjcml0ZXJpYT17cmVzdWx0WzFdfSAvPilcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pXG5cbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihcbiAgICAgICAgICAgIGdldHRleHQoXCJSZWdpc3RyYXRpb24gaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlIGR1ZSB0byBhbiBlcnJvci5cIilcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgKHRoaXMuc3RhdGUuaXNMb2FkaW5nID8gXCIgYnRuLWxvYWRpbmdcIiA6IFwiXCIpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtcImJ0biBcIiArIHRoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVnaXN0ZXJGb3JtfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJNYWtlIEFjY291bnRcIil9XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzTG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBQYXNzd29yZFN0cmVuZ3RoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aFwiXG5pbXBvcnQgUmVnaXN0ZXJMZWdhbEZvb3Rub3RlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGVcIlxuaW1wb3J0IFN0YXJ0U29jaWFsQXV0aCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IGF1dGggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hdXRoXCJcbmltcG9ydCBjYXB0Y2hhIGZyb20gXCJtaXNhZ28vc2VydmljZXMvY2FwdGNoYVwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby91dGlscy9iYW5uZWQtcGFnZVwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB0aGlzLnByb3BzLmNyaXRlcmlhXG5cbiAgICBsZXQgcGFzc3dvcmRNaW5MZW5ndGggPSAwXG4gICAgcGFzc3dvcmQuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLm5hbWUgPT09IFwiTWluaW11bUxlbmd0aFZhbGlkYXRvclwiKSB7XG4gICAgICAgIHBhc3N3b3JkTWluTGVuZ3RoID0gaXRlbS5taW5fbGVuZ3RoXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge1xuICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aCh1c2VybmFtZS5taW5fbGVuZ3RoKSxcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh1c2VybmFtZS5tYXhfbGVuZ3RoKVxuICAgICAgXSxcbiAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXSxcbiAgICAgIHBhc3N3b3JkOiBbdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChwYXNzd29yZE1pbkxlbmd0aCldLFxuICAgICAgY2FwdGNoYTogY2FwdGNoYS52YWxpZGF0b3IoKVxuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoXCJURVJNU19PRl9TRVJWSUNFX0lEXCIpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy50ZXJtc09mU2VydmljZSA9IFt2YWxpZGF0b3JzLnJlcXVpcmVkVGVybXNPZlNlcnZpY2UoKV1cbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KFwiUFJJVkFDWV9QT0xJQ1lfSURcIikpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnByaXZhY3lQb2xpY3kgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFByaXZhY3lQb2xpY3koKV1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICBlbWFpbDogXCJcIixcbiAgICAgIHBhc3N3b3JkOiBcIlwiLFxuICAgICAgY2FwdGNoYTogXCJcIixcblxuICAgICAgdGVybXNPZlNlcnZpY2U6IG51bGwsXG4gICAgICBwcml2YWN5UG9saWN5OiBudWxsLFxuXG4gICAgICB2YWxpZGF0b3JzOiBmb3JtVmFsaWRhdG9ycyxcbiAgICAgIGVycm9yczoge31cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIlVTRVJTX0FQSVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgICAgY2FwdGNoYTogdGhpcy5zdGF0ZS5jYXB0Y2hhLFxuICAgICAgdGVybXNfb2Zfc2VydmljZTogdGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZSxcbiAgICAgIHByaXZhY3lfcG9saWN5OiB0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3lcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSlcblxuICAgICAgaWYgKHJlamVjdGlvbi5fX2FsbF9fICYmIHJlamVjdGlvbi5fX2FsbF9fLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLl9fYWxsX19bMF0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pXG4gICAgICBtb2RhbC5oaWRlKClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUFncmVlbWVudChcInByaXZhY3lQb2xpY3lcIiwgdmFsdWUpXG4gIH1cblxuICBoYW5kbGVUZXJtc09mU2VydmljZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwidGVybXNPZlNlcnZpY2VcIiwgdmFsdWUpXG4gIH1cblxuICBoYW5kbGVUb2dnbGVBZ3JlZW1lbnQgPSAoYWdyZWVtZW50LCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGlmIChwcmV2U3RhdGVbYWdyZWVtZW50XSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogdmFsdWUgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnN0YXRlLnZhbGlkYXRvcnNbYWdyZWVtZW50XVswXVxuICAgICAgY29uc3QgZXJyb3JzID0geyAuLi5wcmV2U3RhdGUuZXJyb3JzLCBbYWdyZWVtZW50XTogW3ZhbGlkYXRvcihudWxsKV0gfVxuICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVnaXN0ZXJcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3sgZGlzcGxheTogXCJub25lXCIgfX0gLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxTdGFydFNvY2lhbEF1dGhcbiAgICAgICAgICAgICAgICBidXR0b25DbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIlxuICAgICAgICAgICAgICAgIGJ1dHRvbkxhYmVsPXtnZXR0ZXh0KFwiSm9pbiB3aXRoICUoc2l0ZSlzXCIpfVxuICAgICAgICAgICAgICAgIGZvcm1MYWJlbD17Z2V0dGV4dChcIk9yIGNyZWF0ZSBmb3J1bSBhY2NvdW50OlwiKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJVc2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudXNlcm5hbWV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF91c2VybmFtZV9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidXNlcm5hbWVcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJFLW1haWxcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmVtYWlsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfZW1haWxfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImVtYWlsXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgIGV4dHJhPXtcbiAgICAgICAgICAgICAgICAgIDxQYXNzd29yZFN0cmVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM9e1t0aGlzLnN0YXRlLnVzZXJuYW1lLCB0aGlzLnN0YXRlLmVtYWlsXX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3Bhc3N3b3JkX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIHtjYXB0Y2hhLmNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgZm9ybTogdGhpc1xuICAgICAgICAgICAgICB9KX1cblxuICAgICAgICAgICAgICA8UmVnaXN0ZXJMZWdhbEZvb3Rub3RlXG4gICAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnN0YXRlLmVycm9yc31cbiAgICAgICAgICAgICAgICBwcml2YWN5UG9saWN5PXt0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3l9XG4gICAgICAgICAgICAgICAgdGVybXNPZlNlcnZpY2U9e3RoaXMuc3RhdGUudGVybXNPZlNlcnZpY2V9XG4gICAgICAgICAgICAgICAgb25Qcml2YWN5UG9saWN5Q2hhbmdlPXt0aGlzLmhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2V9XG4gICAgICAgICAgICAgICAgb25UZXJtc09mU2VydmljZUNoYW5nZT17dGhpcy5oYW5kbGVUZXJtc09mU2VydmljZUNoYW5nZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyIGFjY291bnRcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVnaXN0ZXJDb21wbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IHlvdSBuZWVkIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCJcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCBib2FyZCBhZG1pbmlzdHJhdG9yIHdpbGwgaGF2ZSB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgZ2V0U3Vic2NyaXB0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09IFwidXNlclwiKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcbiAgICAgICAgXCJXZSBoYXZlIHNlbnQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aXRoIGxpbmsgdGhhdCB5b3UgaGF2ZSB0byBjbGljayB0byBhY3RpdmF0ZSB5b3VyIGFjY291bnQuXCJcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcbiAgICAgICAgXCJXZSB3aWxsIHNlbmQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aGVuIHRoaXMgdGFrZXMgcGxhY2UuXCJcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtcmVnaXN0ZXJcIlxuICAgICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RyYXRpb24gY29tcGxldGVcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgICB0aGlzLmdldExlYWQoKSxcbiAgICAgICAgICAgICAgICAgIHsgdXNlcm5hbWU6IHRoaXMucHJvcHMudXNlcm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3Vic2NyaXB0KCksXG4gICAgICAgICAgICAgICAgICB7IGVtYWlsOiB0aGlzLnByb3BzLmVtYWlsIH0sXG4gICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcGxldGVSZWdpc3RyYXRpb24gPSBhcGlSZXNwb25zZSA9PiB7XG4gICAgaWYgKGFwaVJlc3BvbnNlLmFjdGl2YXRpb24gPT09IFwiYWN0aXZlXCIpIHtcbiAgICAgIG1vZGFsLmhpZGUoKVxuICAgICAgYXV0aC5zaWduSW4oYXBpUmVzcG9uc2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVnaXN0ZXJDb21wbGV0ZVxuICAgICAgICAgIGFjdGl2YXRpb249e3RoaXMuc3RhdGUuY29tcGxldGUuYWN0aXZhdGlvbn1cbiAgICAgICAgICBlbWFpbD17dGhpcy5zdGF0ZS5jb21wbGV0ZS5lbWFpbH1cbiAgICAgICAgICB1c2VybmFtZT17dGhpcy5zdGF0ZS5jb21wbGV0ZS51c2VybmFtZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gPFJlZ2lzdGVyRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZVJlZ2lzdHJhdGlvbn0gey4uLnRoaXMucHJvcHN9IC8+XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpbmtGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZW1haWw6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgZW1haWw6IFt2YWxpZGF0b3JzLmVtYWlsKCldXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KFwiU0VORF9BQ1RJVkFUSU9OX0FQSVwiKSwge1xuICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAoW1wiYWxyZWFkeV9hY3RpdmVcIiwgXCJpbmFjdGl2ZV9hZG1pblwiXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmtcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImVtYWlsXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZW5kIGxpbmtcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlua1NlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJBY3RpdmF0aW9uIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLFxuICAgICAge1xuICAgICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsgd2VsbC1kb25lXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVjazwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHA+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5jYWxsYmFja31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgYW5vdGhlciBsaW5rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUgPSBhcGlSZXNwb25zZSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICB9KVxuICB9XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gPExpbmtTZW50IHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9IGNhbGxiYWNrPXt0aGlzLnJlc2V0fSAvPlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPFJlcXVlc3RMaW5rRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz5cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuXG5leHBvcnQgY2xhc3MgUmVxdWVzdFJlc2V0Rm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGVtYWlsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldChcIlNFTkRfUEFTU1dPUkRfUkVTRVRfQVBJXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbXCJpbmFjdGl2ZV91c2VyXCIsIFwiaW5hY3RpdmVfYWRtaW5cIl0uaW5kZXhPZihyZWplY3Rpb24uY29kZSkgPiAtMSkge1xuICAgICAgdGhpcy5wcm9wcy5zaG93SW5hY3RpdmVQYWdlKHJlamVjdGlvbilcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJZb3VyIGUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiUmVzZXQgcGFzc3dvcmQgbGluayB3YXMgc2VudCB0byAlKGVtYWlsKXNcIiksXG4gICAgICB7XG4gICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnVzZXIuZW1haWxcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0IHdlbGwtZG9uZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2s8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLmdldE1lc3NhZ2UoKX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGFub3RoZXIgbGlua1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRJbmFjdGl2ZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRBY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSBcImluYWN0aXZlX3VzZXJcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHA+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldChcIlJFUVVFU1RfQUNUSVZBVElPTl9VUkxcIil9PlxuICAgICAgICAgICAge2dldHRleHQoXCJBY3RpdmF0ZSB5b3VyIGFjY291bnQuXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtbWVzc2FnZSBwYWdlLW1lc3NhZ2UtaW5mbyBwYWdlLWZvcmdvdHRlbi1wYXNzd29yZC1pbmFjdGl2ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmluZm9fb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJZb3VyIGFjY291bnQgaXMgaW5hY3RpdmUuXCIpfTwvcD5cbiAgICAgICAgICAgICAgPHA+e3RoaXMucHJvcHMubWVzc2FnZX08L3A+XG4gICAgICAgICAgICAgIHt0aGlzLmdldEFjdGl2YXRlQnV0dG9uKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBsZXRlID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSlcbiAgfVxuXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHNob3dJbmFjdGl2ZVBhZ2UoYXBpUmVzcG9uc2UpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8QWNjb3VudEluYWN0aXZlUGFnZVxuICAgICAgICBhY3RpdmF0aW9uPXthcGlSZXNwb25zZS5jb2RlfVxuICAgICAgICBtZXNzYWdlPXthcGlSZXNwb25zZS5kZXRhaWx9XG4gICAgICAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZS1tb3VudFwiKVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCBjYWxsYmFjaz17dGhpcy5yZXNldH0gdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX0gLz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlcXVlc3RSZXNldEZvcm1cbiAgICAgICAgY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9XG4gICAgICAgIHNob3dJbmFjdGl2ZVBhZ2U9e3RoaXMuc2hvd0luYWN0aXZlUGFnZX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgYXV0aCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2F1dGhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuXG5leHBvcnQgY2xhc3MgUmVzZXRQYXNzd29yZEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBwYXNzd29yZDogXCJcIlxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmQuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJDSEFOR0VfUEFTU1dPUkRfQVBJXCIpLCB7XG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVzZXQtcGFzc3dvcmRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRDaGFuZ2VkUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgc2hvd1NpZ25JbigpIHtcbiAgICBtb2RhbC5zaG93KFNpZ25Jbk1vZGFsKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1zdWNjZXNzIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWNoYW5nZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVjazwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgICAgICBcIllvdSB3aWxsIGhhdmUgdG8gc2lnbiBpbiB1c2luZyBuZXcgcGFzc3dvcmQgYmVmb3JlIGNvbnRpbnVpbmcuXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBsZXRlID0gYXBpUmVzcG9uc2UgPT4ge1xuICAgIGF1dGguc29mdFNpZ25PdXQoKVxuXG4gICAgLy8gbnVrZSBcInJlZGlyZWN0X3RvXCIgZmllbGQgc28gd2UgZG9uJ3QgZW5kXG4gICAgLy8gY29taW5nIGJhY2sgdG8gZXJyb3IgcGFnZSBhZnRlciBzaWduIGluXG4gICAgJCgnI2hpZGRlbi1sb2dpbi1mb3JtIGlucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnJlbW92ZSgpXG5cbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8UGFzc3dvcmRDaGFuZ2VkUGFnZSB1c2VyPXthcGlSZXNwb25zZX0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxSZXNldFBhc3N3b3JkRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz5cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IHsgbG9hZCBhcyB1cGRhdGVQb3N0cyB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVNlYXJjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VhcmNoXCJcbmltcG9ydCB7IGh5ZHJhdGUgYXMgdXBkYXRlVXNlcnMgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgcXVlcnk6IHByb3BzLnNlYXJjaC5xdWVyeVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKVxuICAgIH1cbiAgfVxuXG4gIG9uUXVlcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInF1ZXJ5XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5xdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgc2VhcmNoIHF1ZXJ5LlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlU2VhcmNoKHtcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgICB9KVxuICAgIClcblxuICAgIHJldHVybiBhamF4LmdldChtaXNhZ28uZ2V0KFwiU0VBUkNIX0FQSVwiKSwge1xuICAgICAgcTogdGhpcy5zdGF0ZS5xdWVyeS50cmltKClcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2Vzcyhwcm92aWRlcnMpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgIHVwZGF0ZVNlYXJjaCh7XG4gICAgICAgIHF1ZXJ5OiB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgcHJvdmlkZXJzXG4gICAgICB9KVxuICAgIClcblxuICAgIHByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgIGlmIChwcm92aWRlci5pZCA9PT0gXCJ1c2Vyc1wiKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJzKHByb3ZpZGVyLnJlc3VsdHMucmVzdWx0cykpXG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyLmlkID09PSBcInRocmVhZHNcIikge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyhwcm92aWRlci5yZXN1bHRzKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVTZWFyY2goe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyIHBhZ2Utc2VhcmNoLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtM1wiPlxuICAgICAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiU2VhcmNoXCIpfTwvaDE+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3Agc20tbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlYXJjaC5pc0xvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc0xvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblF1ZXJ5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00IGNvbC1tZC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VhcmNoLmlzTG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VhcmNoXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IFNlYXJjaFRocmVhZHMgZnJvbSBcIi4vdGhyZWFkc1wiXG5pbXBvcnQgU2VhcmNoVXNlcnMgZnJvbSBcIi4vdXNlcnNcIlxuXG5jb25zdCBjb21wb25lbnRzID0ge1xuICB0aHJlYWRzOiBTZWFyY2hUaHJlYWRzLFxuICB1c2VyczogU2VhcmNoVXNlcnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgIHBvc3RzOiBzdG9yZS5wb3N0cyxcbiAgICBzZWFyY2g6IHN0b3JlLnNlYXJjaCxcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyLFxuICAgIHVzZXJzOiBzdG9yZS51c2Vyc1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3ZpZGVycykge1xuICByZXR1cm4gcHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHByb3ZpZGVyLnVybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKGNvbXBvbmVudHNbcHJvdmlkZXIuaWRdKSxcbiAgICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICAgIH1cbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFNlYXJjaEZvcm0gZnJvbSBcIi4vZm9ybVwiXG5pbXBvcnQgU2lkZU5hdiBmcm9tIFwiLi9zaWRlbmF2XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zZWFyY2hcIj5cbiAgICAgIDxTZWFyY2hGb3JtIHByb3ZpZGVyPXtwcm9wcy5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTNcIj5cbiAgICAgICAgICAgIDxTaWRlTmF2IHByb3ZpZGVycz17cHJvcHMuc2VhcmNoLnByb3ZpZGVyc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG4gICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8U2VhcmNoVGltZSBwcm92aWRlcj17cHJvcHMucHJvdmlkZXJ9IHNlYXJjaD17cHJvcHMuc2VhcmNofSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWFyY2hUaW1lKHByb3BzKSB7XG4gIGxldCB0aW1lID0gbnVsbFxuICBwcm9wcy5zZWFyY2gucHJvdmlkZXJzLmZvckVhY2gocCA9PiB7XG4gICAgaWYgKHAuaWQgPT09IHByb3BzLnByb3ZpZGVyLmlkKSB7XG4gICAgICB0aW1lID0gcC50aW1lXG4gICAgfVxuICB9KVxuXG4gIGlmICh0aW1lID09PSBudWxsKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGNvcHkgPSBnZXR0ZXh0KFwiU2VhcmNoIHRvb2sgJSh0aW1lKXMgcyB0byBjb21wbGV0ZVwiKVxuXG4gIHJldHVybiAoXG4gICAgPGZvb3RlciBjbGFzc05hbWU9XCJzZWFyY2gtZm9vdGVyXCI+XG4gICAgICA8cD57aW50ZXJwb2xhdGUoY29weSwgeyB0aW1lIH0sIHRydWUpfTwvcD5cbiAgICA8L2Zvb3Rlcj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7cHJvcHMucHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpbmtcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAga2V5PXtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIHRvPXtwcm92aWRlci51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntwcm92aWRlci5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgIHtwcm92aWRlci5uYW1lfVxuICAgICAgICAgICAgPEJhZGdlIHJlc3VsdHM9e3Byb3ZpZGVyLnJlc3VsdHN9IC8+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICApXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmFkZ2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5yZXN1bHRzKSByZXR1cm4gbnVsbFxuXG4gIGxldCBjb3VudCA9IHByb3BzLnJlc3VsdHMuY291bnRcbiAgaWYgKGNvdW50ID4gMTAwMDAwMCkge1xuICAgIGNvdW50ID0gTWF0aC5jZWlsKGNvdW50IC8gMTAwMDAwMCkgKyBcIktLXCJcbiAgfSBlbHNlIGlmIChjb3VudCA+IDEwMDApIHtcbiAgICBjb3VudCA9IE1hdGguY2VpbChjb3VudCAvIDEwMDApICsgXCJLXCJcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPntjb3VudH08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTZWFyY2hQYWdlIGZyb20gXCIuLi9wYWdlXCJcbmltcG9ydCBSZXN1bHRzIGZyb20gXCIuL3Jlc3VsdHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTZWFyY2hQYWdlIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn0gc2VhcmNoPXtwcm9wcy5zZWFyY2h9PlxuICAgICAgPEJsYW5rc2xhdGUgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX0gcG9zdHM9e3Byb3BzLnBvc3RzfT5cbiAgICAgICAgPFJlc3VsdHNcbiAgICAgICAgICBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9XG4gICAgICAgICAgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX1cbiAgICAgICAgICB7Li4ucHJvcHMucG9zdHN9XG4gICAgICAgIC8+XG4gICAgICA8L0JsYW5rc2xhdGU+XG4gICAgPC9TZWFyY2hQYWdlPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCbGFua3NsYXRlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cyAmJiBwcm9wcy5wb3N0cy5jb3VudCkgcmV0dXJuIHByb3BzLmNoaWxkcmVuXG5cbiAgaWYgKHByb3BzLnF1ZXJ5Lmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdGhyZWFkcyBtYXRjaGluZyBzZWFyY2ggcXVlcnkgaGF2ZSBiZWVuIGZvdW5kLlwiKX1cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiRW50ZXIgYXQgbGVhc3QgdHdvIGNoYXJhY3RlcnMgdG8gc2VhcmNoIHRocmVhZHMuXCIpfVxuICAgIDwvcD5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUG9zdEZlZWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3QtZmVlZFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cFwiXG5pbXBvcnQge1xuICB1cGRhdGUgYXMgdXBkYXRlUG9zdHMsXG4gIGFwcGVuZCBhcyBhcHBlbmRQb3N0c1xufSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCB7IHVwZGF0ZVByb3ZpZGVyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWFyY2hcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RGZWVkIGlzUmVhZHk9e3RydWV9IHBvc3RzPXtwcm9wcy5yZXN1bHRzfSAvPlxuICAgICAgPExvYWRNb3JlIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgTG9hZE1vcmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgdXBkYXRlUG9zdHMoe1xuICAgICAgICBpc0J1c3k6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgYWpheFxuICAgICAgLmdldCh0aGlzLnByb3BzLnByb3ZpZGVyLmFwaSwge1xuICAgICAgICBxOiB0aGlzLnByb3BzLnF1ZXJ5LFxuICAgICAgICBwYWdlOiB0aGlzLnByb3BzLm5leHRcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgcHJvdmlkZXJzID0+IHtcbiAgICAgICAgICBwcm92aWRlcnMuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIuaWQgIT09IFwidGhyZWFkc1wiKSByZXR1cm5cbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZFBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKVxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHVwZGF0ZVBvc3RzKHtcbiAgICAgICAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICB1cGRhdGVQb3N0cyh7XG4gICAgICAgICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vcmUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBtb3JlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgU2VhcmNoUGFnZSBmcm9tIFwiLi4vcGFnZVwiXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZSBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9IHNlYXJjaD17cHJvcHMuc2VhcmNofT5cbiAgICAgIDxCbGFua3NsYXRlIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9IHVzZXJzPXtwcm9wcy51c2Vyc30+XG4gICAgICAgIDxVc2Vyc0xpc3QgY29scz17M30gaXNSZWFkeT17dHJ1ZX0gdXNlcnM9e3Byb3BzLnVzZXJzfSAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMudXNlcnMubGVuZ3RoKSByZXR1cm4gcHJvcHMuY2hpbGRyZW5cblxuICBpZiAocHJvcHMucXVlcnkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB1c2VycyBtYXRjaGluZyBzZWFyY2ggcXVlcnkgaGF2ZSBiZWVuIGZvdW5kLlwiKX1cbiAgICAgIDwvcD5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiRW50ZXIgYXQgbGVhc3QgdHdvIGNoYXJhY3RlcnMgdG8gc2VhcmNoIHVzZXJzLlwiKX1cbiAgICA8L3A+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENob2ljZSgpIHtcbiAgICBsZXQgY2hvaWNlID0gbnVsbFxuICAgIHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgICBjaG9pY2UgPSBpdGVtXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gY2hvaWNlXG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIHJldHVybiB0aGlzLmdldENob2ljZSgpLmljb25cbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIHJldHVybiB0aGlzLmdldENob2ljZSgpLmxhYmVsXG4gIH1cblxuICBjaGFuZ2UgPSB2YWx1ZSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1zZWxlY3QtZ3JvdXBcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2VsZWN0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzW1wiYXJpYS1kZXNjcmliZWRieVwiXSB8fCBudWxsfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgICA+XG4gICAgICAgICAgPEljb24gaWNvbj17dGhpcy5nZXRJY29uKCl9IC8+XG4gICAgICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGFuZ2UoaXRlbS52YWx1ZSl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17aXRlbS5pY29ufSAvPlxuICAgICAgICAgICAgICAgICAge2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEljb24oeyBpY29uIH0pIHtcbiAgaWYgKCFpY29uKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBTdGFydFNvY2lhbEF1dGggZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL1N0YXJ0U29jaWFsQXV0aFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gXCJtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBzaG93QWN0aXZhdGlvbjogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYm90aCBmaWVsZHMuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJBVVRIX0FQSVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIGxldCBmb3JtID0gJChcIiNoaWRkZW4tbG9naW4tZm9ybVwiKVxuXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VybmFtZVwiIC8+JylcbiAgICBmb3JtLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIC8+JylcblxuICAgIC8vIGZpbGwgb3V0IGZvcm0gd2l0aCB1c2VyIGNyZWRlbnRpYWxzIGFuZCBzdWJtaXQgaXQsIHRoaXMgd2lsbCB0ZWxsXG4gICAgLy8gTWlzYWdvIHRvIHJlZGlyZWN0IHVzZXIgYmFjayB0byByaWdodCBwYWdlLCBhbmQgd2lsbCB0cmlnZ2VyIGJyb3dzZXInc1xuICAgIC8vIGtleSByaW5nIGZlYXR1cmVcbiAgICBmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKS52YWwoYWpheC5nZXRDc3JmVG9rZW4oKSlcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnZhbCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwodGhpcy5zdGF0ZS51c2VybmFtZSlcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzd29yZFwiXScpLnZhbCh0aGlzLnN0YXRlLnBhc3N3b3JkKVxuICAgIGZvcm0uc3VibWl0KClcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jb2RlID09PSBcImluYWN0aXZlX2FkbWluXCIpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gXCJpbmFjdGl2ZV91c2VyXCIpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzaG93QWN0aXZhdGlvbjogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gXCJiYW5uZWRcIikge1xuICAgICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbilcbiAgICAgIG1vZGFsLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgZ2V0QWN0aXZhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FjdGl2YXRpb24pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1ibG9ja1wiXG4gICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJSRVFVRVNUX0FDVElWQVRJT05fVVJMXCIpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIGFjY291bnRcIil9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbSBtb2RhbC1zaWduLWluXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNpZ24gaW5cIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxTdGFydFNvY2lhbEF1dGhcbiAgICAgICAgICAgICAgICBidXR0b25MYWJlbD17Z2V0dGV4dChcIlNpZ24gaW4gd2l0aCAlKHNpdGUpc1wiKX1cbiAgICAgICAgICAgICAgICBmb3JtTGFiZWw9e2dldHRleHQoXCJPciB1c2UgeW91ciBmb3J1bSBhY2NvdW50OlwiKX1cbiAgICAgICAgICAgICAgICBsYWJlbENsYXNzTmFtZT1cInRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ1c2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJVc2VybmFtZSBvciBlLW1haWxcIil9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJwYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJQYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0QWN0aXZhdGlvbkJ1dHRvbigpfVxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIkZPUkdPVFRFTl9QQVNTV09SRF9VUkxcIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkZvcmdvdCBwYXNzd29yZD9cIil9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5jb25zdCBUWVBFU19DTEFTU0VTID0ge1xuICBpbmZvOiBcImFsZXJ0LWluZm9cIixcbiAgc3VjY2VzczogXCJhbGVydC1zdWNjZXNzXCIsXG4gIHdhcm5pbmc6IFwiYWxlcnQtd2FybmluZ1wiLFxuICBlcnJvcjogXCJhbGVydC1kYW5nZXJcIlxufVxuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRTbmFja2JhckNsYXNzKCkge1xuICAgIGxldCBzbmFja2JhckNsYXNzID0gXCJhbGVydHMtc25hY2tiYXJcIlxuICAgIGlmICh0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSBcIiBpblwiXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyQ2xhc3MgKz0gXCIgb3V0XCJcbiAgICB9XG4gICAgcmV0dXJuIHNuYWNrYmFyQ2xhc3NcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0U25hY2tiYXJDbGFzcygpfT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtcImFsZXJ0IFwiICsgVFlQRVNfQ0xBU1NFU1t0aGlzLnByb3BzLnR5cGVdfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuc25hY2tiYXJcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9oZWFkZXJcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcblxuY29uc3QgQ29tcGxldGUgPSAoeyBhY3RpdmF0aW9uLCBiYWNrZW5kX25hbWUsIHVzZXJuYW1lIH0pID0+IHtcbiAgbGV0IGljb24gPSBcIlwiXG4gIGxldCBtZXNzYWdlID0gXCJcIlxuICBpZiAoYWN0aXZhdGlvbiA9PT0gXCJ1c2VyXCIpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgeW91IG5lZWQgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIlxuICAgIClcbiAgfSBlbHNlIGlmIChhY3RpdmF0aW9uID09PSBcImFkbWluXCIpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgYm9hcmQgYWRtaW5pc3RyYXRvciB3aWxsIGhhdmUgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBhbmQgeW91IGhhdmUgYmVlbiBzaWduZWQgaW4gdG8gaXQuXCJcbiAgICApXG4gIH1cblxuICBpZiAoYWN0aXZhdGlvbiA9PT0gXCJhY3RpdmVcIikge1xuICAgIGljb24gPSBcImNoZWNrXCJcbiAgfSBlbHNlIHtcbiAgICBpY29uID0gXCJpbmZvX291dGxpbmVcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zb2NpYWwtYXV0aCBwYWdlLXNvY2lhbC1zYXV0aC1yZWdpc3RlclwiPlxuICAgICAgPEhlYWRlciBiYWNrZW5kTmFtZT17YmFja2VuZF9uYW1lfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBjb21wbGV0ZWQhXCIpfVxuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj57aWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAgICAgICAge2ludGVycG9sYXRlKG1lc3NhZ2UsIHsgdXNlcm5hbWUgfSwgdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KFwiTUlTQUdPX1BBVEhcIil9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJldHVybiB0byBmb3J1bSBpbmRleFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBsZXRlXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuY29uc3QgSGVhZGVyID0gKHsgYmFja2VuZE5hbWUgfSkgPT4ge1xuICBjb25zdCBwYWdlVGl0bGVUcGwgPSBnZXR0ZXh0KFwiU2lnbiBpbiB3aXRoICUoYmFja2VuZClzXCIpXG4gIGNvbnN0IHBhZ2VUaXRsZSA9IGludGVycG9sYXRlKHBhZ2VUaXRsZVRwbCwgeyBiYWNrZW5kOiBiYWNrZW5kTmFtZSB9LCB0cnVlKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMT57cGFnZVRpdGxlfTwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgSGVhZGVyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWdpc3RlciBmcm9tIFwiLi9yZWdpc3RlclwiXG5pbXBvcnQgQ29tcGxldGUgZnJvbSBcIi4vY29tcGxldGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NpYWxBdXRoIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzdGVwOiBwcm9wcy5zdGVwLFxuXG4gICAgICBhY3RpdmF0aW9uOiBwcm9wcy5hY3RpdmF0aW9uIHx8IFwiXCIsXG4gICAgICBlbWFpbDogcHJvcHMuZW1haWwgfHwgXCJcIixcbiAgICAgIHVzZXJuYW1lOiBwcm9wcy51c2VybmFtZSB8fCBcIlwiXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmVnaXN0cmF0aW9uQ29tcGxldGUgPSAoeyBhY3RpdmF0aW9uLCBlbWFpbCwgc3RlcCwgdXNlcm5hbWUgfSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmF0aW9uLCBlbWFpbCwgc3RlcCwgdXNlcm5hbWUgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGJhY2tlbmRfbmFtZSwgdXJsIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBhY3RpdmF0aW9uLCBlbWFpbCwgc3RlcCwgdXNlcm5hbWUgfSA9IHRoaXMuc3RhdGVcblxuICAgIGlmIChzdGVwID09PSBcInJlZ2lzdGVyXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWdpc3RlclxuICAgICAgICAgIGJhY2tlbmRfbmFtZT17YmFja2VuZF9uYW1lfVxuICAgICAgICAgIGVtYWlsPXtlbWFpbH1cbiAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgb25SZWdpc3RyYXRpb25Db21wbGV0ZT17dGhpcy5oYW5kbGVSZWdpc3RyYXRpb25Db21wbGV0ZX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBsZXRlXG4gICAgICAgIGFjdGl2YXRpb249e2FjdGl2YXRpb259XG4gICAgICAgIGJhY2tlbmRfbmFtZT17YmFja2VuZF9uYW1lfVxuICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgIHVybD17dXJsfVxuICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAvPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IFJlZ2lzdGVyTGVnYWxGb290bm90ZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvUmVnaXN0ZXJMZWdhbEZvb3Rub3RlXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gXCJtaXNhZ28vdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZ2lzdGVyIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHtcbiAgICAgIGVtYWlsOiBbdmFsaWRhdG9ycy5lbWFpbCgpXSxcbiAgICAgIHVzZXJuYW1lOiBbdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKV1cbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9JRFwiKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2UgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFRlcm1zT2ZTZXJ2aWNlKCldXG4gICAgfVxuXG4gICAgaWYgKCEhbWlzYWdvLmdldChcIlBSSVZBQ1lfUE9MSUNZX0lEXCIpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy5wcml2YWN5UG9saWN5ID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRQcml2YWN5UG9saWN5KCldXG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVtYWlsOiBwcm9wcy5lbWFpbCB8fCBcIlwiLFxuICAgICAgZW1haWxQcm90ZWN0ZWQ6ICEhcHJvcHMuZW1haWwsXG4gICAgICB1c2VybmFtZTogcHJvcHMudXNlcm5hbWUgfHwgXCJcIixcblxuICAgICAgdGVybXNPZlNlcnZpY2U6IG51bGwsXG4gICAgICBwcml2YWN5UG9saWN5OiBudWxsLFxuXG4gICAgICB2YWxpZGF0b3JzOiBmb3JtVmFsaWRhdG9ycyxcbiAgICAgIGVycm9yczoge30sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpXG4gICAgbGV0IGxlbmd0aHMgPSBbXG4gICAgICB0aGlzLnN0YXRlLmVtYWlsLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKS5sZW5ndGhcbiAgICBdXG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgeyB2YWxpZGF0b3JzIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCBjaGVja1Rlcm1zT2ZTZXJ2aWNlID0gISFtaXNhZ28uZ2V0KFwiVEVSTVNfT0ZfU0VSVklDRV9JRFwiKVxuICAgIGlmIChjaGVja1Rlcm1zT2ZTZXJ2aWNlICYmIHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UgPT09IG51bGwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2VbMF0obnVsbCkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBjaGVja1ByaXZhY3lQb2xpY3kgPSAhIW1pc2Fnby5nZXQoXCJQUklWQUNZX1BPTElDWV9JRFwiKVxuICAgIGlmIChjaGVja1ByaXZhY3lQb2xpY3kgJiYgdGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5ID09PSBudWxsKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih2YWxpZGF0b3JzLnByaXZhY3lQb2xpY3lbMF0obnVsbCkpXG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IG5lZWQgdG8gYWNjZXB0IHRoZSBwcml2YWN5IHBvbGljeS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXJsLCB7XG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgdGVybXNfb2Zfc2VydmljZTogdGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZSxcbiAgICAgIHByaXZhY3lfcG9saWN5OiB0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3lcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIGNvbnN0IHsgb25SZWdpc3RyYXRpb25Db21wbGV0ZSB9ID0gdGhpcy5wcm9wc1xuICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpXG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAvLyBXZSd2ZSBlbnRlcmVkIFwiZXJyb3JlZFwiIHN0YXRlIGJlY2F1c2UgcmVzcG9uc2UgaXMgSFRNTCBpbnN0ZWFkIG9mIGV4cHRlY3RlZCBKU09OXG4gICAgICBjb25zdCB7IG9uUmVnaXN0cmF0aW9uQ29tcGxldGUgfSA9IHRoaXMucHJvcHNcbiAgICAgIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHRoaXMuc3RhdGVcbiAgICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGUoeyBhY3RpdmF0aW9uOiBcImFjdGl2ZVwiLCBzdGVwOiBcImRvbmVcIiwgdXNlcm5hbWUgfSlcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3Qgc3RhdGVVcGRhdGUgPSB7IGVycm9yczogcmVqZWN0aW9uIH1cbiAgICAgIGlmIChyZWplY3Rpb24uZW1haWwpIHtcbiAgICAgICAgc3RhdGVVcGRhdGUuZW1haWxQcm90ZWN0ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZVVwZGF0ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWVcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUFncmVlbWVudChcInByaXZhY3lQb2xpY3lcIiwgdmFsdWUpXG4gIH1cblxuICBoYW5kbGVUZXJtc09mU2VydmljZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZVxuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KFwidGVybXNPZlNlcnZpY2VcIiwgdmFsdWUpXG4gIH1cblxuICBoYW5kbGVUb2dnbGVBZ3JlZW1lbnQgPSAoYWdyZWVtZW50LCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGlmIChwcmV2U3RhdGVbYWdyZWVtZW50XSA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH1cbiAgICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogdmFsdWUgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnN0YXRlLnZhbGlkYXRvcnNbYWdyZWVtZW50XVswXVxuICAgICAgY29uc3QgZXJyb3JzID0geyAuLi5wcmV2U3RhdGUuZXJyb3JzLCBbYWdyZWVtZW50XTogW3ZhbGlkYXRvcihudWxsKV0gfVxuICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGJhY2tlbmRfbmFtZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgZW1haWwsIGVtYWlsUHJvdGVjdGVkLCB1c2VybmFtZSwgaXNMb2FkaW5nIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBsZXQgZW1haWxIZWxwVGV4dCA9IG51bGxcbiAgICBpZiAoZW1haWxQcm90ZWN0ZWQpIHtcbiAgICAgIGNvbnN0IGVtYWlsSGVscFRleHRUcGwgPSBnZXR0ZXh0KFxuICAgICAgICBcIllvdXIgZS1tYWlsIGFkZHJlc3MgaGFzIGJlZW4gdmVyaWZpZWQgYnkgJShiYWNrZW5kKXMuXCJcbiAgICAgIClcbiAgICAgIGVtYWlsSGVscFRleHQgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgZW1haWxIZWxwVGV4dFRwbCxcbiAgICAgICAgeyBiYWNrZW5kOiBiYWNrZW5kX25hbWUgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zb2NpYWwtYXV0aCBwYWdlLXNvY2lhbC1zYXV0aC1yZWdpc3RlclwiPlxuICAgICAgICA8SGVhZGVyIGJhY2tlbmROYW1lPXtiYWNrZW5kX25hbWV9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNvbXBsZXRlIHlvdXIgZGV0YWlsc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJVc2VybmFtZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcInVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiRS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2VtYWlsSGVscFRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbFByb3RlY3RlZCA/IG51bGwgOiB0aGlzLnN0YXRlLmVycm9ycy5lbWFpbFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgfHwgZW1haWxQcm90ZWN0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJlbWFpbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPFJlZ2lzdGVyTGVnYWxGb290bm90ZVxuICAgICAgICAgICAgICAgICAgICAgIGVycm9ycz17dGhpcy5zdGF0ZS5lcnJvcnN9XG4gICAgICAgICAgICAgICAgICAgICAgcHJpdmFjeVBvbGljeT17dGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5fVxuICAgICAgICAgICAgICAgICAgICAgIHRlcm1zT2ZTZXJ2aWNlPXt0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uUHJpdmFjeVBvbGljeUNoYW5nZT17dGhpcy5oYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uVGVybXNPZlNlcnZpY2VDaGFuZ2U9e3RoaXMuaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWJyZWFkY3J1bWJzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8b2wgY2xhc3NOYW1lPVwiYnJlYWRjcnVtYiBoaWRkZW4teHNcIj5cbiAgICAgICAgICB7cHJvcHMucGF0aC5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPEJyZWFkY3J1bWIga2V5PXtpdGVtLmlkfSBub2RlPXtpdGVtfSAvPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L29sPlxuICAgICAgICA8R29CYWNrIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCcmVhZGNydW1iKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMubm9kZS51cmwuaW5kZXh9Pntwcm9wcy5ub2RlLm5hbWV9PC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFjayhwcm9wcykge1xuICBjb25zdCBsYXN0SXRlbSA9IHByb3BzLnBhdGhbcHJvcHMucGF0aC5sZW5ndGggLSAxXVxuXG4gIHJldHVybiAoXG4gICAgPGEgaHJlZj17bGFzdEl0ZW0udXJsLmluZGV4fSBjbGFzc05hbWU9XCJnby1iYWNrLXNtIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICB7bGFzdEl0ZW0ubmFtZX1cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJyZWFkY3J1bWJzIGZyb20gXCIuL2JyZWFkY3J1bWJzXCJcbmltcG9ydCB7IGlzTW9kZXJhdGlvblZpc2libGUsIE1vZGVyYXRpb25Db250cm9scyB9IGZyb20gXCIuLi9tb2RlcmF0aW9uL3RocmVhZFwiXG5pbXBvcnQgU3RhdHMgZnJvbSBcIi4vc3RhdHNcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IHsgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9yc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IHByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcInRpdGxlXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIG9uRWRpdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRWRpdGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgaXNFZGl0aW5nOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKClcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAgeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwidGl0bGVcIiwgdmFsdWU6IHRoaXMuc3RhdGUudGl0bGUgfVxuICAgIF0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKGRhdGEpKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0VkaXRpbmc6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0aHJlYWQsIHVzZXIgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9ICEhdXNlci5pZCAmJiBpc01vZGVyYXRpb25WaXNpYmxlKHRocmVhZClcblxuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCB0aXRsZS1lZGl0LWZvcm1cIj5cbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC02XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AtaGFsZiBzbS1tYXJnaW4tdG9wLW5vIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDaGFuZ2UgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHVzZXIuaWQgJiYgdGhyZWFkLmFjbC5jYW5fZWRpdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBzaG93TW9kZXJhdGlvbiA/IFwiY29sLXNtLTkgY29sLW1kLThcIiA6IFwiY29sLXNtLTEwIGNvbC1tZC0xMFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGgxPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgc2hvd01vZGVyYXRpb24gPyBcImNvbC1zbS0zIGNvbC1tZC00XCIgOiBcImNvbC1zbS0zIGNvbC1tZC0yXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93TW9kZXJhdGlvbiA/IFwiY29sLXhzLTZcIiA6IFwiY29sLXhzLTEyXCJ9PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJFZGl0IHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXNtXCI+e2dldHRleHQoXCJFZGl0XCIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtzaG93TW9kZXJhdGlvbiAmJiA8TW9kZXJhdGlvbiB7Li4udGhpcy5wcm9wc30gLz59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHNob3dNb2RlcmF0aW9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPEJyZWFkY3J1bWJzIHBhdGg9e3RocmVhZC5wYXRofSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS05IGNvbC1tZC0xMFwiPlxuICAgICAgICAgICAgICAgIDxoMT57dGhyZWFkLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICA8TW9kZXJhdGlvbiBpc1NpbmdsZT17dHJ1ZX0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgxPnt0aHJlYWQudGl0bGV9PC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5pc1NpbmdsZSA/IFwiY29sLXhzLTEyXCIgOiBcImNvbC14cy02XCJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLmlzU2luZ2xlID8gXCJcIiA6IFwiaGlkZGVuLXNtXCJ9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSBcIm1pc2Fnby91dGlscy9lc2NhcGUtaHRtbFwiXG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+J1xuY29uc3QgTEFTVF9QT1NURVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9zcGFuPidcbmNvbnN0IExBU1RfUkVQTFkgPVxuICAnPGFiYnIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+J1xuXG5leHBvcnQgZnVuY3Rpb24gV2VpZ2h0KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMSkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFya19ib3JkZXI8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKX08L3NwYW4+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWQtcG9zdHNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj57Z2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19oaWRkZW4pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1oaWRkZW5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntnZXR0ZXh0KFwiSGlkZGVuXCIpfTwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzQ2xvc2VkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+e2dldHRleHQoXCJDbG9zZWRcIil9PC9zcGFuPlxuICAgICAgPC9saT5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllcyhwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHJlcGxpZXMpcyByZXBseVwiLFxuICAgIFwiJShyZXBsaWVzKXMgcmVwbGllc1wiLFxuICAgIHByb3BzLnRocmVhZC5yZXBsaWVzXG4gIClcbiAgY29uc3QgbGVnZW5kID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeyByZXBsaWVzOiBwcm9wcy50aHJlYWQucmVwbGllcyB9LCB0cnVlKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zm9ydW08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPntsZWdlbmR9PC9zcGFuPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseShwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGxcbiAgaWYgKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoXG4gICAgICBMQVNUX1BPU1RFUl9VUkwsXG4gICAgICB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShcbiAgICAgIExBU1RfUE9TVEVSX1NQQU4sXG4gICAgICB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShcbiAgICBMQVNUX1JFUExZLFxuICAgIHtcbiAgICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KFwiTExMXCIpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpKVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGVzY2FwZUh0bWwoZ2V0dGV4dChcImxhc3QgcmVwbHkgYnkgJSh1c2VyKXMgJShkYXRlKXNcIikpLFxuICAgIHtcbiAgICAgIGRhdGUsXG4gICAgICB1c2VyXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaVxuICAgICAgY2xhc3NOYW1lPVwidGhyZWFkLWxhc3QtcmVwbHlcIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBtZXNzYWdlIH19XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8V2VpZ2h0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxVbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxJc0hpZGRlbiB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8SXNDbG9zZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPFJlcGxpZXMgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPExhc3RSZXBseSB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgRXJyb3JzTGlzdCBmcm9tIFwiLi9lcnJvcnMtbGlzdFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3ZlKHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy11bmFwcHJvdmVkXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc191bmFwcHJvdmVkOiBwb3N0LmlzX3VuYXBwcm92ZWRcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wc1xuXG4gIGNvbnN0IG9wcyA9IFt7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJpcy1wcm90ZWN0ZWRcIiwgdmFsdWU6IHRydWUgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiB0cnVlXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX3Byb3RlY3RlZDogcG9zdC5pc19wcm90ZWN0ZWRcbiAgICB9XG4gIH0pXG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnByb3RlY3QocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzXG5cbiAgY29uc3Qgb3BzID0gW3sgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImlzLXByb3RlY3RlZFwiLCB2YWx1ZTogZmFsc2UgfV1cblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IHBvc3QuaXNfcHJvdGVjdGVkXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiB0cnVlIH1dXG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihwb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIudXJsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHBvc3QuaXNfaGlkZGVuLFxuICAgICAgaGlkZGVuX29uOiBwb3N0LmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgICAgdXJsOiBwb3N0LnVybFxuICAgIH1cbiAgfSlcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHNcblxuICBjb25zdCBvcHMgPSBbeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IFwiaXMtaGlkZGVuXCIsIHZhbHVlOiBmYWxzZSB9XVxuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IGZhbHNlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKHBvc3QgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX2hpZGRlbjogcG9zdC5pc19oaWRkZW4sXG4gICAgICBoaWRkZW5fb246IHBvc3QuaGlkZGVuX29uLFxuICAgICAgaGlkZGVuX2J5X25hbWU6IHBvc3QuaGlkZGVuX2J5X25hbWUsXG4gICAgICB1cmw6IHBvc3QudXJsXG4gICAgfVxuICB9KVxuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24sIHRocmVhZCB9ID0gcHJvcHNcblxuICAvLyBwYXRjaCBzZWxlY3RlZCBpdGVtc1xuICBuZXdTdGF0ZS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIHBvc3QucGF0Y2goaXRlbSwgaXRlbSlcbiAgfSlcblxuICAvLyBkZXNlbGVjdCBhbGwgdGhlIHRoaW5nc1xuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKVxuXG4gIC8vIGNhbGwgYWpheFxuICBjb25zdCBkYXRhID0ge1xuICAgIG9wcyxcblxuICAgIGlkczogc2VsZWN0aW9uLm1hcChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmlkXG4gICAgfSlcbiAgfVxuXG4gIGFqYXgucGF0Y2godGhyZWFkLmFwaS5wb3N0cy5pbmRleCwgZGF0YSkudGhlbihcbiAgICBkYXRhID0+IHtcbiAgICAgIGRhdGEuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgIT09IDQwMCkge1xuICAgICAgICAvLyByb2xsYmFjayBhbGxcbiAgICAgICAgcHJldmlvdXNTdGF0ZS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG5cbiAgICAgIGxldCBlcnJvcnMgPSBbXVxuICAgICAgbGV0IHJvbGxiYWNrID0gW11cblxuICAgICAgcmVqZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGlmIChpdGVtLmRldGFpbCkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGl0ZW0pXG4gICAgICAgICAgcm9sbGJhY2sucHVzaChpdGVtLmlkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpXG4gICAgICAgIH1cblxuICAgICAgICBwcmV2aW91c1N0YXRlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgaWYgKHJvbGxiYWNrLmluZGV4T2YoaXRlbSkgIT09IC0xKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGxldCBwb3N0cyA9IHt9XG4gICAgICBzZWxlY3Rpb24uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgcG9zdHNbaXRlbS5pZF0gPSBpdGVtXG4gICAgICB9KVxuXG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNMaXN0IGVycm9ycz17ZXJyb3JzfSBwb3N0cz17cG9zdHN9IC8+KVxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oXG4gICAgZ2V0dGV4dChcbiAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG1lcmdlIHNlbGVjdGVkIHBvc3RzPyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIlxuICAgIClcbiAgKVxuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcChzZWxlY3Rpb24gPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KVxuICAgIClcbiAgfSlcblxuICBhamF4XG4gICAgLnBvc3QocHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tZXJnZSwge1xuICAgICAgcG9zdHM6IHByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gICAgLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBwb3N0Lmh5ZHJhdGUoZGF0YSkpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BzLnNlbGVjdGlvbi5zbGljZSgxKS5tYXAoc2VsZWN0aW9uID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKFxuICAgIGdldHRleHQoXG4gICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiXG4gICAgKVxuICApXG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24ubWFwKHNlbGVjdGlvbiA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgKVxuICB9KVxuXG4gIGNvbnN0IGlkcyA9IHByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiB7XG4gICAgcmV0dXJuIHBvc3QuaWRcbiAgfSlcblxuICBhamF4LmRlbGV0ZShwcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LCBpZHMpLnRoZW4oXG4gICAgKCkgPT4ge1xuICAgICAgcmV0dXJuXG4gICAgfSxcbiAgICByZWplY3Rpb24gPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBwcm9wcy5zZWxlY3Rpb24ubWFwKHNlbGVjdGlvbiA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgIHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgfSlcbiAgICB9XG4gIClcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gXCIuL2FjdGlvbnNcIlxuaW1wb3J0IE1vdmVNb2RhbCBmcm9tIFwiLi9tb3ZlXCJcbmltcG9ydCBTcGxpdE1vZGFsIGZyb20gXCIuL3NwbGl0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1lcmdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTcGxpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5wcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fYXBwcm92ZSAmJiBwb3N0LmlzX3VuYXBwcm92ZWRcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVyZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ubWVyZ2UodGhpcy5wcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RoID4gMSAmJlxuICAgICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tZXJnZVxuICAgICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9tZXJnZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmVcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hcnJvd19mb3J3YXJkPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BsaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmVcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jYWxsX3NwbGl0PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gIXBvc3QuaXNfcHJvdGVjdGVkICYmIHBvc3QuYWNsLmNhbl9wcm90ZWN0XG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5pc19wcm90ZWN0ZWQgJiYgcG9zdC5hY2wuY2FuX3Byb3RlY3RcbiAgICB9KVxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX29wZW48L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2hpZGUgJiYgIXBvc3QuaXNfaGlkZGVuXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZChwb3N0ID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fdW5oaWRlICYmIHBvc3QuaXNfaGlkZGVuXG4gICAgfSlcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnJlbW92ZSh0aGlzLnByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQocG9zdCA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2RlbGV0ZVxuICAgIH0pXG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBlcnJvcnMsIHBvc3RzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT25lIG9yIG1vcmUgcG9zdHMgY291bGQgbm90IGJlIGNoYW5nZWQ6XCIpfVxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtZXJyb3JlZC1pdGVtc1wiPlxuICAgICAgICAgICAge2Vycm9ycy5tYXAocG9zdCA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFBvc3RFcnJvcnNcbiAgICAgICAgICAgICAgICAgIGVycm9ycz17cG9zdC5kZXRhaWx9XG4gICAgICAgICAgICAgICAgICBrZXk9e3Bvc3QuaWR9XG4gICAgICAgICAgICAgICAgICBwb3N0PXtwb3N0c1twb3N0LmlkXX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0RXJyb3JzKHsgZXJyb3JzLCBwb3N0IH0pIHtcbiAgY29uc3QgaGVhZGluZyA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgb24gJShwb3N0ZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBwb3N0ZWRfb246IHBvc3QucG9zdGVkX29uLmZvcm1hdChcIkxMLCBMVFwiKSxcbiAgICAgIHVzZXJuYW1lOiBwb3N0LnBvc3Rlcl9uYW1lXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoNT57aGVhZGluZ306PC9oNT5cbiAgICAgIHtlcnJvcnMubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gPHAga2V5PXtpfT57ZXJyb3J9PC9wPlxuICAgICAgfSl9XG4gICAgPC9saT5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRHJvcGRvd24gZnJvbSBcIi4vZHJvcGRvd25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQgfHwgIWlzVmlzaWJsZShwcm9wcy50aHJlYWQsIHByb3BzLnBvc3RzLnJlc3VsdHMpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdGlvbiA9IHByb3BzLnBvc3RzLnJlc3VsdHMuZmlsdGVyKHBvc3QgPT4ge1xuICAgIHJldHVybiBwb3N0LmlzU2VsZWN0ZWRcbiAgfSlcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcHVwXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICBkaXNhYmxlZD17IXNlbGVjdGlvbi5sZW5ndGh9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlBvc3RzIG9wdGlvbnNcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biBzZWxlY3Rpb249e3NlbGVjdGlvbn0gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUodGhyZWFkLCBwb3N0cykge1xuICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgJiYgcG9zdHMubGVuZ3RoID4gMSkge1xuICAgIC8vIGZhc3QgdGVzdDogc2hvdyBtb2RlcmF0aW9uIG1lbnUgaWYgd2UgY2FuIG1lcmdlIHBvc3RzXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIHNsb3cgdGVzdDogc2hvdyBtb2RlcmF0aW9uIGlmIGFueSBvZiBwb3N0cyBoYXMgbW9kZXJhdGlvbiBvcHRpb25zXG4gIGxldCB2aXNpYmxlID0gZmFsc2VcbiAgcG9zdHMuZm9yRWFjaChwb3N0ID0+IHtcbiAgICBpZiAoIXBvc3QuaXNfZXZlbnQpIHtcbiAgICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID1cbiAgICAgICAgKHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZCkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgICAgICAoIXBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl9oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbW92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbWVyZ2UgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3Byb3RlY3QgfHxcbiAgICAgICAgKHBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl91bmhpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl91bnByb3RlY3RcblxuICAgICAgaWYgKHNob3dNb2RlcmF0aW9uKSB7XG4gICAgICAgIHZpc2libGUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gdmlzaWJsZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogXCJcIixcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tb3ZlLCB7XG4gICAgICBuZXdfdGhyZWFkOiB0aGlzLnN0YXRlLnVybCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAocG9zdCA9PiBwb3N0LmlkKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgcG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0cyB3ZXJlIG1vdmVkIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbClcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoXCJ1cmxcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3RzIHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHBvc3RzXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX08L2g0PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCBNb2RhbExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCBTZWxlY3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NlbGVjdFwiXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tIFwibWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSkudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcbiAgICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25Gb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbdmFsaWRhdG9ycy5yZXF1aXJlZCgpXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH1cblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJ2aXNpYmlsaXR5XCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlfb2ZmXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgaWNvbjogXCJsb2NrX291dGxpbmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgIGljb246IFwibG9ja1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfVxuICAgIF1cblxuICAgIHRoaXMuYWNsID0ge31cbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkucG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKHBvc3QgPT4gcG9zdC5pZClcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3RzIHdlcmUgc3BsaXQgaW50byBuZXcgdGhyZWFkLlwiKSlcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KVxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPilcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldiA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2VcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKVxuICB9XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgaWNvbjogXCJyZW1vdmVcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgaWNvbjogXCJib29rbWFya19ib3JkZXJcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKVxuICAgICAgfVxuICAgIF1cblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGljb246IFwiYm9va21hcmtcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXNcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIndlaWdodFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiXG4gICAgICAgICAgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICA+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfaGlkZGVuXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2Nsb3NlZFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoXCJ0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIlxuICAgICAgICAgICAgICBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RzXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvTW9kYWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3IocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHNlbGVjdGVkIHBvc3RzIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPntwcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0cyBpbnRvIG5ldyB0aHJlYWRcIil9XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBNZXJnZU1vZGFsIGZyb20gXCIuL21lcmdlXCJcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSBcIi4vbW92ZVwiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgLy8gYnkgdGhlIGNoYW5jZSB1cGRhdGUgdGhyZWFkIGFjbCB0b29cbiAgICBvcHMucHVzaCh7IG9wOiBcImFkZFwiLCBwYXRoOiBcImFjbFwiLCB2YWx1ZTogdHJ1ZSB9KVxuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbihcbiAgICAgIGRhdGEgPT4ge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKGRhdGEpKVxuICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpXG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAyXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBnbG9iYWxseS5cIilcbiAgICApXG4gIH1cblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKVxuICAgIClcbiAgfVxuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHVucGlubmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBhcHByb3ZlZC5cIilcbiAgICApXG4gIH1cblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtY2xvc2VkXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gY2xvc2VkLlwiKVxuICAgIClcbiAgfVxuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1oaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSB2aXNpYmxlLlwiKVxuICAgIClcbiAgfVxuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtaGlkZGVuXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpXG4gICAgKVxuICB9XG5cbiAgbW92ZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVNb2RhbCBwb3N0cz17dGhpcy5wcm9wcy5wb3N0c30gdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cbiAgICApXG4gIH1cblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxNZXJnZU1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KVxuICB9XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHRocmVhZD9cIikpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4KS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdGhpcy5wcm9wcy50aHJlYWQuY2F0ZWdvcnkudXJsLmluZGV4XG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSlcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDIpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluR2xvYmFsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcms8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gZ2xvYmFsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRQaW5Mb2NhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDEpIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5ib29rbWFya19ib3JkZXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gbG9jYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDApIHJldHVybiBudWxsXG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbikgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bnBpbn0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5wYW5vcmFtYV9maXNoX2V5ZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucGluXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW92ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbW92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5tb3ZlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0TWVyZ2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm1lcmdlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhbGxfbWVyZ2U8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmFwcHJvdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vcGVufSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3Blbjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9wZW5cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRDbG9zZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5jbG9zZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikgcmV0dXJuIG51bGxcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuaGlkZX0gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5PC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0SGlkZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSByZXR1cm4gbnVsbFxuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmhpZGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9kZWxldGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBNb2RlcmF0aW9uQ29udHJvbHMgZnJvbSBcIi4vY29udHJvbHNcIlxuaW1wb3J0IGlzTW9kZXJhdGlvblZpc2libGUgZnJvbSBcIi4vaXMtdmlzaWJsZVwiXG5cbmV4cG9ydCB7IE1vZGVyYXRpb25Db250cm9scywgaXNNb2RlcmF0aW9uVmlzaWJsZSB9XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0aHJlYWQpIHtcbiAgcmV0dXJuICEhKFxuICAgICh0aHJlYWQuYWNsLmNhbl9hcHByb3ZlICYmIHRocmVhZC5pc191bmFwcHJvdmVkKSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2Nsb3NlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fZGVsZXRlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5faGlkZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21vdmUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9tZXJnZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX3BpbiB8fFxuICAgICh0aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkgJiYgdGhyZWFkLndlaWdodCAhPT0gMikgfHxcbiAgICAodGhyZWFkLmFjbC5jYW5fdW5oaWRlICYmIHRocmVhZC5pc19oaWRkZW4pXG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm1cIlxuaW1wb3J0IEZvcm1Hcm91cCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cFwiXG5pbXBvcnQgTWVyZ2VDb25mbGljdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3RcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiBcIlwiLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzZW5kKCkge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkubWVyZ2UsIHtcbiAgICAgIG90aGVyX3RocmVhZDogdGhpcy5zdGF0ZS51cmxcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyA9IHN1Y2Nlc3MgPT4ge1xuICAgIHRoaXMuaGFuZGxlU3VjY2Vzc1VubW91bnRlZChzdWNjZXNzKVxuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWNjZXNzVW5tb3VudGVkID0gc3VjY2VzcyA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1lcmdlZCB3aXRoIG90aGVyIG9uZS5cIikpXG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmxcbiAgfVxuXG4gIGhhbmRsZUVycm9yID0gcmVqZWN0aW9uID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuXG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcnMgfHwgcmVqZWN0aW9uLnBvbGxzKSB7XG4gICAgICAgIG1vZGFsLnNob3coXG4gICAgICAgICAgPE1lcmdlQ29uZmxpY3RcbiAgICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy50aHJlYWQuYXBpLm1lcmdlfVxuICAgICAgICAgICAgYmVzdEFuc3dlcnM9e3JlamVjdGlvbi5iZXN0X2Fuc3dlcnN9XG4gICAgICAgICAgICBkYXRhPXt7IG90aGVyX3RocmVhZDogdGhpcy5zdGF0ZS51cmwgfX1cbiAgICAgICAgICAgIHBvbGxzPXtyZWplY3Rpb24ucG9sbHN9XG4gICAgICAgICAgICBvbkVycm9yPXt0aGlzLmhhbmRsZUVycm9yfVxuICAgICAgICAgICAgb25TdWNjZXNzPXt0aGlzLmhhbmRsZVN1Y2Nlc3NVbm1vdW50ZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXIpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmJlc3RfYW5zd2VyWzBdKVxuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9sbCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9sbFswXSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKFwidXJsXCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbWVyZ2Ugd2l0aFwiKX1cbiAgICAgICAgICAgICAgICBoZWxwX3RleHQ9e2dldHRleHQoXG4gICAgICAgICAgICAgICAgICBcIk1lcmdlIHdpbGwgZGVsZXRlIGN1cnJlbnQgdGhyZWFkIGFuZCBtb3ZlIGl0cyBjb250ZW50cyB0byB0aGUgdGhyZWFkIHNwZWNpZmllZCBoZXJlLlwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCBNb2RhbExvYWRlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyXCJcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9zdHNcIlxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldChcIlRIUkVBRF9FRElUT1JfQVBJXCIpKS50aGVuKFxuICAgICAgZGF0YSA9PiB7XG4gICAgICAgIGxldCBjYXRlZ29yeSA9IG51bGxcblxuICAgICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICAgIGlmIChpdGVtLnBvc3QgIT09IGZhbHNlICYmICFjYXRlZ29yeSkge1xuICAgICAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzUmVhZHk6IHRydWUsXG5cbiAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICBjYXRlZ29yaWVzXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpXG5cbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcImNhdGVnb3J5XCIsIHZhbHVlOiB0aGlzLnN0YXRlLmNhdGVnb3J5IH1cbiAgICBdKVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICAvLyByZWZyZXNoIHRocmVhZCBhbmQgZGlzcGxheWVkIHBvc3RzXG4gICAgYWpheFxuICAgICAgLmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIHsgcGFnZTogdGhpcy5wcm9wcy5wb3N0cy5wYWdlIH0pXG4gICAgICAudGhlbihcbiAgICAgICAgZGF0YSA9PiB7XG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlcGxhY2UoZGF0YSkpXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSlcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuXG4gICAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1vdmVkLlwiKSlcbiAgICAgICAgICBtb2RhbC5oaWRlKClcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKVxuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgKVxuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZShcImNhdGVnb3J5XCIsIGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0+XG4gICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiA8TW9kYWxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxNb2RhbExvYWRpbmcgLz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxMb2FkaW5nKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxNZXNzYWdlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgdGhpcyB0aHJlYWQgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPntwcm9wcy5tZXNzYWdlfTwvcD5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPG5hdiBjbGFzc05hbWU9XCJtaXNhZ28tcGFnaW5hdGlvbiBwdWxsLWxlZnRcIj5cbiAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgIDwvbmF2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy1wYWdpbmF0b3JcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPEZpcnN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPFByZXZpb3VzUGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPE5leHRQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TGFzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMuZmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4fVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aW91c1BhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLnBhZ2UgPiAxKSB7XG4gICAgbGV0IHByZXZpb3VzVXJsID0gXCJcIlxuICAgIGlmIChwcm9wcy5wb3N0cy5wcmV2aW91cykge1xuICAgICAgcHJldmlvdXNVcmwgPSBwcm9wcy5wb3N0cy5wcmV2aW91cyArIFwiL1wiXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV4dFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLm1vcmUpIHtcbiAgICBsZXQgbmV4dFVybCA9IFwiXCJcbiAgICBpZiAocHJvcHMucG9zdHMubmV4dCkge1xuICAgICAgbmV4dFVybCA9IHByb3BzLnBvc3RzLm5leHQgKyBcIi9cIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLmxhc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJvcHMucG9zdHMubGFzdCArIFwiL1wifVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vcmUocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsXG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIHBvc3QgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgcHJvcHMubW9yZVxuICAgIClcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeyBtb3JlOiBwcm9wcy5tb3JlIH0sIHRydWUpXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gbW9yZSBwb3N0cyBpbiB0aGlzIHRocmVhZC5cIilcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCBcImJ0biBidG4tcHJpbWFyeSBidG4tb3V0bGluZVwifVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGF0PC9zcGFuPlxuICAgICAge2dldHRleHQoXCJSZXBseVwiKX1cbiAgICA8L2J1dHRvbj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgUm91dGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZC9yb3V0ZVwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgcGFydGljaXBhbnRzOiBzdG9yZS5wYXJ0aWNpcGFudHMsXG4gICAgcG9sbDogc3RvcmUucG9sbCxcbiAgICBwb3N0czogc3RvcmUucG9zdHMsXG4gICAgdGhyZWFkOiBzdG9yZS50aHJlYWQsXG4gICAgdGljazogc3RvcmUudGljay50aWNrLFxuICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlclxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgY29uc3QgdGhyZWFkID0gbWlzYWdvLmdldChcIlRIUkVBRFwiKVxuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZShcbiAgICB0aHJlYWQuc2x1ZyArIFwiLVwiICsgdGhyZWFkLnBrLFxuICAgIFwiOnNsdWdcIlxuICApXG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyBcIjpwYWdlL1wiLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUm91dGUpXG4gICAgfVxuICBdXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBQYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhcnRpY2lwYW50c1wiXG5pbXBvcnQgeyBQb2xsIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BvbGxcIlxuaW1wb3J0IFBvc3RzTGlzdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdFwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL2hlYWRlclwiXG5pbXBvcnQgVG9vbGJhclRvcCBmcm9tIFwiLi90b29sYmFyLXRvcFwiXG5pbXBvcnQgVG9vbGJhckJvdHRvbSBmcm9tIFwiLi90b29sYmFyLWJvdHRvbVwiXG5pbXBvcnQgKiBhcyBwYXJ0aWNpcGFudHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHNcIlxuaW1wb3J0ICogYXMgcG9sbCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3BvbGxcIlxuaW1wb3J0ICogYXMgcG9zdHMgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wb3N0c1wiXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKVxuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nQXBpKClcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRGZXRjaERhdGEoKSkge1xuICAgICAgdGhpcy5mZXRjaERhdGEoKVxuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKVxuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RvcFBvbGxpbmdBcGkoKVxuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxXG4gICAgICByZXR1cm4gcGFnZSAhPSB0aGlzLnByb3BzLnBvc3RzLnBhZ2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKVxuXG4gICAgYWpheFxuICAgICAgLmdldChcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LFxuICAgICAgICB7XG4gICAgICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zdHNcIlxuICAgICAgKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMudXBkYXRlKGRhdGEpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBzdGFydFBvbGxpbmdBcGkoKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJ0aHJlYWQtcG9zdHNcIixcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgc3RvcFBvbGxpbmdBcGkoKSB7XG4gICAgcG9sbHMuc3RvcChcInRocmVhZC1wb3N0c1wiKVxuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5Lm5hbWUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlID0gZGF0YSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlcGxhY2UoZGF0YSkpXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSlcblxuICAgIGlmIChkYXRhLnBhcnRpY2lwYW50cykge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKVxuICAgIH1cblxuICAgIGlmIChkYXRhLnBvbGwpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhLnBvbGwpKVxuICAgIH1cblxuICAgIHRoaXMuc2V0UGFnZVRpdGxlKClcbiAgfVxuXG4gIG9wZW5SZXBseUZvcm0gPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6IFwiUkVQTFlcIixcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXhcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBcInBhZ2UgcGFnZS10aHJlYWRcIlxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBwYWdlLXRocmVhZC1cIiArIHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmNzc19jbGFzc1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxIZWFkZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxUb29sYmFyVG9wIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFBvbGxcbiAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8UGFydGljaXBhbnRzXG4gICAgICAgICAgICBwYXJ0aWNpcGFudHM9e3RoaXMucHJvcHMucGFydGljaXBhbnRzfVxuICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxQb3N0c0xpc3Qgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFRvb2xiYXJCb3R0b20gb3BlblJlcGx5Rm9ybT17dGhpcy5vcGVuUmVwbHlGb3JtfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3RocmVhZFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge2dldEljb24ocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAge2dldExhYmVsKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8RHJvcGRvd24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIFwic3RhclwiXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBcInN0YXJfaGFsZlwiXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwic3Rhcl9ib3JkZXJcIlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbChzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRS1tYWlsXCIpXG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRW5hYmxlZFwiKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRGlzYWJsZWRcIilcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRHJvcGRvd24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPXtwcm9wcy5kcm9wZG93bkNsYXNzTmFtZSB8fCBcImRyb3Bkb3duLW1lbnUgc3RpY2stdG8tYm90dG9tXCJ9PlxuICAgICAgPERpc2FibGUgey4uLnByb3BzfSAvPlxuICAgICAgPEVuYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW1haWwgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIERpc2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgbnVsbCwgXCJ1bnN1YnNjcmliZVwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9ib3JkZXI8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW5hYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBmYWxzZSwgXCJub3RpZnlcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJfaGFsZjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1haWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgdHJ1ZSwgXCJlbWFpbFwiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcjwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHRocmVhZCwgbmV3U3RhdGUsIHZhbHVlKSB7XG4gIGNvbnN0IG9sZFN0YXRlID0ge1xuICAgIHN1YnNjcmlwdGlvbjogdGhyZWFkLnN1YnNjcmlwdGlvblxuICB9XG5cbiAgc3RvcmUuZGlzcGF0Y2goXG4gICAgYWN0aW9ucy51cGRhdGUoe1xuICAgICAgc3Vic2NyaXB0aW9uOiBuZXdTdGF0ZVxuICAgIH0pXG4gIClcblxuICBhamF4XG4gICAgLnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcInN1YnNjcmlwdGlvblwiLCB2YWx1ZTogdmFsdWUgfVxuICAgIF0pXG4gICAgLnRoZW4oXG4gICAgICBmaW5hbFN0YXRlID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy51cGRhdGUoZmluYWxTdGF0ZSkpXG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy51cGRhdGUob2xkU3RhdGUpKVxuICAgICAgfVxuICAgIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgUGFnZXIsIE1vcmUgfSBmcm9tIFwiLi9wYWdpbmF0b3JcIlxuaW1wb3J0IFBvc3RzTW9kZXJhdGlvbiBmcm9tIFwiLi9tb2RlcmF0aW9uL3Bvc3RzXCJcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tIFwiLi9yZXBseS1idXR0b25cIlxuaW1wb3J0IFN1YnNjcmlwdGlvblN3aXRjaCBmcm9tIFwiLi9zdWJzY3JpcHRpb25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiB0ZXh0LWNlbnRlciB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci12ZXJ0aWNhbC1zcGFjZXJcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBjb2wtbWQtNVwiPlxuICAgICAgICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC03IGhpZGRlbi14c1wiPlxuICAgICAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxPcHRpb25zIHZpc2libGU9eyEhcHJvcHMudXNlci5pZH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci12ZXJ0aWNhbC1zcGFjZXIgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPFNwYWNlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPE1vZGVyYXRpb24gey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxTdWJzY3JpcHRpb24gey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxSZXBseSB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L09wdGlvbnM+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52aXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC01XCI+e3Byb3BzLmNoaWxkcmVufTwvZGl2PlxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiPlxuICAgICAgPFBvc3RzTW9kZXJhdGlvbiB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihwcm9wcykge1xuICBsZXQgeHNDbGFzcyA9IFwiY29sLXhzLTZcIlxuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgeHNDbGFzcyA9IFwiY29sLXhzLTEyXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3hzQ2xhc3MgKyBcIiBjb2wtc20tNFwifT5cbiAgICAgIDxTdWJzY3JpcHRpb25Td2l0Y2hcbiAgICAgICAgYnRuQ2xhc3NOYW1lPVwiYnRuLWJsb2NrXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcHVwXCJcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbHkocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTYgY29sLXNtLTRcIj5cbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNwYWNlcihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbSBjb2wtc20tNFwiIC8+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tIFwiLi9yZXBseS1idXR0b25cIlxuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tIFwiLi9zdWJzY3JpcHRpb25cIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgaGlkZGVuU3BlY2lhbE9wdGlvbiA9XG4gICAgIXByb3BzLnRocmVhZC5hY2wuY2FuX3N0YXJ0X3BvbGwgfHwgcHJvcHMudGhyZWFkLnBvbGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyIHJvdy10b29sYmFyLWJvdHRvbS1tYXJnaW5cIj5cbiAgICAgIDxHb3RvTWVudSB7Li4ucHJvcHN9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1tZC01IGNvbC1tZC1vZmZzZXQtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxTcGFjZXIgdmlzaWJsZT17IXByb3BzLnVzZXIuaWR9IC8+XG4gICAgICAgICAgPFNwYWNlciB2aXNpYmxlPXtoaWRkZW5TcGVjaWFsT3B0aW9ufSAvPlxuICAgICAgICAgIDxTdWJzY3JpcHRpb25NZW51IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8U3RhcnRQb2xsIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTWVudShwcm9wcykge1xuICBjb25zdCB7IHVzZXIgfSA9IHByb3BzXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTVcIlxuICBpZiAodXNlci5pc19hbm9ueW1vdXMpIHtcbiAgICBjbGFzc05hbWUgPSBcImNvbC14cy0xMiBjb2wtc20tMyBjb2wtbWQtNVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICA8R290b0xhc3QgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvTmV3IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b0Jlc3RBbnN3ZXIgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvVW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPENvbXBhY3RPcHRpb25zIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b05ldyhwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5pc19uZXcpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBuZXcgcG9zdFwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9CZXN0QW5zd2VyKHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gYmVzdCBhbnN3ZXJcIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiQmVzdCBhbnN3ZXJcIil9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9VbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzIHx8ICFwcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHVuYXBwcm92ZWQgcG9zdFwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTGFzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTRcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBvc3RcIil9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGFzdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE9wdGlvbnMocHJvcHMpIHtcbiAgY29uc3QgeyB1c2VyIH0gPSBwcm9wc1xuICBpZiAodXNlci5pc19hbm9ueW1vdXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWJsb2NrIHZpc2libGUtc20tYmxvY2tcIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTGFzdCBwb3N0XCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gdmlzaWJsZS14cy1ibG9jayB2aXNpYmxlLXNtLWJsb2NrXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmV4cGFuZF9tb3JlPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dCBoaWRkZW4teHNcIj57Z2V0dGV4dChcIk9wdGlvbnNcIil9PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICA8U3RhcnRQb2xsQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvTmV3Q29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvVW5hcHByb3ZlZENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgICA8R290b0xhc3RDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9OZXdDb21wYWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubmV3X3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvIGZpcnN0IG5ldyBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9VbmFwcHJvdmVkQ29tcGFjdChwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyB8fCAhcHJvcHMudGhyZWFkLmFjbC5jYW5fYXBwcm92ZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLnRocmVhZC51cmwudW5hcHByb3ZlZF9wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBmaXJzdCB1bmFwcHJvdmVkIHBvc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0xhc3RDb21wYWN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvIGxhc3QgcG9zdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN1YnNjcmlwdGlvbk1lbnUocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLmlkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTRcIj5cbiAgICAgIDxTdWJzY3JpcHRpb25cbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25cIlxuICAgICAgICBkcm9wZG93bkNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBTdGFydFBvbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiBcIlBPTExcIixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiBudWxsXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvbGw8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgcG9sbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXJ0UG9sbENvbXBhY3QgZXh0ZW5kcyBTdGFydFBvbGwge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3N0YXJ0X3BvbGwgfHwgdGhpcy5wcm9wcy50aHJlYWQucG9sbCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30gdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBvbGxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNwYWNlcihwcm9wcykge1xuICBpZiAoIXByb3BzLnZpc2libGUpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCIgLz5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IExpc3RFbXB0eSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHlcIlxuaW1wb3J0IExpc3RSZWFkeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHlcIlxuaW1wb3J0IExpc3RQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5pc0xvYWRlZCkge1xuICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz5cbiAgfVxuXG4gIGlmIChwcm9wcy50aHJlYWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlzdEVtcHR5IGRpZmZTaXplPXtwcm9wcy5kaWZmU2l6ZX0gYXBwbHlEaWZmPXtwcm9wcy5hcHBseURpZmZ9PlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L0xpc3RFbXB0eT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxMaXN0UmVhZHlcbiAgICAgIGFjdGl2ZUNhdGVnb3J5PXtwcm9wcy5jYXRlZ29yeX1cbiAgICAgIGNhdGVnb3JpZXM9e3Byb3BzLmNhdGVnb3JpZXN9XG4gICAgICBsaXN0PXtwcm9wcy5saXN0fVxuICAgICAgdGhyZWFkcz17cHJvcHMudGhyZWFkc31cbiAgICAgIGRpZmZTaXplPXtwcm9wcy5kaWZmU2l6ZX1cbiAgICAgIGFwcGx5RGlmZj17cHJvcHMuYXBwbHlEaWZmfVxuICAgICAgc2hvd09wdGlvbnM9e3Byb3BzLnNob3dPcHRpb25zfVxuICAgICAgc2VsZWN0aW9uPXtwcm9wcy5zZWxlY3Rpb259XG4gICAgICBidXN5VGhyZWFkcz17cHJvcHMuYnVzeVRocmVhZHN9XG4gICAgLz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHsgYXBwbHlEaWZmLCBkaWZmU2l6ZSB9ID0gcHJvcHNcbiAgaWYgKGRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSB0aHJlYWRzLWRpZmYtbWVzc2FnZVwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdFwiXG4gICAgICAgIG9uQ2xpY2s9e2FwcGx5RGlmZn1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNhY2hlZDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGlmZi1tZXNzYWdlXCI+e2dldE1lc3NhZ2UoZGlmZlNpemUpfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lc3NhZ2UoZGlmZlNpemUpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiVGhlcmUgaXMgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkLiBDbGljayB0aGlzIG1lc3NhZ2UgdG8gc2hvdyBpdC5cIixcbiAgICBcIlRoZXJlIGFyZSAlKHRocmVhZHMpcyBuZXcgb3IgdXBkYXRlZCB0aHJlYWRzLiBDbGljayB0aGlzIG1lc3NhZ2UgdG8gc2hvdyB0aGVtLlwiLFxuICAgIGRpZmZTaXplXG4gIClcblxuICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgbWVzc2FnZSxcbiAgICB7XG4gICAgICB0aHJlYWRzOiBkaWZmU2l6ZVxuICAgIH0sXG4gICAgdHJ1ZVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXREaWZmTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaWZmU2l6ZSA9PT0gMCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8RGlmZk1lc3NhZ2VcbiAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn1cbiAgICAgICAgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBUaHJlYWRQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxUaHJlYWRQcmV2aWV3IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2VcIlxuaW1wb3J0IFRocmVhZCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxEaWZmTWVzc2FnZSBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9IGFwcGx5RGlmZj17cHJvcHMuYXBwbHlEaWZmfSAvPlxuICAgICAgICB7cHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRocmVhZFxuICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuYWN0aXZlQ2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3Byb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICBzaG93T3B0aW9ucz17cHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQ9e3Byb3BzLnNlbGVjdGlvbi5pbmRleE9mKHRocmVhZC5pZCkgPj0gMH1cbiAgICAgICAgICAgICAgaXNCdXN5PXtwcm9wcy5idXN5VGhyZWFkcy5pbmRleE9mKHRocmVhZC5pZCkgPj0gMH1cbiAgICAgICAgICAgICAga2V5PXt0aHJlYWQuaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9jYXRlZ29yeVwiXG5pbXBvcnQgeyBPcHRpb25zWHMgfSBmcm9tIFwiLi4vb3B0aW9uc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIGlzQnVzeSwgc2hvd09wdGlvbnMsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGxldCBjbGFzc05hbWUgPSBcImNvbC14cy0xMiBjb2wtc20tMTJcIlxuICBpZiAoc2hvd09wdGlvbnMpIHtcbiAgICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgPSBcImNvbC14cy02IGNvbC1zbS0xMlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IFwiY29sLXhzLTkgY29sLXNtLTEyXCJcbiAgICB9XG4gIH1cblxuICBsZXQgc3RhdHVzRmxhZ3MgPSAwXG4gIGlmICh0aHJlYWQuaXNfaGlkZGVuKSBzdGF0dXNGbGFncyArPSAxXG4gIGlmICh0aHJlYWQuaXNfY2xvc2VkKSBzdGF0dXNGbGFncyArPSAxXG4gIGlmICh0aHJlYWQuaGFzX3BvbGwpIHN0YXR1c0ZsYWdzICs9IDFcblxuICBsZXQgYWxsRmxhZ3NWaXNpYmxlID0gc2hvd09wdGlvbnMgJiYgc3RhdHVzRmxhZ3MgPT09IDNcblxuICBsZXQgdGV4dENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgaGlkZGVuLXhzXCJcbiAgaWYgKGFsbEZsYWdzVmlzaWJsZSkge1xuICAgIHRleHRDbGFzc05hbWUgKz0gXCIgaGlkZGVuLXNtXCJcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGhyZWFkLWRldGFpbHMtYm90dG9tXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPENhdGVnb3J5XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtZGV0YWlsLWNhdGVnb3J5IGhpZGRlbi14c1wiXG4gICAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgICAvPlxuICAgICAgICA8SGlkZGVuTGFiZWwgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0gZGlzcGxheT17dGhyZWFkLmlzX2hpZGRlbn0gLz5cbiAgICAgICAgPENsb3NlZExhYmVsIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9IGRpc3BsYXk9e3RocmVhZC5pc19jbG9zZWR9IC8+XG4gICAgICAgIDxQb2xsTGFiZWwgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0gZGlzcGxheT17dGhyZWFkLmhhc19wb2xsfSAvPlxuICAgICAgICA8QmVzdEFuc3dlckxhYmVsIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8UmVwbGllc0xhYmVsXG4gICAgICAgICAgZm9yY2VGdWxsVGV4dD17IXNob3dPcHRpb25zIHx8IHN0YXR1c0ZsYWdzIDwgMn1cbiAgICAgICAgICByZXBsaWVzPXt0aHJlYWQucmVwbGllc31cbiAgICAgICAgLz5cbiAgICAgICAgPExhc3RSZXBseUxhYmVsXG4gICAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgLz5cbiAgICAgICAgPExhc3RQb3N0ZXJcbiAgICAgICAgICBwb3N0ZXJOYW1lPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxPcHRpb25zWHNcbiAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgZGlzcGxheT17c2hvd09wdGlvbnN9XG4gICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1oaWRkZW5cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGV4dENsYXNzTmFtZX0+e2dldHRleHQoXCJIaWRkZW5cIil9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2xvc2VkTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1jbG9zZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PntnZXR0ZXh0KFwiQ2xvc2VkXCIpfTwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxMYWJlbCh7IGRpc3BsYXksIHRleHRDbGFzc05hbWUgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLXBvbGxcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5hc3Nlc3NtZW50PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfT57Z2V0dGV4dChcIlBvbGxcIil9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVzdEFuc3dlckxhYmVsKHsgdGhyZWFkIH0pIHtcbiAgaWYgKCF0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1hbnN3ZXJlZFwiXG4gICAgICBocmVmPXt0aHJlYWQudXJsLmJlc3RfYW5zd2VyfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBsaWVzTGFiZWwoeyByZXBsaWVzLCBmb3JjZUZ1bGxUZXh0IH0pIHtcbiAgY29uc3QgdGV4dCA9IG5nZXR0ZXh0KFwiJShyZXBsaWVzKXMgcmVwbHlcIiwgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsIHJlcGxpZXMpXG5cbiAgbGV0IGNvbXBhY3RDbGFzc05hbWUgPSBcIlwiXG4gIGxldCBmdWxsQ2xhc3NOYW1lID0gXCJcIlxuXG4gIGlmIChmb3JjZUZ1bGxUZXh0KSB7XG4gICAgY29tcGFjdENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHQgaGlkZVwiXG4gICAgZnVsbENsYXNzTmFtZSA9IFwiZGV0YWlsLXRleHRcIlxuICB9IGVsc2Uge1xuICAgIGNvbXBhY3RDbGFzc05hbWUgPSBcImRldGFpbC10ZXh0IHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICBmdWxsQ2xhc3NOYW1lID0gXCJkZXRhaWwtdGV4dCBoaWRkZW4teHNcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mb3J1bTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y29tcGFjdENsYXNzTmFtZX0+e3JlcGxpZXN9PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtmdWxsQ2xhc3NOYW1lfT5cbiAgICAgICAge2ludGVycG9sYXRlKHRleHQsIHsgcmVwbGllcyB9LCB0cnVlKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseUxhYmVsKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUtc20taW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtbGFzdC1yZXBseVwiXG4gICAgICBocmVmPXt1cmx9XG4gICAgICB0aXRsZT17ZGF0ZXRpbWUuZm9ybWF0KFwiTExMXCIpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NOYW1lID0gXCJ2aXNpYmxlLXNtLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT57cG9zdGVyTmFtZX08L3NwYW4+XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSwgY2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFjYXRlZ29yeSkgcmV0dXJuIG51bGxcblxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIHRocmVhZC1kZXRhaWwtY2F0ZWdvcnktXCIgKyBjYXRlZ29yeS5jc3NfY2xhc3NcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e2NhdGVnb3J5LnVybC5pbmRleH0+XG4gICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICA8L2E+XG4gIClcbn1cbiIsImltcG9ydCBCb3R0b21EZXRhaWxzIGZyb20gXCIuL2JvdHRvbVwiXG5pbXBvcnQgVG9wRGV0YWlscyBmcm9tIFwiLi90b3BcIlxuXG5leHBvcnQgeyBCb3R0b21EZXRhaWxzIH1cbmV4cG9ydCB7IFRvcERldGFpbHMgfVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSBcIi4vY2F0ZWdvcnlcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtdG9wXCI+XG4gICAgICA8TmV3TGFiZWwgaXNSZWFkPXt0aHJlYWQuaXNfcmVhZH0gdXJsPXt0aHJlYWQudXJsLm5ld19wb3N0fSAvPlxuICAgICAgPFBpbm5lZExhYmVsIHdlaWdodD17dGhyZWFkLndlaWdodH0gLz5cbiAgICAgIDxVbmFwcHJvdmVkTGFiZWxcbiAgICAgICAgdGhyZWFkPXt0aHJlYWQuaXNfdW5hcHByb3ZlZH1cbiAgICAgICAgcG9zdHM9e3RocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0c31cbiAgICAgIC8+XG4gICAgICA8QmVzdEFuc3dlckxhYmVsIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENhdGVnb3J5XG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgIC8+XG4gICAgICA8TGFzdFJlcGx5TGFiZWxcbiAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAvPlxuICAgICAgPExhc3RQb3N0ZXJcbiAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5ld0xhYmVsKHsgaXNSZWFkLCB1cmwgfSkge1xuICBpZiAoaXNSZWFkKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1uZXdcIiBocmVmPXt1cmx9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNvbW1lbnQ8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPntnZXR0ZXh0KFwiTmV3IHBvc3RzXCIpfTwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBpbm5lZExhYmVsKHsgd2VpZ2h0IH0pIHtcbiAgaWYgKHdlaWdodCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtZGV0YWlsLXBpbm5lZC1nbG9iYWxseVwiXG4gIGxldCBpY29uID0gXCJib29rbWFya1wiXG4gIGxldCB0ZXh0ID0gZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKVxuXG4gIGlmICh3ZWlnaHQgPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSBcInRocmVhZC1kZXRhaWwtcGlubmVkLWxvY2FsbHlcIlxuICAgIGljb24gPSBcImJvb2ttYXJrX2JvcmRlclwiXG4gICAgdGV4dCA9IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e2ljb259PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj57dGV4dH08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkTGFiZWwoeyBwb3N0cywgdGhyZWFkIH0pIHtcbiAgaWYgKCFwb3N0cyAmJiAhdGhyZWFkKSByZXR1cm4gbnVsbFxuXG4gIGxldCBjbGFzc05hbWUgPSBcInRocmVhZC1kZXRhaWwtdW5hcHByb3ZlZC1wb3N0c1wiXG4gIGxldCBpY29uID0gXCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICBsZXQgdGV4dCA9IGdldHRleHQoXCJVbmFwcHJvdmVkIHBvc3RzXCIpXG5cbiAgaWYgKHRocmVhZCkge1xuICAgIGNsYXNzTmFtZSA9IFwidGhyZWFkLWRldGFpbC11bmFwcHJvdmVkXCJcbiAgICBpY29uID0gXCJyZW1vdmVfY2lyY2xlXCJcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIlVuYXBwcm92ZWRcIilcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPntpY29ufTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+e3RleHR9PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVzdEFuc3dlckxhYmVsKHsgdGhyZWFkIH0pIHtcbiAgaWYgKCF0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIHRocmVhZC1kZXRhaWwtYW5zd2VyZWRcIlxuICAgICAgaHJlZj17dGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj57Z2V0dGV4dChcIkFuc3dlcmVkXCIpfTwvc3Bhbj5cbiAgICA8L2E+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseUxhYmVsKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtbGFzdC1yZXBseVwiXG4gICAgICBocmVmPXt1cmx9XG4gICAgICB0aXRsZT17ZGF0ZXRpbWUuZm9ybWF0KFwiTExMXCIpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHNcblxuICBpZiAodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIGl0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCJcbiAgICAgICAgaHJlZj17dXJsfVxuICAgICAgPlxuICAgICAgICB7cG9zdGVyTmFtZX1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIGl0ZW0tdGl0bGUgdGhyZWFkLWxhc3QtcG9zdGVyXCI+XG4gICAgICB7cG9zdGVyTmFtZX1cbiAgICA8L3NwYW4+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEF2YXRhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyXCJcbmltcG9ydCBVc2VyVXJsIGZyb20gXCIuL3VzZXItdXJsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyB0aHJlYWQgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8VXNlclVybFxuICAgICAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgIHRpdGxlPXt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgICB1cmw9e3RocmVhZC51cmwubGFzdF9wb3N0ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgICB1c2VyPXt0aHJlYWQubGFzdF9wb3N0ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICA+XG4gICAgICAgICAge3RocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lfVxuICAgICAgICA8L1VzZXJVcmw+XG4gICAgICAgIDxUaW1lc3RhbXAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259IHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZXN0YW1wKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGEgY2xhc3NOYW1lPVwidGhyZWFkLWxhc3QtcmVwbHlcIiBocmVmPXt1cmx9IHRpdGxlPXtkYXRldGltZS5mb3JtYXQoXCJMTExcIil9PlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25Db21wYWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9jb21wYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsXCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zKHsgZGlzcGxheSwgZGlzYWJsZWQsIGlzU2VsZWN0ZWQsIHRocmVhZCB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGxcblxuICBsZXQgY2xhc3NOYW1lID0gXCJjb2wtc20tMiBjb2wtbWQtMiBoaWRkZW4teHNcIlxuICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgY2xhc3NOYW1lID0gXCJjb2wtc20tMyBjb2wtbWQtMiBoaWRkZW4teHNcIlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1vcHRpb25zXCI+XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsIHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxTdWJzY3JpcHRpb25Db21wYWN0IHRocmVhZD17dGhyZWFkfSBkaXNhYmxlZD17ZGlzYWJsZWR9IC8+XG4gICAgICAgIDxDaGVja2JveCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnNYcyh7IGRpc3BsYXksIGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsXG5cbiAgbGV0IGNsYXNzTmFtZSA9IFwiXCJcbiAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy02XCJcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtM1wiXG4gIH1cbiAgY2xhc3NOYW1lICs9IFwiIHZpc2libGUteHMtYmxvY2sgdGhyZWFkLW9wdGlvbnMteHNcIlxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtb3B0aW9uc1wiPlxuICAgICAgICA8U3Vic2NyaXB0aW9uRnVsbCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdCB0aHJlYWQ9e3RocmVhZH0gZGlzYWJsZWQ9e2Rpc2FibGVkfSAvPlxuICAgICAgICA8Q2hlY2tib3ggdGhyZWFkPXt0aHJlYWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gaXNTZWxlY3RlZD17aXNTZWxlY3RlZH0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja2JveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHRvZ2dsZVNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuaXRlbSh0aGlzLnByb3BzLnRocmVhZC5pZCkpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAoIXRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdGlvbn1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7aXNTZWxlY3RlZCA/IFwiY2hlY2tfYm94XCIgOiBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSB0aHJlYWQtcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLXRvcCB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtYm90dG9tXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IHsgQm90dG9tRGV0YWlscywgVG9wRGV0YWlscyB9IGZyb20gXCIuL2RldGFpbHNcIlxuaW1wb3J0IExhc3RBY3Rpb24gZnJvbSBcIi4vbGFzdC1hY3Rpb25cIlxuaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gXCIuL29wdGlvbnNcIlxuaW1wb3J0IFVzZXJVcmwgZnJvbSBcIi4vdXNlci11cmxcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgYWN0aXZlQ2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllcyxcbiAgICBsaXN0LFxuICAgIHRocmVhZCxcblxuICAgIGlzQnVzeSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHNob3dPcHRpb25zXG4gIH0gPSBwcm9wc1xuXG4gIGxldCBjYXRlZ29yeSA9IG51bGxcbiAgaWYgKGFjdGl2ZUNhdGVnb3J5LmlkICE9PSB0aHJlYWQuY2F0ZWdvcnkpIHtcbiAgICBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbdGhyZWFkLmNhdGVnb3J5XVxuICB9XG5cbiAgY29uc3QgZmxhdm9yID0gY2F0ZWdvcnkgfHwgYWN0aXZlQ2F0ZWdvcnlcblxuICBsZXQgY2xhc3NOYW1lID0gXCJ0aHJlYWQtbWFpbiBjb2wteHMtMTJcIlxuICBpZiAoc2hvd09wdGlvbnMpIHtcbiAgICBpZiAodGhyZWFkLm1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTkgY29sLW1kLTdcIlxuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCIgY29sLXNtLTEwIGNvbC1tZC03XCJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIGNvbC1zbS0xMiBjb2wtbWQtOVwiXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aHJlYWQuaXNfcmVhZCwgaXNCdXN5LCBpc1NlbGVjdGVkLCBmbGF2b3IpfT5cbiAgICAgIDxUb3BEZXRhaWxzIGNhdGVnb3J5PXtjYXRlZ29yeX0gdGhyZWFkPXt0aHJlYWR9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtcm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdCBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtc3RhcnRlci1hdmF0YXJcIlxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aHJlYWQuc3RhcnRlcl9uYW1lfVxuICAgICAgICAgICAgICAgIHVybD17dGhyZWFkLnVybC5zdGFydGVyfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPXs0MH0gdXNlcj17dGhyZWFkLnN0YXJ0ZXJ9IC8+XG4gICAgICAgICAgICAgIDwvVXNlclVybD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RocmVhZC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAge3RocmVhZC50aXRsZX1cbiAgICAgICAgICAgICAgPC9hPlxuXG4gICAgICAgICAgICAgIDxCb3R0b21EZXRhaWxzXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17c2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbSB0aHJlYWQtbGFzdC1hY3Rpb25cIj5cbiAgICAgICAgICA8TGFzdEFjdGlvbiB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICBkaXNwbGF5PXtzaG93T3B0aW9uc31cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGlzUmVhZCwgaXNCdXN5LCBpc1NlbGVjdGVkLCBmbGF2b3IpIHtcbiAgbGV0IHN0eWxlcyA9IFtcImxpc3QtZ3JvdXAtaXRlbVwiXVxuXG4gIGlmIChmbGF2b3IgJiYgZmxhdm9yLmNzc19jbGFzcykge1xuICAgIHN0eWxlcy5wdXNoKFwibGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yXCIpXG4gICAgc3R5bGVzLnB1c2goXCJsaXN0LWdyb3VwLWl0ZW0tY2F0ZWdvcnktXCIgKyBmbGF2b3IuY3NzX2NsYXNzKVxuICB9XG5cbiAgaWYgKGlzUmVhZCkge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLXJlYWRcIilcbiAgfSBlbHNlIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1uZXdcIilcbiAgfVxuXG4gIGlmIChpc0J1c3kpIHtcbiAgICBzdHlsZXMucHVzaChcInRocmVhZC1idXN5XCIpXG4gIH0gZWxzZSBpZiAoaXNTZWxlY3RlZCkge1xuICAgIHN0eWxlcy5wdXNoKFwidGhyZWFkLXNlbGVjdGVkXCIpXG4gIH1cblxuICByZXR1cm4gc3R5bGVzLmpvaW4oXCIgXCIpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsXCJcbmltcG9ydCBPcHRpb25zTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL21vZGFsXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBTdWJzY3JpcHRpb25GdWxsIHtcbiAgc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyg8T3B0aW9uc01vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiB9ID0gdGhpcy5wcm9wcy50aHJlYWRcblxuICAgIGxldCBjbGFzc05hbWUgPSBcIlwiXG4gICAgaWYgKG1vZGVyYXRpb24ubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWUgKz0gXCJjb2wteHMtNlwiXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcImNvbC14cy0xMlwiXG4gICAgfVxuICAgIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4tbWQgaGlkZGVuLWxnXCJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dPcHRpb25zfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBPcHRpb25zIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9vcHRpb25zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBcInN0YXJcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwic3Rhcl9oYWxmXCJcbiAgICB9XG5cbiAgICByZXR1cm4gXCJzdGFyX2JvcmRlclwiXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtZnVsbCBkcm9wZG93bi10b2dnbGVcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtaGFsZiBkcm9wZG93bi10b2dnbGVcIlxuICAgIH1cblxuICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2sgYnRuLXN1YnNjcmliZSBkcm9wZG93bi10b2dnbGVcIlxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0gPSB0aGlzLnByb3BzLnRocmVhZFxuICAgIGNvbnN0IGZ1bGx3aWR0aCA9ICFtb2RlcmF0aW9uLmxlbmd0aFxuXG4gICAgbGV0IGNsYXNzTmFtZSA9IGZ1bGx3aWR0aCA/IFwiY29sLXhzLTEyXCIgOiBcImNvbC14cy02XCJcbiAgICBjbGFzc05hbWUgKz0gXCIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnt0aGlzLmdldEljb24oKX08L3NwYW4+XG4gICAgICAgICAgICAgIDxMYWJlbCBtb2RlcmF0aW9uPXttb2RlcmF0aW9ufSBzdWJzY3JpcHRpb249e3N1YnNjcmlwdGlvbn0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhYmVsKHsgbW9kZXJhdGlvbiwgc3Vic2NyaXB0aW9uIH0pIHtcbiAgaWYgKG1vZGVyYXRpb24ubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gIGxldCB0ZXh0ID0gZ2V0dGV4dChcIkRpc2FibGVkXCIpXG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIkUtbWFpbFwiKVxuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIkVuYWJsZWRcIilcbiAgfVxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPnt0ZXh0fTwvc3Bhbj5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHN1YnNjcmlwdGlvblwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPE9wdGlvbnMgY2xhc3NOYW1lPVwibW9kYWwtbWVudVwiIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGhyZWFkc1wiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5jb25zdCBTVEFURV9VUERBVEVTID0ge1xuICB1bnN1YnNjcmliZTogbnVsbCxcbiAgbm90aWZ5OiBmYWxzZSxcbiAgZW1haWw6IHRydWVcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzZXRTdWJzY3JpcHRpb24gPSBuZXdTdGF0ZSA9PiB7XG4gICAgbW9kYWwuaGlkZSgpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pXG5cbiAgICBsZXQgb2xkU3RhdGUgPSB0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb25cblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgcGF0Y2godGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uOiBTVEFURV9VUERBVEVTW25ld1N0YXRlXVxuICAgICAgfSlcbiAgICApXG5cbiAgICBhamF4XG4gICAgICAucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICAgIHsgb3A6IFwicmVwbGFjZVwiLCBwYXRoOiBcInN1YnNjcmlwdGlvblwiLCB2YWx1ZTogbmV3U3RhdGUgfVxuICAgICAgXSlcbiAgICAgIC50aGVuKFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgcGF0Y2godGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiBTVEFURV9VUERBVEVTW29sZFN0YXRlXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihcInVuc3Vic2NyaWJlXCIpXG4gIH1cblxuICBub3RpZnkgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oXCJub3RpZnlcIilcbiAgfVxuXG4gIGVtYWlsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKFwiZW1haWxcIilcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5zdWJzY3JpYmV9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJfYm9yZGVyPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJVbnN1YnNjcmliZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm5vdGlmeX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcl9oYWxmPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5lbWFpbH0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+c3Rhcjwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNoaWxkcmVuLCBjbGFzc05hbWUsIHRpdGxlLCB1cmwgfSkge1xuICBpZiAodXJsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBocmVmPXt1cmx9IHRpdGxlPXt0aXRsZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvYT5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSB0aXRsZT17dGl0bGV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5cbmV4cG9ydCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVybCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saXN0UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkudXJsLmluZGV4ICsgdGhpcy5wcm9wcy5saXN0UGF0aFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jYXRlZ29yeS51cmwuaW5kZXhcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPExpbmsgdG89e3RoaXMuZ2V0VXJsKCl9IGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duIGNhdGVnb3J5LXBpY2tlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhYmVsX291dGxpbmU8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXhzXCI+e2dldHRleHQoXCJDYXRlZ29yeVwiKX08L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b20gY2F0ZWdvcmllcy1tZW51XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U3ViY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdfVxuICAgICAgICAgICAgICAgICAgbGlzdFBhdGg9e3RoaXMucHJvcHMubGlzdC5wYXRofVxuICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpIHtcbiAgaWYgKGEubGFzdF9wb3N0ID4gYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gLTFcbiAgfSBlbHNlIGlmIChhLmxhc3RfcG9zdCA8IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlR2xvYmFsV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTFcbiAgfSBlbHNlIGlmIChiLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA8IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIDFcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVXZWlnaHQoYSwgYikge1xuICBpZiAoYS53ZWlnaHQgPiBiLndlaWdodCkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2UgaWYgKGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYilcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUGFnZUxlYWQgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZFwiXG5pbXBvcnQgVG9vbGJhciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeURlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhZ2VMZWFkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWxlYWRcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLnBhZ2VMZWFkfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0RGlzYWJsZVRvb2xiYXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLnByb3BzLmlzTG9hZGVkIHx8IHRoaXMucHJvcHMuaXNCdXN5IHx8IHRoaXMucHJvcHMuYnVzeVRocmVhZHMubGVuZ3RoXG4gICAgKVxuICB9XG5cbiAgZ2V0VG9vbGJhcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXMubGVuZ3RoIHx8IHRoaXMucHJvcHMudXNlci5pZFxuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2xiYXJcbiAgICAgICAgc3ViY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgIG1vZGVyYXRpb249e3RoaXMucHJvcHMubW9kZXJhdGlvbn1cbiAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgc2VsZWN0QWxsVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3RBbGxUaHJlYWRzfVxuICAgICAgICBzZWxlY3ROb25lVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3ROb25lVGhyZWFkc31cbiAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICBhcGk9e3RoaXMucHJvcHMuYXBpfVxuICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuZ2V0RGlzYWJsZVRvb2xiYXIoKX1cbiAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgICAge3RoaXMuZ2V0VG9vbGJhcigpfVxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgTmF2IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdlwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHBvc3RpbmcgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRUaHJlYWQgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKFxuICAgICAgdGhpcy5wcm9wcy5zdGFydFRocmVhZCB8fCB7XG4gICAgICAgIG1vZGU6IFwiU1RBUlRcIixcblxuICAgICAgICBjb25maWc6IG1pc2Fnby5nZXQoXCJUSFJFQURfRURJVE9SX0FQSVwiKSxcbiAgICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KFwiVEhSRUFEU19BUElcIiksXG5cbiAgICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYXNHb0JhY2tCdXR0b24oKSB7XG4gICAgcmV0dXJuICEhdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRcbiAgfVxuXG4gIGdldEdvQmFja0J1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50XVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGNvbC1zbS0yIGNvbC1sZy0xXCI+XG4gICAgICAgIDxMaW5rXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1hbGlnbmVkIGJ0bi1nby1iYWNrIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgdG89e3BhcmVudC51cmwuaW5kZXggKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5rZXlib2FyZF9hcnJvd19sZWZ0PC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRTdGFydFRocmVhZEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhcnRUaHJlYWR9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hhdDwvc3Bhbj5cbiAgICAgICAge2dldHRleHQoXCJTdGFydCB0aHJlYWRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGhlYWRlckNsYXNzTmFtZSA9IFwiY29sLXhzLTEyXCJcbiAgICBpZiAodGhpcy5oYXNHb0JhY2tCdXR0b24oKSkge1xuICAgICAgaGVhZGVyQ2xhc3NOYW1lICs9IFwiIGNvbC1zbS0xMCBjb2wtbGctMTEgc20tYWxpZ24tcm93LWJ1dHRvbnNcIlxuICAgIH1cblxuICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9ICEhdGhpcy5wcm9wcy51c2VyLmlkXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2lzQXV0aGVudGljYXRlZCA/IFwiY29sLXNtLTkgY29sLW1kLTEwXCIgOiBcImNvbC14cy0xMlwifVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLmdldEdvQmFja0J1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2hlYWRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgICAgICAgICAgIDxQYXJlbnRDYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50aXRsZX08L2gxPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7aXNBdXRoZW50aWNhdGVkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIGNvbC1tZC0yIHhzLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFN0YXJ0VGhyZWFkQnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxOYXZcbiAgICAgICAgICAgIGJhc2VVcmw9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkudXJsLmluZGV4fVxuICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgbGlzdHM9e3RoaXMucHJvcHMucm91dGUubGlzdHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhcmVudENhdGVnb3J5KHsgY2F0ZWdvcmllcywgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5KSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IHBhcmVudCA9IGNhdGVnb3JpZXNbY2F0ZWdvcnldXG5cbiAgcmV0dXJuIChcbiAgICA8TGluayBjbGFzc05hbWU9XCJnby1iYWNrLXNtIHZpc2libGUteHMtYmxvY2tcIiB0bz17cGFyZW50LnVybC5pbmRleH0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAge3BhcmVudC5wYXJlbnQgPyBwYXJlbnQubmFtZSA6IGdldHRleHQoXCJUaHJlYWRzXCIpfVxuICAgIDwvTGluaz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3QudHlwZSA9PT0gXCJhbGxcIikge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMuZW1wdHlNZXNzYWdlfTwvcD5cbiAgICAgICAgICAgIDxwPntnZXR0ZXh0KFwiV2h5IG5vdCBzdGFydCBvbmUgeW91cnNlbGY/XCIpfTwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5zcGVjaWFsX3JvbGVcbiAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBvbiB0aGlzIGZvcnVtLi4uIHlldCFcIilcbiAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBpbiB0aGlzIGNhdGVnb3J5LlwiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPntnZXR0ZXh0KFwiV2h5IG5vdCBzdGFydCBvbmUgeW91cnNlbGY/XCIpfTwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTm8gdGhyZWFkcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEgd2VyZSBmb3VuZC5cIil9XG4gICAgICAgIDwvbGk+XG4gICAgICApXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0XCJcbmltcG9ydCBNZXJnZVRocmVhZHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tZXJnZVwiXG5pbXBvcnQgTW92ZVRocmVhZHMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tb3ZlXCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuaW1wb3J0IENvdW50ZG93biBmcm9tIFwibWlzYWdvL3V0aWxzL2NvdW50ZG93blwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlLCBvblN1Y2Nlc3MgPSBudWxsKSA9PiB7XG4gICAgLy8gZnJlZXplIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCh0aHJlYWQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKVxuICAgIH0pXG5cbiAgICAvLyBsaXN0IGlkc1xuICAgIGNvbnN0IGlkcyA9IHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICB9KVxuXG4gICAgLy8gYWx3YXlzIHJldHVybiBjdXJyZW50IGFjbFxuICAgIG9wcy5wdXNoKHsgb3A6IFwiYWRkXCIsIHBhdGg6IFwiYWNsXCIsIHZhbHVlOiB0cnVlIH0pXG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMuYXBpLCB7IGlkcywgb3BzIH0pLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgLy8gdW5mcmVlemVcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gdXBkYXRlIHRocmVhZHNcbiAgICAgICAgZGF0YS5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVUaHJlYWQodGhyZWFkKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHNob3cgc3VjY2VzcyBtZXNzYWdlIGFuZCBjYWxsIGNhbGxiYWNrXG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpXG4gICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVqZWN0aW9uID0+IHtcbiAgICAgICAgLy8gdW5mcmVlemVcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gZXNjYXBlIG9uIG5vbi00MDAgZXJyb3JcbiAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgIT09IDQwMCkge1xuICAgICAgICAgIHJldHVybiBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBidWlsZCBlcnJvcnMgbGlzdFxuICAgICAgICBsZXQgZXJyb3JzID0gW11cbiAgICAgICAgbGV0IHRocmVhZHNNYXAgPSB7fVxuXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKHRocmVhZCA9PiB7XG4gICAgICAgICAgdGhyZWFkc01hcFt0aHJlYWQuaWRdID0gdGhyZWFkXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmVqZWN0aW9uLmZvckVhY2goKHsgaWQsIGRldGFpbCB9KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aHJlYWRzTWFwW2lkXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICBlcnJvcnM6IGRldGFpbCxcbiAgICAgICAgICAgICAgdGhyZWFkOiB0aHJlYWRzTWFwW2lkXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAyXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHBpbm5lZCBnbG9iYWxseS5cIilcbiAgICApXG4gIH1cblxuICBwaW5Mb2NhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHBpbm5lZCBsb2NhbGx5LlwiKVxuICAgIClcbiAgfVxuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcIndlaWdodFwiLFxuICAgICAgICAgIHZhbHVlOiAwXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHVucGlubmVkLlwiKVxuICAgIClcbiAgfVxuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtdW5hcHByb3ZlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBhcHByb3ZlZC5cIilcbiAgICApXG4gIH1cblxuICBvcGVuID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIG9wOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBwYXRoOiBcImlzLWNsb3NlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBvcGVuZWQuXCIpXG4gICAgKVxuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgIHBhdGg6IFwiaXMtY2xvc2VkXCIsXG4gICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgY2xvc2VkLlwiKVxuICAgIClcbiAgfVxuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1oaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgdW5oaWRkZW4uXCIpXG4gICAgKVxuICB9XG5cbiAgaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgcGF0aDogXCJpcy1oaWRkZW5cIixcbiAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBoaWRkZW4uXCIpXG4gICAgKVxuICB9XG5cbiAgbW92ZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVUaHJlYWRzXG4gICAgICAgIGNhbGxBcGk9e3RoaXMuY2FsbEFwaX1cbiAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIG1lcmdlID0gKCkgPT4ge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWVyZ2UpIHtcbiAgICAgICAgZXJyb3JzLmFwcGVuZCh7XG4gICAgICAgICAgaWQ6IHRocmVhZC5pZCxcbiAgICAgICAgICB0aXRsZTogdGhyZWFkLnRpdGxlLFxuICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgZ2V0dGV4dChcbiAgICAgICAgICAgICAgXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIG1lcmdlIHRoaXMgdGhyZWFkIHdpdGggb3RoZXJzLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgXVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8oXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSB0byBzZWxlY3QgYXQgbGVhc3QgdHdvIHRocmVhZHMgdG8gbWVyZ2UuXCIpXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pXG4gICAgICByZXR1cm5cbiAgICB9IGVsc2Uge1xuICAgICAgbW9kYWwuc2hvdyg8TWVyZ2VUaHJlYWRzIHsuLi50aGlzLnByb3BzfSAvPilcbiAgICB9XG4gIH1cblxuICBkZWxldGUgPSAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgdGhyZWFkcz9cIikpXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgfSlcblxuICAgIGNvbnN0IGlkcyA9IHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHtcbiAgICAgIHJldHVybiB0aHJlYWQuaWRcbiAgICB9KVxuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5hcGksIGlkcykudGhlbihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZVRocmVhZCh0aHJlYWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGRlbGV0ZWQuXCIpKVxuICAgICAgfSxcbiAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBjb25zdCBmYWlsZWRUaHJlYWRzID0gcmVqZWN0aW9uLm1hcCh0aHJlYWQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVhZC5pZFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKHRocmVhZCA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpXG4gICAgICAgICAgICBpZiAoZmFpbGVkVGhyZWFkcy5pbmRleE9mKHRocmVhZC5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkdsb2JhbGx5fVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmJvb2ttYXJrPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgZ2xvYmFsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRQaW5Mb2NhbGx5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Ym9va21hcmtfYm9yZGVyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgbG9jYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW4pIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5waW59IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cGFub3JhbWFfZmlzaF9leWU8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnBpbiB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0TW92ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbW92ZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5tb3ZlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFycm93X2ZvcndhcmQ8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubWVyZ2V9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2FsbF9tZXJnZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRBcHByb3ZlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmFwcHJvdmV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxuXG4gIGdldE9wZW5CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9wZW59IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bG9ja19vcGVuPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlbiB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmNsb3NlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxvY2tfb3V0bGluZTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICBnZXRVbmhpZGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3VuaGlkZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy51bmhpZGV9IHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eTwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0SGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5faGlkZSkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5oaWRlfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnZpc2liaWxpdHlfb2ZmPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9kZWxldGUpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNsZWFyPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAge3RoaXMuZ2V0UGluR2xvYmFsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0UGluTG9jYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbnBpbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1lcmdlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEFwcHJvdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0T3BlbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRDbG9zZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbmhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0SGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlRocmVhZHMgbW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk9uZSBvciBtb3JlIHRocmVhZHMgY291bGQgbm90IGJlIGRlbGV0ZWQ6XCIpfVxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuZXJyb3JzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFRocmVhZEVycm9yc1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnM9e2l0ZW0uZXJyb3JzfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0udGhyZWFkLmlkfVxuICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e2l0ZW0udGhyZWFkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZEVycm9ycyh7IGVycm9ycywgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8aDU+e3RocmVhZC50aXRsZX08L2g1PlxuICAgICAge2Vycm9ycy5tYXAoKG1lc3NhZ2UsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIDxwPnttZXNzYWdlfTwvcD5cbiAgICAgIH0pfVxuICAgIDwvbGk+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCBGb3JtIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtXCJcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXBcIlxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3RcIlxuaW1wb3J0IFNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdFwiXG5pbXBvcnQgTWVyZ2VDb25mbGljdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3RcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSBcIm1pc2Fnby91dGlscy92YWxpZGF0b3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogXCJcIixcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW3ZhbGlkYXRvcnMucmVxdWlyZWQoKV1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9XG5cbiAgICB0aGlzLmFjbCA9IHt9XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2wgPSBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzW2ldXG4gICAgICB0aGlzLmFjbFthY2wuaWRdID0gYWNsXG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXVxuICAgIHByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IHRoaXMuYWNsW2NhdGVnb3J5LmlkXVxuICAgICAgICBjb25zdCBkaXNhYmxlZCA9XG4gICAgICAgICAgIWFjbC5jYW5fc3RhcnRfdGhyZWFkcyB8fFxuICAgICAgICAgIChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcylcblxuICAgICAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGxldmVsOiBjYXRlZ29yeS5sZXZlbCAtIDEsXG4gICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmICF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGljb246IFwidmlzaWJpbGl0eV9vZmZcIixcbiAgICAgICAgbGFiZWw6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH1cbiAgICBdXG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICBpY29uOiBcImxvY2tfb3V0bGluZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgaWNvbjogXCJsb2NrXCIsXG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9XG4gICAgXVxuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoXCJNRVJHRV9USFJFQURTX0FQSVwiKSwgdGhpcy5nZXRGb3JtZGF0YSgpKVxuICB9XG5cbiAgZ2V0Rm9ybWRhdGEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZHM6IHRoaXMucHJvcHMudGhyZWFkcy5tYXAodGhyZWFkID0+IHRocmVhZC5pZCksXG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyA9IGFwaVJlc3BvbnNlID0+IHtcbiAgICAvLyB1bmZyZWV6ZSBhbmQgcmVtb3ZlIG1lcmdlZCB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2godGhyZWFkID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZClcbiAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZClcbiAgICB9KVxuXG4gICAgLy8gZGVzZWxlY3QgYWxsIHRocmVhZHNcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKVxuXG4gICAgLy8gYXBwZW5kIG1lcmdlZCB0aHJlYWQsIGZpbHRlciB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy5hZGRUaHJlYWRzKFthcGlSZXNwb25zZV0pXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBmaWx0ZXJUaHJlYWRzKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnksIHRoaXMucHJvcHMuY2F0ZWdvcmllc01hcClcbiAgICApXG5cbiAgICAvLyBoaWRlIG1vZGFsXG4gICAgbW9kYWwuaGlkZSgpXG4gIH1cblxuICBoYW5kbGVFcnJvciA9IHJlamVjdGlvbiA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcnMgfHwgcmVqZWN0aW9uLnBvbGxzKSB7XG4gICAgICAgIG1vZGFsLnNob3coXG4gICAgICAgICAgPE1lcmdlQ29uZmxpY3RcbiAgICAgICAgICAgIGFwaT17bWlzYWdvLmdldChcIk1FUkdFX1RIUkVBRFNfQVBJXCIpfVxuICAgICAgICAgICAgYmVzdEFuc3dlcnM9e3JlamVjdGlvbi5iZXN0X2Fuc3dlcnN9XG4gICAgICAgICAgICBkYXRhPXt0aGlzLmdldEZvcm1kYXRhKCl9XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yczogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgICAgfSlcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPilcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcikge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmJlc3RfYW5zd2VyWzBdKVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvbGwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wb2xsWzBdKVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IGV2ID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH1cblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDBcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBpY29uOiBcInJlbW92ZVwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBpY29uOiBcImJvb2ttYXJrX2JvcmRlclwiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpXG4gICAgICB9XG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICB2YWx1ZTogMixcbiAgICAgICAgaWNvbjogXCJib29rbWFya1wiLFxuICAgICAgICBsYWJlbDogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlc1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9IGZvcj1cImlkX3dlaWdodFwiPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcIndlaWdodFwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9IGZvcj1cImlkX2lzX2hpZGRlblwiPlxuICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgIGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dChcImlzX2hpZGRlblwiKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX0gZm9yPVwiaWRfaXNfY2xvc2VkXCI+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiaXNfY2xvc2VkXCIpfVxuICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwidGl0bGVcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cblxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1lcmdlIHRocmVhZHMgdG8gaXQuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5XG4gICAgICAgICAgICA/IHRoaXMucmVuZGVyRm9ybSgpXG4gICAgICAgICAgICA6IHRoaXMucmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvZm9ybVwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0XCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGFjbHMgPSB7fVxuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXVxuICAgICAgYWNsc1thY2wuaWRdID0gYWNsXG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXVxuICAgIHByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IGFjbHNbY2F0ZWdvcnkuaWRdXG4gICAgICAgIGNvbnN0IGRpc2FibGVkID1cbiAgICAgICAgICAhYWNsLmNhbl9zdGFydF90aHJlYWRzIHx8XG4gICAgICAgICAgKGNhdGVnb3J5LmlzX2Nsb3NlZCAmJiAhYWNsLmNhbl9jbG9zZV90aHJlYWRzKVxuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgbGV2ZWw6IGNhdGVnb3J5LmxldmVsIC0gMSxcbiAgICAgICAgICBsYWJlbDogY2F0ZWdvcnkubmFtZVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSBldmVudCA9PiB7XG4gICAgLy8gd2UgZG9uJ3QgcmVsb2FkIHBhZ2Ugb24gc3VibWlzc2lvbnNcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBtb2RhbC5oaWRlKClcblxuICAgIGNvbnN0IG9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBmaWx0ZXJUaHJlYWRzKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnksIHRoaXMucHJvcHMuY2F0ZWdvcmllc01hcClcbiAgICAgIClcblxuICAgICAgLy8gZGVzZWxlY3QgdGhyZWFkcyBtb3ZlZCBvdXRzaWRlIG9mIHZpc2libGUgc2NvcGVcbiAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpXG4gICAgICBjb25zdCBsZWZ0VGhyZWFkcyA9IHN0b3JlU3RhdGUudGhyZWFkcy5tYXAodGhyZWFkID0+IHRocmVhZC5pZClcbiAgICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBzZWxlY3QuYWxsKFxuICAgICAgICAgIHN0b3JlU3RhdGUuc2VsZWN0aW9uLmZpbHRlcih0aHJlYWQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnRUaHJlYWRzLmluZGV4T2YodGhyZWFkKSAhPT0gLTFcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5jYWxsQXBpKFxuICAgICAgW1xuICAgICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJjYXRlZ29yeVwiLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeSB9LFxuICAgICAgICB7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogXCJmbGF0dGVuLWNhdGVnb3JpZXNcIiwgdmFsdWU6IG51bGwgfSxcbiAgICAgICAgeyBvcDogXCJhZGRcIiwgcGF0aDogXCJhY2xcIiwgdmFsdWU6IHRydWUgfVxuICAgICAgXSxcbiAgICAgIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgbW92ZWQuXCIpLFxuICAgICAgb25TdWNjZXNzXG4gICAgKVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2dcIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgY2F0ZWdvcnlcIil9IGZvcj1cImlkX25ld19jYXRlZ29yeVwiPlxuICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0XG4gICAgICAgICAgICAgIGlkPVwiaWRfbmV3X2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KFwiY2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApXG4gIH1cblxuICByZW5kZXJDYW50TW92ZU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5pbmZvX291dGxpbmU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBjYW4ndCBtb3ZlIHRocmVhZHMgYmVjYXVzZSB0aGVyZSBhcmUgbm8gY2F0ZWdvcmllcyB5b3UgYXJlIGFsbG93ZWQgdG8gbW92ZSB0aGVtIHRvLlwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFxuICAgICAgICAgICAgICBcIllvdSBuZWVkIHBlcm1pc3Npb24gdG8gc3RhcnQgdGhyZWFkcyBpbiBjYXRlZ29yeSB0byBiZSBhYmxlIHRvIG1vdmUgdGhyZWFkcyB0byBpdC5cIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3J5XG4gICAgICAgICAgICA/IHRoaXMucmVuZGVyRm9ybSgpXG4gICAgICAgICAgICA6IHRoaXMucmVuZGVyQ2FudE1vdmVNZXNzYWdlKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2VsZWN0QWxsID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgc2VsZWN0LmFsbChcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLm1hcChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICAgICAgICByZXR1cm4gdGhyZWFkLmlkXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKVxuICB9XG5cbiAgc2VsZWN0Tm9uZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdEFsbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWxlY3QgYWxsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3ROb25lfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3hfb3V0bGluZV9ibGFuazwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IG5vbmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgTGkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xpXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBiYXNlVXJsLCBsaXN0LCBsaXN0cyB9KSB7XG4gIGlmIChsaXN0cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICAgICAge2xpc3RzLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxMaVxuICAgICAgICAgICAgICAgIGlzQ29udHJvbGxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17aXRlbS5wYXRoID09PSBsaXN0LnBhdGh9XG4gICAgICAgICAgICAgICAga2V5PXtiYXNlVXJsICsgaXRlbS5wYXRofVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwgKyBpdGVtLnBhdGh9PntpdGVtLm5hbWV9PC9MaW5rPlxuICAgICAgICAgICAgICA8L0xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IFJvdXRlIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3JvdXRlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Qob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RvcmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIHNlbGVjdGlvbjogc3RvcmUuc2VsZWN0aW9uLFxuICAgICAgdGhyZWFkczogc3RvcmUudGhyZWFkcyxcbiAgICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICAgIHVzZXI6IHN0b3JlLmF1dGgudXNlclxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdHModXNlcikge1xuICBsZXQgbGlzdHMgPSBbXG4gICAge1xuICAgICAgdHlwZTogXCJhbGxcIixcbiAgICAgIHBhdGg6IFwiXCIsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiQWxsXCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJBbGwgdGhyZWFkc1wiKVxuICAgIH1cbiAgXVxuXG4gIGlmICh1c2VyLmlkKSB7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiBcIm15XCIsXG4gICAgICBwYXRoOiBcIm15L1wiLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk15XCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJNeSB0aHJlYWRzXCIpXG4gICAgfSlcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6IFwibmV3XCIsXG4gICAgICBwYXRoOiBcIm5ldy9cIixcbiAgICAgIG5hbWU6IGdldHRleHQoXCJOZXdcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk5ldyB0aHJlYWRzXCIpXG4gICAgfSlcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6IFwidW5yZWFkXCIsXG4gICAgICBwYXRoOiBcInVucmVhZC9cIixcbiAgICAgIG5hbWU6IGdldHRleHQoXCJVbnJlYWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVucmVhZCB0aHJlYWRzXCIpXG4gICAgfSlcbiAgICBsaXN0cy5wdXNoKHtcbiAgICAgIHR5cGU6IFwic3Vic2NyaWJlZFwiLFxuICAgICAgcGF0aDogXCJzdWJzY3JpYmVkL1wiLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWQgdGhyZWFkc1wiKVxuICAgIH0pXG5cbiAgICBpZiAodXNlci5hY2wuY2FuX3NlZV91bmFwcHJvdmVkX2NvbnRlbnRfbGlzdHMpIHtcbiAgICAgIGxpc3RzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuYXBwcm92ZWRcIixcbiAgICAgICAgcGF0aDogXCJ1bmFwcHJvdmVkL1wiLFxuICAgICAgICBuYW1lOiBnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKSxcbiAgICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkIGNvbnRlbnRcIilcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxpc3RzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocyh1c2VyLCBtb2RlKSB7XG4gIGxldCBsaXN0cyA9IGdldExpc3RzKHVzZXIpXG4gIGxldCByb3V0ZXMgPSBbXVxuICBsZXQgY2F0ZWdvcmllc01hcCA9IHt9XG5cbiAgbWlzYWdvLmdldChcIkNBVEVHT1JJRVNcIikuZm9yRWFjaChmdW5jdGlvbihjYXRlZ29yeSkge1xuICAgIGxpc3RzLmZvckVhY2goZnVuY3Rpb24obGlzdCkge1xuICAgICAgY2F0ZWdvcmllc01hcFtjYXRlZ29yeS5pZF0gPSBjYXRlZ29yeVxuXG4gICAgICByb3V0ZXMucHVzaCh7XG4gICAgICAgIHBhdGg6IGNhdGVnb3J5LnVybC5pbmRleCArIGxpc3QucGF0aCxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KGdldFNlbGVjdChtb2RlKSkoUm91dGUpLFxuXG4gICAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoXCJDQVRFR09SSUVTXCIpLFxuICAgICAgICBjYXRlZ29yaWVzTWFwLFxuICAgICAgICBjYXRlZ29yeSxcblxuICAgICAgICBsaXN0cyxcbiAgICAgICAgbGlzdFxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIHJldHVybiByb3V0ZXNcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uXCJcbmltcG9ydCB7XG4gIGNvbXBhcmVHbG9iYWxXZWlnaHQsXG4gIGNvbXBhcmVXZWlnaHRcbn0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY29tcGFyZVwiXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NvbnRhaW5lclwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2hlYWRlclwiXG5pbXBvcnQge1xuICBkaWZmVGhyZWFkcyxcbiAgZ2V0TW9kZXJhdGlvbkFjdGlvbnMsXG4gIGdldFBhZ2VUaXRsZSxcbiAgZ2V0VGl0bGVcbn0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvdXRpbHNcIlxuaW1wb3J0IFRocmVhZHNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3RcIlxuaW1wb3J0IFRocmVhZHNMaXN0RW1wdHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eVwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb25cIlxuaW1wb3J0IHsgYXBwZW5kLCBkZWxldGVUaHJlYWQsIGh5ZHJhdGUsIHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcbmltcG9ydCAqIGFzIHNldHMgZnJvbSBcIm1pc2Fnby91dGlscy9zZXRzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTW91bnRlZDogdHJ1ZSxcblxuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgZGlmZjoge1xuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfSxcblxuICAgICAgbW9kZXJhdGlvbjogW10sXG4gICAgICBidXN5VGhyZWFkczogW10sXG5cbiAgICAgIGRyb3Bkb3duOiBmYWxzZSxcbiAgICAgIHN1YmNhdGVnb3JpZXM6IFtdLFxuICAgICAgXG4gICAgICBuZXh0OiAwLFxuICAgIH1cblxuICAgIGxldCBjYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnkoKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURTXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShjYXRlZ29yeSwgbWlzYWdvLmdldChcIlRIUkVBRFNcIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KVxuICAgIH1cbiAgfVxuXG4gIGdldENhdGVnb3J5KCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5zcGVjaWFsX3JvbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZSwge1xuICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoZGF0YS5yZXN1bHRzKSxcbiAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcbiAgICAgIG5leHQ6IGRhdGEubmV4dFxuICAgIH0pXG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSkge1xuICAgIHRoaXMubG9hZFRocmVhZHMoY2F0ZWdvcnkpXG4gIH1cblxuICBsb2FkVGhyZWFkcyhjYXRlZ29yeSwgbmV4dCA9IDApIHtcbiAgICBhamF4XG4gICAgICAuZ2V0KFxuICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuYXBpLFxuICAgICAgICB7XG4gICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlLFxuICAgICAgICAgIHN0YXJ0OiBuZXh0IHx8IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0aHJlYWRzXCJcbiAgICAgIClcbiAgICAgIC50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAvLyB1c2VyIGNoYW5nZWQgcm91dGUgYmVmb3JlIGxvYWRpbmcgY29tcGxldGlvblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5leHQgPT09IDApIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cywgdGhpcy5nZXRTb3J0aW5nKCkpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhzdG9yZS5nZXRTdGF0ZSgpLnRocmVhZHMpLFxuXG4gICAgICAgICAgICBzdWJjYXRlZ29yaWVzOiBkYXRhLnN1YmNhdGVnb3JpZXMsXG5cbiAgICAgICAgICAgIG5leHQ6IGRhdGEubmV4dCxcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGhpcy5zdGFydFBvbGxpbmcoY2F0ZWdvcnkpXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGlvbiA9PiB7XG4gICAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKVxuICAgICAgICB9XG4gICAgICApXG4gIH1cblxuICBzdGFydFBvbGxpbmcoY2F0ZWdvcnkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcInRocmVhZHNcIixcbiAgICAgIHVybDogdGhpcy5wcm9wcy5vcHRpb25zLmFwaSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZVxuICAgICAgfSxcbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy5wb2xsUmVzcG9uc2VcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXRQYWdlVGl0bGUoKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURTXCIpKSB7XG4gICAgICAvLyB1bmxpa2UgaW4gb3RoZXIgY29tcG9uZW50cywgcm91dGVzIGFyZSByb290IGNvbXBvbmVudHMgZm9yIHRocmVhZHNcbiAgICAgIC8vIHNvIHdlIGNhbid0IGRpc3BhdGNoIHN0b3JlIGFjdGlvbiBmcm9tIGNvbnN0cnVjdG9yXG4gICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKG1pc2Fnby5wb3AoXCJUSFJFQURTXCIpLnJlc3VsdHMpKVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RhdGUuaXNNb3VudGVkID0gZmFsc2VcbiAgICBwb2xscy5zdG9wKFwidGhyZWFkc1wiKVxuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy50aXRsZVxuICAgIH1cblxuICAgIHJldHVybiBnZXRUaXRsZSh0aGlzLnByb3BzLnJvdXRlKVxuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmxldmVsIHx8ICFtaXNhZ28uZ2V0KFwiVEhSRUFEU19PTl9JTkRFWFwiKSkge1xuICAgICAgdGl0bGUuc2V0KGdldFBhZ2VUaXRsZSh0aGlzLnByb3BzLnJvdXRlKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSkge1xuICAgICAgdGl0bGUuc2V0KHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5pbmRleF90aXRsZSkge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IG1pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5pbmRleF90aXRsZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFNvcnRpbmcoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICAgIHJldHVybiBjb21wYXJlV2VpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlR2xvYmFsV2VpZ2h0XG4gICAgfVxuICB9XG5cbiAgLy8gQUpBWFxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSlcblxuICAgIHRoaXMubG9hZFRocmVhZHModGhpcy5nZXRDYXRlZ29yeSgpLCB0aGlzLnN0YXRlLm5leHQpXG4gIH1cblxuICBwb2xsUmVzcG9uc2UgPSBkYXRhID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRpZmY6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICAgICAgcmVzdWx0czogZGlmZlRocmVhZHModGhpcy5wcm9wcy50aHJlYWRzLCBkYXRhLnJlc3VsdHMpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBhZGRUaHJlYWRzID0gdGhyZWFkcyA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKHRocmVhZHMsIHRoaXMuZ2V0U29ydGluZygpKSlcbiAgfVxuXG4gIGFwcGx5RGlmZiA9ICgpID0+IHtcbiAgICB0aGlzLmFkZFRocmVhZHModGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMpXG5cbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5kaWZmLCB7XG4gICAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgICAgZGlmZjoge1xuICAgICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICB9XG5cbiAgLy8gVGhyZWFkIHN0YXRlIHV0aWxzXG5cbiAgZnJlZXplVGhyZWFkID0gdGhyZWFkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnVzeVRocmVhZHM6IHNldHMudG9nZ2xlKGN1cnJlbnRTdGF0ZS5idXN5VGhyZWFkcywgdGhyZWFkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGVUaHJlYWQgPSB0aHJlYWQgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRocmVhZCwgdGhyZWFkLCB0aGlzLmdldFNvcnRpbmcoKSkpXG4gIH1cblxuICBkZWxldGVUaHJlYWQgPSB0aHJlYWQgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGRlbGV0ZVRocmVhZCh0aHJlYWQpKVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubmV4dCkgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3kgfHwgdGhpcy5zdGF0ZS5idXN5VGhyZWFkcy5sZW5ndGh9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBtb3JlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJwYWdlIHBhZ2UtdGhyZWFkc1wiXG4gICAgY2xhc3NOYW1lICs9IFwiIHBhZ2UtdGhyZWFkcy1cIiArIHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlXG4gICAgaWYgKGlzSW5kZXgodGhpcy5wcm9wcykpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBwYWdlLXRocmVhZHMtaW5kZXhcIlxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIGNsYXNzTmFtZSArPSBcIiBwYWdlLXRocmVhZHMtXCIgKyB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmNzc19jbGFzc1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPEhlYWRlclxuICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgc3RhcnRUaHJlYWQ9e3RoaXMucHJvcHMub3B0aW9ucy5zdGFydFRocmVhZH1cbiAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX1cbiAgICAgICAgICB0b2dnbGVOYXY9e3RoaXMudG9nZ2xlTmF2fVxuICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cblxuICAgICAgICA8Q29udGFpbmVyXG4gICAgICAgICAgYXBpPXt0aGlzLnByb3BzLm9wdGlvbnMuYXBpfVxuICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgIHN1YmNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgcGFnZUxlYWQ9e3RoaXMucHJvcHMub3B0aW9ucy5wYWdlTGVhZH1cbiAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgdGhyZWFkc0NvdW50PXt0aGlzLnN0YXRlLmNvdW50fVxuICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMuc3RhdGUubW9kZXJhdGlvbn1cbiAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMuYWRkVGhyZWFkc31cbiAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5kZWxldGVUaHJlYWR9XG4gICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnVwZGF0ZVRocmVhZH1cbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICA+XG4gICAgICAgICAgPFRocmVhZHNMaXN0XG4gICAgICAgICAgICBjYXRlZ29yeT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICBkaWZmU2l6ZT17dGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMubGVuZ3RofVxuICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLmFwcGx5RGlmZn1cbiAgICAgICAgICAgIHNob3dPcHRpb25zPXshIXRoaXMucHJvcHMudXNlci5pZH1cbiAgICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgYnVzeVRocmVhZHM9e3RoaXMuc3RhdGUuYnVzeVRocmVhZHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFRocmVhZHNMaXN0RW1wdHlcbiAgICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT17dGhpcy5wcm9wcy5vcHRpb25zLmVtcHR5TWVzc2FnZX1cbiAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1RocmVhZHNMaXN0PlxuXG4gICAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0luZGV4KHByb3BzKSB7XG4gIGlmIChwcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldChcIlRIUkVBRFNfT05fSU5ERVhcIikpIHJldHVybiBmYWxzZVxuICBpZiAocHJvcHMub3B0aW9ucy50aXRsZSkgcmV0dXJuIGZhbHNlXG5cbiAgcmV0dXJuIHRydWVcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDYXRlZ29yeVBpY2tlciBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXJcIlxuaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzXCJcbmltcG9ydCBTZWxlY3Rpb25Db250cm9scyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvblwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlQaWNrZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXMubGVuZ3RoKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXRlZ29yeVBpY2tlclxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICBzaG93TW9kZXJhdGlvbk9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLm1vZGVyYXRpb24uYWxsb3dcbiAgfVxuXG4gIGdldFNlbGVjdGVkVGhyZWFkcygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50aHJlYWRzLmZpbHRlcih0aHJlYWQgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwXG4gICAgfSlcbiAgfVxuXG4gIGdldE1vZGVyYXRpb25CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnNob3dNb2RlcmF0aW9uT3B0aW9ucygpKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTYgY29sLXNtLTMgY29sLW1kLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgIXRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk9wdGlvbnNcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgICAgICBhZGRUaHJlYWRzPXt0aGlzLnByb3BzLmFkZFRocmVhZHN9XG4gICAgICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCJcbiAgICAgICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLnByb3BzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICAgICAgZnJlZXplVGhyZWFkPXt0aGlzLnByb3BzLmZyZWV6ZVRocmVhZH1cbiAgICAgICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5nZXRTZWxlY3RlZFRocmVhZHMoKX1cbiAgICAgICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnByb3BzLnVwZGF0ZVRocmVhZH1cbiAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBnZXRTZWxlY3Rpb25CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnNob3dNb2RlcmF0aW9uT3B0aW9ucygpKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTMgY29sLXNtLTIgY29sLW1kLTFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5zZWxlY3RfYWxsPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxTZWxlY3Rpb25Db250cm9sc1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHQgc3RpY2stdG8tYm90dG9tXCJcbiAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyIHJvdy10b29sYmFyLWJvdHRvbS1tYXJnaW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMiBkcm9wZG93blwiPlxuICAgICAgICAgIHt0aGlzLmdldENhdGVnb3J5UGlja2VyKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbi14cyBjb2wtc20tNCBjb2wtbWQtN1wiIC8+XG4gICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0U2VsZWN0aW9uQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlVGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChtaXNhZ28uZ2V0KFwiVEhSRUFEU19PTl9JTkRFWFwiKSkge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lLFxuICAgICAgICBwYXJlbnQ6IGdldHRleHQoXCJUaHJlYWRzXCIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgcmV0dXJuIHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgfSBlbHNlIGlmIChtaXNhZ28uZ2V0KFwiVEhSRUFEU19PTl9JTkRFWFwiKSkge1xuICAgIGlmIChtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuaW5kZXhfaGVhZGVyKSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmluZGV4X2hlYWRlclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmZvcnVtX25hbWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJUaHJlYWRzXCIpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGhyZWFkQ2hhbmdlZChjdXJyZW50LCBmcm9tRGIpIHtcbiAgcmV0dXJuIChcbiAgICBbXG4gICAgICBjdXJyZW50LnRpdGxlID09PSBmcm9tRGIudGl0bGUsXG4gICAgICBjdXJyZW50LndlaWdodCA9PT0gZnJvbURiLndlaWdodCxcbiAgICAgIGN1cnJlbnQuY2F0ZWdvcnkgPT09IGZyb21EYi5jYXRlZ29yeSxcbiAgICAgIGN1cnJlbnQubGFzdF9wb3N0ID09PSBmcm9tRGIubGFzdF9wb3N0LFxuICAgICAgY3VycmVudC5sYXN0X3Bvc3Rlcl9uYW1lID09PSBmcm9tRGIubGFzdF9wb3N0ZXJfbmFtZVxuICAgIF0uaW5kZXhPZihmYWxzZSkgPj0gMFxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmVGhyZWFkcyhjdXJyZW50LCBmcm9tRGIpIHtcbiAgbGV0IGN1cnJlbnRNYXAgPSB7fVxuICBjdXJyZW50LmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgY3VycmVudE1hcFt0aHJlYWQuaWRdID0gdGhyZWFkXG4gIH0pXG5cbiAgcmV0dXJuIGZyb21EYi5maWx0ZXIoZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSkge1xuICAgICAgcmV0dXJuIGlzVGhyZWFkQ2hhbmdlZChjdXJyZW50TWFwW3RocmVhZC5pZF0sIHRocmVhZClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlcmF0aW9uQWN0aW9ucyh0aHJlYWRzKSB7XG4gIGxldCBtb2RlcmF0aW9uID0ge1xuICAgIGFsbG93OiBmYWxzZSxcblxuICAgIGNhbl9hcHByb3ZlOiAwLFxuICAgIGNhbl9jbG9zZTogMCxcbiAgICBjYW5fZGVsZXRlOiAwLFxuICAgIGNhbl9oaWRlOiAwLFxuICAgIGNhbl9tZXJnZTogMCxcbiAgICBjYW5fbW92ZTogMCxcbiAgICBjYW5fcGluOiAwLFxuICAgIGNhbl9waW5fZ2xvYmFsbHk6IDAsXG4gICAgY2FuX3VuaGlkZTogMFxuICB9XG5cbiAgdGhyZWFkcy5mb3JFYWNoKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmIChcbiAgICAgIHRocmVhZC5pc191bmFwcHJvdmVkICYmXG4gICAgICB0aHJlYWQuYWNsLmNhbl9hcHByb3ZlID4gbW9kZXJhdGlvbi5jYW5fYXBwcm92ZVxuICAgICkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSA9IHRocmVhZC5hY2wuY2FuX2FwcHJvdmVcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fY2xvc2UgPiBtb2RlcmF0aW9uLmNhbl9jbG9zZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fY2xvc2UgPSB0aHJlYWQuYWNsLmNhbl9jbG9zZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9kZWxldGUgPiBtb2RlcmF0aW9uLmNhbl9kZWxldGUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2RlbGV0ZSA9IHRocmVhZC5hY2wuY2FuX2RlbGV0ZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9oaWRlID4gbW9kZXJhdGlvbi5jYW5faGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSA9IHRocmVhZC5hY2wuY2FuX2hpZGVcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2UgPiBtb2RlcmF0aW9uLmNhbl9tZXJnZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fbWVyZ2UgPSB0aHJlYWQuYWNsLmNhbl9tZXJnZVxuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9tb3ZlID4gbW9kZXJhdGlvbi5jYW5fbW92ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSA9IHRocmVhZC5hY2wuY2FuX21vdmVcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fcGluID4gbW9kZXJhdGlvbi5jYW5fcGluKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW4gPSB0aHJlYWQuYWNsLmNhbl9waW5cbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fcGluX2dsb2JhbGx5ID4gbW9kZXJhdGlvbi5jYW5fcGluX2dsb2JhbGx5KSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkgPSB0aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHlcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmlzX2hpZGRlbiAmJiB0aHJlYWQuYWNsLmNhbl91bmhpZGUgPiBtb2RlcmF0aW9uLmNhbl91bmhpZGUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX3VuaGlkZSA9IHRocmVhZC5hY2wuY2FuX3VuaGlkZVxuICAgIH1cblxuICAgIG1vZGVyYXRpb24uYWxsb3cgPVxuICAgICAgbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fY2xvc2UgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX2RlbGV0ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbWVyZ2UgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX21vdmUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3BpbiB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluX2dsb2JhbGx5IHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl91bmhpZGVcbiAgfSlcblxuICByZXR1cm4gbW9kZXJhdGlvblxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IE5hdmJhclNlYXJjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaFwiXG5pbXBvcnQgUmVnaXN0ZXJCdXR0b24gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvblwiXG5pbXBvcnQgU2lnbkluTW9kYWwgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanNcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBkcm9wZG93biBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd25cIlxuaW1wb3J0IG1vZGFsIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9kYWxcIlxuXG5leHBvcnQgY2xhc3MgR3Vlc3RNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd1NpZ25Jbk1vZGFsKCkge1xuICAgIG1vZGFsLnNob3coU2lnbkluTW9kYWwpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHVzZXItZHJvcGRvd24gZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgID5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImd1ZXN0LXByZXZpZXdcIj5cbiAgICAgICAgICA8aDQ+e2dldHRleHQoXCJZb3UgYXJlIGJyb3dzaW5nIGFzIGd1ZXN0LlwiKX08L2g0PlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge2dldHRleHQoXG4gICAgICAgICAgICAgIFwiU2lnbiBpbiBvciByZWdpc3RlciB0byBzdGFydCBhbmQgcGFydGljaXBhdGUgaW4gZGlzY3Vzc2lvbnMuXCJcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICB7bWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc28gPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXIgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5TU09fTE9HSU5fVVJMfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc2lnbi1pbiBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbkluTW9kYWx9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshbWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLmVuYWJsZV9zc28gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1yZWdpc3RlciBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgICAgICAgICAgPC9SZWdpc3RlckJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEd1ZXN0TmF2IGV4dGVuZHMgR3Vlc3RNZW51IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdiBuYXYtZ3Vlc3RcIj5cbiAgICAgICAge21pc2Fnby5nZXQoXCJTRVRUSU5HU1wiKS5lbmFibGVfc3NvID8gKFxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gbmF2YmFyLWJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXJcIlxuICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldChcIlNFVFRJTkdTXCIpLlNTT19MT0dJTl9VUkx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gbmF2YmFyLWJ0biBidG4tZGVmYXVsdCBidG4tc2lnbi1pblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgICAgeyFtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZW5hYmxlX3NzbyAmJiAoXG4gICAgICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cIm5hdmJhci1idG4gYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICAgIDwvUmVnaXN0ZXJCdXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2YmFyLWxlZnRcIj5cbiAgICAgICAgICA8TmF2YmFyU2VhcmNoIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0R3Vlc3ROYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93R3Vlc3RNZW51KCkge1xuICAgIGRyb3Bkb3duLnNob3coR3Vlc3RNZW51KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dHdWVzdE1lbnV9PlxuICAgICAgICA8QXZhdGFyIHNpemU9XCI2NFwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgR3Vlc3ROYXYsIENvbXBhY3RHdWVzdE5hdiB9IGZyb20gXCIuL2d1ZXN0LW5hdlwiXG5pbXBvcnQgeyBVc2VyTmF2LCBDb21wYWN0VXNlck5hdiB9IGZyb20gXCIuL3VzZXItbmF2XCJcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgcmV0dXJuIDxVc2VyTmF2IHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxHdWVzdE5hdiAvPlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgcmV0dXJuIDxDb21wYWN0VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8Q29tcGFjdEd1ZXN0TmF2IC8+XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmF1dGhcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IENoYW5nZUF2YXRhck1vZGFsLCB7IHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL3Jvb3RcIlxuaW1wb3J0IE5hdmJhclNlYXJjaCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IGRyb3Bkb3duIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93blwiXG5pbXBvcnQgbW9kYWwgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9tb2RhbFwiXG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGxvZ291dCgpIHtcbiAgICBsZXQgZGVjaXNpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2lnbiBvdXQ/XCIpKVxuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgJChcIiNoaWRkZW4tbG9nb3V0LWZvcm1cIikuc3VibWl0KClcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoKSB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlQXZhdGFyTW9kYWwpKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx1bFxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHVzZXItZHJvcGRvd24gZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgID5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWhlYWRlclwiPlxuICAgICAgICAgIDxzdHJvbmc+e3VzZXIudXNlcm5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdXNlci1zdGF0c1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bWVzc2FnZTwvc3Bhbj5cbiAgICAgICAgICAgICAge3VzZXIucG9zdHN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZvcnVtPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci50aHJlYWRzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mYXZvcml0ZTwvc3Bhbj5cbiAgICAgICAgICAgICAge3VzZXIuZm9sbG93ZXJzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5mYXZvcml0ZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5mb2xsb3dpbmd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFjY291bnRfY2lyY2xlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoXCJVU0VSQ1BfVVJMXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5kb25lX2FsbDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIG9wdGlvbnNcIil9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGFuZ2VBdmF0YXJ9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cG9ydHJhaXQ8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBhdmF0YXJcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIHshIXVzZXIuYWNsLmNhbl91c2VfcHJpdmF0ZV90aHJlYWRzICYmIChcbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KFwiUFJJVkFURV9USFJFQURTX1VSTFwiKX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlByaXZhdGUgdGhyZWFkc1wiKX1cbiAgICAgICAgICAgICAgPFByaXZhdGVUaHJlYWRzQmFkZ2UgdXNlcj17dXNlcn0gLz5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApfVxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1idXR0b25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvZ291dH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTG9nIG91dFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlVGhyZWFkc0JhZGdlKHsgdXNlciB9KSB7XG4gIGlmICghdXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPnt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9PC9zcGFuPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gVXNlck5hdih7IHVzZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJ1bCBuYXYgbmF2YmFyLW5hdiBuYXYtdXNlclwiPlxuICAgICAgPGxpPlxuICAgICAgICA8TmF2YmFyU2VhcmNoIC8+XG4gICAgICA8L2xpPlxuICAgICAgPFVzZXJQcml2YXRlVGhyZWFkc0xpbmsgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICA8YVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgaHJlZj17dXNlci51cmx9XG4gICAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHVzZXI9e3VzZXJ9IHNpemU9XCI2NFwiIC8+XG4gICAgICAgIDwvYT5cbiAgICAgICAgPFVzZXJNZW51IHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJQcml2YXRlVGhyZWFkc0xpbmsoeyB1c2VyIH0pIHtcbiAgaWYgKCF1c2VyLmFjbC5jYW5fdXNlX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGxcblxuICBsZXQgdGl0bGUgPSBudWxsXG4gIGlmICh1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHtcbiAgICB0aXRsZSA9IGdldHRleHQoXCJZb3UgaGF2ZSB1bnJlYWQgcHJpdmF0ZSB0aHJlYWRzIVwiKVxuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gZ2V0dGV4dChcIlByaXZhdGUgdGhyZWFkc1wiKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJuYXZiYXItaWNvblwiXG4gICAgICAgIGhyZWY9e21pc2Fnby5nZXQoXCJQUklWQVRFX1RIUkVBRFNfVVJMXCIpfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICB7dXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzID4gMCAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj57dXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzfTwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RVc2VyTWVudShzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlclxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0VXNlck5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dVc2VyTWVudSgpIHtcbiAgICBkcm9wZG93bi5zaG93Q29ubmVjdGVkKFwidXNlci1tZW51XCIsIGNvbm5lY3Qoc2VsZWN0VXNlck1lbnUpKFVzZXJNZW51KSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93VXNlck1lbnV9PlxuICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT1cIjUwXCIgLz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3MoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0NsYXNzTmFtZSh0aGlzLnByb3BzLnN0YXR1cylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzKCl9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvc3Bhbj5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdHVzSWNvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuIFwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIFwiaGVscF9vdXRsaW5lXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBcImxhYmVsXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gXCJsYWJlbF9vdXRsaW5lXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZSkge1xuICAgICAgcmV0dXJuIFwibGVuc1wiXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgICByZXR1cm4gXCJwYW5vcmFtYV9maXNoX2V5ZVwiXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uIHN0YXR1cy1pY29uXCI+e3RoaXMuZ2V0SWNvbigpfTwvc3Bhbj5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdHVzTGFiZWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwKCkge1xuICAgIHJldHVybiBnZXRTdGF0dXNEZXNjcmlwdGlvbih0aGlzLnByb3BzLnVzZXIsIHRoaXMucHJvcHMuc3RhdHVzKVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJCYW5uZWRcIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJIaWRkZW5cIilcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT25saW5lIChoaWRkZW4pXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lIChoaWRkZW4pXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT25saW5lXCIpXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9mZmxpbmVcIilcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJzdGF0dXMtbGFiZWxcIn1cbiAgICAgICAgdGl0bGU9e3RoaXMuZ2V0SGVscCgpfVxuICAgICAgPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzQ2xhc3NOYW1lKHN0YXR1cykge1xuICBsZXQgY2xhc3NOYW1lID0gXCJcIlxuICBpZiAoc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgIGNsYXNzTmFtZSA9IFwiYmFubmVkXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gXCJvZmZsaW5lXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9IFwib25saW5lXCJcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSBcIm9mZmxpbmVcIlxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSBcIm9ubGluZVwiXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSBcIm9mZmxpbmVcIlxuICB9XG5cbiAgcmV0dXJuIFwidXNlci1zdGF0dXMgdXNlci1cIiArIGNsYXNzTmFtZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzRGVzY3JpcHRpb24odXNlciwgc3RhdHVzKSB7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgaWYgKHN0YXR1cy5iYW5uZWRfdW50aWwpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWQgdW50aWwgJShiYW5fZXhwaXJlcylzXCIpLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgYmFuX2V4cGlyZXM6IHN0YXR1cy5iYW5uZWRfdW50aWwuZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGJhbm5lZFwiKSxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgaGlkaW5nIHByZXNlbmNlXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZSAoaGlkZGVuKVwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgd2FzIGxhc3Qgc2VlbiAlKGxhc3RfY2xpY2spcyAoaGlkZGVuKVwiKSxcbiAgICAgIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgb25saW5lXCIpLFxuICAgICAge1xuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIHRydWVcbiAgICApXG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXNcIiksXG4gICAgICB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBsYXN0X2NsaWNrOiBzdGF0dXMubGFzdF9jbGljay5mcm9tTm93KClcbiAgICAgIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCg4MCwgMTQwKSArIFwicHhcIiB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlclVzZXJBdmF0YXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51cmx9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidXNlci1hdmF0YXItd3JhcHBlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnl9IHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyVXNlcm5hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXNlcm5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5X3VzZXJuYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIga2V5PXt0aGlzLnByb3BzLmNoYW5nZS5pZH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPnt0aGlzLnJlbmRlclVzZXJBdmF0YXIoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXV0aG9yXCI+e3RoaXMucmVuZGVyVXNlcm5hbWUoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvbGQtdXNlcm5hbWVcIj57dGhpcy5wcm9wcy5jaGFuZ2Uub2xkX3VzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+YXJyb3dfZm9yd2FyZDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuZXctdXNlcm5hbWVcIj57dGhpcy5wcm9wcy5jaGFuZ2UubmV3X3VzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWRhdGVcIj5cbiAgICAgICAgICA8YWJiciB0aXRsZT17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mb3JtYXQoXCJMTExcIil9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfb24uZnJvbU5vdygpfVxuICAgICAgICAgIDwvYWJicj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTm8gbmFtZSBjaGFuZ2VzIGhhdmUgYmVlbiByZWNvcmRlZCBmb3IgeW91ciBhY2NvdW50LlwiKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXJlYWR5XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBDaGFuZ2VQcmV2aWV3IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZS1wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1wcmV2aWV3XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAge1swLCAxLCAyXS5tYXAoaSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPENoYW5nZVByZXZpZXcgaGlkZGVuT25Nb2JpbGU9e2kgPiAwfSBrZXk9e2l9IC8+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENoYW5nZSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXJlYWR5XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlcy5tYXAoY2hhbmdlID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8Q2hhbmdlIGNoYW5nZT17Y2hhbmdlfSBrZXk9e2NoYW5nZS5pZH0gLz5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtZW1wdHlcIlxuaW1wb3J0IExpc3RSZWFkeSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5XCJcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXdcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgY2hhbmdlcz17dGhpcy5wcm9wcy5jaGFuZ2VzfSAvPlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX0gLz5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IFN0YXRzIGZyb20gXCIuL3N0YXRzXCJcbmltcG9ydCBVc2VyVGl0bGUgZnJvbSBcIi4vdXNlci10aXRsZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgc2hvd1N0YXR1cywgdXNlciB9KSB7XG4gIGNvbnN0IHsgcmFuayB9ID0gdXNlclxuXG4gIGxldCBjbGFzc05hbWUgPSBcInBhbmVsIHVzZXItY2FyZFwiXG4gIGlmIChyYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSBcIiB1c2VyLWNhcmQtXCIgKyByYW5rLmNzc19jbGFzc1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTMgdXNlci1jYXJkLWxlZnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXNtYWxsLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt1c2VyLnVybH0+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBzaXplPVwiNTBcIiBzaXplMng9XCI4MFwiIHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTkgY29sLXNtLTEyIHVzZXItY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjE1MFwiIHNpemUyeD1cIjIwMFwiIHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC11c2VybmFtZVwiPlxuICAgICAgICAgICAgICA8YSBocmVmPXt1c2VyLnVybH0+e3VzZXIudXNlcm5hbWV9PC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC10aXRsZVwiPlxuICAgICAgICAgICAgICA8VXNlclRpdGxlIHJhbms9e3Jhbmt9IHRpdGxlPXt1c2VyLnRpdGxlfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXN0YXRzXCI+XG4gICAgICAgICAgICAgIDxTdGF0cyBzaG93U3RhdHVzPXtzaG93U3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFVzZXJTdGF0dXMsIHsgU3RhdHVzTGFiZWwgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHNob3dTdGF0dXMsIHVzZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICA8U3RhdHVzIHNob3dTdGF0dXM9e3Nob3dTdGF0dXN9IHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8Sm9pbkRhdGUgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXQtZGl2aWRlclwiIC8+XG4gICAgICA8UG9zdHMgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxUaHJlYWRzIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8Rm9sbG93ZXJzIHVzZXI9e3VzZXJ9IC8+XG4gICAgPC91bD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3RhdHVzKHsgc2hvd1N0YXR1cywgdXNlciB9KSB7XG4gIGlmICghc2hvd1N0YXR1cykgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXQtc3RhdHVzXCI+XG4gICAgICA8VXNlclN0YXR1cyBzdGF0dXM9e3VzZXIuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0xhYmVsIHN0YXR1cz17dXNlci5zdGF0dXN9IHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8L1VzZXJTdGF0dXM+XG4gICAgPC9saT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSm9pbkRhdGUoeyB1c2VyIH0pIHtcbiAgY29uc3QgeyBqb2luZWRfb24gfSA9IHVzZXJcblxuICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiSm9pbmVkIG9uICUoam9pbmVkX29uKXNcIiksXG4gICAge1xuICAgICAgam9pbmVkX29uOiBqb2luZWRfb24uZm9ybWF0KFwiTEwsIExUXCIpXG4gICAgfSxcbiAgICB0cnVlXG4gIClcblxuICBsZXQgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgIGdldHRleHQoXCJKb2luZWQgJShqb2luZWRfb24pc1wiKSxcbiAgICB7XG4gICAgICBqb2luZWRfb246IGpvaW5lZF9vbi5mcm9tTm93KClcbiAgICB9LFxuICAgIHRydWVcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1qb2luLWRhdGVcIj5cbiAgICAgIDxhYmJyIHRpdGxlPXt0aXRsZX0+e21lc3NhZ2V9PC9hYmJyPlxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtcG9zdHNcIiwgdXNlci5wb3N0cylcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShwb3N0cylzIHBvc3RcIiwgXCIlKHBvc3RzKXMgcG9zdHNcIiwgdXNlci5wb3N0cylcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBwb3N0czogdXNlci5wb3N0c1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApfVxuICAgIDwvbGk+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMoeyB1c2VyIH0pIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gZ2V0U3RhdENsYXNzTmFtZShcInVzZXItc3RhdC10aHJlYWRzXCIsIHVzZXIudGhyZWFkcylcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkXCIsXG4gICAgXCIlKHRocmVhZHMpcyB0aHJlYWRzXCIsXG4gICAgdXNlci50aHJlYWRzXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICB0aHJlYWRzOiB1c2VyLnRocmVhZHNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGb2xsb3dlcnMoeyB1c2VyIH0pIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gZ2V0U3RhdENsYXNzTmFtZShcInVzZXItc3RhdC1mb2xsb3dlcnNcIiwgdXNlci5mb2xsb3dlcnMpXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUoZm9sbG93ZXJzKXMgZm9sbG93ZXJcIixcbiAgICBcIiUoZm9sbG93ZXJzKXMgZm9sbG93ZXJzXCIsXG4gICAgdXNlci5mb2xsb3dlcnNcbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGZvbGxvd2VyczogdXNlci5mb2xsb3dlcnNcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKX1cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0Q2xhc3NOYW1lKGNsYXNzTmFtZSwgc3RhdCkge1xuICBpZiAoc3RhdCA9PT0gMCkge1xuICAgIHJldHVybiBjbGFzc05hbWUgKyBcIiB1c2VyLXN0YXQtZW1wdHlcIlxuICB9XG4gIHJldHVybiBjbGFzc05hbWVcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IENhcmQgZnJvbSBcIi4vY2FyZFwiXG5pbXBvcnQgUHJldmlldyBmcm9tIFwiLi9wcmV2aWV3XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjb2xzLCBpc1JlYWR5LCBzaG93U3RhdHVzLCB1c2VycyB9KSB7XG4gIGxldCBjb2xDbGFzc05hbWUgPSBcImNvbC14cy0xMiBjb2wtc20tNFwiXG4gIGlmIChjb2xzID09PSA0KSB7XG4gICAgY29sQ2xhc3NOYW1lICs9IFwiIGNvbC1tZC0zXCJcbiAgfVxuXG4gIGlmICghaXNSZWFkeSkge1xuICAgIHJldHVybiA8UHJldmlldyBjb2xDbGFzc05hbWU9e2NvbENsYXNzTmFtZX0gY29scz17Y29sc30gLz5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ1c2Vycy1jYXJkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7dXNlcnMubWFwKHVzZXIgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y29sQ2xhc3NOYW1lfSBrZXk9e3VzZXIuaWR9PlxuICAgICAgICAgICAgICA8Q2FyZCBzaG93U3RhdHVzPXtzaG93U3RhdHVzfSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKVxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBBdmF0YXIgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2F2YXRhclwiXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSBcIm1pc2Fnby91dGlscy9yYW5kb21cIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCB1c2VyLWNhcmQgdXNlci1jYXJkLXByZXZpZXdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTMgdXNlci1jYXJkLWxlZnRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc21hbGwtYXZhdGFyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIHNpemUyeD1cIjgwXCIgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1zbS0xMiB1c2VyLWNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjE1MFwiIHNpemUyeD1cIjIwMFwiIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC11c2VybmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNjAsIDE1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC10aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoNjAsIDE1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LWRpdmlkZXJcIiAvPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9jYXJkXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjb2xDbGFzc05hbWUsIGNvbHMgfSkge1xuICBjb25zdCBsaXN0ID0gQXJyYXkuYXBwbHkobnVsbCwgeyBsZW5ndGg6IGNvbHMgfSkubWFwKE51bWJlci5jYWxsLCBOdW1iZXIpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge2xpc3QubWFwKGkgPT4ge1xuICAgICAgICAgIGxldCBjbGFzc05hbWUgPSBjb2xDbGFzc05hbWVcbiAgICAgICAgICBpZiAoaSAhPT0gMCkgY2xhc3NOYW1lICs9IFwiIGhpZGRlbi14c1wiXG4gICAgICAgICAgaWYgKGkgPT09IDMpIGNsYXNzTmFtZSArPSBcIiBoaWRkZW4tc21cIlxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGtleT17aX0+XG4gICAgICAgICAgICAgIDxDYXJkIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBnZXR0ZXh0KFxuICAgICAgICBcIk5vIHVzZXJzIGhhdmUgcG9zdGVkIGFueSBuZXcgbWVzc2FnZXMgZHVyaW5nIGxhc3QgJShkYXlzKXMgZGF5cy5cIlxuICAgICAgKSxcbiAgICAgIHsgZGF5czogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kIH0sXG4gICAgICB0cnVlXG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuT25Nb2JpbGUpIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbSBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtXCJcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstbmFtZVwiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY29tcGFjdC1zdGF0cyB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvbiBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIiB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtlZCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWwgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCIgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiVG90YWwgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgQXZhdGFyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hdmF0YXJcIlxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1c1wiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gXCJtaXNhZ28vdXRpbHMvcmFuZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLXJhbmstXCIgKyB0aGlzLnByb3BzLnJhbmsuY3NzX2NsYXNzXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLnN0YXR1cykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFN0YXR1cyB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c30+XG4gICAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgICAgPFN0YXR1c0xhYmVsXG4gICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9TdGF0dXM+XG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCIgfX1cbiAgICAgICAgPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKVxuICB9XG5cbiAgZ2V0UmFua05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJhbmsuaXNfdGFiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPnt0aGlzLnByb3BzLnJhbmsubmFtZX08L3NwYW4+XG4gICAgICApXG4gICAgfVxuXG4gICAgbGV0IHJhbmtVcmwgPSBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyB0aGlzLnByb3BzLnJhbmsuc2x1ZyArIFwiL1wiXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rIHRvPXtyYW5rVXJsfSBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5yYW5rLm5hbWV9XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy51c2VyLnRpdGxlKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnRpdGxlfVxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci51cmx9PlxuICAgICAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHNpemU9ezUwfSBzaXplMng9ezY0fSAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLnVybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRSYW5rTmFtZSgpfVxuICAgICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNvbXBhY3Qtc3RhdHMgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPiN7dGhpcy5wcm9wcy5jb3VudGVyfTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIubWV0YS5zY29yZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvbiBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPiN7dGhpcy5wcm9wcy5jb3VudGVyfTwvc3Ryb25nPlxuICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLm1ldGEuc2NvcmV9PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy10b3RhbCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIucG9zdHN9PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiVG90YWwgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgSXRlbVByZXZpZXcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbS1wcmV2aWV3XCJcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tIFwibWlzYWdvL3V0aWxzL3JhbmRvbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiByYW5kb20uaW50KDUwLCAyMjApICsgXCJweFwiIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcHJldmlld1wiPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgICAge1swLCAxLCAyXS5tYXAoaSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxJdGVtUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbVwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZE1lc3NhZ2UoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShwb3N0ZXJzKXMgdG9wIHBvc3RlciBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgIFwiJShwb3N0ZXJzKXMgdG9wIHBvc3RlcnMgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICB0aGlzLnByb3BzLmNvdW50XG4gICAgKVxuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgbWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgcG9zdGVyczogdGhpcy5wcm9wcy5jb3VudCxcbiAgICAgICAgZGF5czogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPnt0aGlzLmdldExlYWRNZXNzYWdlKCl9PC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycyB1aS1yZWFkeVwiPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMudXNlcnMubWFwKCh1c2VyLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICByYW5rPXt1c2VyLnJhbmt9XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXI9e2kgKyAxfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5XCJcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3XCJcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcmVhZHlcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3VzZXJzXCJcbmltcG9ydCBwb2xscyBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BvbGxzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCB0aXRsZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGVcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICBpZiAobWlzYWdvLmhhcyhcIlVTRVJTXCIpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKFwiVVNFUlNcIikpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKClcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpXG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKVxuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBzdGFydFBvbGxpbmcoKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogXCJhY3RpdmUtcG9zdGVyc1wiLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KFwiVVNFUlNfQVBJXCIpLFxuICAgICAgZGF0YToge1xuICAgICAgICBsaXN0OiBcImFjdGl2ZVwiXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgIHRyYWNrZWRQZXJpb2Q6IGRhdGEudHJhY2tlZF9wZXJpb2QsXG4gICAgICBjb3VudDogZGF0YS5jb3VudFxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IHRoaXMucHJvcHMucm91dGUuZXh0cmEubmFtZSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoXCJhY3RpdmUtcG9zdGVyc1wiKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdFJlYWR5XG4gICAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgIHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH1cbiAgICAgICAgICAgIGNvdW50PXt0aGlzLnN0YXRlLmNvdW50fVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8TGlzdEVtcHR5IHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH0gLz5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlclwiXG5pbXBvcnQgTGkgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2xpXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgYmFzZVVybCwgbGlzdHMgfSkge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICB7bGlzdHMubWFwKGxpc3QgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBsaXN0VXJsKGJhc2VVcmwsIGxpc3QpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpIHBhdGg9e3VybH0ga2V5PXt1cmx9PlxuICAgICAgICAgICAgPExpbmsgdG89e3VybH0+e2xpc3QubmFtZX08L0xpbms+XG4gICAgICAgICAgPC9MaT5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKVxufVxuXG5jb25zdCBsaXN0VXJsID0gZnVuY3Rpb24oYmFzZVVybCwgbGlzdCkge1xuICBsZXQgdXJsID0gYmFzZVVybFxuICBpZiAobGlzdC5jb21wb25lbnQgPT09IFwicmFua1wiKSB7XG4gICAgdXJsICs9IGxpc3Quc2x1Z1xuICB9IGVsc2Uge1xuICAgIHVybCArPSBsaXN0LmNvbXBvbmVudFxuICB9XG4gIHJldHVybiB1cmwgKyBcIi9cIlxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxVc2Vyc0xpc3QgY29scz17NH0gaXNSZWFkeT17ZmFsc2V9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhZ2VyIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL3BhZ2VyXCJcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3RcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8VXNlcnNMaXN0XG4gICAgICAgIGNvbHM9ezR9XG4gICAgICAgIGlzUmVhZHk9e3RydWV9XG4gICAgICAgIHNob3dTdGF0dXM9e3RydWV9XG4gICAgICAgIHVzZXJzPXtwcm9wcy51c2Vyc31cbiAgICAgIC8+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCByZXNldFNjcm9sbCBmcm9tIFwibWlzYWdvL3V0aWxzL3Jlc2V0LXNjcm9sbFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wYWdlcyA9PT0gMSkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiB0ZXh0LWNlbnRlciB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLm1vcmV9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci12ZXJ0aWNhbC1zcGFjZXJcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBjb2wtbWQtNVwiPlxuICAgICAgICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC03IGhpZGRlbi14c1wiPlxuICAgICAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMubW9yZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFnZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctcGFnaW5hdG9yXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxQcmV2aW91c1BhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxOZXh0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTNcIj5cbiAgICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaXJzdFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLmZpcnN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSBcIlwiXG4gICAgaWYgKHByb3BzLnByZXZpb3VzKSB7XG4gICAgICBwcmV2aW91c1VybCA9IHByb3BzLnByZXZpb3VzICsgXCIvXCJcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV4dFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLm1vcmUpIHtcbiAgICBsZXQgbmV4dFVybCA9IFwiXCJcbiAgICBpZiAocHJvcHMubmV4dCkge1xuICAgICAgbmV4dFVybCA9IHByb3BzLm5leHQgKyBcIi9cIlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgbmV4dFVybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBuZXh0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5sYXN0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBwcm9wcy5sYXN0ICsgXCIvXCJ9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGxcbiAgaWYgKHByb3BzLm1vcmUpIHtcbiAgICBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRoZXJlIGlzICUobW9yZSlzIG1vcmUgbWVtYmVyIHdpdGggdGhpcyByb2xlLlwiLFxuICAgICAgXCJUaGVyZSBhcmUgJShtb3JlKXMgbW9yZSBtZW1iZXJzIHdpdGggdGhpcyByb2xlLlwiLFxuICAgICAgcHJvcHMubW9yZVxuICAgIClcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeyBtb3JlOiBwcm9wcy5tb3JlIH0sIHRydWUpXG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gbW9yZSBtZW1iZXJzIHdpdGggdGhpcyByb2xlLlwiKVxuICB9XG5cbiAgcmV0dXJuIDxwPnttZXNzYWdlfTwvcD5cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFBhZ2VMZWFkIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9wYWdlLWxlYWRcIlxuaW1wb3J0IExpc3QgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdFwiXG5pbXBvcnQgTGlzdExvYWRpbmcgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5pbXBvcnQgcG9sbHMgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wb2xsc1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgaWYgKG1pc2Fnby5oYXMoXCJVU0VSU1wiKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcChcIlVTRVJTXCIpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucGFyYW1zLnBhZ2UgfHwgMSlcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24oZGF0YSwge1xuICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICB9KVxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb2xsaW5nKHBhZ2UpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiBcInJhbmstdXNlcnNcIixcbiAgICAgIHVybDogbWlzYWdvLmdldChcIlVTRVJTX0FQSVwiKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmFuazogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmlkLFxuICAgICAgICBwYWdlOiBwYWdlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZSA9IGRhdGEgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSlcblxuICAgIGRhdGEuaXNMb2FkZWQgPSB0cnVlXG4gICAgdGhpcy5zZXRTdGF0ZShkYXRhKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoXCJyYW5rLXVzZXJzXCIpXG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlICE9PSBuZXh0UHJvcHMucGFyYW1zLnBhZ2UpIHtcbiAgICAgIHRpdGxlLnNldCh7XG4gICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgICAgcGFnZTogbmV4dFByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgICBwb2xscy5zdG9wKFwicmFuay11c2Vyc1wiKVxuICAgICAgdGhpcy5zdGFydFBvbGxpbmcobmV4dFByb3BzLnBhcmFtcy5wYWdlKVxuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwicmFuay11c2Vycy1saXN0IHJhbmstdXNlcnMtXCIgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcInJhbmstdXNlcnMtbGlzdFwiXG4gICAgfVxuICB9XG5cbiAgZ2V0UmFua0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxQYWdlTGVhZCBjb3B5PXt0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA+IDApIHtcbiAgICAgICAgbGV0IGJhc2VVcmwgPVxuICAgICAgICAgIG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIHRoaXMucHJvcHMucm91dGUucmFuay5zbHVnICsgXCIvXCJcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdCBiYXNlVXJsPXtiYXNlVXJsfSB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc30gey4uLnRoaXMuc3RhdGV9IC8+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJUaGVyZSBhcmUgbm8gdXNlcnMgd2l0aCB0aGlzIHJhbmsgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgICAgPC9wPlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8TGlzdExvYWRpbmcgLz5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICB7dGhpcy5nZXRSYW5rRGVzY3JpcHRpb24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRDb21wb25lbnQoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZVwiXG5pbXBvcnQgTmF2IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9uYXZcIlxuaW1wb3J0IEFjdGl2ZVBvc3RlcnMgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL3Jvb3RcIlxuaW1wb3J0IFJhbmsgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdFwiXG5pbXBvcnQgV2l0aERyb3Bkb3duIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS11c2Vycy1saXN0c1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiVXNlcnNcIil9PC9oMT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8TmF2XG4gICAgICAgICAgICAgICAgICBsaXN0cz17bWlzYWdvLmdldChcIlVTRVJTX0xJU1RTXCIpfVxuICAgICAgICAgICAgICAgICAgYmFzZVVybD17bWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICB0aWNrOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgdXNlcjogc3RvcmUuYXV0aC51c2VyLFxuICAgIHVzZXJzOiBzdG9yZS51c2Vyc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgbGV0IHBhdGhzID0gW11cblxuICBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVFNcIikuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGl0ZW0uY29tcG9uZW50ID09PSBcInJhbmtcIikge1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSArIGl0ZW0uc2x1ZyArIFwiLzpwYWdlL1wiLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSlcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KFwiVVNFUlNfTElTVF9VUkxcIikgKyBpdGVtLnNsdWcgKyBcIi9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gXCJhY3RpdmUtcG9zdGVyc1wiKSB7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldChcIlVTRVJTX0xJU1RfVVJMXCIpICsgaXRlbS5jb21wb25lbnQgKyBcIi9cIixcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQWN0aXZlUG9zdGVycyksXG4gICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBwYXRoc1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9XG4gIH1cblxuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogIXRoaXMuc3RhdGUuZHJvcGRvd25cbiAgICB9KVxuICB9XG5cbiAgaGlkZU5hdiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBnZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duKSB7XG4gICAgICByZXR1cm4gXCJjb21wYWN0LW5hdiBvcGVuXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiY29tcGFjdC1uYXZcIlxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLXllcy1ubyBidG4teWVzLW5vLW9uXCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vZmZcIlxuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKCEhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9uIHx8IFwiY2hlY2tfYm94XCJcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9mZiB8fCBcImNoZWNrX2JveF9vdXRsaW5lX2JsYW5rXCJcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoISF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9uIHx8IGdldHRleHQoXCJ5ZXNcIilcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPZmYgfHwgZ2V0dGV4dChcIm5vXCIpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIHZhbHVlOiAhdGhpcy5wcm9wcy52YWx1ZVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlfVxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IG51bGx9XG4gICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbXCJhcmlhLWRlc2NyaWJlZGJ5XCJdIHx8IG51bGx9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+e3RoaXMuZ2V0SWNvbigpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj57dGhpcy5nZXRMYWJlbCgpfTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBsb2FkIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHNcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IGRhdGEsIGRpc3BhdGNoLCB1c2VyIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5pZCA9PT0gdXNlci5pZCkgcmV0dXJuXG5cbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLmRldGFpbHMpLnRoZW4oXG4gICAgICBkYXRhID0+IHtcbiAgICAgICAgZGlzcGF0Y2gobG9hZChkYXRhKSlcbiAgICAgIH0sXG4gICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gIH1cbn1cbiIsImltcG9ydCBPcmRlcmVkTGlzdCBmcm9tIFwibWlzYWdvL3V0aWxzL29yZGVyZWQtbGlzdFwiXG5cbmV4cG9ydCBjbGFzcyBNaXNhZ28ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMgPSBbXVxuICAgIHRoaXMuX2NvbnRleHQgPSB7fVxuICB9XG5cbiAgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXIpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMucHVzaCh7XG4gICAgICBrZXk6IGluaXRpYWxpemVyLm5hbWUsXG5cbiAgICAgIGl0ZW06IGluaXRpYWxpemVyLmluaXRpYWxpemVyLFxuXG4gICAgICBhZnRlcjogaW5pdGlhbGl6ZXIuYWZ0ZXIsXG4gICAgICBiZWZvcmU6IGluaXRpYWxpemVyLmJlZm9yZVxuICAgIH0pXG4gIH1cblxuICBpbml0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dFxuXG4gICAgdmFyIGluaXRPcmRlciA9IG5ldyBPcmRlcmVkTGlzdCh0aGlzLl9pbml0aWFsaXplcnMpLm9yZGVyZWRWYWx1ZXMoKVxuICAgIGluaXRPcmRlci5mb3JFYWNoKGluaXRpYWxpemVyID0+IHtcbiAgICAgIGluaXRpYWxpemVyKHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIC8vIGNvbnRleHQgYWNjZXNzb3JzXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9jb250ZXh0W2tleV1cbiAgfVxuXG4gIGdldChrZXksIGZhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0W2tleV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIHBvcChrZXkpIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgbGV0IHZhbHVlID0gdGhpcy5fY29udGV4dFtrZXldXG4gICAgICB0aGlzLl9jb250ZXh0W2tleV0gPSBudWxsXG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufVxuXG4vLyBjcmVhdGUgIHNpbmdsZXRvblxudmFyIG1pc2FnbyA9IG5ldyBNaXNhZ28oKVxuXG4vLyBleHBvc2UgaXQgZ2xvYmFsbHlcbmdsb2JhbC5taXNhZ28gPSBtaXNhZ29cblxuLy8gYW5kIGV4cG9ydCBpdCBmb3IgdGVzdHMgYW5kIHN0dWZmXG5leHBvcnQgZGVmYXVsdCBtaXNhZ29cbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYWpheC5pbml0KG1pc2Fnby5nZXQoXCJDU1JGX0NPT0tJRV9OQU1FXCIpKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImFqYXhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9hdXRoXCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmNvbnN0IEFVVEhfU1lOQ19SQVRFID0gNDUgLy8gc3luYyB1c2VyIHdpdGggYmFja2VuZCBldmVyeSA0NSBzZWNvbmRzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KFwiaXNBdXRoZW50aWNhdGVkXCIpKSB7XG4gICAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgYWpheC5nZXQoY29udGV4dC5nZXQoXCJBVVRIX0FQSVwiKSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9LCBBVVRIX1NZTkNfUkFURSAqIDEwMDApXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJhdXRoLXN5bmNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJhdXRoXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGF1dGggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hdXRoXCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcbmltcG9ydCBzdG9yYWdlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhdXRoLmluaXQoc3RvcmUsIHN0b3JhZ2UsIG1vZGFsKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImF1dGhcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBhamF4IGZyb20gXCJtaXNhZ28vc2VydmljZXMvYWpheFwiXG5pbXBvcnQgY2FwdGNoYSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2NhcHRjaGFcIlxuaW1wb3J0IGluY2x1ZGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9pbmNsdWRlXCJcbmltcG9ydCBzbmFja2JhciBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBjYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY2FwdGNoYVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgQWNjZXB0QWdyZWVtZW50IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9hY2NlcHQtYWdyZWVtZW50XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVxdWlyZWQtYWdyZWVtZW50LW1vdW50XCIpKSB7XG4gICAgbW91bnQoXG4gICAgICA8QWNjZXB0QWdyZWVtZW50IGFwaT17Y29udGV4dC5nZXQoXCJSRVFVSVJFRF9BR1JFRU1FTlRfQVBJXCIpfSAvPixcbiAgICAgIFwicmVxdWlyZWQtYWdyZWVtZW50LW1vdW50XCIsXG4gICAgICBmYWxzZVxuICAgIClcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDphY2NlcHQtYWdyZWVtZW50XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBBdXRoTWVzc2FnZSwgeyBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQXV0aE1lc3NhZ2UpLCBcImF1dGgtbWVzc2FnZS1tb3VudFwiKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDphdXRoLW1lc3NhZ2VcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tIFwibWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJCQU5fTUVTU0FHRVwiKSkge1xuICAgIHNob3dCYW5uZWRQYWdlKGNvbnRleHQuZ2V0KFwiQkFOX01FU1NBR0VcIiksIGZhbHNlKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OmJhbm1lZC1wYWdlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IENhdGVnb3JpZXMsIHsgc2VsZWN0IH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXNcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXRlZ29yaWVzLW1vdW50XCIpKSB7XG4gICAgbW91bnQoY29ubmVjdChzZWxlY3QpKENhdGVnb3JpZXMpLCBcImNhdGVnb3JpZXMtbW91bnRcIilcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpjYXRlZ29yaWVzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBPcHRpb25zLCB7IHBhdGhzIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVVNFUl9PUFRJT05TXCIpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldChcIlVTRVJDUF9VUkxcIiksXG4gICAgICBjb21wb25lbnQ6IE9wdGlvbnMsXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6b3B0aW9uc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCBQcm9maWxlLCB7IHBhdGhzLCBzZWxlY3QgfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJQUk9GSUxFXCIpICYmIGNvbnRleHQuaGFzKFwiUFJPRklMRV9QQUdFU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoXCJQUk9GSUxFXCIpLnVybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFByb2ZpbGUpLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnByb2ZpbGVcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBSZXF1ZXN0QWN0aXZhdGlvbkxpbmsgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudFwiKSkge1xuICAgIG1vdW50KFJlcXVlc3RBY3RpdmF0aW9uTGluaywgXCJyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudFwiLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpyZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IFJlcXVlc3RQYXNzd29yZFJlc2V0IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LW1vdW50XCIpKSB7XG4gICAgbW91bnQoUmVxdWVzdFBhc3N3b3JkUmVzZXQsIFwicmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudFwiLCBmYWxzZSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnb1wiXG5pbXBvcnQgUmVzZXRQYXNzd29yZEZvcm0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm1cIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2V0LXBhc3N3b3JkLWZvcm0tbW91bnRcIikpIHtcbiAgICBtb3VudChSZXNldFBhc3N3b3JkRm9ybSwgXCJyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50XCIsIGZhbHNlKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnJlc2V0LXBhc3N3b3JkLWZvcm1cIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHBhdGhzIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zZWFyY2hcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldChcIkNVUlJFTlRfTElOS1wiKSA9PT0gXCJtaXNhZ286c2VhcmNoXCIpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMobWlzYWdvLmdldChcIlNFQVJDSF9QUk9WSURFUlNcIikpXG4gICAgfSlcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpzZWFyY2hcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgU25hY2tiYXIsIHNlbGVjdCB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zbmFja2JhclwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKFNuYWNrYmFyKSwgXCJzbmFja2Jhci1tb3VudFwiKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpzbmFja2JhclwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInNuYWNrYmFyXCJcbn0pXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBTb2NpYWxBdXRoIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9zb2NpYWwtYXV0aFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ29cIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoXCJDVVJSRU5UX0xJTktcIikgPT09IFwibWlzYWdvOnNvY2lhbC1jb21wbGV0ZVwiKSB7XG4gICAgY29uc3QgcHJvcHMgPSBjb250ZXh0LmdldChcIlNPQ0lBTF9BVVRIX0ZPUk1cIilcbiAgICBtb3VudCg8U29jaWFsQXV0aCB7Li4ucHJvcHN9IC8+LCBcInBhZ2UtbW91bnRcIilcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImNvbXBvbmVudDpzb2NpYWwtYXV0aFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKFwiVEhSRUFEXCIpICYmIGNvbnRleHQuaGFzKFwiUE9TVFNcIikpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6dGhyZWFkXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvcm9vdFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IG1vdW50IGZyb20gXCJtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudFwiXG5cbmNvbnN0IFBSSVZBVEVfVEhSRUFEU19MSVNUID0gXCJtaXNhZ286cHJpdmF0ZS10aHJlYWRzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJUSFJFQURTXCIpICYmIGNvbnRleHQuaGFzKFwiQ0FURUdPUklFU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocyhjb250ZXh0LmdldChcInVzZXJcIiksIGdldExpc3RPcHRpb25zKGNvbnRleHQpKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RPcHRpb25zKGNvbnRleHQpIHtcbiAgY29uc3QgY3VycmVudExpbmsgPSBjb250ZXh0LmdldChcIkNVUlJFTlRfTElOS1wiKVxuICBpZiAoXG4gICAgY3VycmVudExpbmsuc3Vic3RyKDAsIFBSSVZBVEVfVEhSRUFEU19MSVNULmxlbmd0aCkgPT09IFBSSVZBVEVfVEhSRUFEU19MSVNUXG4gICkge1xuICAgIHJldHVybiB7XG4gICAgICBhcGk6IGNvbnRleHQuZ2V0KFwiUFJJVkFURV9USFJFQURTX0FQSVwiKSxcbiAgICAgIHN0YXJ0VGhyZWFkOiB7XG4gICAgICAgIG1vZGU6IFwiU1RBUlRfUFJJVkFURVwiLFxuICAgICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoXCJQUklWQVRFX1RIUkVBRFNfQVBJXCIpXG4gICAgICB9LFxuICAgICAgdGl0bGU6IGdldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIiksXG4gICAgICBwYWdlTGVhZDogZ2V0dGV4dChcbiAgICAgICAgXCJQcml2YXRlIHRocmVhZHMgYXJlIHRocmVhZHMgd2hpY2ggb25seSB0aG9zZSB0aGF0IHN0YXJ0ZWQgdGhlbSBhbmQgdGhvc2UgdGhleSBoYXZlIGludml0ZWQgbWF5IHNlZSBhbmQgcGFydGljaXBhdGUgaW4uXCJcbiAgICAgICksXG4gICAgICBlbXB0eU1lc3NhZ2U6IGdldHRleHQoXCJZb3UgYXJlbid0IHBhcnRpY2lwYXRpbmcgaW4gYW55IHByaXZhdGUgdGhyZWFkcy5cIilcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFwaTogY29udGV4dC5nZXQoXCJUSFJFQURTX0FQSVwiKVxuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwiY29tcG9uZW50OnRocmVhZHNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHtcbiAgVXNlck1lbnUsXG4gIENvbXBhY3RVc2VyTWVudSxcbiAgc2VsZWN0XG59IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKFVzZXJNZW51KSwgXCJ1c2VyLW1lbnUtbW91bnRcIilcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKENvbXBhY3RVc2VyTWVudSksIFwidXNlci1tZW51LWNvbXBhY3QtbW91bnRcIilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6dXNlci1tZW51XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBVc2VycywgeyBwYXRocyB9IGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yb290XCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoXCJVU0VSU19MSVNUU1wiKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoXCJVU0VSU19MSVNUX1VSTFwiKSxcbiAgICAgIGNvbXBvbmVudDogVXNlcnMsXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJjb21wb25lbnQ6dXNlcnNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBpbmNsdWRlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvaW5jbHVkZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaW5jbHVkZS5pbml0KGNvbnRleHQuZ2V0KFwiU1RBVElDX1VSTFwiKSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJpbmNsdWRlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc3RvcmFnZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2VcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmFnZS5pbml0KFwibWlzYWdvX1wiKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcImxvY2FsLXN0b3JhZ2VcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBkcm9wZG93biBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd25cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vYmlsZS1uYXZiYXItZHJvcGRvd24tbW91bnRcIilcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBkcm9wZG93bi5pbml0KGVsZW1lbnQpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJkcm9wZG93blwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCBtb2RhbCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL21vZGFsXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1tb3VudFwiKVxuICBpZiAoZWxlbWVudCkge1xuICAgIG1vZGFsLmluaXQoZWxlbWVudClcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcIm1vZGFsXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vbWVudC5sb2NhbGUoJChcImh0bWxcIikuYXR0cihcImxhbmdcIikpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwibW9tZW50XCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgdGl0bGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICB0aXRsZS5pbml0KFxuICAgIGNvbnRleHQuZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1faW5kZXhfdGl0bGUsXG4gICAgY29udGV4dC5nZXQoXCJTRVRUSU5HU1wiKS5mb3J1bV9uYW1lXG4gIClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJwYWdlLXRpdGxlXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgYWpheCBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL2FqYXhcIlxuaW1wb3J0IHNuYWNrYmFyIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc25hY2tiYXJcIlxuaW1wb3J0IHBvbGxzIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9sbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgcG9sbHMuaW5pdChhamF4LCBzbmFja2Jhcilcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJwb2xsc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGFqYXggZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9hamF4XCJcbmltcG9ydCBwb3N0aW5nIGZyb20gXCJtaXNhZ28vc2VydmljZXMvcG9zdGluZ1wiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb3N0aW5nLmluaXQoYWpheCwgc25hY2tiYXIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdGluZy1wbGFjZWhvbGRlclwiKSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJwb3N0aW5nXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL2F1dGhcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXG4gICAgXCJhdXRoXCIsXG4gICAgcmVkdWNlcixcbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGNvbnRleHQuZ2V0KFwiaXNBdXRoZW50aWNhdGVkXCIpLFxuICAgICAgICBpc0Fub255bW91czogIWNvbnRleHQuZ2V0KFwiaXNBdXRoZW50aWNhdGVkXCIpLFxuXG4gICAgICAgIHVzZXI6IGNvbnRleHQuZ2V0KFwidXNlclwiKVxuICAgICAgfSxcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgIClcbiAgKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6YXV0aFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiVEhSRUFEXCIpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gbWlzYWdvLmdldChcIlRIUkVBRFwiKS5wYXJ0aWNpcGFudHNcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwYXJ0aWNpcGFudHNcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlIHx8IFtdKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cGFydGljaXBhbnRzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaHlkcmF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvcG9sbFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbFxuICBpZiAobWlzYWdvLmhhcyhcIlRIUkVBRFwiKSAmJiBtaXNhZ28uZ2V0KFwiVEhSRUFEXCIpLnBvbGwpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoXCJUSFJFQURcIikucG9sbClcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInBvbGxcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cG9sbFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsXG4gIGlmIChtaXNhZ28uaGFzKFwiUE9TVFNcIikpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoXCJQT1NUU1wiKSlcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcihcInBvc3RzXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnBvc3RzXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFX0RFVEFJTFNcIikpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBtaXNhZ28uZ2V0KFwiUFJPRklMRV9ERVRBSUxTXCIpXG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKFwicHJvZmlsZS1kZXRhaWxzXCIsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSB8fCB7fSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnByb2ZpbGUtZGV0YWlsc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGVcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKG1pc2Fnby5oYXMoXCJQUk9GSUxFXCIpKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShtaXNhZ28uZ2V0KFwiUFJPRklMRVwiKSkpXG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJyZWR1Y2VyOnByb2ZpbGUtaHlkcmF0ZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9wcm9maWxlXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJwcm9maWxlXCIsIHJlZHVjZXIsIHt9KVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6cHJvZmlsZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvXCJcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvc2VhcmNoXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXG4gICAgXCJzZWFyY2hcIixcbiAgICByZWR1Y2VyLFxuICAgIE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSwge1xuICAgICAgcHJvdmlkZXJzOiBtaXNhZ28uZ2V0KFwiU0VBUkNIX1BST1ZJREVSU1wiKSB8fCBbXSxcbiAgICAgIHF1ZXJ5OiBtaXNhZ28uZ2V0KFwiU0VBUkNIX1FVRVJZXCIpIHx8IFwiXCJcbiAgICB9KVxuICApXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjpzZWFyY2hcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvblwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwic2VsZWN0aW9uXCIsIHJlZHVjZXIsIFtdKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6c2VsZWN0aW9uXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwic25hY2tiYXJcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6c25hY2tiYXJcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGxcbiAgaWYgKG1pc2Fnby5oYXMoXCJUSFJFQURcIikpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoXCJUSFJFQURcIikpXG4gIH0gZWxzZSB7XG4gICAgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ0aHJlYWRcIiwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dGhyZWFkXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aHJlYWRzXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ0aHJlYWRzXCIsIHJlZHVjZXIsIFtdKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dGhyZWFkc1wiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdGlja1wiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKFwidGlja1wiLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwicmVkdWNlcjp0aWNrXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHJlZHVjZXIgZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5XCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoXCJ1c2VybmFtZS1oaXN0b3J5XCIsIHJlZHVjZXIsIFtdKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dXNlcm5hbWUtaGlzdG9yeVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJzdG9yZVwiXG59KVxuIiwiaW1wb3J0IG1pc2FnbyBmcm9tIFwibWlzYWdvL2luZGV4XCJcbmltcG9ydCByZWR1Y2VyIGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IHN0b3JlIGZyb20gXCJtaXNhZ28vc2VydmljZXMvc3RvcmVcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcihcInVzZXJzXCIsIHJlZHVjZXIsIFtdKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInJlZHVjZXI6dXNlcnNcIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc25hY2tiYXIgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zbmFja2JhclwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzbmFja2Jhci5pbml0KHN0b3JlKVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiBcInNuYWNrYmFyXCIsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6IFwic3RvcmVcIlxufSlcbiIsImltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5pbml0KClcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJzdG9yZVwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogXCJfZW5kXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IHsgZG9UaWNrIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy90aWNrXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3QgVElDS19QRVJJT0QgPSA1MCAqIDEwMDAgLy9kbyB0aGUgdGljayBldmVyeSA1MHNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChkb1RpY2soKSlcbiAgfSwgVElDS19QRVJJT0QpXG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6IFwidGljay1zdGFydFwiLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiBcInN0b3JlXCJcbn0pXG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gXCJtaXNhZ28vaW5kZXhcIlxuaW1wb3J0IGluY2x1ZGUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9pbmNsdWRlXCJcbmltcG9ydCB6eGN2Ym4gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy96eGN2Ym5cIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgenhjdmJuLmluaXQoaW5jbHVkZSlcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogXCJ6eGN2Ym5cIixcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KVxuIiwiaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy91c2Vyc1wiXG5cbmV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICBzaWduZWRJbjogZmFsc2UsXG4gIHNpZ25lZE91dDogZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IFBBVENIX1VTRVIgPSBcIlBBVENIX1VTRVJcIlxuZXhwb3J0IGNvbnN0IFNJR05fSU4gPSBcIlNJR05fSU5cIlxuZXhwb3J0IGNvbnN0IFNJR05fT1VUID0gXCJTSUdOX09VVFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1VTRVIsXG4gICAgcGF0Y2hcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbkluKHVzZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX0lOLFxuICAgIHVzZXJcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbk91dChzb2Z0ID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX09VVCxcbiAgICBzb2Z0XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9VU0VSOlxuICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpXG4gICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwgYWN0aW9uLnBhdGNoKVxuICAgICAgcmV0dXJuIG5ld1N0YXRlXG5cbiAgICBjYXNlIFNJR05fSU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgc2lnbmVkSW46IGFjdGlvbi51c2VyXG4gICAgICB9KVxuXG4gICAgY2FzZSBTSUdOX09VVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgICBpc0Fub255bW91czogdHJ1ZSxcbiAgICAgICAgc2lnbmVkT3V0OiAhYWN0aW9uLnNvZnRcbiAgICAgIH0pXG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpXG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKVxuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFJFUExBQ0VfUEFSVElDSVBBTlRTID0gXCJSRVBMQUNFX1BBUlRJQ0lQQU5UU1wiXG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9QQVJUSUNJUEFOVFMsXG4gICAgc3RhdGU6IG5ld1N0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFydGljaXBhbnRzKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9QQVJUSUNJUEFOVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5cbmV4cG9ydCBjb25zdCBCVVNZX1BPTEwgPSBcIkJVU1lfUE9MTFwiXG5leHBvcnQgY29uc3QgUkVMRUFTRV9QT0xMID0gXCJSRUxFQVNFX1BPTExcIlxuZXhwb3J0IGNvbnN0IFJFTU9WRV9QT0xMID0gXCJSRU1PVkVfUE9MTFwiXG5leHBvcnQgY29uc3QgUkVQTEFDRV9QT0xMID0gXCJSRVBMQUNFX1BPTExcIlxuZXhwb3J0IGNvbnN0IFVQREFURV9QT0xMID0gXCJVUERBVEVfUE9MTFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgbGV0IGhhc1NlbGVjdGVkQ2hvaWNlcyA9IGZhbHNlXG4gIGZvciAoY29uc3QgaSBpbiBqc29uLmNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBqc29uLmNob2ljZXNbaV1cbiAgICBpZiAoY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBoYXNTZWxlY3RlZENob2ljZXMgPSB0cnVlXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcG9zdGVkX29uOiBtb21lbnQoanNvbi5wb3N0ZWRfb24pLFxuXG4gICAgaGFzU2VsZWN0ZWRDaG9pY2VzLFxuICAgIGVuZHNPbjoganNvbi5sZW5ndGhcbiAgICAgID8gbW9tZW50KGpzb24ucG9zdGVkX29uKS5hZGQoanNvbi5sZW5ndGgsIFwiZGF5c1wiKVxuICAgICAgOiBudWxsLFxuXG4gICAgaXNCdXN5OiBmYWxzZVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVzeSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBCVVNZX1BPTExcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRUxFQVNFX1BPTExcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSwgaHlkcmF0ZWQgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUE9MTCxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1BPTEwsXG4gICAgZGF0YVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVNT1ZFX1BPTExcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQlVTWV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGlzQnVzeTogdHJ1ZSB9KVxuXG4gICAgY2FzZSBSRUxFQVNFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaXNCdXN5OiBmYWxzZSB9KVxuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH1cblxuICAgIGNhc2UgUkVQTEFDRV9QT0xMOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgY2FzZSBVUERBVEVfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLmRhdGEpXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgeyBoeWRyYXRlVXNlciB9IGZyb20gXCIuL3VzZXJzXCJcblxuZXhwb3J0IGNvbnN0IFBBVENIX1BPU1QgPSBcIlBBVENIX1BPU1RcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcG9zdGVkX29uOiBtb21lbnQoanNvbi5wb3N0ZWRfb24pLFxuICAgIHVwZGF0ZWRfb246IG1vbWVudChqc29uLnVwZGF0ZWRfb24pLFxuICAgIGhpZGRlbl9vbjogbW9tZW50KGpzb24uaGlkZGVuX29uKSxcblxuICAgIGF0dGFjaG1lbnRzOiBqc29uLmF0dGFjaG1lbnRzXG4gICAgICA/IGpzb24uYXR0YWNobWVudHMubWFwKGh5ZHJhdGVBdHRhY2htZW50KVxuICAgICAgOiBudWxsLFxuICAgIHBvc3RlcjoganNvbi5wb3N0ZXIgPyBoeWRyYXRlVXNlcihqc29uLnBvc3RlcikgOiBudWxsLFxuXG4gICAgaXNTZWxlY3RlZDogZmFsc2UsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlQXR0YWNobWVudChqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgdXBsb2FkZWRfb246IG1vbWVudChqc29uLnVwbG9hZGVkX29uKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocG9zdCwgcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9QT1NULFxuICAgIHBvc3QsXG4gICAgcGF0Y2hcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0KHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUEFUQ0hfUE9TVDpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5wYXRjaClcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgcG9zdFJlZHVjZXIsIHtcbiAgUEFUQ0hfUE9TVCxcbiAgaHlkcmF0ZSBhcyBoeWRyYXRlUG9zdFxufSBmcm9tIFwibWlzYWdvL3JlZHVjZXJzL3Bvc3RcIlxuXG5leHBvcnQgY29uc3QgQVBQRU5EX1BPU1RTID0gXCJBUFBFTkRfUE9TVFNcIlxuZXhwb3J0IGNvbnN0IFNFTEVDVF9QT1NUID0gXCJTRUxFQ1RfUE9TVFwiXG5leHBvcnQgY29uc3QgREVTRUxFQ1RfUE9TVCA9IFwiREVTRUxFQ1RfUE9TVFwiXG5leHBvcnQgY29uc3QgREVTRUxFQ1RfUE9TVFMgPSBcIkRFU0VMRUNUX1BPU1RTXCJcbmV4cG9ydCBjb25zdCBMT0FEX1BPU1RTID0gXCJMT0FEX1BPU1RTXCJcbmV4cG9ydCBjb25zdCBVTkxPQURfUE9TVFMgPSBcIlVOTE9BRF9QT1NUU1wiXG5leHBvcnQgY29uc3QgVVBEQVRFX1BPU1RTID0gXCJVUERBVEVfUE9TVFNcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NULFxuICAgIHBvc3RcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZWxlY3RBbGwoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVFNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcmVzdWx0czoganNvbi5yZXN1bHRzLm1hcChoeWRyYXRlUG9zdCksXG4gICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChuZXdTdGF0ZSwgaHlkcmF0ZWQgPSBmYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IExPQURfUE9TVFMsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfUE9TVFMsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVU5MT0FEX1BPU1RTXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9QT1NUUyxcbiAgICB1cGRhdGU6IG5ld1N0YXRlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdHMoc3RhdGUgPSB7fSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRUxFQ1RfUE9TVDpcbiAgICAgIGNvbnN0IHNlbGVjdGVkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHBvc3RcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IHNlbGVjdGVkUG9zdHNcbiAgICAgIH0pXG5cbiAgICBjYXNlIERFU0VMRUNUX1BPU1Q6XG4gICAgICBjb25zdCBkZXNlbGV0ZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKHBvc3QgPT4ge1xuICAgICAgICBpZiAocG9zdC5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHBvc3RcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZFBvc3RzXG4gICAgICB9KVxuXG4gICAgY2FzZSBERVNFTEVDVF9QT1NUUzpcbiAgICAgIGNvbnN0IGRlc2VsZXRlZEFsbFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAocG9zdCA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRBbGxQb3N0c1xuICAgICAgfSlcblxuICAgIGNhc2UgQVBQRU5EX1BPU1RTOlxuICAgICAgbGV0IHJlc3VsdHMgPSBzdGF0ZS5yZXN1bHRzLnNsaWNlKClcbiAgICAgIGNvbnN0IHJlc3VsdHNJZHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QuaWRcbiAgICAgIH0pXG5cbiAgICAgIGFjdGlvbi5zdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdHNJZHMuaW5kZXhPZihwb3N0LmlkKSA9PT0gLTEpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocG9zdClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5zdGF0ZSwge1xuICAgICAgICByZXN1bHRzXG4gICAgICB9KVxuXG4gICAgY2FzZSBMT0FEX1BPU1RTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZVxuXG4gICAgY2FzZSBVTkxPQURfUE9TVFM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgICB9KVxuXG4gICAgY2FzZSBVUERBVEVfUE9TVFM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi51cGRhdGUpXG5cbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBjb25zdCByZWR1Y2VkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcChwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3RSZWR1Y2VyKHBvc3QsIGFjdGlvbilcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiByZWR1Y2VkUG9zdHNcbiAgICAgIH0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBMT0FEX0RFVEFJTFMgPSBcIkxPQURfREVUQUlMU1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTE9BRF9ERVRBSUxTLFxuXG4gICAgbmV3U3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRhaWxzKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgTE9BRF9ERVRBSUxTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5uZXdTdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIlxuaW1wb3J0IHtcbiAgVVBEQVRFX0FWQVRBUixcbiAgVVBEQVRFX1VTRVJOQU1FLFxuICBoeWRyYXRlU3RhdHVzXG59IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuXG5leHBvcnQgY29uc3QgSFlEUkFURV9QUk9GSUxFID0gXCJIWURSQVRFX1BST0ZJTEVcIlxuZXhwb3J0IGNvbnN0IFBBVENIX1BST0ZJTEUgPSBcIlBBVENIX1BST0ZJTEVcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShwcm9maWxlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9QUk9GSUxFLFxuICAgIHByb2ZpbGVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9QUk9GSUxFLFxuICAgIHBhdGNoXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEhZRFJBVEVfUFJPRklMRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24ucHJvZmlsZSwge1xuICAgICAgICBqb2luZWRfb246IG1vbWVudChhY3Rpb24ucHJvZmlsZS5qb2luZWRfb24pLFxuICAgICAgICBzdGF0dXM6IGh5ZHJhdGVTdGF0dXMoYWN0aW9uLnByb2ZpbGUuc3RhdHVzKVxuICAgICAgfSlcblxuICAgIGNhc2UgUEFUQ0hfUFJPRklMRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgaWYgKHN0YXRlLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgUkVQTEFDRV9TRUFSQ0ggPSBcIlJFUExBQ0VfU0VBUkNIXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfU0VBUkNIID0gXCJVUERBVEVfU0VBUkNIXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfU0VBUkNIX1BST1ZJREVSID0gXCJVUERBVEVfU0VBUkNIX1BST1ZJREVSXCJcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgcXVlcnk6IFwiXCIsXG4gIHByb3ZpZGVyczogW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1NFQVJDSCxcbiAgICBzdGF0ZToge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHByb3ZpZGVyczogbmV3U3RhdGVcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9TRUFSQ0gsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm92aWRlcihwcm92aWRlcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9TRUFSQ0hfUFJPVklERVIsXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFydGljaXBhbnRzKHN0YXRlID0ge30sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9TRUFSQ0g6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlXG5cbiAgICBjYXNlIFVQREFURV9TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi51cGRhdGUpXG5cbiAgICBjYXNlIFVQREFURV9TRUFSQ0hfUFJPVklERVI6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcHJvdmlkZXJzOiBzdGF0ZS5wcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICBpZiAocHJvdmlkZXIuaWQgPT09IGFjdGlvbi5wcm92aWRlci5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5wcm92aWRlclxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG4iLCJpbXBvcnQgeyB0b2dnbGUgfSBmcm9tIFwibWlzYWdvL3V0aWxzL3NldHNcIlxuXG5leHBvcnQgY29uc3QgU0VMRUNUX0FMTCA9IFwiU0VMRUNUX0FMTFwiXG5leHBvcnQgY29uc3QgU0VMRUNUX05PTkUgPSBcIlNFTEVDVF9OT05FXCJcbmV4cG9ydCBjb25zdCBTRUxFQ1RfSVRFTSA9IFwiU0VMRUNUX0lURU1cIlxuXG5leHBvcnQgZnVuY3Rpb24gYWxsKGl0ZW1zSWRzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0FMTCxcbiAgICBpdGVtczogaXRlbXNJZHNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9uZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfTk9ORVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpdGVtKGl0ZW1JZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNFTEVDVF9JVEVNLFxuICAgIGl0ZW06IGl0ZW1JZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbGVjdGlvbihzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFTEVDVF9BTEw6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zXG5cbiAgICBjYXNlIFNFTEVDVF9OT05FOlxuICAgICAgcmV0dXJuIFtdXG5cbiAgICBjYXNlIFNFTEVDVF9JVEVNOlxuICAgICAgcmV0dXJuIHRvZ2dsZShzdGF0ZSwgYWN0aW9uLml0ZW0pXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0eXBlOiBcImluZm9cIixcbiAgbWVzc2FnZTogXCJcIixcbiAgaXNWaXNpYmxlOiBmYWxzZVxufVxuXG5leHBvcnQgY29uc3QgU0hPV19TTkFDS0JBUiA9IFwiU0hPV19TTkFDS0JBUlwiXG5leHBvcnQgY29uc3QgSElERV9TTkFDS0JBUiA9IFwiSElERV9TTkFDS0JBUlwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNIT1dfU05BQ0tCQVIsXG4gICAgbWVzc2FnZSxcbiAgICBtZXNzYWdlVHlwZTogdHlwZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlU25hY2tiYXIoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSElERV9TTkFDS0JBUlxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNuYWNrYmFyKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24gPSBudWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0hPV19TTkFDS0JBUikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhY3Rpb24ubWVzc2FnZVR5cGUsXG4gICAgICBtZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gSElERV9TTkFDS0JBUikge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiXG5pbXBvcnQgeyBSRU1PVkVfUE9MTCwgUkVQTEFDRV9QT0xMIH0gZnJvbSBcIi4vcG9sbFwiXG5cbmV4cG9ydCBjb25zdCBCVVNZX1RIUkVBRCA9IFwiQlVTWV9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFJFTEVBU0VfVEhSRUFEID0gXCJSRUxFQVNFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgUkVQTEFDRV9USFJFQUQgPSBcIlJFUExBQ0VfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfVEhSRUFEID0gXCJVUERBVEVfVEhSRUFEXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfVEhSRUFEX0FDTCA9IFwiVVBEQVRFX1RIUkVBRF9BQ0xcIlxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgc3RhcnRlZF9vbjogbW9tZW50KGpzb24uc3RhcnRlZF9vbiksXG4gICAgbGFzdF9wb3N0X29uOiBtb21lbnQoanNvbi5sYXN0X3Bvc3Rfb24pLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjoganNvbi5iZXN0X2Fuc3dlcl9tYXJrZWRfb25cbiAgICAgID8gbW9tZW50KGpzb24uYmVzdF9hbnN3ZXJfbWFya2VkX29uKVxuICAgICAgOiBudWxsLFxuXG4gICAgaXNCdXN5OiBmYWxzZVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVzeSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBCVVNZX1RIUkVBRFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfVEhSRUFEXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UobmV3U3RhdGUsIGh5ZHJhdGVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1RIUkVBRCxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRCxcbiAgICBkYXRhXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFjbChkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRF9BQ0wsXG4gICAgZGF0YVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocmVhZChzdGF0ZSA9IHt9LCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEJVU1lfVEhSRUFEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGlzQnVzeTogdHJ1ZSB9KVxuXG4gICAgY2FzZSBSRUxFQVNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBpc0J1c3k6IGZhbHNlIH0pXG5cbiAgICBjYXNlIFJFTU9WRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHBvbGw6IG51bGwgfSlcblxuICAgIGNhc2UgUkVQTEFDRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHBvbGw6IGFjdGlvbi5zdGF0ZSB9KVxuXG4gICAgY2FzZSBSRVBMQUNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGVcblxuICAgIGNhc2UgVVBEQVRFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLmRhdGEpXG5cbiAgICBjYXNlIFVQREFURV9USFJFQURfQUNMOlxuICAgICAgY29uc3QgYWNsID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuYWNsLCBhY3Rpb24uZGF0YSlcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBhY2wgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSBcIm1pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlXCJcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9USFJFQURTID0gXCJBUFBFTkRfVEhSRUFEU1wiXG5leHBvcnQgY29uc3QgREVMRVRFX1RIUkVBRCA9IFwiREVMRVRFX1RIUkVBRFwiXG5leHBvcnQgY29uc3QgRklMVEVSX1RIUkVBRFMgPSBcIkZJTFRFUl9USFJFQURTXCJcbmV4cG9ydCBjb25zdCBIWURSQVRFX1RIUkVBRFMgPSBcIkhZRFJBVEVfVEhSRUFEU1wiXG5leHBvcnQgY29uc3QgUEFUQ0hfVEhSRUFEID0gXCJQQVRDSF9USFJFQURcIlxuZXhwb3J0IGNvbnN0IFNPUlRfVEhSRUFEUyA9IFwiU09SVF9USFJFQURTXCJcblxuZXhwb3J0IGNvbnN0IE1PREVSQVRJT05fUEVSTUlTU0lPTlMgPSBbXG4gIFwiY2FuX2Fubm91bmNlXCIsXG4gIFwiY2FuX2FwcHJvdmVcIixcbiAgXCJjYW5fY2xvc2VcIixcbiAgXCJjYW5faGlkZVwiLFxuICBcImNhbl9tb3ZlXCIsXG4gIFwiY2FuX21lcmdlXCIsXG4gIFwiY2FuX3BpblwiLFxuICBcImNhbl9yZXZpZXdcIlxuXVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zLCBzb3J0aW5nKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1RIUkVBRFMsXG4gICAgaXRlbXMsXG4gICAgc29ydGluZ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVUaHJlYWQodGhyZWFkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVMRVRFX1RIUkVBRCxcbiAgICB0aHJlYWRcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyVGhyZWFkcyhjYXRlZ29yeSwgY2F0ZWdvcmllc01hcCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEZJTFRFUl9USFJFQURTLFxuICAgIGNhdGVnb3J5LFxuICAgIGNhdGVnb3JpZXNNYXBcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfVEhSRUFEUyxcbiAgICBpdGVtc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaCh0aHJlYWQsIHBhdGNoLCBzb3J0aW5nID0gbnVsbCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1RIUkVBRCxcbiAgICB0aHJlYWQsXG4gICAgcGF0Y2gsXG4gICAgc29ydGluZ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0KHNvcnRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTT1JUX1RIUkVBRFMsXG4gICAgc29ydGluZ1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWRfYWNsKSB7XG4gIGxldCBvcHRpb25zID0gW11cbiAgTU9ERVJBVElPTl9QRVJNSVNTSU9OUy5mb3JFYWNoKGZ1bmN0aW9uKHBlcm0pIHtcbiAgICBpZiAodGhyZWFkX2FjbFtwZXJtXSkge1xuICAgICAgb3B0aW9ucy5wdXNoKHBlcm0pXG4gICAgfVxuICB9KVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVRocmVhZCh0aHJlYWQpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRocmVhZCwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudCh0aHJlYWQuc3RhcnRlZF9vbiksXG4gICAgbGFzdF9wb3N0X29uOiBtb21lbnQodGhyZWFkLmxhc3RfcG9zdF9vbiksXG4gICAgbW9kZXJhdGlvbjogZ2V0VGhyZWFkTW9kZXJhdGlvbk9wdGlvbnModGhyZWFkLmFjbClcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlID0gW10sIGFjdGlvbiA9IG51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1RIUkVBRFM6XG4gICAgICBjb25zdCBtZXJnZWRTdGF0ZSA9IGNvbmNhdFVuaXF1ZShhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVUaHJlYWQpLCBzdGF0ZSlcbiAgICAgIHJldHVybiBtZXJnZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKVxuXG4gICAgY2FzZSBERUxFVEVfVEhSRUFEOlxuICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBhY3Rpb24udGhyZWFkLmlkXG4gICAgICB9KVxuXG4gICAgY2FzZSBGSUxURVJfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtQ2F0ZWdvcnkgPSBhY3Rpb24uY2F0ZWdvcmllc01hcFtpdGVtLmNhdGVnb3J5XVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXRlbUNhdGVnb3J5LmxmdCA+PSBhY3Rpb24uY2F0ZWdvcnkubGZ0ICYmXG4gICAgICAgICAgaXRlbUNhdGVnb3J5LnJnaHQgPD0gYWN0aW9uLmNhdGVnb3J5LnJnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gc2FtZSBvciBzdWIgY2F0ZWdvcnlcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ud2VpZ2h0ID09IDIpIHtcbiAgICAgICAgICAvLyBnbG9iYWxseSBwaW5uZWRcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHRocmVhZCBtb3ZlZCBvdXRzaWRlIGRpc3BsYXllZCBzY29wZSwgaGlkZSBpdFxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgY2FzZSBIWURSQVRFX1RIUkVBRFM6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKVxuXG4gICAgY2FzZSBQQVRDSF9USFJFQUQ6XG4gICAgICBjb25zdCBwYXRjaGVkU3RhdGUgPSBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnRocmVhZC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBhY3Rpb24ucGF0Y2gpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKGFjdGlvbi5zb3J0aW5nKSB7XG4gICAgICAgIHJldHVybiBwYXRjaGVkU3RhdGUuc29ydChhY3Rpb24uc29ydGluZylcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRjaGVkU3RhdGVcblxuICAgIGNhc2UgU09SVF9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpXG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0aWNrOiAwXG59XG5cbmV4cG9ydCBjb25zdCBUSUNLID0gXCJUSUNLXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUSUNLXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGljayhzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uID0gbnVsbCkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFRJQ0spIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIHRpY2s6IHN0YXRlLnRpY2sgKyAxXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gXCJtaXNhZ28vcmVkdWNlcnMvdXNlcnNcIlxuaW1wb3J0IGNvbmNhdFVuaXF1ZSBmcm9tIFwibWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWVcIlxuXG5leHBvcnQgY29uc3QgQUREX05BTUVfQ0hBTkdFID0gXCJBRERfTkFNRV9DSEFOR0VcIlxuZXhwb3J0IGNvbnN0IEFQUEVORF9ISVNUT1JZID0gXCJBUFBFTkRfSElTVE9SWVwiXG5leHBvcnQgY29uc3QgSFlEUkFURV9ISVNUT1JZID0gXCJIWURSQVRFX0hJU1RPUllcIlxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmFtZUNoYW5nZShjaGFuZ2UsIHVzZXIsIGNoYW5nZWRCeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFERF9OQU1FX0NIQU5HRSxcbiAgICBjaGFuZ2UsXG4gICAgdXNlcixcbiAgICBjaGFuZ2VkQnlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX0hJU1RPUlksXG4gICAgaXRlbXM6IGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX0hJU1RPUlksXG4gICAgaXRlbXM6IGl0ZW1zXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVOYW1lY2hhbmdlKG5hbWVjaGFuZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG5hbWVjaGFuZ2UsIHtcbiAgICBjaGFuZ2VkX29uOiBtb21lbnQobmFtZWNoYW5nZS5jaGFuZ2VkX29uKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VybmFtZShzdGF0ZSA9IFtdLCBhY3Rpb24gPSBudWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFERF9OQU1FX0NIQU5HRTpcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHN0YXRlLnNsaWNlKClcbiAgICAgIG5ld1N0YXRlLnVuc2hpZnQoe1xuICAgICAgICBpZDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCksIC8vIGp1c3Qgc21hbGwgaGF4IGZvciBnZXR0aW5nIGlkXG4gICAgICAgIGNoYW5nZWRfYnk6IGFjdGlvbi5jaGFuZ2VkQnksXG4gICAgICAgIGNoYW5nZWRfYnlfdXNlcm5hbWU6IGFjdGlvbi5jaGFuZ2VkQnkudXNlcm5hbWUsXG4gICAgICAgIGNoYW5nZWRfb246IG1vbWVudCgpLFxuICAgICAgICBuZXdfdXNlcm5hbWU6IGFjdGlvbi5jaGFuZ2UudXNlcm5hbWUsXG4gICAgICAgIG9sZF91c2VybmFtZTogYWN0aW9uLnVzZXIudXNlcm5hbWVcbiAgICAgIH0pXG4gICAgICByZXR1cm4gbmV3U3RhdGVcblxuICAgIGNhc2UgQVBQRU5EX0hJU1RPUlk6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVOYW1lY2hhbmdlKSlcblxuICAgIGNhc2UgSFlEUkFURV9ISVNUT1JZOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZU5hbWVjaGFuZ2UpXG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pXG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfSlcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKVxuICAgICAgICBpZiAoaXRlbS5jaGFuZ2VkX2J5ICYmIGl0ZW0uY2hhbmdlZF9ieS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uY2hhbmdlZF9ieSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uY2hhbmdlZF9ieSwge1xuICAgICAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtKVxuICAgICAgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSBcIm1pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlXCJcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9VU0VSUyA9IFwiQVBQRU5EX1VTRVJTXCJcbmV4cG9ydCBjb25zdCBIWURSQVRFX1VTRVJTID0gXCJIWURSQVRFX1VTRVJTXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfQVZBVEFSID0gXCJVUERBVEVfQVZBVEFSXCJcbmV4cG9ydCBjb25zdCBVUERBVEVfVVNFUk5BTUUgPSBcIlVQREFURV9VU0VSTkFNRVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfVVNFUlMsXG4gICAgaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShpdGVtcykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfVVNFUlMsXG4gICAgaXRlbXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMsIHtcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrID8gbW9tZW50KHN0YXR1cy5sYXN0X2NsaWNrKSA6IG51bGwsXG4gICAgICBiYW5uZWRfdW50aWw6IHN0YXR1cy5iYW5uZWRfdW50aWwgPyBtb21lbnQoc3RhdHVzLmJhbm5lZF91bnRpbCkgOiBudWxsXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlVXNlcih1c2VyKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB1c2VyLCB7XG4gICAgam9pbmVkX29uOiBtb21lbnQodXNlci5qb2luZWRfb24pLFxuICAgIHN0YXR1czogaHlkcmF0ZVN0YXR1cyh1c2VyLnN0YXR1cylcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcih1c2VyLCBhdmF0YXJzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0FWQVRBUixcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgYXZhdGFyc1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVVc2VybmFtZSh1c2VyLCB1c2VybmFtZSwgc2x1Zykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9VU0VSTkFNRSxcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgdXNlcm5hbWUsXG4gICAgc2x1Z1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXIoc3RhdGUgPSBbXSwgYWN0aW9uID0gbnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBUFBFTkRfVVNFUlM6XG4gICAgICByZXR1cm4gY29uY2F0VW5pcXVlKHN0YXRlLCBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVVc2VyKSlcblxuICAgIGNhc2UgSFlEUkFURV9VU0VSUzpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVVc2VyKVxuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKVxuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uYXZhdGFycyA9IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbVxuICAgICAgfSlcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFqYXgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gbnVsbFxuICAgIHRoaXMuX2NzcmZUb2tlbiA9IG51bGxcbiAgICB0aGlzLl9sb2NrcyA9IHt9XG4gIH1cblxuICBpbml0KGNvb2tpZU5hbWUpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gY29va2llTmFtZVxuICB9XG5cbiAgZ2V0Q3NyZlRva2VuKCkge1xuICAgIGlmIChkb2N1bWVudC5jb29raWUuaW5kZXhPZih0aGlzLl9jb29raWVOYW1lKSAhPT0gLTEpIHtcbiAgICAgIGxldCBjb29raWVSZWdleCA9IG5ldyBSZWdFeHAodGhpcy5fY29va2llTmFtZSArIFwiPShbXjtdKilcIilcbiAgICAgIGxldCBjb29raWUgPSBkb2N1bWVudC5jb29raWUubWF0Y2goY29va2llUmVnZXgpWzBdXG4gICAgICByZXR1cm4gY29va2llID8gY29va2llLnNwbGl0KFwiPVwiKVsxXSA6IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJYLUNTUkZUb2tlblwiOiBzZWxmLmdldENzcmZUb2tlbigpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0YTogZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogbnVsbCxcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG5cbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzXG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJMb3N0IGNvbm5lY3Rpb24gd2l0aCBhcHBsaWNhdGlvbi5cIilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gXCJOT1QgRk9VTkRcIikge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDUwMCAmJiAhcmVqZWN0aW9uLmRldGFpbCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJVbmtub3duIGVycm9yIGhhcyBvY2N1cmVkLlwiKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dFxuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkLmFqYXgoeGhyKVxuICAgIH0pXG4gIH1cblxuICBnZXQodXJsLCBwYXJhbXMsIGxvY2spIHtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB1cmwgKz0gXCI/XCIgKyAkLnBhcmFtKHBhcmFtcylcbiAgICB9XG5cbiAgICBpZiAobG9jaykge1xuICAgICAgbGV0IHNlbGYgPSB0aGlzXG5cbiAgICAgIC8vIHVwZGF0ZSB1cmwgaW4gZXhpc3RpbmcgbG9jaz9cbiAgICAgIGlmICh0aGlzLl9sb2Nrc1tsb2NrXSkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS51cmwgPSB1cmxcbiAgICAgIH1cblxuICAgICAgLy8gaW1tZWRpYXRlbHkgZGVyZWZlcmVuY2UgcHJvbWlzZSBoYW5kbGVycyB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG4gICAgICAvLyB3ZSBhcmUgYWxyZWFkeSB3YWl0aW5nIGZvciBleGlzdGluZyByZXNwb25zZSB0byByZXNvbHZlXG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gcHJvbWlzZSB0aGF0IHdpbGwgYmVnaW4gd2hlbiBvcmlnaW5hbCBvbmUgcmVzb2x2ZXNcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdCkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlXG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxldCB3YWl0ID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAvLyBrZWVwIHdhaXRpbmcgb24gcHJvbWlzZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLndhaXQpIHtcbiAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2FpdCh1cmwpXG4gICAgICAgICAgICAgIH0sIDMwMClcblxuICAgICAgICAgICAgICAvLyBwb2xsIGZvciBuZXcgdXJsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCAhPT0gdXJsKSB7XG4gICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKVxuXG4gICAgICAgICAgICAgIC8vIGFqYXggYmFja2VuZCBmb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IGZhbHNlXG4gICAgICAgICAgICAgIHNlbGYucmVxdWVzdChcIkdFVFwiLCBzZWxmLl9sb2Nrc1tsb2NrXS51cmwpLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodXJsKVxuICAgICAgICAgIH0sIDMwMClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzZXR1cCBuZXcgbG9jayB3aXRob3V0IHdhaXRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9ja3NbbG9ja10gPSB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHdhaXQ6IHRydWUsXG4gICAgICAgICAgd2FpdGVyOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHNlbGYucmVxdWVzdChcIkdFVFwiLCB1cmwpLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXQgPSBmYWxzZVxuICAgICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdCA9IGZhbHNlXG4gICAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgPT09IHVybCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoXCJHRVRcIiwgdXJsKVxuICAgIH1cbiAgfVxuXG4gIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIlBPU1RcIiwgdXJsLCBkYXRhKVxuICB9XG5cbiAgcGF0Y2godXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcIlBBVENIXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIHB1dCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiUFVUXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIGRlbGV0ZSh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFwiREVMRVRFXCIsIHVybCwgZGF0YSlcbiAgfVxuXG4gIHVwbG9hZCh1cmwsIGRhdGEsIHByb2dyZXNzKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IHNlbGYuZ2V0Q3NyZlRva2VuKClcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblxuICAgICAgICB4aHI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxldCB4aHIgPSBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcInByb2dyZXNzXCIsXG4gICAgICAgICAgICBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MoTWF0aC5yb3VuZCgoZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkgKiAxMDApKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIHhoclxuICAgICAgICB9LFxuXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSlcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzXG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJMb3N0IGNvbm5lY3Rpb24gd2l0aCBhcHBsaWNhdGlvbi5cIilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcbiAgICAgICAgICAgICAgXCJVcGxvYWQgd2FzIHJlamVjdGVkIGJ5IHNlcnZlciBhcyB0b28gbGFyZ2UuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gXCJOT1QgRk9VTkRcIikge1xuICAgICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDUwMCAmJiAhcmVqZWN0aW9uLmRldGFpbCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJVbmtub3duIGVycm9yIGhhcyBvY2N1cmVkLlwiKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dFxuXG4gICAgICAgICAgcmVqZWN0KHJlamVjdGlvbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkLmFqYXgoeGhyKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEFqYXgoKVxuIiwiaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9hdXRoXCJcblxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICBpbml0KHN0b3JlLCBsb2NhbCwgbW9kYWwpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlXG4gICAgdGhpcy5fbG9jYWwgPSBsb2NhbFxuICAgIHRoaXMuX21vZGFsID0gbW9kYWxcblxuICAgIC8vIHRlbGwgb3RoZXIgdGFicyB3aGF0IGF1dGggc3RhdGUgaXMgYmVjYXVzZSB3ZSBhcmUgbW9zdCBjdXJyZW50IHdpdGggaXRcbiAgICB0aGlzLnN5bmNTZXNzaW9uKClcblxuICAgIC8vIGxpc3RlbiBmb3Igb3RoZXIgdGFicyB0byB0ZWxsIHVzIHRoYXQgc3RhdGUgY2hhbmdlZFxuICAgIHRoaXMud2F0Y2hTdGF0ZSgpXG4gIH1cblxuICBzeW5jU2Vzc2lvbigpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aFxuICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgICAgIHVzZXJuYW1lOiBzdGF0ZS51c2VyLnVzZXJuYW1lXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoXCJhdXRoXCIsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB3YXRjaFN0YXRlKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5hdXRoXG4gICAgdGhpcy5fbG9jYWwud2F0Y2goXCJhdXRoXCIsIG5ld1N0YXRlID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgc2lnbkluKHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiBuZXdTdGF0ZS51c2VybmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBhdXRoZW50aWNhdGVkIGluIHRoaXMgdGFiXG4gICAgICAgIC8vIGJlY2F1c2Ugc29tZSBicm93c2VyIHBsdWdpbnMgcHJ1bmUgbG9jYWwgc3RvcmVcbiAgICAgICAgLy8gYWdncmVzc2l2ZWx5LCBmb3JjaW5nIGVycm9uZW91cyBtZXNzYWdlIHRvIGRpc3BsYXkgaGVyZVxuICAgICAgICAvLyB0cmFja2luZyBidWcgIzk1NVxuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduT3V0KCkpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLl9tb2RhbC5oaWRlKClcbiAgfVxuXG4gIHNpZ25Jbih1c2VyKSB7XG4gICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbkluKHVzZXIpKVxuICAgIHRoaXMuX2xvY2FsLnNldChcImF1dGhcIiwge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9KVxuICAgIHRoaXMuX21vZGFsLmhpZGUoKVxuICB9XG5cbiAgc2lnbk91dCgpIHtcbiAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduT3V0KCkpXG4gICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlXG4gICAgfSlcbiAgICB0aGlzLl9tb2RhbC5oaWRlKClcbiAgfVxuXG4gIHNvZnRTaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQodHJ1ZSkpXG4gICAgdGhpcy5fbG9jYWwuc2V0KFwiYXV0aFwiLCB7XG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlXG4gICAgfSlcbiAgICB0aGlzLl9tb2RhbC5oaWRlKClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQXV0aCgpXG4iLCIvKiBnbG9iYWwgZ3JlY2FwdGNoYSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gXCJtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwXCJcblxuZXhwb3J0IGNsYXNzIEJhc2VDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0XG4gICAgdGhpcy5fYWpheCA9IGFqYXhcbiAgICB0aGlzLl9pbmNsdWRlID0gaW5jbHVkZVxuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXJcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm9DYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAvLyBpbW1lZGlhdGVseSByZXNvbHZlIGFzIHdlIGRvbid0IGhhdmUgYW55dGhpbmcgdG8gdmFsaWRhdGVcbiAgICAgIHJlc29sdmUoKVxuICAgIH0pXG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBRQUNhcHRjaGEgZXh0ZW5kcyBCYXNlQ2FwdGNoYSB7XG4gIGxvYWQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FqYXguZ2V0KHNlbGYuX2NvbnRleHQuZ2V0KFwiQ0FQVENIQV9BUElcIikpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBzZWxmLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvblxuICAgICAgICAgIHNlbGYuaGVscFRleHQgPSBkYXRhLmhlbHBfdGV4dFxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9zbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmFpbGVkIHRvIGxvYWQgQ0FQVENIQS5cIikpXG4gICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgbGFiZWw9e3RoaXMucXVlc3Rpb259XG4gICAgICAgIGZvcj1cImlkX2NhcHRjaGFcIlxuICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcIlwifVxuICAgICAgICBjb250cm9sQ2xhc3M9e2t3YXJncy5jb250cm9sQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgIGhlbHBUZXh0PXt0aGlzLmhlbHBUZXh0IHx8IG51bGx9XG4gICAgICA+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9jYXB0Y2hhX3N0YXR1c1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17a3dhcmdzLmZvcm0uc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGlkPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgICAgb25DaGFuZ2U9e2t3YXJncy5mb3JtLmJpbmRJbnB1dChcImNhcHRjaGFcIil9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtrd2FyZ3MuZm9ybS5zdGF0ZS5jYXB0Y2hhfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZUNhcHRjaGFDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBncmVjYXB0Y2hhLnJlbmRlcihcInJlY2FwdGNoYVwiLCB7XG4gICAgICBzaXRla2V5OiB0aGlzLnByb3BzLnNpdGVLZXksXG4gICAgICBjYWxsYmFjazogcmVzcG9uc2UgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz5cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZShcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qc1wiLCB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHZhciB3YWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCgpXG4gICAgICAgICAgfSwgMjAwKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3YWl0KClcbiAgICB9KVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUGxlYXNlIHNvbHZlIHRoZSBxdWljayB0ZXN0XCIpfVxuICAgICAgICBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIHZhbGlkYXRpb249e2t3YXJncy5mb3JtLnN0YXRlLmVycm9ycy5jYXB0Y2hhfVxuICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcbiAgICAgICAgICBcIlRoaXMgdGVzdCBoZWxwcyB1cyBwcmV2ZW50IGF1dG9tYXRlZCBzcGFtIHJlZ2lzdHJhdGlvbnMgb24gb3VyIHNpdGUuXCJcbiAgICAgICAgKX1cbiAgICAgID5cbiAgICAgICAgPFJlQ2FwdGNoYUNvbXBvbmVudFxuICAgICAgICAgIGJpbmRpbmc9e2t3YXJncy5mb3JtLmJpbmRJbnB1dChcImNhcHRjaGFcIil9XG4gICAgICAgICAgc2l0ZUtleT17dGhpcy5fY29udGV4dC5nZXQoXCJTRVRUSU5HU1wiKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhcHRjaGEge1xuICBpbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKSB7XG4gICAgc3dpdGNoIChjb250ZXh0LmdldChcIlNFVFRJTkdTXCIpLmNhcHRjaGFfdHlwZSkge1xuICAgICAgY2FzZSBcIm5vXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBcInFhXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcblxuICAgICAgY2FzZSBcInJlXCI6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpXG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKVxuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLnZhbGlkYXRvcigpXG4gIH1cblxuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcHRjaGEuY29tcG9uZW50KGt3YXJncylcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpXG4iLCJleHBvcnQgY2xhc3MgSW5jbHVkZSB7XG4gIGluaXQoc3RhdGljVXJsKSB7XG4gICAgdGhpcy5fc3RhdGljVXJsID0gc3RhdGljVXJsXG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXVxuICB9XG5cbiAgaW5jbHVkZShzY3JpcHQsIHJlbW90ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuX2luY2x1ZGVkLmluZGV4T2Yoc2NyaXB0KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX2luY2x1ZGVkLnB1c2goc2NyaXB0KVxuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSlcbiAgICB9XG4gIH1cblxuICBfaW5jbHVkZShzY3JpcHQsIHJlbW90ZSkge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICghcmVtb3RlID8gdGhpcy5fc3RhdGljVXJsIDogXCJcIikgKyBzY3JpcHQsXG4gICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIGRhdGFUeXBlOiBcInNjcmlwdFwiXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgSW5jbHVkZSgpXG4iLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2VcblxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZSB7XG4gIGluaXQocHJlZml4KSB7XG4gICAgdGhpcy5fcHJlZml4ID0gcHJlZml4XG4gICAgdGhpcy5fd2F0Y2hlcnMgPSBbXVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGUgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSlcbiAgICAgIHRoaXMuX3dhdGNoZXJzLmZvckVhY2goZnVuY3Rpb24od2F0Y2hlcikge1xuICAgICAgICBpZiAod2F0Y2hlci5rZXkgPT09IGUua2V5ICYmIGUub2xkVmFsdWUgIT09IGUubmV3VmFsdWUpIHtcbiAgICAgICAgICB3YXRjaGVyLmNhbGxiYWNrKG5ld1ZhbHVlSnNvbilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBzdG9yYWdlLnNldEl0ZW0odGhpcy5fcHJlZml4ICsga2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpXG4gIH1cblxuICBnZXQoa2V5KSB7XG4gICAgbGV0IGl0ZW1TdHJpbmcgPSBzdG9yYWdlLmdldEl0ZW0odGhpcy5fcHJlZml4ICsga2V5KVxuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHdhdGNoKGtleSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl93YXRjaGVycy5wdXNoKHtcbiAgICAgIGtleTogdGhpcy5fcHJlZml4ICsga2V5LFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKClcbiIsImltcG9ydCBtYXJrZWQgZnJvbSAnbWFya2VkJ1xuaW1wb3J0IHsgcGFyc2VZb3V0dWJlVXJsIH0gZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9vbmUtYm94XCJcblxuY29uc3QgbWFyZGtlZFJlbmRlcmVyID0gKGNvbnRlbnQpID0+IHtcbiAgICBtYXJrZWQuc2V0T3B0aW9ucyh7XG4gICAgICAgIHJlbmRlcmVyOiBuZXcgbWFya2VkLlJlbmRlcmVyKCksXG4gICAgICAgIGdmbTogdHJ1ZSxcbiAgICAgICAgdGFibGVzOiBmYWxzZSxcbiAgICAgICAgYnJlYWtzOiBmYWxzZSxcbiAgICAgICAgcGVkYW50aWM6IGZhbHNlLFxuICAgICAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgICAgIHNtYXJ0TGlzdHM6IHRydWUsXG4gICAgICAgIHNtYXJ0eXBhbnRzOiBmYWxzZSxcbiAgICAgICAgLy8gaGlnaGxpZ2h0OiAoY29kZSkgPT4ge1xuICAgICAgICAvLyAgICAgcmV0dXJuIGhsanMuaGlnaGxpZ2h0QXV0byhjb2RlKS52YWx1ZVxuICAgICAgICAvLyB9XG4gICAgfSlcblxuICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpXG5cbiAgICBjb25zdCBoZWFkaW5nUGFyc2UgPSAodGV4dCwgbGV2ZWwpID0+IHtcbiAgICAgICAgcmV0dXJuIGA8aCR7bGV2ZWx9PlxuICAgIDxzcGFuIGNsYXNzPVwiay1oZWFkaW5nXCI+JHt0ZXh0fTwvc3Bhbj5cbiAgPC9oJHtsZXZlbH0+YFxuICAgIH1cbiAgICBjb25zdCBwYXJhZ3JhcGhQYXJzZSA9ICh0ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcmtUYWcgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgJyhcXFxcPVxcXFw9KykoW15cXFxcPVxcXFw9XXxbXlxcXFw9XFxcXD1dW1xcXFxzXFxcXFNdKj9bXlxcXFw9XFxcXD1dKVxcXFwxKD8hXFxcXD1cXFxcPSknLFxuICAgICAgICAgICAgJ2cnXG4gICAgICAgIClcblxuICAgICAgICBpZiAobWFya1RhZy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICBsZXQgYmFjayA9ICcnXG4gICAgICAgICAgICBsZXQgdGV4dEhhbmRsZSA9IHRleHRcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgnXFxuJywgJyAnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKG1hcmtUYWcsICdcXG4nKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgIGxldCBtYXJrVGFncyA9IHRleHQubWF0Y2gobWFya1RhZylcbiAgICAgICAgICAgIGlmICh0ZXh0SGFuZGxlWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1hcmtUYWdzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRIYW5kbGUgPSB0ZXh0SGFuZGxlLmZpbHRlcigoZWwpID0+ICEoZWwubGVuZ3RoID09PSAwKSlcbiAgICAgICAgICAgICAgICAgICAgdGV4dEhhbmRsZS5zcGxpY2UoMiAqIGluZGV4LCAwLCBpdGVtKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRleHRIYW5kbGVbMF0ubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWFya1RhZ3MuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEhhbmRsZSA9IHRleHRIYW5kbGUuZmlsdGVyKChlbCkgPT4gIShlbC5sZW5ndGggPT09IDApKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0SGFuZGxlLnNwbGljZSgyICogaW5kZXggKyAxLCAwLCBpdGVtKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0SGFuZGxlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWFya1RhZy50ZXN0KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2sgKz0gYDxtYXJrPiR7aXRlbS5zdWJzdHIoMiwgaXRlbS5sZW5ndGggLSA0KX08L21hcms+YFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2sgKz0gaXRlbSArICcgJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm4gYDxwPiR7YmFja308L3A+YFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGA8cD4ke3RleHR9PC9wPmBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGxpbmtQYXJzZSA9IChocmVmLCB0aXRsZSwgdGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB5dFJlZ0V4cCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICBcIl4uKig/Oig/OnlvdXR1LmJlL3x2L3x2aS98dS93L3xlbWJlZC8pfCg/Oig/OndhdGNoKT8/dig/OmkpPz18JnYoPzppKT89KSkoW14jJj9dKikuKlwiXG4gICAgICAgIClcbiAgICAgICAgaWYgKHl0UmVnRXhwLnRlc3QoaHJlZikpIHtcbiAgICAgICAgICAgIGNvbnN0IHlvdXR1YmVNb3ZpZSA9IHBhcnNlWW91dHViZVVybChocmVmKVxuICAgICAgICAgICAgaWYgKCEheW91dHViZU1vdmllICYmIHlvdXR1YmVNb3ZpZS5kYXRhICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiXG4gICAgICAgICAgICAgICAgdXJsICs9IHlvdXR1YmVNb3ZpZS52aWRlb1xuICAgICAgICAgICAgICAgIHVybCArPSBcIj9yZWw9MFwiXG4gICAgICAgICAgICAgICAgaWYgKHlvdXR1YmVNb3ZpZS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gXCImc3RhcnQ9XCIgKyB5b3V0dWJlTW92aWUuc3RhcnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gJzxpZnJhbWUgY2xhc3M9XCJlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIiBzcmM9XCInICtcbiAgICAgICAgICAgICAgICAgICAgdXJsICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nXG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZSBlbWJlZC1yZXNwb25zaXZlLTE2Ynk5XCI+JHtwbGF5ZXJ9PC9kaXY+YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGA8YSBocmVmPSR7aHJlZn1cbiAgICAgIHRpdGxlPSR7dGl0bGUgfHwgaHJlZn1cbiAgICAgIHRhcmdldD0nX2JsYW5rJ1xuICAgICAgfT4ke3RleHR9PC9hPmBcbiAgICB9XG5cbiAgICByZW5kZXJlci5wYXJhZ3JhcGggPSBwYXJhZ3JhcGhQYXJzZVxuICAgIHJlbmRlcmVyLmxpbmsgPSBsaW5rUGFyc2VcbiAgICByZW5kZXJlci5oZWFkaW5nID0gaGVhZGluZ1BhcnNlXG5cbiAgICByZXR1cm4gbWFya2VkKGNvbnRlbnQsIHsgcmVuZGVyZXIgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFyZGtlZFJlbmRlcmVyXG4iLCJpbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGxcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gY29tcG9uZW50KSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnRcbiAgICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZClcbiAgICAgICQodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoXCJvcGVuXCIpXG4gICAgfVxuICB9XG5cbiAgc2hvd0Nvbm5lY3RlZChuYW1lLCBjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBuYW1lKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBuYW1lXG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpXG4gICAgICAkKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKFwib3BlblwiKVxuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhcIm9wZW5cIilcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKClcbiIsImltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCBtb3VudCBmcm9tIFwibWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudFwiXG5cbmV4cG9ydCBjbGFzcyBNb2RhbCB7XG4gIGluaXQoZWxlbWVudCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoeyBzaG93OiBmYWxzZSB9KVxuXG4gICAgdGhpcy5fbW9kYWwub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KVxuICAgIH0pXG4gIH1cblxuICBzaG93KGNvbXBvbmVudCkge1xuICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZClcbiAgICB0aGlzLl9tb2RhbC5tb2RhbChcInNob3dcIilcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5fbW9kYWwubW9kYWwoXCJoaWRlXCIpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vZGFsKClcbiIsImNvbnN0IHl0UmVnRXhwID0gbmV3IFJlZ0V4cChcbiAgXCJeLiooPzooPzp5b3V0dS5iZS98di98dmkvfHUvdy98ZW1iZWQvKXwoPzooPzp3YXRjaCk/P3YoPzppKT89fCZ2KD86aSk/PSkpKFteIyY/XSopLipcIlxuKVxuXG5leHBvcnQgY2xhc3MgT25lQm94IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5feW91dHViZSA9IHt9XG4gIH1cblxuICByZW5kZXIgPSBkb21ub2RlID0+IHtcbiAgICBpZiAoIWRvbW5vZGUpIHJldHVyblxuICAgIHRoaXMuaGlnaGxpZ2h0Q29kZShkb21ub2RlKVxuICAgIHRoaXMuZW1iZWRZb3V0dWJlUGxheWVycyhkb21ub2RlKVxuICB9XG5cbiAgaGlnaGxpZ2h0Q29kZShkb21ub2RlKSB7XG4gICAgY29uc3QgY29kZWJsb2NrcyA9IGRvbW5vZGUucXVlcnlTZWxlY3RvckFsbChcInByZT5jb2RlXCIpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjb2RlID0gY29kZWJsb2Nrc1tpXVxuICAgICAgaGxqcy5oaWdobGlnaHRCbG9jayhjb2RlKVxuICAgIH1cbiAgfVxuXG4gIGVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBkb21ub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwPmFcIilcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuY2hvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSBhbmNob3JzW2ldXG4gICAgICBjb25zdCBwID0gYS5wYXJlbnROb2RlXG4gICAgICBjb25zdCBvbmx5Q2hpbGQgPSBwLmNoaWxkTm9kZXMubGVuZ3RoID09PSAxXG5cbiAgICAgIGlmICghdGhpcy5feW91dHViZVthLmhyZWZdKSB7XG4gICAgICAgIHRoaXMuX3lvdXR1YmVbYS5ocmVmXSA9IHBhcnNlWW91dHViZVVybChhLmhyZWYpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHlvdXR1YmVNb3ZpZSA9IHRoaXMuX3lvdXR1YmVbYS5ocmVmXVxuICAgICAgaWYgKG9ubHlDaGlsZCAmJiAhIXlvdXR1YmVNb3ZpZSAmJiB5b3V0dWJlTW92aWUuZGF0YSAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5zd2FwWW91dHViZVBsYXllcihhLCB5b3V0dWJlTW92aWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3dhcFlvdXR1YmVQbGF5ZXIoZWxlbWVudCwgeW91dHViZSkge1xuICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiXG4gICAgdXJsICs9IHlvdXR1YmUudmlkZW9cbiAgICB1cmwgKz0gXCI/cmVsPTBcIlxuICAgIGlmICh5b3V0dWJlLnN0YXJ0KSB7XG4gICAgICB1cmwgKz0gXCImc3RhcnQ9XCIgKyB5b3V0dWJlLnN0YXJ0XG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gJChcbiAgICAgICc8aWZyYW1lIGNsYXNzPVwiZW1iZWQtcmVzcG9uc2l2ZS1pdGVtXCIgc3JjPVwiJyArXG4gICAgICAgIHVybCArXG4gICAgICAgICdcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+J1xuICAgIClcbiAgICAkKGVsZW1lbnQpLnJlcGxhY2VXaXRoKHBsYXllcilcbiAgICBwbGF5ZXIud3JhcCgnPGRpdiBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUgZW1iZWQtcmVzcG9uc2l2ZS0xNmJ5OVwiPjwvZGl2PicpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE9uZUJveCgpXG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVlvdXR1YmVVcmwodXJsKSB7XG4gIGNvbnN0IGNsZWFuZWRVcmwgPSBjbGVhblVybCh1cmwpXG4gIGNvbnN0IHZpZGVvID0gZ2V0VmlkZW9JZEZyb21VcmwoY2xlYW5lZFVybClcblxuICBpZiAoIXZpZGVvKSByZXR1cm4gbnVsbFxuXG4gIGxldCBzdGFydCA9IDBcbiAgaWYgKGNsZWFuZWRVcmwuaW5kZXhPZihcIj9cIikgPiAwKSB7XG4gICAgY29uc3QgcXVlcnkgPSBjbGVhbmVkVXJsLnN1YnN0cihjbGVhbmVkVXJsLmluZGV4T2YoXCI/XCIpICsgMSlcbiAgICBjb25zdCB0aW1lYml0ID0gcXVlcnkuc3BsaXQoXCImXCIpLmZpbHRlcihpID0+IHtcbiAgICAgIHJldHVybiBpLnN1YnN0cigwLCAyKSA9PT0gXCJ0PVwiXG4gICAgfSlbMF1cblxuICAgIGlmICh0aW1lYml0KSB7XG4gICAgICBjb25zdCBiaXRzID0gdGltZWJpdC5zdWJzdHIoMikuc3BsaXQoXCJtXCIpXG4gICAgICBpZiAoYml0c1swXS5zdWJzdHIoLTEpID09PSBcInNcIikge1xuICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzBdLnN1YnN0cigwLCBiaXRzWzBdLmxlbmd0aCAtIDEpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgKz0gcGFyc2VJbnQoYml0c1swXSkgKiA2MFxuICAgICAgICBpZiAoISFiaXRzWzFdICYmIGJpdHNbMV0uc3Vic3RyKC0xKSA9PT0gXCJzXCIpIHtcbiAgICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzFdLnN1YnN0cigwLCBiaXRzWzFdLmxlbmd0aCAtIDEpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICB2aWRlb1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblVybCh1cmwpIHtcbiAgbGV0IGNsZWFuID0gdXJsXG5cbiAgaWYgKHVybC5zdWJzdHIoMCwgOCkgPT09IFwiaHR0cHM6Ly9cIikge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDgpXG4gIH0gZWxzZSBpZiAodXJsLnN1YnN0cigwLCA3KSA9PT0gXCJodHRwOi8vXCIpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig3KVxuICB9XG5cbiAgaWYgKGNsZWFuLnN1YnN0cigwLCA0KSA9PT0gXCJ3d3cuXCIpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig0KVxuICB9XG5cbiAgcmV0dXJuIGNsZWFuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWRlb0lkRnJvbVVybCh1cmwpIHtcbiAgaWYgKHVybC5pbmRleE9mKFwieW91dHVcIikgPT09IC0xKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IHZpZGVvID0gdXJsLm1hdGNoKHl0UmVnRXhwKVxuICBpZiAodmlkZW8pIHtcbiAgICByZXR1cm4gdmlkZW9bMV1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuIiwiZXhwb3J0IGNsYXNzIFBhZ2VUaXRsZSB7XG4gIGluaXQoaW5kZXhUaXRsZSwgZm9ydW1OYW1lKSB7XG4gICAgdGhpcy5faW5kZXhUaXRsZSA9IGluZGV4VGl0bGVcbiAgICB0aGlzLl9mb3J1bU5hbWUgPSBmb3J1bU5hbWVcbiAgfVxuXG4gIHNldCh0aXRsZSkge1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5faW5kZXhUaXRsZSB8fCB0aGlzLl9mb3J1bU5hbWVcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGl0bGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRpdGxlID0geyB0aXRsZTogdGl0bGUgfVxuICAgIH1cblxuICAgIGxldCBmaW5hbFRpdGxlID0gdGl0bGUudGl0bGVcblxuICAgIGlmICh0aXRsZS5wYWdlID4gMSkge1xuICAgICAgY29uc3QgcGFnZUxhYmVsID0gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJwYWdlOiAlKHBhZ2Upc1wiKSxcbiAgICAgICAge1xuICAgICAgICAgIHBhZ2U6IHRpdGxlLnBhZ2VcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuXG4gICAgICBmaW5hbFRpdGxlICs9IFwiIChcIiArIHBhZ2VMYWJlbCArIFwiKVwiXG4gICAgfVxuXG4gICAgaWYgKHRpdGxlLnBhcmVudCkge1xuICAgICAgZmluYWxUaXRsZSArPSBcIiB8IFwiICsgdGl0bGUucGFyZW50XG4gICAgfVxuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBmaW5hbFRpdGxlICsgXCIgfCBcIiArIHRoaXMuX2ZvcnVtTmFtZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQYWdlVGl0bGUoKVxuIiwiZXhwb3J0IGNsYXNzIFBvbGxzIHtcbiAgaW5pdChhamF4LCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhclxuXG4gICAgdGhpcy5fcG9sbHMgPSB7fVxuICB9XG5cbiAgc3RhcnQoa3dhcmdzKSB7XG4gICAgdGhpcy5zdG9wKGt3YXJncy5wb2xsKVxuXG4gICAgY29uc3QgcG9vbFNlcnZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXSA9IGt3YXJnc1xuXG4gICAgICB0aGlzLl9hamF4LmdldChrd2FyZ3MudXJsLCBrd2FyZ3MuZGF0YSB8fCBudWxsKS50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgICAga3dhcmdzLnVwZGF0ZShkYXRhKVxuXG4gICAgICAgICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0udGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KFxuICAgICAgICAgICAgICBwb29sU2VydmVyLFxuICAgICAgICAgICAgICBrd2FyZ3MuZnJlcXVlbmN5XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZWplY3Rpb24gPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLl9zdG9wcGVkKSB7XG4gICAgICAgICAgICBpZiAoa3dhcmdzLmVycm9yKSB7XG4gICAgICAgICAgICAgIGt3YXJncy5lcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLl9zbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKGt3YXJncy5kZWxheWVkKSB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSB7XG4gICAgICAgIHRpbWVvdXQ6IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvb2xTZXJ2ZXIoKVxuICAgIH1cbiAgfVxuXG4gIHN0b3AocG9sbElkKSB7XG4gICAgaWYgKHRoaXMuX3BvbGxzW3BvbGxJZF0pIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcG9sbHNbcG9sbElkXS50aW1lb3V0KVxuICAgICAgdGhpcy5fcG9sbHNbcG9sbElkXS5fc3RvcHBlZCA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBvbGxzKClcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUG9sbEZvcm0gfSBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9sbFwiXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tIFwibWlzYWdvL2NvbXBvbmVudHMvcG9zdGluZ1wiXG5pbXBvcnQgbW91bnQgZnJvbSBcIm1pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnRcIlxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXhcbiAgICB0aGlzLl9zbmFja2JhciA9IHNuYWNrYmFyXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIgPSAkKHBsYWNlaG9sZGVyKVxuXG4gICAgdGhpcy5fbW9kZSA9IG51bGxcblxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlXG4gICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2VcbiAgfVxuXG4gIG9wZW4ocHJvcHMpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fbW9kZSA9IHByb3BzLm1vZGVcbiAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdFxuICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc09wZW4gIT09IHByb3BzLnN1Ym1pdCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICBcIllvdSBhcmUgYWxyZWFkeSB3b3JraW5nIG9uIG90aGVyIG1lc3NhZ2UuIERvIHlvdSB3YW50IHRvIGRpc2NhcmQgaXQ/XCJcbiAgICAgIClcbiAgICAgIGlmICh0aGlzLl9tb2RlID09IFwiUE9MTFwiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFxuICAgICAgICAgIFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gYSBwb2xsLiBEbyB5b3Ugd2FudCB0byBkaXNjYXJkIGl0P1wiXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hhbmdlRm9ybSA9IGNvbmZpcm0obWVzc2FnZSlcbiAgICAgIGlmIChjaGFuZ2VGb3JtKSB7XG4gICAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdFxuICAgICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21vZGUgPT0gXCJSRVBMWVwiICYmIHByb3BzLm1vZGUgPT0gXCJSRVBMWVwiKSB7XG4gICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcylcbiAgICB9XG4gIH1cblxuICBfcmVhbE9wZW4ocHJvcHMpIHtcbiAgICBpZiAocHJvcHMubW9kZSA9PSBcIlBPTExcIikge1xuICAgICAgbW91bnQoPFBvbGxGb3JtIHsuLi5wcm9wc30gLz4sIFwicG9zdGluZy1tb3VudFwiKVxuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudCg8UG9zdGluZ0NvbXBvbmVudCB7Li4ucHJvcHN9IC8+LCBcInBvc3RpbmctbW91bnRcIilcbiAgICB9XG5cbiAgICB0aGlzLl9wbGFjZWhvbGRlci5hZGRDbGFzcyhcInNsaWRlLWluXCIpXG5cbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgICAgfSxcbiAgICAgIDEwMDBcbiAgICApXG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc0Nsb3NpbmcpIHtcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWVcbiAgICAgIHRoaXMuX3BsYWNlaG9sZGVyLnJlbW92ZUNsYXNzKFwic2xpZGUtaW5cIilcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKFxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdGluZy1tb3VudFwiKVxuICAgICAgICApXG4gICAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlXG4gICAgICB9LCAzMDApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKClcbiIsImltcG9ydCB7IHNob3dTbmFja2JhciwgaGlkZVNuYWNrYmFyIH0gZnJvbSBcIm1pc2Fnby9yZWR1Y2Vycy9zbmFja2JhclwiXG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMFxuY29uc3QgTUVTU0FHRV9TSE9XX0xFTkdUSCA9IDUwMDBcblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIHtcbiAgaW5pdChzdG9yZSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmVcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbFxuICB9XG5cbiAgYWxlcnQobWVzc2FnZSwgdHlwZSkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgICAgdGhpcy5hbGVydChtZXNzYWdlLCB0eXBlKVxuICAgICAgfSwgSElERV9BTklNQVRJT05fTEVOR1RIKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpXG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSlcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGxcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpXG4gICAgfVxuICB9XG5cbiAgLy8gc2hvcnRoYW5kcyBmb3IgbWVzc2FnZSB0eXBlc1xuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgXCJpbmZvXCIpXG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwic3VjY2Vzc1wiKVxuICB9XG5cbiAgd2FybmluZyhtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCBcIndhcm5pbmdcIilcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsIFwiZXJyb3JcIilcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbFxuXG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVW5rbm93biBlcnJvciBoYXMgb2NjdXJlZC5cIilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIG1lc3NhZ2UgPT09IFwiUGVybWlzc2lvbiBkZW5pZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uXCIpXG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcihtZXNzYWdlKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTbmFja2JhcigpXG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSBcInJlZHV4XCJcblxuZXhwb3J0IGNsYXNzIFN0b3JlV3JhcHBlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N0b3JlID0gbnVsbFxuICAgIHRoaXMuX3JlZHVjZXJzID0ge31cbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB7fVxuICB9XG5cbiAgYWRkUmVkdWNlcihuYW1lLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgICB0aGlzLl9yZWR1Y2Vyc1tuYW1lXSA9IHJlZHVjZXJcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGVcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIGNvbWJpbmVSZWR1Y2Vycyh0aGlzLl9yZWR1Y2VycyksXG4gICAgICB0aGlzLl9pbml0aWFsU3RhdGVcbiAgICApXG4gIH1cblxuICBnZXRTdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmVcbiAgfVxuXG4gIC8vIFN0b3JlIEFQSVxuXG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5nZXRTdGF0ZSgpXG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZVdyYXBwZXIoKVxuIiwiLyogZ2xvYmFsIHp4Y3ZibiAqL1xuZXhwb3J0IGNsYXNzIFp4Y3ZibiB7XG4gIGluaXQoaW5jbHVkZSkge1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlXG4gICAgdGhpcy5faXNMb2FkZWQgPSBmYWxzZVxuICB9XG5cbiAgc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgLy8gMC00IHNjb3JlLCB0aGUgbW9yZSB0aGUgc3Ryb25nZXIgcGFzc3dvcmRcbiAgICBpZiAodGhpcy5faXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB6eGN2Ym4ocGFzc3dvcmQsIGlucHV0cykuc2NvcmVcbiAgICB9XG5cbiAgICByZXR1cm4gMFxuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoXCJtaXNhZ28vanMvenhjdmJuLmpzXCIpXG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGluZ1Byb21pc2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpXG4gICAgfVxuICB9XG5cbiAgX2xvYWRpbmdQcm9taXNlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgd2FpdCA9IGZ1bmN0aW9uKHRyaWVzID0gMCkge1xuICAgICAgICB0cmllcyArPSAxXG4gICAgICAgIGlmICh0cmllcyA+IDIwMCkge1xuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHp4Y3ZibiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCh0cmllcylcbiAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5faXNMb2FkZWQgPSB0cnVlXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdhaXQoKVxuICAgIH0pXG4gIH1cblxuICBfbG9hZGVkUHJvbWlzZSgpIHtcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHp4Y3Zibi5qcywgcmVzb2x2ZSBhd2F5IVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKClcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBaeGN2Ym4oKVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tIFwibW9tZW50XCJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIlxuaW1wb3J0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxuaW1wb3J0IEJhbm5lZFBhZ2UgZnJvbSBcIm1pc2Fnby9jb21wb25lbnRzL2Jhbm5lZC1wYWdlXCJcbmltcG9ydCBtaXNhZ28gZnJvbSBcIm1pc2Fnby9pbmRleFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmxldCBzZWxlY3QgPSBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGlja1xufVxuXG5sZXQgUmVkcmF3ZWRCYW5uZWRQYWdlID0gY29ubmVjdChzZWxlY3QpKEJhbm5lZFBhZ2UpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJhbiwgY2hhbmdlU3RhdGUpIHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8UmVkcmF3ZWRCYW5uZWRQYWdlXG4gICAgICAgIG1lc3NhZ2U9e2Jhbi5tZXNzYWdlfVxuICAgICAgICBleHBpcmVzPXtiYW4uZXhwaXJlc19vbiA/IG1vbWVudChiYW4uZXhwaXJlc19vbikgOiBudWxsfVxuICAgICAgLz5cbiAgICA8L1Byb3ZpZGVyPixcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZS1tb3VudFwiKVxuICApXG5cbiAgaWYgKHR5cGVvZiBjaGFuZ2VTdGF0ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBjaGFuZ2VTdGF0ZSkge1xuICAgIGxldCBmb3J1bU5hbWUgPSBtaXNhZ28uZ2V0KFwiU0VUVElOR1NcIikuZm9ydW1fbmFtZVxuICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0dGV4dChcIllvdSBhcmUgYmFubmVkXCIpICsgXCIgfCBcIiArIGZvcnVtTmFtZVxuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbWlzYWdvLmdldChcIkJBTk5FRF9VUkxcIikpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxpc3QsIHJvd1dpZHRoLCBwYWRkaW5nID0gZmFsc2UpIHtcbiAgbGV0IHJvd3MgPSBbXVxuICBsZXQgcm93ID0gW11cblxuICBsaXN0LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJvdy5wdXNoKGVsZW1lbnQpXG4gICAgaWYgKHJvdy5sZW5ndGggPT09IHJvd1dpZHRoKSB7XG4gICAgICByb3dzLnB1c2gocm93KVxuICAgICAgcm93ID0gW11cbiAgICB9XG4gIH0pXG5cbiAgLy8gcGFkIHJvdyB0byByZXF1aXJlZCBsZW5ndGg/XG4gIGlmIChwYWRkaW5nICE9PSBmYWxzZSAmJiByb3cubGVuZ3RoID4gMCAmJiByb3cubGVuZ3RoIDwgcm93V2lkdGgpIHtcbiAgICBmb3IgKGxldCBpID0gcm93Lmxlbmd0aDsgaSA8IHJvd1dpZHRoOyBpKyspIHtcbiAgICAgIHJvdy5wdXNoKHBhZGRpbmcpXG4gICAgfVxuICB9XG5cbiAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICByb3dzLnB1c2gocm93KVxuICB9XG5cbiAgcmV0dXJuIHJvd3Ncbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgbGV0IGlkcyA9IFtdXG4gIHJldHVybiBhLmNvbmNhdChiKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpZHMuaW5kZXhPZihpdGVtLmlkKSA9PT0gLTEpIHtcbiAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb3VudCkge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB0aGlzLl9jb3VudCA9IGNvdW50XG4gIH1cblxuICBjb3VudCgpIHtcbiAgICB0aGlzLl9jb3VudCAtPSAxXG4gICAgaWYgKHRoaXMuX2NvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpXG4gICAgfVxuICB9XG59XG4iLCJjb25zdCBtYXAgPSB7XG4gIFwiJlwiOiBcIiZhbXA7XCIsXG4gIFwiPFwiOiBcIiZsdDtcIixcbiAgXCI+XCI6IFwiJmd0O1wiLFxuICAnXCInOiBcIiZxdW90O1wiLFxuICBcIidcIjogXCImIzAzOTtcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHtcbiAgICByZXR1cm4gbWFwW21dXG4gIH0pXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihieXRlcykge1xuICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpICsgXCIgR0JcIlxuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkgKyBcIiBNQlwiXG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvIDEwMjQpICsgXCIgS0JcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMpICsgXCIgQlwiXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kU2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKVxufVxuIiwiY29uc3QgVVJMX1BBVFRFUk4gPSBuZXcgUmVnRXhwKFxuICBcIl4oaHR0cHM/OlxcXFwvXFxcXC8pPygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18KChcXFxcZHsxLDN9XFxcXC4pezN9XFxcXGR7MSwzfSkpKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPyhcXFxcI1stYS16XFxcXGRfXSopPyRcIixcbiAgXCJpXCJcbilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBVUkxfUEFUVEVSTi50ZXN0KCQudHJpbShzdHIpKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiXG5pbXBvcnQgc3RvcmUgZnJvbSBcIm1pc2Fnby9zZXJ2aWNlcy9zdG9yZVwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKENvbXBvbmVudCwgcm9vdEVsZW1lbnRJZCwgY29ubmVjdGVkID0gdHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKVxuXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz5cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+e2ZpbmFsQ29tcG9uZW50fTwvUHJvdmlkZXI+LFxuXG4gICAgICAgIHJvb3RFbGVtZW50XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpXG4gICAgfVxuICB9XG59XG4iLCJjbGFzcyBPcmRlcmVkTGlzdCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZVxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW11cbiAgfVxuXG4gIGFkZChrZXksIGl0ZW0sIG9yZGVyKSB7XG4gICAgdGhpcy5faXRlbXMucHVzaCh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGl0ZW06IGl0ZW0sXG5cbiAgICAgIGFmdGVyOiBvcmRlciA/IG9yZGVyLmFmdGVyIHx8IG51bGwgOiBudWxsLFxuICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgIH0pXG4gIH1cblxuICBnZXQoa2V5LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9pdGVtc1tpXS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbaV0uaXRlbVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWRcbiAgfVxuXG4gIHZhbHVlcygpIHtcbiAgICB2YXIgdmFsdWVzID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzXG4gIH1cblxuICBvcmRlcih2YWx1ZXNfb25seSkge1xuICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgIHRoaXMuX2l0ZW1zID0gdGhpcy5fb3JkZXIodGhpcy5faXRlbXMpXG4gICAgICB0aGlzLmlzT3JkZXJlZCA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAodmFsdWVzX29ubHkgfHwgdHlwZW9mIHZhbHVlc19vbmx5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXNcbiAgICB9XG4gIH1cblxuICBvcmRlcmVkVmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpXG4gIH1cblxuICBfb3JkZXIodW5vcmRlcmVkKSB7XG4gICAgLy8gSW5kZXggb2YgdW5vcmRlcmVkIGl0ZW1zXG4gICAgdmFyIGluZGV4ID0gW11cbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KVxuICAgIH0pXG5cbiAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgdmFyIG9yZGVyZWQgPSBbXVxuICAgIHZhciBvcmRlcmluZyA9IFtdXG5cbiAgICAvLyBGaXJzdCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3BlY2lmeSB0aGVpciBvcmRlclxuICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgb3JkZXJlZC5wdXNoKGl0ZW0pXG4gICAgICAgIG9yZGVyaW5nLnB1c2goaXRlbS5rZXkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFNlY29uZCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5iZWZvcmUgPT09IFwiX2VuZFwiKSB7XG4gICAgICAgIG9yZGVyZWQucHVzaChpdGVtKVxuICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgIC8vIHVudGlsIHdlIGhpdCBpdGVyYXRpb25zIGxpbWl0IG9yIGZpbmlzaFxuICAgIC8vIG9yZGVyaW5nIGxpc3RcbiAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgIHZhciBpbnNlcnRBdCA9IC0xXG4gICAgICBpZiAob3JkZXJpbmcuaW5kZXhPZihpdGVtLmtleSkgPT09IC0xKSB7XG4gICAgICAgIGlmIChpdGVtLmFmdGVyKSB7XG4gICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgaW5zZXJ0QXQgKz0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmJlZm9yZSkge1xuICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnNlcnRBdCAhPT0gLTEpIHtcbiAgICAgICAgICBvcmRlcmVkLnNwbGljZShpbnNlcnRBdCwgMCwgaXRlbSlcbiAgICAgICAgICBvcmRlcmluZy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0ua2V5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAyMDBcbiAgICB3aGlsZSAoaXRlcmF0aW9ucyA+IDAgJiYgaW5kZXgubGVuZ3RoICE9PSBvcmRlcmluZy5sZW5ndGgpIHtcbiAgICAgIGl0ZXJhdGlvbnMgLT0gMVxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSlcbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXJlZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0XG4iLCJleHBvcnQgZnVuY3Rpb24gaW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShtaW4sIG1heCkge1xuICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoaW50KG1pbiwgbWF4KSlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gaVxuICB9XG5cbiAgcmV0dXJuIGFycmF5XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJlZHV4XCJcbmltcG9ydCB7IFJvdXRlciwgYnJvd3Nlckhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCJcbmltcG9ydCBzdG9yZSBmcm9tIFwibWlzYWdvL3NlcnZpY2VzL3N0b3JlXCJcblxuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhZ2UtbW91bnRcIilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9ucykge1xuICBsZXQgcm91dGVzID0ge1xuICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbCxcbiAgICBjaGlsZFJvdXRlczogW11cbiAgfVxuXG4gIGlmIChvcHRpb25zLnJvb3QpIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBbXG4gICAgICB7XG4gICAgICAgIHBhdGg6IG9wdGlvbnMucm9vdCxcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24obmV4dFN0YXRlLCByZXBsYWNlU3RhdGUpIHtcbiAgICAgICAgICByZXBsYWNlU3RhdGUobnVsbCwgb3B0aW9ucy5wYXRoc1swXS5wYXRoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocylcbiAgfSBlbHNlIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBvcHRpb25zLnBhdGhzXG4gIH1cblxuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgIDxSb3V0ZXIgcm91dGVzPXtyb3V0ZXN9IGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fSAvPlxuICAgIDwvUHJvdmlkZXI+LFxuICAgIHJvb3RFbGVtZW50XG4gIClcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpXG4gICAgY29weS5wdXNoKHZhbHVlKVxuICAgIHJldHVybiBjb3B5XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKVxuICAgIGNvcHkucHVzaCh2YWx1ZSlcbiAgICByZXR1cm4gY29weVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGkgIT09IHZhbHVlXG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcpIHtcbiAgc3RyaW5nID0gKHN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcbiAgc3ViU3RyaW5nID0gKHN1YlN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKClcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMFxuXG4gIGxldCBuID0gMFxuICBsZXQgcG9zID0gMFxuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGhcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKHN1YlN0cmluZywgcG9zKVxuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgbiArPSAxXG4gICAgICBwb3MgKz0gc3RlcFxuICAgIH0gZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuXG59XG4iLCJjb25zdCBFTUFJTCA9IC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaVxuY29uc3QgVVNFUk5BTUUgPSBuZXcgUmVnRXhwKFwiXlswLTlhLXpdKyRcIiwgXCJpXCIpXG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IGdldHRleHQoXCJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLlwiKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWRUZXJtc09mU2VydmljZShtZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gZ2V0dGV4dChcIllvdSBoYXZlIHRvIGFjY2VwdCB0aGUgdGVybXMgb2Ygc2VydmljZS5cIilcbiAgcmV0dXJuIHJlcXVpcmVkKG1lc3NhZ2UgfHwgZXJyb3IpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlZFByaXZhY3lQb2xpY3kobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IGdldHRleHQoXCJZb3UgaGF2ZSB0byBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5LlwiKVxuICByZXR1cm4gcmVxdWlyZWQobWVzc2FnZSB8fCBlcnJvcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVtYWlsKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFFTUFJTC50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2UgfHwgZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkxlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gXCJcIlxuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIGxpbWl0VmFsdWVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgICByZXR1cm5NZXNzYWdlLFxuICAgICAgICB7XG4gICAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gXCJcIlxuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aFxuXG4gICAgaWYgKGxlbmd0aCA+IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBtb3N0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbW9zdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBsaW1pdFZhbHVlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgcmV0dXJuTWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1pbkxlbmd0aChsZW5ndGhNaW4pIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNaW4pIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICBsZW5ndGhNaW5cbiAgICApXG4gIH1cbiAgcmV0dXJuIG1pbkxlbmd0aChsZW5ndGhNaW4sIG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1heExlbmd0aChsZW5ndGhNYXgpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNYXgpIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyLlwiLFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMuXCIsXG4gICAgICBsZW5ndGhNYXhcbiAgICApXG4gIH1cbiAgcmV0dXJuIG1heExlbmd0aChsZW5ndGhNYXgsIG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZUNvbnRlbnQoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghVVNFUk5BTUUudGVzdCgkLnRyaW0odmFsdWUpKSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXG4gICAgICAgIFwiVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBsYXRpbiBhbHBoYWJldCBsZXR0ZXJzIGFuZCBkaWdpdHMuXCJcbiAgICAgIClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkTWluTGVuZ3RoKGxpbWl0VmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdmFsdWUubGVuZ3RoXG5cbiAgICBpZiAobGVuZ3RoIDwgbGltaXRWYWx1ZSkge1xuICAgICAgY29uc3QgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgbGltaXRWYWx1ZVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIHJldHVybk1lc3NhZ2UsXG4gICAgICAgIHtcbiAgICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl19
